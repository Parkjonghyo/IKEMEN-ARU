; ヒットスパーク  赤
[Statedef 6000]
Type = A
Physics = N
Velset = 0,0
SprPriority = ifelse(Root,StateNo=4002,12,5)
Anim = IfElse((Parent,Var(26)=3||Root,Var(26)=3),10030,10010)

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = -20,20
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = -20,20
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
Trigger1 = Time = 0
X = -10+Var(3)
Y = Var(4)

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 0,359
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = VarAdd
Trigger1 = Parent,Var(26) != 3 && Root,Var(26) != 3
Trigger1 = Time >= 2
FV = 1
Value = IfElse(IsHelper(6000),0.25,IfElse(IsHelper(6001),0.35,0.45))

[State -1]
Type = VarAdd
Trigger1 = Parent,Var(26) != 3 && Root,Var(26) != 3
Trigger1 = Time >= 2
FV = 2
Value = IfElse(IsHelper(6000),-0.0415,IfElse(IsHelper(6001),-0.06249,-0.083329))

[State -1]
Type = VarAdd
Trigger1 = Parent,Var(26) = 3 || Root,Var(26) = 3
Trigger1 = Time >= 2
FV = 1
Value = IfElse(IsHelper(6000),0.70,IfElse(IsHelper(6001),1.00,1.30))

[State -1]
Type = VarAdd
Trigger1 = Parent,Var(26) = 3 || Root,Var(26) = 3
Trigger1 = Time >= 2
FV = 2
Value = IfElse(IsHelper(6000),-0.083329,IfElse(IsHelper(6001),-0.1041,-0.13))

[State -1]
Type = AngleDraw
Trigger1 = Parent,Var(26) != 3 && Root,Var(26) != 3
Trigger1 = IsHelper(6000)
Scale = 0.50+Fvar(1),0.50+FVar(2)

[State -1]
Type = AngleDraw
Trigger1 = Parent,Var(26) != 3 && Root,Var(26) != 3
Trigger1 = IsHelper(6001)
Scale = 0.75+Fvar(1),0.75+FVar(2)

[State -1]
Type = AngleDraw
Trigger1 = Parent,Var(26) != 3 && Root,Var(26) != 3
Trigger1 = IsHelper(6002)
Scale = 1.00+Fvar(1),1.00+FVar(2)

[State -1]
Type = AngleDraw
Trigger1 = Parent,Var(26) = 3 || Root,Var(26) = 3
Trigger1 = IsHelper(6000)
Scale = 1.00+Fvar(1),1.00+FVar(2)

[State -1]
Type = AngleDraw
Trigger1 = Parent,Var(26) = 3 || Root,Var(26) = 3
Trigger1 = IsHelper(6001)
Scale = 1.25+Fvar(1),1.25+FVar(2)

[State -1]
Type = AngleDraw
Trigger1 = Parent,Var(26) = 3 || Root,Var(26) = 3
Trigger1 = IsHelper(6002)
Scale = 1.50+Fvar(1),1.50+FVar(2)

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = Var(3)

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6005
ID = 6005
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = NumHelper(6006) = 0
Trigger1 = Time = 0
V = 1
Range = 0,1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = NumHelper(6006) = 0
Trigger1 = Var(1) = 1
Trigger1 = Time = 0
StateNo = 6005
ID = 6006
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 13
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ヒットスパーク  青
[Statedef 6003]
Type = A
Physics = N
Velset = 0,0
SprPriority = 5
Anim = IfElse((Parent,Var(26)=3||Root,Var(26)=3),10040,10020)

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = -20,20
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = -20,20
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
Trigger1 = IsHelper(6003)
Trigger1 = Time = 0
X = -10+Var(3)
Y = Var(4)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6003)
Trigger1 = Time = 0
V = 3
Range = 0,359
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6004)
Trigger1 = Time = 0
V = 3
Range = Helper(6003),Var(3)+10,Helper(6003),Var(3)+339
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = VarAdd
Trigger1 = Parent,Var(26) != 3 && Root,Var(26) != 3
Trigger1 = Time >= 2
FV = 1
Value = 0.325

[State -1]
Type = VarAdd
Trigger1 = Parent,Var(26) != 3 && Root,Var(26) != 3
Trigger1 = Time >= 2
FV = 2
Value = -0.06249

[State -1]
Type = VarAdd
Trigger1 = Parent,Var(26) = 3 || Root,Var(26) = 3
Trigger1 = Time >= 2
FV = 1
Value = 1.00

[State -1]
Type = VarAdd
Trigger1 = Parent,Var(26) = 3 || Root,Var(26) = 3
Trigger1 = Time >= 2
FV = 2
Value = -0.1041

[State -1]
Type = AngleDraw
Trigger1 = Parent,Var(26) != 3 && Root,Var(26) != 3
Trigger1 = 1
Scale = 0.75+FVar(1),0.75+FVar(2)

[State -1]
Type = AngleDraw
Trigger1 = Parent,Var(26) = 3 || Root,Var(26) = 3
Trigger1 = 1
Scale = 1.25+FVar(1),1.25+FVar(2)

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = Var(3)

[State -1]
Type = Helper
Trigger1 = IsHelper(6003)
Trigger1 = Time = 0
StateNo = 6003
ID = 6004
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = IsHelper(6003)
Trigger1 = Time = 0
StateNo = 6007
ID = 6007
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 13
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ヒットスパーク　赤  火花
[Statedef 6005]
Type = A
Physics = N
Velset = 0,0
SprPriority = ifelse(Root,StateNo=4002,12,5)
Anim = 10015

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6005)
Trigger1 = Time = 0
V = 4
Range = 0,359
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6006)
Trigger1 = Time = 0
V = 4
Range = Helper(6005),Var(4)+45,Helper(6005),Var(4)+314
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 10
V = 7
Value = 23

[State -1]
Type = Trans
Trigger1 = Time = [0,9]
Trans = Add

[State -1]
Type = Trans
Trigger1 = Time >= 10
Trans = AddAlpha
Alpha = 255-Var(7),255

[State -1]
Type = AngleDraw
Trigger1 = Time = [0,20]
Scale = 0.5,0.5

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = Var(4)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 20
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ヒットスパーク  青　火花
[Statedef 6007]
Type = A
Physics = N
Velset = 0,0
SprPriority = 5
Anim = 10025

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = 0,359
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 10
V = 7
Value = 23

[State -1]
Type = Trans
Trigger1 = Time = [0,9]
Trans = Add

[State -1]
Type = Trans
Trigger1 = Time >= 10
Trans = AddAlpha
Alpha = 255-Var(7),255

[State -1]
Type = AngleDraw
Trigger1 = Time = [0,20]
Scale = 0.5,0.5

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = Var(4)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 20
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; アーマーエフェクト
[Statedef 7500]
Type = A
Physics = N
Velset = 0,0
SprPriority = 5
Anim = 7500

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarAdd
Trigger1 = Time >= 3
V = 2
Value = 8

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add
Alpha = 255,255

[State -1]
Type = PalFx
Trigger1 = 1
Time = 1
Add = 0-Var(2),-255,-255
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 3
FV = 1
Value = 0.1

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.50+Fvar(1),0.50+Fvar(1)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 19
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 円形エフェクト
[Statedef 7600]
Type = A
Physics = N
Velset = 0,0
SprPriority = 5
Anim = 7500

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarAdd
Trigger1 = IsHelper(7600) || IsHelper(7601) || IsHelper(7602)
Trigger1 = Time >= 2
V = 2
Value = 4

[State -1]
Type = VarAdd
Trigger1 = IsHelper(7610) || IsHelper(7611) || IsHelper(7612)
Trigger1 = Time >= 1
V = 2
Value = 3

[State -1]
Type = VarAdd
Trigger1 = IsHelper(7620) || IsHelper(7621) || IsHelper(7622)
Trigger1 = Time >= 1
V = 2
Value = 3

[State -1]
Type = VarAdd
Trigger1 = IsHelper(7630) || IsHelper(7631) || IsHelper(7632)
Trigger1 = Time >= 3
V = 2
Value = 3

[State -1]
Type = VarAdd
Trigger1 = IsHelper(7640) || IsHelper(7641) || IsHelper(7642)
Trigger1 = Time >= 3
V = 2
Value = 3

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add
Alpha = 255,255

[State -1]
Type = PalFx
Trigger1 = IsHelper(7600) || IsHelper(7601) || IsHelper(7602)
Time = 1
Add = 0-Var(2),0-Var(2),0-Var(2)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = IsHelper(7610) || IsHelper(7611) || IsHelper(7612)
Time = 1
Add = -100-Var(2),0-Var(2),-50-Var(2)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = IsHelper(7620) || IsHelper(7621) || IsHelper(7622)
Time = 1
Add = 0-Var(2),0-Var(2),-100-Var(2)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = IsHelper(7630) || IsHelper(7631) || IsHelper(7632)
Time = 1
Add = -100-Var(2),-25-Var(2),0-Var(2)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = IsHelper(7640) || IsHelper(7641) || IsHelper(7642)
Time = 1
Add = 0-Var(2),0-100-Var(2),0-Var(2)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = 0,359

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = -10,10

[State -1]
Type = VarAdd
Trigger1 = Time > 0
V = 4
Value = 2*IfElse(Var(5)=0,1,Var(5)/2)

[State -1]
Type = VarAdd
Trigger1 = Time >= 2
FV = 1
Value = 0.05

[State -1]
Type = VarAdd
TriggerAll = Time >= 2
Trigger1 = IsHelper(7600) || IsHelper(7602)
Trigger2 = IsHelper(7610) || IsHelper(7612)
Trigger3 = IsHelper(7620) || IsHelper(7622)
Trigger4 = IsHelper(7630) || IsHelper(7632)
Trigger5 = IsHelper(7640) || IsHelper(7642)
FV = 2
Value = -0.0215

[State -1]
Type = VarAdd
Trigger1 = IsHelper(7601) || IsHelper(7611) || IsHelper(7621) || IsHelper(7631) || IsHelper(7641)
Trigger1 = Time >= 2
FV = 2
Value = 0.0215

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(7600) || IsHelper(7610) || IsHelper(7620) || IsHelper(7630) || IsHelper(7640)
Scale = 0.50+Fvar(1),0.50+Fvar(2)

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(7601) || IsHelper(7611) || IsHelper(7621) || IsHelper(7631) || IsHelper(7641)
Scale = 0.50+Fvar(1),0.00+Fvar(2)

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(7602) || IsHelper(7612) || IsHelper(7622) || IsHelper(7632) || IsHelper(7642)
Scale = 0.50+Fvar(1),0.215+Fvar(2)

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(4)

[State -1]
Type = Explod
TriggerAll = Var(0)%10 = 0
TriggerAll = Time = 0
Trigger1 = IsHelper(7600)
Anim = 6505
Scale = 0.50+Fvar(1),0.50+Fvar(1)
RemoveTime = 26
Ownpal = 0
IgnoreHitPause = 1
SprPriority = 5
ID = 7600

[State -1]
Type = Explod
TriggerAll = Var(0)%10 = 0
TriggerAll = Time = 0
Trigger1 = IsHelper(7610)
Anim = 6505
Scale = 0.50+Fvar(1),0.50+Fvar(1)
RemoveTime = 26
Ownpal = 0
IgnoreHitPause = 1
SprPriority = 5
ID = 7610

[State -1]
Type = Explod
TriggerAll = Var(0)%10 = 0
TriggerAll = Time = 0
Trigger1 = IsHelper(7620)
Anim = 6505
Scale = 0.50+Fvar(1),0.50+Fvar(1)
RemoveTime = 26
Ownpal = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
SprPriority = 5
ID = 7620

[State -1]
Type = Explod
TriggerAll = Var(0)%10 = 0
TriggerAll = Time = 0
Trigger1 = IsHelper(7630)
Anim = 6505
Scale = 0.50+Fvar(1),0.50+Fvar(1)
RemoveTime = 26
Ownpal = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
SprPriority = 5
ID = 7630

[State -1]
Type = Explod
TriggerAll = Var(0)%10 = 0
TriggerAll = Time = 0
Trigger1 = IsHelper(7640)
Anim = 6505
Scale = 0.50+Fvar(1),0.50+Fvar(1)
RemoveTime = 26
Ownpal = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
SprPriority = 5
ID = 7640

[State -1]
Type = ModifyExplod
Trigger1 = 1
Scale = 0.50+Fvar(1),0.50+Fvar(1)
ID = 7600

[State -1]
Type = ModifyExplod
Trigger1 = 1
Scale = 0.50+Fvar(1),0.50+Fvar(1)
ID = 7610

[State -1]
Type = ModifyExplod
Trigger1 = 1
Scale = 0.50+Fvar(1),0.50+Fvar(1)
ID = 7620

[State -1]
Type = ModifyExplod
Trigger1 = 1
Scale = 0.50+Fvar(1),0.50+Fvar(1)
ID = 7630

[State -1]
Type = ModifyExplod
Trigger1 = 1
Scale = 0.50+Fvar(1),0.50+Fvar(1)
ID = 7640

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 26
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;相殺ヘルパー
[Statedef 9000]
Type = S
Physics = N
SprPriority = 4

[State -1]
Type = BindToParent
Trigger1 = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9000)
Trigger1 = Time = 0
Value = 9000
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9001)
Trigger1 = Time = 0
Value = 9001
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9002)
Trigger1 = Time = 0
Value = 9002
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9003)
Trigger1 = Time = 0
Value = 9003
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9004)
Trigger1 = Time = 0
Value = 9004
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9005)
Trigger1 = Time = 0
Value = 9005
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9006)
Trigger1 = Time = 0
Value = 9006
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9007)
Trigger1 = Time = 0
Value = 9007
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9008)
Trigger1 = Time = 0
Value = 9008
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9009)
Trigger1 = Time = 0
Value = 9009
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9010)
Trigger1 = Time = 0
Value = 9010
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ReversalDef
Trigger1 = 1
Reversal.Attr =  SCA, NA,SA,HA,NP,SP,HP
Pausetime = 2,2
NumHits = 0
SparkNo = -1
Guard.SparkNo = -1
GetPower = IfElse(FVar(16)=0,0,20),0
GivePower = 20,0
SparkXY = 0,0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = MoveHit
StateNo = 956
ID = 956
Pos = Ceil(P2Dist X/2),-50
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = MoveHit
Value = s901,IfElse((Parent,Var(26)=[2,3]),0,10)+Random%2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 0
PauseMoveTime = 0

[State -1]
Type = ParentVarSet
Trigger1 = MoveHit
V = 2
Value = 1402
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Pause
Trigger1 = MoveHit = 1
Time = 8
MoveTime = 8
IgnoreHitPause = 1

[State -1]
Type = DestroySelf
Trigger1 = AnimTime = 0
Trigger2 = MoveHit = 2
Trigger3 = Parent,MoveType = H

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9000)
Trigger1 = Parent,StateNo != 210

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9001)
Trigger1 = Parent,StateNo != 220

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9002)
Trigger1 = Parent,StateNo != 410

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9003)
Trigger1 = Parent,StateNo != 230

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9004)
Trigger1 = Parent,StateNo != 1000

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9005)
Trigger1 = Parent,StateNo != 1050

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9006)
Trigger1 = Parent,StateNo != 1200 && Parent,StateNo != 1250

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9007)
Trigger1 = Parent,StateNo != 1200 && Parent,StateNo != 1250 && Parent,StateNo != 2200

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9008)
Trigger1 = Parent,StateNo != 2200

;---------------------------------------------------------------------------
;部分無敵ヘルパー
[Statedef 9500]
Type = S
Physics = N
SprPriority = 4

[State -1]
Type = BindToParent
Trigger1 = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9500)
Trigger1 = Time = 0
Value = 9500
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9501)
Trigger1 = Time = 0
Value = 9501
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = AnimTime = 0
Trigger2 = Parent,MoveType = H

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9500)
Trigger1 = Parent,StateNo != 230

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9501)
Trigger1 = Parent,StateNo != 1110

;---------------------------------------------------------------------------
;シールドヘルパー　残像
[Statedef 901]
Type = A
Physics = N
VelSet = 0.5,-0.5
SprPriority = 5

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(901)
Trigger1 = Time = 0
Value = 901

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(911)
Trigger1 = Time = 0
Value = 911

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(921)
Trigger1 = Time = 0
Value = 921

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(931)
Trigger1 = Time = 0
Value = 931

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarAdd
Trigger1 = 1
FV = 1
Value = 0.002
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 1.00+Fvar(1),1.00+FVar(1)

[State -1]
Type = VarAdd
Trigger1 = 1
V = 7
Value = 20
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = 1
Time = 3
Add = 0,0,0
Mul = 255-var(7),255-var(7),255-var(7)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; シールドえふぇくと１
[Statedef 956]
Type = A
Physics = N
VelSet = 0,0
SprPriority = 6
Anim = 956

[State -1, NotHitBy]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 2
Range = -10,10
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Var(1) < 4
Trigger1 = Time = 1
Anim = 958
ID = 958
Scale = 0.5,0.5
Pos = 0,0
Random = 40,20
Vel = Var(2)/5
Facing = 1*IfElse(Var(3)=0,1,-1)
VFacing = 1*IfElse(Var(4)=0,1,-1)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; シールドえふぇくと２
[Statedef 957]
Type = A
Physics = N
VelSet = 0,0
SprPriority = 6

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = IfElse(IsHelper(957),957,959)
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,359
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = Var(1)

[State -1, NotHitBy]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1, AssertSpacial]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, DestroySelf]
Type = DestroySelf
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ＥＸ必殺技エフェクト	青1
[StateDef 6010]
Type = A
Physics = N
Anim = 10021
SprPriority = 4
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 255,255

[State -1]
Type = VarAdd
Trigger1 = Time = [1,22]
FV  = 1
Value = -0.008

[State -1]
Type = VarAdd
Trigger1 = Time = [1,22]
FV = 2
Value = 0.1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 1,5

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = 1,5

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.6+Var(3)/10+FVar(1),0.6+Var(4)/10+FVar(2)

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 43
Range = 0,360

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(43)

[State -1]
Type = VarSet
Trigger1 = Time = 30
V = 6
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = [0,10]
Trigger2 = Time >= 30
V = 6
Value = 26

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s3000, IfElse(Parent,Var(26)=2||Root,Var(26)=2,0,10)

[State -1]
Type = Helper
Trigger1 = Time = 1
StateNo = 6011
ID = 6012
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 2
StateNo = 6011
ID = 6013
Pos = 0,0
PosType  = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 3
StateNo  = 6011
ID = 6014
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 1
StateNo = 6011
ID = 6011
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 2
StateNo = 6011
ID = 6012
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 3
StateNo = 6011
ID = 6013
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6011
ID = 6014
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 4
StateNo = 6011
ID = 6013
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 5
StateNo = 6011
ID = 6014
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time = [1,3]
Trigger2 = Time = [10,15]
FV  = 3
Value = 0.05

[State -1]
Type = VarAdd
Trigger1 = Time = [4,9]
Trigger2 = Time = [16,32]
FV  = 3
Value = -0.05

[State -1]
Type = Explod
Trigger1 = Time = 0
ID = 10000
Anim = 10000
Ownpal = 1
Scale = 0.725+FVar(3),0.725+FVar(3)
SprPriority = 5
RemoveTime = 32
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [1,32]
ID = 10000
Scale = 0.725+FVar(3),0.725+FVar(3)
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 23
FV  = 4
Value = 0.0175

[State -1]
Type = Explod
Trigger1 = IsHelper(10001)
Trigger1 = Time = 0
ID = 10001
Anim = 10001
Pos = 0,240
PosType = Back
Ownpal = 1
Scale = 0.586+FVar(4),0.586+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10002)
Trigger1 = Time = 0
ID = 10001
Anim = 10002
Pos = 0,240
PosType = Back
Ownpal = 1
Scale = 0.586+FVar(4),0.586+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10003)
Trigger1 = Time = 0
ID = 10001
Anim = 10003
Pos = 10,240
PosType = Back
Ownpal = 1
Scale = 0.586+FVar(4),0.586+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [1,50]
ID = 10001
Scale = 0.586+FVar(4),0.586+FVar(4)
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = BGPalFX
Trigger1 = Time = [1,29]
Add = 0-Var(6),0-Var(6),0-Var(6)
Time = 1

[State -1]
Type = BGPalFX
Trigger1 = Time = [30,35]
Trigger1 = Parent,StateNo != 2000
Add = Ceil(-255+Var(6)*1.5),Ceil(-255+Var(6)*1.5),Ceil(-255+Var(6)*1.5)
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time <= 26
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 27
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 50

;---------------------------------------------------------------------------
; ＥＸ必殺技エフェクト	青2
[StateDef 6011]
Type = A
Physics = N
Anim = 10021
SprPriority = 4
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 255,255

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6011)
Trigger1 = Time = [1,22]
FV  = 1
Value = -0.008

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6011)
Trigger1 = Time = [1,22]
FV = 2
Value = 0.1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 1,5

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = 1,5

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6011)
Trigger1 = 1
Scale = 0.6+Var(3)/10+FVar(1),0.6+Var(4)/10+FVar(2)

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6012)
Trigger1 = Time = [1,22]
FV = 1
Value = -0.0075

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6012)
Trigger1 = Time = [1,22]
FV = 2
Value = 0.05

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6012)
Trigger1 = 1
Scale = 0.3+Var(3)/10+FVar(1),1.8+Var(4)/10+FVar(2)

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6013)
Trigger1 = Time = [1,22]
FV = 1
Value = -0.02

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6013)
Trigger1 = Time = [1,22]
FV = 2
Value = 0.15

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6013)
Trigger1 = 1
Scale = 0.6+Var(3)/10+FVar(1),0.6+Var(4)/10-FVar(2)

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6014)
Trigger1 = Time = [1,22]
FV = 1
Value = -0.005

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6014)
Trigger1 = Time = [1,22]
FV = 2
Value = 0.4

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6014)
Trigger1 = 1
Scale = 0.3+Var(3)/10+FVar(1),1.8+Var(4)/10-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6011) || IsHelper(6012)
Trigger1 = Time = 0
V = 43
Range = 0,179

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6013) || IsHelper(6014)
Trigger1 = Time = 0
V = 43
Range = 180,359

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(43)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 26

;---------------------------------------------------------------------------
; ＥＸ必殺技エフェクト	青3
[StateDef 6015]
Type = A
Physics = N
Anim = 10005
SprPriority = 4
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = PalFx
Trigger1 = 1
Time = 1
Add = -150,-150,0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 11
FV  = 1
Value = 1.0

[State -1]
Type = VarAdd
Trigger1 = Time = [12,35]
FV  = 1
Value = 0.01

[State -1]
Type = VarSet
Trigger1 = Time = 11
FV  = 2
Value = 1.0

[State -1]
Type = VarAdd
Trigger1 = Time = [12,35]
FV  = 2
Value = 0.075

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.0+FVar(1),0.0+FVar(1)

[State -1]
Type = VarSet
Trigger1 = Time = 30
V = 6
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = [0,10]
Trigger2 = Time >= 30
V = 6
Value = 26

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s3000, 0

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 6016
ID = 6012
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 6016
ID = 6013
Pos = 0,0
PosType  = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo  = 6016
ID = 6014
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo  = 6016
ID = 6011
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo  = 6016
ID = 6012
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6016
ID = 6011
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6016
ID = 6012
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6016
ID = 6013
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6016
ID = 6014
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 6016
ID = 6013
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 6016
ID = 6014
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 11
ID = 10000
Anim = 10005
Ownpal = 0
Scale = 0.0+FVar(2),0.0+FVar(2)
SprPriority = 5
RemoveTime = 25
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [12,35]
ID = 10000
Scale = 0.0+FVar(2),0.0+FVar(2)
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 23
FV  = 4
Value = 0.0175

[State -1]
Type = Explod
Trigger1 = IsHelper(10001)
Trigger1 = Time = 0
ID = 10001
Anim = 10001
Pos = 0,240
PosType = Back
Ownpal = 1
Scale = 0.586+FVar(4),0.586+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10002)
Trigger1 = Time = 0
ID = 10001
Anim = 10002
Pos = 0,240
PosType = Back
Ownpal = 1
Scale = 0.586+FVar(4),0.586+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10003)
Trigger1 = Time = 0
ID = 10001
Anim = 10003
Pos = 10,240
PosType = Back
Ownpal = 1
Scale = 0.586+FVar(4),0.586+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [1,50]
ID = 10001
Scale = 0.586+FVar(4),0.586+FVar(4)
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = BGPalFX
Trigger1 = Time = [1,29]
Add = 0-Var(6),0-Var(6),0-Var(6)
Time = 1

[State -1]
Type = BGPalFX
Trigger1 = Time = [30,35]
Trigger1 = Parent,StateNo != 2000
Add = Ceil(-255+Var(6)*1.5),Ceil(-255+Var(6)*1.5),Ceil(-255+Var(6)*1.5)
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time <= 35
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 36
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 50

;---------------------------------------------------------------------------
; ＥＸ必殺技エフェクト	青4
[StateDef 6016]
Type = A
Physics = N
Anim = 10140
SprPriority = 4
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 255,255

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6011)
Trigger1 = Time = 0
V = 2
Range = 0,6

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6011)
Trigger1 = Time = [1,11]
FV = 2
Value = 2.4

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6011)
Trigger1 = 1
Scale = 0.30+Var(2)/10,30.0-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6012)
Trigger1 = Time = 0
V = 2
Range = 0,6

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6012)
Trigger1 = Time = [1,11]
FV = 2
Value = 2.1

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6012)
Trigger1 = 1
Scale = 0.30+Var(2)/10,27.0-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6013)
Trigger1 = Time = 0
V = 2
Range = 0,6

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6013)
Trigger1 = Time = [1,11]
FV = 2
Value = 3.0

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6013)
Trigger1 = 1
Scale = 0.35-Var(2)/10,36.0-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6014)
Trigger1 = Time = 0
V = 2
Range = 0,6

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6014)
Trigger1 = Time = [1,11]
FV = 2
Value = 2.7

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6014)
Trigger1 = 1
Scale = 0.35-Var(2)/10,33.0-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6011)
Trigger1 = Time = 0
V = 43
Range = 0,89

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6012)
Trigger1 = Time = 0
V = 43
Range = 90,179

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6013)
Trigger1 = Time = 0
V = 43
Range = 180,269

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6014)
Trigger1 = Time = 0
V = 43
Range = 270,359

[State -1]
Type = VarRandom
Trigger1 = Time = 1
V = 44
Range = -2,2

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = Var(43)

[State -1]
Type = AngleAdd
Trigger1 = Time >= 1
Value = -Var(44)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 11

;---------------------------------------------------------------------------
; ＥＸ必殺技エフェクト	赤1
[StateDef 6020]
Type = A
Physics = N
Anim = 10011
SprPriority = 5
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 255,255

[State -1]
Type = VarAdd
Trigger1 = Time = [1,22]
FV  = 1
Value = -0.008

[State -1]
Type = VarAdd
Trigger1 = Time = [1,22]
FV = 2
Value = 0.1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 1,5

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = 1,5

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.6+Var(3)/10+FVar(1),0.6+Var(4)/10+FVar(2)

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 43
Range = 0,360

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(43)

[State -1]
Type = VarSet
Trigger1 = Time = 30
V = 6
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = [0,10]
Trigger2 = Time >= 30
V = 6
Value = 26

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s3000, IfElse(Parent,Var(26)=2||Root,Var(26)=2,0,10)

[State -1]
Type = Helper
Trigger1 = Time = 1
StateNo = 6021
ID = 6022
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 2
StateNo = 6021
ID = 6023
Pos = 0,0
PosType  = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 3
StateNo  = 6021
ID = 6024
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 1
StateNo = 6021
ID = 6021
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 2
StateNo = 6021
ID = 6022
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 3
StateNo = 6021
ID = 6023
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6021
ID = 6024
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 4
StateNo = 6021
ID = 6023
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 5
StateNo = 6021
ID = 6024
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time = [1,3]
Trigger2 = Time = [10,15]
FV  = 3
Value = 0.05

[State -1]
Type = VarAdd
Trigger1 = Time = [4,9]
Trigger2 = Time = [16,32]
FV  = 3
Value = -0.05

[State -1]
Type = Explod
Trigger1 = Time = 0
ID = 10000
Anim = 10000
Ownpal = 1
Scale = 0.725+FVar(3),0.725+FVar(3)
SprPriority = 5
RemoveTime = 32
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [1,32]
ID = 10000
Scale = 0.725+FVar(3),0.725+FVar(3)
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 23
FV  = 4
Value = 0.0175

[State -1]
Type = Explod
Trigger1 = IsHelper(10001)
Trigger1 = Time = 0
ID = 10001
Anim = 10001
Pos = 0,240
PosType = Back
Ownpal = 1
Scale = 0.586+FVar(4),0.586+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10002)
Trigger1 = Time = 0
ID = 10001
Anim = 10002
Pos = 0,240
PosType = Back
Ownpal = 1
Scale = 0.586+FVar(4),0.586+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10003)
Trigger1 = Time = 0
ID = 10001
Anim = 10003
Pos = 10,240
PosType = Back
Ownpal = 1
Scale = 0.586+FVar(4),0.586+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [1,50]
ID = 10001
Scale = 0.586+FVar(4),0.586+FVar(4)
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = BGPalFX
Trigger1 = Time = [1,29]
Add = 0-Var(6),0-Var(6),0-Var(6)
Time = 1

[State -1]
Type = BGPalFX
Trigger1 = Time = [30,35]
Add = Ceil(-255+Var(6)*1.5),Ceil(-255+Var(6)*1.5),Ceil(-255+Var(6)*1.5)
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time <= 26
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 27
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 50

;---------------------------------------------------------------------------
; ＥＸ必殺技エフェクト	赤2
[StateDef 6021]
Type = A
Physics = N
Anim = 10011
SprPriority = 4
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 255,255

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6021)
Trigger1 = Time = [1,22]
FV  = 1
Value = -0.008

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6021)
Trigger1 = Time = [1,22]
FV = 2
Value = 0.1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 1,5

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = 1,5

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6021)
Trigger1 = 1
Scale = 0.6+Var(3)/10+FVar(1),0.6+Var(4)/10+FVar(2)

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6022)
Trigger1 = Time = [1,22]
FV = 1
Value = -0.0075

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6022)
Trigger1 = Time = [1,22]
FV = 2
Value = 0.05

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6022)
Trigger1 = 1
Scale = 0.3+Var(3)/10+FVar(1),1.8+Var(4)/10+FVar(2)

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6023)
Trigger1 = Time = [1,22]
FV = 1
Value = -0.02

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6023)
Trigger1 = Time = [1,22]
FV = 2
Value = 0.15

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6023)
Trigger1 = 1
Scale = 0.6+Var(3)/10+FVar(1),0.6+Var(4)/10-FVar(2)

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6024)
Trigger1 = Time = [1,22]
FV = 1
Value = -0.005

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6024)
Trigger1 = Time = [1,22]
FV = 2
Value = 0.4

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6024)
Trigger1 = 1
Scale = 0.3+Var(3)/10+FVar(1),1.8+Var(4)/10-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6021) || IsHelper(6022)
Trigger1 = Time = 0
V = 43
Range = 0,179

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6023) || IsHelper(6024)
Trigger1 = Time = 0
V = 43
Range = 180,359

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(43)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 26

;---------------------------------------------------------------------------
; ＥＸ必殺技エフェクト	赤3
[StateDef 6025]
Type = A
Physics = N
Anim = 10005
SprPriority = 4
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = PalFx
Trigger1 = 1
Time = 1
Add = 0,-150,-150
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 11
FV  = 1
Value = 1.0

[State -1]
Type = VarAdd
Trigger1 = Time = [12,35]
FV  = 1
Value = 0.01

[State -1]
Type = VarSet
Trigger1 = Time = 11
FV  = 2
Value = 1.0

[State -1]
Type = VarAdd
Trigger1 = Time = [12,35]
FV  = 2
Value = 0.075

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.0+FVar(1),0.0+FVar(1)

[State -1]
Type = VarSet
Trigger1 = Time = 30
V = 6
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = [0,10]
Trigger2 = Time >= 30
V = 6
Value = 26

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s3000, 0

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 6026
ID = 6022
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 6026
ID = 6023
Pos = 0,0
PosType  = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo  = 6026
ID = 6024
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo  = 6026
ID = 6021
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo  = 6026
ID = 6022
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6026
ID = 6021
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6026
ID = 6022
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6026
ID = 6023
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6026
ID = 6024
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 6026
ID = 6023
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 6026
ID = 6024
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 11
ID = 10000
Anim = 10005
Ownpal = 0
Scale = 0.0+FVar(2),0.0+FVar(2)
SprPriority = 5
RemoveTime = 25
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [12,35]
ID = 10000
Scale = 0.0+FVar(2),0.0+FVar(2)
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 23
FV  = 4
Value = 0.0175

[State -1]
Type = Explod
Trigger1 = IsHelper(10001)
Trigger1 = Time = 0
ID = 10001
Anim = 10001
Pos = 0,240
PosType = Back
Ownpal = 1
Scale = 0.586+FVar(4),0.586+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10002)
Trigger1 = Time = 0
ID = 10001
Anim = 10002
Pos = 0,240
PosType = Back
Ownpal = 1
Scale = 0.586+FVar(4),0.586+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10003)
Trigger1 = Time = 0
ID = 10001
Anim = 10003
Pos = 10,240
PosType = Back
Ownpal = 1
Scale = 0.586+FVar(4),0.586+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10003)
Trigger1 = Time = 0
ID = 10001
Anim = 10003
Pos = 10,240
PosType = Back
Ownpal = 1
Scale = 0.586+FVar(4),0.586+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10004)
Trigger1 = Time = 0
ID = 10001
Anim = 10004
Pos = 0,240
PosType = Back
Ownpal = 1
Scale = 0.586+FVar(4),0.586+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [1,50]
ID = 10001
Scale = 0.586+FVar(4),0.586+FVar(4)
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = BGPalFX
Trigger1 = Time = [1,29]
Add = 0-Var(6),0-Var(6),0-Var(6)
Time = 1

[State -1]
Type = BGPalFX
Trigger1 = Time = [30,35]
Add = Ceil(-255+Var(6)*1.5),Ceil(-255+Var(6)*1.5),Ceil(-255+Var(6)*1.5)
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time <= 35
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 36
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 50

;---------------------------------------------------------------------------
; ＥＸ必殺技エフェクト	赤4
[StateDef 6026]
Type = A
Physics = N
Anim = 10130
SprPriority = 4
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 255,255

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6021)
Trigger1 = Time = 0
V = 2
Range = 0,6

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6021)
Trigger1 = Time = [1,11]
FV = 2
Value = 2.4

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6021)
Trigger1 = 1
Scale = 0.30+Var(2)/10,30.0-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6022)
Trigger1 = Time = 0
V = 2
Range = 0,6

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6022)
Trigger1 = Time = [1,11]
FV = 2
Value = 2.1

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6022)
Trigger1 = 1
Scale = 0.30+Var(2)/10,27.0-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6023)
Trigger1 = Time = 0
V = 2
Range = 0,6

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6023)
Trigger1 = Time = [1,11]
FV = 2
Value = 3.0

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6023)
Trigger1 = 1
Scale = 0.35-Var(2)/10,36.0-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6024)
Trigger1 = Time = 0
V = 2
Range = 0,6

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6024)
Trigger1 = Time = [1,11]
FV = 2
Value = 2.7

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6024)
Trigger1 = 1
Scale = 0.35-Var(2)/10,33.0-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6021)
Trigger1 = Time = 0
V = 43
Range = 0,89

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6022)
Trigger1 = Time = 0
V = 43
Range = 90,179

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6023)
Trigger1 = Time = 0
V = 43
Range = 180,269

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6024)
Trigger1 = Time = 0
V = 43
Range = 270,359

[State -1]
Type = VarRandom
Trigger1 = Time = 1
V = 44
Range = -2,2

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = Var(43)

[State -1]
Type = AngleAdd
Trigger1 = Time >= 1
Value = -Var(44)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 11

;---------------------------------------------------------------------------
; ブラッドヒートエフェクト1
[Statedef 10990]
Type = A
Physics = N
SprPriority = 5
Anim = 10990

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarAdd
Trigger1 = Time >= 19
V = 7
Value = 10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = Time = [0,18]
Trans = Add

[State -1]
Type = Trans
Trigger1 = Time >= 19
Trans = AddAlpha
Alpha = 255-Var(7),255

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.6,0.6

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ブラッドヒートエフェクト2
[Statedef 10991]
Type = A
Physics = N
SprPriority = 5
Anim = 10991

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 0,359
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 22
V = 7
Value = 10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = Time = [0,21]
Trans = Add

[State -1]
Type = Trans
Trigger1 = Time >= 22
Trans = AddAlpha
Alpha = 255-Var(7),255

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.6,0.6

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(3)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;残像ヘルパー
[Statedef 755]
Type = A
Physics = N
SprPriority = -5

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarAdd
Trigger1 = Time >= 2
V = 7
Value = 32

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 255-Var(7),32+Var(7)

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = Parent,Anim

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = Parent,AnimElemNo(0)

[State -1]
Type = ChangeAnim
Trigger1 = 1
Value = Var(1)
Elem  = Var(2)

[State -1]
Type = AssertSpecial
Trigger1 = Time = [0,1]
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 9
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;コマ投げヘルパー 攻撃判定吸い込み用
[Statedef 860]
Type = S
Physics = S
SprPriority = -5

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = IfElse(IsHelper(860),860,861)

[State -1]
Type = BindToParent
Trigger1 = 1
Pos = 0,0

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ReversalDef
Trigger1 = Time = 0
Reversal.Attr =  SC, NA,SA,HA
Pausetime = 0,0
NumHits = 0
SparkNo = -1
Guard.SparkNo = -1
GetPower = 0,0
SparkXY = 0,0
P1StateNo = 861
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetBind
Trigger1 = MoveHit
Pos = 0, 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetState
Trigger1 = MoveHit
Trigger1 = NumTarget > 0
Trigger1 =! Target,IsHelper
Value = 862
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;コマ投げヘルパー 攻撃判定吸い込み用2
[Statedef 861]
Type = S
MoveType= A
Physics = S
SprPriority = -5

[State -1]
Type = BindToParent
Trigger1 = 1
Pos = 0,0

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetBind
Trigger1 = Time = 0
Pos = 30, 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 2
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;コマ投げヘルパー 相手用
[Statedef 862]
Type    = S
MoveType= H
Physics = S
VelSet = 0,0

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = 5010

[State -1] 
Type = SelfState
Trigger1 = Time >= 3
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;空中ハイジャンプ残像ヘルパー
[Statedef 855]
Type = A
Physics = N
SprPriority = -5

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarAdd
Trigger1 = Time >= 2
V = 7
Value = 40

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 255-Var(7),32+Var(7)

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = Parent,Anim

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = Parent,AnimElemNo(0)

[State -1]
Type = ChangeAnim
Trigger1 = 1
Value = Var(1)
Elem  = Var(2)

[State -1]
Type = AssertSpecial
Trigger1 = Time = [0,1]
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 8
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;特殊やられ演出ヘルパー
[Statedef 5605]
Type = A
Physics = N
SprPriority = -5

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = IsHelper(5605)
Trigger1 = Time = 0
Value = s5600, IfElse((Parent,Var(26)=[2,3]),0,10)

[State -2]
Type = PlaySnd
Trigger1 = IsHelper(5705)
Trigger1 = Time = 0
Value = s5100, IfElse((Parent,Var(26)=[2,3]),0,10)

[State -1]
Type = Explod
Trigger1 = IsHelper(5705)
Trigger1 = Time = 0
Anim = 15100
ID = 15100
Postype = P2
Pos = 0,0
Ownpal = 1
Scale = 0.5,0.5
SprPriority = 5
Removetime = -2
Removeongethit = 1

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 1

;---------------------------------------------------------------------------
; いっくよー！ヘルパー
[Statedef 1015]
Type = A
MoveType = A
Physics = N
SprPriority = 5
Anim = 1015

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = HitDef
TriggerAll = IsHelper(1015)
TriggerAll = Parent,Var(25)/10%10 < 3
TriggerAll = Var(1) < 1
Trigger1 = AnimElem = 2
Attr = S, SA
Damage = Ceil(Parent,FVar(0)*(80-Parent,Var(4)%2)), Ceil(Parent,FVar(1)*8)
AnimType = Up
HitFlag = MAFD
GuardFlag = M
Priority = 1, Dodge
PauseTime = 1, IfElse(P2StateType=A&&Parent,Var(50)=1,11,10)+IfElse(P2MoveType=A,5,0)+IfElse(Parent,Var(39)/10%10>0,6,0)
HitSound = s10, IfElse(Parent,Var(26)=2,2,IfElse(Parent,Var(26)=3,22,12))
GuardSound = s120, IfElse((Parent,Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = High
Air.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-10.4
Guard.Velocity = -10.5
Air.Velocity = IfElse(Parent,Var(50)=1,0,-6),IfElse(Parent,Var(50)=1,-10.8,FVar(25))
AirGuard.Velocity = -4,-3
Down.Velocity = -6,-2.5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
YAccel = .48
SprPriority = 5
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 45
EnvShake.Time = 12
EnvShake.Ampl = 4
EnvShake.Freq = 60
GetPower = Ceil(Parent,FVar(16)*120), Ceil(0.85*Parent,FVar(16)*120)
GivePower = Ceil(IfElse(Parent,FVar(16)=0,1,Parent,FVar(16))*36), Ceil(IfElse(Parent,FVar(16)=0,1,Parent,FVar(16))*18)

[State -1]
Type = HitDef
TriggerAll = IsHelper(906) || IsHelper(2015)
TriggerAll = Parent,Var(25)/10%10 < 3
TriggerAll = Parent,Var(50) = 1
TriggerAll = Var(1) < 1
Trigger1 = AnimElem = 2
Attr = S, SA
Damage = Ceil(Parent,FVar(0)*(240-Parent,Var(4)%2)), Ceil(Parent,FVar(1)*24)
AnimType = Hard
HitFlag = MAFD
GuardFlag = M
Priority = 1, Dodge
PauseTime = 1, IfElse(P2StateType=A&&Parent,Var(50)=1,11,10)+IfElse(P2MoveType=A,5,0)+IfElse(Parent,Var(39)/10%10>0,6,0)
HitSound = s10, IfElse(Parent,Var(26)=2,2,IfElse(Parent,Var(26)=3,22,12))
GuardSound = s120, IfElse((Parent,Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = High
Air.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -7
Guard.Velocity = -12
Air.Velocity = IfElse(Parent,Var(50)=1,0,-6),IfElse(Parent,Var(50)=1,-9.2,FVar(25))
AirGuard.Velocity = -4,-3
Down.Velocity = -6,-2.5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
SprPriority = 5
P2StateNo = 5600
ID = 5600
P2Facing = 1
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 42
EnvShake.Time = 12
EnvShake.Ampl = 4
EnvShake.Freq = 60
GetPower = 0, 0
GivePower = Ceil(IfElse(Parent,FVar(16)=0,1,Parent,FVar(16))*11), Ceil(IfElse(Parent,FVar(16)=0,1,Parent,FVar(16))*5)

[State -1]
Type = HitDef
TriggerAll = IsHelper(906) || IsHelper(2015)
TriggerAll = Parent,Var(25)/10%10 < 3
TriggerAll = Parent,Var(50) = 2
TriggerAll = Var(1) < 1
Trigger1 = AnimElem = 2
Attr = S, SA
Damage = Ceil(Parent,FVar(0)*(240-Parent,Var(4)%2)), Ceil(Parent,FVar(1)*24)
AnimType = Hard
HitFlag = MAFD
GuardFlag = M
Priority = 1, Dodge
PauseTime = 1, IfElse(P2StateType=A&&Parent,Var(50)=1,11,10)+IfElse(P2MoveType=A,5,0)+IfElse(Parent,Var(39)/10%10>0,6,0)
HitSound = s10, IfElse(Parent,Var(26)=2,2,IfElse(Parent,Var(26)=3,22,12))
GuardSound = s120, IfElse((Parent,Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = High
Air.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -7
Guard.Velocity = -12
Air.Velocity = IfElse(Parent,Var(50)=1,0,-6),IfElse(Parent,Var(50)=1,-9.2,FVar(25))
AirGuard.Velocity = -4,-3
Down.Velocity = -6,-2.5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
YAccel = .48
SprPriority = 5
ID = 5600
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 42
EnvShake.Time = 12
EnvShake.Ampl = 4
EnvShake.Freq = 60
GetPower = 0, 0
GivePower = Ceil(IfElse(Parent,FVar(16)=0,1,Parent,FVar(16))*11), Ceil(IfElse(Parent,FVar(16)=0,1,Parent,FVar(16))*5)

[State -1]
Type = TargetLifeAdd
TriggerAll = P2Life != 0
TriggerAll = FVar(21) > P2Life
TriggerAll = IsHelper(1015)
Trigger1 = Parent,FVar(22) = 1
Value = Floor((Parent,FVar(0)*(80-Parent,Var(4)%2)/(Enemy,Const(Data.Defence)*0.01)*0.3))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = TargetLifeAdd
TriggerAll = P2Life != 0
TriggerAll = FVar(21) > P2Life
TriggerAll =! IsHelper(1015)
Trigger1 = Parent,FVar(22) = 1
Value = Floor((Parent,FVar(0)*(240-Parent,Var(4)%2)/(Enemy,Const(Data.Defence)*0.01)*0.3))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = 1
FV = 21
Value = P2Life
IgnoreHitPause = 1

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 1))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
TriggerAll = IsHelper(1015)
Trigger1 = MoveHit = 1
Trigger1 = Parent,FVar(1) > 0.70
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State -1]
Type = ParentVarSet
TriggerAll = IsHelper(2015)
Trigger1 = MoveHit = 1
Trigger1 = Parent,FVar(1) > 0.01
FV = 1
Value = 0.45*Parent,FVar(1)
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ParentVarSet
Trigger1 = Time >= 0
V = 5
Value = Var(5)
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = BGPalFx
Trigger1 = Var(5)   = 31
Trigger1 = MoveHit = 1
Time = 1
Add = 256,-120,-120
InvertAll = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveContact = 1
Trigger2 = MoveReversed = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = MoveHit
StateNo = 6000
ID = 6002
PosType = P2
Pos = 0,-50
Ownpal = 1
SprPriority = -1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ParentVarSet
TriggerAll = Parent,Var(25)%10 < 3
Trigger1 = NumTarget(5600) > 0
Trigger1 = Target(5600),Time = 1
Trigger1 = Target(5600),StateNo = 5600
V = 25
Value = Parent,Var(25)/10%10 + 1
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 0

[State -1]
Type = VarSet
TriggerAll = Parent,Var(25)%10 < 3
Trigger1 = NumTarget(5600) > 0
Trigger1 = Target(5600),Time = 1
Trigger1 = Target(5600),StateNo = 5600
V = 25
Value = Parent,Var(25) + Parent,Var(25)%10*10
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 0

[State -1]
Type = ParentVarSet
TriggerAll = Parent,Var(25)%10 < 3
Trigger1 = NumTarget(5600) > 0
Trigger1 = Target(5600),Time = 1
Trigger1 = Target(5600),StateNo = 5602 || Target(5600),StateNo = 5603
V = 25
Value = Var(25)
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 0

[State -1]
Type = PlaySnd
Trigger1 = NumTarget(5600) > 0
Trigger1 = Target(5600),Time = 1
Trigger1 = Target(5600),StateNo = 5602 || Target(5600),StateNo = 5603
Value = s5600, IfElse((Parent,Var(26)=[2,3]),0,10)

[State -1]
Type = AssertSpecial
Trigger1 = Time <= 27
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = Time > 27
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = NumTarget(5600) = 0
Trigger1 = Time >= 28
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;固有結界・枯渇庭園ヘルパー
[Statedef 3155]
Type = A
Physics = N
SprPriority = -5

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = 1
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = 1
V = 2
Range = -1,1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = 1
V = 3
Range = -60,-30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time >= 0
Anim = 3156+Var(1)*2
ID = 3156
Postype = Right
Pos = -60,-10
Random = 360,20
Vel = (0.00+Var(3))/10,-(0.00+Var(3))/10
Ownpal = 0
Scale = 1.0+(0.0+Var(2))/2,1.0+(0.0+Var(2))/2
SprPriority = 4
ReMoveTime = 90
IgnoreHitPause = 1
Persistent = 8
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time >= 2
Anim = 3157+Var(1)*2
ID = 3157
Postype = Right
Pos = -60,-10
Random = 360,20
Vel = (0.00+Var(3))/10,-(0.00+Var(3))/10
Ownpal = 0
Scale = 1.0+(0.0+Var(2))/2,1.0+(0.0+Var(2))/2
SprPriority = 4
ReMoveTime = 90
IgnoreHitPause = 1
Persistent = 8
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time >= 0
Anim = 3156+Var(1)*2
ID = 3156
Postype = Right
Pos = 0,120
Random = 0,180
Vel = (0.00+Var(3))/10,-(0.00+Var(3))/10
Ownpal = 0
Scale = 1.0+(0.0+Var(2))/2,1.0+(0.0+Var(2))/2
SprPriority = 4
ReMoveTime = 90
IgnoreHitPause = 1
Persistent = 8
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time >= 2
Anim = 3157+Var(1)*2
ID = 3157
Postype = Right
Pos = 0,120
Random = 0,180
Vel = (0.00+Var(3))/10,-(0.00+Var(3))/10
Ownpal = 0
Scale = 1.0+(0.0+Var(2))/2,1.0+(0.0+Var(2))/2
SprPriority = 4
ReMoveTime = 90
IgnoreHitPause = 1
Persistent = 8
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 180
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;レデュース残像ヘルパー
[Statedef 22005]
Type = A
Physics = N
SprPriority = 5

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarAdd
Trigger1 = Time >= 2
V = 7
Value = 16

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 256-Var(7),128+Var(7)*2

[State -1]
Type = VarAdd
Trigger1 = Time >= 1
FV = 1
Value = 0.05

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 1.00+FVar(1),1.00+FVar(1)

[State -1]
Type = VelSet
Trigger1 = Time >= 0
X = -0.2
Y = 1.4

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = Parent,Anim

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = Parent,AnimElemNo(0)

[State -1]
Type = ChangeAnim
Trigger1 = 1
Value = Var(1)
Elem  = Var(2)

[State -1]
Type = AssertSpecial
Trigger1 = Time = 0
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 15
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ゲージ選択
[Statedef 24000]
Type = A
Physics = N
Velset = 0,0
SprPriority = 5
Anim = 0

[State -1]
Type = BindToParent
Trigger1 = 1
Pos = -35*(Facing*Parent,Facing),-52

[State -1]
Type = VarSet
Trigger1 = 1
V = 1
Value = Floor(60*Cos(0.2*Time))
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = 1
Time = 9999
Add = 0+Var(1),0+Var(1),0+Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
TriggerAll = RoundState <= 1
Trigger1 = Parent,Var(26) = 0
Trigger1 = NumExplod(24010) = 0
Anim = 24010
PosType = P1
Pos = 0, 0
BindTime = -1
RemoveTime = -1
Scale = 0.55,0.55
Facing = IfElse(TeamSide=1,1,-1)
Ownpal = 0
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 24010

[State -1]
Type = Explod
TriggerAll = RoundState <= 1
Trigger1 = Parent,Var(26) = 1
Trigger1 = NumExplod(24020) = 0
Anim = 24020
PosType = P1
Pos = 0, 0
BindTime = -1
RemoveTime = -1
Scale = 0.55,0.55
Facing = IfElse(TeamSide=1,1,-1)
Ownpal = 0
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 24020

[State -1]
Type = Explod
TriggerAll = RoundState <= 1
Trigger1 = Parent,Var(26) = 2
Trigger1 = NumExplod(24030) = 0
Anim = 24030
PosType = P1
Pos = 0, 0
BindTime = -1
RemoveTime = -1
Scale = 0.55,0.55
Facing = IfElse(TeamSide=1,1,-1)
Ownpal = 0
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 24030

[State -1]
Type = Explod
TriggerAll = RoundState <= 1
Trigger1 = Parent,Var(26) = 3
Trigger1 = NumExplod(24040) = 0
Anim = 24040
PosType = P1
Pos = 0, 0
BindTime = -1
RemoveTime = -1
Scale = 0.55,0.55
Facing = IfElse(TeamSide=1,1,-1)
Ownpal = 0
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 24040

[State -1]
Type = RemoveExplod
Trigger1 = Parent,Var(26) != 0
Trigger2 = Parent,Var(0)/1000%10 = 1
Trigger3 = RoundState = 2
Trigger4 = Parent,Command = "recovery"
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 24010
Persistent = 1

[State -1]
Type = RemoveExplod
Trigger1 = Parent,Var(26) != 1
Trigger2 = Parent,Var(0)/1000%10 = 1
Trigger3 = RoundState = 2
Trigger4 = Parent,Command = "recovery"
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 24020
Persistent = 1

[State -1]
Type = RemoveExplod
Trigger1 = Parent,Var(26) != 2
Trigger2 = Parent,Var(0)/1000%10 = 1
Trigger3 = RoundState = 2
Trigger4 = Parent,Command = "recovery"
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 24030
Persistent = 1

[State -1]
Type = RemoveExplod
Trigger1 = Parent,Var(26) != 3
Trigger2 = Parent,Var(0)/1000%10 = 1
Trigger3 = RoundState = 2
Trigger4 = Parent,Command = "recovery"
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 24040
Persistent = 1

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Invisible
Flag2 = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = NumExplod(24010) = 0 && NumExplod(24020) = 0 && NumExplod(24030) = 0 && NumExplod(24040) = 0
Value = s24000, 1
Channel = 2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
TriggerAll = NumExplod(24010) = 0 && NumExplod(24020) = 0 && NumExplod(24030) = 0 && NumExplod(24040) = 0
Trigger1 = Parent,Var(0)/1000%10 = 1
Trigger2 = Parent,Command = "recovery"
Trigger3 = RoundState = 2
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ゲージ
[Statedef 25000]
Type = A
Physics = N
Velset = 0,0
SprPriority = 5
Anim = 10000

[State -1]
Type = VarSet
Trigger1 = P2StateNo = 5120
V = 59
Value = 9
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Var(59) > 0
Trigger1 = P2StateNo != 5120
V = 59
Value = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosSet
Trigger1 = 1
X = Ceil(EnemyNear(Parent,Var(57)),Pos X)-10*Facing
Y = Ceil(EnemyNear(Parent,Var(57)),Pos Y)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Turn
Trigger1 = Facing = EnemyNear(Parent,Var(57)),Facing
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
V = 1
Value = Floor(60+45*Cos(0.1*Time))
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Parent,Var(13) > 0 || Parent,Var(14) != 0
V = 1
Value = Floor(60+45*Cos(0.15*Time))
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Parent,Var(13) = -1
V = 1
Value = Floor(60+45*Cos(0.2*Time))
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Trigger1 = Power = [0,999]
Time = 9999
Add = -32+Var(1),-255+Var(1),-255+Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Trigger1 = Power = [1000,1999]
Time = 9999
Add = -32+Var(1),-32+Var(1),-255+Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Trigger1 = Power >= 2000
Time = 9999
Add = -255+Var(1),-32+Var(1),-255+Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Parent,Var(13) = 1 && Parent,Var(14) = 0
Time = 9999
Add = 0+Var(1),-80+Var(1),-255+Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 1
Time = 9999
Add = -200+Var(1),-200+Var(1),-64+Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Parent,Var(13) = -1
Time = 9999
Add = -120+Var(1),-120+Var(1),-120+Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(0)/1000%10 = 0
TriggerAll = Time >= 1
TriggerAll = TeamSide = 1
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Power > 0
Trigger1 = NumExplod(25030) = 0
Anim = 25030
PosType = Left
Pos = 8, 229-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = IfElse(Parent,Var(26)=1,0.535,0.537),IfElse(Parent,Var(26)=1,0.5,0.54)
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25030
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(0)/1000%10 = 0
TriggerAll = Time >= 1
TriggerAll = TeamSide = 2
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Power > 0
Trigger1 = NumExplod(25031) = 0
Anim = 25031
PosType = Right
Pos = -8, 229-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = IfElse(Parent,Var(26)=1,0.535,0.54),IfElse(Parent,Var(26)=1,0.5,0.54)
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25031
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(0)/1000%10 = 0
TriggerAll = Time >= 1
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Power > 0
Trigger1 = NumExplod(25030) = 0
Anim = 27030+(TeamSide-1)
PosType = Left
Pos = IfElse(TeamSide=1,12,308), 221-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 6
ID = 25030
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(0)/1000%10 = 0
TriggerAll = Time >= 1
TriggerAll = Parent,Var(26) = 3
Trigger1 = Parent,Var(51) = 0
Trigger1 = Power > 0
Trigger1 = NumExplod(25030) = 0
Anim = 28030+(TeamSide-1)
PosType = Left
Pos = IfElse(TeamSide=1,11,309), 221-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 7
ID = 25030
Persistent = 1

[State -2]
Type = ModifyExplod
TriggerAll = Parent,Var(0)/1000%10 = 0
TriggerAll = Parent,Var(26) < 2
Trigger1 = Power <= 3000
Trigger1 = TeamSide = 1
Trigger1 = NumExplod(25030) > 0
Scale = IfElse(Parent,Var(26)=1,0.535,0.537)*Power/3000,IfElse(Parent,Var(26)=1,0.5,0.54)
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 25030
Persistent = 1

[State -2]
Type = ModifyExplod
TriggerAll = Parent,Var(0)/1000%10 = 0
TriggerAll = Parent,Var(26) < 2
Trigger1 = Power <= 3000
Trigger1 = TeamSide = 2
Trigger1 = NumExplod(25031) > 0
Scale = IfElse(Parent,Var(26)=1,0.535,0.54)*Power/3000,IfElse(Parent,Var(26)=1,0.5,0.54)
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 25031
Persistent = 1

[State -2]
Type = ModifyExplod
TriggerAll = Parent,Var(0)/1000%10 = 0
TriggerAll = Parent,Var(26) < 2
Trigger1 = Power >= 3000
Trigger1 = TeamSide = 1
Trigger1 = NumExplod(25030) > 0
Scale = IfElse(Parent,Var(26)=1,0.535,0.537)*1,IfElse(Parent,Var(26)=1,0.5,0.54)
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 25030
Persistent = 1

[State -2]
Type = ModifyExplod
TriggerAll = Parent,Var(0)/1000%10 = 0
TriggerAll = Parent,Var(26) < 2
Trigger1 = Power >= 3000
Trigger1 = TeamSide = 2
Trigger1 = NumExplod(25031) > 0
Scale = IfElse(Parent,Var(26)=1,0.535,0.54)*1,IfElse(Parent,Var(26)=1,0.5,0.54)
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 25031
Persistent = 1

[State -2]
Type = RemoveExplod
Trigger1 = Power = 0
Trigger1 = NumExplod(25030) > 0
Trigger2 = Parent,Var(51) > 0
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 25030
Persistent = 1

[State -2]
Type = RemoveExplod
Trigger1 = Power = 0
Trigger1 = NumExplod(25031) > 0
Trigger2 = Parent,Var(51) > 0
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 25031
Persistent = 1

[State -2]
Type = ModifyExplod
TriggerAll = Parent,Var(26) = [2,3]
Trigger1 = Power <= 3000
Trigger1 = NumExplod(25030) > 0
Scale = 0.5*Power/3000,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 25030
Persistent = 1

[State -2]
Type = ModifyExplod
TriggerAll = Parent,Var(26) = [2,3]
Trigger1 = Power >= 3000
Trigger1 = NumExplod(25030) > 0
Scale = 0.5*1,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 25030
Persistent = 1

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Invisible
Flag2 = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = RoundState = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ゲージロゴ
[Statedef 25010]
Type = A
Physics = N
Velset = 0,0
SprPriority = 6

[State -1]
Type = PalFx
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0 && Parent,Var(51) = 0
Trigger1 = Parent,FVar(16) != 1.00
Time = 1
Color = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(13) != 0 || Parent,Var(14) != 0 || Parent,Var(51) != 0
Trigger1 = Time %6 = 0
Time = 2
Add = 128,128,128
IgnoreHitPause = 1
Persistent = 2
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Anim = IfElse(Parent,Var(26)=1,25040,26040)+Power%10
PosType = Left
Pos = IfElse(TeamSide=1,114,208), 230-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 6
ID = 25040
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Anim = IfElse(Parent,Var(26)=1,25140,26140)+Power/10%10
PosType = Left
Pos = IfElse(TeamSide=1,106,200), 227-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 6
ID = 25041
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Trigger1 = Power >= 100
Anim = IfElse(Parent,Var(26)=1,25140,26140)+Power/100%10
PosType = Left
Pos = IfElse(TeamSide=1,98,192), 227-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 6
ID = 25042
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Trigger1 = Power >= 1000
Anim = IfElse(Parent,Var(26)=1,25140,26140)+Power/1000%10
PosType = Left
Pos = IfElse(TeamSide=1,90,184), 227-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 6
ID = 25043
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Anim = 27040+Power%10
PosType = Left
Pos = IfElse(TeamSide=1,33,287), 232-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 8
ID = 25040
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Anim = 27140+Power/10%10
PosType = Left
Pos = IfElse(TeamSide=1,26,280), 230-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 8
ID = 25041
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Trigger1 = Power >= 100
Anim = 27140+Power/100%10
PosType = Left
Pos = IfElse(TeamSide=1,19,273), 230-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 8
ID = 25042
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Power >= 1000
Anim = 27140+Power/1000%10
PosType = Left
Pos = IfElse(TeamSide=1,12,266), 230-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 8
ID = 25043
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 3
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Anim = 28040+Power%10
PosType = Left
Pos = IfElse(TeamSide=1,33,287), 229-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 8
ID = 25040
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 3
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Anim = 28140+Power/10%10
PosType = Left
Pos = IfElse(TeamSide=1,28,282), 229-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 8
ID = 25041
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 3
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Power >= 100
Anim = 28140+Power/100%10
PosType = Left
Pos = IfElse(TeamSide=1,23,277), 229-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 8
ID = 25042
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 3
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Power >= 1000
Anim = 28140+Power/1000%10
PosType = Left
Pos = IfElse(TeamSide=1,18,272), 229-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 8
ID = 25043
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(14) != 0 || Parent,Var(13) != 0 || Parent,Var(51) != 0
ID = 25040
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(14) != 0 || Parent,Var(13) != 0 || Parent,Var(51) != 0
ID = 25041
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(14) != 0 || Parent,Var(13) != 0 || Parent,Var(51) != 0
ID = 25042
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(14) != 0 || Parent,Var(13) != 0 || Parent,Var(51) != 0
ID = 25043
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) > 0
Trigger1 = NumExplod(25050) = 0
Anim = 25050
PosType = Left
Pos = IfElse(TeamSide=1,91,194), 226-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25050
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(15) < 10
Trigger1 = Parent,Var(13) = 1
Trigger1 = NumExplod(25052) = 0
Anim = 25051
PosType = Left
Pos = IfElse(TeamSide=1,94,205), 227-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25052
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(14) = 1
Trigger1 = NumExplod(25054) = 0
Anim = 25052
PosType = Left
Pos = IfElse(TeamSide=1,94,202), 227-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25054
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(13) = -1
Trigger1 = NumExplod(25056) = 0
Anim = 25053
PosType = Left
Pos = IfElse(TeamSide=1,94,167), IfElse(Parent,Var(26)=1,228,227)-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25056
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(15) = 10
Trigger1 = Parent,Var(13) = 1
Trigger1 = NumExplod(25058) = 0
Anim = 25054
PosType = Left
Pos = IfElse(TeamSide=1,95,178), IfElse(Parent,Var(26)=1,227,226)-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25058
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) > 0
Trigger1 = NumExplod(25050) = 0
Anim = 25050
PosType = Left
Pos = IfElse(TeamSide=1,15,269), 227-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25050
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(15) < 10
Trigger1 = Parent,Var(13) = 1
Trigger1 = NumExplod(25052) = 0
Anim = 25051
PosType = Left
Pos = IfElse(TeamSide=1,16,282), 229-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 9
ID = 25052
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(14) = 1
Trigger1 = NumExplod(25054) = 0
Anim = 25052
PosType = Left
Pos = IfElse(TeamSide=1,16,279), 229-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 9
ID = 25054
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(13) = -1
Trigger1 = NumExplod(25056) = 0
Anim = 25053
PosType = Left
Pos = IfElse(TeamSide=1,16,244), 230-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 9
ID = 25056
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(15) = 10
Trigger1 = Parent,Var(13) = 1
Trigger1 = NumExplod(25058) = 0
Anim = 25054
PosType = Left
Pos = IfElse(TeamSide=1,16,255), 228-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 9
ID = 25058
Persistent = 1

[State -1]
Type = RemoveExplod
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(51) = 0
ID = 25050
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(13) != 1 || Parent,Var(51) > 0
ID = 25052
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(14) = 0 || Parent,Var(51) > 0
ID = 25054
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(13) = 0 || Parent,Var(51) > 0
ID = 25056
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(13) != 1 || Parent,Var(51) > 0
ID = 25058
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Parent,Var(0)/1000%10 = 1
Trigger2 = RoundState = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; パーフェクト
[Statedef 30000]
Type = A
Physics = N
Velset = 0,0
SprPriority = 0
Anim = 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Trigger1 = TeamMode = Single || TeamMode = Turns
Value = s30000, 0

[State -1]
Type = VarAdd
Trigger1 = Time = [2,31]
FV = 1
Value = 0.005

[State -1]
Type = VarAdd
Trigger1 = Time = [3,42]
V = 1
Value = 5

[State -1]
Type = VarAdd
Trigger1 = Time = [71,80]
FV = 2
Value = 0.095

[State -1]
Type = PalFx
Trigger1 = 1
Time = 1
Add = 210-Var(1),210-Var(1),210-Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
Trigger1 = NumExplod(30000) = 0
Anim = 30000
PosType = Left
Pos = 160, 112
BindTime = -1
RemoveTime = 80
Scale = 1.15,1.15
Ownpal = 0
SprPriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
OnTop = 1
ID = 30000

[State -1]
Type = Explod
Trigger1 = Time = 1
Trigger1 = NumExplod(30005) = 0
Anim = 30005
PosType = Left
Pos = 160, 110
BindTime = -1
RemoveTime = 80
Scale = 1.15,1.15
Ownpal = 1
SprPriority = 6
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 30005

[State -1]
Type = ModifyExplod
Trigger1 = Time = [2,31]
ID = 30000
Scale = 1.15-FVar(1),1.15-FVar(1)

[State -1]
Type = ModifyExplod
Trigger1 = Time = [71,80]
ID = 30000
Scale = 1.0+FVar(2)*2,1.0-FVar(2)

[State -1]
Type = ModifyExplod
Trigger1 = Time = [2,31]
ID = 30005
Scale = 1.15-FVar(1),1.15-FVar(1)

[State -1]
Type = ModifyExplod
Trigger1 = Time = [71,80]
ID = 30005
Scale = 1.0+FVar(2)*2,1.0-FVar(2)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Invisible
Flag2 = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; アークドライブフィニッシュ
[Statedef 30001]
Type = A
Physics = N
Velset = 0,0
SprPriority = 0
Anim = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s30001, 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time = [2,31]
FV = 1
Value = 0.005

[State -1]
Type = VarAdd
Trigger1 = Time = [3,42]
V = 1
Value = 5

[State -1]
Type = VarAdd
Trigger1 = Time = [71,80]
FV = 2
Value = 0.095

[State -1]
Type = PalFx
Trigger1 = 1
Time = 1
Add = 210-Var(1),210-Var(1),210-Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
Trigger1 = NumExplod(30001) = 0
Anim = 30001
PosType = Left
Pos = 160, 120
BindTime = -1
RemoveTime = 80
SprPriority = 6
Scale = 1.15,1.15
Ownpal = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 30001

[State -1]
Type = Explod
Trigger1 = Time = 1
Trigger1 = NumExplod(30006) = 0
Anim = 30006
PosType = Left
Pos = 160, 120
BindTime = -1
RemoveTime = 80
SprPriority = 6
Scale = 1.15,1.15
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 30006

[State -1]
Type = ModifyExplod
Trigger1 = Time = [2,31]
ID = 30001
Scale = 1.15-FVar(1),1.15-FVar(1)

[State -1]
Type = ModifyExplod
Trigger1 = Time = [71,80]
ID = 30001
Scale = 1.0+FVar(2)*2,1.0-FVar(2)

[State -1]
Type = ModifyExplod
Trigger1 = Time = [2,31]
ID = 30006
Scale = 1.15-FVar(1),1.15-FVar(1)

[State -1]
Type = ModifyExplod
Trigger1 = Time = [71,80]
ID = 30006
Scale = 1.0+FVar(2)*2,1.0-FVar(2)

[State -1]
Type = VarAdd
Trigger1 = Time = [2,4]
FV = 3
Value = 0.8

[State -1]
Type = VarAdd
Trigger1 = Time = [2,11]
FV = 6
Value = 0.145

[State -1]
Type = Explod
Trigger1 = Parent,Var(26) = [2,3]
Trigger1 = Time = 1
Anim = 30050
RemoveTime = 3
PosType = Left
Pos = 160, 120
Scale = 3,2
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
OnTop = 1
ID = 30050

[State -1]
Type = Explod
Trigger1 = Parent,Var(26) != [2,3]
Trigger1 = Time = 1
Anim = 30060
PosType = Left
Pos = 160, 120
Scale = 1,1
Ownpal = 1
BindTime = -1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
OnTop = 1
ID = 30060

[State -1]
Type = Helper
Trigger1 = Parent,Var(26) = [2,3]
Trigger1 = Time = 1
StateNo = 30050
ID = 30050
PosType = Left
Pos = 160, 120
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Parent,Var(26) = [2,3]
Trigger1 = Time = 1
StateNo = 30050
ID = 30051
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [2,4]
ID = 30050
Scale = 3.0-FVar(3),2.0-FVar(4)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Invisible
Flag2 = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = RoundState = 4
Trigger1 = Time >= 80
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ラストアークフィニッシュ
[Statedef 30002]
Type = A
Physics = N
Velset = 0,0
SprPriority = 0
Anim = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 5
Value = s30002, 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time = [2,31]
FV = 1
Value = 0.005

[State -1]
Type = VarAdd
Trigger1 = Time = [3,42]
V = 1
Value = 5

[State -1]
Type = VarAdd
Trigger1 = Time = [71,80]
FV = 2
Value = 0.095

[State -1]
Type = PalFx
Trigger1 = 1
Time = 1
Add = 210-Var(1),210-Var(1),210-Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
Trigger1 = NumExplod(30002) = 0
Anim = 30002
PosType = Left
Pos = 160, 120
BindTime = -1
RemoveTime = 80
Scale = 1.15,1.15
SprPriority = 6
Ownpal = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 30002

[State -1]
Type = Explod
Trigger1 = Time = 1
Trigger1 = NumExplod(30007) = 0
Anim = 30007
PosType = Left
Pos = 160, 120
BindTime = -1
RemoveTime = 80
Scale = 1.15,1.15
SprPriority = 6
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 30007

[State -1]
Type = ModifyExplod
Trigger1 = Time = [2,31]
ID = 30002
Scale = 1.15-FVar(1),1.15-FVar(1)

[State -1]
Type = ModifyExplod
Trigger1 = Time = [71,80]
ID = 30002
Scale = 1.0+FVar(2)*2,1.0-FVar(2)

[State -1]
Type = ModifyExplod
Trigger1 = Time = [2,31]
ID = 30007
Scale = 1.15-FVar(1),1.15-FVar(1)

[State -1]
Type = ModifyExplod
Trigger1 = Time = [71,80]
ID = 30007
Scale = 1.0+FVar(2)*2,1.0-FVar(2)

[State -1]
Type = VarAdd
Trigger1 = Time = [2,4]
FV = 3
Value = 0.8

[State -1]
Type = VarAdd
Trigger1 = Time = [2,11]
FV = 6
Value = 0.145

[State -1]
Type = Explod
Trigger1 = Parent,Var(26) = [2,3]
Trigger1 = Time = 1
Anim = 30050
RemoveTime = 3
PosType = Left
Pos = 160, 120
Scale = 3,2
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
OnTop = 1
ID = 30050

[State -1]
Type = Explod
Trigger1 = Parent,Var(26) != [2,3]
Trigger1 = Time = 1
Anim = 30060
PosType = Left
Pos = 160, 120
Scale = 1,1
Ownpal = 1
BindTime = -1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
OnTop = 1
ID = 30060

[State -1]
Type = Helper
Trigger1 = Parent,Var(26) = [2,3]
Trigger1 = Time = 1
StateNo = 30050
ID = 30050
PosType = Left
Pos = 160, 120
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Parent,Var(26) = [2,3]
Trigger1 = Time = 1
StateNo = 30050
ID = 30051
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [2,4]
ID = 30050
Scale = 3.0-FVar(3),2.0-FVar(4)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Invisible
Flag2 = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = RoundState = 4
Trigger1 = Time >= 80
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; フィニッシュバグ防止用
[Statedef 30005]
Type = A
Physics = N
Velset = 0,0
SprPriority = 0
Anim = 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Invisible
Flag2 = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = RoundState = 4
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; フィニッシュエフェクト
[Statedef 30050]
Type = A
Physics = N
Velset = 0,0
SprPriority = 7
Anim = 30051

[State -1]
Type = PosSet
Trigger1 = 1
X = 0
Y = 120-Ceil(ScreenPos Y-Pos Y)

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,359

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 2
Range = -10,10

[State -1]
Type = VarSet
Trigger1 = Time = 1
Trigger1 = Var(2) = 0
V = 2
Value = 1

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = VarAdd
Trigger1 = 1
FV = 1
Value = 0.1

[State -1]
Type = VarAdd
Trigger1 = 1
FV = 2
Value = 0.0975

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 1+FVar(1),1-FVar(2)

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = Var(1)

[State -1]
Type = AngleAdd
Trigger1 = Time >= 1
Value = Var(2)

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; YOUWIN
[Statedef 30010]
Type = A
Physics = N
Velset = 0,0
SprPriority = 0
Anim = 6505

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = VarAdd
Trigger1 = Time >= 2
V = 3
Value = 3

[State -1]
Type = PalFx
Trigger1 = 1
Time = 1
Add = -50-Var(3),-50-Var(3),-150-Var(3)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 2
FV = 2
Value = 0.075

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.50+Fvar(2),0.50+FVar(2)

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Trigger1 = TeamMode = Single || TeamMode = Turns
Value = s30010, 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time = [1,20]
FV = 1
Value = 0.025

[State -1]
Type = Explod
Trigger1 = IsHelper(30010)
Trigger1 = NumExplod(30010) = 0
Anim = 30010
BindTime = -1
RemoveTime = -1
Scale = 0.5,0
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
OnTop = 1
ID = 30010

[State -1]
Type = ModifyExplod
Trigger1 = Time = [1,20]
ID = 30010
Scale = 0.5,0+FVar(1)

[State -1]
Type = AssertSpecial
Trigger1 = Time = 0
Flag = Invisible
Flag2 = Noshadow
Flag3 = RoundNotOver
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = Time = [1,100]
Flag = Noshadow
Flag2 = RoundNotOver
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
TriggerAll = Time = [0,480]
trigger1 = NumHelper(340000) = 1
trigger2 = NumHelper(340001) = 1
trigger3 = NumHelper(340002) = 1
trigger4 = NumHelper(340003) = 1
trigger5 = NumHelper(340004) = 1
Flag = Noshadow
Flag2 = RoundNotOver
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = Time > 100 
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; AI
[Statedef 40000]
Type = A
Physics = N
Ctrl = 0
Velset = 0,0
SprPriority = 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Command = "up" && Parent,Command = "up"
Trigger2 = Command = "down" && Parent,Command = "down"
Trigger3 = Command = "back" && Parent,Command = "back"
Trigger4 = Command = "fwd" && Parent,Command = "fwd"
Trigger5 = Command = "a" && Parent,Command = "a"
Trigger6 = Command = "b" && Parent,Command = "b"
Trigger7 = Command = "c" && Parent,Command = "c"
Trigger8 = Command = "x" && Parent,Command = "x"
Trigger9 = Command = "y" && Parent,Command = "y"
Trigger10 = Command = "z" && Parent,Command = "z"
Trigger11 = Command = "start" && Parent,Command = "start"
V = 1
Value = -1

[State -1]
Type = DestroySelf
TriggerAll = IsHelper
Trigger1 = Parent,Var(59) != 0 || Var(1) = -1
Trigger2 = Command = "up" && Parent,Command = "up"
Trigger3 = Command = "down" && Parent,Command = "down"
Trigger4 = Command = "back" && Parent,Command = "back"
Trigger5 = Command = "fwd" && Parent,Command = "fwd"
Trigger6 = Command = "a" && Parent,Command = "a"
Trigger7 = Command = "b" && Parent,Command = "b"
Trigger8 = Command = "c" && Parent,Command = "c"
Trigger9 = Command = "x" && Parent,Command = "x"
Trigger10 = Command = "y" && Parent,Command = "y"
Trigger11 = Command = "z" && Parent,Command = "z"
Trigger12 = Command = "start" && Parent,Command = "start"

[State -1]
Type = VarSet
TriggerAll = Var(1) != -1
TriggerAll = Parent,Ctrl
TriggerAll = Parent,StateNo != [120,159]
TriggerAll = Parent,StateNo != [5000,5099]
Trigger1 = Parent,Command = "up"
Trigger2 = Parent,Command = "down"
Trigger3 = Parent,Command = "back"
Trigger4 = Parent,Command = "fwd"
Trigger5 = Parent,Command = "a"
Trigger6 = Parent,Command = "b"
Trigger7 = Parent,Command = "c"
Trigger8 = Parent,Command = "x"
Trigger9 = Parent,Command = "y"
Trigger10 = Parent,Command = "z"
Trigger11 = Parent,Command = "start"
V = 1
Value = 1

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Invisible
Flag2 = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


;分身
[Statedef 23020]
type = A
movetype = I
physics = N
anim = 23330
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(31) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(31) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(31) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(31),var(31),var(31)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(31) < -234
[Statedef 13021]
type = A
movetype = I
physics = N
anim = 13331
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999

[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(32) = -4
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(32) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(32) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(32),var(32),var(32)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(32) < -234
[Statedef 13022]
type = A
movetype = I
physics = N
anim = 13332
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(33) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(33) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(33),var(33),var(33)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(33) < -234
[Statedef 13023]
type = A
movetype = I
physics = N
anim = 13333
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(34) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(34) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(34) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(34),var(34),var(34)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(34) < -234
[Statedef 13024]
type = A
movetype = I
physics = N
anim = 13334
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(35) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(35) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(35) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(35),var(35),var(35)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(35) < -234
[Statedef 13025]
type = A
movetype = I
physics = N
anim = 13335
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(36) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(36) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(36) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(36),var(36),var(36)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(36) < -234

[Statedef 13026]
type = A
movetype = I
physics = N
anim = 13336
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(37) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(37) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(37) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(37),var(37),var(37)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(37) < -234
[Statedef 13027]
type = A
movetype = I
physics = N
anim = 13337
ctrl = 0
sprpriority = -1


[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(38) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(38) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(38) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(38),var(38),var(38)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(38) < -234
[Statedef 13028]
type = A
movetype = I
physics = N
anim = 13338
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(39) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(39) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(39) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(39),var(39),var(39)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(39) < -234
[Statedef 13029]
type = A
movetype = I
physics = N
anim = 13339
ctrl = 0
sprpriority = -1
[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999



[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(32) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 25
var(32) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 26
var(32) = -6
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(32),var(32),var(32)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(32) < -234
[Statedef 13030]
type = A
movetype = I
physics = N
anim = 13340
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999

[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(33) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 25
var(33) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 26
var(33) = -6
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(33),var(33),var(33)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(33) < -234
[Statedef 13031]
type = A
movetype = I
physics = N
anim = 13341
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999

[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(34) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 25
var(34) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 26
var(34) = -11
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(34),var(34),var(34)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(34) < -234


[statedef 340000]
Type = A
type = A
ctrl = 0
anim = 9977
velset = 0,0
movetype = I
physics = N
sprpriority = -20

[State 3300, 2]
type = AssertSpecial
triggerAll = Var(54) != 2
trigger1 = Time >= 0
flag = Nomusic
ignorehitpause = 1

[statedef 340001]
Type = A
type = A
ctrl = 0
anim = 9977
velset = 0,0
movetype = I
physics = N
sprpriority = -20

[State 3300, 2]
type = AssertSpecial
triggerAll = Var(54) != 2
trigger1 = Time >= 0
flag = NoMusic
ignorehitpause = 1

[State 3300, 2]
type = AssertSpecial
trigger1 = Time <= 400
trigger1 = parent,stateno != [3200,3202]
flag = NoBarDisplay
ignorehitpause = 1

[State 3300, 2]
type = AssertSpecial
trigger1 = parent,stateno = [3200,3202]
trigger2 = win
flag = NoBarDisplay
ignorehitpause = 1

[State 9000, AssertSpecial]
type = AssertSpecial
triggerAll = Var(54) != 2
trigger1 = parent,stateno = [3200,3202]
flag = NoBG
flag2 = NoFG
flag3 = GlobalNoShadow

[statedef 340002]
Type = A
type = A
ctrl = 0
anim = 9977
velset = 0,0
movetype = I
physics = N
sprpriority = -20

[State 3300, 2]
type = AssertSpecial
triggerAll = Var(54) != 2
trigger1 = Time >= 0
flag = NoMusic
ignorehitpause = 1

[State 3300, 2]
type = AssertSpecial
trigger1 = Time <= 400
flag = NoBarDisplay
ignorehitpause = 1

[State 9000, AssertSpecial]
type = AssertSpecial
triggerAll = Var(54) != 2
trigger1 = Time <= 400
flag = NoBG
flag2 = NoFG
flag3 = GlobalNoShadow


[statedef 340003]
Type = A
type = A
ctrl = 0
anim = 9977
velset = 0,0
movetype = I
physics = N
sprpriority = -20

[State 3300, 2]
type = AssertSpecial
triggerAll = Var(54) != 2
trigger1 = Time >= 0
flag = NoMusic
ignorehitpause = 1

[State 3300, 2]
type = AssertSpecial
trigger1 = Time <= 300
flag = NoBarDisplay
ignorehitpause = 1

[State 9000, AssertSpecial]
type = AssertSpecial
triggerAll = Var(54) != 2
trigger1 = Time <= 300
flag = NoBG
flag2 = NoFG
flag3 = GlobalNoShadow

[statedef 340004]
Type = A
type = A
ctrl = 0
anim = 9977
velset = 0,0
movetype = I
physics = N
sprpriority = -20

[State 3300, 2]
type = AssertSpecial
triggerAll = Var(54) != 2
trigger1 = Time >= 0
flag = NoMusic
ignorehitpause = 1

[State 3300, 2]
type = AssertSpecial
trigger1 = Time <= 1500
flag = NoBarDisplay
ignorehitpause = 1

;=================================================================================================
;		暗転ヘルパー
;=================================================================================================
[Statedef 13003]
type = A
movetype = I
physics = N
anim = 9977
ctrl = 0
sprpriority = 1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 1000]
type = AssertSpecial
trigger1 = 1
flag = nomusic
[State 1000]
type = AssertSpecial
trigger1 = 1;Root,StateNo = [24500,24520]
flag = noBG
[State -2]
type = AssertSpecial
Trigger1 = Parent,PalNo = 12
Trigger2 = Parent,Var(59) = 2
Trigger3 = Parent,Var(59) < 2
Trigger3 = Parent,Var(45) = 1 || parent,Var(45) = 3
flag = timerfreeze
persistent = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
[State 2000]
type = BGPalfx
trigger1 = Root,Stateno = [24500,24520]
add = -244,-244,-244
time = 50
IgnoreHitPause = 1
PerSistent = 1
[State 2000]
type = BGPalfx
trigger1 = Root,stateno != 0
trigger1 = Root,stateno != [24500,24520]
add = -132,-132,-132;244
time = 30
[State 2000]
type = BGPalfx
Trigger1 = Parent,StateNo = 0
Trigger2 = Parent,StateNo != [13000,13100]
Trigger2 = Parent,StateNo != [24000,24100] 
Trigger2 = Parent,StateNo != [34000,34100] 
add = -132,-132,-132
time = 1
[State 1201,end]
type = Destroyself
Trigger1 = Parent,StateNo = 0
Trigger2 = Parent,StateNo != [13000,13100]
Trigger2 = Parent,StateNo != [24000,24100] 
Trigger2 = Parent,StateNo != [34000,34100] 
Trigger2 = Root,StateNo != [24500,24520]
ID = 13003


[Statedef 8051];対策済み
type = A
movetype = I
physics = N
anim = 9977
ctrl = 0
sprpriority = 2

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 4500]
type = turn
trigger1 = facing = -1
value = 1
[State 4500]
type = playsnd
trigger1 = time = 10
value = S18,0
[State 1000]
type = AssertSpecial
trigger1 = 1
flag = nomusic
[State 4500]
type = AssertSpecial
trigger1 = 1
flag = noshadow
[State helper]
type = Helper
trigger1 = time = 25
name = "cut_in"
stateno = 9051
ownpal = 1
pausemovetime = 10000
supermovetime = 78
[State pal]
type = allPalFX
trigger1 = time >= 0
time = 3
mul = 256-var(3),256-var(3),256-var(3)
ignorehitpause = 1
pausemovetime = 10000
[State var]
type = varadd
trigger1 = time <= 25
var(3) = 6
ignorehitpause = 1
[State end]
type = DestroySelf
trigger1 = time = 1000
[Statedef 9051]
type = A
movetype = I
physics = N
anim = 9977
ctrl = 0

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 181, 0]
type = AssertSpecial
trigger1 = Time <= 900
flag = RoundNotOver
flag2 = nobardisplay
[State face]
type = Explod
trigger1 = time = 1
anim = 9001
pos = 5,20
postype = back;left
removetime = -1
ontop = 1
supermove = 1
scale = .5,.5
sprpriority = 8
pausemovetime = 1000
supermovetime = 1000
[State pal]
type = PalFX
trigger1 = time <= 14
time = 1
add = -256+var(7),-256+var(7),-256+var(7)
ignorehitpause = 1
pausemovetime = 10000
[State explod]
type = varadd
trigger1 = time <= 15
var(7) = 14
[State 1000, 3]
type = VarRandom
trigger1 = time >= 0
v = 5
range = 0,2
[State voice]
type = playsnd
trigger1 = root,var(32) = 11
;trigger1 = time = 30
value = 190, 3
channel = 1
[State voice]
type = playsnd
trigger1 = var(5) = 0
trigger1 = root,var(32) != 11
trigger1 = time = 30
value = 15,1
[State voice]
type = playsnd
trigger1 = var(5) = 1
trigger1 = root,var(32) != 11
trigger1 = time = 30
value = 41,1
[State voice]
type = playsnd
trigger1 = var(5) = 2
trigger1 = root,var(32) != 11
trigger1 = time = 30
value = 15,2
[State end]
type = DestroySelf
trigger1 = time = 1000

;---------------------------------------------------------------------------
[Statedef 9991]
ctrl = 0
anim = 9977

[State 9000, Assert]
type = AssertSpecial
trigger1 = Time < 60
flag = NoBarDisplay
flag2 = NoMusic

[State 9000, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 60
flag = NoBG
flag2 = NoFG
flag3 = GlobalNoShadow

[State 9000, HyperComboFinish]
type = Helper
trigger1 = time = 0
ID = 9002
stateno = 9002
postype = P1
pos = ceil((319-ScreenPos X)-160)*facing,ceil((239-ScreenPos Y)-120)
pausemovetime = 999999
supermovetime = 999999
size.xscale = 1
size.yscale = 1

[State 9000, DestroySelf]
type = DestroySelf
trigger1 = time = 60

;---------------------------------------------------------------------------
[Statedef 9002]
ctrl = 0
anim = 8650
sprpriority = -110

[state 3300, 2]
type = playsnd
trigger1 = Time = 0
value = 9000,1

[State 9000, PosFreeze]
type = PosAdd
trigger1 = time > 0
x = -ceil(ScreenPos X-fvar(1))
y = -ceil(ScreenPos Y-fvar(2))

[State 9000, PosFreeze]
type = VarSet
trigger1 = 1
fvar(1) = ScreenPos X

[State 9000, KOPosFreeze]
type = VarSet
trigger1 = 1
fvar(2) = ScreenPos Y

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 9000, VarAdd]
type = VarSet
trigger1 = time = 0
fvar(0) = .5

[State 9000, VarAdd]
type = VarAdd
trigger1 = time <= 3
fvar(0) = -.1

[State 9000, VarAdd]
type = VarAdd
trigger1 = time > 3
fvar(0) = .06

[State 9000, Angle]
type = AngleSet
trigger1 = 1
value = root,var(32)*5

[State 9000, Angle]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(0)

[State 9000, DestroySelf]
type = DestroySelf
trigger1 = time = 60


;---------------------------------------------------------------------------
;『志貴』十七分割ヘルパー
[Statedef 15006]
type    = S
movetype= A
physics = N
juggle  = 0
anim = 15005
ctrl = 0
sprpriority = 1

[State -1] 
type = Turn
trigger1 = time = 0

[state -1]
Type = posset
Trigger1 = time = 0
x = 100
y = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
[State -1]
Type = VarSet
TriggerAll = Time = 0
Trigger1 = PrevStateNo = [2135,2145]
Trigger2 = PrevStateNo = 21200
Trigger3 = PrevStateNo = 21210
Fv = 14
Value = Fvar(14)*0.65
IgnoreHitPause = 1
PerSistent = 0
[State -1]
Type = VarSet
TriggerAll = Time = 0
Trigger1 = PrevStateNo = [900,911]
Fv = 14
Value = Fvar(14)*0.5
IgnoreHitPause = 1
PerSistent = 0
[State power]
Type = VarSet
Trigger1 = Time = 0
V = 25
Value = 0
Ignorehitpause = 1
Persistent = 0
[State -1]
Type = Helper
trigger1 = time = 0
StateNo = 6025;IfElse(Var(26)=3,6025,6020)
ID = ifelse(helper(5901),var(48) = 1,10004,10005)
Name = "EX_Effect"
Pos = 0,-40
PosType = P1
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
[State 2000]
type = superpause
trigger1 = time = 0
darken = 0
time = 66
anim = -1
sound = S3,1
pos = 0,0
movetime = 0
[State VarSet]
Type = VarSet
Trigger1 = Var(59) = 1
Trigger1 = Time = 0
Trigger1 = StateNo = 15006
V = 45
Value = 2
[State 4050, 1]
type = AfterImage
trigger1 = Time = 0
time = 0
trans = add
length   = 10
timegap  = 1
framegap = 1
PalBright = 20 , 20 , 90
PalContrast = 20 , 20 , 100
PalAdd = 0 , 0 , 0
PalMul = .8 , .8 , .8
IgnoreHitPause = 1
Persistent = 1
pausemovetime = 1000
supermovetime = 1000
[State 2000]
type = BGPalfx
trigger1 = time = 0
Add = -132,-132,-132
time = 20
[State 1100, wind]
type = Helper
trigger1 = Animelem = 1
name = "anten"
stateno = 13003
scale = 1,1
pos = 0,0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999
[State super effect]
type = Helper
trigger1 = helper(5901),var(48) = 0
trigger1 = time = 0
name = "super17"
stateno = 8018
pos = 2,-92
ownpal = 1
supermovetime = 78
[State 620, 2]
type = PlaySnd
trigger1 = time = 0
value = 1150, 0
volume = 150
[State 1000, 1]
type = Pause
trigger1 = animelemtime(1) >= 0
trigger1 = GameTime % 2 = 0
time = 2
movetime = 0
[State 620, 2]
type = PlaySnd
trigger1 = animelemtime(1) = 0
value = 5, 1
[State 620, 2]
type = PlaySnd
trigger1 = animelemtime(1) = 0
value = 1000, 4
[State 620, 2]
type = PlaySnd
trigger1 = animelemtime(1) = 0
value = 5, 0
[State 620, 2]
type = velset
trigger1 = animelemtime(4) = 1
x = 1.5
[State 620, 2]
type = velset
trigger1 = animelemtime(10) = 2
x = 1.6
y = -3.2
[State 620, 2]
type = veladd
trigger1 = animelemtime(10) >= 2
y = .2
[State 620, 2]
type = veladd
trigger1 = animelemtime(21) >= 3 
y = 0.11
[State 1100, wind]
type = Helper
trigger1 = Animelemtime(1) = 1
name = "bunsin"
stateno = 25020
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
trigger1 = Animelem = 4
name = "bunsin"
stateno = 15021
scale = 1,1
pos = 0,0
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
trigger1 = Animelem = 6
name = "bunsin"
stateno = 15022
scale = 1,1
pos = 0,0
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
trigger1 = Animelem = 10
name = "bunsin"
stateno = 15023
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
trigger1 = Animelem = 14
name = "bunsin"
stateno = 15024
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
trigger1 = Animelem = 18
name = "bunsin"
stateno = 15025
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 920]
type = ChangeState
trigger1 = animelemtime(19) = 0
value = 15010
ctrl = 0
[Statedef 15010]
type    = A
movetype= A
physics = N
juggle  = 0
anim = 15010
ctrl = 0
sprpriority = -1
[State power]
Type = VarSet
Trigger1 = Time = 0
V = 25
Value = 0
Ignorehitpause = 1
Persistent = 0
[State 620, 2]
type = posadd
trigger1 = time = 0
x = 43
[State 1000, 1]
type = Pause
trigger1 = GameTime % 2 = 0
trigger1 = 1
time = 3
movetime = 0
[State 620, 2]
type = velset
trigger1 = 1
x = 3.9
[State 620, 2]
type = veladd
trigger1 = time = 0
y = -0.1
[State 620, 2]
type = veladd
trigger1 = 1
y = 0.12
[State 2000]
type = BGPalfx
trigger1 = 1
Add = -132,-132,-132
time = 20
[State 4050, 88]
Type = AssertSpecial
Trigger1 = Var(59) = 2
Trigger1 = Fvar(6) != 4
flag = invisible
flag2 = noshadow
[State 920]
type = hitdef
Trigger1 = Var(59) < 2
trigger1 = time = 0
attr = A, HT
animtype  = hard
damage    = 9999;0
getpower  = 0
priority  = 6
hitflag = MAF
guardflag = 
pausetime = 0,70
guard.sparkno = S8030
Guard.Dist = 0
sparkno = -1
sparkxy = -10,-60
hitsound   = S5,4
guardsound = S2,10
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-9
guard.velocity = -5
air.cornerpush.veloff = 0
air.velocity = 0,-9
airguard.velocity = 0, -4
p1stateno = 15100
p2stateno = 13101
fall.recover = 0
kill = 0
Fall = 1
Air.Fall = 1
[State 920]
type = hitdef
Trigger1 = Var(59) = 2
trigger1 = time = 0
attr = A, HA
animtype  = hard
damage    = 9999;0
getpower  = 0
priority  = 7
hitflag = MAF
guardflag = 
pausetime = 0,70
guard.sparkno = S8030
Guard.Dist = 0
sparkno = -1
sparkxy = -10,-60
hitsound   = S5,4
guardsound = S2,10
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-9
guard.velocity = -5
air.cornerpush.veloff = 0
air.velocity = 0,-9
airguard.velocity = 0, -4
p1stateno = 15100
p2stateno = 13101
fall.recover = 0
kill = 0
Fall = 1
Air.Fall = 1
[State power]
Type = VarSet
Trigger1 = MoveContact
V = 25
Value = IfElse(MoveHit=1,1,2)
Ignorehitpause = 1
Persistent = 0
[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1
[State 1100, wind]
type = Helper
triggerAll = Animelem = 1
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13026
scale = 1,1
pos = 0,0
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
triggerAll = time = 8
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13027
scale = 1,1
pos = 0,0
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
triggerAll = time = 16
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13028
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
triggerAll = time = 24
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13026
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 920]
type = ChangeState
trigger1 = vel y > 0 && pos y >= 0
value = 15050
ctrl = 0
[Statedef 15051]
type    = S
movetype= I
physics = S
juggle  = 0
anim = 15020
velset = 0.1,0
ctrl = 0
sprpriority = 1
[State 620, 2]
type = posadd
trigger1 = time = 0
x = 45
[State 1000, 1]
type = Pause
trigger1 = time >= 0
trigger1 = GameTime % 2 = 0
time = 2
movetime = 0
[State 620, 2]
type = posset
trigger1 = animelemtime(1) = 0
y = 0
[State 1100, wind]
type = Helper
triggerAll = Animelem = 1
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13029
scale = 1,1
pos = 0,0
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
triggerAll = Animelem = 3
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13030
scale = 1,1
pos = 0,0
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
triggerAll = Animelem = 6
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13031
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1010, 8]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1
[Statedef 15100]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 15130
ctrl = 0
sprpriority = 1
[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
[State 4050, 88]
Type = AssertSpecial
Trigger1 = Fvar(6) != 4
Trigger1 = Var(59) = 2
flag = invisible
flag2 = noshadow
[State 620, 2]
type = PlaySnd
Trigger1 = Fvar(6) != 4
trigger1 = time = 0
value = 55, 1
[State -1]
Type = EnvShake
Trigger1 = Time = 15
Time = 26
Freq = 87
Ampl = 26
IgnoreHitPause = 1
PerSistent = 0
[State 920]
type = hitadd
trigger1 = time = 16 || time = 17 || time = 18 || time = 19 || time = 20 
trigger2 = time = 21 || time = 22 || time = 23 || time = 24 || time = 25 
trigger3 = time = 26 || time = 27 || time = 28 || time = 29 || time = 31
trigger4 = time = 33
value = 1
[State 800]
type = TargetLifeadd
TriggerAll = numhelper(340004) = 1
trigger1 = time = 15
value = -9999
absolute = 0
[State -1]
Type = VarAdd
trigger1 = time = 16 || time = 17 || time = 18 || time = 19 || time = 20 
trigger2 = time = 21 || time = 22 || time = 23 || time = 24 || time = 25 
trigger3 = time = 26 || time = 27 || time = 28 || time = 29 || time = 31
trigger4 = time = 33 || Time = 34
V = 22
Value = 1
[State 4050, 1]
type = AfterImagetime
triggerAll = Time = 0
Trigger1 = Var(59) < 2
Trigger1 = Fvar(6) = 4
time = 0
[State 4050, 1]
type = posset
trigger1 = Time = 0
y = 0
[State 4050, 1]
type = posadd
trigger1 = P2BodyDist X > -160
trigger1 = AnimElemtime(2) <= 0
trigger1 = Anim != 15110
x = 9
[State explod]
type = Explod
trigger1 = AnimElemtime(2) = 0
trigger1 = Anim != 15110
anim = 16202
supermove = 1
pausemovetime = 99999
pos = 0,0
postype = back
bindtime = -1
sprpriority = 2
ownpal = 1
[State explod]
type = Explod
trigger1 = AnimElemtime(2) = 0
trigger1 = Anim != 15110
anim = 16500
supermove = 1
pausemovetime = 99999
pos = 0,0
postype = back
bindtime = -1
sprpriority = 3
ownpal = 1
[State 2000]
type = BGPalfx
trigger1 = time = 0
trigger1 = Anim != 15110
Add = -132,-132,-132
time = 70
[State 620, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 5, 2
[State 620, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 1, 9
[State 920]
type = targetState
trigger1 = animelem = 2
value = 15201
ctrl = 0
[State 1000]
type = AssertSpecial
trigger1 = animelem = 6
trigger1 = RoundState = 3
Trigger1 = Fvar(12) = [0.5,1]
flag = noautoturn
[State 1010, 8]
type = varset
trigger1 = animelem = 7
trigger1 = RoundState = 3
Trigger1 = Fvar(12) = [0.5,1]
var(32) = 11
[State 1010, 8]
type = changeanim
trigger1 = animelem = 8
trigger1 = RoundState = 3
Trigger1 = Fvar(12) = [0.5,1]
value = 15110
[State 920]
Type = Turn
TriggerAll = AnimTime = 0
Trigger1 = RoundState = 2
[State 1000]
type = AssertSpecial
trigger1 = animelem = 6
trigger1 = RoundState = 3
flag = noautoturn
[State 1010, 8]
type = varset
trigger1 = animelem = 7
trigger1 = RoundState = 3
var(32) = 11
[State 1010, 8]
type = changeanim
trigger1 = animelem = 8
trigger1 = RoundState = 3
value = 15110
[State 920]
Type = ChangeState
Trigger1 = AnimTime = 0
TriggerAll = win
Value = 18300
Ctrl = IfElse(RoundState=2,0,1)
[State 920]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = IfElse(RoundState=2,0,1)
[Statedef 15200]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = 1
[State 5070, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 15200
[State 2000]
type = ALLPalfx
trigger1 = time = 1
trigger1 = life <= 0
add = 256,0,0
mul = 256,0,0
time = 2
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 50
trigger1 = SelfAnimExist(5030)
value = 5030
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 50
trigger1 = SelfAnimExist(5060)
value = 5060
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 50
trigger1 = SelfAnimExist(5051)
value = 5051
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 50
trigger1 = SelfAnimExist(5052)
value = 5052
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 76
trigger1 = anim != 5052
trigger1 = SelfAnimExist(5061)
value = 5061
[State 758, Velocity]
type = VelSet
trigger1 = Time = 50
x = 0
y = -8.3
[State 758, Gravity]
type = VelAdd
trigger1 = time >= 50
y = 0.33
[State 758, Hit ground]
type = selfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
trigger1 = alive = 1
value = 5100
[State 758, Hit ground]
type = selfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
trigger1 = alive = 0
value = 5110
[Statedef 15201]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = 1
[State 5070, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 13200
[State 2000]
type = ALLPalfx
trigger1 = time = 1
trigger1 = life <= 0
add = 256,0,0
mul = 256,0,0
time = 2
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 50
trigger1 = SelfAnimExist(5030)
value = 5030
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 50
trigger1 = SelfAnimExist(5060)
value = 5060
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 50
trigger1 = SelfAnimExist(5051)
value = 5051
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 50
trigger1 = SelfAnimExist(5052)
value = 5052
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 76
trigger1 = anim != 5052
trigger1 = SelfAnimExist(5061)
value = 5061
[State 758, Velocity]
type = VelSet
trigger1 = Time = 50
x = 0
y = -8.3
[State 758, Gravity]
type = VelAdd
trigger1 = time >= 50
y = 0.33
[State 1021]
type = selfstate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
alive = 1
value = 5100
[State 1021]
type = selfstate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
alive = 0
value = 5110
[Statedef 15050]
type    = S
movetype= I
physics = S
juggle  = 0
anim = 15020
velset = 0.1,0
ctrl = 0
sprpriority = 1
[State 1000, 1]
type = Pause
trigger1 = time >= 0
trigger1 = GameTime % 2 = 0
time = 2
movetime = 0
[State 4050, 88]
Type = AssertSpecial
Trigger1 = Var(59) = 2
Trigger1 = Fvar(6) != 4
Trigger1 = PrevStateNo != 34010
flag = invisible
flag2 = noshadow
[State 620, 2]
type = posset
trigger1 = animelemtime(1) = 0
y = 0
[State 620, 2]
type = PlaySnd
trigger1 = animelemtime(1) = 0
value = 0, 0
[State 1100, wind]
type = Helper
triggerAll = Animelem = 1
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13029
scale = 1,1
pos = 0,0
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
triggerAll = Animelem = 3
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13030
scale = 1,1
pos = 0,0
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
triggerAll = Animelem = 6
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13031
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1000]
type = AssertSpecial
trigger1 = animelem = 6
trigger1 = RoundState = 3
flag = noautoturn
[State 1010, 8]
type = varset
trigger1 = animelem = 7
trigger1 = RoundState = 3
var(32) = 11
[State 1010, 8]
type = changeanim
trigger1 = animelem = 8
trigger1 = RoundState = 3
value = 15110
[State 1010, 8]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;分身
[Statedef 25020]
type = A
movetype = I
physics = N
anim = 15330
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(31) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(31) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(31) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(31),var(31),var(31)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(31) < -234
[Statedef 15021]
type = A
movetype = I
physics = N
anim = 15331
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999

[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(32) = -4
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(32) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(32) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(32),var(32),var(32)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(32) < -234
[Statedef 15022]
type = A
movetype = I
physics = N
anim = 15332
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(33) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(33) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(33),var(33),var(33)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(33) < -234
[Statedef 15023]
type = A
movetype = I
physics = N
anim = 15333
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(34) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(34) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(34) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(34),var(34),var(34)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(34) < -234
[Statedef 15024]
type = A
movetype = I
physics = N
anim = 15334
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(35) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(35) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(35) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(35),var(35),var(35)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(35) < -234
[Statedef 15025]
type = A
movetype = I
physics = N
anim = 15335
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(36) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(36) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(36) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(36),var(36),var(36)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(36) < -234


[StateDef 8018] 
type  = A
movetype = I
physics  = N
ctrl  = 0
anim  = 29010
SprPriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999

[State 960, VarAdd]
type = VarAdd
trigger1 = time >= 0
v = 7
value = -10
IgnoreHitPause = 1
Persistent = 1


[State 2000]
type = BGPalfx
Trigger1 = Root,StateNo = [24500,24520]
trigger1 = time >= 0
add = -255,-255,-255
time = 1
supermove = 1
supermovetime = 1000
pausemovetime = 10000


[State 2000]
type = BGPalfx
Trigger1 = Root,StateNo != [24500,24520]
trigger1 = time >= 0
add = -128,-128,-128;255
time = 1
supermove = 1
supermovetime = 1000
pausemovetime = 10000


[State 9020]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = noshadow
flag3 = nobg


[State -2]
type = AssertSpecial
Trigger1 = PalNo = 12
Trigger2 = Var(59) = 2
Trigger3 = Var(59) < 2
Trigger3 = Var(45) = 1 || Var(45) = 3
flag = timerfreeze
persistent = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State face]
type = Explod
trigger1 = time = 0
anim = 29015
pos = -180,128
postype = back
vel = 13.5,0
accel = -.6,0
removetime = 22
supermove = 1
scale = .5,.5
sprpriority = -6
pausemovetime = 1000
supermovetime = 1000


[State face]
type = Explod
trigger1 = time = 20
anim = 29015
pos = -24,128
postype = back
bindtime = -1
removetime = 38
supermove = 1
scale = .5,.5
sprpriority = -6
pausemovetime = 1000
supermovetime = 1000


[State face]
type = Explod
trigger1 = time = 58
anim = 29016
ID = 9020
pos = -24,125
vel = 2,0
postype = back
supermove = 1
sprpriority = -6
pausemovetime = 1000
supermovetime = 1000


[State var]
type = varset
trigger1 = time = 0
fvar(2) = 0


[State var]
type = varadd
trigger1 = time >= 58
fvar(2) = .20
ignorehitpause = 1


[State explod]
type = ModifyExplod
trigger1 = 1
ID = 9020
scale = .5+fvar(2)/8,.5+fvar(2)/8
ignorehitpause = 1
pausemovetime = 1000
supermovetime = 1000


[State pal]
type = PalFX
trigger1 = time = 63
time = 48
sinadd = -456,-456,-456,192
ignorehitpause = 1
pausemovetime = 1000
supermovetime = 1000


[State explod]
Type = RemoveExplod
Trigger1 = time = 93


[State end]
type = DestroySelf
trigger1 = time = 93


[statedef 350000]
Type = A
type = A
ctrl = 0
anim = 9977
velset = -9999,-9999
movetype = I
physics = N
sprpriority = -20

[State -1]
type = varset
trigger1 = 1
V = 13
value = 0
ignorehitpause = 1


[State 3300, 2]
type = powerset
triggerAll = Var(13) = 0
trigger1 = Time >= 0
value = 0
ignorehitpause = 1

;----------------------------------------------------------------------------
;(HELPER)BBB背景用ヘルパー1
[Statedef 6610]
type = A
ctrl = 0
anim = 27018
velset = 0,0
movetype = I
physics = N
sprpriority = -60

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = ChangeAnim
trigger1 = time = 0
value = 27018
elem = 5

[state a]
type = posset
trigger1 = 1
x = pos x - screenpos x +160
y = pos y - screenpos y +120

[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = animelem = 8,>=0
v = 1
value = 10

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),40+var(1)

[state a]
type = AngleDraw
trigger1 = 1
scale = 1.5+0.05*Time,1.5+0.05*Time

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256


;---------------------------------------------------------------------------
;(HELPER)BBB背景用ヘルパー2
[Statedef 6615]
type = S
ctrl = 0
anim = 9977
velset = 0,0
movetype = I
physics = N
sprpriority = 5

[state a]
type = AssertSpecial
trigger1 = time = 0
flag = invisible

;---------------------[透過]
[state a]
type = BGPalFX
trigger1 = time < 15
time = 1
mul = 0,0,0

[state a]
type = BGPalFX
trigger1 = time = [15,30]
time = 1
mul = 12*(time-15),12*(time-15),12*(time-15)

[state a]
type = BGPalFX
trigger1 = time > 30
time = 1
mul = 256,256,256

;---------------------[エフェクト]
[State explod];エフェクト
type = Explod
trigger1 = time = 0
anim = 27019
id = 6600
sprpriority = -60
postype = back
pos = 0,0
bindtime = -1
removetime = -1
;pausemovetime = 30
supermove = 1
ignorehitpause = 1
under = 0
ownpal = 1

[state a]
type = ModifyExplod
trigger1 = Time >= 15
trans = addalpha
alpha = 256-12*(Time-15),12*(Time-15)

[state a]
type = RemoveExplod
trigger1 = time >= 70

;---------------------[]
[state a]
type = DestroySelf
trigger1 = time >= 70

;---------------------------------------------------------------------------
;(HELPER)BBB背景用ヘルパー3
[Statedef 6616]
type = S
ctrl = 0
anim = 9977
velset = 0,0
movetype = I
physics = N
sprpriority = 5

[state a]
type = AssertSpecial
trigger1 = time = 0
flag = invisible

;---------------------[透過]
[state a]
type = BGPalFX
trigger1 = time < 100
time = 1
mul = 0,0,0

[state a]
type = BGPalFX
trigger1 = time = [100,115]
time = 1
mul = 12*(time-100),12*(time-100),12*(time-100)

[state a]
type = BGPalFX
trigger1 = time > 115
time = 1
mul = 256,256,256

;---------------------[エフェクト]
[State explod];エフェクト
type = Explod
trigger1 = time = 0
anim = 27019
id = 6600
sprpriority = -60
postype = back
pos = 0,0
bindtime = -1
removetime = -1
;pausemovetime = 115
supermove = 1
ignorehitpause = 1
under = 0
ownpal = 1

[state a]
type = ModifyExplod
trigger1 = Time >= 100
trans = addalpha
alpha = 256-12*(Time-100),12*(Time-100)

[state a]
type = RemoveExplod
trigger1 = time >= 155

;---------------------[]
[state a]
type = DestroySelf
trigger1 = time >= 155


;---------------------------------------------------------------------------
; 立ち強ヘルパー
[Statedef 225]
Type = A
MoveType = A
Physics = N
SprPriority = 4
Anim = 225

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VelSet
Trigger1 = Time > 0
X = 12

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Parent, Var(25)/10%10 < 3
TriggerAll = Var(1) < 1
Trigger1 = Time >= 1
Attr = S, NP
Damage = Ceil(Parent,FVar(0)*(45-Parent,Var(4)%2))
Priority  = 1, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 8,8+parent,Var(41)
Guard.PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,40
GuardSound = s120,0+Random%2
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 12
Ground.HitTime  = 12
SprPriority = 5
Ground.Velocity = -4*Parent,Var(50)
Air.Velocity = -2*parent,Var(50),IfElse(parent,Var(50)=1,-7.2,parent,FVar(25))
AirGuard.Velocity = -2*Parent,Var(50),-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -7
Down.CornerPush.VelOff = -7
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 26
GetPower = Ceil(parent,FVar(16)*70), Ceil(0.85*parent,FVar(16)*70)
GivePower = Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*21), Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*10)

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = MoveHit = 1
Trigger2 = MoveContact = 1
FV = 37
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1
Trigger1 = Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveContact = 1
Trigger2 = MoveReversed = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Root,FVar(38) = 15
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = varset
Trigger1 = time = 0
FV = 37
value = Root,FVar(38)+1

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type =  null;Helper
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Trigger1 = Root,FVar(38) < FVar(37)
Stateno = 228
ID = 228
ownpal = 1
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = MoveHit = 1
;Trigger2 = FrontEdgeDist <= -10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 立ち強ヘルパー
[Statedef 225]
Type = A
MoveType = A
Physics = N
SprPriority = 4
Anim = 225

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VelSet
Trigger1 = Time > 0
X = 12

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Parent, Var(25)/10%10 < 3
TriggerAll = Var(1) < 1
Trigger1 = Time >= 1
Attr = S, NP
Damage = Ceil(Parent,FVar(0)*(45-Parent,Var(4)%2))
Priority  = 1, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 8,8+parent,Var(41)
Guard.PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,40
GuardSound = s120,0+Random%2
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 12
Ground.HitTime  = 12
SprPriority = 5
Ground.Velocity = -4*Parent,Var(50)
Air.Velocity = -2*parent,Var(50),IfElse(parent,Var(50)=1,-7.2,parent,FVar(25))
AirGuard.Velocity = -2*Parent,Var(50),-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -7
Down.CornerPush.VelOff = -7
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 26
GetPower = Ceil(parent,FVar(16)*70), Ceil(0.85*parent,FVar(16)*70)
GivePower = Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*21), Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*10)

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = MoveHit = 1
Trigger2 = MoveContact = 1
FV = 37
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1
Trigger1 = Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveContact = 1
Trigger2 = MoveReversed = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Root,FVar(38) = 15
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = varset
Trigger1 = time = 0
FV = 37
value = Root,FVar(38)+1

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type =  null;Helper
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Trigger1 = Root,FVar(38) < FVar(37)
Stateno = 228
ID = 228
ownpal = 1
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = MoveHit = 1
;Trigger2 = FrontEdgeDist <= -10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


;---------------------------------------------------------------------------
; ナイフ消滅ヘルパー
[Statedef 226]
Type = A
Physics = N
SprPriority = 2
Anim = 1305

[State -1]
Type = Turn
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 1226
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarAdd
Trigger1 = Time >= 1
V = 2
Value = 10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = -10,10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = -10,10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 256-Var(2),256

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = AngleAdd
Trigger1 = 1
Value = -50

[State -1]
Type = VelSet
Trigger1 = Time = 0
X = -1.50+(0.00+Var(3))/10
Y = -5.00+(0.00+Var(4))/10

[State -1]
Type = VelAdd
Trigger1 = Time >= 1
Y = .4

[State -1]
Type = DestroySelf
Trigger1 = Time = 25
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ナイフ設置ヘルパー
[Statedef 227]
Type = A
Physics = N
VelSet = 0,0
SprPriority = 3

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) = 15
Trigger1 = Time = 0
Value = 226
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ParentVarAdd
Trigger1 = Root,FVar(38) < 15
Trigger1 = IsHelper(1305)
Trigger1 = FVar(38) > 1
FV = 38
Value = FVar(38)
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ParentVarAdd
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time = 0
FV = 38
Value = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = 2405+Random%5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s2006, 1
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PosSet
Trigger1 = Time = 0
Y = 0

[State -1]
Type = ChangeState
Trigger1 = Root,StateNo = 2400
Trigger1 = Root,AnimElem = 5
Value = 2405
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Root,StateNo = 4002
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ナイフ反射ヘルパー
[Statedef 228]
Type = A
Physics = N
SprPriority = 2
Anim = 1305

[State -1]
Type = DestroySelf
Trigger1 = parent,Ishelper(625) = 1
Trigger1 = parent,movehit = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Turn
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 1226
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s2006, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = -10,10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = -10,10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = AngleAdd
Trigger1 = 1
Value = -30

[State -1]
Type = VelSet
Trigger1 = Time = 0
X = -2.00+(0.00+Var(3))/10
Y = -6.00+(0.00+Var(4))/10

[State -1]
Type = VelAdd
Trigger1 = Time >= 1
Y = .4

[State -1]
Type = ChangeState
Trigger1 = Pos Y >= 0
Value = 227
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ブービートラップ成功ヘルパー
[Statedef 242]
Type = A
Physics = N
Velset = 0,0
SprPriority = -5
Anim = 241

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = BindToParent
Trigger1 = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AfterImage
Trigger1 = Time = 0
Time = 10
Trans = AddAlpha
TimeGap  = 1
FrameGap = 1
Length   = 20
PalBright = 0 , 0 , 0
PalContrast = 50 , 50 , 256
PalPostBright = 0,0,0
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 10
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; しゃがみ強ヘルパー
[Statedef 425]
Type = A
MoveType = A
Physics = N
SprPriority = 4
Anim = 425

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = AngleSet
Trigger1 = 1
Value = 30

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VelSet
Trigger1 = Time > 0
X = 9
Y = -7

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Parent, Var(25)/10%10 < 3
Trigger1 = Time >= 1
Attr = A, NP
Damage = Ceil(Parent,FVar(0)*(30-Parent,Var(4)%2))
Priority  = 1, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 8,8+parent,Var(41)
Guard.PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,40
GuardSound = s120,0+Random%2
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 12
Ground.HitTime  = 12
SprPriority = 5
Ground.Velocity = -4*Parent,Var(50)
Air.Velocity = -2*Parent,Var(50),IfElse(parent,Var(50)=1,-7.2,parent,FVar(25))
AirGuard.Velocity = -2*Parent,Var(50),-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -7;*Parent,Var(50)
Down.CornerPush.VelOff = -7;*Parent,Var(50)
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 24
GetPower = Ceil(parent,FVar(16)*70), Ceil(0.85*parent,FVar(16)*70)
GivePower = Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*21), Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*10)


[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = MoveHit = 1
Trigger2 = MoveContact = 1
FV = 37
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1
Trigger1 = Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveContact = 1
Trigger2 = MoveReversed = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = varset
Trigger1 = time = 0
FV = 37
value = Root,FVar(38)+1

[State -1]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Root,FVar(38) = 15
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;Helper
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Trigger1 = Root,FVar(38) < FVar(37)
Stateno = 228
ID = 228
ownpal = 1
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = MoveHit = 1
;Trigger2 = FrontEdgeDist <= -10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; しゃがみ強ヘルパー2
[Statedef 426]
Type = A
MoveType = A
Physics = N
SprPriority = 4
Anim = 426

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = AngleSet
Trigger1 = 1
Value = 60

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VelSet
Trigger1 = Time > 0
X = 7
Y = -9

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Parent, Var(25)/10%10 < 3
Trigger1 = Time >= 1
Attr = A, NP
Damage = Ceil(Parent,FVar(0)*(30-Parent,Var(4)%2))
Priority  = 1, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 6,6+parent,Var(41)
Guard.PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,40
GuardSound = s120,0+Random%2
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 12
Ground.HitTime  = 12
SprPriority = 5
Ground.Velocity = -4*Parent,Var(50)
Air.Velocity = -2*Parent,Var(50),IfElse(parent,Var(50)=1,-7.2,parent,FVar(25))
AirGuard.Velocity = -2*Parent,Var(50),-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -7;*Parent,Var(50)
Down.CornerPush.VelOff = -7;*Parent,Var(50)
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 24
GetPower = Ceil(parent,FVar(16)*70), Ceil(0.85*parent,FVar(16)*70)
GivePower = Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*21), Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*10)

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = MoveHit = 1
Trigger2 = MoveContact = 1
FV = 37
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1
Trigger1 = Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveContact = 1
Trigger2 = MoveReversed = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Value = 226
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -40
Trigger2 = MoveHit = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 空中強ヘルパー
[Statedef 625]
Type = A
MoveType = A
Physics = N
SprPriority = 4
Anim = 625

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = AngleSet
Trigger1 = 1
Value = -45

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VelSet
Trigger1 = Time > 0
X = 7
Y = 9

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Parent, Var(25)/10%10 < 3
Trigger1 = Time >= 1
Attr = A, NP
Damage = Ceil(Parent,FVar(0)*(30-Parent,Var(4)%2))
Priority  = 1, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 6,6+parent,Var(41)
Guard.PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,40
GuardSound = s120,0+Random%2
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 12
Ground.HitTime  = 12
SprPriority = 5
Ground.Velocity = -2*Parent,Var(50),IfElse(parent,Var(50)=1,-7.2,parent,FVar(25))
Air.Velocity = -2*Parent,Var(50),IfElse(parent,Var(50)=1,-7.2,parent,FVar(25))
AirGuard.Velocity = -2*Parent,Var(50),-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -7
Down.CornerPush.VelOff = -7
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 24
GetPower = Ceil(parent,FVar(16)*70), Ceil(0.85*parent,FVar(16)*70)
GivePower = Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*21), Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*10)

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = MoveHit = 1
Trigger2 = MoveContact = 1
FV = 37
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1
Trigger1 = Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveContact = 1
Trigger2 = MoveReversed = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = varset
Trigger1 = time = 0
FV = 37
value = Root,FVar(38)+1

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) >= 15
Trigger1 = Pos Y >= 0
Value = 226
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) < 15
Trigger1 = Pos Y >= 0
Value = 227
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;Helper
Trigger1 = Root,FVar(38) < 15
Trigger1 = Pos Y >= 0
Trigger1 = Root,FVar(38) < FVar(37)
Stateno = 227
ID = 228
ownpal = 1
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Root,FVar(38) = 15
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;Helper
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Trigger1 = Root,FVar(38) < FVar(37)
Stateno = 228
ID = 228
ownpal = 1
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = MoveHit = 1
;Trigger2 = Pos Y >= 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 空中シールドカウンターヘルパー
[Statedef 926]
Type = A
MoveType = A
Physics = N
SprPriority = 4

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(926)
Trigger1 = Time = 0
Value = 926

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(927)
Trigger1 = Time = 0
Value = 927

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(928)
Trigger1 = Time = 0
Value = 928

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = AngleSet
Trigger1 = IsHelper(926)
Value = -45

[State -1]
Type = AngleSet
Trigger1 = IsHelper(927)
Value = -30

[State -1]
Type = AngleSet
Trigger1 = IsHelper(928)
Value = -15

[State -1]
Type = VelSet
Trigger1 = IsHelper(926)
Trigger1 = Time > 0
X = 6
Y = 8

[State -1]
Type = VelSet
Trigger1 = IsHelper(927)
Trigger1 = Time > 0
X = 8
Y = 6.5

[State -1]
Type = VelSet
Trigger1 = IsHelper(928)
Trigger1 = Time > 0
X = 10
Y = 5

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Parent,Var(25) < 3
TriggerAll = Var(1) < 1
Trigger1 = Time >= 1
Attr = S, SP
Damage = Ceil(Parent,FVar(0)*(45-Parent,Var(5)%2))
Priority  = 1, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)),1+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
Guard.PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 14+IfElse(Parent,Var(38)=1,5,0)
Ground.HitTime  = 14+IfElse(Parent,Var(38)=1,5,0)
SprPriority = 5
Ground.Velocity = -4*Parent,FVar(4)
Air.Velocity = -1*Parent,FVar(4),-4
AirGuard.Velocity = -2*Parent,FVar(4),-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -2*Parent,FVar(4)
Down.CornerPush.VelOff = -2*Parent,FVar(4)
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 24
GetPower = Ceil(60*Parent,Var(39)*0.1), 0
GivePower = Ceil(60*(10-Parent,Var(39))*0.1), 0

[State -1]
Type = HitDef
TriggerAll = Parent, Var(25)/10%10 < 3
TriggerAll = Var(1) < 1
Trigger1 = Time >= 1
Attr = S, NP
Damage = Ceil(Parent,FVar(0)*(35-Parent,Var(4)%2))
Priority  = 1, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 2,17+parent,Var(41)
Guard.PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,40
GuardSound = s120,0+Random%2
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 11
Ground.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,Var(50)
Air.Velocity = -1*parent,Var(50),-4
AirGuard.Velocity = -2*Parent,Var(50),-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -2
Down.CornerPush.VelOff = -2
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 24
GetPower = Ceil(parent,FVar(16)*70), Ceil(0.85*parent,FVar(16)*70)
GivePower = Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*21), Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*10)

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1
Trigger1 = Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveContact = 1
Trigger2 = MoveReversed = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = varset
Trigger1 = time = 0
FV = 37
value = Root,FVar(38)+3

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) >= 15
Trigger1 = Pos Y >= 0
Value = 226
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) < 15
Trigger1 = Pos Y >= 0
Value = 227
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;Helper
Trigger1 = Root,FVar(38) < 15
Trigger1 = Pos Y >= 0
Trigger1 = Root,FVar(38) < FVar(37)
Stateno = 227
ID = 228
ownpal = 1
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Root,FVar(38) = 15
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;Helper
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Trigger1 = Root,FVar(38) < FVar(37)
Stateno = 228
ID = 228
ownpal = 1
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = MoveHit = 1
;Trigger2 = FrontEdgeDist <= -10
;Trigger3 = Pos Y >= 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; トライナイフヘルパー
[Statedef 1105]
Type = A
MoveType = A
Physics = N
SprPriority = 4

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(1105)
Trigger1 = Time = 0
Value = 1105

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(1106)
Trigger1 = Time = 0
Value = 1106

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(1107)
Trigger1 = Time = 0
Value = 1107

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(1108)
Trigger1 = Time = 0
Value = 1108

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(1109)
Trigger1 = Time = 0
Value = 1109

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(1110)
Trigger1 = Time = 0
Value = 1110

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1105)
Value = 5

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1106)
Value = 0

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1107)
Value = -5

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1108)
Value = 30

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1109)
Value = 25

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1110)
Value = 20

[State -1]
Type = VelSet
Trigger1 = IsHelper(1105)
Trigger1 = Time > 0
X = 12
Y = -1

[State -1]
Type = VelSet
Trigger1 = IsHelper(1106)
Trigger1 = Time > 0
X = 12
Y = 0

[State -1]
Type = VelSet
Trigger1 = IsHelper(1107)
Trigger1 = Time > 0
X = 12
Y = 1

[State -1]
Type = VelSet
Trigger1 = IsHelper(1108)
Trigger1 = Time > 0
X = 12
Y = -7

[State -1]
Type = VelSet
Trigger1 = IsHelper(1109)
Trigger1 = Time > 0
X = 12
Y = -6

[State -1]
Type = VelSet
Trigger1 = IsHelper(1110)
Trigger1 = Time > 0
X = 12
Y = -5

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Parent, Var(25)/10%10 < 3
TriggerAll = Var(1) < 1
Trigger1 = Time >= 1
Attr = S, NP
Damage = Ceil(Parent,FVar(0)*(35-Parent,Var(4)%2))
Priority  = 1, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 2,2+parent,Var(41)
Guard.PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,40
GuardSound = s120,0+Random%2
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 11
Ground.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,Var(50)
Air.Velocity = -1*parent,Var(50),-4
AirGuard.Velocity = -2*Parent,Var(50),-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -2
Down.CornerPush.VelOff = -2
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 24
GetPower = Ceil(parent,FVar(16)*70), Ceil(0.85*parent,FVar(16)*70)
GivePower = Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*21), Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*10)

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1
Trigger1 = Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveContact = 1
Trigger2 = MoveReversed = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = varset
Trigger1 = time = 0
FV = 37
value = Root,FVar(38)+3

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) >= 15
Trigger1 = Pos Y >= 0
Value = 226
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) < 15
Trigger1 = Pos Y >= 0
Value = 227
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;Helper
Trigger1 = Root,FVar(38) < 15
Trigger1 = Pos Y >= 0
Trigger1 = Root,FVar(38) < FVar(37)
Stateno = 227
ID = 228
ownpal = 1
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Root,FVar(38) = 15
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;Helper
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Trigger1 = Root,FVar(38) < FVar(37)
Stateno = 228
ID = 228
ownpal = 1
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = MoveHit = 1
;Trigger2 = FrontEdgeDist <= -10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; パンクヘルパー
[Statedef 1155]
Type = A
MoveType = A
Physics = N
SprPriority = 4

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(1155)
Trigger1 = Time = 0
Value = 1155

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(1156)
Trigger1 = Time = 0
Value = 1156

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(1157)
Trigger1 = Time = 0
Value = 1157

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(1158)
Trigger1 = Time = 0
Value = 1158

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(1159)
Trigger1 = Time = 0
Value = 1159

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(1160)
Trigger1 = Time = 0
Value = 1160

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1155)
Value = -90

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1156)
Value = -55

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1157)
Value = -50

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1158)
Value = -45

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1159)
Value = -30

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1160)
Value = -15

[State -1]
Type = VelSet
Trigger1 = IsHelper(1155)
Trigger1 = Time > 0
X = 0
Y = 16

[State -1]
Type = VelSet
Trigger1 = IsHelper(1156)
Trigger1 = Time > 0
X = 3
Y = 3.5

[State -1]
Type = VelSet
Trigger1 = IsHelper(1157)
Trigger1 = Time > 0
X = 4
Y = 3

[State -1]
Type = VelSet
Trigger1 = IsHelper(1158)
Trigger1 = Time > 0
X = 5
Y = 2.5

[State -1]
Type = VelSet
Trigger1 = IsHelper(1159)
Trigger1 = Time > 0
X = 6
Y = 2

[State -1]
Type = VelSet
Trigger1 = IsHelper(1160)
Trigger1 = Time > 0
X = 7
Y = 1.5

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Parent, Var(25)/10%10 < 3
TriggerAll = Var(1) < 1
Trigger1 = Time >= 1
Attr = S, NP
Damage = Ceil(Parent,FVar(0)*(35-Parent,Var(4)%2))
Priority  = 1, Dodge
AnimType  = hard
HitFlag = MAFD
GuardFlag = MA
PauseTime = 2,29+parent,Var(41)
Guard.PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,40
GuardSound = s120,0+Random%2
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 11
Ground.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,Var(50)
Air.Velocity = -1*parent,Var(50),-4
AirGuard.Velocity = -2*Parent,Var(50),-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -2
Down.CornerPush.VelOff = -2
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 24
GetPower = Ceil(parent,FVar(16)*70), Ceil(0.85*parent,FVar(16)*70)
GivePower = Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*21), Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*10)

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1
Trigger1 = Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveContact = 1
Trigger2 = MoveReversed = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = varset
Trigger1 = time = 0
FV = 37
value = Root,FVar(38)+1

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) >= 15
Trigger1 = Pos Y >= 0
Value = 226
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) < 15
Trigger1 = Pos Y >= 0
Value = 227
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;Helper
Trigger1 = Root,FVar(38) < 15
Trigger1 = Pos Y >= 0
Trigger1 = Root,FVar(38) < FVar(37)
Stateno = 227
ID = 228
ownpal = 1
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Root,FVar(38) = 15
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;Helper
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Trigger1 = Root,FVar(38) < FVar(37)
Stateno = 228
ID = 228
ownpal = 1
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = MoveHit = 1
;Trigger2 = FrontEdgeDist <= -10
;Trigger3 = Pos Y >= 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; トライナイフヘルパーEX
[Statedef 2105]
Type = A
MoveType = A
Physics = N
SprPriority = 4

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(2105)
Trigger1 = Time = 0
Value = 1105

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(2106)
Trigger1 = Time = 0
Value = 1106

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(2107)
Trigger1 = Time = 0
Value = 1107

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(2108)
Trigger1 = Time = 0
Value = 1108

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(2109)
Trigger1 = Time = 0
Value = 1109

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(2110)
Trigger1 = Time = 0
Value = 1110

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = VelSet
Trigger1 = Time = 0
X = 2.0*((P2Dist X)/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))
Y = 2.0*((P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))

[State -1]
Type = VarSet
Trigger1 = Time = 1
FV = 10
Value = Vel X

[State -1]
Type = VarSet
Trigger1 = Time = 1
FV = 11
Value = Vel Y

[State -1]
Type = VelAdd
Trigger1 = Time >= 1
X = FVar(10)/2.5
Y = FVar(11)/2.5

[State -1]
Type = AngleSet
Trigger1 = (Vel X != 0)
Value = ATan(Vel Y/Vel X)*(-180.0/Pi)+((Vel X<0)*180)
IgnoreHitPause = 1

[State -1]
Type = AngleSet
Trigger1 = (Vel X = 0)
Value = IfElse(Vel Y<0,90,-90)
IgnoreHitPause = 1

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Parent,Var(25)/10%10 < 3
TriggerAll = Var(1) < 1
Trigger1 = Time >= 1
Attr = S, NP
Damage = Ceil(Parent,FVar(0)*(80-Parent,Var(4)%2))
Priority  = 1, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 2,2+parent,Var(41)
Guard.PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,40
GuardSound = s120,0+Random%2
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 11
Ground.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,Var(50)
Air.Velocity = -1*parent,Var(50),-4
AirGuard.Velocity = -2*Parent,Var(50),-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -2
Down.CornerPush.VelOff = -2
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 24
GetPower = 0,0
GivePower = Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*21), Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*10)

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1
Trigger1 = Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveContact = 1
Trigger2 = MoveReversed = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time >= 100
Trigger2 = movehit = 1
;Trigger2 = Pos Y >= 100 && Vel Y >= 0 || ScreenPos Y <= -100 && Vel Y <= 0
;Trigger3 = FrontEdgeBodyDist <= -100 && Vel X >= 0 || BackEdgeBodyDist <= -100 && Vel X <= 0

;---------------------------------------------------------------------------
; トライナイフヘルパーEX
[Statedef 2106]
Type = A
MoveType = A
Physics = N
SprPriority = 4

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(2105)
Trigger1 = Time = 0
Value = 1105

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(2106)
Trigger1 = Time = 0
Value = 1106

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(2107)
Trigger1 = Time = 0
Value = 1107

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(2108)
Trigger1 = Time = 0
Value = 1108

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(2109)
Trigger1 = Time = 0
Value = 1109

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(2110)
Trigger1 = Time = 0
Value = 1110

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = VelSet
Trigger1 = Time = 0
X = 2.0*((P2Dist X)/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))
Y = 2.0*((P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))

[State -1]
Type = VarSet
Trigger1 = Time = 1
FV = 10
Value = Vel X

[State -1]
Type = VarSet
Trigger1 = Time = 1
FV = 11
Value = Vel Y

[State -1]
Type = VelAdd
Trigger1 = Time >= 1
X = FVar(10)/2.5
Y = FVar(11)/2.5

[State -1]
Type = AngleSet
Trigger1 = (Vel X != 0)
Value = ATan(Vel Y/Vel X)*(-180.0/Pi)+((Vel X<0)*180)
IgnoreHitPause = 1

[State -1]
Type = AngleSet
Trigger1 = (Vel X = 0)
Value = IfElse(Vel Y<0,90,-90)
IgnoreHitPause = 1

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = movehit = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Parent,Var(25)/10%10 < 3
TriggerAll = Var(1) < 1
Trigger1 = Time >= 1
Attr = S, NP
Damage = Ceil(Parent,FVar(0)*(80-Parent,Var(4)%2))
Priority  = 1, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 2,2+parent,Var(41)
Guard.PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,40
GuardSound = s120,0+Random%2
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 11
Ground.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,Var(50)
Air.Velocity = -1*parent,Var(50),-4
AirGuard.Velocity = -2*Parent,Var(50),-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -2
Down.CornerPush.VelOff = -2
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 24
GetPower = 0,0
GivePower = Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*21), Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*10)
[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1
Trigger1 = Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveContact = 1
Trigger2 = MoveReversed = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
;Trigger2 = Root,FVar(38) = 15
;Trigger2 = Time > 1
;Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time >= 100
;Trigger2 = Pos Y >= 100 && Vel Y >= 0 || ScreenPos Y <= -100 && Vel Y <= 0
;Trigger3 = FrontEdgeBodyDist <= -100 && Vel X >= 0 || BackEdgeBodyDist <= -100 && Vel X <= 0

;---------------------------------------------------------------------------
; パンクヘルパーEX
[Statedef 2155]
Type = A
MoveType = A
Physics = N
SprPriority = 4

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(1155)
Trigger1 = Time = 0
Value = 1155

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(1156)
Trigger1 = Time = 0
Value = 1156

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(1157)
Trigger1 = Time = 0
Value = 1157

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(1158)
Trigger1 = Time = 0
Value = 1158

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(1159)
Trigger1 = Time = 0
Value = 1159

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(1160)
Trigger1 = Time = 0
Value = 1160

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1155)
Value = -90

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1156)
Value = -55

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1157)
Value = -50

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1158)
Value = -45

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1159)
Value = -30

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1160)
Value = -15

[State -1]
Type = VelSet
Trigger1 = IsHelper(1155)
Trigger1 = Time > 0
Trigger1 = MoveHit = 0
X = 0
Y = 16

[State -1]
Type = VelSet
Trigger1 = IsHelper(1156)
Trigger1 = Time > 0
X = 3
Y = 3.5

[State -1]
Type = VelSet
Trigger1 = IsHelper(1157)
Trigger1 = Time > 0
X = 4
Y = 3

[State -1]
Type = VelSet
Trigger1 = IsHelper(1158)
Trigger1 = Time > 0
X = 5
Y = 2.5

[State -1]
Type = VelSet
Trigger1 = IsHelper(1159)
Trigger1 = Time > 0
X = 6
Y = 2

[State -1]
Type = VelSet
Trigger1 = IsHelper(1160)
Trigger1 = Time > 0
X = 7
Y = 1.5

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Parent, Var(25)/10%10 < 3
TriggerAll = Var(1) < 1
Trigger1 = Time >= 1
Attr = S, NP
Damage = Ceil(Parent,FVar(0)*(35-Parent,Var(4)%2))
Priority  = 1, Dodge
AnimType  = hard
HitFlag = MAFD
GuardFlag = MA
PauseTime = 2,29+parent,Var(41)
Guard.PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,40
GuardSound = s120,0+Random%2
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 11
Ground.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,Var(50)
Air.Velocity = -1*parent,Var(50),-4
AirGuard.Velocity = -2*Parent,Var(50),-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -2
Down.CornerPush.VelOff = -2
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
P2StateNo = 5713
Fall.Recover = 0
GetPower = 0,0;Ceil(parent,FVar(16)*70), Ceil(0.85*parent,FVar(16)*70)
GivePower = Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*21), Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*10)

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1
Trigger1 = Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveContact = 1
Trigger2 = MoveReversed = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = varset
Trigger1 = time = 0
FV = 37
value = Root,FVar(38)+1

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) >= 15
Trigger1 = Pos Y >= 0
Value = 226
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) < 15
Trigger1 = Pos Y >= 0
Value = 227
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;Helper
Trigger1 = Root,FVar(38) < 15
Trigger1 = Pos Y >= 0
Trigger1 = Root,FVar(38) < FVar(37)
Stateno = 227
ID = 228
ownpal = 1
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Root,FVar(38) = 15
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;Helper
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Trigger1 = Root,FVar(38) < FVar(37)
Stateno = 228
ID = 228
ownpal = 1
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = changeanim
trigger1 = movehit = 1
value = 2151

[State -1]
Type = VelSet
Trigger1 = MoveHit = 1
X = 0
Y = 0

[State -1]
Type = DestroySelf
Trigger1 = MoveHit = 1
Trigger1 = time > 20
Trigger2 = FrontEdgeDist <= -10
Trigger3 = Pos Y >= 0
Trigger4 = time > 40
Trigger4 = time < 60
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 蜂の巣ヘルパー1
[Statedef 2405]
Type = A
Physics = N
VelSet = 0,0
SprPriority = 3
Facep2 = 1
Anim = 1305

[State -1]
Type = VarSet
Trigger1 = 1
V = 1
Value = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = AngleDraw
Trigger1 = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = -100
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AngleAdd
Trigger1 = Time = [0,24];99]
Value = -10.4;-2.6
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = -50,50
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 6
Range = -70,-10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VelSet
Trigger1 = Time = 0
X = (0.00+Var(5))/25;100
Y = (0.00+Var(6))/25;100
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VelSet
Trigger1 = Time = 25;100
X = 0
Y = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = Time = 25;100
;Trigger1 = Root,StateNo != 3101
;Trigger2 = Time >= 100
;Trigger2 = Root,StateNo = 3101 && Root,Time >= 139
Value = 2406
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 蜂の巣ヘルパー2
[Statedef 2406]
Type = A
MoveType = A
Physics = N
VelSet = 0,0
SprPriority = 4
Anim = 2450

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VelSet
Trigger1 = Time = 1
X = 20

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s40, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Root, Var(25)/10%10 < 3
TriggerAll = Var(1) < 1
Trigger1 = Time >= 1
Attr = S, NP
Damage = 0;Ceil(15-Root,Var(4)%2);(Root,FVar(0)*(20-Root,Var(4)%2))
Priority  = 1, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 8,8+Root,Var(41)
Guard.PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,40
GuardSound = s120,0+Random%2
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 12
Ground.HitTime  = 12
SprPriority = 5
Ground.Velocity = -4*Root,Var(50)
Air.Velocity = -2*Root,Var(50),IfElse(Root,Var(50)=1,-7.2,Root,FVar(25))
AirGuard.Velocity = -2*Root,Var(50),-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -7
Down.CornerPush.VelOff = -7
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 26
GetPower = 0,0;Ceil(Root,FVar(16)*70), Ceil(0.85*Root,FVar(16)*70)
GivePower = Ceil(IfElse(Root,FVar(16)=0,1,Root,FVar(16))*21), Ceil(IfElse(Root,FVar(16)=0,1,Root,FVar(16))*10)

[state -1]
Type = targetlifeadd
Trigger1 = movehit = 1
value = -15
absolute = 1

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveContact = 1
Trigger2 = MoveReversed = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = MoveHit = 0
Trigger1 = Root,FVar(38) >= 15
Trigger1 = Pos Y >= 0
Value = 226
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = MoveHit = 0
Trigger1 = Root,FVar(38) < 15
Trigger1 = Pos Y >= 0
Value = 227
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;Helper
Trigger1 = Root,FVar(38) < 15
Trigger1 = Pos Y >= 0
Trigger1 = Root,FVar(38) < FVar(37)
Stateno = 227
ID = 228
ownpal = 1
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Root,FVar(38) = 15
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = MoveHit = 0
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;Helper
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Trigger1 = Root,FVar(38) < FVar(37)
Stateno = 228
ID = 228
ownpal = 1
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = posset
Trigger1 = MoveHit = 1
Trigger1 = time <= 20
x = 0
y = -9999
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = MoveHit = 1
Trigger1 = time > 20
Trigger2 = time > 60
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; エグゼキューションヘルパー
[Statedef 3105]
Type = A
MoveType = A
Physics = N
SprPriority = 4

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = 3105

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = AngleSet
Trigger1 = 1
Value = -50*time
IgnoreHitPause = 1

[State -1]
Type = null;AngleSet
Trigger1 = (Vel X = 0)
Value = IfElse(Vel Y<0,90,-90)
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = time = 89
Value = 3106
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; エグゼキューションヘルパー
[Statedef 3106]
Type = A
MoveType = A
Physics = N
SprPriority = 4

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = 3106

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = VelSet
Trigger1 = Time = 0
X = 12.0*((P2Dist X)/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))
Y = 12.0*((P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))

[State -1]
Type = VarSet
Trigger1 = Time = 1
FV = 10
Value = Vel X

[State -1]
Type = VarSet
Trigger1 = Time = 1
FV = 11
Value = Vel Y

[State -1]
Type = VelAdd
Trigger1 = Time >= 1
X = FVar(10)/2.5
Y = FVar(11)/2.5

[State -1]
Type = AngleSet
Trigger1 = (Vel X != 0)
Value = ATan(Vel Y/Vel X)*(-180.0/Pi)+((Vel X<0)*180)
IgnoreHitPause = 1

[State -1]
Type = AngleSet
Trigger1 = (Vel X = 0)
Value = IfElse(Vel Y<0,90,-90)
IgnoreHitPause = 1

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = movehit = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
triggerAll = NumHelper(340001) = 0
TriggerAll = Parent,Var(25)/10%10 < 3
TriggerAll = Var(1) < 1
Trigger1 = Time >= 1
Attr = S, NP
Damage = Ceil(Parent,FVar(0)*(80-Parent,Var(4)%2))
Priority  = 1, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 2,2+parent,Var(41)
Guard.PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,40
GuardSound = s120,0+Random%2
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 11
Ground.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,Var(50)
Air.Velocity = -1*parent,Var(50),-4
AirGuard.Velocity = -2*Parent,Var(50),-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -2
Down.CornerPush.VelOff = -2
P2Stateno = 5600
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 24
GetPower = 0,0
GivePower = Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*21), Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*10)

[State -1]
Type = HitDef
triggerAll = NumHelper(340001) = 1
TriggerAll = Parent,Var(25)/10%10 < 3
TriggerAll = Var(1) < 1
Trigger1 = Time >= 1
Attr = S, NP
Damage = Ceil(Parent,FVar(0)*(9999-Parent,Var(4)%2))
Priority  = 1, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 2,2+parent,Var(41)
Guard.PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,40
GuardSound = s120,0+Random%2
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 11
Ground.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,Var(50)
Air.Velocity = -1*parent,Var(50),-4
AirGuard.Velocity = -2*Parent,Var(50),-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -2
Down.CornerPush.VelOff = -2
P2Stateno = 5600
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 24
GetPower = 0,0
GivePower = Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*21), Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*10)

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1
Trigger1 = Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveContact = 1
Trigger2 = MoveReversed = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
;Trigger2 = Root,FVar(38) = 15
;Trigger2 = Time > 1
;Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time >= 100
;Trigger2 = Pos Y >= 100 && Vel Y >= 0 || ScreenPos Y <= -100 && Vel Y <= 0
;Trigger3 = FrontEdgeBodyDist <= -100 && Vel X >= 0 || BackEdgeBodyDist <= -100 && Vel X <= 0

;---------------------------------------------------------------------------
; エグゼキューションヘルパー
[Statedef 4055]
Type = A
MoveType = A
Physics = N
SprPriority = 12;-1

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[state a]
type = varadd
trigger1 = time <= 16
v = 1
value = 16

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(1), 256-var(1)

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = 3105

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = AngleSet
Trigger1 = 1
Value = -50*time
IgnoreHitPause = 1

[State -1]
Type = null;AngleSet
Trigger1 = (Vel X = 0)
Value = IfElse(Vel Y<0,90,-90)
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = time = 89
Value = 4056
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; エグゼキューションヘルパー
[Statedef 4056]
Type = A
MoveType = A
Physics = N
SprPriority = 12;-1

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = 3106

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = VelSet
Trigger1 = Time = 0
X = 12.0*((P2Dist X)/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))
Y = 12.0*((P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))

[State -1]
Type = VarSet
Trigger1 = Time = 1
FV = 10
Value = Vel X

[State -1]
Type = VarSet
Trigger1 = Time = 1
FV = 11
Value = Vel Y

[State -1]
Type = VelAdd
Trigger1 = Time >= 1
X = FVar(10)/2.5
Y = FVar(11)/2.5

[State -1]
Type = AngleSet
Trigger1 = (Vel X != 0)
Value = ATan(Vel Y/Vel X)*(-180.0/Pi)+((Vel X<0)*180)
IgnoreHitPause = 1

[State -1]
Type = AngleSet
Trigger1 = (Vel X = 0)
Value = IfElse(Vel Y<0,90,-90)
IgnoreHitPause = 1

[State -2]
Type = Helper
Trigger1 = P2BodyDist X <= 20
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6002
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
Persistent = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = P2BodyDist X <= 20
Trigger1 = P2MoveType = H
Value = s20, 40
Valume = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = movehit = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
triggerAll = NumHelper(340001) = 0
TriggerAll = Parent,Var(25)/10%10 < 3
TriggerAll = Var(1) < 1
Trigger1 = Time >= 1
Attr = S, NP
Damage = Ceil(Parent,FVar(0)*(80-Parent,Var(4)%2))
Priority  = 1, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 2,2+parent,Var(41)
Guard.PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,40
GuardSound = s120,0+Random%2
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 11
Ground.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,Var(50)
Air.Velocity = -1*parent,Var(50),-4
AirGuard.Velocity = -2*Parent,Var(50),-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -2
Down.CornerPush.VelOff = -2
P2Stateno = 5600
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 24
GetPower = 0,0
GivePower = Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*21), Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*10)

[State -1]
Type = HitDef
triggerAll = NumHelper(340001) = 1
TriggerAll = Parent,Var(25)/10%10 < 3
TriggerAll = Var(1) < 1
Trigger1 = Time >= 1
Attr = S, NP
Damage = Ceil(Parent,FVar(0)*(9999-Parent,Var(4)%2))
Priority  = 1, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 2,2+parent,Var(41)
Guard.PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,40
GuardSound = s120,0+Random%2
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 11
Ground.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,Var(50)
Air.Velocity = -1*parent,Var(50),-4
AirGuard.Velocity = -2*Parent,Var(50),-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -2
Down.CornerPush.VelOff = -2
P2Stateno = 5600
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 24
GetPower = 0,0
GivePower = Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*21), Ceil(IfElse(parent,FVar(16)=0,1,parent,FVar(16))*10)

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1
Trigger1 = Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveContact = 1
Trigger2 = MoveReversed = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
;Trigger2 = Root,FVar(38) = 15
;Trigger2 = Time > 1
;Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time >= 30
;Trigger2 = Pos Y >= 100 && Vel Y >= 0 || ScreenPos Y <= -100 && Vel Y <= 0
;Trigger3 = FrontEdgeBodyDist <= -100 && Vel X >= 0 || BackEdgeBodyDist <= -100 && Vel X <= 0

;---------------------------------------------------------------------------
; エグゼキューションヘルパー
[Statedef 4057]
Type = A
MoveType = A
Physics = N
SprPriority = 12;-1

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[state a]
type = varadd
trigger1 = time <= 16
v = 1
value = 16

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(1), 256-var(1)

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = 3105

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = AngleSet
Trigger1 = 1
Value = -50*time
IgnoreHitPause = 1

[State -1]
Type = null;AngleSet
Trigger1 = (Vel X = 0)
Value = IfElse(Vel Y<0,90,-90)
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = time = 309-80
Value = 4056
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ヒットスパーク  必殺技
[Statedef 815]
Type = A
Physics = N
Velset = 0,0
SprPriority = ifelse(Root,StateNo=4002,12,5)
Anim = 114

[State -1]
Type = Turn
Trigger1 = Time = 0

[State -1]
Type = Explod
Trigger1 = Time = 0
ID = 816
PosType = P1
Pos = 0,0
Anim = 816
Ownpal = 1
SprPriority = ifelse(Root,StateNo=4002,12,5)
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = -5,5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = -5,5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
Trigger1 = Time = 0
X = Var(3)
Y = Var(4)

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = VarAdd
Trigger1 = Time >= 1
FV = 1
Value = -0.03

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 1.00+FVar(1),1.00+FVar(1)

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,70
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 6
Range = 10,70
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VelSet
Trigger1 = Time = 0
X = 0.00+(Var(5)*IfElse(Random%2=0,1,-1))/10
Y = 0.00+(Var(6)*IfElse(Random%2=0,1,-1))/10

[State -1]
Type = VelSet
Trigger1 = Pos Y >= 0
Y = 0

[State -1]
Type = PosSet
Trigger1 = Pos Y >= 0
Y = 0

[State -1]
Type = AfterImage
Trigger1 = Time = 0
Time = 30
Trans = AddAlpha
TimeGap  = 1
FrameGap = 1
Length   = 8
PalBright = 0 , 0 , 0
PalContrast = 50 , 50 , 256
PalPostBright = 0,0,0
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State -1]
Type = Helper
Trigger1 = Time = 0
ID = 816
PosType = P1
Pos = 0,0
StateNo = 816
Ownpal = 1
SprPriority = ifelse(Root,StateNo=4002,12,4)
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
ID = 816
PosType = P1
Pos = 0,0
StateNo = 816
Ownpal = 1
SprPriority = ifelse(Root,StateNo=4002,12,4)
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 30
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ヒットスパーク 必殺技 玉
[Statedef 816]
Type = A
Physics = N
Velset = 0,0
SprPriority = ifelse(Root,StateNo=4002,12,5)
Anim = 114

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = -5,5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = -5,5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
Trigger1 = Time = 0
X = Var(3)
Y = Var(4)

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = VarAdd
Trigger1 = Time >= 1
FV = 1
Value = -0.03

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 1.00+FVar(1),1.00+FVar(1)

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,70
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 6
Range = 10,70
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VelSet
Trigger1 = Time = 0
X = 0.00+(Var(5)*IfElse(Random%2=0,1,-1))/10
Y = 0.00+(Var(6)*IfElse(Random%2=0,1,-1))/10

[State -1]
Type = VelSet
Trigger1 = Pos Y >= 0
Y = 0

[State -1]
Type = PosSet
Trigger1 = Pos Y >= 0
Y = 0

[State -1]
Type = AfterImage
Trigger1 = Time = 0
Time = 30
Trans = AddAlpha
TimeGap  = 1
FrameGap = 1
Length   = 8
PalBright = 0 , 0 , 0
PalContrast = 50 , 50 , 256
PalPostBright = 0,0,0
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 30
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ヒットスパーク  斬撃2
[Statedef 817]
Type = A
Physics = N
Velset = 0,0
SprPriority = ifelse(Root,StateNo=4002,12,5)
Anim = 817

[State -1]
Type = Turn
Trigger1 = Time = 0

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = -5,5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = -5,5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
Trigger1 = Time = 0
X = Var(3)
Y = Var(4)

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = -5,5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 6
Range = -5,5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; バンカーヘルパー
[Statedef 935]
Type = A
MoveType = A
Physics = N
SprPriority = 4
Anim = 225

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VelSet
Trigger1 = Time > 0
X = 12

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Parent,Var(25)/10%10 < 3
TriggerAll = Var(1) < 1
Trigger1 = Time >= 1
Attr = S, SA
Damage = Ceil(Parent,FVar(0)*(50-Parent,Var(4)%2))
AnimType = Hard
HitFlag = MAFD
GuardFlag = M
Priority = 3, Hit
PauseTime = 10,10+Parent,Var(41)
HitSound   = s20,40
GuardSound = s120,0+Random%2
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = High
Air.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -2,-7
Guard.Velocity = -10
Air.Velocity = -2*Parent,Var(50),IfElse(Parent,Var(50)=1,-6.8,Parent,FVar(25))
AirGuard.Velocity = -4,-5
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -3
Air.CornerPush.VelOff = -3*Parent,Var(50)
Down.CornerPush.VelOff = -6
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 39
GetPower = Ceil(Parent,FVar(16)*100), Ceil(0.85*Parent,FVar(16)*100)
GivePower = Ceil(IfElse(Parent,FVar(16)=0,1,Parent,FVar(16))*30), Ceil(IfElse(Parent,FVar(16)=0,1,Parent,FVar(16))*15)
EnvShake.Time = 12
EnvShake.Ampl = 4
EnvShake.Freq = 60

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = MoveHit = 1
Trigger2 = MoveContact = 1
FV = 37
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = MoveHit = 1
Trigger1 = Parent,FVar(1) > 0.45
FV = 1
Value = 0.45
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveContact = 1
Trigger2 = MoveReversed = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = varset
Trigger1 = time = 0
FV = 37
value = Root,FVar(38)+1

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type =  null;Helper
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Trigger1 = Root,FVar(38) < FVar(37)
Stateno = 228
ID = 228
ownpal = 1
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = MoveHit = 1
;Trigger2 = FrontEdgeDist <= -10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; バンカーヘルパー
[Statedef 936]
Type = A
MoveType = A
Physics = N
SprPriority = 4
Anim = 225

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VelSet
Trigger1 = Time > 0
X = 12

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Parent,Var(25)/10%10 < 3
TriggerAll = Var(1) < 1
Trigger1 = Time >= 1
Attr = S, SA
Damage = Ceil(Parent,FVar(0)*(50-Parent,Var(4)%2))
AnimType = Hard
HitFlag = MAFD
GuardFlag = M
Priority = 3, Hit
PauseTime = 10,10+Parent,Var(41)
HitSound   = s20,40
GuardSound = s120,0+Random%2
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = High
Air.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -2,-6
Guard.Velocity = -10
Air.Velocity = -2*Parent,Var(50),IfElse(Parent,Var(50)=1,-5.6,Parent,FVar(25))
AirGuard.Velocity = -4,-5
Down.Velocity = -4,-2.5
P2StateNo = 5600
ID = 5600
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 39
GetPower = Ceil(Parent,FVar(16)*100), Ceil(0.85*Parent,FVar(16)*100)
GivePower = Ceil(IfElse(Parent,FVar(16)=0,1,Parent,FVar(16))*30), Ceil(IfElse(Parent,FVar(16)=0,1,Parent,FVar(16))*15)
EnvShake.Time = 12
EnvShake.Ampl = 4
EnvShake.Freq = 60

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = MoveHit = 1
Trigger2 = MoveContact = 1
FV = 37
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = MoveHit = 1
Trigger1 = Parent,FVar(1) > 0.45
FV = 1
Value = 0.45
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveContact = 1
Trigger2 = MoveReversed = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = varset
Trigger1 = time = 0
FV = 37
value = Root,FVar(38)+1

[State -1]
Type = ChangeState
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type =  null;Helper
Trigger1 = Root,FVar(38) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Trigger1 = Root,FVar(38) < FVar(37)
Stateno = 228
ID = 228
ownpal = 1
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = MoveHit = 1
;Trigger2 = FrontEdgeDist <= -10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
