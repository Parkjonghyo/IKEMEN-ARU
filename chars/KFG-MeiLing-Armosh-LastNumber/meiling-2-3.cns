[statedef -2]

[State -2]     ;?似当身記?
type = null
triggerall = !ishelper
triggerall = roundstate = 2
triggerall = stateno >= 200
trigger1 = movereversed
trigger1 = fvar(31) := 1
trigger2 = ctrl
trigger2 = fvar(31) = 1
trigger2 = fvar(31) := 0
ignorehitpause = 1

[State -2]
type = poweradd
triggerall = palno = 11
trigger1 = 1
value = 10

[state 0]
type = varset
trigger1 = life < 250
trigger1 = var(21) = 0
v = 20
value = 1

[state 0]
type = varset
trigger1 = var(21) = 2
v = 20
value = 2

[state 0]
type = varset
trigger1 = life < 250
trigger1 = var(20) != 2
v = 21
value = 2

[state 0]
type = lifeset
triggerall = command = "z"
triggerall = life > 250
trigger1 = movetype = A
trigger2 = movetype = I
trigger3 = ctrl
value = 249





[state 0]
type = helper
trigger1 = var(20) = 1
stateno = 13100
pos = 0,0
postype = p1
size.xscale  = 1
size.yscale  = 1
ontop = 1
ownpal = 1
persistent = 0
pausemovetime = 9999999
id = 7839


[state 0]
type = afterimage
trigger1 = var(20) = 1
palbright = -100,-100,-100  ;(赤、緑、青)
PalContrast =  200, 200, 200
palmul = .0,.0,.0
paladd = 0,0,0
time = -1
removetime = 50
TimeGap  = 1
FrameGap = 4
length = 10




[state 0]
type = afterimage
trigger1 = time = 0
trigger1 = var(21) = 1
time = 0

[state 0]
type = attackmulset
trigger1 = var(21) = 2
value = 1.2
igrnorehitpause = 1

[state 0]
type = attackmulset
trigger1 = var(21) != 2
value = 1.0
igrnorehitpause = 1

;ヒット数補正
[State -2] 
Type = VarSet
Trigger1 = P2MoveType != H
Trigger2 = P2StateNo   = [120,155]
Trigger3 = P2StateNo   = [5200,5201]
IgnoreHitPause = 1
V = 4
Value = 0

[State -2]
type = powerset
triggerall = palno = 12
trigger1 = 1
value = 99999
pausemovetime = 99999999
supermovetime = 99999999
supermove = 1
ignorehitpause = 1

[State -2, 0]
Type = VarSet
TriggerAll = Var(59)
TriggerAll = RoundState = 2
TriggerAll = NumHelPer(35000) > 0
TriggerAll = StateNo != [120,155]
TriggerAll = GetHitVar(Damage) = 0
TriggerAll = MoveType = H
TriggerAll = Var(57) = 0
TriggerAll = Var(56) = 0
Trigger1 = HelPer(35000),Var(17) = [1,2]
Trigger1 = HelPer(35000),Var(1) = 1
Trigger1 = HelPer(35000),Var(0) = [1,2]
V = 57
Value = EnemyNear(fvar(37)),PrevStateNo
IgnoreHitPause = 1

[State -2, 1]
Type = VarSet
TriggerAll = Var(59)
TriggerAll = RoundState = 2
TriggerAll = NumHelPer(35000) > 0
TriggerAll = StateNo != [120,155]
TriggerAll = GetHitVar(Damage) = 0
TriggerAll = MoveType = H
TriggerAll = Var(57) = 0
TriggerAll = Var(56) = 0
Trigger1 = HelPer(35000),Var(17) = [1,2]
Trigger1 = HelPer(35000),Var(1) = 1
Trigger1 = HelPer(35000),Var(0) = 3
V = 57
Value = -(EnemyNear(fvar(37)),PrevStateNo)
IgnoreHitPause = 1

[State -2, 2]
Type = VarSet
TriggerAll = Var(59)
TriggerAll = RoundState = 2
TriggerAll = NumHelPer(35000) > 0
TriggerAll = StateNo != [120,155]
TriggerAll = GetHitVar(Damage) = 0
TriggerAll = MoveType = H
TriggerAll = Var(57) = 0
TriggerAll = Var(56) = 0
Trigger1 = HelPer(35000),Var(17) = 3
Trigger1 = HelPer(35000),Var(1) = 1
Trigger1 = HelPer(35000),Var(0) = [1,2]
V = 57
Value = 10000*EnemyNear(fvar(37)),PrevStateNo
IgnoreHitPause = 1

[State -2, 3]
Type = VarSet
TriggerAll = Var(59)
TriggerAll = RoundState = 2
TriggerAll = NumHelPer(35000) > 0
TriggerAll = StateNo != [120,155]
TriggerAll = GetHitVar(Damage) = 0
TriggerAll = MoveType = H
TriggerAll = Var(57) = 0
TriggerAll = Var(56) = 0
Trigger1 = HelPer(35000),Var(17) = 3
Trigger1 = HelPer(35000),Var(1) = 1
Trigger1 = HelPer(35000),Var(0) = 3
V = 57
Value = -10000*EnemyNear(fvar(37)),PrevStateNo
IgnoreHitPause = 1

[State -2, 4]
Type = VarSet
TriggerAll = Var(59)
TriggerAll = RoundState = 2
TriggerAll = NumHelPer(35000) > 0
TriggerAll = StateNo != [120,155]
TriggerAll = GetHitVar(Damage) > 0
TriggerAll = EnemyNear(fvar(37)),StateType != A
TriggerAll = Var(56) = 0
Trigger1 = HelPer(35000),Var(0) = 2
Trigger1 = HelPer(35000),Var(1) = 1
Trigger2 = PrevStateNo = 131
Trigger3 = PrevStateNo = [152,153]
V = 56
Value = EnemyNear(fvar(37)),StateNo
IgnoreHitPause = 1

[State -2, 5]
Type = VarSet
TriggerAll = Var(59)
TriggerAll = RoundState = 2
TriggerAll = NumHelPer(35000) > 0
TriggerAll = StateNo != [120,155]
TriggerAll = GetHitVar(Damage) > 0
TriggerAll = EnemyNear(fvar(37)),StateType != C
TriggerAll = Var(56) = 0
Trigger1 = HelPer(35000),Var(0) = 1
Trigger1 = HelPer(35000),Var(1) = 1
Trigger2 = PrevStateNo = 130
Trigger3 = PrevStateNo = [150,151]
V = 56
Value = -(EnemyNear(fvar(37)),StateNo)
IgnoreHitPause = 1

[State -2, 6]
Type = VarSet
TriggerAll = Var(59)
TriggerAll = RoundState = 2
TriggerAll = NumHelPer(35000) > 0
TriggerAll = StateNo != [120,155]
TriggerAll = GetHitVar(Damage) > 0
TriggerAll = Var(56) = 0
Trigger1 = HelPer(35000),Var(0) = 3
Trigger1 = HelPer(35000),Var(1) = 1
Trigger2 = PrevStateNo = 132
Trigger3 = PrevStateNo = [153,154]
V = 56
Value = 10000*EnemyNear(fvar(37)),StateNo
IgnoreHitPause = 1

[State -2, 7]
Type = VarSet
TriggerAll = Var(59)
TriggerAll = RoundState = 2
TriggerAll = NumHelPer(35000) > 0
TriggerAll = StateNo != [120,155]
TriggerAll = GetHitVar(Damage) > 0
TriggerAll = Var(56) = 0
Trigger1 = HelPer(35000),Var(3) = 1
V = 56
Value = -10000*EnemyNear(fvar(37)),StateNo
IgnoreHitPause = 1

[State -2, 8]
Type = VarSet
TriggerAll = Var(59)
Trigger1 = GetHitVar(Damage) = 0
V = 56
Value = 0
IgnoreHitPause = 1

[State -2, 9]
Type = VarSet
TriggerAll = Var(59)
TriggerAll = Var(57) != 0
Trigger1 = MoveType != H
V = 57
Value = 0
IgnoreHitPause = 1

[State -2]
type = NotHitBy
trigger1 = StateNo = [130,160] 
value = ,AT
time = 1
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = RoundState = 2
triggerall = MoveType = A
trigger1 = MoveHit
trigger1 = NumTarget = 0
trigger2 = EnemyNear(fvar(37)),Stateno = [120,159]
trigger2 = MoveReversed
v = 23
value = 1
ignorehitpause = 1

[State -2, NotHitBy]
type = NotHitBy
trigger1 = Var(23)
value = SCA
time = 5
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = Var(23)
trigger1 = MoveType != A
trigger2 = MoveHit
trigger2 = NumTarget
v = 23
value = 0
ignorehitpause = 1

;-----------------------------------------------------------------------------
;パワ?ゲ?ジ?示
;-----------------------------------------------------------------------------
[state -2, ゲ?ジ]
type = Helper
trigger1 = numhelper(10100) = 0
id = 10100
name = "g"
sprpriority = 1
pos = 0,0
postype = p1
stateno = 10100
helpertype = normal
pausemovetime = 99999999
supermovetime = 99999999
keyctrl = 0 
ownpal = 1

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;//////////////////////////////////////////////////////////////////////////
;?メ?ジ?イス
[state a]
type = PlaySnd
triggerall = stateno = 5000 ||  stateno = 5010 || stateno = 5020
triggerall = time = 0
triggerall = alive = 1
trigger1 = GetHitVar(animtype) = 0
value = s5000,0+(random%4)
persistent = 0

[state a]
type = PlaySnd
triggerall = stateno = 5000 ||  stateno = 5010 || stateno = 5020
triggerall = time = 0
triggerall = alive = 1
trigger1 = GetHitVar(animtype) = 1
value = s5001,0+(random%4)
persistent = 0

[state a]
type = PlaySnd
triggerall = stateno = 5000 ||  stateno = 5010 || stateno = 5020
triggerall = time = 0
triggerall = alive = 1
trigger1 = GetHitVar(animtype) = 2
trigger2 = GetHitVar(animtype) = 3
trigger3 = GetHitVar(animtype) = 4
value = s5002,0+(random%4)
persistent = 0

[State a, 時間負け]
type     = PlaySnd
trigger1 = anim = 170 && Time = 1 && Alive
value    = s5004, 0+(random%2)
channel  = 1

[State a, ]
type     = PlaySnd
trigger1 = Time = 1 && Alive
trigger1 = anim = 5120
value    = s4999, 4+(random%4)
channel  = 1

[State a, 気絶]
type     = PlaySnd
trigger1 = Time = 1 && Alive
trigger1 = anim = 5300
value    = s5300, 0
channel  = 1

;---------------------------------------------------------------------------
;崩れKO

[State -2, KO?イス]
type = PlaySnd
trigger1 = !alive && life <= 0
trigger1 = var(20) = 0
trigger1 = stateno != 5950
trigger1 = var(20) := 1
value = s5005,0+(random%2)
channel = 12

[State -2, VarSet]
type = VarSet
triggerall = var(20) = 1
trigger1 = alive
var(20) = 0

[State -2, フラグ?ＢＧＭ停??時間停?]
type     = AssertSpecial
trigger1 = MoveType = A && NumTarget && RoundState = 2
trigger1 = (Target,StateNo = [4510,4511])
flag     = NoMusic
flag2    = TimerFreeze
IgnoreHitPause = 1

[State -2, サウンド?ﾃｰﾚｯﾃｰ]
type     = PlaySnd
trigger1 = MoveType = A && NumTarget && RoundState = 2
trigger1 = Target,StateNo = 4510 && (Target,PrevStateNo != [120,159])
value    = 10000, 0
volume   = 255
channel  = 6
lowpriority = 1
IgnoreHitPause = 1

;---------------------------------------------------------------------------

[State -2, helper];Iwakick's_tagwin
type = helper
trigger1=numpartner&&!numhelper(100197)
trigger1=partner,authorname = "iwakick"
trigger1=partner,stateno = 185
trigger1=partner,AnimExist(28000)
stateno = 100197
ID = 100197
postype = right
ownpal = 1

[state ];夜空にかぶ顔
type=Explod
triggerall=!numexplod(13777)&&!alive
trigger1=numenemy
trigger1=enemy,name="MAMIYA"&&enemy,authorname="YU-TOHARU"&&enemy,fvar(19)=1
trigger2=numenemy>=2
trigger2=enemy(1),name="MAMIYA"&&enemy(1),authorname="YU-TOHARU"&&enemy(1),fvar(19)=1
anim=13777
ID=13777
postype=left
pos=244,37
ownpal=1
sprpriority=-498
supermovetime=9999999999
pausemovetime=9999999999
scale=0.45,0.45
bindtime=-1
removetime=-1

[state ];夜空にかぶ顔枠
type=Explod
triggerall=!numexplod(13778)&&!alive
trigger1=numenemy
trigger1=enemy,name="MAMIYA"&&enemy,authorname="YU-TOHARU"&&enemy,fvar(19)=1
trigger2=numenemy>=2
trigger2=enemy(1),name="MAMIYA"&&enemy(1),authorname="YU-TOHARU"&&enemy(1),fvar(19)=1
anim=13778
ID=13778
postype=left
pos=244,37
ownpal=1
sprpriority=-499
supermovetime=9999999999
pausemovetime=9999999999
scale=0.45,0.45
bindtime=-1
removetime=-1

;ジギ「おい、そこへ座れ」対ステ?ト
[state ]
type=AssertSpecial
trigger1=numenemy
trigger1=movetype=H&&stateno=901&&enemynear,name="JAGI"&&enemynear,Authorname="Drowin hokuto"
flag=invisible

[state ]
type=Explod
trigger1=!numexplod(810)&&numenemy
trigger1=movetype=H&&stateno=901&&enemynear,name="JAGI"&&enemynear,Authorname="Drowin hokuto"
anim=810
ID=810
postype=p1
scale=0.5,0.5
pos=0,0
bindtime=-1
removetime=-1
shadow=-1

[State ]
type=RemoveExplod
trigger1=numexplod(810)=1&&(anim!=6||stateno!=901||(stateno=901&&time=120))
ID=810

[state ]
type=ChangeAnim
trigger1=numenemy
trigger1=movetype=H&&stateno=805&&((enemynear,name="JAGI"&&enemynear,Authorname="Ahuron"&&time>=10)||(enemynear,name="JagiMeirin"&&enemynear,Authorname="Ts"&&(time=[10,141]))||(enemynear,name="JAGI"&&enemynear,Authorname="Ts"))
value=810

;ジニ?「ジ?カ?トック」対ステ?ト
[State ]
type=Helper
triggerall = !ishelper
triggerall = movetype = H
triggerall = stateno = 4080
triggerall = numhelper(1421) = 0
trigger1 = numenemy = 1
trigger1 = enemy,authorname = "muteki"
trigger1 = enemy,name = "johnny"
trigger2 = numenemy = 2
trigger2 = enemy(enemy,authorname!="muteki"),authorname = "muteki"
trigger2 = enemy(enemy,name!="johnny"),name = "johnny"
trigger3 = numenemy = 1
trigger3 = enemy,authorname = "kisaragiryuto"
trigger3 = enemy,name = "hukusyuki"
trigger4 = numenemy = 2
trigger4 = enemy(enemy,authorname!="kisaragiryuto"),authorname = "kisaragiryuto"
trigger4 = enemy(enemy,name!="hukusyuki"),name = "hukusyuki"
helpertype = player
name="joker trick"
ID=1421
pos=0,0
postype=p1
stateno=1421
facing=ifelse(facing=-1,1,-1)

[state -2, ジ?カ?トック出補]
type = assertspecial
triggerall = !ishelper
triggerall = (movetype=H&&stateno=4080&&numhelper(1421))||(!alive&&prevstateno=4080)
trigger1 = numenemy = 1
trigger1 = enemy,authorname = "muteki"
trigger1 = enemy,name = "johnny"
trigger2 = numenemy = 2
trigger2 = enemy(enemy(0),authorname!="muteki"),authorname = "muteki"
trigger2 = enemy(enemy(0),name!="johnny"),name = "johnny"
trigger3 = numenemy = 1
trigger3 = enemy,authorname = "kisaragiryuto"
trigger3 = enemy,name = "hukusyuki"
trigger4 = numenemy = 2
trigger4 = enemy(enemy(0),authorname!="kisaragiryuto"),authorname = "kisaragiryuto"
trigger4 = enemy(enemy(0),name!="hukusyuki"),name = "hukusyuki"
flag = noshadow
flag2 = invisible

;右代?寿 他「?返し?再反?」対ステ?ト
[state ];?返し?再反??パ?ゲ?ジ消費?2
type=Poweradd
triggerall=alive&&!numexplod(19864)&&!numexplod(19865)
trigger1=numenemy&&!numpartner
trigger1=enemy,var(56)=19861004&&enemy,Authorname="YU-TOHARU"&&(enemy,stateno=2910||enemy,stateno=2930)&&enemy,time=2
trigger2=numenemy&&numpartner
trigger2=enemy,var(56)=19861004&&enemy,Authorname="YU-TOHARU"&&(enemy,stateno=2910||enemy,stateno=2930)&&enemy,time=2&&(ID<Partner,ID||(ID>Partner,ID&&partner,numexplod(19864)=0&&partner,numexplod(19865)=0))
trigger3=numenemy>=2&&!numpartner
trigger3=enemy(1),var(56)=19861004&&enemy(1),Authorname="YU-TOHARU"&&(enemy(1),stateno=2910||enemy(1),stateno=2930)&&enemy(1),time=2
trigger4=numenemy>=2&&numpartner
trigger4=enemy(1),var(56)=19861004&&enemy(1),Authorname="YU-TOHARU"&&(enemy(1),stateno=2910||enemy(1),stateno=2930)&&enemy(1),time=2&&(ID<Partner,ID||(ID>Partner,ID&&partner,numexplod(19864)=0&&partner,numexplod(19865)=0))
value=-1000
ignorehitpause=1

[state ];?返し??イス
type=PlaySnd
triggerall=alive&&!numexplod(19864)
trigger1=numenemy
trigger1=enemy,var(56)=19861004&&enemy,Authorname="YU-TOHARU"&&enemy,stateno=2910&&enemy,time=2
trigger2=numenemy>=2
trigger2=enemy(1),var(56)=19861004&&enemy(1),Authorname="YU-TOHARU"&&enemy(1),stateno=2910&&enemy(1),time=2
value=s1,6
ignorehitpause=1

[state ];?返し?カットイ（右向き）
type=Explod
triggerall=alive&&!numexplod(19864)
trigger1=numenemy
trigger1=enemy,var(56)=19861004&&enemy,Authorname="YU-TOHARU"&&enemy,stateno=2910&&enemy,time=2&&enemy,facing=-1
trigger2=numenemy>=2
trigger2=enemy(1),var(56)=19861004&&enemy(1),Authorname="YU-TOHARU"&&enemy(1),stateno=2910&&enemy(1),time=2&&enemy(1),facing=-1
anim=19864
ID=19864
postype=left
pos=-20,240
scale=0.45,0.45
ownpal=1
bindtime=-1
sprpriority=50
pausemovetime=100
supermovetime=100
ignorehitpause=1

[state ];?返し?カットイ（左向き）
type=Explod
triggerall=alive&&!numexplod(19864)
trigger1=numenemy
trigger1=enemy,var(56)=19861004&&enemy,Authorname="YU-TOHARU"&&enemy,stateno=2910&&enemy,time=2&&enemy,facing=1
trigger2=numenemy>=2
trigger2=enemy(1),var(56)=19861004&&enemy(1),Authorname="YU-TOHARU"&&enemy(1),stateno=2910&&enemy(1),time=2&&enemy(1),facing=1
anim=19864
ID=19864
postype=right
pos=-20,240
facing=-1
scale=0.45,0.45
ownpal=1
bindtime=-1
sprpriority=50
pausemovetime=100
supermovetime=100
ignorehitpause=1

[state ];?再反???イス
type=PlaySnd
triggerall=alive&&!numexplod(19865)
trigger1=numenemy
trigger1=enemy,var(56)=19861004&&enemy,Authorname="YU-TOHARU"&&enemy,stateno=2930&&enemy,time=2
trigger2=numenemy>=2
trigger2=enemy(1),var(56)=19861004&&enemy(1),Authorname="YU-TOHARU"&&enemy(1),stateno=2930&&enemy(1),time=2
value=s1,6
ignorehitpause=1


[state ];?再反??カットイ（右向き）
type=Explod
triggerall=alive&&!numexplod(19865)
trigger1=numenemy
trigger1=enemy,var(56)=19861004&&enemy,Authorname="YU-TOHARU"&&enemy,stateno=2930&&enemy,time=2&&enemy,facing=-1
trigger2=numenemy>=2
trigger2=enemy(1),var(56)=19861004&&enemy(1),Authorname="YU-TOHARU"&&enemy(1),stateno=2930&&enemy(1),time=2&&enemy(1),facing=-1
anim=19865
ID=19865
postype=left
pos=0,240
scale=0.45,0.45
ownpal=1
bindtime=-1
sprpriority=50
pausemovetime=100
supermovetime=100
ignorehitpause=1

[state ];?再反??カットイ（左向き）
type=Explod
triggerall=alive&&!numexplod(19865)
trigger1=numenemy
trigger1=enemy,var(56)=19861004&&enemy,Authorname="YU-TOHARU"&&enemy,stateno=2930&&enemy,time=2&&enemy,facing=1
trigger2=numenemy>=2
trigger2=enemy(1),var(56)=19861004&&enemy(1),Authorname="YU-TOHARU"&&enemy(1),stateno=2930&&enemy(1),time=2&&enemy(1),facing=1
anim=19865
ID=19865
postype=right
pos=0,240
facing=-1
scale=0.45,0.45
ownpal=1
bindtime=-1
sprpriority=50
pausemovetime=100
supermovetime=100
ignorehitpause=1

[State explod]
type = Explod
trigger1=(anim=5555&&stateno=4530&&time=418)||((anim=[5555,5556])&&stateno=3550&&time=488)
anim = 5557
id = 5557
sprpriority = 20
postype = p1
pos = 0,0
bindtime = 1
ignorehitpause = 1
persistent=0

[State explod]
type = Explod
trigger1=(anim=5555&&stateno=4530&&time=400)||((anim=[5555,5556])&&stateno=3550&&time=440)
anim = 5558
id = 5558
sprpriority = 20
postype = p1
pos = 0,0
bindtime = 1
ignorehitpause = 1
persistent=0

[state ]
type=PlaySnd
trigger1=(anim=5555&&stateno=4530&&time=400)||((anim=[5555,5556])&&stateno=3550&&time=440)
value=s50,5

[state ]
type=PlaySnd
trigger1=(anim=5555&&stateno=4530&&time=418)||((anim=[5555,5556])&&stateno=3550&&time=488)
value=s50,0

[State ]
type = varrandom
trigger1 = 1
range = 0,3
v = 10

[State ]
type = PlaySnd
trigger1 = (anim=5555&&stateno=4530&&time=510&&time<=579)||((anim=[5555,5556])&&stateno=3550&&time>=590&&time<=659)
trigger1 = Time % 3 = 0
value = S3,var(10)

;-| 常ヘパ? |----------------------------------------------------------
[State ]
type=Helper
trigger1=!numhelper(3046)&&numenemy
helpertype=normal
name="shijousei"
ID=3046
postype=right
stateno=3046
ownpal=1
supermovetime=99999999999
pausemovetime=99999999999

;-----------------------------------------------------------------------
[Statedef -3]

;===============================================================================
;=================================== AI BY ZET =================================
;===============================================================================
[State -3, AI]
type = VarSet
triggerall = !var(59)
triggerall = RoundState = [1,2]
Trigger1 = NumHelper(80000)
Trigger1 = Helper(80000),var(59)
Trigger1 = Helper(80000),Time > 5
;Trigger2 = 1  ;(AI always)(AIスイッ?，Trigger2 = 1ならはAIオン，;Trigger2 = 1ならはAIオフ，デフォオフ）
var(59) = 10
IgNoreHitPause = 1

[State -3,永久2Aスイッ?]；追記：顔見てから失敗できます
Type = VarSet 
Trigger1 = Var(59)
V = 7
Value = 0   ;1はオン,0はオフ
IgnoreHitPause = 1

[State 35000, Null]
Type = Null
Triggerall = var(7) = 0
Trigger1 = Palno = 11
Trigger1 = var(7) := 1
Trigger2 = Palno != 11
trigger2 = life <= 334
trigger2 = life*2 < EnemyNear(floor(fvar(37))),life
Trigger2 = var(7) := 1
IgnoreHitPause = 1

[State -3, AI]
type = helper
trigger1 = !NumHelper(80000)
trigger1 = RoundState = 2
trigger1 = Alive
trigger1 = Var(59) = 0
trigger1 = PrevStateNo = 5900 || (PrevStateNo = [191,194])
helpertype = normal
name = "AI"
stateno = 80000
ID = 80000
pos = 9999,9999
keyctrl = 1
pausemovetime = 2147483647
supermovetime = 2147483647
persistent = 0

[State -3, AI]
type = ChangeState
trigger1 = IsHelper(80000)
trigger1 = StateNo != 80000
value = 80000

[State -3]
type = Helper
trigger1 = !numhelper(34000)
trigger1 = RoundState = 2
helpertype = normal
name = "AIhelper"
ID = 34000
stateno = 34000
pos = 9999,9999
pausemovetime = 2147483647
supermovetime = 2147483647
persistent = 0

[State -3]
type = ChangeState
trigger1 = ishelper(34000)
trigger1 = stateno != 34000
value = 34000

[State -3, AI]
type = SelfState
Trigger1 = !IsHelPer && Var(59)
trigger1 = StateNo = [10,11]
value = 0
ctrl = 1
ignorehitpause = 1

[State -3,  AIhelper]
Type = HelPer
Trigger1 = !IsHelPer
Trigger1 = !NumHelPer(35000) && Var(59)
HelPerType = Normal
Name = "AI_Learning"
StateNo = 35000
ID = 35000
OwnPal = 1
IgnoreHitPause = 1
PauseMoveTime = 2147483647
SuperMoveTime = 2147483647

[State -3,  AIhelper]
Type = HelPer
Trigger1 = !IsHelPer
Trigger1 = !NumHelPer(35001) && Var(59)
HelPerType = Normal
Name = "AI_Learning"
StateNo = 35001
ID = 35001
OwnPal = 1
IgnoreHitPause = 1
PauseMoveTime = 2147483647
SuperMoveTime = 2147483647

[State -3, AIhelper]
Type = HelPer
Trigger1 = !IsHelPer
Trigger1 = !NumHelPer(35002) && Var(59)
HelPerType = Normal
Name = "AI_Learning"
StateNo = 35002
ID = 35002
OwnPal = 1
IgnoreHitPause = 1
PauseMoveTime = 2147483647
SuperMoveTime = 2147483647

[State -3, AIhelper]
Type = HelPer
Trigger1 = !IsHelPer
Trigger1 = !NumHelPer(35003) && Var(59)
HelPerType = Normal
Name = "AI_Learning"
StateNo = 35003
ID = 35003
OwnPal = 1
IgnoreHitPause = 1
PauseMoveTime = 2147483647
SuperMoveTime = 2147483647

[state -3, yaccel]
type = varset
trigger1 = fvar(30) != EnemyNear(floor(fvar(37))),const(movement.yaccel)
trigger1 = EnemyNear(floor(fvar(37))),stateno != [5000,5210]
trigger1 = EnemyNear(floor(fvar(37))),Vel Y != 0
FV = 30
value = EnemyNear(floor(fvar(37))),const(movement.yaccel)
ignorehitpause = 1


[state -3, yaccel]
type = varset
trigger1 = fvar(30) != EnemyNear(floor(fvar(37))),GetHitVar(yaccel)
trigger1 = EnemyNear(floor(fvar(37))),stateno = [5000,5210]
FV = 30
value = EnemyNear(floor(fvar(37))),GetHitVar(yaccel)
ignorehitpause = 1


[state -3, yaccel]
type = varset
trigger1 = fvar(30) != 0
trigger1 = EnemyNear(floor(fvar(37))),Vel Y = 0
FV = 30
value = 0
ignorehitpause = 1

[State -3]
Type = varset
trigger1 = NumEnemy = 1
fvar(37) = 0

[State -3]
Type = varset
trigger1 = NumEnemy = 2
trigger1 = EnemyNear(0),Alive
trigger1 = EnemyNear(1),Alive
fvar(37) = IfElse(((Abs(Pos X - EnemyNear(0),Pos X)) < (Abs(Pos X - EnemyNear(1),Pos X))),0,1)
ignorehitpause = 1

[State -3]
Type = varset
trigger1 = NumEnemy = 2
trigger1 = !EnemyNear(0),Alive || !EnemyNear(1),Alive
fvar(37) = IfElse(EnemyNear(0),Alive,0,1)
ignorehitpause = 1

[State -3,set]
Type = VarSet
Trigger1 = PrevStateNo = [5000,5270]
Trigger2 = PrevStateNo = [130,160)
Trigger3 = PrevStateNo = [750,761]
Trigger4 = PrevStateNo = [200,500]
var(6) = 2

[State -3,add]
Type = VarAdd
Trigger1 = var(6) > 0
var(6) = -1

[State -3]
type = Turn
triggerall = p2dist x < 0 && !time && var(59)
trigger1 = movetype = A && stateno = 760
trigger2 = stateno = [150,154]

[State -3]
type = Turn
triggerall = p2dist x < 0 && !time && var(59)
trigger1 = stateno = 3000

[State -1, set]
type = VarSet
triggerall = var(59) 
triggerall = enemynear(floor(fvar(37))),statetype != A
triggerall = enemynear(floor(fvar(37))),movetype = H
trigger1 = stateno = 400 && movehit
var(8) = 1

[State -1, Hitr]
type = VarSet
triggerall = var(59)
triggerall = var(8)
trigger1 = enemynear(floor(fvar(37))),movetype != H
trigger2 = roundstate != 2
var(8) = 0

[State -1, set]
type = VarSet
triggerall = var(59) 
triggerall = enemynear(floor(fvar(37))),statetype = A
triggerall = enemynear(floor(fvar(37))),movetype = H
trigger1 = stateno = 710 && movehit
var(9) = 1

[State -1, Hitr]
type = VarSet
triggerall = var(59)
triggerall = var(9)
trigger1 = enemynear(floor(fvar(37))),movetype != H
trigger2 = roundstate != 2
var(9) = 0

[State -1, set]
type = VarSet
triggerall = var(59) 
triggerall = enemynear(floor(fvar(37))),statetype = A
triggerall = enemynear(floor(fvar(37))),movetype = H
trigger1 = stateno = 2000 && movehit
var(11) = 1

[State -1, Hitr]
type = VarSet
triggerall = var(59)
triggerall = var(11)
trigger1 = enemynear(floor(fvar(37))),movetype != H
trigger2 = roundstate != 2
trigger3 = enemynear(floor(fvar(37))),Stateno = [5100,5120]
trigger4 = !Numtarget
trigger5 = Stateno = 710 && movehit
var(11) = 0

[State -1, set]
type = VarSet
triggerall = var(59) 
triggerall = enemynear(floor(fvar(37))),statetype = A
triggerall = enemynear(floor(fvar(37))),movetype = H
trigger1 = stateno = 3000 && movehit
var(12) = 1

[State -1, Hitr]
type = VarSet
triggerall = var(59)
triggerall = var(12)
trigger1 = enemynear(floor(fvar(37))),movetype != H
trigger2 = roundstate != 2
trigger4 = !Numtarget
trigger5 = Stateno = 710 && movehit
var(12) = 0
;=====================================================================
[State AI]
type = ChangeState
value = 4500
triggerall = var(59)
triggerall = P2bodydist X < 35
triggerall = (life < 334 && roundno >= 3) ||palno = 11
triggerall = power >= 5000
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 200 && MoveHit
Trigger2 = stateno = 201 && MoveHit
Trigger3 = stateno = 202 && MoveHit
Trigger4 = stateno = 210 && MoveHit
Trigger5 = stateno = 211 && MoveHit
Trigger6 = stateno = 220 && MoveHit
Trigger7 = stateno = 400 && MoveHit
Trigger8 = stateno = 410 && MoveHit

[State -3, U2A]
type = ChangeState
value = 21
Triggerall = Var(59)
triggerall = FrontEdgeBodyDist < 65
Triggerall = Roundstate = 2
Triggerall = Statetype != A
Triggerall = Stateno = 400 && Movehit && time >= 6
Triggerall = EnemyNear(floor(fvar(37))),Movetype = H
Triggerall = EnemyNear(floor(fvar(37))),Statetype != L
Triggerall = EnemyNear(floor(fvar(37))),Statetype != A
Trigger1 = palno = 11
ignorehitpause = 1

[State -3, U2A]
type = ChangeState
value = 21
Triggerall = Var(59)
Triggerall = Roundstate = 2
Triggerall = Statetype != A
Triggerall = Stateno = 400 && Movehit && time >= 6
Triggerall = EnemyNear(floor(fvar(37))),Movetype = H
Triggerall = EnemyNear(floor(fvar(37))),Statetype != L
Triggerall = EnemyNear(floor(fvar(37))),Statetype != A
Trigger1 = palno = 11

[State -3,U2A]
type = ChangeState
value = 400
Triggerall = Var(59)
Triggerall = Roundstate = 2
Triggerall = Statetype != A
triggerall = palno = 11
triggerall = Stateno != 400 && prevstateno != 400
Triggerall = EnemyNear(floor(fvar(37))),Movetype = H 
Triggerall = EnemyNear(floor(fvar(37))),Statetype != L
Triggerall = EnemyNear(floor(fvar(37))),Statetype != A 
triggerall = enemynear(floor(fvar(37))),GetHitVar(HitTime) >= 3
Triggerall = ctrl|| stateno = 20|| stateno = 21|| stateno = 22|| stateno = 99|| stateno = 100
Trigger1 = P2BodyDist X = [-5,25+floor(4*(EnemyNear(floor(fvar(37))),vel X))]
trigger1 = P2BodyDist Y >= 0 

[State -3,]
type = ChangeState
value = 120
Triggerall = var(59)
Triggerall = StateType != A
Triggerall = RoundState = 2
Triggerall = P2StateType != L
Triggerall = P2StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || stateno = 22|| (stateno = 52 && Time >= 3) || stateno = 99 || (Ctrl && prevstateno = 5120 && time <= 1)|| (ctrl && prevstateno = 5201) 
Triggerall = Random < var(59)*100
Triggerall = InGuardDist
Trigger1 = helper(35002),var(9) = [1,2]
;=====================================================================
[State -3, U2A]
type = ChangeState
value = 21
Triggerall = Var(59)
triggerall = FrontEdgeBodyDist < 65
Triggerall = Roundstate = 2
Triggerall = Statetype != A
Triggerall = Stateno = 400 && Movehit && time >= 6
Triggerall = EnemyNear(floor(fvar(37))),Movetype = H
Triggerall = EnemyNear(floor(fvar(37))),Statetype != L
Triggerall = EnemyNear(floor(fvar(37))),Statetype != A
Trigger1 = Var(7)
ignorehitpause = 1

[State -3, U2A]
type = ChangeState
value = 21
Triggerall = Var(59)
Triggerall = Roundstate = 2
Triggerall = Statetype != A
Triggerall = Stateno = 400 && Movehit && time >= 6
Triggerall = EnemyNear(floor(fvar(37))),Movetype = H
Triggerall = EnemyNear(floor(fvar(37))),Statetype != L
Triggerall = EnemyNear(floor(fvar(37))),Statetype != A
Trigger1 = Var(7)

[State -3,U2A]
type = ChangeState
value = 400
Triggerall = Var(59)
Triggerall = Roundstate = 2
Triggerall = Statetype != A
triggerall = var(7); && var(8)
triggerall = Stateno != 400 && prevstateno != 400
Triggerall = EnemyNear(floor(fvar(37))),Movetype = H 
Triggerall = EnemyNear(floor(fvar(37))),Statetype != L
Triggerall = EnemyNear(floor(fvar(37))),Statetype != A 
triggerall = enemynear(floor(fvar(37))),GetHitVar(HitTime) >= 3
Triggerall = ctrl|| stateno = 20|| stateno = 21|| stateno = 22|| stateno = 99|| stateno = 100
Trigger1 = P2BodyDist X = [-5,25+floor(4*(EnemyNear(floor(fvar(37))),vel X))]
trigger1 = P2BodyDist Y >= 0 
;=====================================================================
[State -3]
type = ChangeState
value = 0
Ctrl = 1
TriggerAll = var(59)
TriggerAll = StateType != A && time > 12
TriggerAll = P2StateType != L
TriggerAll = P2MoveType != H
TriggerAll = P2bodydist X <= 55
triggerall = ctrl = 0
Trigger1 = stateno = 20 || stateno = 21 || stateno = 22 

[State -3]
type = ChangeState
value = 0
Ctrl = 1
TriggerAll = var(59)
triggerall = ctrl = 0
TriggerAll = StateType != A && time > 12
Trigger1 = stateno = 20 || stateno = 21 || stateno = 22 
Trigger1 = p2bodydist X = [-10,80]
Trigger1 = p2statetype = L

[State -3]
type = ChangeState
value = 0
Ctrl = 1
TriggerAll = var(59)
triggerall = ctrl = 0
triggerall = !var(7)
TriggerAll = StateType != A && time > 12
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2MoveType = H
TriggerAll = P2bodydist X <= 45
TriggerAll = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 11 || (EnemyNear(floor(fvar(37))),BackEdgeBodyDist < 11 && FrontEdgeBodyDist >= 95)
Trigger1 =  stateno = 20 || stateno = 21 || stateno = 22

[State -3,Gｪ]
type = ChangeState
value = 100
triggerall = var(59)
triggerall = alive
TriggerAll = StateType != A
TriggerAll = RoundState = 2
TriggerAll = stateno != 100
triggerall = P2BodyDist X > 120
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
triggerall = P2MoveType = H
trigger1 = P2StateType = L

[State -3, AI]
type = Selfstate
triggerall = var(59) 
triggerall = roundstate = 2
triggerall = stateno != 105 && prevstateno != 105
triggerall = stateno != 50 && prevstateno != 50
triggerall = Stateno >= 200 && Stateno < 1000
trigger1 = EnemyNear(floor(fvar(37))),StateNo = Helper(35002),var(21)
trigger2 = EnemyNear(floor(fvar(37))),StateNo = Helper(35002),var(22)
trigger3 = EnemyNear(floor(fvar(37))),StateNo = Helper(35002),var(23)
value = IfElse(StateType = A,50,105)
ctrl = 0
ignorehitpause = 1

[State -3,1]
Type = ChangeState
Value = 105
TriggerAll = var(59)
TriggerAll = Random <= var(59)*100
TriggerAll = RoundState = 2 
TriggerAll = StateType != A
TriggerAll =!EnemyNear(floor(fvar(37))),Ctrl
TriggerAll = EnemyNear(floor(fvar(37))),Vel X >= 0
TriggerAll = EnemyNear(floor(fvar(37))),StateNo >= 100
TriggerAll = EnemyNear(floor(fvar(37))),Facing != Facing
TriggerAll = P2BodyDist X = [-20,100+floor(5*(EnemyNear(floor(fvar(37))),vel X))]
TriggerAll = Ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Trigger1 = EnemyNear(floor(fvar(37))),StateNo = Helper(35003),var(1)
Trigger2 = EnemyNear(floor(fvar(37))),StateNo = Helper(35003),var(2)
Trigger3 = EnemyNear(floor(fvar(37))),StateNo = Helper(35003),var(3) 

[State -3,2]
Type = ChangeState
Value = 1450
TriggerAll = var(59)
TriggerAll = Random <= var(59)*100
TriggerAll = RoundState = 2 
TriggerAll = EnemyNear(floor(fvar(37))),Ctrl = 0
TriggerAll = EnemyNear(floor(fvar(37))),Facing != Facing
TriggerAll = P2BodyDist X = [-20,100]
Trigger1 = Stateno = 105
trigger2 = Statetype = A 
Trigger2 = EnemyNear(floor(fvar(37))),StateNo = Helper(35003),var(1)||EnemyNear(floor(fvar(37))),StateNo = Helper(35003),var(2)||EnemyNear(floor(fvar(37))),StateNo = Helper(35003),var(3)
trigger2 = ctrl 
;=================================================================================
[State -3, Crouching Light Kick]
type = ChangeState
value = ifelse((random<=500||var(7)),ifelse(var(7) && var(8),21,400),ifelse(var(7),400,200))
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-10,25+floor(5*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y >= 0
triggerall = P2statetype != L
triggerall = P2movetype = H
triggerall = P2statetype != A
Trigger1 = Random <= (var(59)+7)*100
Trigger1 = EnemyNear(floor(fvar(37))),Facing!= Facing
Trigger2 = Random <= (var(59)+7)*100
Trigger2 = EnemyNear(floor(fvar(37))),Facing = Facing

[State -1,shitan]
type = ChangeState
value = ifelse(random<=500,400,200)
Triggerall = var(59)
Triggerall = roundstate = 2
TriggerAll = EnemyNear(floor(fvar(37))),StateNo != Helper(35002),var(21)
Triggerall = random <= var(59)*20
Triggerall = statetype != A
Triggerall = movetype != H
Triggerall = EnemyNear(Floor(Fvar(37))),MoveType != H
Triggerall = EnemyNear(Floor(Fvar(37))),StateType != A
Triggerall = EnemyNear(Floor(Fvar(37))),StateType != L
Triggerall = p2bodydist x = [-10,35+floor(5*(EnemyNear(floor(fvar(37))),vel X))]
Trigger1 = ctrl ||stateno = 19|| stateno = 20|| stateno = 21|| stateno = 100|| stateno = 52

[State -3, Crouching Light Punch1]
Type = ChangeState
Value = 400
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = Random <= var(59)*55
TriggerAll = StateType != A
TriggerAll = EnemyNear(Floor(Fvar(37))),Ctrl = 0
TriggerAll = EnemyNear(Floor(Fvar(37))),Movetype = A
TriggerAll = EnemyNear(Floor(Fvar(37))),StateNo >= 200
TriggerAll = EnemyNear(Floor(Fvar(37))),StateType != A
TriggerAll = EnemyNear(Floor(Fvar(37))),StateType != L
TriggerAll =!EnemyNear(Floor(Fvar(37))),HitDefAttr = SCA,NT,ST,HT 
TriggerAll = EnemyNear(Floor(Fvar(37))),Time >= 0 || var(6) || var(59) > 9
TriggerAll = P2BodyDist X = [-10+floor(4*(EnemyNear(floor(fvar(37))),vel X)),30+floor(4*(EnemyNear(floor(fvar(37))),vel X))]
TriggerAll = ctrl ||stateno = 19|| stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100|| stateno = 52
Trigger1 = PrevStateNo = [130,155]
Trigger1 = EnemyNear(Floor(Fvar(37))),MoveType = I || EnemyNear(Floor(Fvar(37))),MoveType = A
Trigger1 = EnemyNear(Floor(Fvar(37))),AnimTime = [-9,-4]
Trigger1 = EnemyNear(Floor(Fvar(37))),Time >= 0
Trigger2 =(EnemyNear(Floor(Fvar(37))),StateNo = Helper(34000),var(1)) && EnemyNear(Floor(Fvar(37))),Time < (Helper(34000),var(2) - 3)
Trigger3 =(EnemyNear(Floor(Fvar(37))),StateNo = Helper(34000),var(3)) && EnemyNear(Floor(Fvar(37))),Time < (Helper(34000),var(4) - 3)
Trigger4 =(EnemyNear(Floor(Fvar(37))),StateNo = Helper(34000),var(5)) && EnemyNear(Floor(Fvar(37))),Time < (Helper(34000),var(6) - 3)
Trigger5 =(EnemyNear(Floor(Fvar(37))),StateNo = Helper(34000),var(7)) && EnemyNear(Floor(Fvar(37))),Time < (Helper(34000),var(8) - 3)
Trigger6 =(EnemyNear(Floor(Fvar(37))),StateNo = Helper(34000),var(9)) && EnemyNear(Floor(Fvar(37))),Time < (Helper(34000),var(10) - 3)
;=================================================================================

[State -3,]
Type = ChangeState
value = 761
Triggerall = var(59)
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = P2BodyDist X = [-5,30]
Trigger1 = P2StateNo != 5120

;=================================================================================
[State -3,Gｪ]
type = ChangeState
value = ifelse(P2bodydist X <= 35,105,37)
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2BodyDist X = [-10,100+floor(8*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22 || stateno = 52
triggerall = P2MoveType = A
trigger1 = P2StateType != A
trigger1 = EnemyNear(floor(fvar(37))),HitDefAttr = SCA,AT

[State -3, Sjump]
type = ChangeState
value = 37
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [0,90]
triggerall = !inguarddist
triggerall = P2StateType != L
triggerall = P2StateType = C
triggerall = P2stateno = [120,159]
Trigger1 = Random <= var(59)*60

[State -3, H-Jump]
type = ChangeState
value = ifelse(P2BodyDist X < 100,750,120)
Triggerall = var(59)
Triggerall = StateType != A
Triggerall = RoundState = 2
Triggerall = !InGuardDist
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = enemynear(floor(fvar(37))),Animtime < -33
triggerall = enemynear(floor(fvar(37))),numproj = 0
triggerall = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
trigger1 = helper(35002),var(11) = enemynear(floor(fvar(37))),stateno
trigger2 = helper(35002),var(12) = enemynear(floor(fvar(37))),stateno
trigger3 = helper(35002),var(13) = enemynear(floor(fvar(37))),stateno
trigger4 = helper(35002),var(14) = enemynear(floor(fvar(37))),stateno
trigger5 = helper(35002),var(15) = enemynear(floor(fvar(37))),stateno

[State -3, Jump Strong Kick]
type = ChangeState
value = 620
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = ctrl || (StateNo = [120,149])
triggerall = stateno != 105
triggerall = P2BodyDist X = [-35,54]
triggerall = P2BodyDist Y = [-30,70]
triggerall = P2StateType != A
triggerall = P2movetype != H
triggerall = P2StateType != L
triggerall = vel y >.1
trigger1 = helper(35002),var(11) = enemynear(floor(fvar(37))),stateno
trigger2 = helper(35002),var(12) = enemynear(floor(fvar(37))),stateno
trigger3 = helper(35002),var(13) = enemynear(floor(fvar(37))),stateno
trigger4 = helper(35002),var(14) = enemynear(floor(fvar(37))),stateno
trigger5 = helper(35002),var(15) = enemynear(floor(fvar(37))),stateno

[State -3,Gｪ]
type = ChangeState
value = 37
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
;triggerall = P2BodyDist X = [80,150+floor(8*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22 || stateno = 52
triggerall = P2MoveType = A
trigger1 = P2StateType != A
trigger1 = time > 20 && stateno = [120,149]

[State -3, Sjump]
type = ChangeState
value = 37
Triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [50,140]
triggerall = backedgebodydist >= 25
triggerall = P2BodyDist Y >= 0
triggerall = !inguarddist
triggerall = P2movetype != H
triggerall = P2StateType != L
triggerall = P2StateType = C
Trigger1 = Random <= 400

[State -3, Sjump]
type = ChangeState
value = 37
Triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [0,120]
triggerall = backedgebodydist >= 25
triggerall = P2BodyDist Y >= 0
triggerall = !inguarddist
Triggerall = P2StateType != A
Triggerall = P2moveType != H
triggerall = P2stateno = [120,159]
Triggerall = P2StateType != L
Trigger1 = Random <= 380

[State -3, Sjump]
type = ChangeState
value = 38
Triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [160,240]
triggerall = backedgebodydist >= 25
triggerall = P2BodyDist Y >= 0
triggerall = !inguarddist
Triggerall = P2StateType != A
Triggerall = P2moveType != H
Triggerall = P2MoveType = I
Triggerall = P2StateType != L
Trigger1 = Random <= 200

[State -3,3]
Type = ChangeState
value = ifelse(helper(350002),var(10) < 1,37,761)
Triggerall = var(59)
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = P2BodyDist X = [40,69]
Trigger1 = P2StateNo = 5120
trigger2 = EnemyNear(floor(fvar(37))),Prevstateno = 5050

[State -3,4]
Type = ChangeState
value = 761
Triggerall = var(59)
triggerall = roundstate = 2
triggerall = helper(35002),var(10) >= 1
TriggerAll = StateType != A
TriggerAll = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = P2BodyDist X = [40,69]
Trigger1 = P2StateNo = 5120
trigger2 = EnemyNear(floor(fvar(37))),Prevstateno = 5050

[State -3,5]
Type = ChangeState
value = 37
Triggerall = var(59)
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = P2BodyDist X = [70,90]
Trigger1 = P2StateNo = 5120
Trigger1 = EnemyNear(floor(fvar(37))),Animtime = [-17,-15]

[State -3, Crouching Light Punch]
type = ChangeState
value = 400
TriggerAll = var(59)
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = P2BodyDist X = [-5,15+floor(5*(EnemyNear(floor(fvar(37))),vel X))]
Triggerall = Facing = EnemyNear(floor(fvar(37))),Facing
Triggerall = EnemyNear(floor(fvar(37))),AnimTime = [-2,-1]
Trigger1 = P2StateNo = 5120
Trigger1 = Random <= var(59)*100

[State -3,6]
Type = ChangeState
value = 105
Triggerall = var(59)
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = P2BodyDist X = [-5,30]
Trigger1 = P2StateNo = 5120
Trigger1 = EnemyNear(floor(fvar(37))),Animtime = [-17,-15]

[State -3,7]
Type = ChangeState
value = 1200
Triggerall = var(59)
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = P2BodyDist X = [-5,30]
Trigger1 = P2StateNo = 5120
Trigger1 = EnemyNear(floor(fvar(37))),Animtime = [-26,-21]

[State -3, zhuiji]
type = ChangeState
value = 37
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2stateno = 2410||P2stateno = 2510||P2stateno = 2610||P2stateno = 1201||P2stateno = 3501
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2bodydist X = [-10,100]
triggerall = P2BodyDist Y >= 0
triggerall = P2statetype != L
triggerall = P2movetype = H
triggerall = !InGuardDist
Trigger1 = Random <= (var(59)+7)*100

[State -3, JA]
type = ChangeState
value = 620      
triggerall = var(59)
triggerall = statetype = A
triggerall = p2statetype != A || roundstate = 2
triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 50
triggerall = ctrl|| Stateno = [120,150)
triggerAll = vel y > .1
Trigger1 = EnemyNear(floor(fvar(37))),StateNo = 5120
trigger2 = EnemyNear(floor(fvar(37))),Prevstateno = 5050

[State -3, JA]
type = ChangeState
value = 620      
triggerall = var(59)
triggerall = statetype = A
triggerall = p2statetype != A || roundstate = 2
triggerall = p2bodydist x < 50
triggerall = ctrl
trigger1 = vel y > .1
trigger1 = P2stateno = 2410||P2stateno = 2510||P2stateno = 2610||P2stateno = 1201||P2stateno = 3501
trigger2 = vel y > .1
Trigger2 = P2StateNo = 5120

[State -3, Dash]
Type = ChangeState
Value = 100
Ctrl = 0
Triggerall = var(59)
Triggerall = RoundState = 2 
Triggerall = StateType != A
Triggerall = P2BodyDist X >= 15
Triggerall = P2StateType != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
triggerall = Stateno != 100
Trigger1 = p2movetype = H
Trigger1 = P2stateno = 2410||P2stateno = 2510||P2stateno = 2610||P2stateno = 1201||P2stateno = 3501
;=====================================================================
[State -3]
type = ChangeState
value = 850
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = P2Movetype != H
triggerall = P2stateno != [5000,5050]
triggerall = ctrl|| stateno = 50|| stateno = [120,149]
triggerall = statetype = A
triggerall = p2statetype = A
triggerall = P2statetype != L
triggerall = p2stateno != 5120
triggerall = P2BodyDist X = [-20,45+floor(1*(EnemyNear(floor(fvar(37))),vel X)+floor(1*vel X))]
triggerall = P2BodyDist Y = [-90-floor(1*(EnemyNear(floor(fvar(37))),vel Y)+(1*(1+1)/2)*fvar(30)-floor(1*vel Y)-(1*(1+1)/2)*0.60),20-floor(1*(EnemyNear(floor(fvar(37))),vel Y)+(1*(1+1)/2)*fvar(30)-floor(1*vel Y)-(1*(1+1)/2)*0.60)]
trigger1 = EnemyNear(floor(fvar(37))),facing != facing

[State -3, JA]
Type = ChangeState
Value = 600
TriggerAll = var(59)
TriggerAll = var(9)
TriggerAll = RoundState = 2
TriggerAll = Random <= var(59)*100
TriggerAll = StateType = A
TriggerAll = EnemyNear(floor(fvar(37))),MoveType = H
TriggerAll = EnemyNear(floor(fvar(37))),StateType = A
TriggerAll = Ctrl || (StateNo = [120,149])
Trigger1 = P2BodyDist X = [-30,75]
Trigger1 = EnemyNear(floor(fvar(37))),Pos Y - Pos Y = [-70,70]
trigger2 = p2bodydist y = [-55-floor(4*(EnemyNear(floor(fvar(37))),vel Y)+(4*(7+1)/2)*fvar(30)-floor(4*vel Y)-(4*(4+1)/2)*0.54),55-floor(4*(EnemyNear(floor(fvar(37))),vel Y)+(4*(5+1)/2)*fvar(30)-floor(4*vel Y)-(4*(4+1)/2)*0.54)]

[State -3, Jump Light Punch]
type = ChangeState
value = ifelse(FrontEdgeBodyDist <= 30 && P2stateno = 5120,620,600)
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno != 105
triggerall = statetype = A
triggerall = ctrl || (StateNo = [120,149])
triggerall = vel X != 0
triggerall = P2BodyDist X = [-31+floor(4*(EnemyNear(floor(fvar(37))),vel X)+floor(5*vel X)),31+floor(4*(EnemyNear(floor(fvar(37))),vel X)+floor(4*vel X))]
triggerall = P2BodyDist Y = [-36-floor(4*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(30)-floor(4*vel Y)-(4*(4+1)/2)*0.54),76-floor(4*(EnemyNear(floor(fvar(37))),vel Y)+(4*(4+1)/2)*fvar(30)-floor(4*vel Y)-(4*(4+1)/2)*0.54)]
triggerall = (EnemyNear(floor(fvar(37))),statetype != A && Vel Y >= 0) || EnemyNear(floor(fvar(37))),statetype = A
triggerall = P2statetype != L
trigger1 = random <= 1000

[State -3, Jump Light Punch]
type = ChangeState
value = ifelse(FrontEdgeBodyDist <= 30 && P2stateno = 5120,620,600)
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = P2statetype != A
Triggerall = P2StateType != L
trigger1 = p2bodydist x = [-10,70+floor(5*(enemynear(floor(fvar(37))),vel X)+floor(5*vel X))]
trigger1 = P2bodydist y = [-70-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(30)),100-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(30))]
trigger1 = time > 4 && stateno = [120,149]
trigger1 = vel x >= 0

[State -1, Jump Strong Kick]
type = ChangeState
value = ifelse(p2bodydist x < 60+floor(6*(enemynear(floor(fvar(37))),vel X)+floor(6*vel X)),610,620)
triggerall = var(59)
triggerall = RoundState = 2
triggerall = statetype = A
triggerall = EnemyNear(floor(fvar(37))),statetype != L
triggerall = EnemyNear(floor(fvar(37))),stateno != [5020,5040]
triggerall = vel X != 0
triggerall = Ctrl
trigger1 = p2bodydist x = [-10,70+floor(11*(enemynear(floor(fvar(37))),vel X)+floor(11*vel X))]
trigger1 = EnemyNear(floor(fvar(37))),Facing != Facing
trigger1 = P2bodydist y = [-70-floor(11*(EnemyNear(floor(fvar(37))),vel Y)+(11*(11+1)/2)*fvar(30)),100-floor(11*(EnemyNear(floor(fvar(37))),vel Y)+(11*(11+1)/2)*fvar(30))]
trigger1 = EnemyNear(floor(fvar(37))),StateType = A

[State -3, Jump Strong Kick]
type = ChangeState
value = 610
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno != 105
triggerall = statetype = A
triggerall = ctrl && FrontEdgeBodyDist > 20
triggerall = P2BodyDist X = [-10+floor(6*(EnemyNear(floor(fvar(37))),vel X)+floor(6*vel X)),60+floor(6*(EnemyNear(floor(fvar(37))),vel X)+floor(6*vel X))]
triggerall = P2BodyDist Y = [-30-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(30)-floor(6*vel Y)-(6*(6+1)/2)*0.54),60-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(30)-floor(6*vel Y)-(6*(6+1)/2)*0.54)]
triggerall = (EnemyNear(floor(fvar(37))),statetype != A && Vel Y >= 0) || EnemyNear(floor(fvar(37))),statetype = A
triggerall = P2statetype != L
trigger1 = random <= 100*(var(59)+7)

[State -3, Jump Strong Kick]
type = ChangeState
value = 620
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = ctrl
triggerall = stateno != 105
triggerall = P2BodyDist X = [-35,54]
triggerall = P2BodyDist Y = [-30,70]
triggerall = P2StateType != A
triggerall = P2movetype != H
triggerall = P2StateType != C
triggerall = P2StateType != L
trigger1 = vel y >.1
Trigger1 = Random <= (var(59)+6)*100

[State -3, Jump Strong Kick]
type = ChangeState
value = 620
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = ctrl || (StateNo = [120,149])
triggerall = stateno != 105
triggerall = P2BodyDist X = [-35,54]
triggerall = P2BodyDist Y = [-30,70]
triggerall = P2StateType != A
triggerall = P2movetype = H
triggerall = P2StateType != L
trigger1 = vel y >.1
Trigger1 = Random <= 1000

[State AI]
type = ChangeState
value = 620
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno != 105
triggerall = statetype = A
triggerall = ctrl
triggerall = P2BodyDist X = [-15+floor(10*(EnemyNear(floor(fvar(37))),vel X)+floor(10*vel X)),60+floor(10*(EnemyNear(floor(fvar(37))),vel X)+floor(10*vel X))]
triggerall = P2BodyDist Y = [-50-floor(10*(EnemyNear(floor(fvar(37))),vel Y)+(10*(10+1)/2)*fvar(30)-floor(10*vel Y)-(10*(10+1)/2)*0.54),59-floor(10*(EnemyNear(floor(fvar(37))),vel Y)+(10*(10+1)/2)*fvar(30)-floor(10*vel Y)-(10*(10+1)/2)*0.54)]
triggerall = (EnemyNear(floor(fvar(37))),statetype != A && Vel Y >= 0) || EnemyNear(floor(fvar(37))),statetype = A
triggerall = !inguarddist
triggerall = P2statetype != L
trigger1 = random <= 100*var(59)

[State -3, Jump Strong Kick]
type = ChangeState
value = 620
triggerall = statetype = A
triggerall = ctrl ||(StateNo = [120,140])
triggerall = var(59)
triggerall = RoundState = 2
triggerall = Random <= var(59)*100
triggerall = enemynear(floor(fvar(37))),StateType != A
triggerall = enemynear(floor(fvar(37))),MoveType != H
triggerall = vel X > 0
trigger1 = P2BodyDist X < 0
trigger1 = P2Dist X = [-30,25]
trigger1 = vel Y > .1
trigger1 = pos y < -30
;=================================================================================
[State -3]
type = ChangeState
value = 3000
TriggerAll = var(59)
TriggerAll = power >= 1000
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2Movetype = A
TriggerAll = Ctrl || stateno = 20 || stateno = 21 || stateno = 22 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = P2bodydist X < 60
TriggerAll = !(EnemyNear(floor(fvar(37))),ctrl)
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -12
TriggerAll = Random <= var(59)*100 
Trigger1 = EnemyNear(floor(fvar(37))),Time >= 0 
Trigger2 = (PrevStateNo=[5000,5270]) && EnemyNear(floor(fvar(37))),Time >= 0
Trigger3 = (PrevStateNo=[120,159]) && EnemyNear(floor(fvar(37))),Time >= 0
Trigger3 = (PrevStateNo=[750,761]) && EnemyNear(floor(fvar(37))),Time >= 0

[State AI]
type = ChangeState
value = 3000
triggerall = var(59)
Triggerall = RoundState = 2
TriggerAll = StateType != A
TriggerAll = power >= 1000 
triggerall = P2MoveType = A
triggerall = P2StateType != L
TriggerAll = P2BodyDist X = [-10,60]
TriggerAll = P2BodyDist Y >= -60
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -12
triggerall = EnemyNear(floor(fvar(37))),movetype = A
TriggerAll = BackEdgeBodyDist >= 20
TriggerAll = Random<= var(59)*70
triggerall = EnemyNear(floor(fvar(37))),Time >=30 || Time <= 2 || var(6) || var(59) >= 9
trigger1 = EnemyNear(floor(fvar(37))),Time >=50 || var(59) >= 9
Trigger2 = (PrevStateNo=[5000,5270])
Trigger3 = (PrevStateNo=[120,159])
Trigger3 = (PrevStateNo=[750,761])

[State -3,5AB]
type = ChangeState
value = 750
Triggerall = var(59)
Triggerall = StateType != A
Triggerall = RoundState = 2
Triggerall = P2StateType != L
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || stateno = 22|| (stateno = 52 && Time >= 3) || stateno = 99 || (Ctrl && prevstateno = 5120 && time <= 1)|| (ctrl && prevstateno = 5201) 
Triggerall = Random < var(59)*80
Trigger1 = InGuardDist
Trigger1 = helper(35002),var(9) = 1

[State -3,8]
Type = ChangeState
Value = 400
TriggerAll = var(59) 
TriggerAll = RoundState = 2
TriggerAll = Random < var(59)*33
TriggerAll = StateType != A
TriggerAll =!Enemy,NumProj
TriggerAll = EnemyNear(floor(fvar(37))),Vel X > 0
TriggerAll = EnemyNear(floor(fvar(37))),Animtime <= -4
TriggerAll = EnemyNear(floor(fvar(37))),MoveType != H
TriggerAll = EnemyNear(floor(fvar(37))),StateType != L
TriggerAll = EnemyNear(floor(fvar(37))),StateType != A
TriggerAll = EnemyNear(floor(fvar(37))),StateNo < 2000
TriggerAll = Ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100 || StateNo = [120,150)
TriggerAll = var(6) || prevstateno = 750||  PrevStateNo = [140,160)
Trigger1 = P2bodydist X = [-15+floor(4*(EnemyNear(floor(fvar(37))),vel X)),30+floor(4*(EnemyNear(floor(fvar(37))),vel X))]

[State -3, 5AB]
Type = ChangeState
Value = 750
TriggerAll = var(59) 
TriggerAll = RoundState = 2
TriggerAll = Random <= var(59)*40
TriggerAll = StateType != A
TriggerAll = EnemyNear(floor(fvar(37))),MoveType = A
TriggerAll = EnemyNear(floor(fvar(37))),Ctrl = 0
TriggerAll = EnemyNear(floor(fvar(37))),StateType != A
TriggerAll = EnemyNear(floor(fvar(37))),StateType != L
TriggerAll =!EnemyNear(floor(fvar(37))),HitDefAttr = SC, NT, ST, HT
TriggerAll = EnemyNear(floor(fvar(37))),Facing != Facing
Trigger1 = Ctrl|| stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100 || StateNo = [120,150)
Trigger1 = P2BodyDist X = [-10,60+floor(4*(EnemyNear(floor(fvar(37))),vel X))]
Trigger1 = EnemyNear(floor(fvar(37))),AnimTime <= -15
trigger2 = stateno = 400 || stateno = 210|| stateno = 220|| stateno = 200
trigger2 = Animtime = 0
Trigger2 = P2BodyDist X = [-20+floor(11*(EnemyNear(floor(fvar(37))),vel X)),60+floor(11*(EnemyNear(floor(fvar(37))),vel X))]
Trigger2 = EnemyNear(floor(fvar(37))),AnimTime <= -12
trigger3 = Prevstateno = 400 || Prevstateno = 210|| Prevstateno = 220
Trigger3 = P2BodyDist X = [-20+floor(11*(EnemyNear(floor(fvar(37))),vel X)),60+floor(11*(EnemyNear(floor(fvar(37))),vel X))]
Trigger3 = EnemyNear(floor(fvar(37))),AnimTime <= -12
Trigger3 = Ctrl|| stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100 || StateNo = [120,150)
Trigger4 = Helper(35002),Var(9) = 1
trigger4 = PrevStateno = 5120||Prevstateno = [120,159)
Trigger4 = P2BodyDist X = [-20,70]
Trigger4 = Ctrl|| stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100 || StateNo = [120,150)

[State -3, Stand Strong Punch]
type = ChangeState
value = ifelse(p2statetype = S && (p2stateno = [120,159]),400,200)
triggerall = var(59)
triggerall = roundstate = 2
triggerall = P2BodyDist X = [-11,11]
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-11+floor(4*(EnemyNear(floor(fvar(37))),vel X)),11+floor(4*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-40-floor(4*(EnemyNear(floor(fvar(37))),vel Y)+(4*(4+1)/2)*fvar(30)),0-floor(4*(EnemyNear(floor(fvar(37))),vel Y)+(4*(4+1)/2)*fvar(30))]
triggerall = P2statetype != L
triggerall = P2movetype != H
;triggerall = !InGuardDist || Facing = enemynear(floor(fvar(37))),Facing
Trigger1 = Random <= var(59)*40

[State -3,2A]
Type = ChangeState
Value = 400
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = Random <= var(59)*100 
TriggerAll = StateType != A
triggerall = Stateno != 5120 && Prevstateno != 5120
TriggerAll = EnemyNear(floor(fvar(37))),MoveType = A || Enemy,NumProj && EnemyNear(fvar(37)),StateNo < 2000 
TriggerAll = EnemyNear(floor(fvar(37))),StateNo >= 200
TriggerAll = EnemyNear(floor(fvar(37))),StateType != A
TriggerAll =!EnemyNear(floor(fvar(37))),HitDefAttr = SCA, NT, ST, HT 
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -4
TriggerAll = Ctrl|| stateno = 20|| stateno = 21|| stateno = 22 || StateNo = 100 || StateNo = 52|| StateNo = [120,150)
Trigger1 =  P2bodydist X = [-25,20]

[State -3]
Type = ChangeState
Value = 2600
TriggerAll = var(59)
TriggerAll = Power >= 1000
Triggerall = (life <= 334 && var(2) = 0)||palno = 11
TriggerAll = RoundState = 2
TriggerAll = P2bodydist X = [-20,40+floor(1*(EnemyNear(floor(fvar(37))),vel X))]
TriggerAll = Statetype != A
TriggerAll = Prevstateno != 2600
TriggerAll = Ctrl || stateno = 20 || stateno = 21 || stateno = 22 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = [120,150)
TriggerAll = P2Statetype != L
Trigger1 = EnemyNear(floor(fvar(37))),stateno = [120,149]

[State -3]
Type = ChangeState
Value = ifelse(((life <= 334 && var(2) = 0 && power >= 1000)||palno = 11),2600,800)
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = Random <= var(59)*60
TriggerAll = StateType != A
TriggerAll = P2BodyDist X = [-10,10]
TriggerAll = EnemyNear(floor(fvar(37))),MoveType != H
TriggerAll = EnemyNear(floor(fvar(37))),StateType = S || EnemyNear(floor(fvar(37))),StateType = C
TriggerAll = EnemyNear(floor(fvar(37))),StateNo != [5100,5299]
Trigger1 = Ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 52|| stateno = [120,149]

[State -3]
type = ChangeState
value = ifelse(((life <= 334 && var(2) = 0 && power >= 1000)||palno = 11),2600,800)
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = P2Movetype != H
triggerall = P2stateno != [5000,5050]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 52|| stateno = [120,149]
triggerall = statetype != A
triggerall = p2statetype != A
triggerall = P2statetype != L
triggerall = p2stateno != 5120
triggerall = p2bodydist x = [-10,20]
trigger1 = EnemyNear(floor(fvar(37))),facing != facing
trigger2 = EnemyNear(floor(fvar(37))),Animtime < -5
trigger2 = EnemyNear(floor(fvar(37))),facing  = facing
trigger3 = Prevstateno = 5120 && ctrl
trigger3 = EnemyNear(floor(fvar(37))),Stateno < 1000

[State -3]
type = ChangeState
value = ifelse(((life <= 334 && var(2) = 0 && power >= 1000)||palno = 11),2600,800)
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = P2Movetype != H
triggerall = P2stateno != [5000,5050]
triggerall = Stateno = 200 || Stateno = 202 || Stateno = 210 || Stateno = 211 || Stateno = 220 || Stateno = 400 || Stateno = 410
triggerall = !MoveContact && Animtime = 0
triggerall = statetype != A
triggerall = p2statetype != A
triggerall = P2statetype != L
triggerall = p2stateno != 5120
triggerall = p2bodydist x = [-10,20]
trigger1 = EnemyNear(floor(fvar(37))),facing != facing
trigger2 = EnemyNear(floor(fvar(37))),Animtime < -5
trigger2 = EnemyNear(floor(fvar(37))),facing  = facing


[State -3,4ab]
Type = ChangeState
Value = 761
TriggerAll = var(59)
TriggerAll = BackEdgeBodyDist >= 20
TriggerAll = RoundState = 2
TriggerAll = Random <= var(59) * 100 
TriggerAll = StateType != A
TriggerAll = Abs(EnemyNear(floor(fvar(37))),Pos X - Pos X) <= 55 && EnemyNear(floor(fvar(37))),AnimTime > -5 || Abs(EnemyNear(floor(fvar(37))),Pos X - Pos X) > 55
TriggerAll = EnemyNear(floor(fvar(37))),StateNo = [200,900)
TriggerAll = EnemyNear(floor(fvar(37))),MoveType = A
TriggerAll =!EnemyNear(floor(fvar(37))),HitDefAttr = SCA, NT, ST, HT 
TriggerAll = EnemyNear(floor(fvar(37))),Time <= 5
TriggerAll = EnemyNear(floor(fvar(37))),facing != facing
TriggerAll =!InGuardDist
TriggerAll = Ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100 || StateNo = [120,150)
Trigger1 = Abs(EnemyNear(floor(fvar(37))),Pos X - Pos X) <= 70 && EnemyNear(floor(fvar(37))),AnimTime >= -5
Trigger2 = Abs(EnemyNear(floor(fvar(37))),Pos X - Pos X) <= 85 && EnemyNear(floor(fvar(37))),AnimTime >= -16
trigger3 = Abs(EnemyNear(floor(fvar(37))),Pos X - Pos X) <= 105 && EnemyNear(floor(fvar(37))),AnimTime >= -17

[State -3, 5AB]
Type = ChangeState
Value = 750
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = Random <= var(59)*100
TriggerAll = StateType != A
TriggerAll = EnemyNear(floor(fvar(37))),Stateno >= 200
TriggerAll = EnemyNear(floor(fvar(37))),Time <= 1
TriggerAll = EnemyNear(floor(fvar(37))),StateType != L
TriggerAll = EnemyNear(floor(fvar(37))),Facing != Facing
TriggerAll =!EnemyNear(floor(fvar(37))),HitDefAttr = SCA, NT, ST, HT
TriggerAll = P2BodyDist X = [-41,41]
TriggerAll = InGuardDist
TriggerAll = Ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100 || StateNo = [120,150]
Trigger1 = EnemyNear(floor(fvar(37))),StateNo = Helper(35002),var(21)
Trigger2 = EnemyNear(floor(fvar(37))),StateNo = Helper(35002),var(22)
Trigger3 = EnemyNear(floor(fvar(37))),StateNo = Helper(35002),var(23)
IgnoreHitPause = 1

[State -3, 6ab]
type = ChangeState
value = 760
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno = [100,151]
triggerall = StateType != A
triggerall = P2MoveType = A
triggerall = P2StateType != L
triggerall = EnemyNear,Animtime <= -40
triggerall = EnemyNear,BackEdgeBodyDist >= 20
triggerall = BackEdgeBodyDist <= 16
triggerall = P2BodyDist X = [0,120]
Trigger1 = Random <= var(59)*100

[State -3]
type = ChangeState
value = 760
TriggerAll = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
TriggerAll = P2StateType != L
TriggerAll = P2bodydist X = [-5,120]
TriggerAll = P2bodydist y = [-50,10]
TriggerAll = Ctrl || stateno = 20 || stateno = 21 || stateno = 22 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = P2MoveType = A
TriggerAll = EnemyNear(floor(fvar(37))),NumProj <= 1
TriggerAll = EnemyNear(floor(fvar(37))),HitDefAttr = SCA,AA,AP
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -35
TriggerAll = EnemyNear(floor(fvar(37))),Ctrl = 0
Trigger1 = EnemyNear(floor(fvar(37))),stateno < 2000

[State -3]
type = ChangeState
value = 760
TriggerAll = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
TriggerAll = P2StateType != L
TriggerAll = P2bodydist X = [-5,120]
TriggerAll = P2bodydist y = [-30,0]
TriggerAll = Ctrl || stateno = 20 || stateno = 21 || stateno = 22 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = P2MoveType = A
TriggerAll = EnemyNear(floor(fvar(37))),NumProj <= 1
TriggerAll = EnemyNear(floor(fvar(37))),HitDefAttr = SCA,AA,AP
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -35
TriggerAll = EnemyNear(floor(fvar(37))),Ctrl = 0
Trigger1 = EnemyNear(floor(fvar(37))),Time >= 0
Trigger2 = (PrevStateNo=[5000,5270]) && EnemyNear(floor(fvar(37))),Time >= 0
Trigger3 = (PrevStateNo=[120,159]) && EnemyNear(floor(fvar(37))),Time >= 0

[State -3]
Type = ChangeState
Value = 760
TriggerAll = var(59)
TriggerAll = enemynear(floor(fvar(37))),Vel X >= 0
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = P2BodyDist X > 180 || (enemynear(floor(fvar(37))),AnimTime <= -35 && !enemynear(floor(fvar(37))),Ctrl)
TriggerAll = EnemyNear(floor(fvar(37))),HitDefAttr = SCA,AA || enemynear(floor(fvar(37))),NumProj <= 1
TriggerAll = InGuardDist
TriggerAll = enemynear(floor(fvar(37))),Time >= 30 || !enemynear(floor(fvar(37))),Ctrl
Trigger1 = EnemyNear(floor(fvar(37))),Time >= 0
Trigger2 = (PrevStateNo=[5000,5270]) && EnemyNear(floor(fvar(37))),Time >= 0
Trigger3 = (PrevStateNo=[120,159]) && EnemyNear(floor(fvar(37))),Time >= 0

[State -3]
Type = ChangeState
Value = 760
TriggerAll = var(59)
TriggerAll = enemynear(floor(fvar(37))),Vel X = 0
TriggerAll = StateType != A && power >= 1000
TriggerAll = stateno = [150,151]
TriggerAll = InGuardDist && EnemyNear(floor(fvar(37))),AnimTime <= -30
Trigger1 = P2BodyDist X < 100 && !enemynear(floor(fvar(37))),Ctrl && enemynear(floor(fvar(37))),Statetype != A

[State -3,pd1]
Type = ChangeState
Value = 2400
TriggerAll = roundstate = 2 
TriggerAll = Var(59)
triggerall = power >= 1000
Triggerall = (life <= 500 && var(2) = 0)||palno = 11
TriggerAll = StateType != A && PrevStateNo != 2400
TriggerAll = Ctrl || stateno = 21 || stateno = 100 || (stateno = 52 && Time >= 3) || stateno = 22 || stateno = 52 
triggerall = !enemynear(floor(fvar(37))),HitDefAttr = SCA,NA,SA,HA
TriggerAll = IfElse(Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0,(Abs(P2Dist X) <= 50),1)
triggerall = EnemyNear(floor(fvar(37))),statetype != A
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
triggerall = EnemyNear(floor(fvar(37))),Movetype = A
triggerall = enemynear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA
triggerall = P2bodydist X = [-50-enemynear(floor(fvar(37))),const(size.air.front)-enemynear(floor(fvar(37))),const(size.air.back)+floor(0*(fvar(11))),70+floor(0*(fvar(11)))]
triggerall = P2bodydist y = [-40-floor(0*(EnemyNear(floor(fvar(37))),vel Y)+(0*0/2)*fvar(30)),5-floor(0*(EnemyNear(floor(fvar(37))),vel Y)+(0*0/2)*fvar(30))]
Trigger1 = InGuardDist || (Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0 && P2MoveType = A)
Trigger1 = EnemyNear(floor(fvar(37))),HitDefAttr = SCA,NA,SA,HA || EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA
Trigger2 = InGuardDist || Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0
Trigger2 = Enemy(0),NumProj > 0 && Enemy(1),NumProj = 0
Trigger3 = EnemyNear(floor(fvar(37))),HitDefAttr = SCA,NA,SA,HA|| EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA
Trigger3 = P2BodyDist X < 0
Trigger4 = EnemyNear(floor(fvar(37))),Vel X > 0
Trigger4 = EnemyNear(floor(fvar(37))),HitDefAttr = SCA,NA,SA,HA|| EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA

[State -3,9]
Type = AttackDist
TriggerAll = var(59)
triggerall = life <= lifemax*0.5
Trigger1 = EnemyNear(floor(fvar(37))),StateType = A
Trigger2 = StateType = A
Trigger3 = EnemyNear(floor(fvar(37))),PrevStateNo = [5000,5270]
Value = 0
ignorehitpause = 1

[State AI,pd2]
type = ChangeState
value = 2400
Triggerall = (life <= 500 && var(2) = 0)||palno = 11
triggerall = var(59)
triggerall = power >= 1000
triggerall = roundstate = 2 
triggerall = statetype != A && PrevStateNo != 2400
triggerall = ctrl || stateno = 21 || stateno = 100 || (stateno = 52 && Time >= 3) || stateno = 22 || stateno = 52 
triggerall = P2bodydist X = [-40-enemynear(floor(fvar(37))),const(size.air.front)-enemynear(floor(fvar(37))),const(size.air.back)+floor(0*(fvar(11))),60+floor(0*(fvar(11)))]
triggerall = P2bodydist y = [-60-floor(0*(EnemyNear(floor(fvar(37))),vel Y)+(0*0/2)*fvar(30)),10-floor(0*(EnemyNear(floor(fvar(37))),vel Y)+(0*0/2)*fvar(30))]
triggerall = InGuardDist
triggerall = EnemyNear(floor(fvar(37))),Movetype = A
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
triggerall = enemynear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA
triggerall = enemynear(floor(fvar(37))),statetype = A
trigger1 = enemynear(floor(fvar(37))),vel y > 0

[state -1,dangshen]
Type = ChangeState
Value = 2400
Triggerall = var(59)
triggerall = power >= 1000
Triggerall = (life <= 500 && var(2) = 0)||palno = 11
Triggerall = Roundstate = 2
Triggerall = Statetype != A
Triggerall = ctrl|| stateno = 22 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = p2bodydist x < 0
trigger1 = Abs(P2Dist X) <= 30
Trigger1 = enemynear(floor(fvar(37))),HitDefAttr = SCA, NA, SA, HA
Trigger1 = enemynear(floor(fvar(37))),facing = facing
Trigger1 = random < var(59)*80

[state -1,dangshen]
Type = ChangeState
Value = 2400
Triggerall = var(59)
triggerall = (life <= 500 && var(2) = 0)||palno = 11
TriggerAll = power >= 1000
Triggerall = Roundstate = 2
Triggerall = Statetype != a
Triggerall = ctrl|| stateno = 22 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = p2bodydist x = [-25,25]
Trigger1 = enemynear(floor(fvar(37))),HitDefAttr = SCA, NA, SA, HA
Trigger1 = enemynear(floor(fvar(37))),Stateno < 2000
Trigger1 = random < var(59)*80

[State -3,2400]
type = ChangeState
value = 2400
triggerall = var(59)
triggerall = power >= 1000
Triggerall = (life <= 500 && var(2) = 0)||palno = 11
TriggerAll = power >= 1000
triggerall = Random <= var(59)*80
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),ctrl = 0
triggerall = enemynear(floor(fvar(37))),statetype != A
triggerall = enemynear(floor(fvar(37))),MoveType = A
triggerall = enemynear(floor(fvar(37))),numproj = 0
TriggerAll = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || PrevStateNo=750
triggerall = ctrl ||stateno = 22|| stateno = 20|| stateno = 21|| stateno = 100
triggerall = p2bodydist x = [-35,35]
triggerall = enemynear(floor(fvar(37))),animtime <= -15
trigger1 = enemynear(floor(fvar(37))),time >= 30
trigger2 = enemynear(floor(fvar(37))),time <= 2

[State -3, TOU]
type = ChangeState
value = 2600
triggerall = var(59)
triggerall = power >= 1000
Triggerall = (life <= 334 && var(2) = 0)||palno = 11
triggerall = Random <= var(59)*90
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),ctrl = 0
triggerall = enemynear(floor(fvar(37))),statetype != A
triggerall = enemynear(floor(fvar(37))),movetype = A
triggerall = enemynear(floor(fvar(37))),animtime <= -1
triggerall = prevstateno != 2600
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100|| stateno = 52
trigger1 = p2bodydist x = [-40+floor(1*(EnemyNear(floor(fvar(37))),vel X)),40+floor(1*(EnemyNear(floor(fvar(37))),vel X))]
Trigger2 = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159])|| var(6) || PrevStateNo=750|| prevstateno = 760
trigger2 = p2bodydist x = [-40+floor(1*(EnemyNear(floor(fvar(37))),vel X)),40+floor(1*(EnemyNear(floor(fvar(37))),vel X))]

[State -3, TOU]
type = ChangeState
value = 2600
triggerall = var(59)
triggerall = power >= 1000
Triggerall = (life <= 334 && var(2) = 0)||palno = 11
triggerall = Random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),ctrl = 0
triggerall = enemynear(floor(fvar(37))),statetype != A
triggerall = enemynear(floor(fvar(37))),movetype = A
triggerall = enemynear(floor(fvar(37))),animtime <= -1 
triggerall = InGuardDist || enemynear(floor(fvar(37))),facing != facing || (prevstateno = [130,155]) || (prevstateno = [750,761])||prevstateno = 5201||prevstateno = 5120
Trigger1 = Stateno = 200||Stateno = 210||Stateno = 400||Stateno = 201||Stateno = 410
Trigger1 = !MoveContact
trigger1 = p2bodydist x = [-40+floor(2*(EnemyNear(floor(fvar(37))),vel X)),40+floor(2*(EnemyNear(floor(fvar(37))),vel X))]
trigger2 = Stateno = 200||Stateno = 210||Stateno = 400||Stateno = 201||Stateno = 410
trigger2 = p2bodydist x = [-40,40]

[State -3, AI ]
type = ChangeState
value = ifelse(((life <= 500 && var(2) = 0 && power >= 1000)||palno = 11),2500,1100)
triggerall = NumEnemy
triggerall = var(59) && Random <= var(59)*100
triggerall = RoundState = 2
triggerall = StateType != A
triggerall = P2bodydist X = [-10+floor((EnemyNear(floor(fvar(37))),vel X)),20+floor((EnemyNear(floor(fvar(37))),vel X))]
triggerall = p2bodydist Y = [-60,20]
triggerall = enemynear(fvar(37)),vel y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = enemynear(fvar(37)),statetype = L
triggerall = enemynear(fvar(37)),movetype = H
triggerall = enemynear(fvar(37)),time <= 5
trigger1 = enemynear(fvar(37)),stateno = 5100
trigger2 = enemynear(fvar(37)),stateno = 5101

[State -3]
Type = ChangeState
Value = 120
TriggerAll = RoundState = 2
TriggerAll = NumHelPer(35000) > 0
TriggerAll = NumHelPer(35001) > 0
TriggerAll = var(59)
TriggerAll = Ctrl && StateType = A && StateNo != 5120
TriggerAll = P2StateNo != HelPer(35000),Var(6)
TriggerAll = P2StateNo != HelPer(35001),Var(6)
TriggerAll = HelPer(35000),Var(2) = 0
TriggerAll = HelPer(35000),InGuardDist || HelPer(35001),InGuardDist
TriggerAll = IfElse(Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0,(Abs(P2Dist X) <= 60),1)
Trigger1 = InGuardDist || (Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0 && P2MoveType = A)
Trigger1 = EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(37))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger2 = (InGuardDist && HelPer(35002),InGuardDist) || Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0
Trigger2 = Enemy(0),NumProj > 0 || Enemy(1),NumProj > 0
Trigger3 = EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(37))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger3 = P2BodyDist X < 0
Trigger4 = EnemyNear(floor(fvar(37))),Vel X > 0
Trigger4 = EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(37))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger5 = HelPer(35002),Var(9) > 1
Trigger5 = InGuardDist
Trigger6 = InGuardDist
Trigger6 = HelPer(35000),Var(53)

[State -3]
Type = ChangeState
Value = 120
TriggerAll = RoundState = 2
TriggerAll = NumHelPer(35000) > 0
TriggerAll = NumHelPer(35001) > 0
TriggerAll = var(59)
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 0|| stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3)|| stateno = 22 || stateno = 100 ||Stateno = 400 && Time >= 6
TriggerAll = Helper(35000),Var(2) = 0
TriggerAll = IfElse(Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0,(Abs(P2Dist X) <= 60),1)
Trigger1 = InGuardDist || (Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0 && P2MoveType = A)
Trigger1 = EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(37))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger2 = InGuardDist || Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0
Trigger2 = Enemy(0),NumProj > 0 || Enemy(1),NumProj > 0
Trigger3 = EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(37))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger3 = P2BodyDist X < 0
Trigger4 = EnemyNear(floor(fvar(37))),Vel X > 0
Trigger4 = EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(37))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger5 = HelPer(35002),Var(9) > 1
Trigger5 = InGuardDist
Trigger6 = InGuardDist
Trigger6 = HelPer(35000),Var(53)

[State -3, Crouching Light Punch2]
Type = ChangeState
Value = 400
TriggerAll = var(59) 
TriggerAll = RoundState = 2 
TriggerAll = Random <= var(59)*60
TriggerAll = StateType != A
TriggerAll = P2BodyDist X = [-15,34]
TriggerAll = EnemyNear(floor(fvar(37))),StateType != L
TriggerAll = EnemyNear(floor(fvar(37))),StateNo != [5000,5210]
TriggerAll = Ctrl|| stateno = 19 || stateno = 20 || stateno = 21 || stateno = 22|| (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = EnemyNear(floor(fvar(37))),Ctrl
Trigger1 = EnemyNear(floor(fvar(37))),Pos Y >= 0 && (EnemyNear(floor(fvar(37))),Vel Y != 0 || P2Dist Y < 0 && P2Dist Y + floor(5*(EnemyNear(floor(fvar(37))),Vel Y)+(5*(5+1)/2)*fvar(30)) > 0)
Trigger1 = EnemyNear(floor(fvar(37))),Const(size.mid.pos.y) - 20 <= -75
Trigger1 = EnemyNear(floor(fvar(37))),MoveType != H && EnemyNear(floor(fvar(37))),AnimTime > -5 || EnemyNear(floor(fvar(37))),Ctrl
Trigger2 = EnemyNear(floor(fvar(37))),Ctrl 
Trigger2 = EnemyNear(floor(fvar(37))),Pos Y >= 0 && (EnemyNear(floor(fvar(37))),Vel Y != 0 || EnemyNear(floor(fvar(37))),Stateno = 52 && EnemyNear(floor(fvar(37))),Time <= 0)
Trigger2 = EnemyNear(floor(fvar(37))),Pos Y >= 0 && EnemyNear(floor(fvar(37))),Vel Y != 0 && EnemyNear(floor(fvar(37))),Const(size.mid.pos.y) - 20 <= -75 || P2Dist Y < 0
Trigger1 = EnemyNear(floor(fvar(37))),MoveType != H && EnemyNear(floor(fvar(37))),AnimTime > -5 || EnemyNear(floor(fvar(37))),Ctrl

[State -3]
type = ChangeState
value = 200
TriggerAll = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
TriggerAll = P2StateType != L
TriggerAll = P2StateType != A
TriggerAll = P2BodyDist X = [-15,40]
triggerall = EnemyNear(floor(fvar(37))),Stateno != 5120
triggerall = EnemyNear(floor(fvar(37))),PrevStateno != 5050
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || stateno = 22|| (stateno = 52 && Time >= 3) || stateno = 100
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -4
TriggerAll = EnemyNear(floor(fvar(37))),Movetype != H
TriggerAll = PrevStateno != 5120
TriggerAll = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159])|| var(6)|| PrevStateNo=750 || prevstateno = 760
TriggerAll = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random<= var(59)*100
Trigger1 = EnemyNear(floor(fvar(37))),Time >= 0
Trigger2 = facing = EnemyNear(floor(fvar(37))),facing
Trigger2 = EnemyNear(floor(fvar(37))),AnimTime <= -7

[State -3, Stand Light Punch]
type = ChangeState
value = 200
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100 || stateno = 52
triggerall = P2BodyDist X = [-34+floor(4*(EnemyNear(floor(fvar(37))),vel X)),34+floor(4*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-35-floor(4*(EnemyNear(floor(fvar(37))),vel Y)+(4*(4+1)/2)*fvar(30)),10-floor(4*(EnemyNear(floor(fvar(37))),vel Y)+(4*(4+1)/2)*fvar(30))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
;triggerall = !InGuardDist || Facing = enemynear(floor(fvar(37))),Facing
Trigger1 = Random <= var(59)*33

[State -1, Stand Light Punch]
type = ChangeState
value = 200
triggerall = var(59)
triggerall = RoundState = 2 
triggerall = Random <= var(59)*40
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(37))),statetype != A
triggerall = EnemyNear(floor(fvar(37))),statetype != L
triggerall = EnemyNear(floor(fvar(37))),MoveType != H
triggerall = EnemyNear(floor(fvar(37))),StateNo >= 200
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100 || stateno = 52
trigger1 = p2bodydist x = [-15+floor(5*(EnemyNear(floor(fvar(37))),vel X)),45+floor(5*(EnemyNear(floor(fvar(37))),vel X))]
trigger1 = EnemyNear(floor(fvar(37))),animtime <= -5
trigger1 = EnemyNear(floor(fvar(37))),time >= 30 

[State -3, Stand Light Kick]
type = ChangeState
value = 200
triggerall = var(59)
triggerall = roundstate = 2
triggerall = P2BodyDist X > 11
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [12+floor(7*(EnemyNear(floor(fvar(37))),vel X)),40+floor(7*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-33-floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(30)),3-floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(30))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype = C
;triggerall = !InGuardDist || Facing = enemynear(floor(fvar(37))),Facing
Trigger1 = Random <= var(59)*60

[State -3, Stand Light Kick]
type = ChangeState
value = 210
triggerall = var(59)
triggerall = roundstate = 2
triggerall = P2BodyDist X > 11
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [12+floor(7*(EnemyNear(floor(fvar(37))),vel X)),60+floor(7*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-45-floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(30)),0-floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(30))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
triggerall = !InGuardDist || Facing = EnemyNear(fvar(37)),Facing
Trigger1 = Random <= var(59)*30

[State -1, Stand Strong Punchh]
type = ChangeState
value = 400
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2BodyDist X = [-11,11]
triggerall = P2BodyDist Y = [-40,0]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = EnemyNear,AnimTime <= -5 
triggerall = Prevstateno != 5120
Triggerall = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159])|| PrevStateNo=750 || prevstateno = 760 
triggerall = EnemyNear,ctrl = 0
Trigger1 = Random<= var(59)*85

[State -1, Stand Strong Punchh]
type = ChangeState
value = 210
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2BodyDist X = [-11,35]
triggerall = P2BodyDist Y = [-40,0]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = EnemyNear,AnimTime <= -7
triggerall = Prevstateno != 5120
Triggerall = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159])|| PrevStateNo=750 || prevstateno = 760 
triggerall = EnemyNear,ctrl = 0
triggerall = EnemyNear,Movetype != H
Triggerall = EnemyNear,Stateno < 2000
Trigger1 = Random<= var(59)*85

[State -3, Crouching Light Kick]
type = ChangeState
value = 410
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2BodyDist X = [-10,30+floor(7*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -7
Triggerall = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || PrevStateNo=750|| prevstateno = 760 || prevstateno = 5201
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random<= var(59)*100

[State -3,]
Type = ChangeState
value = ifelse(P2BodyDist X <= 25,1700,37)
Triggerall = var(59)
triggerall = roundstate = 2
TriggerAll = StateType != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = P2BodyDist X = [-20,150]
Triggerall = EnemyNear(floor(fvar(37))),Facing = Facing
Trigger1 = EnemyNear(floor(fvar(37))),Animtime < -15
Trigger1 = P2StateType != A
Trigger1 = P2Movetype = A
Trigger2 = P2BodyDist Y = [-30-floor(15*(EnemyNear(floor(fvar(37))),vel Y)+(15*(15+1)/2)*fvar(30)),0-floor(15*(EnemyNear(floor(fvar(37))),vel Y)+(15*(15+1)/2)*fvar(30))]
Trigger2 = EnemyNear(floor(fvar(37))),vel y > 0
Trigger2 = P2StateType = A

[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-30+floor(4*(EnemyNear(floor(fvar(37))),vel X)),30+floor(45*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-10-floor(4*(EnemyNear(floor(fvar(37))),vel Y)+(4*(4+1)/2)*fvar(30)),0-floor(4*(EnemyNear(floor(fvar(37))),vel Y)+(4*(4+1)/2)*fvar(30))]
triggerall = P2statetype != L
triggerall = P2movetype != H
;triggerall = !InGuardDist || Facing = EnemyNear(fvar(37)),Facing
Trigger1 = Random <= var(59)*30

[State -3, Stand Light Kick]
type = ChangeState
value = 400
triggerall = var(59)
triggerall = roundstate = 2
triggerall = P2BodyDist X > 11
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [12+floor(7*(EnemyNear(floor(fvar(37))),vel X)),30+floor(7*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-45-floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(30)),0-floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(30))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype = C
;triggerall = !InGuardDist || Facing = EnemyNear(fvar(37)),Facing
Trigger1 = Random <= var(59)*30

[State -3,KONGZHEN]
type = ChangeState
value = 2400
triggerall = var(59)
triggerall = palno = 11
triggerall = power >= 1000
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2bodydist X = [0+floor(8*(EnemyNear(floor(fvar(37))),vel X)),80+floor(8*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2bodydist y = [-50,10]
TriggerAll = EnemyNear(floor(fvar(37))),MoveType = A
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Stateno = 200
Trigger2 = Stateno = 210
Trigger3 = Stateno = 201
Trigger4 = Stateno = 202
Trigger5 = Stateno = 400
Trigger6 = Stateno = 410

[State -1,6B]
type = ChangeState
value = 700
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = EnemyNear(floor(fvar(37))),Movetype != H
triggerall = EnemyNear(floor(fvar(37))),Statetype != A
triggerall = EnemyNear(floor(fvar(37))),Statetype != L
triggerall = EnemyNear(floor(fvar(37))),gethitvar(ctrltime) >= 10
triggerall = P2bodydist x = [-10,40]
triggerall = ctrl || stateno = 21|| stateno = 22|| stateno = 100
trigger1 = EnemyNear(floor(fvar(37))),statetype = C || EnemyNear(floor(fvar(37))),stateno=[120,159]
trigger1 = random <= (var(59))*10

[State -3, 22A]
Type = ChangeState
Value = 1600
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = Random <= var(59)*80
TriggerAll = StateType != A
TriggerAll = EnemyNear(floor(fvar(37))),StateType = A
TriggerAll = EnemyNear(floor(fvar(37))),MoveType != H
TriggerAll = EnemyNear(floor(fvar(37))),StateNo != [5000,5270]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || stateno = 22|| (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = P2BodyDist X = [-10+floor(12*(EnemyNear(fvar(37)),Vel X)),50+floor(12*(EnemyNear(fvar(37)),Vel X))]
Trigger1 = P2BodyDist Y = [-55-floor(12*(EnemyNear(fvar(37)),Vel Y)+(12*(12+1)/2)*fvar(30)),10-floor(12*(EnemyNear(fvar(37)),Vel Y)+(12*(12+1)/2)*fvar(30))]
Trigger2 = P2BodyDist X = [-10+floor(15*(EnemyNear(fvar(37)),Vel X)),50+floor(15*(EnemyNear(fvar(37)),Vel X))]
Trigger2 = P2BodyDist Y = [-60-floor(15*(EnemyNear(fvar(37)),Vel Y)+(15*(15+1)/2)*fvar(30)),0-floor(15*(EnemyNear(fvar(37)),Vel Y)+(15*(15+1)/2)*fvar(30))]

[State -3, 22B]
Type = ChangeState
Value = 1700
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = Random <= var(59)*80
TriggerAll = StateType != A
TriggerAll = EnemyNear(floor(fvar(37))),StateType = A
TriggerAll = EnemyNear(floor(fvar(37))),MoveType != H
TriggerAll = EnemyNear(floor(fvar(37))),StateNo != [5000,5270]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || stateno = 22|| (stateno = 52 && Time >= 3) || stateno = 100
Trigger1 = P2BodyDist X = [-10+floor(8*(EnemyNear(fvar(37)),Vel X)),50+floor(8*(EnemyNear(fvar(37)),Vel X))]
Trigger1 = P2BodyDist Y = [-55-floor(8*(EnemyNear(fvar(37)),Vel Y)+(8*(8+1)/2)*fvar(30)),10-floor(8*(EnemyNear(fvar(37)),Vel Y)+(8*(8+1)/2)*fvar(30))]
Trigger2 = P2BodyDist X = [-10+floor(13*(EnemyNear(fvar(37)),Vel X)),50+floor(13*(EnemyNear(fvar(37)),Vel X))]
Trigger2 = P2BodyDist Y = [-60-floor(13*(EnemyNear(fvar(37)),Vel Y)+(13*(13+1)/2)*fvar(30)),5-floor(13*(EnemyNear(fvar(37)),Vel Y)+(13*(13+1)/2)*fvar(30))]

[State -3, Crouching Strong Kick]
type = ChangeState
value = 410
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-5+floor(7*(EnemyNear(floor(fvar(37))),vel X)),15+floor(7*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y >= 0--floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(30))
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
;triggerall = !InGuardDist || Facing = enemynear(floor(fvar(37))),Facing
Trigger1 = Random <= var(59)*20

[State -3,EXjiushizhu]
type = ChangeState
value = 2200
triggerall = var(59)
triggerall = power >= 1000
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2MoveType != H
triggerall = ctrl && prevstateno = 5120 && time <= 1
TriggerAll = Random <= 999
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -5 
triggerall = EnemyNear(floor(fvar(37))),Time >=50 || Time <= 4 || var(59) >= 8
trigger1 = P2bodydist X = [-10+floor(4*(EnemyNear(floor(fvar(37))),vel X)),40+floor(4*(EnemyNear(floor(fvar(37))),vel X))]
trigger1 = P2StateType = C
trigger1 = P2MoveType = A

[State -3,EXjiushizhu2]
type = ChangeState
value = 2200
triggerall = var(59)
triggerall = power >= 1000
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2bodydist X = [-30+floor(5*(EnemyNear(floor(fvar(37))),vel X)),30+floor(5*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2bodydist y = [-50-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(30)),10-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(30))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 52|| stateno = 100
TriggerAll = P2MoveType = A
TriggerAll = Random<= var(59)*80
TriggerAll = EnemyNear(floor(fvar(37))),facing != facing
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -5 
triggerall = EnemyNear(floor(fvar(37))),Time >=30 || Time <= 4
trigger1 = EnemyNear(floor(fvar(37))),Time >=50 
Trigger2 = (PrevStateNo=[5000,5270])
Trigger3 = (PrevStateNo=[120,159])
Trigger4 = (PrevStateNo=[750,761])

[State -3, EXjiushizhu3]
type = ChangeState
value = 2200
triggerall = var(59)
triggerall = power >= 1000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 52|| stateno = 100
triggerall = P2bodydist X = [-30+floor(5*(EnemyNear(floor(fvar(37))),vel X)),30+floor(5*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2bodydist y = [-55-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(30)),10-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(30))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2Statetype = A
Trigger1 = Random <= var(59)*70

[State -3, 1C]
type = ChangeState
value = 710
triggerall = var(59)
triggerall = power < 1000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(12)
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 52|| stateno = 100
triggerall = P2statetype != L
triggerall = P2movetype = H
triggerall = P2Statetype = A
Trigger1 = Random <= var(59)*100

[State -3, 6C]
type = ChangeState
value = ifelse(random<=500,710,720)
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(11)
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 52|| stateno = 100
;triggerall = FrontEdgeBodyDist < 40
triggerall = P2statetype != L
triggerall = P2movetype = H
triggerall = P2Statetype = A
Trigger1 = Random <= var(59)*100

[State AI]
type = ChangeState
value = 1500
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),movetype = H
triggerall = enemynear(floor(fvar(37))),statetype = A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 720 && Movehit
;=================================================================================
[State AI]
type = ChangeState
value = 2600
triggerall = palno = 11|| (palno != 11 && life <= 334 && var(2) = 0 && power >= 1000)
triggerall = var(59)
triggerall = P2BodyDist X <= 50
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 200 && AnimElem = 3, >= 1 && Moveguarded
Trigger2 = stateno = 400 && AnimElem = 3, >= 1 && Moveguarded
Trigger3 = stateno = 210 && AnimElem = 3, >= 1 && Moveguarded
Trigger4 = stateno = 211 && AnimElem = 4, >= 1 && Moveguarded
Trigger5 = stateno = 751 && AnimElem = 4, >= 1 && Moveguarded

[State AI]
type = ChangeState
value = 400
triggerall = palno != 11
triggerall = var(59)
triggerall = var(7)
triggerall = P2BodyDist X <= 32
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 200 && AnimElem = 3, >= 1 && Movehit

[State AI]
type = ChangeState
value = ifelse(P2BodyDist X <= 30,400,210)
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 400 && AnimElem = 3, >= 1 && Movehit
trigger1 = !var(7)
Trigger2 = stateno = 400 && AnimElem = 3, >= 1 && MoveGuarded
trigger2 = P2BodyDist X < 30

[State AI]
type = ChangeState
value = 201
triggerall = var(59)
triggerall = !var(7)||P2BodyDist X > 32
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 200 && AnimElem = 3, >= 1 && MoveHit

[State AI]
type = ChangeState
value = 400
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 200 && AnimElem = 3, >= 1 && Moveguarded

[State AI]
type = ChangeState
value = 105
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 400 && time >= 6 && moveguarded
trigger1 = P2BodyDist X < 45
trigger2 = Stateno = 400 && moveguarded 
trigger2 = Animtime = 0
trigger2 = P2BodyDist X < 45
trigger3 = Stateno = 200 && moveguarded
trigger3 = Animtime = 0
trigger3 = P2BodyDist X < 45
trigger4 = Stateno = 210 && moveguarded
trigger4 = Animtime = 0
trigger4 = Stateno = 220 && moveguarded
trigger4 = Animtime = 0

[State AI]
type = ChangeState
value = 202
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 201 && AnimElem = 3, >= 1 && MoveHit

[State AI]
type = ChangeState
value = ifelse(P2Statetype = S,410,210)
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 202 && AnimElem = 3, >= 1 && Moveguarded

[State AI]
type = ChangeState
value = 210
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 202 && AnimElem = 3, >= 1 && MoveHit

[State AI]
type = ChangeState
value = 211
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
triggerall = palno != [11,12]
Trigger1 = stateno = 210 && AnimElem = 3, >= 1 && Movecontact

[State AI]
type = ChangeState
value = 211
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
triggerall = palno = [11,12]
Trigger1 = stateno = 210 && AnimElem = 3, >= 1 && MoveContact

[State AI]
type = ChangeState
value = ifelse(enemynear(floor(fvar(37))),Statetype = C,1400,1100)
triggerall = var(59)
triggerall = palno != [11,12]
triggerall = random < var(59)*10
triggerall = roundstate = 2
triggerall = statetype != A
;triggerall = EnemyNear(floor(fvar(37))),gethitvar(ctrltime) >= 15
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 211 && MoveGuarded
trigger1 = random < 100
Trigger2 = stateno = 410 && MoveGuarded
trigger2 = random < 100
Trigger3 = stateno = 220 && MoveGuarded
trigger3 = random < 100

[State AI]
type = ChangeState
value = 1300
triggerall = var(59)
triggerall = palno != [11,12]
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 220 && MoveGuarded
trigger1 = random < 800

[State AI]
type = ChangeState
value = ifelse(random<=400,1300,ifelse(random<=500,1500,1400))
triggerall = var(59)
triggerall = power < 1000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 410 && AnimElem = 4, >= 1 && MoveHit

[State AI]
type = ChangeState
value = 1000
triggerall = var(59)
triggerall = power >= 1000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 410 && AnimElem = 4, >= 1 && MoveHit
trigger2 = stateno = 751 && MoveHit

[State AI]
type = ChangeState
value = 220
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 211 && AnimElem = 4, >= 1 && Movecontact

[State AI]
type = ChangeState
value = ifelse(random<=500,710,720)
triggerall = var(59)
triggerall = power < 2000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 220 && AnimElem = 5, >= 1 && MoveHit

[State AI]
type = ChangeState
value = 720
triggerall = var(59)
triggerall = power >= 2000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 220 && AnimElem = 5, >= 1 && MoveHit

[State AI]
type = ChangeState
value = ifelse(random<=300,1300,ifelse(random<=300,1500,ifelse(random<=500,1700,1400)))
triggerall = var(59)
triggerall = power < 1000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 720 && AnimElem = 5, >= 1 && MoveHit
Trigger2 = stateno = 700 && MoveHit
Trigger3 = stateno = 751 && MoveHit

[State AI]
type = ChangeState
value = ifelse((random<=400 && FrontEdgeBodyDist < 40),2000,1000)
triggerall = var(59)
triggerall = power >= 1000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 720 && AnimElem = 5, >= 1 && MoveHit
Trigger2 = stateno = 700 && MoveHit

[State AI]
type = ChangeState
value = 34
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 710 && AnimElem = 3, >= 1 && MoveHit

[State AI]
type = ChangeState
value = 610
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 600 && AnimElem = 3, >= 1 && MoveContact

[State AI]
type = ChangeState
value = ifelse((random<=500 && FrontEdgeBodyDist < 40),1850,ifelse(random<=500,1750,1450))
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
Triggerall = enemynear(floor(fvar(37))),StateType = A
Trigger1 = stateno = 610 && AnimElem = 3, >= 1 && MoveHit

[State AI]
type = ChangeState
value = 3050
triggerall = var(59)
triggerall = FrontEdgeBodyDist < 60
triggerall = power >= 1000
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 1600 && MoveHit

[State AI]
type = ChangeState
value = ifelse(random <= 500,3050,3000)
triggerall = var(59)
triggerall = power >= 1000
triggerall = power < 2000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 1000 && MoveHit
Trigger2 = stateno = 751 && MoveHit

[State AI]
type = ChangeState
value = ifelse(random <= 500,3500,3000)
triggerall = var(59)
triggerall = power >= 2000
triggerall = power < 3000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 1000 && MoveHit
Trigger2 = stateno = 751 && MoveHit

[State AI]
type = ChangeState
value = 3000
triggerall = var(59)
triggerall = power >= 3000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 1000 && MoveHit
Trigger2 = stateno = 751 && MoveHit

[State AI]
type = ChangeState
value = 3050
triggerall = var(59)
triggerall = power >= 1000
triggerall = power < 2000
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 3000 && animelemtime(25) >= 0 && MoveHit

[State AI]
type = ChangeState
value = 3500
triggerall = var(59)
triggerall = palno != [11,12]
triggerall = power >= 2000
triggerall = (life > 334)||(power < 3000 && life <= lifemax*0.33)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 3000 && animelemtime(16) >= 0 && MoveHit

[State AI]
type = ChangeState
value = 3500
triggerall = var(59)
triggerall = palno = 12
triggerall = power >= 2000
triggerall = (life > 334)||(power < 3000 && life <= 334)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 3000 && animelemtime(16) >= 0 && MoveHit

[State AI]
type = ChangeState
value = 3500
triggerall = var(59)
triggerall = palno = 11
triggerall = power < 3000
triggerall = power >= 2000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 3000 && animelemtime(16) >= 0 && MoveHit

[State AI]
type = ChangeState
value = 4000
triggerall = var(59)
triggerall = life < 334 ||palno = 11
triggerall = power >= 3000
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 3000 && animelemtime(25) >= 0 && MoveHit
Trigger2 = stateno = 751 && MoveHit

[State AI]
type = ChangeState
value = 1700
triggerall = var(59)
triggerall = P2BodyDist X <= 50
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(37))),statetype = A
Triggerall = enemynear(floor(fvar(37))),StateType != L
Trigger1 = stateno = 200 && Movehit
Trigger2 = stateno = 400 && Movehit
Trigger3 = stateno = 751 && MoveHit

[state -2, ]
type = changestate
value = ifelse(random<=200,195,ifelse(random<333,196,ifelse(random<=500,197,198)))
triggerall = var(59)
triggerall = statetype = S
triggerall = WinKo
triggerall = roundstate = 3
trigger1 = ctrl
ignorehitpause = 1
;=====================================================================
[State -1, Walk]
type = ChangeState
value = 22
triggerall = var(59)
triggerall = alive
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = BackEdgeBodyDist > 0
triggerall = !inguarddist
triggerall = stateno != [10,12]
triggerall = ctrl || (stateno = 21 && time > 10)
Triggerall = EnemyNear(floor(fvar(37))),Facing != Facing
trigger1 = enemynear(floor(fvar(37))),movetype != H
trigger1 = P2BodyDist X >= 240
trigger1 = random <= 50*var(59)
trigger2 = enemynear(floor(fvar(37))),movetype != H
trigger2 = P2BodyDist X = [120,240]
trigger2 = random <= 100*var(59)
trigger3 = enemynear(floor(fvar(37))),movetype != H
trigger3 = P2BodyDist X = [0,120]
trigger3 = random <= 100*var(59)
trigger4 = enemynear(floor(fvar(37))),statetype = L
trigger4 = P2BodyDist X <= 30
trigger4 = random <= 100*var(59)
trigger5 = enemynear(floor(fvar(37))),movetype = H
trigger5 = enemynear(floor(fvar(37))),statetype = A
trigger5 = P2BodyDist X <= 5
trigger5 = enemynear(floor(fvar(37))),BackEdgeBodyDist <= 0 || enemynear(fvar(37)),FrontEdgeBodyDist <= 0
trigger5 = random <= 80*var(59)
trigger6 = P2BodyDist X <= 20
trigger6 = random <= 25*var(59)

[State -1, Walk]
type = ChangeState
value = 21
triggerall = var(59)
triggerall = alive
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = frontedgebodydist > 0
triggerall = !inguarddist
triggerall = ctrl || (stateno = 22 && time > 10)
triggerall = stateno != [10,12]
Triggerall = EnemyNear(floor(fvar(37))),Facing != Facing
trigger1 = P2BodyDist X = [240,270]
trigger1 = random <= 70*(var(59))
trigger2 = P2BodyDist X = [120,240]
trigger2 = random <= 100*(var(59))
trigger3 = P2BodyDist X = [0,120]
trigger3 = random <= 80*(var(59))
trigger3 = enemynear(floor(fvar(37))),stateno != [5000,5210]
trigger4 = enemynear(floor(fvar(37))),StateNo= [120,155]
trigger4 = random <= 100*(var(59))
trigger4 = P2BodyDist X <= 60
trigger5 = enemynear(floor(fvar(37))),statetype != A
trigger5 = enemynear(floor(fvar(37))),statetype = L
trigger5 = P2BodyDist X = [90,120]
trigger5 = random <= 100*(var(59))
trigger6 = enemynear(floor(fvar(37))),statetype != L
trigger6 = enemynear(floor(fvar(37))),movetype = H
trigger6 = enemynear(floor(fvar(37))),stateno = [5000,5029]
trigger6 = random <= 100*var(59)
trigger6 = P2bodydist X > 45

[State -3, Dash]
type = ChangeState
value = 100
triggerall = var(59)
triggerall = alive
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = p2statetype != A
triggerall = p2movetype != A
triggerall = P2BodyDist X >= 120
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
triggerall = Stateno != 99
triggerall = !inguarddist
triggerall = P2StateType != L
Trigger1 = Random <= (var(59))*40

[State -3, Dash]
Type = ChangeState
Value = 100
Ctrl = 0
Triggerall = var(59)
triggerall = alive
Triggerall = RoundState = 2 
Triggerall = StateType != A
Triggerall = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
triggerall = Stateno != 99
Triggerall = P2BodyDist X >= 65
Triggerall = Facing != EnemyNear(floor(fvar(37))),Facing
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 40
Trigger1 = Random <= (var(59)+6)*100
Trigger1 = P2StateNo = [5100,5110]

[State -3,DASH]
Type = ChangeState
Value = 100
TriggerAll = var(59)
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = P2Dist X > 0
TriggerAll = EnemyNear(floor(fvar(37))),StateNo < 2000
TriggerAll =!InGuardDist
TriggerAll = Ctrl || stateno = 20|| stateno = 21|| stateno = 22
Trigger1 = P2BodyDist X > 60 && EnemyNear(floor(fvar(37))),facing = facing
Trigger1 = EnemyNear(floor(fvar(37))),StateType = A
Trigger1 = EnemyNear(floor(fvar(37))),MoveType = A 
Trigger1 =!EnemyNear(floor(fvar(37))),HitDefAttr = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
Trigger1 = EnemyNear(floor(fvar(37))),Time >= 90
Trigger2 = EnemyNear(floor(fvar(37))),MoveType != H
Trigger2 = EnemyNear(floor(fvar(37))),StateType = A
Trigger2 =!EnemyNear(floor(fvar(37))),Ctrl
Trigger2 = EnemyNear(floor(fvar(37))),facing = facing
trigger3 = EnemyNear(floor(fvar(37))),movetype = H
trigger3 = EnemyNear(floor(fvar(37))),Stateno != helper(35002),var(21)

[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 
trigger2 = stateno = 106
trigger3 = stateno = 1702
value = 41, 0

[State -3, 2];ジャンプ音
type = PlaySnd
triggerall = time = 1
trigger1 = stateno = 40
value = 40, 0
channel = 3

;---------------------------------------------------------------------------
