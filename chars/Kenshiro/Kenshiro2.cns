;┳───┳────────────────────────━
;｜必殺技｜
;┻───┻────────────────────────━
;┳━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━
;┃北斗龍撃虎┃
;┻━━━━━┻━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1000]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 1000

[State 1000, サウンド①]
type     = PlaySnd
trigger1 = AnimElem = 1
value    = 4, 0
Persistent = 0

[State 1000, サウンド②]
type     = PlaySnd
trigger1 = AnimElem = 3
value    = 1001, 0
channel  = 9
Persistent = 0

[State 1000, サウンド②]
type     = StopSnd
trigger1 = AnimTime = 0
channel  = 9
Persistent = 0

[State 1000, ヘルパー／リダイレクト]
type          = Helper
trigger1      = NumHelper(1005) = 0
trigger1      = AnimElemNo(0) <= 3
helpertype    = Normal
name          = "redirect"
ID            = 1005
stateno       = 1005
pos           = 0, 0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999

[State 1000, ヘルパー／空蝉]
type          = Helper
trigger1      = AnimElem = 3, = 0
helpertype    = Normal
name          = "GetHitVar"
ID            = 1020
stateno       = 1020
pos           = 0, 0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 0
pausemovetime = 0

[State 1000, 当て身設定]
type          = ReversalDef
trigger1      = AnimElemNo(0) = [3-(var(0)>=2)*2,3]
reversal.attr = SA, NA, SA
pausetime     = 0, 1+18+14
sparkno       = -1
priority      = 7, H
hitsound      = s1001, 0
p1stateno     = 1010
id	      = 1010

[State 1000, ReversalDef上書き]
type          = ReversalDef
trigger1      = AnimElem = 4
reversal.attr = ;SCA, AA
pausetime     = 0, 0

[State 1000, 対ノーマル飛び道具／ステート内自由変数]
type       = VarSet
triggerall = var(4) != 0
trigger1   = Time = 0
trigger2   = NumHelper(1005)
trigger2   = Helper(1005),stateno = 1007 && (Helper(1005),fvar(0) != 0 || Helper(1005),fvar(1) != 0)
var(4)     = 0

[State 1000, 対レーザー系飛び道具／ステート内自由変数]
type       = VarSet
triggerall = var(4) != 1
trigger1   = NumHelper(1005)
trigger1   = Helper(1005),stateno = 1007 && (Helper(1005),fvar(0) = 0 && Helper(1005),fvar(1) = 0)
trigger2   = (P2Name="RAOH ATL"&&EnemyNear(var(22)),AuthorName="Ataru"&&P2StateNo=1300)
trigger3   = (P2Name="RAOH"&&EnemyNear(var(22)),AuthorName="shikkoku"&&P2StateNo=1000)
var(4)     = 1

[State 1000, 無敵]
type     = nothitby
trigger1 = AnimElemNo(0) = [3-(var(0)>=2)*2,3]
value    = SCA

[State 1000, 被撃許可]
type     = hitby
trigger1 = AnimElemNo(0) = [3-(var(0)>=2)*2,3]
trigger1 = var(4) = 0
value    = SCA, AA, HP, AT

[State 1000, 被撃許可]
type     = hitby
trigger1 = AnimElemNo(0) = [3-(var(0)>=2)*2,3]
trigger1 = var(4) = 1
value    = SCA, AA, AP, AT

[State 1300, ステート変更]
type     = ChangeState
trigger1 = NumHelper(1020)
trigger1 = Helper(1020),stateno = 1030
value    = 1011
IgnoreHitPause = 1

[State 1000, AttackDist]
type     = AttackDist
trigger1 = 1
value    = 0

[State 1000, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━─────────────────────┫移動ブースト┣
[State 1000, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 1000, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 1000, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 1000, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 1000, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 1000, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 1000, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 1000, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬─────┬───────────────────────
;｜北斗龍撃虎｜ヘルパー／リダイレクト
;┴─────┴───────────────────────
[Statedef 1005]
type     = A
movetype = I
physics  = N
anim     = 9999
velset   = 0, 0
ctrl     = 0
sprpriority = 0

[State 1005, ループ回数設定]
type     = VarSet
trigger1 = 1
var(0)   = 50

[State 1005, 現在のＩＤ所得]
type     = VarSet
trigger1 = 1
var(1)   = Helper(1005),ID-1

[State 1005, ＩＤ探索ステートへ]
type     = ChangeState
trigger1 = 1
value    = 1006

;┬─────┬───────────────────────
;｜北斗龍撃虎｜ヘルパー／ＩＤ探索ステート
;┴─────┴───────────────────────
[Statedef 1006]
type     = A
movetype = I
physics  = N
anim     = 9999
velset   = 0, 0
ctrl     = 0
sprpriority = 0

[State 1006, ループカウンタ]
type     = VarAdd
trigger1 = var(0) > 0
var(0)   = -1

[State 1006, 取捨選択]
type     = VarAdd
trigger1 = !PlayerIDExist(var(1))
trigger2 = PlayerID(var(1)),movetype != A || !(PlayerID(var(1)),hitdefattr = SCA, AP)
trigger3 = PlayerID(var(1)),ScreenPos X < 0 || PlayerID(var(1)),ScreenPos X > root,var(27)
trigger4 = PlayerID(var(1)),ScreenPos Y < 0 || PlayerID(var(1)),ScreenPos Y > root,var(28)
trigger5 = teamside = PlayerID(var(1)),teamside
var(1)   = -1

[State 1006, ループバック]
type       = ChangeState
triggerall = var(0) > 0
trigger1   = !PlayerIDExist(var(1))
trigger2   = PlayerID(var(1)),movetype != A || !(PlayerID(var(1)),hitdefattr = SCA, AP)
trigger3   = PlayerID(var(1)),ScreenPos X < 0 || PlayerID(var(1)),ScreenPos X > root,var(27)
trigger4   = PlayerID(var(1)),ScreenPos Y < 0 || PlayerID(var(1)),ScreenPos Y > root,var(28)
trigger5   = teamside = PlayerID(var(1)),teamside
value      = 1006

[State 1006, ヘルパー消去]
type     = destroyself
trigger1 = !PlayerIDExist(var(1))
trigger2 = PlayerID(var(1)),movetype != A || !(PlayerID(var(1)),hitdefattr = SCA, AP)
trigger3 = PlayerID(var(1)),ScreenPos X < 0 || PlayerID(var(1)),ScreenPos X > root,var(27)
trigger4 = PlayerID(var(1)),ScreenPos Y < 0 || PlayerID(var(1)),ScreenPos Y > root,var(28)
trigger5 = teamside = PlayerID(var(1)),teamside

[State 1006, 探索終了]
type     = ChangeState
trigger1 = 1
value    = 1007

;┬─────┬───────────────────────
;｜北斗龍撃虎｜ヘルパー／情報所得
;┴─────┴───────────────────────
[Statedef 1007]
type     = A
movetype = I
physics  = N
anim     = 9999
velset   = 0, 0
ctrl     = 0
sprpriority = 0

[State 1007, Vel X]
type     = VarSet
trigger1 = PlayerIDExist(var(1)) && root,stateno != 1011
trigger1 = PlayerID(var(1)),Vel X != 0
fvar(0)  = PlayerID(var(1)),Vel X

[State 1007, Vel Y]
type     = VarSet
trigger1 = PlayerIDExist(var(1)) && root,stateno != 1011
trigger1 = PlayerID(var(1)),Vel Y != 0
fvar(1)  = PlayerID(var(1)),Vel Y

[State 1007, Pos X]
type     = VarSet
trigger1 = PlayerIDExist(var(1)) && root,stateno != 1011
trigger1 = PlayerID(var(1)),Pos X != 0
fvar(2)  = PlayerID(var(1)),Pos X

[State 1007, Pos Y]
type     = VarSet
trigger1 = PlayerIDExist(var(1)) && root,stateno != 1011
trigger1 = PlayerID(var(1)),Pos Y != 0
fvar(3)  = PlayerID(var(1)),Pos Y

[State 1007, ヘルパー消去]
type     = destroyself
trigger1 = !PlayerIDExist(var(1)) && root,stateno != 1011
trigger2 = PlayerIDExist(var(1))
trigger2 = PlayerID(var(1)),movetype != A || (fvar(0) = 0 && fvar(1) = 0)
trigger3 = PlayerIDExist(var(1))
trigger3 = PlayerID(var(1)),ScreenPos X < 0 || PlayerID(var(1)),ScreenPos X > root,var(27)
trigger4 = PlayerIDExist(var(1))
trigger4 = PlayerID(var(1)),ScreenPos Y < 0 || PlayerID(var(1)),ScreenPos Y > root,var(28)
trigger5 = PlayerIDExist(var(1))
trigger5 = teamside = PlayerID(var(1)),teamside
trigger6 = root,MoveType = H

;┬─────┬───────────────────────
;｜北斗龍撃虎｜当て身成功
;┴─────┴───────────────────────
[Statedef 1010]
type     = S
movetype = A
physics  = S
ctrl     = 0
anim     = 1010

[State 1010, 無敵]
type     = nothitby
trigger1 = AnimTime < 0
value    = SCA
time     = 1

[State 1010, 被撃許可／投げ]
type     = HitBy
trigger1 = AnimTime < 0
value    = SCA, AT
time     = 1

[State 1010, 座標軸固定]
type     = PosFreeze
trigger1 = AnimElemNo(0) = 1
value    = 1

[State 1010, 速度設定]
type     = VelSet
trigger1 = AnimElemNo(0) = 1
x        = Vel X / 0.90

[State 1010, 色変更]
type     = PalFX
trigger1 = Time = [20,28]
time     = 1
add      = 128-((Time-21)*16), 128-((Time-21)*16), 256-((Time-21)*32)

[State 1010, ヒット定義／攻撃レベル４]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, HA
hitflag           = MAF
guardflag         = M
animtype          = Light
damage            = ceil((floor(22*fvar(0))+(floor(22*fvar(0))=0))*fvar(10)), ceil(1*fvar(10))
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 3, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = -24.0*0.5, fvar(6)
guard.velocity    = fvar(5)*0.89
air.velocity      = (-8.0*0.5+(8.0-24.0)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0
air.fall          = 0
fall.recover      = 0
ID                = stateno
ground.cornerpush.veloff = 0

[State 1010, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 7, >= 0
trigger2 = EnemyNear,StateType = A
value    = 0

[State 1010, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 1010, ヒットエフェクト]
type          = Helper
trigger1      = movehit = 1
helpertype    = Normal
name          = "hit"
ID            = 6215
stateno       = 6215
pos           = floor(P2Dist X/2 +30), floor(P2Dist Y/2 -40)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1010, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6270
pos            = floor(P2Dist X/2 +30), floor(P2Dist Y/2 -40)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 16
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6270

[State 1010, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/2 -40)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1010, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────────┫キャンセル┣
[State 1010, 自動ブースト判定／ステート内自由変数]
type       = VarSet
triggerall = var(0) >= 1
triggerall = var(4) = 0
triggerall = NumTarget && movehit = [1,var(18)]
triggerall = Target,StateNo = [550,570]
trigger1   = var(59) = 0 && (command = "holdfwd")
var(4)     = 1*(1-(var(8)%ceil(fvar(12))&&var(9)>0)*2)

[State 1010, キャンセルブースト判定／ステート内自由変数]
type       = VarSet
triggerall = var(0) >= 1
triggerall = Abs(var(4)) = [0,1]
triggerall = NumTarget && movehit = [1,var(18)]
triggerall = Target,StateNo = [550,570]
trigger1   = var(59) = 0 && (command = "z" && command != "holdback")
var(4)     = 2*(1-(var(8)%ceil(fvar(12))&&var(9)>0||var(4)=-1)*2)

[State 1010, ブーストゲージ設定]
type       = VarSet
triggerall = var(0) >= 1
triggerall = Abs(var(4)) = [1,2]
triggerall = NumTarget && movehit = [1,var(18)]
triggerall = Target,StateNo = [550,570]
trigger1   = var(8) < ceil(1.00*fvar(12))
var(8)     = ceil(1.00*fvar(12))

[State 1010, バニキャン入力処理]
type       = Null
triggerall = var(0) >= 1
triggerall = Abs(var(4)) = 1
triggerall = NumTarget && movehit = var(18)
triggerall = Target,StateNo = [550,570]
triggerall = statetype != A && var(59) = 0
trigger1   = (command = "北斗百裂拳") && var(7) = 7
trigger1   = var(21) := 3900
trigger2   = (command = "天破活殺") && power >= 1000
trigger2   = var(21) := 3200
trigger3   = (command = "北斗残悔拳") && power >= 2000 && !var(1)
trigger3   = var(21) := 3100
trigger4   = (command = "無想転生") && power >= 1000
trigger4   = var(21) := 3000
trigger5   = (command = "北斗蛇雷咬")
trigger5   = var(21) := 1600
trigger6   = (command = "北斗有情猛翔破（強）")
trigger6   = var(21) := 1510
trigger7   = (command = "北斗有情猛翔破（弱）")
trigger7   = var(21) := 1500
trigger8   = (command = "天破の構え")
trigger8   = var(21) := 1400
trigger9   = (command = "北斗飛衛拳")
trigger9   = var(21) := 1300
trigger10  = (command = "秘孔・醒鋭孔")
trigger10  = var(21) := 1200
trigger11  = (command = "闘気")
trigger11  = var(21) := 1100
trigger12  = (command = "北斗龍撃虎")
trigger12  = var(21) := 1000

[State 1010, 自動ブースト] ;ブーストゲージ２０％消費
type       = ChangeState
triggerall = var(0) >= 1
triggerall = Abs(var(4)) = 1
triggerall = NumTarget && movehit = var(18)
triggerall = Target,StateNo = [550,570]
trigger1   = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
value      = 500

;━──────────────────┫キャンセルブースト┣
[State 1010, ステート変更]
type     = ChangeState
trigger1 = var(0) >= 1
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 7, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

[State 1010, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(fvar(17)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 7, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;┬─────┬───────────────────────
;｜北斗龍撃虎｜飛び道具当て身成功
;┴─────┴───────────────────────
[Statedef 1011]
type     = S
movetype = A
physics  = S
ctrl     = 0
anim     = 1011

[State 1011, 無敵]
type     = nothitby
trigger1 = AnimTime < 0
value    = SCA
time     = 1

[State 1011, 被撃許可／投げ]
type     = HitBy
trigger1 = AnimTime < 0
value    = SCA, AT
time     = 1

[State 1011, TargetDrop]
type      = TargetDrop
trigger1  = Time = 0
trigger1  = var(4) := 0 || NumTarget
excludeID = -1
keepone   = 0

[State 1011, 当て身設定]
type          = ReversalDef
triggerall    = NumHelper(10000)
triggerall    = Helper(10000),var(43) <= 0
triggerall    = Time = 0
trigger1      = !NumHelper(1005)
trigger1      = !(P2Name="KENSHIRO"&&EnemyNear(var(22)),AuthorName="SAIKEI"&&P2StateNo=2000)
trigger2      = NumHelper(1005)
trigger2      = Helper(1005),stateno = 1007 && (Helper(1005),fvar(0) != 0 || Helper(1005),fvar(1) != 0)
trigger2      = !(P2Name="RAOH ATL"&&EnemyNear(var(22)),AuthorName="Ataru"&&P2StateNo=1300)
trigger2      = !(P2Name="RAOH"&&EnemyNear(var(22)),AuthorName="shikkoku"&&P2StateNo=1000)
reversal.attr = SCA, NP, SP
pausetime     = 0, 0
sparkno       = -1
hitsound      = -1
p2stateno     = 1015+(Helper(10000),var(43)<=-1)
numhits       = 0

[State 1011, ヒットカウント調整]
type     = VarAdd
trigger1 = NumTarget
var(10)  = -1
IgnoreHitPause = 1
Persistent     = 0

[State 1011, ＩＤ所得／ステート内自由変数]
type     = VarSet
trigger1 = NumTarget
var(4)   = Target,ID

[State 1011, ヘルパー／反射]
type          = Helper
triggerall    = Time = 1
trigger1      = !NumHelper(1005)
trigger1      = !(P2Name="KENSHIRO"&&EnemyNear(var(22)),AuthorName="SAIKEI"&&P2StateNo=2000)
trigger2      = NumHelper(1005)
trigger2      = Helper(1005),stateno = 1007 && (Helper(1005),fvar(0) != 0 || Helper(1005),fvar(1) != 0)
helpertype    = Normal
name          = "reflection"
ID            = 1050
stateno       = 1050
pos           = 0, EnemyNear,Const(size.mid.pos.y)+(EnemyNear,Const(size.head.pos.y)-EnemyNear,Const(size.mid.pos.y))/2
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1011, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━─────────────────────┫移動ブースト┣
[State 1011, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 1011, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 1011, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 1011, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 1011, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 1011, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 1011, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 1011, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬─────┬───────────────────────
;｜北斗龍撃虎｜ヘルパー／飛び道具消去
;┴─────┴───────────────────────
[Statedef 1015]
type     = A
movetype = H
physics  = N
ctrl     = 0

[State 1015, ステート返却]
Type     = SelfState
trigger1 = !IsHelper
value    = prevstateno

[State 1015, エフェクト消去]
type     = RemoveExplod
trigger1 = 1

[State 1015, ヘルパー消去]
type     = destroyself
trigger1 = 1

;┬─────┬───────────────────────
;｜北斗龍撃虎｜ヘルパー／飛び道具反射
;┴─────┴───────────────────────
[Statedef 1016]
type     = A
movetype = A
physics  = N
ctrl     = 0

[State 1016, ステート返却①]
Type     = SelfState
trigger1 = !IsHelper
value    = prevstateno

[State 1016, 攻撃フラグリセット]
type     = MoveHitReset
trigger1 = 1

[State 1016, 振り向き]
type     = Turn
trigger1 = 1

[State 1016, エフェクト消去]
type     = RemoveExplod
trigger1 = 1

[State 1016, ステート返却②]
Type     = SelfState
trigger1 = 1
value    = prevstateno

;┬─────┬───────────────────────
;｜北斗龍撃虎｜空蝉
;┴─────┴───────────────────────
[Statedef 1020]
type     = S
movetype = A
physics  = S
ctrl     = 0
anim     = 1000

[State 1020, アニメ変更]
type     = ChangeAnim
trigger1 = 1
value    = root,Anim
elem     = root,AnimElemNo(0)

[State 1020, フラグ／自分消去]
type     = AssertSpecial
trigger1 = 1
flag     = Invisible

[State 1020, 座標軸固定]
type     = BindToRoot
trigger1 = 1
time     = 1
pos      = 0, 0

[State 1020, 無敵]
type     = nothitby
trigger1 = 1
value    = SCA

[State 1020, 被撃許可]
type     = hitby
trigger1 = 1
value    = SCA, NP, SP

[State 1020, 当て身設定]
type     = hitoverride
trigger1 = 1
attr     = SCA, NP, SP
stateno  = 1030
IgnoreHitPause = 1

[State 1020, ヘルパー消去]
type     = destroyself
trigger1 = root,stateno != [1000,1011]
trigger2 = root,Anim = 1000 && root,AnimElemNo(0) > 3

;┬─────┬───────────────────────
;｜北斗龍撃虎｜GetHitVar
;┴─────┴───────────────────────
[Statedef 1030]
type     = S
movetype = H
physics  = S
ctrl     = 0
anim     = 9999

[State 1030, 座標軸固定]
type     = BindToRoot
trigger1 = 1
time     = 1
pos      = 0, 0

[State 1030, damage]
type     = VarSet
trigger1 = GetHitVar(damage)
fvar(0)  = GetHitVar(damage)/1.2

[State 1030, slidetime]
type     = VarSet
trigger1 = GetHitVar(damage)
fvar(1)  = GetHitVar(slidetime)

[State 1030, hittime]
type     = VarSet
trigger1 = GetHitVar(damage)
fvar(2)  = GetHitVar(hittime)

[State 1030, xvel]
type     = VarSet
trigger1 = GetHitVar(damage)
fvar(3)  = GetHitVar(xvel)

[State 1030, yvel]
type     = VarSet
trigger1 = GetHitVar(damage)
fvar(4)  = GetHitVar(yvel)

[State 1030, yaccel]
type     = VarSet
trigger1 = GetHitVar(damage)
fvar(5)  = GetHitVar(yaccel)

[State 1030, fall]
type     = VarSet
trigger1 = GetHitVar(damage)
fvar(6)  = GetHitVar(fall)

[State 1030, fall.xvel]
type     = VarSet
trigger1 = GetHitVar(damage)
fvar(7)  = GetHitVar(fall.xvel)

[State 1030, fall.yvel]
type     = VarSet
trigger1 = GetHitVar(damage)
fvar(8)  = GetHitVar(fall.yvel)

[State 1030, fall.damage]
type     = VarSet
trigger1 = GetHitVar(damage)
fvar(9)  = GetHitVar(fall.damage)

[State 1030, fall.recover]
type     = VarSet
trigger1 = GetHitVar(damage)
fvar(10) = GetHitVar(fall.recover)

[State 1030, fall.recovertime]
type     = VarSet
trigger1 = GetHitVar(damage)
fvar(11) = GetHitVar(fall.recovertime)

[State 1030, ステート設定]
type     = StateTypeSet
trigger1 = GetHitVar(damage)
MoveType = I

[State 1030, ヘルパー消去]
type     = destroyself
trigger1 = Time > 1

;┬─────┬───────────────────────
;｜北斗龍撃虎｜ヘルパー／反射
;┴─────┴───────────────────────
[Statedef 1050]
type     = A
movetype = A
physics  = N
anim     = 1050
;velset   = 0, 0
ctrl     = 0
sprpriority = 2

;━──────────────────┫fvar(10)－fvar(21)┣
[State 1050, damage]
type     = VarSet
trigger1 = !Time && NumHelper(1020)
fvar(10) = Helper(1020),fvar(0)

[State 1050, slidetime]
type     = VarSet
trigger1 = !Time && NumHelper(1020)
fvar(11) = Helper(1020),fvar(1)

[State 1050, hittime]
type     = VarSet
trigger1 = !Time && NumHelper(1020)
fvar(12) = Helper(1020),fvar(2)

[State 1050, xvel]
type     = VarSet
trigger1 = !Time && NumHelper(1020)
fvar(13) = Helper(1020),fvar(3)

[State 1050, yvel]
type     = VarSet
trigger1 = !Time && NumHelper(1020)
fvar(14) = Helper(1020),fvar(4)

[State 1050, yaccel]
type     = VarSet
trigger1 = !Time && NumHelper(1020)
fvar(15) = Helper(1020),fvar(5)

[State 1050, fall]
type     = VarSet
trigger1 = !Time && NumHelper(1020)
fvar(16) = Helper(1020),fvar(6)

[State 1050, fall.xvel]
type     = VarSet
trigger1 = !Time && NumHelper(1020)
fvar(17) = Helper(1020),fvar(7)

[State 1050, fall.yvel]
type     = VarSet
trigger1 = !Time && NumHelper(1020)
fvar(18) = Helper(1020),fvar(8)

[State 1050, fall.damage]
type     = VarSet
trigger1 = !Time && NumHelper(1020)
fvar(19) = Helper(1020),fvar(9)

[State 1050, fall.recover]
type     = VarSet
trigger1 = !Time && NumHelper(1020)
fvar(20) = Helper(1020),fvar(10)

[State 1050, fall.recovertime]
type     = VarSet
trigger1 = !Time && NumHelper(1020)
fvar(21) = Helper(1020),fvar(11)

;━────────────────────────┫var(0)┣
[State 1050, 威力設定]
type     = VarSet
trigger1 = !Time
var(0)   = ceil(fvar(10))

;━────────────────────────┫var(1)┣
[State 1050, 継続リダイレクト／PlayerIDExist]
type     = VarSet
trigger1 = !Time && NumHelper(1005)
trigger1 = PlayerIDExist(Helper(1005),var(1))
trigger1 = PlayerID(Helper(1005),var(1)),movetype = A && PlayerID(Helper(1005),var(1)),hitdefattr = SCA, AP
var(1)   = Helper(1005),var(1)

[State 1050, 継続リダイレクト／Target]
type     = VarSet
trigger1 = !Time && root,NumTarget && root,var(4) != 0
trigger1 = PlayerIDExist(root,var(4))
trigger1 = PlayerID(root,var(4)),movetype = A && PlayerID(root,var(4)),hitdefattr = SCA, AP
var(1)   = root,var(4)

[State 1050, 継続リダイレクト／中止]
type       = VarSet
triggerall = Time < 3 && var(1) != 0
trigger1   = PlayerIDExist(var(1)) = 0
trigger2   = PlayerIDExist(var(1))
trigger2   = Abs(PlayerID(var(1)),Pos X-Pos X) > 100
trigger3   = PlayerIDExist(var(1))
trigger3   = PlayerID(var(1)),Vel X = 0 && PlayerID(var(1)),Vel Y = 0
var(1)     = 0

;━───────────────────────┫速度設定┣
[State 1050, 速度設定／通常]
type     = VelSet
trigger1 = !Time
x        = ifelse(Vel X=0&&Vel Y=0,8/2,-Vel X)
y        = ifelse(Vel X=0&&Vel Y=0,0.0, Vel Y)

[State 1050, 速度設定／リダイレクト]
type     = VelSet
trigger1 = !Time && NumHelper(1005)
trigger1 = Helper(1005),fvar(0) != 0 || Helper(1005),fvar(1) != 0
x        = Helper(1005),fvar(0)
y        = Helper(1005),fvar(1)

[State 1050, 速度設定／継続リダイレクト]
type     = VelSet
trigger1 = var(1) != 0 && PlayerIDExist(var(1))
trigger1 = PlayerID(var(1)),Vel X != 0 || PlayerID(var(1)),Vel Y != 0
x        = PlayerID(var(1)),Vel X
y        = PlayerID(var(1)),Vel Y

;━──────────────────────┫座標軸設定┣
[State 1050, 座標軸設定／リダイレクト]
type     = PosSet
trigger1 = !Time && NumHelper(1005)
x        = Ceil(Helper(1005),fvar(2)) - Vel X*(TeamSide=2)*facing
y        = Ceil(Helper(1005),fvar(3)) - Vel Y*(TeamSide=2)

[State 1050, 座標軸設定／継続リダイレクト]
type     = PosSet
trigger1 = var(1) != 0 && PlayerIDExist(var(1))
x        = PlayerID(var(1)),Pos X - Vel X*(TeamSide=2)*facing
y        = PlayerID(var(1)),Pos Y - Vel Y*(TeamSide=2)

;━───────────────────────┫拡縮透過┣
[State 1050, アニメ変更]
type     = ChangeAnim
trigger1 = !Time && Pos Y = [-5,5]
trigger1 = Vel X != 0 && Vel Y = 0
value    = 1050

[State 1050, 拡縮設定]
type     = AngleDraw
trigger1 = Vel X != 0
value    = -Atan(Vel Y/Vel X)*180/Pi
scale    = 1.0 ,1.0

[State 1050, 透過処理]
type     = Trans
trigger1 = Anim = 1050
trans    = AddAlpha
alpha    = 256, 256

;━────────────────────────┫var(2)┣
[State 1050, ヒット定義／接触判定]
type              = Projectile
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
trigger1          = var(1) != 0
projID            = 1050
projanim          = Anim+1
projhitanim       = -1
projscale         = 0.5, 0.5
projremove        = 1
projremovetime    = 2
velocity          = Vel X, Vel Y
projhits          = 1
projmisstime      = 0
projpriority      = 1
projsprpriority   = 0
projedgebound     = 50
projstagebound    = 50
projheightbound   = -240
offset            = 0, 0
postype           = p1
projshadow        = 0, 0, 0
supermovetime     = 9999
pausemovetime     = 9999
;－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－
attr              = S, ST ;P
hitflag           = MAF
guardflag         = MA
animtype          = Light
damage            = 0, 0
getpower          = 0, 0
givepower         = 0, 0
priority          = 1, Hit
pausetime         = 0, 0
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = -1
guardsound        = -1
ground.type       = none
numhits           = 0
IgnoreHitPause    = 0
Persistent        = 2
ground.cornerpush.veloff = 0

[State 1050, 判定設定]
type       = VarSet
triggerall = NumHelper(10000)
trigger1   = Helper(10000),var(43) <= -1
trigger1   = var(1) = 0 || root,NumProjID(1050) = 0
trigger2   = Helper(10000),var(43) = 0
trigger2   = Time = 0
trigger3   = Helper(10000),var(43) >= 1
trigger3   = Time = 0+Helper(10000),var(43)
var(2)     = 1

;━────────────────────────┫var(3)┣
[State 1050, 通常]
type     = VarSet
trigger1 = var(3) = 1 && movecontact != 1
trigger1 = P2StateNo < 200 && P2StateNo != 100 || P2MoveType = H
var(3)   = 0

[State 1050, カウンター]
type     = VarSet
trigger1 = var(3) = 0 && movecontact != 1
trigger1 = P2MoveType = A || P2StateNo = 100
var(3)   = 1

;━───────────────────────┫ var(13)┣
[State 1050, ブーストゲージ／減少中フラグ]
type     = VarSet
trigger1 = var(13) != 0+(root,var(8)%ceil(root,fvar(12))&&root,var(9)>0)
var(13)  = 0+(root,var(8)%ceil(root,fvar(12))&&root,var(9)>0)

;━───────────────────────┫ var(14)┣
[State 1050, バニシング判定]
type     = VarSet
trigger1 = var(14) != root,var(14)
var(14)  = root,var(14)

;━───────────────────────┫ var(15)┣
[State 1050, グレイブ判定]
type     = VarSet
trigger1 = Time = 0
var(15)  = root,var(15)

;━───────────────────────┫ var(17)┣
[State 1050, 攻撃Ｌｖ２]
type     = VarSet
trigger1 = Time = 0
var(17)  = 2

[State 1050, 攻撃Ｌｖ？]
type     = VarSet
trigger1 = Time = 0 && fvar(12) != 0
var(17)  = ifelse(fvar(12)>=20,5,ifelse(fvar(12)>=17,4,ifelse(fvar(12)>=14,3,ifelse(fvar(12)>=12,2,1))))

;━───────────────────────┫ var(18)┣
[State 1050, 攻撃Ｌｖ]
type     = VarSet
trigger1 = 1
var(18)  = ifelse(var(17)=5,13+(var(3)=1)*6,ifelse(var(17)=4,13+(var(3)=1)*4,ifelse(var(17)=3,12+(var(3)=1)*2,ifelse(var(17)=2,11+(var(3)=1)*1,9))))+(var(14)=1)*2+(var(15)=1)*1

;━───────────────────┫var(21)／var(22)┣
[State 1050, オーラゲージ増加変数]
type     = VarSet
trigger1 = Time = 0
var(21)  = 4+var(17)*2+(var(17)>=3)*2

[State 1050, ブーストゲージ増加変数]
type     = VarSet
trigger1 = Time = 0
var(22)  = 0+var(17)*2

;━───────────────────────┫ var(23)┣
[State 1050, FallCount有効]
type       = VarSet
triggerall = var(23) = 0
trigger1   = (EnemyNear,StateNo = [5100,5110])
trigger2   = EnemyNear,MoveType = H
trigger2   = (EnemyNear,StateNo = [15100,15101]) && (EnemyNear,PrevStateNo != 3015) || (EnemyNear,StateNo = [575,580])
var(23)    = 1

[State 1050, FallCount無効]
type       = VarSet
triggerall = var(23) >= 1
trigger1   = EnemyNear,MoveType != H
trigger2   = EnemyNear,StateNo = 5120
var(23)    = 0

;━───────────────────────┫ var(24)┣
[State 1050, チート〇〇]
type     = VarAdd
trigger1 = var(24) := GameTime-(MoveType=A&&root,MoveType!=A)
var(24)  = 0+(MoveType=A&&root,MoveType!=A&&var(24)!=root,var(24)&&root,Time=1)

[State 1050, アニメ固定]
type     = ChangeAnim
trigger1 = RoundState = 2
trigger1 = var(24) != root,var(24)
value    = Anim
elem     = AnimElemNo(0)

[State 1050, 座標軸固定]
type     = PosFreeze
trigger1 = RoundState = 2
trigger1 = var(24) != root,var(24)
value    = 1

;━───────────────────────┫ var(25)┣
[State 1050, 判定オン]
type     = VarSet
trigger1 = var(25)
var(25)  = 0

[State 1050, 判定オフ]
type       = VarSet
triggerall = EnemyNear,Time <= 1
trigger1   = EnemyNear,StateNo = 0 && EnemyNear,PrevStateNo = 5001
trigger2   = EnemyNear,StateNo = 11 && EnemyNear,PrevStateNo = 5011
var(25)    = 1
Persistent = 0

;━───────────────────────┫ var(26)┣
[State 1050, リセット]
type     = VarSet
trigger1 = !Time
var(26)  = 0

[State 1050, カウント]
type     = VarAdd
trigger1 = var(24) != root,var(24)
var(26)  = 1

;━───────────────────────┫ var(29)┣
[State 1050, 判定オフ]
type     = VarSet
trigger1 = !Time
var(29)  = 0

[State 1050, 天破の構え]
type     = VarSet
trigger1 = !Time
trigger1 = root,var(29)%100000000/10000 > 0
var(29)  = 1

;━───────────────────────┫ fvar(1)┣
[State 1050, ヒット数補正]
type     = VarSet
trigger1 = fvar(1) != root,fvar(1)
fvar(1)  = root,fvar(1)

;━───────────────────────┫ fvar(2)┣
[State 1050, Varリセット]
type     = VarSet
trigger1 = fvar(2) != 1.0
fvar(2)  = 1.0

;━－－－－－－－－－－－－－－－－－－－－┫壁バウンド補正┣
[State 1050, 壁バウンド中／４ヒットまで]
type     = VarSet
trigger1 = var(14) = 1
trigger1 = (root,var(10) = [1,3]) && fvar(2) != 0.8
fvar(2)  = 0.8

[State 1050, 壁バウンド中／６ヒットまで]
type     = VarSet
trigger1 = var(14) = 1
trigger1 = (root,var(10) = [4,5]) && fvar(2) != 0.6
fvar(2)  = 0.6

[State 1050, 壁バウンド中／７ヒット以上]
type     = VarSet
trigger1 = var(14) = 1
trigger1 = root,var(10) >= 6 && fvar(2) != 0.5
fvar(2)  = 0.5

;━－－－－－－－－－－－－－－－－－－－－－－－┫状態補正┣
[State 1050, カウンターヒット]
type     = VarSet
trigger1 = var(3) = 1
trigger1 = fvar(2) != fvar(2)*1.2
fvar(2)  = fvar(2)*1.2

[State 1050, 屈み／空中]
type     = VarSet
trigger1 = P2StateType = C || P2StateType = A && P2MoveType != H
trigger1 = fvar(2) != fvar(2)*1.1
fvar(2)  = fvar(2)*1.1

[State 1050, ブースト減少中]
type     = VarSet
trigger1 = RoundState = 2 && NumHelper(10000)
trigger1 = root,var(8)%ceil(root,fvar(12)) && root,var(9) > 0 && var(14) = 0 && var(15) = 0
trigger1 = fvar(2) != fvar(2)*0.8
fvar(2)  = fvar(2)*0.8

;━－－－－－－－－－－－－－－－－－－－－－－－－┫逆補正┣
[State 1050, 逆根性値]
type     = VarSet
trigger1 = NumHelper(10000)
trigger1 = Helper(10000),var(57)%100/10 = 1
trigger1 = fvar(2) != fvar(2)*root,fvar(15)
fvar(2)  = fvar(2)*root,fvar(15)

[State 1050, 逆ダウン補正]
type     = VarSet
trigger1 = NumHelper(10000)
trigger1 = Helper(10000),var(57)%1000/100 = 1 && EnemyNear(root,var(22)),GetHitVar(fallcount)
trigger1 = fvar(2) != floor(fvar(2)/EnemyNear(root,var(22)),Const(data.fall.defence_mul)*85.0)/100.0
fvar(2)  = floor(fvar(2)/EnemyNear(root,var(22)),Const(data.fall.defence_mul)*85.0)/100.0

;━───────────────────────┫ fvar(0)┣
[State 1050, 総合補正]
type     = VarSet
trigger1 = fvar(0) != ifelse(fvar(1)<0.2,0.2,fvar(1))*fvar(2)
fvar(0)  = ifelse(fvar(1)<0.2,0.2,fvar(1))*fvar(2)

;━───────────────────────┫ fvar(3)┣
[State 1050, ゲージ補正]
type     = VarSet
trigger1 = fvar(3) != root,fvar(3)
fvar(3)  = root,fvar(3)

;━───────────────────┫fvar(5)／fvar(6)┣
[State 1050, 速度定義Ｘ]
type     = VarSet
trigger1 = fvar(5) != (-11.44+(11.44-16.0)*(var(23)>=1))*0.5
fvar(5)  = (-11.44+(11.44-16.0)*(var(23)>=1))*0.5

[State 1050, 速度定義Ｙ]
type     = VarSet
trigger1 = fvar(6) != (-24.0*(var(23)=0)-(var(23)>=1)*1.0)*0.5+fvar(7)
fvar(6)  = (-24.0*(var(23)=0)-(var(23)>=1)*1.0)*0.5+fvar(7)

;━───────────────────────┫ fvar(7)┣
[State 1050, 重力加速度]
type     = VarSet
trigger1 = !movecontact && !MoveReversed
trigger1 = fvar(7) != (1.10+(1.85-1.10+(root,var(11)+1)*0.25)*(P2StateType=A||P2StateType=L&&P2StateNo!=5120||P2StateNo=40&&EnemyNear,AnimTime=0)*(var(14)=0))*0.5
fvar(7)  = (1.10+(1.85-1.10+(root,var(11)+1)*0.25)*(P2StateType=A||P2StateType=L&&P2StateNo!=5120||P2StateNo=40&&EnemyNear,AnimTime=0)*(var(14)=0))*0.5

;━────────────────────────┫フラグ┣
[State 1050, フラグ／影消去]
type     = AssertSpecial
trigger1 = 1
flag     = noshadow

[State 1050, フラグ／自分消去]
type     = AssertSpecial
trigger1 = NumHelper(10000)
trigger1 = Helper(10000),var(43) <= -1 && var(1) != 0
flag     = Invisible

;━──────────────────────┫ヒット設定┣
[State 1050, ヒット定義／攻撃レベル１]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
trigger1          = var(2) = 1 && var(17) = 1
attr              = S, SP
hitflag           = MAF
guardflag         = MA
animtype          = Light
damage            = ceil((floor(var(0)*fvar(0))+(floor(var(0)*fvar(0))=0)*root,fvar(10))), ceil((floor(var(0)*0.1)+(floor(var(0)*0.1)=0)*root,fvar(10)))
getpower          = 0, 0
givepower         = floor(var(21)*0.75*1.1/2.0*(0.5**(var(13)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*root,fvar(11)+0.5), floor(var(21)*0.75*1.1/3.0*(0.5**(var(13)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*root,fvar(11)+0.5)
priority          = 2, Hit
pausetime         = 2, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = -1
guardsound        = s6, 0
ground.type       = High
ground.slidetime  = ceil(fvar(11))+(fvar(11)=0)*10
ground.hittime    = ceil(fvar(12))+(fvar(12)=0)*10
guard.slidetime   = ceil(fvar(11)-2)+(fvar(11)=0)*8
guard.hittime     = ceil(fvar(12)-2)+(fvar(12)=0)*8
air.hittime       = ceil(fvar(12))+(fvar(12)=0)*10
ground.velocity   = facing*fvar(13)+(fvar(13)=0)*fvar(5)*0.92, fvar(14)
air.velocity      = -8.0*0.5+(8.0-8.0)*(var(23)>=1)*0.5, fvar(14)+(fvar(14)=0)*fvar(6)
airguard.velocity = facing*fvar(13)+(fvar(13)=0)*fvar(5), fvar(14)
yaccel            = (fvar(16)!=0)*fvar(15)+(fvar(16)=0)*fvar(7)
fall              = (fvar(16)!=0)
air.fall          = 1
fall.xvelocity    = fvar(17)+(fvar(17)=0)*(fvar(13)+(fvar(13)=0)*fvar(5)*0.92)
fall.yvelocity    = fvar(18)+(fvar(18)=0)*-4.5
fall.damage       = ceil(fvar(19))
fall.recover      = ceil(fvar(20))
fall.recovertime  = ceil(fvar(21))+(fvar(21)=0)*(10+(var(15)*6)+var(18))
ID                = stateno
numhits           = 0
ground.cornerpush.veloff = 0
;━－－－－－－－－－－－－－－－－－－－－－－－┫飛び道具┣
[State 1050, ヒット定義／攻撃レベル１]
type              = Projectile
trigger1          = movehit = 1 && !MoveReversed
trigger1          = NumTarget && !root,NumTarget
trigger1          = Target,Time = 1
trigger1          = var(2) = 1 && var(17) = 1
projID            = 999
projanim          = 999
projhitanim       = -1
projscale         = 0.5, 0.5
projremove        = 1
projremovetime    = 1
velocity          = 0, 0
projhits          = 1
projmisstime      = 9999
projpriority      = 9999
projsprpriority   = 0
projedgebound     = 50
projstagebound    = 50
projheightbound   = -240
offset            = 0, Target,const(size.mid.pos.y)
postype           = p2
projshadow        = 0, 0, 0
supermovetime     = 0
pausemovetime     = 0
;－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－
attr              = S, SP
hitflag           = MAF+
guardflag         = 
animtype          = Light
damage            = 0, 0
getpower          = 0, 0
givepower         = 0, 0
priority          = 2, Hit
pausetime         = 2-2, var(18)-2
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = -1
guardsound        = -1
ground.type       = High
ground.slidetime  = ceil(fvar(11))+(fvar(11)=0)*10
ground.hittime    = ceil(fvar(12))+(fvar(12)=0)*10
guard.slidetime   = ceil(fvar(11)-2)+(fvar(11)=0)*8
guard.hittime     = ceil(fvar(12)-2)+(fvar(12)=0)*8
air.hittime       = ceil(fvar(12))+(fvar(12)=0)*10
ground.velocity   = facing*fvar(13)+(fvar(13)=0)*fvar(5)*0.92, fvar(14)
air.velocity      = -8.0*0.5+(8.0-8.0)*(var(23)>=1)*0.5, fvar(14)+(fvar(14)=0)*fvar(6)
airguard.velocity = facing*fvar(13)+(fvar(13)=0)*fvar(5), fvar(14)
yaccel            = (fvar(16)!=0)*fvar(15)+(fvar(16)=0)*fvar(7)
fall              = (fvar(16)!=0)
air.fall          = 1
fall.xvelocity    = fvar(17)+(fvar(17)=0)*(fvar(13)+(fvar(13)=0)*fvar(5)*0.92)
fall.yvelocity    = fvar(18)+(fvar(18)=0)*-4.5
fall.damage       = ceil(fvar(19))
fall.recover      = ceil(fvar(20))
fall.recovertime  = ceil(fvar(21))+(fvar(21)=0)*(10+(var(15)*6)+var(18))-1
ID                = stateno
numhits           = 0
IgnoreHitPause    = 1
Persistent        = 0
ground.cornerpush.veloff = 0

[State 1050, ヒット定義／攻撃レベル２]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
trigger1          = var(2) = 1 && var(17) = 2
attr              = S, SP
hitflag           = MAF
guardflag         = MA
animtype          = Light
damage            = ceil((floor(var(0)*fvar(0))+(floor(var(0)*fvar(0))=0)*root,fvar(10))), ceil((floor(var(0)*0.1)+(floor(var(0)*0.1)=0)*root,fvar(10)))
getpower          = 0, 0
givepower         = floor(var(21)*0.75*1.1/2.0*(0.5**(var(13)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*root,fvar(11)+0.5), floor(var(21)*0.75*1.1/3.0*(0.5**(var(13)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*root,fvar(11)+0.5)
priority          = 3, Hit
pausetime         = 2, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = -1
guardsound        = s6, 0
ground.type       = High
ground.slidetime  = ceil(fvar(11))+(fvar(11)=0)*12
ground.hittime    = ceil(fvar(12))+(fvar(12)=0)*12
guard.slidetime   = ceil(fvar(11)-2)+(fvar(11)=0)*10
guard.hittime     = ceil(fvar(12)-2)+(fvar(12)=0)*10
air.hittime       = ceil(fvar(12))+(fvar(12)=0)*12
ground.velocity   = facing*fvar(13)+(fvar(13)=0)*fvar(5)*0.89, fvar(14)
air.velocity      = -8.0*0.5+(8.0-8.0)*(var(23)>=1)*0.5, fvar(14)+(fvar(14)=0)*fvar(6)
airguard.velocity = facing*fvar(13)+(fvar(13)=0)*fvar(5), fvar(14)
yaccel            = (fvar(16)!=0)*fvar(15)+(fvar(16)=0)*fvar(7)
fall              = (fvar(16)!=0)
air.fall          = 1
fall.xvelocity    = fvar(17)+(fvar(17)=0)*(fvar(13)+(fvar(13)=0)*fvar(5)*0.89)
fall.yvelocity    = fvar(18)+(fvar(18)=0)*-4.5
fall.damage       = ceil(fvar(19))
fall.recover      = ceil(fvar(20))
fall.recovertime  = ceil(fvar(21))+(fvar(21)=0)*(12+(var(15)*7)+var(18))
ID                = stateno
numhits           = 0
ground.cornerpush.veloff = 0
;━－－－－－－－－－－－－－－－－－－－－－－－┫飛び道具┣
[State 1050, ヒット定義／攻撃レベル２]
type              = Projectile
trigger1          = movehit = 1 && !MoveReversed
trigger1          = NumTarget && !root,NumTarget
trigger1          = Target,Time = 1
trigger1          = var(2) = 1 && var(17) = 2
projID            = 999
projanim          = 999
projhitanim       = -1
projscale         = 0.5, 0.5
projremove        = 1
projremovetime    = 1
velocity          = 0, 0
projhits          = 1
projmisstime      = 9999
projpriority      = 9999
projsprpriority   = 0
projedgebound     = 50
projstagebound    = 50
projheightbound   = -240
offset            = 0, Target,const(size.mid.pos.y)
postype           = p2
projshadow        = 0, 0, 0
supermovetime     = 0
pausemovetime     = 0
;－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－
attr              = S, SP
hitflag           = MAF+
guardflag         = 
animtype          = Light
damage            = 0, 0
getpower          = 0, 0
givepower         = 0, 0
priority          = 3, Hit
pausetime         = 2-2, var(18)-2
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = -1
guardsound        = -1
ground.type       = High
ground.slidetime  = ceil(fvar(11))+(fvar(11)=0)*12
ground.hittime    = ceil(fvar(12))+(fvar(12)=0)*12
guard.slidetime   = ceil(fvar(11)-2)+(fvar(11)=0)*10
guard.hittime     = ceil(fvar(12)-2)+(fvar(12)=0)*10
air.hittime       = ceil(fvar(12))+(fvar(12)=0)*12
ground.velocity   = facing*fvar(13)+(fvar(13)=0)*fvar(5)*0.89, fvar(14)
air.velocity      = -8.0*0.5+(8.0-8.0)*(var(23)>=1)*0.5, fvar(14)+(fvar(14)=0)*fvar(6)
airguard.velocity = facing*fvar(13)+(fvar(13)=0)*fvar(5), fvar(14)
yaccel            = (fvar(16)!=0)*fvar(15)+(fvar(16)=0)*fvar(7)
fall              = (fvar(16)!=0)
air.fall          = 1
fall.xvelocity    = fvar(17)+(fvar(17)=0)*(fvar(13)+(fvar(13)=0)*fvar(5)*0.89)
fall.yvelocity    = fvar(18)+(fvar(18)=0)*-4.5
fall.damage       = ceil(fvar(19))
fall.recover      = ceil(fvar(20))
fall.recovertime  = ceil(fvar(21))+(fvar(21)=0)*(12+(var(15)*7)+var(18))-1
ID                = stateno
numhits           = 0
IgnoreHitPause    = 1
Persistent        = 0
ground.cornerpush.veloff = 0

[State 1050, ヒット定義／攻撃レベル３]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
trigger1          = var(2) = 1 && var(17) = 3
attr              = S, SP
hitflag           = MAF
guardflag         = MA
animtype          = Medium
damage            = ceil((floor(var(0)*fvar(0))+(floor(var(0)*fvar(0))=0)*root,fvar(10))), ceil((floor(var(0)*0.1)+(floor(var(0)*0.1)=0)*root,fvar(10)))
getpower          = 0, 0
givepower         = floor(var(21)*0.75*1.1/2.0*(0.5**(var(13)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*root,fvar(11)+0.5), floor(var(21)*0.75*1.1/3.0*(0.5**(var(13)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*root,fvar(11)+0.5)
priority          = 4, Hit
pausetime         = 2, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = -1
guardsound        = s6, 3
ground.type       = High
ground.slidetime  = ceil(fvar(11))+(fvar(11)=0)*14+(P2StateType=C)
ground.hittime    = ceil(fvar(12))+(fvar(12)=0)*14+(P2StateType=C)
guard.slidetime   = ceil(fvar(11)-2)+(fvar(11)=0)*12
guard.hittime     = ceil(fvar(12)-2)+(fvar(12)=0)*12
air.hittime       = ceil(fvar(12))+(fvar(12)=0)*14
ground.velocity   = facing*fvar(13)+(fvar(13)=0)*fvar(5)*0.88, fvar(14)
air.velocity      = -8.0*0.5+(8.0-8.0)*(var(23)>=1)*0.5, fvar(14)+(fvar(14)=0)*fvar(6)
airguard.velocity = facing*fvar(13)+(fvar(13)=0)*fvar(5), fvar(14)
yaccel            = (fvar(16)!=0)*fvar(15)+(fvar(16)=0)*fvar(7)
fall              = (fvar(16)!=0)
air.fall          = 1
fall.xvelocity    = fvar(17)+(fvar(17)=0)*(fvar(13)+(fvar(13)=0)*fvar(5)*0.88)
fall.yvelocity    = fvar(18)+(fvar(18)=0)*-4.5
fall.damage       = ceil(fvar(19))
fall.recover      = ceil(fvar(20))
fall.recovertime  = ceil(fvar(21))+(fvar(21)=0)*(24+(var(15)*8)+var(18))
ID                = stateno
numhits           = 0
ground.cornerpush.veloff = 0
;━－－－－－－－－－－－－－－－－－－－－－－－┫飛び道具┣
[State 1050, ヒット定義／攻撃レベル３]
type              = Projectile
trigger1          = movehit = 1 && !MoveReversed
trigger1          = NumTarget && !root,NumTarget
trigger1          = Target,Time = 1
trigger1          = var(2) = 1 && var(17) = 3
projID            = 999
projanim          = 999
projhitanim       = -1
projscale         = 0.5, 0.5
projremove        = 1
projremovetime    = 1
velocity          = 0, 0
projhits          = 1
projmisstime      = 9999
projpriority      = 9999
projsprpriority   = 0
projedgebound     = 50
projstagebound    = 50
projheightbound   = -240
offset            = 0, Target,const(size.mid.pos.y)
postype           = p2
projshadow        = 0, 0, 0
supermovetime     = 0
pausemovetime     = 0
;－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－
attr              = S, SP
hitflag           = MAF+
guardflag         = 
animtype          = Medium
damage            = 0, 0
getpower          = 0, 0
givepower         = 0, 0
priority          = 4, Hit
pausetime         = 2-2, var(18)-2
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = -1
guardsound        = -1
ground.type       = High
ground.slidetime  = ceil(fvar(11))+(fvar(11)=0)*14+(P2StateType=C)
ground.hittime    = ceil(fvar(12))+(fvar(12)=0)*14+(P2StateType=C)
guard.slidetime   = ceil(fvar(11)-2)+(fvar(11)=0)*12
guard.hittime     = ceil(fvar(12)-2)+(fvar(12)=0)*12
air.hittime       = ceil(fvar(12))+(fvar(12)=0)*14
ground.velocity   = facing*fvar(13)+(fvar(13)=0)*fvar(5)*0.88, fvar(14)
air.velocity      = -8.0*0.5+(8.0-8.0)*(var(23)>=1)*0.5, fvar(14)+(fvar(14)=0)*fvar(6)
airguard.velocity = facing*fvar(13)+(fvar(13)=0)*fvar(5), fvar(14)
yaccel            = (fvar(16)!=0)*fvar(15)+(fvar(16)=0)*fvar(7)
fall              = (fvar(16)!=0)
air.fall          = 1
fall.xvelocity    = fvar(17)+(fvar(17)=0)*(fvar(13)+(fvar(13)=0)*fvar(5)*0.88)
fall.yvelocity    = fvar(18)+(fvar(18)=0)*-4.5
fall.damage       = ceil(fvar(19))
fall.recover      = ceil(fvar(20))
fall.recovertime  = ceil(fvar(21))+(fvar(21)=0)*(24+(var(15)*8)+var(18))-1
ID                = stateno
numhits           = 0
IgnoreHitPause    = 1
Persistent        = 0
ground.cornerpush.veloff = 0

[State 1050, ヒット定義／攻撃レベル４]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
trigger1          = var(2) = 1 && var(17) = 4
attr              = S, SP
hitflag           = MAF
guardflag         = MA
animtype          = Hard
damage            = ceil((floor(var(0)*fvar(0))+(floor(var(0)*fvar(0))=0)*root,fvar(10))), ceil((floor(var(0)*0.1)+(floor(var(0)*0.1)=0)*root,fvar(10)))
getpower          = 0, 0
givepower         = floor(var(21)*0.75*1.1/2.0*(0.5**(var(13)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*root,fvar(11)+0.5), floor(var(21)*0.75*1.1/3.0*(0.5**(var(13)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*root,fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 2, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = -1
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = ceil(fvar(11))+(fvar(11)=0)*17+(P2StateType=C)
ground.hittime    = ceil(fvar(12))+(fvar(12)=0)*17+(P2StateType=C)
guard.slidetime   = ceil(fvar(11)-2)+(fvar(11)=0)*15
guard.hittime     = ceil(fvar(12)-2)+(fvar(12)=0)*15
air.hittime       = ceil(fvar(12))+(fvar(12)=0)*17
ground.velocity   = facing*fvar(13)+(fvar(13)=0)*fvar(5)*0.83, fvar(14)
air.velocity      = -8.0*0.5+(8.0-8.0)*(var(23)>=1)*0.5, fvar(14)+(fvar(14)=0)*fvar(6)
airguard.velocity = facing*fvar(13)+(fvar(13)=0)*fvar(5), fvar(14)
yaccel            = (fvar(16)!=0)*fvar(15)+(fvar(16)=0)*fvar(7)
fall              = (fvar(16)!=0)
air.fall          = 1
fall.xvelocity    = fvar(17)+(fvar(17)=0)*(fvar(13)+(fvar(13)=0)*fvar(5)*0.83)
fall.yvelocity    = fvar(18)+(fvar(18)=0)*-4.5
fall.damage       = ceil(fvar(19))
fall.recover      = ceil(fvar(20))
fall.recovertime  = ceil(fvar(21))+(fvar(21)=0)*(26+(var(15)*9)+var(18))
ID                = stateno
numhits           = 0
ground.cornerpush.veloff = 0
;━－－－－－－－－－－－－－－－－－－－－－－－┫飛び道具┣
[State 1050, ヒット定義／攻撃レベル４]
type              = Projectile
trigger1          = movehit = 1 && !MoveReversed
trigger1          = NumTarget && !root,NumTarget
trigger1          = Target,Time = 1
trigger1          = var(2) = 1 && var(17) = 4
projID            = 999
projanim          = 999
projhitanim       = -1
projscale         = 0.5, 0.5
projremove        = 1
projremovetime    = 1
velocity          = 0, 0
projhits          = 1
projmisstime      = 9999
projpriority      = 9999
projsprpriority   = 0
projedgebound     = 50
projstagebound    = 50
projheightbound   = -240
offset            = 0, Target,const(size.mid.pos.y)
postype           = p2
projshadow        = 0, 0, 0
supermovetime     = 0
pausemovetime     = 0
;－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－
attr              = S, SP
hitflag           = MAF+
guardflag         = 
animtype          = Hard
damage            = 0, 0
getpower          = 0, 0
givepower         = 0, 0
priority          = 5, Hit
pausetime         = 2-2, var(18)-2
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = -1
guardsound        = -1
ground.type       = High
ground.slidetime  = ceil(fvar(11))+(fvar(11)=0)*17+(P2StateType=C)
ground.hittime    = ceil(fvar(12))+(fvar(12)=0)*17+(P2StateType=C)
guard.slidetime   = ceil(fvar(11)-2)+(fvar(11)=0)*15
guard.hittime     = ceil(fvar(12)-2)+(fvar(12)=0)*15
air.hittime       = ceil(fvar(12))+(fvar(12)=0)*17
ground.velocity   = facing*fvar(13)+(fvar(13)=0)*fvar(5)*0.83, fvar(14)
air.velocity      = -8.0*0.5+(8.0-8.0)*(var(23)>=1)*0.5, fvar(14)+(fvar(14)=0)*fvar(6)
airguard.velocity = facing*fvar(13)+(fvar(13)=0)*fvar(5), fvar(14)
yaccel            = (fvar(16)!=0)*fvar(15)+(fvar(16)=0)*fvar(7)
fall              = (fvar(16)!=0)
air.fall          = 1
fall.xvelocity    = fvar(17)+(fvar(17)=0)*(fvar(13)+(fvar(13)=0)*fvar(5)*0.83)
fall.yvelocity    = fvar(18)+(fvar(18)=0)*-4.5
fall.damage       = ceil(fvar(19))
fall.recover      = ceil(fvar(20))
fall.recovertime  = ceil(fvar(21))+(fvar(21)=0)*(26+(var(15)*9)+var(18))-1
ID                = stateno
numhits           = 0
IgnoreHitPause    = 1
Persistent        = 0
ground.cornerpush.veloff = 0

[State 1050, ヒット定義／攻撃レベル５]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
trigger1          = var(2) = 1 && var(17) = 5
attr              = S, SP
hitflag           = MAF
guardflag         = MA
animtype          = Back
damage            = ceil((floor(var(0)*fvar(0))+(floor(var(0)*fvar(0))=0)*root,fvar(10))), ceil((floor(var(0)*0.1)+(floor(var(0)*0.1)=0)*root,fvar(10)))
getpower          = 0, 0
givepower         = floor(var(21)*0.75*1.1/2.0*(0.5**(var(13)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*root,fvar(11)+0.5), floor(var(21)*0.75*1.1/3.0*(0.5**(var(13)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*root,fvar(11)+0.5)
priority          = 6, Hit
pausetime         = 2, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = -1
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = ceil(fvar(11))+(fvar(11)=0)*20+(P2StateType=C)
ground.hittime    = ceil(fvar(12))+(fvar(12)=0)*20+(P2StateType=C)
guard.slidetime   = ceil(fvar(11)-2)+(fvar(11)=0)*18
guard.hittime     = ceil(fvar(12)-2)+(fvar(12)=0)*18
air.hittime       = ceil(fvar(12))+(fvar(12)=0)*20
ground.velocity   = facing*fvar(13)+(fvar(13)=0)*fvar(5)*0.82, fvar(14)
air.velocity      = -8.0*0.5+(8.0-8.0)*(var(23)>=1)*0.5, fvar(14)+(fvar(14)=0)*fvar(6)
airguard.velocity = facing*fvar(13)+(fvar(13)=0)*fvar(5), fvar(14)
yaccel            = (fvar(16)!=0)*fvar(15)+(fvar(16)=0)*fvar(7)
fall              = (fvar(16)!=0)
air.fall          = 1
fall.xvelocity    = fvar(17)+(fvar(17)=0)*(fvar(13)+(fvar(13)=0)*fvar(5)*0.82)
fall.yvelocity    = fvar(18)+(fvar(18)=0)*-4.5
fall.damage       = ceil(fvar(19))
fall.recover      = ceil(fvar(20))
fall.recovertime  = ceil(fvar(21))+(fvar(21)=0)*(30+(var(15)*10)+var(18))
ID                = stateno
numhits           = 0
ground.cornerpush.veloff = 0
;━－－－－－－－－－－－－－－－－－－－－－－－┫飛び道具┣
[State 1050, ヒット定義／攻撃レベル５]
type              = Projectile
trigger1          = movehit = 1 && !MoveReversed
trigger1          = NumTarget && !root,NumTarget
trigger1          = Target,Time = 1
trigger1          = var(2) = 1 && var(17) = 5
projID            = 999
projanim          = 999
projhitanim       = -1
projscale         = 0.5, 0.5
projremove        = 1
projremovetime    = 1
velocity          = 0, 0
projhits          = 1
projmisstime      = 9999
projpriority      = 9999
projsprpriority   = 0
projedgebound     = 50
projstagebound    = 50
projheightbound   = -240
offset            = 0, Target,const(size.mid.pos.y)
postype           = p2
projshadow        = 0, 0, 0
supermovetime     = 0
pausemovetime     = 0
;－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－
attr              = S, SP
hitflag           = MAF+
guardflag         = 
animtype          = Back
damage            = 0, 0
getpower          = 0, 0
givepower         = 0, 0
priority          = 6, Hit
pausetime         = 2-2, var(18)-2
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = -1
guardsound        = -1
ground.type       = High
ground.slidetime  = ceil(fvar(11))+(fvar(11)=0)*20+(P2StateType=C)
ground.hittime    = ceil(fvar(12))+(fvar(12)=0)*20+(P2StateType=C)
guard.slidetime   = ceil(fvar(11)-2)+(fvar(11)=0)*18
guard.hittime     = ceil(fvar(12)-2)+(fvar(12)=0)*18
air.hittime       = ceil(fvar(12))+(fvar(12)=0)*20
ground.velocity   = facing*fvar(13)+(fvar(13)=0)*fvar(5)*0.82, fvar(14)
air.velocity      = -8.0*0.5+(8.0-8.0)*(var(23)>=1)*0.5, fvar(14)+(fvar(14)=0)*fvar(6)
airguard.velocity = facing*fvar(13)+(fvar(13)=0)*fvar(5), fvar(14)
yaccel            = (fvar(16)!=0)*fvar(15)+(fvar(16)=0)*fvar(7)
fall              = (fvar(16)!=0)
air.fall          = 1
fall.xvelocity    = fvar(17)+(fvar(17)=0)*(fvar(13)+(fvar(13)=0)*fvar(5)*0.82)
fall.yvelocity    = fvar(18)+(fvar(18)=0)*-4.5
fall.damage       = ceil(fvar(19))
fall.recover      = ceil(fvar(20))
fall.recovertime  = ceil(fvar(21))+(fvar(21)=0)*(30+(var(15)*10)+var(18))-1
ID                = stateno
numhits           = 0
IgnoreHitPause    = 1
Persistent        = 0
ground.cornerpush.veloff = 0

[State 1050, ヒット数加算]
type     = HitAdd
trigger1 = movehit = 1 && !MoveReversed && NumTarget
trigger1 = Target,StateNo != [120,159]
value    = NumTarget

[State 1050, HitDef上書き]
type          = ReversalDef
trigger1      = var(25) = 1
reversal.attr = ;SCA, AA
pausetime     = 0, 0

[State 1050, 相手ステート制御／バニシング中]
type       = TargetState
triggerall = var(14) = 1 && var(23) = 0
triggerall = NumTarget
triggerall = Target,StateNo != [550,570]
trigger1   = movehit = 1 && var(19) >= 3
value      = 551
ID         = stateno
IgnoreHitPause = 1

[State 1050, 相手ステート制御／バニシング中／弱判定]
type       = TargetState
triggerall = var(14) = 1 && var(23) = 0
triggerall = NumTarget
triggerall = Target,StateNo != [550,570]
trigger1   = movehit = 1 && var(19) <= 2
value      = 552
ID         = stateno
IgnoreHitPause = 1

;━───────────────────────┫ var(26)┣
[State 1050, Target管理]
type     = VarSet
trigger1 = movehit = 1 && NumTarget
trigger1 = Target,StateNo != [120,159]
var(26)  = 1
IgnoreHitPause = 1

[State 1050, Target記憶]
type     = ParentVarSet
trigger1 = movehit && NumTarget && root,NumTarget
var(26)  = 1050
IgnoreHitPause = 1
Persistent = 0

;━──────────────────────┫ゲージ管理┣
[State 1050, オーラゲージ増加／攻撃レベル？]
type     = PowerAdd
trigger1 = RoundState = 2
trigger1 = !root,var(6) && movecontact
value    = floor((var(21)*0.75*1.1+root,var(12))*(0.5**(var(13)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*root,fvar(11)+0.5)
IgnoreHitPause = 1
Persistent     = 0

[State 1050, ブーストゲージ増加／攻撃レベル？]
type     = ParentVarAdd
trigger1 = RoundState = 2
trigger1 = !root,var(9) && movecontact
var(8)   = floor(floor((ifelse(var(14)=0,floor(var(22)*0.75*1.1),37+(var(17)=5)*7)/(1+var(14))+root,var(12))/(1+var(15)*3)*fvar(3))*root,fvar(12)/root,fvar(13)+0.5)
IgnoreHitPause = 1
Persistent     = 0

;━──────────────────────┫エフェクト┣
[State 1050, サウンド／ヒット／攻撃レベル１]
type     = PlaySnd
trigger1 = movehit = 1 && var(17) = 1 && var(26) = 1
value    = 5, 0
IgnoreHitPause = 1
Persistent     = 0
[State 1050, サウンド／ヒット／攻撃レベル２]
type     = PlaySnd
trigger1 = movehit = 1 && var(17) = 2 && var(26) = 1
value    = 5, 1
IgnoreHitPause = 1
Persistent     = 0
[State 1050, サウンド／ヒット／攻撃レベル３]
type     = PlaySnd
trigger1 = movehit = 1 && var(17) = 3 && var(26) = 1
value    = 5, 2
IgnoreHitPause = 1
Persistent     = 0
[State 1050, サウンド／ヒット／攻撃レベル４]
type     = PlaySnd
trigger1 = movehit = 1 && var(17) = 4 && var(26) = 1
value    = 5, 3
IgnoreHitPause = 1
Persistent     = 0
[State 1050, サウンド／ヒット／攻撃レベル５]
type     = PlaySnd
trigger1 = movehit = 1 && var(17) = 5 && var(26) = 1
value    = 5, 3
IgnoreHitPause = 1
Persistent     = 0

[State 1050, ヒットエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(26) = 1
helpertype    = Normal
name          = "hit"
ID            = 6215
stateno       = 6215
pos           = 15, 0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1050, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1 || movehit = 1 && NumTarget && var(26) = 0
anim           = 6270
pos            = 15, 0
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 16
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6270

[State 1050, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(26) = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = 15, 0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1050, ヒットカウント]
type     = ParentVarAdd
trigger1 = movehit && var(26) = 1 && root,NumTarget
var(10)  = 1
IgnoreHitPause = 1
Persistent     = 0

[State 1050, エリアルヒットカウント]
type     = ParentVarAdd
trigger1 = movehit && NumTarget && root,NumTarget
trigger1 = Target,HitFall && Target,StateNo != [550,570]
var(11)  = 1
IgnoreHitPause = 1
Persistent     = 0

;━───────────────────────┫当身設定┣
[State 1050, 無敵]
type     = nothitby
trigger1 = 1
value    = SCA
IgnoreHitPause = 1

[State 1050, 被撃許可]
type     = hitby
trigger1 = NumHelper(10000)
trigger1 = !(Helper(10000),var(43) <= -1 && var(1) != 0) && var(2) = 1
trigger1 = !movecontact
value    = SCA, AP
IgnoreHitPause = 1

[State 1050, 消滅設定]
type     = hitoverride
trigger1 = 1
attr     = SCA, AA, AP, AT
stateno  = 1055
IgnoreHitPause = 1

;━─────────────────────┫ステート変更┣
[State 1050, ヘルパー消去]
type     = destroyself
trigger1 = movecontact && root,NumTarget
trigger2 = FrontEdgeDist <= -50
trigger3 = Time >= 600
trigger4 = var(1) != 0 && PlayerIDExist(var(1)) = 0
IgnoreHitPause = 0

;┬─────┬───────────────────────
;｜北斗龍撃虎｜ヘルパー／消滅
;┴─────┴───────────────────────
[Statedef 1055]
type     = A
movetype = I
physics  = N
velset   = 0, 0
ctrl     = 0
sprpriority = 2

[State 1055, フラグ／影消去]
type     = AssertSpecial
trigger1 = 1
flag     = noshadow

[State 1055, ヘルパー消去]
type     = destroyself
trigger1 = 1

;┳━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━
;┃闘気┃
;┻━━┻━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1100]
type     = S
movetype = A
physics  = S
ctrl     = 0
anim     = 1100

[State 1100, PlaySnd]
type     = PlaySnd
trigger1 = AnimElem = 3
value    = 4, 2
Persistent = 0

[State 1100, エフェクト]
type           = Explod
trigger1       = AnimElem = 2
anim           = 1101
pos            = ceil(43.0/2.0), ceil(-227.0/2.0)
postype        = p1
scale          = 1.25/2.0, 1.75/2.0
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 7
supermovetime  = 0
pausemovetime  = 0
removeongethit = 1
ID             = 1101
Persistent     = 0

[State 1100, エフェクト設定変更]
type     = ModifyExplod
trigger1 = NumExplod(1101)
ID       = 1101
scale    = (1.25-(1.25-0.4)/3*(AnimElemTime(2)-4))/2.0, (1.75-(1.75-0.56)/3*(AnimElemTime(2)-4))/2.0
Trans    = AddAlpha
Alpha    = 64*AnimElemTime(2), 256

[State 1100, ヘルパー／闘気]
type          = Helper
trigger1      = AnimElem = 7
helpertype    = Normal
name          = "proj_aura"
ID            = 1150
stateno       = 1150
pos           = ceil(118.0/2.0), ceil(-175.0/2.0)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999

[State 1100, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 1100, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(fvar(17)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 8, >= 0
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 1100, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 1100, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 1100, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 1100, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 1100, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 1100, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 1100, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 1100, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 1100, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┳━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━
;┃闘気┃ヘルパー
;┻━━┻━━━━━━━━━━━━━━━━━━━━━━━━━━
;┬──┬──────────────────────────
;｜闘気｜ヘルパー／闘気
;┴──┴──────────────────────────
[Statedef 1150]
type     = A
movetype = A
physics  = N
anim     = 1150
velset   = 12.0/2.0, 0
ctrl     = 0
sprpriority = 2

[State 1150, 透過設定]
type     = Trans
trigger1 = 1
Trans    = AddAlpha
Alpha    = 256, 256

[State 1150, エフェクト]
type           = Explod
trigger1       = Time = 0
trigger2       = Time = 7
trigger3       = Time = 14
anim           = 1151
pos            = 0, 0
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = -2
supermovetime  = 0
pausemovetime  = 0
removeongethit = 0
Trans          = AddAlpha
Alpha          = 256, 256
ID             = 1151

[State 1150, エフェクト]
type           = Explod
trigger1       = Time = 0
trigger2       = Time = 14
anim           = 1152
pos            = 0, 0
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = -2
supermovetime  = 0
pausemovetime  = 0
removeongethit = 0
Trans          = AddAlpha
Alpha          = 256, 256
ID             = 1152

;━────────────────────────┫var(3)┣
[State 1150, 通常]
type     = VarSet
trigger1 = var(3) = 1 && !movecontact
trigger1 = P2StateNo < 200 && P2StateNo != 100 || P2MoveType = H
var(3)   = 0

[State 1150, カウンター]
type     = VarSet
trigger1 = var(3) = 0 && !movecontact
trigger1 = P2MoveType = A || P2StateNo = 100
var(3)   = 1

;━───────────────────────┫ var(13)┣
[State 1150, ブーストゲージ／減少中フラグ]
type     = VarSet
trigger1 = var(13) != 0+(root,var(8)%ceil(root,fvar(12))&&root,var(9)>0)
var(13)  = 0+(root,var(8)%ceil(root,fvar(12))&&root,var(9)>0)

;━───────────────────────┫ var(14)┣
[State 1150, バニシング判定]
type     = VarSet
trigger1 = var(14) != root,var(14)
var(14)  = root,var(14)

;━───────────────────────┫ var(15)┣
[State 1150, グレイブ判定]
type     = VarSet
trigger1 = Time = 0
var(15)  = root,var(15)

;━───────────────────────┫ var(18)┣
[State 1150, 攻撃Ｌｖ１]
type     = VarSet
trigger1 = var(18) != 9+(var(3)=1)*0+(var(14)=1)*2+(var(15)=1)*1
var(18)  = 9+(var(3)=1)*0+(var(14)=1)*2+(var(15)=1)*1

;━───────────────────────┫ var(23)┣
[State 1150, FallCount有効]
type       = VarSet
triggerall = var(23) = 0
trigger1   = (EnemyNear,StateNo = [5100,5110])
trigger2   = EnemyNear,MoveType = H
trigger2   = (EnemyNear,StateNo = [15100,15101]) && (EnemyNear,PrevStateNo != 3015) || (EnemyNear,StateNo = [575,580])
var(23)    = 1

[State 1150, FallCount無効]
type       = VarSet
triggerall = var(23) >= 1
trigger1   = EnemyNear,MoveType != H
trigger2   = EnemyNear,StateNo = 5120
var(23)    = 0

;━───────────────────────┫ var(24)┣
[State 1150, チート〇〇]
type     = VarAdd
trigger1 = var(24) := GameTime-(MoveType=A&&root,MoveType!=A)
var(24)  = 0+(MoveType=A&&root,MoveType!=A&&var(24)!=root,var(24)&&root,Time=1)

[State 1150, アニメ固定]
type     = ChangeAnim
trigger1 = RoundState = 2
trigger1 = var(24) != root,var(24)
value    = Anim
elem     = AnimElemNo(0)

[State 1150, 座標軸固定]
type     = PosFreeze
trigger1 = RoundState = 2
trigger1 = var(24) != root,var(24)
value    = 1

;━───────────────────────┫ var(25)┣
[State 1150, 判定オン]
type     = VarSet
trigger1 = var(25)
var(25)  = 0

[State 1150, 判定オフ]
type       = VarSet
triggerall = EnemyNear,Time <= 1
trigger1   = EnemyNear,StateNo = 0 && EnemyNear,PrevStateNo = 5001
trigger2   = EnemyNear,StateNo = 11 && EnemyNear,PrevStateNo = 5011
var(25)    = 1
Persistent = 0

;━───────────────────────┫ var(26)┣
[State 1150, リセット]
type     = VarSet
trigger1 = !Time
var(26)  = 0

[State 1150, カウント]
type     = VarAdd
trigger1 = var(24) != root,var(24)
var(26)  = 1

;━───────────────────────┫ var(29)┣
[State 1150, 判定オフ]
type     = VarSet
trigger1 = !Time
var(29)  = 0

[State 1150, 天破の構え]
type     = VarSet
trigger1 = !Time
trigger1 = root,var(29)%100000000/10000 > 0
var(29)  = 1

;━───────────────────────┫ fvar(1)┣
[State 1150, ヒット数補正]
type     = VarSet
trigger1 = fvar(1) != root,fvar(1)
fvar(1)  = root,fvar(1)

;━───────────────────────┫ fvar(2)┣
[State 1150, Varリセット]
type     = VarSet
trigger1 = fvar(2) != 1.0
fvar(2)  = 1.0

;━－－－－－－－－－－－－－－－－－－－－┫壁バウンド補正┣
[State 1150, 壁バウンド中／４ヒットまで]
type     = VarSet
trigger1 = var(14) = 1
trigger1 = (root,var(10) = [1,3]) && fvar(2) != 0.8
fvar(2)  = 0.8

[State 1150, 壁バウンド中／６ヒットまで]
type     = VarSet
trigger1 = var(14) = 1
trigger1 = (root,var(10) = [4,5]) && fvar(2) != 0.6
fvar(2)  = 0.6

[State 1150, 壁バウンド中／７ヒット以上]
type     = VarSet
trigger1 = var(14) = 1
trigger1 = root,var(10) >= 6 && fvar(2) != 0.5
fvar(2)  = 0.5

;━－－－－－－－－－－－－－－－－－－－－－－－┫状態補正┣
[State 1150, カウンターヒット]
type     = VarSet
trigger1 = var(3) = 1
trigger1 = fvar(2) != fvar(2)*1.2
fvar(2)  = fvar(2)*1.2

[State 1150, 屈み／空中]
type     = VarSet
trigger1 = P2StateType = C || P2StateType = A && P2MoveType != H
trigger1 = fvar(2) != fvar(2)*1.1
fvar(2)  = fvar(2)*1.1

[State 1150, ブースト減少中]
type     = VarSet
trigger1 = RoundState = 2 && NumHelper(10000)
trigger1 = root,var(8)%ceil(root,fvar(12)) && root,var(9) > 0 && var(14) = 0 && var(15) = 0
trigger1 = fvar(2) != fvar(2)*0.8
fvar(2)  = fvar(2)*0.8

[State 1150, 天破の構え中]
type     = VarSet
trigger1 = var(29) = 1
trigger1 = fvar(2) != fvar(2)*1.1
fvar(2)  = fvar(2)*1.1

;━－－－－－－－－－－－－－－－－－－－－－－－－┫逆補正┣
[State 1150, 逆根性値]
type     = VarSet
trigger1 = NumHelper(10000)
trigger1 = Helper(10000),var(57)%100/10 = 1
trigger1 = fvar(2) != fvar(2)*root,fvar(15)
fvar(2)  = fvar(2)*root,fvar(15)

[State 1150, 逆ダウン補正]
type     = VarSet
trigger1 = NumHelper(10000)
trigger1 = Helper(10000),var(57)%1000/100 = 1 && EnemyNear(root,var(22)),GetHitVar(fallcount)
trigger1 = fvar(2) != floor(fvar(2)/EnemyNear(root,var(22)),Const(data.fall.defence_mul)*85.0)/100.0
fvar(2)  = floor(fvar(2)/EnemyNear(root,var(22)),Const(data.fall.defence_mul)*85.0)/100.0

;━───────────────────────┫ fvar(0)┣
[State 1150, 総合補正]
type     = VarSet
trigger1 = fvar(0) != ifelse(fvar(1)<0.2,0.2,fvar(1))*fvar(2)
fvar(0)  = ifelse(fvar(1)<0.2,0.2,fvar(1))*fvar(2)

;━───────────────────────┫ fvar(3)┣
[State 1150, ゲージ補正]
type     = VarSet
trigger1 = fvar(3) != root,fvar(3)
fvar(3)  = root,fvar(3)

;━───────────────────┫fvar(5)／fvar(6)┣
[State 1150, 速度定義Ｘ]
type     = VarSet
trigger1 = fvar(5) != (-10.72+(10.72-8.0)*(var(23)>=1))*0.5
fvar(5)  = (-10.72+(10.72-8.0)*(var(23)>=1))*0.5

[State 1150, 速度定義Ｙ]
type     = VarSet
trigger1 = fvar(6) != (-24.0*(var(23)=0)-(var(23)>=1)*1.0)*0.5+fvar(7)
fvar(6)  = (-24.0*(var(23)=0)-(var(23)>=1)*1.0)*0.5+fvar(7)

;━───────────────────────┫ fvar(7)┣
[State 1150, 重力加速度]
type     = VarSet
trigger1 = !movecontact && !MoveReversed
trigger1 = fvar(7) != (1.10+(1.85-1.10+(root,var(11)+1)*0.25)*(P2StateType=A||P2StateType=L&&P2StateNo!=5120||P2StateNo=40&&EnemyNear,AnimTime=0)*(var(14)=0))*0.5
fvar(7)  = (1.10+(1.85-1.10+(root,var(11)+1)*0.25)*(P2StateType=A||P2StateType=L&&P2StateNo!=5120||P2StateNo=40&&EnemyNear,AnimTime=0)*(var(14)=0))*0.5

;━────────────────────────┫フラグ┣
[State 1150, フラグ／影消去]
type     = AssertSpecial
trigger1 = 1
flag     = noshadow

;━───────────────────────┫拡縮設定┣
[State 1150, 拡縮設定]
type     = AngleDraw
trigger1 = 1
scale    = 1.4, 1.4

;━──────────────────────┫ヒット設定┣
[State 1150, ヒット定義／攻撃レベル２]
type              = HitDef
trigger1          = !movecontact && !MoveReversed
trigger1          = var(25) = 0
attr              = A, SP
hitflag           = MAF
guardflag         = MA
animtype          = Light
damage            = ceil((floor(16*fvar(0))+(floor(16*fvar(0))=0))*root,fvar(10)), ceil((floor(16*0.1)+(floor(16*0.1)=0))*root,fvar(10))
getpower          = 0, 0
givepower         = floor(8*0.75*1.1/2.0*(0.5**(var(13)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*root,fvar(11)+0.5), floor(8*0.75*1.1/3.0*(0.5**(var(13)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*root,fvar(11)+0.5)
priority          = 3, Hit
pausetime         = 2, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = -1
guardsound        = s6, 0
ground.type       = Low
ground.slidetime  = 12
ground.hittime    = 12
guard.slidetime   = 10
guard.hittime     = 10
air.hittime       = 12
ground.velocity   = fvar(5)*0.89
air.velocity      = -8.0*0.5+(8.0-16.0)*(var(23)>=1)*0.5, fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
fall              = 0
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 10+(var(15)*6)+var(18)
ID                = stateno
numhits           = 0
ground.cornerpush.veloff = 0
;━－－－－－－－－－－－－－－－－－－－－－－－┫飛び道具┣
[State 1150, ヒット定義／攻撃レベル２]
type              = Projectile
trigger1          = movehit = 1 && !MoveReversed
trigger1          = NumTarget && !root,NumTarget
trigger1          = Target,Time = 1
projID            = 999
projanim          = 999
projhitanim       = -1
projscale         = 0.5, 0.5
projremove        = 1
projremovetime    = 1
velocity          = 0, 0
projhits          = 1
projmisstime      = 9999
projpriority      = 9999
projsprpriority   = 0
projedgebound     = 50
projstagebound    = 50
projheightbound   = -240
offset            = 0, Target,const(size.mid.pos.y)
postype           = p2
projshadow        = 0, 0, 0
supermovetime     = 0
pausemovetime     = 0
;－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－
attr              = A, SP
hitflag           = MAF+
guardflag         = 
animtype          = Light
damage            = 0, 0
getpower          = 0, 0
givepower         = 0, 0
priority          = 3, Hit
pausetime         = 2-2, var(18)-2
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = -1
guardsound        = -1
ground.type       = Low
ground.slidetime  = 12
ground.hittime    = 12
guard.slidetime   = 10
guard.hittime     = 10
air.hittime       = 12
ground.velocity   = fvar(5)*0.89
air.velocity      = -8.0*0.5+(8.0-16.0)*(var(23)>=1)*0.5, fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
fall              = 0
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 10+(var(15)*6)+var(18)-1
ID                = stateno
numhits           = 0
IgnoreHitPause    = 1
Persistent        = 0
ground.cornerpush.veloff = 0

[State 1150, ヒット数加算]
type     = HitAdd
trigger1 = movehit = 1 && !MoveReversed
value    = NumTarget

[State 1150, HitDef上書き]
type          = ReversalDef
trigger1      = var(25) = 1
reversal.attr = ;SCA, AA
pausetime     = 0, 0

[State 1150, 気絶値加算]
type     = ParentVarAdd
trigger1 = movehit = 1
trigger1 = root,var(10)+1 < 10 && !root,var(14) && !root,var(15)
trigger1 = root,var(51) < root,var(52)
trigger1 = root,var(51) >= 0
var(51)  = floor((5+root,var(12))*(1.0-0.1*(root,var(10)+1)*(root,var(10)+1>1))*(1.0-0.5*(root,var(9)>0&&root,var(8)%1000>0))*(1.0+0.2*(EnemyNear,StateType=C))*(1.0+0.3*(EnemyNear,StateType=A&&(root,var(10)=0))))
IgnoreHitPause = 1
Persistent = 0

[State 1150, Target記憶]
type     = ParentVarSet
trigger1 = movehit && NumTarget && root,NumTarget
var(26)  = 1150
IgnoreHitPause = 1
Persistent = 0

[State 1150, 相手ステート制御／バニシング中]
type       = TargetState
triggerall = var(14) = 1 && var(23) = 0
triggerall = NumTarget
triggerall = Target,StateNo != [550,570]
trigger1   = movehit && var(19) >= 3
value      = 551
ID         = stateno
IgnoreHitPause = 1

[State 1150, 相手ステート制御／バニシング中／弱判定]
type       = TargetState
triggerall = var(14) = 1 && var(23) = 0
triggerall = NumTarget
triggerall = Target,StateNo != [550,570]
trigger1   = movehit && var(19) <= 2
value      = 552
ID         = stateno
IgnoreHitPause = 1

[State 1150, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)
trigger1 = root,var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫ゲージ管理┣
[State 1150, オーラゲージ増加／攻撃レベル２]
type     = PowerAdd
trigger1 = RoundState = 2
trigger1 = !root,var(6) && movecontact
value    = floor((8*0.75*1.1+root,var(12))*(0.5**(var(13)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*root,fvar(11)+0.5)
IgnoreHitPause = 1
Persistent     = 0

[State 1150, ブーストゲージ増加／攻撃レベル２]
type     = ParentVarAdd
trigger1 = RoundState = 2
trigger1 = !root,var(9) && movecontact
var(8)   = floor(floor((ifelse(var(14)=0,floor(4*0.75*1.1),37)/(1+var(14))+root,var(12))/(1+var(15)*3)*fvar(3))*root,fvar(12)/root,fvar(13)+0.5)
IgnoreHitPause = 1
Persistent     = 0

;━──────────────────────┫エフェクト┣
[State 1150, サウンド／ヒット]
type     = PlaySnd
trigger1 = movehit = 1 && NumTarget
value    = 5, 1
IgnoreHitPause = 1
Persistent     = 0

[State 1150, ヒットエフェクト]
type          = Helper
trigger1      = movehit = 1 && NumTarget
helpertype    = Normal
name          = "hit"
ID            = 6215
stateno       = 6215
pos           = 15, 0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1150, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6270
pos            = 15, 0
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 16
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6270

[State 1150, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && NumTarget && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = 15, 0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1150, ヒットカウント]
type     = ParentVarAdd
trigger1 = movehit && NumTarget && root,NumTarget
var(10)  = 1
IgnoreHitPause = 1
Persistent     = 0

[State 1150, エリアルヒットカウント]
type     = ParentVarAdd
trigger1 = movehit && NumTarget && root,NumTarget
trigger1 = Target,HitFall && Target,StateNo != [550,570]
var(11)  = 1
IgnoreHitPause = 1
Persistent     = 0

;━───────────────────────┫当身設定┣
[State 1150, 無敵]
type     = nothitby
trigger1 = 1
value    = SCA
IgnoreHitPause = 1

[State 1150, 被撃許可]
type     = hitby
trigger1 = !movecontact
value    = SCA, AP
IgnoreHitPause = 1

[State 1150, 消滅設定]
type     = hitoverride
trigger1 = 1
attr     = SCA, AA, AP, AT
stateno  = 1155
IgnoreHitPause = 1

;━─────────────────────┫ステート変更┣
[State 1150, ステート変更①]
type     = ChangeState
trigger1 = movecontact && root,NumTarget
trigger2 = moveguarded
value    = 1155

[State 1150, ステート変更①]
type     = ChangeState
trigger1 = Time >= 21+var(26)
value    = 1156

[State 1150, ヘルパー消去]
type     = destroyself
trigger1 = Time >= 600
IgnoreHitPause = 0

;┬──┬──────────────────────────
;｜闘気｜ヘルパー／消滅／ヒット時
;┴──┴──────────────────────────
[Statedef 1155]
type     = A
movetype = I
physics  = N
anim     = 9999
velset   = 0, 0
ctrl     = 0
sprpriority = 2
movehitpersist = 1

[State 1155, アニメ変更]
type     = ChangeAnim
trigger1 = Time = 1
value    = 1152

[State 1155, フラグ／影消去]
type     = AssertSpecial
trigger1 = 1
flag     = noshadow

[State 1155, 透過設定]
type     = Trans
trigger1 = 1
Trans    = AddAlpha
Alpha    = 256, 256

[State 1155, 拡縮設定]
type     = AngleDraw
trigger1 = 1
scale    = 0.5 ,1.5

[State 1155, ヘルパー消去]
type     = destroyself
trigger1 = AnimTime = 0

;┬──┬──────────────────────────
;｜闘気｜ヘルパー／消滅／自然消滅時
;┴──┴──────────────────────────
[Statedef 1156]
type     = A
movetype = I
physics  = N
anim     = 9999
velset   = 4.0/2.0, 0
ctrl     = 0
sprpriority = 2

[State 1156, アニメ変更]
type     = ChangeAnim
trigger1 = Time = 1
value    = 1101

[State 1156, フラグ／影消去]
type     = AssertSpecial
trigger1 = 1
flag     = noshadow

[State 1156, 透過設定]
type     = Trans
trigger1 = 1
Trans    = AddAlpha
Alpha    = 256-16*Time, 256

[State 1156, 拡縮設定]
type     = AngleDraw
trigger1 = 1
scale    = 1.0-Time*0.05, 1.0-Time*0.05

[State 1156, ヘルパー消去]
type     = destroyself
trigger1 = 256-16*Time <= 0

;┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━
;┃秘孔・醒鋭孔┃
;┻━━━━━━┻━━━━━━━━━━━━━━━━━━━━
[Statedef 1200]
type     = S
movetype = A
physics  = S
ctrl     = 0
anim     = 1200+1*(Helper(10000),var(40)!=0&&var(10))

[State 1200, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 3
value    = 4, 2

[State 1200, エフェクト①]
type           = Explod
trigger1       = !Time
anim           = 1101
pos            = ceil(43.0/2.0), ceil(-227.0/2.0)
postype        = p1
scale          = 1.25/2.0, 1.75/2.0
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 7
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 0, 256
ID             = 1101

[State 1200, エフェクト②]
type           = Explod
trigger1       = AnimElem = 7
anim           = 1152
pos            = ceil(100.0/2.0), ceil(-186.0/2.0)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 16
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 1152

[State 1200, エフェクト設定変更]
type     = ModifyExplod
trigger1 = NumExplod(1101)
ID       = 1101
Trans    = AddAlpha
Alpha    = 85*Time+1, 256

[State 1200, ヒット定義／攻撃レベル４]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, SA
hitflag           = MAF
guardflag         = M
animtype          = Hard
damage            = ceil((floor(24*fvar(0))+(floor(24*fvar(0))=0))*fvar(10)), ceil((floor(24*0.1)+(floor(24*0.1)=0))*fvar(10))+ceil((floor(24*0.1*0.5)+(floor(24*0.1*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s1201, 0
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = fvar(5), 0.0
guard.velocity    = fvar(5)*0.83
air.velocity      = (-8.0*0.5+(8.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1200, 相手ステート制御]
type     = TargetState
trigger1 = movehit = 1 && NumTarget
trigger1 = var(29)%1200 = 0
trigger1 = Target,StateType != A && Target,StateType != L
trigger1 = Target,PrevStateNo != [325,326]
value    = 325
ID       = stateno
IgnoreHitPause = 1
Persistent     = 0

[State 1200, サウンド]
type     = PlaySnd
trigger1 = movehit = 1 && NumTarget
trigger1 = Target,StateNo = 325
value    = 325, 0
IgnoreHitPause = 1
Persistent     = 0

[State 1200, 削りダメージ有効／カウントセット]
type     = VarSet
trigger1 = movehit = 1
trigger1 = var(29)%10000 = 0
var(29)  = var(29)/10000*10000 + 1200

[State 1200, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 8, >= 0
value    = 0

[State 1200, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 1200, ヒットエフェクト]
type          = Helper
trigger1      = movehit = 1
helpertype    = Normal
name          = "hit"
ID            = 6215
stateno       = 6215
pos           = floor(P2Dist X/2 +30), floor(P2Dist Y/2 -90)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
;Persistent     = 0

[State 1200, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6270
pos            = floor(P2Dist X/2 +30), floor(P2Dist Y/2 -90)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 16
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
;Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6270

[State 1200, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +30), floor(P2Dist Y/2 -90)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1200, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000) && AnimElemNo(0) = 3
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/2 -90)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1200, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 1200, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(fvar(17)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 8, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 1200, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 1200, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 1200, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 1200, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 1200, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 1200, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 1200, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 1200, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┳━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━
;┃北斗飛衛拳┃
;┻━━━━━┻━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1300]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 1300

[State 1300, エフェクト①]
type          = Helper
trigger1      = Anim = 1301
trigger1      = AnimElem = 5
helpertype    = Normal
name          = "hiei1"
ID            = 1301
stateno       = 1301
pos           = ceil(150.0/2.0), ceil(-248.0/2.0)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1300, エフェクト②]
type          = Helper
trigger1      = Anim = 1301
trigger1      = AnimElem = 5
helpertype    = Normal
name          = "hiei1"
ID            = 1302
stateno       = 1302
pos           = ceil(-30.0/2.0), ceil(-102.0/2.0)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1300, エフェクト③]
type          = Helper
trigger1      = Anim = 1301
trigger1      = AnimElem = 5
helpertype    = Normal
name          = "hiei1"
ID            = 1303
stateno       = 1302
pos           = ceil(-88.0/2.0), ceil(-220.0/2.0)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1300, アニメ変更]
type     = ChangeAnim
trigger1 = Anim = 1300 && AnimTime = 0
value    = 1301

[State 1300, サウンド]
type     = PlaySnd
trigger1 = Anim = 1300
value    = 1301, 0
Persistent = 0

[State 1300, 速度設定]
type     = null
trigger1 = !Time
trigger1 = fvar(4) := 18.0/2.0
trigger2 = Anim = 1301 && AnimTime = 0
trigger2 = fvar(4) := 0

[State 1300, 速度設定]
type     = VarSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = Anim = 1301 && AnimElem = 5, >= 3
trigger1 = movecontact != [1,var(18)]
fvar(4)  = fvar(4)*0.9

[State 1300, 座標移動]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = Anim = 1300 && AnimElem = 1, >= 1 || Anim = 1301
trigger1 = movecontact != [1,var(18)]
x	 = fvar(4)

[State 1300, 擬似速度設定]
type     = VelSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = Anim = 1300 && AnimElem = 1, >= 1 || Anim = 1301
trigger1 = movecontact != [1,var(18)]
trigger1 = var(20) = 0
x        = fvar(4)/Const(movement.stand.friction)

[State 1300, 座標軸調整]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = Anim = 1300 && AnimElem = 1, >= 1 || Anim = 1301
trigger1 = movecontact != [1,var(18)]
trigger1 = var(20) = 0
x        = -fvar(4)/Const(movement.stand.friction)

[State 1300, 速度設定]
type     = VelSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = !(Anim = 1300 && AnimElemTime(1) = 0)
trigger1 = movecontact != [1,var(18)]
y	 = Vel Y-(2.0+1.0*(Anim=1301&&AnimElemTime(1)>=1))*0.5*(!(Anim=1301&&AnimElemTime(5)>=2))+0.55

[State 1300, 空中挙動設定]
type     = VarSet
trigger1 = 1
var(2)   = 4

[State 1300, ヒット定義／攻撃レベル４]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = A, SA
hitflag           = MAF
guardflag         = MA
animtype          = Hard
damage            = ceil((floor(24*fvar(0))+(floor(24*fvar(0))=0))*fvar(10)), ceil((floor(24*0.05)+(floor(24*0.05)=0))*fvar(10))+ceil((floor(24*0.05*0.5)+(floor(24*0.05*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 3
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = -32.0*0.5, -24.0*0.5+2.0+fvar(7)
guard.velocity    = fvar(5)*0.83
air.velocity      = -32.0*0.5*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0
air.fall          = 0+(P2MoveType=H)
fall.recover      = 1
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1300, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 6, >= 0
value    = 0

[State 1300, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 1300, ヒットエフェクト]
type          = Helper
trigger1      = movehit = 1
helpertype    = Normal
name          = "hit"
ID            = 6215
stateno       = 6215
pos           = floor(P2Dist X/2 +20), floor(P2Dist Y/2 -70)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
;Persistent     = 0

[State 1300, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6270
pos            = floor(P2Dist X/2 +20), floor(P2Dist Y/2 -70)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 16
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
;Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6270

[State 1300, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +20), floor(P2Dist Y/2 -70)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1300, 相殺エフェクト①]
type          = Helper
trigger1      = AnimElemNo(0) = 4
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/2 -70)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1300, 相殺エフェクト②]
type          = Helper
trigger1      = AnimElemNo(0) = 5
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/2 -70)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1300, ステート設定]
type      = StateTypeSet
trigger1  = Anim = 1300
trigger1  = AnimElem = 1, = 2
statetype = A
physics   = N

[State 1300, 無敵]
type     = nothitby
trigger1 = Anim = 1300
trigger1 = AnimElem = 1, <= 1
value    = SCA

[State 1300, ステート変更]
type     = ChangeState
trigger1 = Pos Y + Vel Y > 0
value    = 52

[State 1300, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 51
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 1300, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(fvar(17)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 1300, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 1300, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 1300, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 1300, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 1300, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 1300, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 1300, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 1300, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬─────┬───────────────────────
;｜北斗飛衛拳｜ヘルパー／エフェクト①
;┴─────┴───────────────────────
[Statedef 1301]
type     = A
movetype = I
physics  = N
anim     = 1302
ctrl     = 0
sprpriority = 2

[State 1301, 拡縮設定]
type     = AngleDraw
trigger1 = 1
value    = 35
scale    = ifelse(Time >= 4, 1.5, 1.0+0.125*Time), ifelse(Time >= 4, 1.0, 2.0-0.25*Time)

[State 1301, 座標設定]
type     = BindToRoot
trigger1 = 1
pos      = 150.0/2.0, -248.0/2.0

[State 1301, 透過設定]
type     = Trans
trigger1 = 1
Trans    = AddAlpha
Alpha    = 256, 256

[State 1301, destroyself]
type     = DestroySelf
trigger1 = root,Anim = 1301
trigger1 = root,AnimElemNo(0) >= 6
trigger2 = root,stateno != 1300

;┬─────┬───────────────────────
;｜北斗飛衛拳｜ヘルパー／エフェクト②
;┴─────┴───────────────────────
[Statedef 1302]
type     = A
movetype = I
physics  = N
anim     = 1152
ctrl     = 0
sprpriority = 2

[State 1301, 拡縮設定]
type     = AngleDraw
trigger1 = 1
value    = 35

[State 1301, 透過設定]
type     = Trans
trigger1 = 1
Trans    = AddAlpha
Alpha    = 256, 256

[State 1301, destroyself]
type     = DestroySelf
trigger1 = AnimTime = 0

;┳━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━
;┃天破の構え┃
;┻━━━━━┻━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1400]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 1400

[State 1400, サウンド①]
type     = PlaySnd
trigger1 = AnimElem = 2
value    = 1401, 0

[State 1400, サウンド②]
type     = PlaySnd
trigger1 = AnimElem = 14
value    = 1401, 1

[State 1400, エフェクト①／残像]
type           = Explod
trigger1       = AnimElem = 3, = 0
anim           = 1401
pos            = 0,0
postype        = p1
scale          = 0.5, 0.5
sprpriority    = -1
ownpal         = 1
bindtime       = -1
removetime     = -2
supermovetime  = 0
pausemovetime  = 0
removeongethit = 0
Persistent     = 0
ID             = 1401

[State 1400, エフェクト②／残像]
type           = Explod
trigger1       = AnimElem = 5, = 0
anim           = 1402
pos            = 0,0
postype        = p1
scale          = 0.5, 0.5
sprpriority    = -1
ownpal         = 1
bindtime       = -1
removetime     = -2
supermovetime  = 0
pausemovetime  = 0
removeongethit = 0
Persistent     = 0
ID             = 1402

[State 1400, エフェクト③／残像]
type           = Explod
trigger1       = AnimElem = 7, = 0
anim           = 1403
pos            = 0,0
postype        = p1
scale          = 0.5, 0.5
sprpriority    = -1
ownpal         = 1
bindtime       = -1
removetime     = -2
supermovetime  = 0
pausemovetime  = 0
removeongethit = 0
Persistent     = 0
ID             = 1403

[State 1400, エフェクト④／残像]
type           = Explod
trigger1       = AnimElem = 9, = 0
anim           = 1404
pos            = 0,0
postype        = p1
scale          = 0.5, 0.5
sprpriority    = -1
ownpal         = 1
bindtime       = -1
removetime     = -2
supermovetime  = 0
pausemovetime  = 0
removeongethit = 0
Persistent     = 0
ID             = 1404

[State 1400, エフェクト⑤／残像]
type           = Explod
trigger1       = AnimElem = 11, = 0
anim           = 1405
pos            = 0,0
postype        = p1
scale          = 0.5, 0.5
sprpriority    = -1
ownpal         = 1
bindtime       = -1
removetime     = -2
supermovetime  = 0
pausemovetime  = 0
removeongethit = 0
Persistent     = 0
ID             = 1405

[State 1400, エフェクト⑥／残像]
type           = Explod
trigger1       = AnimElem = 13, = 0
anim           = 1406
pos            = 0,0
postype        = p1
scale          = 0.5, 0.5
sprpriority    = -1
ownpal         = 1
bindtime       = -1
removetime     = -2
supermovetime  = 0
pausemovetime  = 0
removeongethit = 0
Persistent     = 0
ID             = 1406

[State 1400, エフェクト⑦／オーラ]
type           = Explod
trigger1       = AnimElem = 1, = 0
anim           = 1407
pos            = ceil(11.0/2.0), ceil(10.0/2.0)
postype        = p1
scale          = 2.0/2.0, 0.03125/2.0
sprpriority    = -1
ownpal         = 1
bindtime       = -1
removetime     = 42
supermovetime  = 0
pausemovetime  = 0
removeongethit = 0
Persistent     = 0
ID             = 1407

[State 1400, エフェクト⑦／オーラ]
type           = Explod
trigger1       = AnimElem = 4, = 0
anim           = 1407
pos            = ceil(11.0/2.0), ceil(10.0/2.0)
postype        = p1
scale          = 2.0/2.0, 0.03125/2.0
sprpriority    = -1
ownpal         = 1
bindtime       = -1
removetime     = 42
supermovetime  = 0
pausemovetime  = 0
removeongethit = 0
Persistent     = 0
ID             = 1408

[State 1400, エフェクト⑧／オーラ]
type           = Explod
trigger1       = AnimElem = 1, = 0
anim           = 1407
pos            = ceil(11.0/2.0), ceil(10.0/2.0)
postype        = p1
scale          = 0.492188/2.0, 0.0625/2.0
sprpriority    = -1
ownpal         = 1
bindtime       = -1
removetime     = 42
supermovetime  = 0
pausemovetime  = 0
removeongethit = 0
Persistent     = 0
ID             = 1409

[State 1400, エフェクト⑧／オーラ]
type           = Explod
trigger1       = AnimElem = 3, = 0
anim           = 1407
pos            = ceil(-40.0/2.0), ceil(10.0/2.0)
postype        = p1
scale          = 0.492188/2.0, 0.0625/2.0
sprpriority    = -1
ownpal         = 1
bindtime       = -1
removetime     = 42
supermovetime  = 0
pausemovetime  = 0
removeongethit = 0
Persistent     = 0
ID             = 1410

[State 1400, エフェクト⑧／オーラ]
type           = Explod
trigger1       = AnimElem = 5, = 0
anim           = 1407
pos            = ceil(40.0/2.0), ceil(10.0/2.0)
postype        = p1
scale          = 0.492188/2.0, 0.0625/2.0
sprpriority    = -1
ownpal         = 1
bindtime       = -1
removetime     = 42
supermovetime  = 0
pausemovetime  = 0
removeongethit = 0
Persistent     = 0
ID             = 1411

[State 1400, エフェクト設定変更]
type     = ModifyExplod
trigger1 = NumExplod(1407)
ID       = 1407
scale    = 2.0/2.0, (0.03125+0.03125*AnimElemTime(1))/2.0
Trans    = AddAlpha
Alpha    = ceil(256-256.0/42*AnimElemTime(1)), 256

[State 1400, エフェクト設定変更]
type     = ModifyExplod
trigger1 = NumExplod(1408)
ID       = 1408
scale    = 2.0/2.0, (0.03125+0.03125*AnimElemTime(4))/2.0
Trans    = AddAlpha
Alpha    = ceil(256-256.0/42*AnimElemTime(4)), 256

[State 1400, エフェクト設定変更]
type     = ModifyExplod
trigger1 = NumExplod(1409)
ID       = 1409
scale    = (0.492188-0.007813*AnimElemTime(1))/2.0, (0.0625+0.0625*AnimElemTime(1))/2.0
Trans    = AddAlpha
Alpha    = ceil(256-256.0/42*AnimElemTime(1)), 256

[State 1400, エフェクト設定変更]
type     = ModifyExplod
trigger1 = NumExplod(1410)
ID       = 1410
scale    = (0.492188-0.007813*AnimElemTime(3))/2.0, (0.0625+0.0625*AnimElemTime(3))/2.0
Trans    = AddAlpha
Alpha    = ceil(256-256.0/42*AnimElemTime(3)), 256

[State 1400, エフェクト設定変更]
type     = ModifyExplod
trigger1 = NumExplod(1411)
ID       = 1411
scale    = (0.492188-0.007813*AnimElemTime(5))/2.0, (0.0625+0.0625*AnimElemTime(5))/2.0
Trans    = AddAlpha
Alpha    = ceil(256-256.0/42*AnimElemTime(5)), 256

[State 1400, 天破の構え効果セット]
type     = VarSet
trigger1 = AnimElem = 10, = 0
var(29)  = var(29)%10000 + 1200 * 10000

[State 1400, ブーストゲージ増加／攻撃レベル？]
type       = VarAdd
triggerall = RoundState = 2 && NumHelper(10000)
triggerall = !var(9)
trigger1   = AnimElem = 10, = 0
var(8)     = floor(11.0*fvar(12)/fvar(13)+0.5)
Persistent = 0

[State -2, オーラゲージ増加／攻撃レベル？]
type       = PowerAdd
triggerall = RoundState = 2 && NumHelper(10000)
triggerall = !var(6)
trigger1   = AnimElem = 10, = 0
value      = floor(12.8*fvar(3)*fvar(11)+0.5)
Persistent = 0

[State 1400, AttackDist]
type     = AttackDist
trigger1 = 1
value    = 0

[State 1400, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━─────────────────────┫移動ブースト┣
[State 1400, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 1400, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 1400, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 1400, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 1400, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 1400, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 1400, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 1400, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┳━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━
;┃北斗有情猛翔破（弱）┃
;┻━━━━━━━━━━┻━━━━━━━━━━━━━━━━━━
[Statedef 1500]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 1500+1*(Helper(10000),var(40)!=0&&var(10))

[State 1500, エフェクト①]
type          = Helper
trigger1      = AnimElem = 1
helpertype    = Normal
name          = "hand_aftereffect"
ID            = 1501
stateno       = 1501
pos           = ceil(95.0/2.0), ceil(-310.0/2.0)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1500, エフェクト②]
type           = Explod
trigger1       = AnimElem = 1
anim           = 1503
pos            = ceil(-42.0/2.0), ceil(-128.0/2.0)
postype        = p1
scale          = 0.625, 0.625
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 2
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 1
Persistent     = 0
ID             = 1502

[State 1500, エフェクト③]
type          = Helper
trigger1      = AnimElem = 2
helpertype    = Normal
name          = "ujou1"
ID            = 1502
stateno       = 1502
pos           = ceil(-36.0/2.0), ceil(-155.0/2.0)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1500, エフェクト④]
type          = Helper
trigger1      = AnimElem = 4
helpertype    = Normal
name          = "ujou2"
ID            = 1503
stateno       = 1502
pos           = ceil(77.0/2.0), ceil(-239.0/2.0)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1500, エフェクト⑤]
type          = Helper
trigger1      = AnimElem = 2
helpertype    = Normal
name          = "ujou_hand"
ID            = 1504
stateno       = 1503
pos           = ceil(-23.0/2.0), ceil(-135.0/2.0)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1500, エフェクト設定変更]
type     = ModifyExplod
trigger1 = NumExplod(1501)
trigger1 = AnimElemNo(0) >= 5
ID       = 1501
scale    = (1.0-0.125*AnimElemTime(5))/2.0, (1.0-0.125*AnimElemTime(5))/2.0

[State 1500, サウンド]
type     = PlaySnd
trigger1 = Anim = [1500,1501]
value    = 1501, 0
Persistent = 0

[State 1500, ヒット定義／攻撃レベル４①]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25) && var(23) = 0 && var(3) = 0
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, SA
hitflag           = MAF
guardflag         = M
animtype          = Up
damage            = ceil((floor(24*fvar(0))+(floor(24*fvar(0))=0))*fvar(10)), ceil((floor(24*0.24)+(floor(24*0.24)=0))*fvar(10))+ceil((floor(24*0.24*0.5)+(floor(24*0.24*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = -4.0*0.5, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = (-8.0*0.5+(8.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 0
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1500, ヒット定義／攻撃レベル４②]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25) && var(23) >= 1
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, SA
hitflag           = MAF
guardflag         = M
animtype          = Hard
damage            = ceil((floor(24*fvar(0))+(floor(24*fvar(0))=0))*fvar(10)), ceil((floor(24*0.24)+(floor(24*0.24)=0))*fvar(10))+ceil((floor(24*0.24*0.5)+(floor(24*0.24*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = -4.0*0.5, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = (-8.0*0.5+(8.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 0
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1500, ヒット定義／攻撃レベル４／カウンターヒット]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25) && !var(23) && var(3) = 1
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, SA
hitflag           = MAF
guardflag         = M
animtype          = DiagUp
damage            = ceil((floor(24*fvar(0))+(floor(24*fvar(0))=0))*fvar(10)), ceil((floor(24*0.24)+(floor(24*0.24)=0))*fvar(10))+ceil((floor(24*0.24*0.5)+(floor(24*0.24*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = 0, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = 0, fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 0
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1500, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 5, >= 0
value    = 0

[State 1500, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(0) >= 3 || var(0) >= 2 && var(29)/10000
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 1500, ヒットエフェクト]
type          = Helper
trigger1      = movehit = 1
helpertype    = Normal
name          = "hit"
ID            = 6215
stateno       = 6215
pos           = floor(P2Dist X/2 +20), floor(P2Dist Y/2 -140)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
;Persistent     = 0

[State 1500, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6270
pos            = floor(P2Dist X/2 +20), floor(P2Dist Y/2 -140)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 16
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
;Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6270

[State 1500, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +20), floor(P2Dist Y/2 -140)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1500, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000) && AnimElemNo(0) = 3
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/2 -140)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1500, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 1500, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(fvar(17)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 1500, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 1500, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 1500, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 1500, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 1500, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 1500, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 1500, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 1500, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 1500, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬───────┬─────────────────────
;｜北斗有情猛翔破｜エフェクト／残像
;┴───────┴─────────────────────
[Statedef 1501]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 1502
sprpriority = 3

[State 1501, 透過設定]
type     = Trans
trigger1 = 1
Trans    = AddAlpha
Alpha    = 256, 256

[State 1501, 座標設定]
type     = BindToRoot
trigger1 = 1
pos      = 95.0/2.0, -310.0/2.0
IgnoreHitPause = 1

[State 1501, アニメ変更①]
type     = ChangeAnim
trigger1 = root,stateno = 1500
value    = Anim
elem     = ifelse(root,AnimElemNo(0)>=4, 4, root,AnimElemNo(0))

[State 1501, アニメ変更①]
type     = ChangeAnim
trigger1 = root,stateno = 1505
value    = Anim
elem     = ifelse(root,AnimElemNo(0)>=4, 5, root,AnimElemNo(0))

[State 1501, アニメ変更②]
type     = ChangeAnim
trigger1 = root,stateno = 1510
value    = Anim
elem     = ifelse(root,AnimElemNo(0)>=5, 5, root,AnimElemNo(0))

[State 1501, アニメ変更④]
type     = ChangeAnim
trigger1 = root,stateno = 1515
value    = Anim
elem     = ifelse(root,AnimElemNo(0)>=5, 5, root,AnimElemNo(0))

[State 1501, 拡縮設定①]
type     = AngleDraw
trigger1 = root,stateno = 1500
trigger1 = root,AnimElemNo(0) >= 5
trigger1 = root,AnimElemTime(5) <= 8
scale    = 1.0-0.125*root,AnimElemTime(5), 1.0-0.125*root,AnimElemTime(5)

[State 1501, 拡縮設定①]
type     = AngleDraw
trigger1 = root,stateno = 1510
trigger1 = root,AnimTime >= -8
scale    = 1.0-0.125*(8+root,AnimTime), 1.0-0.125*(8+root,AnimTime)

[State 1501, 拡縮設定①]
type     = AngleDraw
trigger1 = root,stateno = 1505 || root,stateno = 1515
trigger1 = ceil(root,Vel Y / -0.55) < 8
trigger1 = root,Vel Y < 0
scale    = 1.0-0.125*(8-ceil(root,Vel Y/-0.55)), 1.0-0.125*(8-ceil(root,Vel Y/-0.55))

[State 1501, 拡縮設定②]
type     = AngleDraw
trigger1 = IsHelper(1511)
trigger1 = AnimElemNo(0) >= 28
scale    = (1.0-0.2*(AnimElemNo(0)-27)), (1.0-0.2*(AnimElemNo(0)-27))

[State 1501, DestroySelf]
type     = DestroySelf
trigger1 = !((root,stateno = [1500,1515]) && root,stateno%5 = 0)
trigger2 = root,stateno = 1500
trigger2 = root,AnimElemTime(5) >= 9

;┬───────┬─────────────────────
;｜北斗有情猛翔破｜エフェクト／星
;┴───────┴─────────────────────
[Statedef 1502]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 1503
sprpriority = 3

;━─────────────────────┫フラグ設定┣
[State 1502, フラグ／影消去]
type     = AssertSpecial
trigger1 = 1
flag     = noshadow

[State 1502, 無敵]
type     = NotHitBy
trigger1 = 1
value    = SCA

;━─────────────────────┫拡縮設定┣
[State 1502, 拡縮設定]
type     = AngleDraw
trigger1 = 1
scale    = 1.0-0.03125*Time, 1.0-0.03125*Time

;━─────────────────────┫透過設定┣
[State 1502, 透過設定]
type     = Trans
trigger1 = 1
trans    = AddAlpha
alpha    = 256, 256

[State 1502, ヘルパー消去]
type     = destroyself
trigger1 = 1.0-0.03125*Time <= 0

;┬───────┬─────────────────────
;｜北斗有情猛翔破｜エフェクト／追随する星
;┴───────┴─────────────────────
[Statedef 1503]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 1503
sprpriority = 3

;━─────────────────────┫座標設定┣
[State 1503, 座標固定①]
type     = BindToRoot
trigger1 = root,AnimElemNo(0) = 2
pos      = -23.0/2.0, -135.0/2.0

[State 1503, 座標固定②]
type     = BindToRoot
trigger1 = root,AnimElemNo(0) = 3
pos      = 76.0/2.0, -170.0/2.0

[State 1503, 座標固定③]
type     = BindToRoot
trigger1 = root,AnimElemNo(0) = 4
pos      = 89.0/2.0, -305.0/2.0

[State 1503, 座標固定④]
type     = BindToRoot
trigger1 = root,stateno != 1500
trigger1 = root,AnimElemNo(0) = 5-(root,stateno=1505)
pos      = 37.0/2.0, -320.0/2.0

;━─────────────────────┫フラグ設定┣
[State 1503, フラグ／影消去]
type     = AssertSpecial
trigger1 = 1
flag     = noshadow

[State 1503, 無敵]
type     = NotHitBy
trigger1 = 1
value    = SCA

;━─────────────────────┫角度／拡縮設定┣
[State 1503, 角度設定①]
type     = VarSet
trigger1 = root,AnimElemNo(0) = 2
var(0)   = -30
Persistent = 0

[State 1503, 角度設定②]
type     = VarSet
trigger1 = root,AnimElemNo(0) = 3
var(0)   = -60
Persistent = 0

[State 1503, 角度設定③]
type     = VarSet
trigger1 = root,AnimElemNo(0) = 4
var(0)   = 0
Persistent = 0

[State 1503, 角度設定④]
type     = VarSet
trigger1 = root,stateno != 1500
trigger1 = root,AnimElemNo(0) = 5-(root,stateno=1505)
var(0)   = 20
Persistent = 0

[State 1503, 角度設定⑤]
type     = VarAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = root,stateno = 1500
trigger1 = root,movecontact != [1,root,var(18)]
trigger1 = root,AnimElemTime(4) >= 1
var(0)   = -10

[State 1503, 角度設定⑥]
type     = VarAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = root,stateno != 1500
trigger1 = root,movecontact != [1,root,var(18)]
trigger1 = root,AnimElemTime(5) >= 1
var(0)   = -10

[State 1503, 拡縮設定①]
type     = VarSet
trigger1 = root,AnimElemNo(0) = 2
fvar(0)  = 1.5
Persistent = 0

[State 1503, 拡縮設定②]
type     = VarSet
trigger1 = root,AnimElemNo(0) = 3
fvar(0)  = 1.75
Persistent = 0

[State 1503, 拡縮設定③]
type     = VarSet
trigger1 = root,AnimElemNo(0) = 4
fvar(0)  = 2.0
Persistent = 0

[State 1503, 拡縮設定④]
type     = VarAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = root,stateno = 1500
trigger1 = root,movecontact != [1,root,var(18)]
trigger1 = root,AnimElemTime(4) >= 1
fvar(0)  = -0.125

[State 1503, 拡縮設定③]
type     = VarAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = root,stateno != 1500
trigger1 = root,movecontact != [1,root,var(18)]
trigger1 = root,AnimElemNo(0) >= 5
fvar(0)  = -2.0/24.0

[State 1503, AngleDraw]
type     = AngleDraw
trigger1 = 1
value    = var(0)
scale    = fvar(0), fvar(0)

;━─────────────────────┫透過設定┣
[State 1503, 透過設定]
type     = Trans
trigger1 = 1
trans    = AddAlpha
alpha    = 256, 256

[State 1503, ヘルパー消去]
type     = destroyself
trigger1 = fvar(0) <= 0
trigger2 = !((root,stateno = [1500,1515]) && root,stateno%5 = 0)

;┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━
;┃北斗有情猛翔破（弱・空中）┃
;┻━━━━━━━━━━━━━┻━━━━━━━━━━━━━━━
[Statedef 1505]
type     = A
movetype = A
physics  = N
ctrl     = 0
facep2   = 1
anim     = 1505

[State 1505, ノックバック基礎値／リセット]
type     = VarSet
trigger1 = Time = 0
trigger1 = EnemyNear,BackEdgeBodyDist <= 5 || EnemyNear,FrontEdgeBodyDist <= 5 || var(14) = 1
fvar(16) = 0

[State 1500, エフェクト①]
type          = Helper
trigger1      = AnimElem = 1
helpertype    = Normal
name          = "hand_aftereffect"
ID            = 1501
stateno       = 1501
pos           = 95.0/2.0, -310.0/2.0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1505, エフェクト②]
type           = Explod
trigger1       = AnimElem = 1
anim           = 1503
pos            = -42.0/2.0, -128.0/2.0
postype        = p1
scale          = 0.625, 0.625
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 2
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 1
Persistent     = 0
ID             = 1502

[State 1505, エフェクト③]
type          = Helper
trigger1      = AnimElem = 2
helpertype    = Normal
name          = "ujou1"
ID            = 1502
stateno       = 1502
pos           = -36.0/2.0, -155.0/2.0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1515, エフェクト⑤]
type          = Helper
trigger1      = AnimElem = 5, = 5
helpertype    = Normal
name          = "ujou3"
ID            = 1503
stateno       = 1502
pos           = 67.0/2.0, -278.0/2.0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1515, エフェクト⑤]
type          = Helper
trigger1      = AnimElem = 5, = 10
helpertype    = Normal
name          = "ujou4"
ID            = 1503
stateno       = 1502
pos           = 67.0/2.0, -278.0/2.0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1505, エフェクト⑤]
type          = Helper
trigger1      = AnimElem = 2
helpertype    = Normal
name          = "ujou_hand"
ID            = 1504
stateno       = 1503
pos           = -23.0/2.0, -135.0/2.0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1505, エフェクト設定変更]
type     = ModifyExplod
trigger1 = NumExplod(1501)
trigger1 = AnimElemNo(0) >= 5
ID       = 1501
scale    = (1.0-0.125*AnimElemTime(5))*0.5, (1.0-0.125*AnimElemTime(5))*0.5

[State 1505, 速度設定]
type     = VelSet
trigger1 = !Time
x	 = 0
y	 = 0

[State 1505, 速度設定]
type     = VelSet
trigger1 = AnimElem = 4, = 1
y	 = -24.0/2.0
Persistent = 0

[State 1505, 速度設定]
type     = VelAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 4, >= 1
trigger1 = movecontact != [1,var(18)]
y	 = 1.10/2.0

[State 1505, 速度設定]
type     = null
trigger1 = !Time
trigger1 = fvar(4) := 12.0/2.0

[State 1505, 速度設定]
type     = VarSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 4, >= 2
trigger1 = movecontact != [1,var(18)]
fvar(4)  = fvar(4)*0.9

[State 1505, 座標移動]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 4, >= 1
trigger1 = movecontact != [1,var(18)]
x	 = fvar(4)

[State 1505, 擬似速度設定]
type     = VelSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 4, >= 1
trigger1 = movecontact != [1,var(18)]
trigger1 = var(20) = 0
x        = fvar(4)/Const(movement.stand.friction)

[State 1505, 座標軸調整]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 4, >= 1
trigger1 = movecontact != [1,var(18)]
trigger1 = var(20) = 0
x        = -fvar(4)/Const(movement.stand.friction)

[State 1505, 無敵]
type     = NotHitBy
trigger1 = AnimElemNo(0) <= 2
value    = SCA

[State 1505, サウンド]
type     = PlaySnd
trigger1 = Anim = 1505
value    = 1501, 0
Persistent = 0

[State 1505, 攻撃フラグリセット]
type     = MoveHitReset
trigger1 = AnimElem = 4
Persistent = 0

[State 1505, ヒット定義／攻撃レベル４①]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25) && !var(23) && !(var(3) = 1 && !var(10))
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = A, SA
hitflag           = MAF
guardflag         = MA
animtype          = Up
damage            = ceil((floor(12*fvar(0))+(floor(12*fvar(0))=0))*fvar(10)), ceil((floor(12*0.2)+(floor(12*0.2)=0))*fvar(10))+ceil((floor(12*0.2*0.5)+(floor(12*0.2*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = -4.0*0.5, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = (-4.0*0.5+(4.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 45+(var(15)*0)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1505, ヒット定義／攻撃レベル４②]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25) && var(23)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = A, SA
hitflag           = MAF
guardflag         = MA
animtype          = Hard
damage            = ceil((floor(12*fvar(0))+(floor(12*fvar(0))=0))*fvar(10)), ceil((floor(12*0.2)+(floor(12*0.2)=0))*fvar(10))+ceil((floor(12*0.2*0.5)+(floor(12*0.2*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = -4.0*0.5, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = (-4.0*0.5+(4.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 45+(var(15)*0)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1505, ヒット定義／攻撃レベル４／カウンターヒット]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25) && var(3) = 1 && !var(10)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = A, SA
hitflag           = MAF
guardflag         = MA
animtype          = DiagUp
damage            = ceil((floor(12*fvar(0))+(floor(12*fvar(0))=0))*fvar(10)), ceil((floor(12*0.2)+(floor(12*0.2)=0))*fvar(10))+ceil((floor(12*0.2*0.5)+(floor(12*0.2*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = 0, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = 0, fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 45+(var(15)*0)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1505, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(0) >= 3 || var(0) >= 2 && var(29)/10000
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 1505, ヒットエフェクト]
type          = Helper
trigger1      = movehit = 1
helpertype    = Normal
name          = "hit"
ID            = 6215
stateno       = 6215
pos           = floor(P2Dist X/2 +30-20*(AnimElemNo(0)=4)), floor(P2Dist Y/2 -110-40*(AnimElemNo(0)=4))
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
;Persistent     = 0

[State 1505, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6270
pos            = floor(P2Dist X/2 +30-20*(AnimElemNo(0)=4)), floor(P2Dist Y/2 -110-40*(AnimElemNo(0)=4))
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 16
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
;Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6270

[State 1505, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +30-20*(AnimElemNo(0)=4)), floor(P2Dist Y/2 -110-40*(AnimElemNo(0)=4))
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1505, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000) && AnimElemNo(0) = 3
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/2 -110-40*(AnimElemNo(0)=4))
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1505, ステート変更]
type     = ChangeState
trigger1 = Vel Y > 0
value    = 1506

;━──────────────────┫キャンセルブースト┣
[State 1505, ステート変更]
type     = ChangeState
trigger1 = 0
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(fvar(17)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 4, >= 1 && var(0) >= 1
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 1505, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 1505, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 1505, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 1505, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 1505, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 1505, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 1505, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 1505, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

;┬──────────┬──────────────────
;｜北斗有情猛翔破・落下｜
;┴──────────┴──────────────────
[Statedef 1506]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 1506
movehitpersist = 1

[State 1506, 速度設定]
type     = VelSet
trigger1 = !Time
trigger1 = var(20) = 0
x	 = 0

[State 1506, 重力]
type     = VelAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = movecontact != [1,var(18)]
trigger1 = Time >= 1
y	 = 1.50/2.0

[State 1506, 座標設定]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = movecontact != [1,var(18)]
y	 = Vel Y

[State 1506, 座標設定]
type     = PosSet
trigger1 = Pos Y >= 0
y	 = 0

[State 1506, ステート変更]
type     = ChangeState
trigger1 = Pos Y >= 0
value    = 1507

[State 1506, 座標軸調整]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = movecontact != [1,var(18)]
y	 = -Vel Y

;━──────────────────┫キャンセルブースト┣
[State 1506, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(fvar(17)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = var(0) >= 1
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 1506, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 1506, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 1506, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 1506, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 1506, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 1506, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 1506, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 1506, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

;┬──────────┬──────────────────
;｜北斗有情猛翔破・着地｜
;┴──────────┴──────────────────
[Statedef 1507]
type     = S
movetype = I
physics  = N
ctrl     = 0
anim     = 1507

[State 1507, 速度設定]
type     = VelSet
trigger1 = !Time
y	 = 0

[State 1507, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 1507, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(fvar(17)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = var(0) >= 1
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 1507, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 1507, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 1507, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 1507, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 1507, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 1507, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 1507, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 1507, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

;┳━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━
;┃北斗有情猛翔破（強）┃
;┻━━━━━━━━━━┻━━━━━━━━━━━━━━━━━━
[Statedef 1510]
type     = S
movetype = A
physics  = N
ctrl     = 0
facep2   = 1
anim     = 1510

[State 1500, エフェクト①]
type          = Helper
trigger1      = AnimElem = 1
helpertype    = Normal
name          = "hand_aftereffect"
ID            = 1511
stateno       = 1501
pos           = ceil(95.0/2.0), ceil(-310.0/2.0)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1510, エフェクト②]
type           = Explod
trigger1       = AnimElem = 1
anim           = 1503
pos            = ceil(-42.0/2.0), ceil(-128.0/2.0)
postype        = p1
scale          = 0.625, 0.625
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 3
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 1
Persistent     = 0
ID             = 1502

[State 1510, エフェクト③]
type          = Helper
trigger1      = AnimElem = 2
helpertype    = Normal
name          = "ujou1"
ID            = 1502
stateno       = 1502
pos           = ceil(-36.0/2.0), ceil(-155.0/2.0)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1510, エフェクト④]
type          = Helper
trigger1      = AnimElem = 4
helpertype    = Normal
name          = "ujou2"
ID            = 1503
stateno       = 1502
pos           = ceil(77.0/2.0), ceil(-239.0/2.0)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 0
pausemovetime = 0
IgnoreHitPause = 1
Persistent     = 0

[State 1510, エフェクト⑤]
type          = Helper
trigger1      = AnimElemTime(5) = 13
helpertype    = Normal
name          = "ujou2"
ID            = 1503
stateno       = 1502
pos           = ceil(67.0/2.0), ceil(-278.0/2.0)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 0
pausemovetime = 0
IgnoreHitPause = 1
Persistent     = 0

[State 1510, エフェクト⑥]
type          = Helper
trigger1      = AnimElem = 2
helpertype    = Normal
name          = "ujou_hand"
ID            = 1504
stateno       = 1503
pos           = ceil(-23.0/2.0), ceil(-135.0/2.0)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1510, エフェクト設定変更]
type     = ModifyExplod
trigger1 = NumExplod(1501)
trigger1 = AnimElemNo(0) >= 5
ID       = 1501
scale    = (1.0-0.125*AnimElemTime(5))*0.5, (1.0-0.125*AnimElemTime(5))*0.5

[State 1510, 速度設定]
type     = VelSet
trigger1 = var(15) = 0
trigger1 = AnimElem = 5 = 2
y	 = -26.0/2.0+1.10/2.0

[State 1510, 速度設定]
type     = VelAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 5, >= 6
trigger1 = movecontact != [1,var(18)]
y        = 1.10/2.0

[State 1510, 速度設定]
type     = null
trigger1 = !Time
trigger1 = fvar(4) := 16.0/2.0

[State 1510, 速度設定]
type     = VarSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 5, >= 3
trigger1 = movecontact != [1,var(18)]
fvar(4)  = fvar(4)*0.9

[State 1510, 座標移動]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 5, >= 2
trigger1 = movecontact != [1,var(18)]
x	 = fvar(4)

[State 1510, 擬似速度設定]
type     = VelSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 5, >= 2
trigger1 = movecontact != [1,var(18)]
trigger1 = var(20) = 0
x        = fvar(4)/Const(movement.stand.friction)

[State 1510, 座標軸調整]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 5, >= 2
trigger1 = movecontact != [1,var(18)]
trigger1 = var(20) = 0
x        = -fvar(4)/Const(movement.stand.friction)

[State 1510, 状態設定]
type     = StateTypeSet
trigger1 = AnimElemNo(0) = 5
statetype = A
physics = N

[State 1510, サウンド]
type     = PlaySnd
trigger1 = Anim = 1510
value    = 1501, 0
Persistent = 0

[State 1510, 無敵]
type     = HitBy
trigger1 = AnimElemNo(0) <= 3
value    = SCA, AT

[State 1510, 攻撃フラグリセット]
type     = MoveHitReset
trigger1 = AnimElem = 4, = 0
Persistent = 0

[State 1510, 攻撃フラグリセット]
type     = MoveHitReset
trigger1 = AnimElem = 5, = 0
Persistent = 0

[State 1510, HitDef上書き]
type          = ReversalDef
trigger1      = 1
reversal.attr = ;SCA, AA
pausetime     = 0, 0

[State 1510, ヒット定義／攻撃レベル４／地上／①]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25) && !var(23)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, SA
hitflag           = MAF
guardflag         = M
animtype          = Up
damage            = ceil((floor(7*fvar(0))+(floor(7*fvar(0))=0))*fvar(10)), ceil((floor(7*0.1)+(floor(7*0.1)=0))*fvar(10))+ceil((floor(7*0.1*0.5)+(floor(7*0.1*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = -4.0*0.5, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = (-4.0*0.5+(4.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 0
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1510, ヒット定義／攻撃レベル４／地上／②]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25) && var(23) >= 1
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, SA
hitflag           = MAF
guardflag         = M
animtype          = Hard
damage            = ceil((floor(7*fvar(0))+(floor(7*fvar(0))=0))*fvar(10)), ceil((floor(7*0.1)+(floor(7*0.1)=0))*fvar(10))+ceil((floor(7*0.1*0.5)+(floor(7*0.1*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = -4.0*0.5, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = (-4.0*0.5+(4.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 0
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1510, ヒット定義／攻撃レベル４／地上／カウンターヒット]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25) && !var(23) && var(3) = 1 && !var(10)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, SA
hitflag           = MAF
guardflag         = M
animtype          = DiagUp
damage            = ceil((floor(7*fvar(0))+(floor(7*fvar(0))=0))*fvar(10)), ceil((floor(7*0.1)+(floor(7*0.1)=0))*fvar(10))+ceil((floor(7*0.1*0.5)+(floor(7*0.1*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = 0, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = 0, fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 0
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1510, ヒット定義／攻撃レベル４／空中／①]
type              = HitDef
trigger1          = AnimElemNo(0) = 5
trigger1          = !movecontact && !MoveReversed && !var(25) && !var(23)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = A, SA
hitflag           = MAF
guardflag         = M
animtype          = Up
damage            = ceil((floor(7*fvar(0))+(floor(7*fvar(0))=0))*fvar(10)), ceil((floor(7*0.1)+(floor(7*0.1)=0))*fvar(10))+ceil((floor(7*0.1*0.5)+(floor(7*0.1*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = -8.0*0.5, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = (-8.0*0.5+(8.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 0
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1510, ヒット定義／攻撃レベル４／空中／②]
type              = HitDef
trigger1          = AnimElemNo(0) = 5
trigger1          = !movecontact && !MoveReversed && !var(25) && var(23) >= 1
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = A, SA
hitflag           = MAF
guardflag         = M
animtype          = Hard
damage            = ceil((floor(7*fvar(0))+(floor(7*fvar(0))=0))*fvar(10)), ceil((floor(7*0.1)+(floor(7*0.1)=0))*fvar(10))+ceil((floor(7*0.1*0.5)+(floor(7*0.1*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = -8.0*0.5, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = (-8.0*0.5+(8.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 0
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1510, ヒット定義／攻撃レベル４／空中／カウンターヒット]
type              = HitDef
trigger1          = AnimElemNo(0) = 5
trigger1          = !movecontact && !MoveReversed && !var(25) && !var(23) && var(3) = 1 && !var(10)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = A, SA
hitflag           = MAF
guardflag         = M
animtype          = DiagUp
damage            = ceil((floor(7*fvar(0))+(floor(7*fvar(0))=0))*fvar(10)), ceil((floor(7*0.1)+(floor(7*0.1)=0))*fvar(10))+ceil((floor(7*0.1*0.5)+(floor(7*0.1*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = 0, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = 0, fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 0
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1510, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(0) >= 3
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 1510, ヒットエフェクト]
type          = Helper
trigger1      = movehit = 1
helpertype    = Normal
name          = "hit"
ID            = 6215
stateno       = 6215
pos           = floor(P2Dist X/2 +30-30*(AnimElemNo(0)=5)), floor(P2Dist Y/2 -110+20*(AnimElemNo(0)=3))
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
;Persistent     = 0

[State 1510, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6270
pos            = floor(P2Dist X/2 +30-25*(AnimElemNo(0)=5)), floor(P2Dist Y/2 -110+20*(AnimElemNo(0)=3))
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 16
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
;Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6270

[State 1510, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +30-25*(AnimElemNo(0)=5)), floor(P2Dist Y/2 -110+20*(AnimElemNo(0)=3))
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1510, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000) && AnimElemNo(0) = 3
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/2 -110-10*(AnimElemNo(0)=5))
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1510, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
trigger2 = movehit = var(18)
trigger2 = AnimElemNo(0) = 5
trigger2 = var(15)
value    = 1506

;━──────────────────┫キャンセルブースト┣
[State 1510, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(fvar(17)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 5, >= 0 && movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 1510, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 1510, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 1510, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 1510, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 1510, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 1510, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 1510, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 1510, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 1510, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━
;┃北斗有情猛翔破（強・空中）┃
;┻━━━━━━━━━━━━━┻━━━━━━━━━━━━━━━
[Statedef 1515]
type     = A
movetype = A
physics  = N
ctrl     = 0
facep2   = 1
anim     = 1515

[State 1515, ノックバック基礎値／リセット]
type     = VarSet
trigger1 = Time = 0
trigger1 = EnemyNear,BackEdgeBodyDist <= 5 || EnemyNear,FrontEdgeBodyDist <= 5 || var(14) = 1
fvar(16) = 0

[State 1500, エフェクト①]
type          = Helper
trigger1      = AnimElem = 1
helpertype    = Normal
name          = "hand_aftereffect"
ID            = 1506
stateno       = 1501
pos           = 95.0/2.0, -310.0/2.0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1515, エフェクト②]
type           = Explod
trigger1       = AnimElem = 1
anim           = 1503
pos            = -42.0/2.0, -128.0/2.0
postype        = p1
scale          = 0.625, 0.625
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 2
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 1
Persistent     = 0
ID             = 1502

[State 1515, エフェクト③]
type          = Helper
trigger1      = AnimElem = 2
helpertype    = Normal
name          = "ujou1"
ID            = 1502
stateno       = 1502
pos           = -36.0/2.0, -155.0/2.0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1515, エフェクト④]
type          = Helper
trigger1      = AnimElem = 5, = 1
helpertype    = Normal
name          = "ujou2"
ID            = 1503
stateno       = 1502
pos           = 67.0/2.0, -278.0/2.0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1515, エフェクト⑤]
type          = Helper
trigger1      = AnimElem = 5, = 5
helpertype    = Normal
name          = "ujou3"
ID            = 1503
stateno       = 1502
pos           = 67.0/2.0, -278.0/2.0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1515, エフェクト⑤]
type          = Helper
trigger1      = AnimElem = 2
helpertype    = Normal
name          = "ujou_hand"
ID            = 1504
stateno       = 1503
pos           = -23.0/2.0, -135.0/2.0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1515, エフェクト設定変更]
type     = ModifyExplod
trigger1 = NumExplod(1501)
trigger1 = AnimElemNo(0) >= 5
ID       = 1501
scale    = (1.0-0.125*AnimElemTime(5))*0.5, (1.0-0.125*AnimElemTime(5))*0.5

[State 1515, 速度設定]
type     = VelSet
trigger1 = !Time
x	 = 0
y	 = 0

[State 1515, 速度設定]
type     = VelSet
trigger1 = AnimElem = 4, = 1
y	 = -28.0/2.0
Persistent = 0

[State 1515, 速度設定]
type     = VelAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 4, >= 1
trigger1 = movecontact != [1,var(18)]
y	 = 1.10/2.0

[State 1515, 速度設定]
type     = null
trigger1 = !Time
trigger1 = fvar(4) := 16.0/2.0

[State 1515, 速度設定]
type     = VarSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 4, >= 2
trigger1 = movecontact != [1,var(18)]
fvar(4)  = fvar(4)*0.9

[State 1515, 座標移動]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 4, >= 1
trigger1 = movecontact != [1,var(18)]
x	 = fvar(4)

[State 1515, 擬似速度設定]
type     = VelSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 4, >= 1
trigger1 = movecontact != [1,var(18)]
trigger1 = var(20) = 0
x        = fvar(4)/Const(movement.stand.friction)

[State 1515, 座標軸調整]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 4, >= 1
trigger1 = movecontact != [1,var(18)]
trigger1 = var(20) = 0
x        = -fvar(4)/Const(movement.stand.friction)

[State 1505, 無敵]
type     = NotHitBy
trigger1 = AnimElemNo(0) <= 3
value    = SCA

[State 1515, サウンド]
type     = PlaySnd
trigger1 = Anim = 1515
value    = 1501, 0
Persistent = 0

[State 1515, 攻撃フラグリセット]
type     = MoveHitReset
trigger1 = AnimElem = 4
Persistent = 0

[State 1515, 攻撃フラグリセット]
type     = MoveHitReset
trigger1 = AnimElem = 5
Persistent = 0

[State 1515, ヒット定義／攻撃レベル４①]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25) && !var(23)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = A, SA
hitflag           = MAF
guardflag         = MA
animtype          = Up
damage            = ceil((floor(7*fvar(0))+(floor(7*fvar(0))=0))*fvar(10)), ceil((floor(7*0.1)+(floor(7*0.1)=0))*fvar(10))+ceil((floor(7*0.1*0.5)+(floor(7*0.1*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = -4.0*0.5, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = (-4.0*0.5+(4.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 23+(var(15)*0)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1515, ヒット定義／攻撃レベル４②]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25) && var(23)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = A, SA
hitflag           = MAF
guardflag         = MA
animtype          = Hard
damage            = ceil((floor(7*fvar(0))+(floor(7*fvar(0))=0))*fvar(10)), ceil((floor(7*0.1)+(floor(7*0.1)=0))*fvar(10))+ceil((floor(7*0.1*0.5)+(floor(7*0.1*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = -4.0*0.5, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = (-4.0*0.5+(4.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 23+(var(15)*0)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1515, ヒット定義／攻撃レベル４／カウンターヒット]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25) && !var(23) && var(3) = 1 && !var(10)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = A, SA
hitflag           = MAF
guardflag         = MA
animtype          = DiagUp
damage            = ceil((floor(7*fvar(0))+(floor(7*fvar(0))=0))*fvar(10)), ceil((floor(7*0.1)+(floor(7*0.1)=0))*fvar(10))+ceil((floor(7*0.1*0.5)+(floor(7*0.1*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = 0, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = 0, fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 23+(var(15)*0)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1515, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(0) >= 3
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 1515, ヒットエフェクト]
type          = Helper
trigger1      = movehit = 1
helpertype    = Normal
name          = "hit"
ID            = 6215
stateno       = 6215
pos           = floor(P2Dist X/2 +30-30*(AnimElemNo(0)=5)), floor(P2Dist Y/2 -110-40*(AnimElemNo(0)>=4))
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
;Persistent     = 0

[State 1515, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6270
pos            = floor(P2Dist X/2 +30-30*(AnimElemNo(0)=5)), floor(P2Dist Y/2 -110-40*(AnimElemNo(0)>=4))
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 16
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
;Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6270

[State 1515, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +30-30*(AnimElemNo(0)=5)), floor(P2Dist Y/2 -110-40*(AnimElemNo(0)>=4))
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1515, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000) && AnimElemNo(0) = 3
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/2 -110-40*(AnimElemNo(0)>=4))
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1515, ステート変更]
type     = ChangeState
trigger1 = Vel Y > 0
value    = 1506

;━──────────────────┫キャンセルブースト┣
[State 1515, ステート変更]
type     = ChangeState
trigger1 = 0
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(fvar(17)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 4, >= 1 && var(0) >= 1
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 1515, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 1515, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 1515, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 1515, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 1515, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 1515, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 1515, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 1515, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

;┳━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━
;┃北斗蛇雷咬┃
;┻━━━━━┻━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1600]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
;anim     = 1600

[State 1600, アニメ変更]
type     = ChangeAnim
trigger1 = !Time
trigger1 = prevstateno != 1601
value    = 1600

[State 1600, アニメ変更]
type     = ChangeAnim
trigger1 = Anim = 1600 && AnimTime = 0
value    = 1601+1*(Helper(10000),var(40)!=0&&var(10))

[State 1600, サウンド]
type     = PlaySnd
trigger1 = prevstateno != 1601
trigger1 = Anim = [1601,1602]
value    = 1501, 0
Persistent = 0

[State 1600, エフェクト①]
type           = Explod
trigger1       = Anim = [1601,1602]
trigger1       = AnimElem = 2
anim           = 6100
pos            = 0, 0
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = -2
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 1
Persistent     = 0
ID             = 6100

[State 1600, エフェクト②]
type           = Explod
trigger1       = Anim = [1601,1602]
trigger1       = AnimElem = 3
anim           = 6100
pos            = 0, 0
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = -2
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 1
Persistent     = 0
ID             = 6100

[State 1600, エフェクト③]
type           = Explod
trigger1       = (Anim = [1601,1602])
trigger1       = AnimElem = 1
anim           = 1603
pos            = ceil(208/2.0), ceil(-309/2.0)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = -1
removetime     = -2
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 1
Persistent     = 0
Trans	       = AddAlpha
Alpha          = 256, 256
ID             = 1602

[State 1600, エフェクト設定変更]
type     = ModifyExplod
trigger1 = NumExplod(1602)
trigger1 = (Anim = [1601,1602]) && AnimElemNo(0) >= 3
ID	 = 1602
scale    = 1.0, 1.0
Trans    = AddAlpha
Alpha    = 256, 256

[State 1600, 速度設定]
type     = null
trigger1 = !Time
trigger1 = fvar(4) := 32.0/2.0
trigger2 = (Anim = [1601,1602]) && AnimElem = 4
trigger2 = fvar(4) := 0

[State 1600, 速度設定]
type     = VarSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = (Anim = [1601,1602]) && AnimElem = 1, >= 2
trigger1 = movecontact != [1,var(18)]
fvar(4)  = fvar(4)*0.9

[State 1600, 座標移動]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = var(4) != [-1,1]
trigger1 = (Anim = [1601,1602]) && AnimElem = 1, >= 1
trigger1 = movecontact != [1,var(18)]
x	 = fvar(4)

[State 1600, 擬似速度設定]
type     = VelSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = var(4) != [-1,1]
trigger1 = (Anim = [1601,1602]) && AnimElem = 1, >= 1
trigger1 = movecontact != [1,var(18)]
trigger1 = var(20) = 0
x        = fvar(4)/Const(movement.stand.friction)

[State 1600, 座標軸調整]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = var(4) != [-1,1]
trigger1 = (Anim = [1601,1602]) && AnimElem = 1, >= 1
trigger1 = movecontact != [1,var(18)]
trigger1 = var(20) = 0
x        = -fvar(4)/Const(movement.stand.friction)

[State 1600, HitOverride]
type       = HitOverride
triggerall = prevstateno != 1601
trigger1   = Anim = 1600
trigger2   = var(0) >= 1
trigger2   = (Anim = [1601,1602]) && AnimElemNo(0) <= 2
attr       = SA, NA
stateno    = 1601
time       = 1

[State 1600, ヒット定義／攻撃レベル５①]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25) && !var(23)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, SA
hitflag           = MAF
guardflag         = M
animtype          = Up
damage            = ceil((floor(24*fvar(0))+(floor(24*fvar(0))=0))*fvar(10)), ceil((floor(24*0.24)+(floor(24*0.24)=0))*fvar(10))+ceil((floor(24*0.24*0.5)+(floor(24*0.24*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(16*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(16*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 20+(P2StateType=C)
ground.hittime    = 20+(P2StateType=C)
guard.slidetime   = 18
guard.hittime     = 18
air.hittime       = 20
ground.velocity   = -4.0*0.5, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = (-4.0*0.5+(4.0-48.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 25+(var(15)*0)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1600, ヒット定義／攻撃レベル５②]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25) && var(23) >= 1
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, SA
hitflag           = MAF
guardflag         = M
animtype          = Hard
damage            = ceil((floor(24*fvar(0))+(floor(24*fvar(0))=0))*fvar(10)), ceil((floor(24*0.24)+(floor(24*0.24)=0))*fvar(10))+ceil((floor(24*0.24*0.5)+(floor(24*0.24*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(16*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(16*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 20+(P2StateType=C)
ground.hittime    = 20+(P2StateType=C)
guard.slidetime   = 18
guard.hittime     = 18
air.hittime       = 20
ground.velocity   = -4.0*0.5, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = (-4.0*0.5+(4.0-48.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 25+(var(15)*0)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1600, AttackDist]
type     = AttackDist
trigger1 = (Anim = [1601,1602])
trigger1 = AnimElem = 4, >= 0
value    = 0

[State 1600, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = fvar(20) := Target,Life
value    = -fvar(20)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 1600, ヒットエフェクト]
type          = Helper
trigger1      = movehit = 1
helpertype    = Normal
name          = "hit"
ID            = 6215
stateno       = 6215
pos           = floor(P2Dist X/2 +10+Random%11), floor(P2Dist Y/2 -50-Random%11)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
;Persistent     = 0

[State 1600, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6270
pos            = floor(P2Dist X/2 +10+Random%11), floor(P2Dist Y/2 -50-Random%11)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 16
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
;Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6270

[State 1600, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +10+Random%11), floor(P2Dist Y/2 -50-Random%11)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1600, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000) && AnimElemNo(0) = 3
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/2 -50-Random%11)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

;━──────────────────────┫キャンセル┣
[State 1600, 入力判定リセット／ステート内自由変数]
type     = VarSet
trigger1 = !Time
var(4)   = 9999

[State 1600, 入力判定／ステート内自由変数]
type       = VarSet
triggerall = movehit || var(0) >= 1 && movecontact
trigger1   = var(59) <= 0
trigger1   = (command = "holdup" || sysvar(2)%100/1 > 0)
var(4)     = 0+(command = "holdfwd")-(command = "holdback")

[State 1600, ハイジャンプ]
type       = VarSet
triggerall = movehit || var(0) >= 1 && movecontact
trigger1   = var(59) <= 0
trigger1   = (sysvar(2)%100/1 > 0)
var(2)     = 4

[State 1600, 速度設定]
type     = VelSet
trigger1 = RoundState = 2
trigger1 = movehit > var(18) || var(0) >= 1 && movecontact > var(18)
trigger1 = var(4) = [-1,1]
x	 = 0

[State 1600, エフェクト消去]
type     = RemoveExplod
trigger1 = RoundState = 2
trigger1 = movehit > var(18) || var(0) >= 1 && movecontact > var(18)
trigger1 = var(4) = [-1,1]
ID       = 1602

[State 1600, ジャンプキャンセル]
type     = ChangeState
trigger1 = RoundState = 2
trigger1 = movehit > var(18) || var(0) >= 1 && movecontact > var(18)
trigger1 = var(4) = [-1,1]
value    = 40

[State 1600, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 1600, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(fvar(17)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = Anim = 1601 && AnimElem = 4, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 1600, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 1600, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 1600, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 1600, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 1600, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 1600, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 1600, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 1600, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 1600, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬─────┬───────────────────────
;｜北斗蛇雷咬｜アーマー用ステート
;┴─────┴───────────────────────
[Statedef 1601]
type     = S
movetype = H
physics  = S
ctrl     = 0

[State 1601, 取捨選択]
type     = ChangeState
trigger1 = var(0) = 0
trigger1 = GetHitVar(HitTime) >= 20
trigger2 = Life <= 0
value    = PrevStateNo

[State 1601, アニメ固定]
type     = ChangeAnim
trigger1 = 1
value    = Anim
elem     = AnimElemNo(-1)

[State 1601, 座標軸固定]
type     = PosFreeze
trigger1 = !HitShakeOver
value    = 1

[State 1601, ステート変更]
type     = ChangeState
trigger1 = HitShakeOver
value    = 1600

;┳━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━
;┃北斗七死騎兵斬┃
;┻━━━━━━━┻━━━━━━━━━━━━━━━━━━━━━
[Statedef 1700]
type     = A
movetype = A
physics  = N
ctrl     = 0
facep2   = 1
anim     = 1700
movehitpersist = 1

[State 1700, 重力]
type     = Gravity
trigger1 = Time = 0 && prevstateno = 500

[State 1700, 座標軸設定]
type     = PosSet
trigger1 = Pos Y > 0
y        = 0
[State 1700, 速度設定]
type     = VelSet
trigger1 = Time = 0
trigger2 = Anim = 1700 && AnimTime = 0
x        = 0
y        = 0
[State 1700, ステート変更]
type     = ChangeState
trigger1 = Time = 1 && Pos Y >= 0
value    = 52
[State 1700, 攻撃フラグリセット]
type     = MoveHitReSet
trigger1 = Time = 0

[State 1700, ノックバック基礎値／リセット]
type     = VarSet
trigger1 = Time = 0
trigger1 = EnemyNear,BackEdgeBodyDist <= 5 || EnemyNear,FrontEdgeBodyDist <= 5 || var(14) = 1
fvar(16) = 0

[State 1700, アニメ変更]
type     = ChangeAnim
trigger1 = Anim = 1700 && AnimTime = 0
value    = 1701

[State 1700, PlaySnd]
type     = PlaySnd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = Anim = 1701 && AnimElemTime(1)%8 = 0
trigger1 = movecontact != [1,var(18)]
value    = 1301, 0

[State 1700, エフェクト①]
type          = Helper
trigger1      = Anim = 1701
helpertype    = Normal
name          = "effect"
ID            = 1702
stateno       = 1702
pos           = ceil(50.0/2.0), ceil(-158.0/2.0)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 0
pausemovetime = 0
IgnoreHitPause = 1
Persistent     = 0

[State 1700, 速度設定]
type     = VelSet
trigger1 = Anim = 1701 && AnimElem = 1, = 1
x	 = 20.0/2.0

[State 1700, 重力]
type     = VelAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = Anim = 1701 && AnimElemTime(1) >= 1
trigger1 = movecontact != [1,var(18)]
y	 = 1.10/2.0

[State 1700, 座標移動]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = movecontact != [1,var(18)]
x	 = Vel X
y	 = Vel Y

[State 1700, ヒット定義／攻撃レベル４]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = A, SA
hitflag           = MAF
guardflag         = HA
animtype          = Hard
damage            = ceil((floor(12*fvar(0))+(floor(12*fvar(0))=0))*fvar(10)), ceil((floor(12*0.2)+(floor(11*0.2)=0))*fvar(10))+ceil((floor(12*0.2*0.5)+(floor(12*0.2*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = 0, 0
air.velocity      = (-8.0*0.5+(8.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = 0.0, 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0
air.fall          = 1
fall.recover      = 0
fall.recovertime  = 26+(var(15)*9)+var(18)
;p1stateno         = 1705
ID                = stateno
ground.cornerpush.veloff = 0

[State 1700, ヘルパー／AttackDist制御]
type          = Helper
trigger1      = !NumHelper(699)
trigger1      = P2Dist X < Vel X
helpertype    = Normal
name          = "attackdist"
ID            = 699
stateno       = 699
pos           = 0, 0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 0
pausemovetime = 0

;━──────────────────────┫エフェクト┣
[State 1700, ヒットエフェクト]
type          = Helper
trigger1      = movehit = 1
helpertype    = Normal
name          = "hit"
ID            = 6215
stateno       = 6215
pos           = floor(P2Dist X/2 +10+Random%11), floor(P2Dist Y/2 -50-Random%11)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
;Persistent     = 0

[State 1700, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6270
pos            = floor(P2Dist X/2 +10+Random%11), floor(P2Dist Y/2 -50-Random%11)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 16
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
;Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6270

[State 1700, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +10+Random%11), floor(P2Dist Y/2 -50-Random%11)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1700, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/2 -50-Random%11)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1700, ステート変更①]
type     = ChangeState
trigger1 = movehit
value    = 1705

[State 1700, ステート変更②]
type     = ChangeState
trigger1 = Pos Y >= 0
value    = ifelse(Anim = 1701, 1710, 52)

[State 1700, 座標軸調整]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = movecontact != [1,var(18)]
x	 = -Vel X
y	 = -Vel Y

;━─────────────────────┫移動ブースト┣
[State 1700, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 1700, 判定リセット／ステート内自由変数]
type     = VarSet
trigger1 = Time = 0
var(4)   = 0

[State 1700, 入力判定／ステート内自由変数]
type     = VarSet
trigger1 = floor(var(20)%10) = 1 && Pos Y < 0
var(4)   = 1

[State 1700, 重力]
type     = Gravity
trigger1 = var(4) = 1

[State 1700, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 1700, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 1700, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 1700, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 1700, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 1700, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 1700, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬───────┬─────────────────────
;｜北斗七死騎兵斬｜ヘルパー／エフェクト
;┴───────┴─────────────────────
[Statedef 1702]
type     = A
movetype = I
physics  = N
anim     = 1702
velset   = 0, 0
ctrl     = 0
sprpriority = 2

[State 1702, 座標軸固定]
type     = BindToRoot
trigger1 = 1
pos      = 50.0/2.0, -158.0/2.0
IgnoreHitPause = 1

[State 1702, 透過設定]
type     = Trans
trigger1 = 1
Trans    = AddAlpha
Alpha    = 256, 256

[State 1702, 拡縮設定]
type     = AngleDraw
trigger1 = 1
value    = -55
scale    = 1.5, 1.5

[State 1702, DestroySelf]
type     = DestroySelf
trigger1 = root,stateno != 1700

;┬───────┬─────────────────────
;｜北斗七死騎兵斬｜二段目モーション
;┴───────┴─────────────────────
[Statedef 1705]
type     = A
movetype = A
physics  = N
ctrl     = 0
anim     = 1705
movehitpersist = 1

[State 1705, 速度設定]
type     = VelSet
trigger1 = Time = 0
x        = 0
y	 = 0

[State 1705, 座標移動]
type     = PosAdd
trigger1 = AnimElem = 4, = 1
x	 = 40.0/2.0

[State 1705, 速度設定]
type     = VelSet
trigger1 = AnimElem = 4, = 1
y	 = -16.0/2.0

[State 1705, 速度設定]
type     = VelSet
trigger1 = AnimElem = 4, = 2
x	 = -9.0/2.0

[State 1705, 速度設定]
type     = VelMul
trigger1 = AnimElem = 4, > 2
x	 = 0.9

[State 1705, 重力]
type     = VelAdd
trigger1 = AnimElemTime(4) >= 1
y	 = 1.10/2.0

[State 1705, 座標移動]
type     = PosAdd
trigger1 = 1
x	 = Vel X
y	 = Vel Y

[State 1705, 攻撃フラグリセット]
type     = MoveHitReset
trigger1 = AnimElem = 3
Persistent = 0

[State 1705, ヒット定義／攻撃レベル４]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = A, SA
hitflag           = MAF
guardflag         = HA
animtype          = Hard
damage            = ceil((floor(12*fvar(0))+(floor(12*fvar(0))=0))*fvar(10)), ceil((floor(12*0.2)+(floor(11*0.2)=0))*fvar(10))+ceil((floor(12*0.2*0.5)+(floor(12*0.2*0.5)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = -8.0*0.5, fvar(6)
air.velocity      = (-8.0*0.5+(8.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 0
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 1705, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 4, >= 0
value    = 0

[State 1705, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = !Time
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = 1700
Absolute = 1
Persistent = 0

[State 1705, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 1705, ヒットエフェクト]
type          = Helper
trigger1      = movehit = 1
helpertype    = Normal
name          = "hit"
ID            = 6215
stateno       = 6215
pos           = floor(P2Dist X/2 +10+Random%11), floor(P2Dist Y/2 -50-Random%11)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
;Persistent     = 0

[State 1705, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6270
pos            = floor(P2Dist X/2 +10+Random%11), floor(P2Dist Y/2 -50-Random%11)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 16
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
;Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6270

[State 1705, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +10+Random%11), floor(P2Dist Y/2 -50-Random%11)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1705, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/2 -50-Random%11)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 1705, ステート変更]
type     = ChangeState
trigger1 = Pos Y >= 0
value    = 52

[State 1705, 座標軸調整]
type     = PosAdd
trigger1 = 1
x	 = -Vel X
y	 = -Vel Y

;━──────────────────┫キャンセルブースト┣
[State 1705, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(fvar(17)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 4, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 1705, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 1705, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 1705, アニメ変更]
type     = ChangeAnim
trigger1 = floor(var(20)%10) = 1
trigger1 = AnimElemNo(0) = 1
value    = Anim
elem     = 2

[State 1705, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 1705, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 1705, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 1705, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬───────┬─────────────────────
;｜北斗七死騎兵斬｜着地
;┴───────┴─────────────────────
[Statedef 1710]
type     = S
movetype = I
physics  = S
anim     = 1710
velset   = 0, 0
ctrl     = 0

[State 1710, 座標設定]
type     = PosSet
trigger1 = !Time
y	 = 0

[State 1710, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━─────────────────────┫移動ブースト┣
[State 1710, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 1710, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 1710, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 1710, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 1710, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 1710, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 1710, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 1710, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N
;┳━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━
;┃移動制限┃
;┻━━━━┻━━━━━━━━━━━━━━━━━━━━━━━━
;┬────┬────────────────────────
;｜移動制限｜ヘルパー／リダイレクト
;┴────┴────────────────────────
[Statedef 1905]
type     = A
movetype = I
physics  = N
anim     = 9999
velset   = 0, 0
ctrl     = 0
sprpriority = 0

[State 1905, ループ回数設定]
type     = VarSet
trigger1 = 1
var(0)   = 100

[State 1905, 現在のＩＤ所得①]
type     = VarSet
trigger1 = IsHelper(1905)
var(1)   = Helper(1905),ID-1

[State 1905, 現在のＩＤ所得②]
type     = VarSet
trigger1 = IsHelper(1906)
var(1)   = Helper(1906),ID-1

[State 1905, 現在のＩＤ所得③]
type     = VarSet
trigger1 = IsHelper(1907)
var(1)   = Helper(1907),ID-1

[State 1905, 現在のＩＤ所得④]
type     = VarSet
trigger1 = IsHelper(1908)
var(1)   = Helper(1908),ID-1

[State 1905, 現在のＩＤ所得⑤]
type     = VarSet
trigger1 = IsHelper(1909)
var(1)   = Helper(1909),ID-1

[State 1905, 現在のＩＤ所得⑤]
type     = VarSet
trigger1 = IsHelper(1910)
var(1)   = Helper(1910),ID-1

[State 1905, ＩＤ探索ステート①]
type       = ChangeState
triggerall = !IsHelper(1910)
trigger1   = NumEnemy <= 1 || NumEnemy >= 2
trigger1   = EnemyNear(0),Name = "JAGI" && EnemyNear(0),AuthorName = "Ts"
trigger2   = NumEnemy >= 2
trigger2   = EnemyNear(1),Name = "JAGI" && EnemyNear(1),AuthorName = "Ts"
value      = 1906

[State 1905, ＩＤ探索ステート②]
type       = ChangeState
triggerall = !IsHelper(1910)
trigger1   = NumEnemy <= 1 || NumEnemy >= 2
trigger1   = EnemyNear(0),Name = "JAGI" && EnemyNear(0),AuthorName = "Ahuron"
trigger2   = NumEnemy >= 2
trigger2   = EnemyNear(1),Name = "JAGI" && EnemyNear(1),AuthorName = "Ahuron"
value      = 1908

[State 1905, ＩＤ探索ステート③]
type       = ChangeState
triggerall = IsHelper(1910)
trigger1   = NumEnemy <= 1 || NumEnemy >= 2
trigger1   = EnemyNear(0),Name = "JAGI" && EnemyNear(0),AuthorName = "Ts"
trigger2   = NumEnemy >= 2
trigger2   = EnemyNear(1),Name = "JAGI" && EnemyNear(1),AuthorName = "Ts"
value      = 1910

[State 1905, ＩＤ探索ステート④]
type       = ChangeState
triggerall = IsHelper(1910)
trigger1   = NumEnemy <= 1 || NumEnemy >= 2
trigger1   = EnemyNear(0),Name = "JAGI" && EnemyNear(0),AuthorName = "Ahuron"
trigger2   = NumEnemy >= 2
trigger2   = EnemyNear(1),Name = "JAGI" && EnemyNear(1),AuthorName = "Ahuron"
value      = 1912

;┬────┬────────────────────────
;｜移動制限｜ヘルパー／ＩＤ探索ステート①
;┴────┴────────────────────────
[Statedef 1906]
type     = A
movetype = I
physics  = N
anim     = 9999
velset   = 0, 0
ctrl     = 0
sprpriority = 0

[State 1906, ループカウンタ]
type     = VarAdd
trigger1 = var(0) > 0
var(0)   = -1

[State 1906, 取捨選択]
type      = VarAdd
trigger1  = !PlayerIDExist(var(1))
trigger2  = PlayerID(var(1)),stateno != 1310 || PlayerID(var(1)),Anim != 1310
trigger3  = PlayerID(var(1)),statetype != A || PlayerID(var(1)),movetype != I
trigger4  = PlayerID(var(1)),Vel X != 0 || PlayerID(var(1)),Vel Y != 0
trigger5  = teamside = PlayerID(var(1)),teamside
trigger6  = IsHelper(1905) && NumHelper(1906)
trigger6  = var(1) = Helper(1906),var(1)
trigger7  = IsHelper(1905) && NumHelper(1907)
trigger7  = var(1) = Helper(1907),var(1)
trigger8  = IsHelper(1905) && NumHelper(1908)
trigger8  = var(1) = Helper(1908),var(1)
trigger9  = IsHelper(1905) && NumHelper(1909)
trigger9  = var(1) = Helper(1909),var(1)
trigger10 = IsHelper(1906) && NumHelper(1905)
trigger10 = var(1) = Helper(1905),var(1)
trigger11 = IsHelper(1906) && NumHelper(1907)
trigger11 = var(1) = Helper(1907),var(1)
trigger12 = IsHelper(1906) && NumHelper(1908)
trigger12 = var(1) = Helper(1908),var(1)
trigger13 = IsHelper(1906) && NumHelper(1909)
trigger13 = var(1) = Helper(1909),var(1)
trigger14 = IsHelper(1907) && NumHelper(1905)
trigger14 = var(1) = Helper(1905),var(1)
trigger15 = IsHelper(1907) && NumHelper(1906)
trigger15 = var(1) = Helper(1906),var(1)
trigger16 = IsHelper(1907) && NumHelper(1908)
trigger16 = var(1) = Helper(1908),var(1)
trigger17 = IsHelper(1907) && NumHelper(1909)
trigger17 = var(1) = Helper(1909),var(1)
trigger18 = IsHelper(1908) && NumHelper(1905)
trigger18 = var(1) = Helper(1905),var(1)
trigger19 = IsHelper(1908) && NumHelper(1906)
trigger19 = var(1) = Helper(1906),var(1)
trigger20 = IsHelper(1908) && NumHelper(1907)
trigger20 = var(1) = Helper(1907),var(1)
trigger21 = IsHelper(1908) && NumHelper(1909)
trigger21 = var(1) = Helper(1909),var(1)
trigger22 = IsHelper(1909) && NumHelper(1905)
trigger22 = var(1) = Helper(1905),var(1)
trigger23 = IsHelper(1909) && NumHelper(1906)
trigger23 = var(1) = Helper(1906),var(1)
trigger24 = IsHelper(1909) && NumHelper(1907)
trigger24 = var(1) = Helper(1907),var(1)
trigger25 = IsHelper(1909) && NumHelper(1908)
trigger25 = var(1) = Helper(1908),var(1)
var(1)    = -1

[State 1906, ループバック]
type       = ChangeState
triggerall = var(0) > 0
trigger1   = !PlayerIDExist(var(1))
trigger2   = PlayerID(var(1)),stateno != 1310 || PlayerID(var(1)),Anim != 1310
trigger3   = PlayerID(var(1)),statetype != A || PlayerID(var(1)),movetype != I
trigger4   = PlayerID(var(1)),Vel X != 0 || PlayerID(var(1)),Vel Y != 0
trigger5   = teamside = PlayerID(var(1)),teamside
trigger6   = IsHelper(1905) && NumHelper(1906)
trigger6   = var(1) = Helper(1906),var(1)
trigger7   = IsHelper(1905) && NumHelper(1907)
trigger7   = var(1) = Helper(1907),var(1)
trigger8   = IsHelper(1905) && NumHelper(1908)
trigger8   = var(1) = Helper(1908),var(1)
trigger9   = IsHelper(1905) && NumHelper(1909)
trigger9   = var(1) = Helper(1909),var(1)
trigger10  = IsHelper(1906) && NumHelper(1905)
trigger10  = var(1) = Helper(1905),var(1)
trigger11  = IsHelper(1906) && NumHelper(1907)
trigger11  = var(1) = Helper(1907),var(1)
trigger12  = IsHelper(1906) && NumHelper(1908)
trigger12  = var(1) = Helper(1908),var(1)
trigger13  = IsHelper(1906) && NumHelper(1909)
trigger13  = var(1) = Helper(1909),var(1)
trigger14  = IsHelper(1907) && NumHelper(1905)
trigger14  = var(1) = Helper(1905),var(1)
trigger15  = IsHelper(1907) && NumHelper(1906)
trigger15  = var(1) = Helper(1906),var(1)
trigger16  = IsHelper(1907) && NumHelper(1908)
trigger16  = var(1) = Helper(1908),var(1)
trigger17  = IsHelper(1907) && NumHelper(1909)
trigger17  = var(1) = Helper(1909),var(1)
trigger18  = IsHelper(1908) && NumHelper(1905)
trigger18  = var(1) = Helper(1905),var(1)
trigger19  = IsHelper(1908) && NumHelper(1906)
trigger19  = var(1) = Helper(1906),var(1)
trigger20  = IsHelper(1908) && NumHelper(1907)
trigger20  = var(1) = Helper(1907),var(1)
trigger21  = IsHelper(1908) && NumHelper(1909)
trigger21  = var(1) = Helper(1909),var(1)
trigger22  = IsHelper(1909) && NumHelper(1905)
trigger22  = var(1) = Helper(1905),var(1)
trigger23  = IsHelper(1909) && NumHelper(1906)
trigger23  = var(1) = Helper(1906),var(1)
trigger24  = IsHelper(1909) && NumHelper(1907)
trigger24  = var(1) = Helper(1907),var(1)
trigger25  = IsHelper(1909) && NumHelper(1908)
trigger25  = var(1) = Helper(1908),var(1)
value      = 1906

[State 1906, 探索終了]
type     = ChangeState
trigger1 = 1
value    = 1907

;┬────┬────────────────────────
;｜移動制限｜ヘルパー／座標所得①
;┴────┴────────────────────────
[Statedef 1907]
type     = A
movetype = I
physics  = N
anim     = 9999
velset   = 0, 0
ctrl     = 0
sprpriority = 0

[State 1907, 座標軸設定]
type     = PosSet
trigger1 = PlayerIDExist(var(1))
x        = PlayerID(var(1)),Pos X
y        = PlayerID(var(1)),Pos Y

[State 1907, ヘルパー消去]
type      = destroyself
trigger1  = !PlayerIDExist(var(1))
trigger2  = PlayerID(var(1)),stateno != 1310 || PlayerID(var(1)),Anim != 1310
trigger3  = PlayerID(var(1)),statetype != A || PlayerID(var(1)),movetype != I
trigger4  = PlayerID(var(1)),Vel X != 0 || PlayerID(var(1)),Vel Y != 0
trigger5  = teamside = PlayerID(var(1)),teamside
trigger6  = IsHelper(1905) && NumHelper(1906)
trigger6  = var(1) = Helper(1906),var(1)
trigger7  = IsHelper(1905) && NumHelper(1907)
trigger7  = var(1) = Helper(1907),var(1)
trigger8  = IsHelper(1905) && NumHelper(1908)
trigger8  = var(1) = Helper(1908),var(1)
trigger9  = IsHelper(1905) && NumHelper(1909)
trigger9  = var(1) = Helper(1909),var(1)
trigger10 = IsHelper(1906) && NumHelper(1905)
trigger10 = var(1) = Helper(1905),var(1)
trigger11 = IsHelper(1906) && NumHelper(1907)
trigger11 = var(1) = Helper(1907),var(1)
trigger12 = IsHelper(1906) && NumHelper(1908)
trigger12 = var(1) = Helper(1908),var(1)
trigger13 = IsHelper(1906) && NumHelper(1909)
trigger13 = var(1) = Helper(1909),var(1)
trigger14 = IsHelper(1907) && NumHelper(1905)
trigger14 = var(1) = Helper(1905),var(1)
trigger15 = IsHelper(1907) && NumHelper(1906)
trigger15 = var(1) = Helper(1906),var(1)
trigger16 = IsHelper(1907) && NumHelper(1908)
trigger16 = var(1) = Helper(1908),var(1)
trigger17 = IsHelper(1907) && NumHelper(1909)
trigger17 = var(1) = Helper(1909),var(1)
trigger18 = IsHelper(1908) && NumHelper(1905)
trigger18 = var(1) = Helper(1905),var(1)
trigger19 = IsHelper(1908) && NumHelper(1906)
trigger19 = var(1) = Helper(1906),var(1)
trigger20 = IsHelper(1908) && NumHelper(1907)
trigger20 = var(1) = Helper(1907),var(1)
trigger21 = IsHelper(1908) && NumHelper(1909)
trigger21 = var(1) = Helper(1909),var(1)
trigger22 = IsHelper(1909) && NumHelper(1905)
trigger22 = var(1) = Helper(1905),var(1)
trigger23 = IsHelper(1909) && NumHelper(1906)
trigger23 = var(1) = Helper(1906),var(1)
trigger24 = IsHelper(1909) && NumHelper(1907)
trigger24 = var(1) = Helper(1907),var(1)
trigger25 = IsHelper(1909) && NumHelper(1908)
trigger25 = var(1) = Helper(1908),var(1)

;┬────┬────────────────────────
;｜移動制限｜ヘルパー／ＩＤ探索ステート②
;┴────┴────────────────────────
[Statedef 1908]
type     = A
movetype = I
physics  = N
anim     = 9999
velset   = 0, 0
ctrl     = 0
sprpriority = 0

[State 1908, ループカウンタ]
type     = VarAdd
trigger1 = var(0) > 0
var(0)   = -1

[State 1908, 取捨選択]
type      = VarAdd
trigger1  = !PlayerIDExist(var(1))
trigger2  = PlayerID(var(1)),stateno != 1561 || PlayerID(var(1)),Anim != 1557
trigger3  = PlayerID(var(1)),statetype != A || PlayerID(var(1)),movetype != I
trigger4  = PlayerID(var(1)),Vel X != 0 || PlayerID(var(1)),Vel Y != 0
trigger5  = teamside = PlayerID(var(1)),teamside
trigger6  = IsHelper(1905) && NumHelper(1906)
trigger6  = var(1) = Helper(1906),var(1)
trigger7  = IsHelper(1905) && NumHelper(1907)
trigger7  = var(1) = Helper(1907),var(1)
trigger8  = IsHelper(1905) && NumHelper(1908)
trigger8  = var(1) = Helper(1908),var(1)
trigger9  = IsHelper(1905) && NumHelper(1909)
trigger9  = var(1) = Helper(1909),var(1)
trigger10 = IsHelper(1906) && NumHelper(1905)
trigger10 = var(1) = Helper(1905),var(1)
trigger11 = IsHelper(1906) && NumHelper(1907)
trigger11 = var(1) = Helper(1907),var(1)
trigger12 = IsHelper(1906) && NumHelper(1908)
trigger12 = var(1) = Helper(1908),var(1)
trigger13 = IsHelper(1906) && NumHelper(1909)
trigger13 = var(1) = Helper(1909),var(1)
trigger14 = IsHelper(1907) && NumHelper(1905)
trigger14 = var(1) = Helper(1905),var(1)
trigger15 = IsHelper(1907) && NumHelper(1906)
trigger15 = var(1) = Helper(1906),var(1)
trigger16 = IsHelper(1907) && NumHelper(1908)
trigger16 = var(1) = Helper(1908),var(1)
trigger17 = IsHelper(1907) && NumHelper(1909)
trigger17 = var(1) = Helper(1909),var(1)
trigger18 = IsHelper(1908) && NumHelper(1905)
trigger18 = var(1) = Helper(1905),var(1)
trigger19 = IsHelper(1908) && NumHelper(1906)
trigger19 = var(1) = Helper(1906),var(1)
trigger20 = IsHelper(1908) && NumHelper(1907)
trigger20 = var(1) = Helper(1907),var(1)
trigger21 = IsHelper(1908) && NumHelper(1909)
trigger21 = var(1) = Helper(1909),var(1)
trigger22 = IsHelper(1909) && NumHelper(1905)
trigger22 = var(1) = Helper(1905),var(1)
trigger23 = IsHelper(1909) && NumHelper(1906)
trigger23 = var(1) = Helper(1906),var(1)
trigger24 = IsHelper(1909) && NumHelper(1907)
trigger24 = var(1) = Helper(1907),var(1)
trigger25 = IsHelper(1909) && NumHelper(1908)
trigger25 = var(1) = Helper(1908),var(1)
var(1)    = -1

[State 1908, ループバック]
type       = ChangeState
triggerall = var(0) > 0
trigger1   = !PlayerIDExist(var(1))
trigger2   = PlayerID(var(1)),stateno != 1561 || PlayerID(var(1)),Anim != 1557
trigger3   = PlayerID(var(1)),statetype != A || PlayerID(var(1)),movetype != I
trigger4   = PlayerID(var(1)),Vel X != 0 || PlayerID(var(1)),Vel Y != 0
trigger5   = teamside = PlayerID(var(1)),teamside
trigger6   = IsHelper(1905) && NumHelper(1906)
trigger6   = var(1) = Helper(1906),var(1)
trigger7   = IsHelper(1905) && NumHelper(1907)
trigger7   = var(1) = Helper(1907),var(1)
trigger8   = IsHelper(1905) && NumHelper(1908)
trigger8   = var(1) = Helper(1908),var(1)
trigger9   = IsHelper(1905) && NumHelper(1909)
trigger9   = var(1) = Helper(1909),var(1)
trigger10  = IsHelper(1906) && NumHelper(1905)
trigger10  = var(1) = Helper(1905),var(1)
trigger11  = IsHelper(1906) && NumHelper(1907)
trigger11  = var(1) = Helper(1907),var(1)
trigger12  = IsHelper(1906) && NumHelper(1908)
trigger12  = var(1) = Helper(1908),var(1)
trigger13  = IsHelper(1906) && NumHelper(1909)
trigger13  = var(1) = Helper(1909),var(1)
trigger14  = IsHelper(1907) && NumHelper(1905)
trigger14  = var(1) = Helper(1905),var(1)
trigger15  = IsHelper(1907) && NumHelper(1906)
trigger15  = var(1) = Helper(1906),var(1)
trigger16  = IsHelper(1907) && NumHelper(1908)
trigger16  = var(1) = Helper(1908),var(1)
trigger17  = IsHelper(1907) && NumHelper(1909)
trigger17  = var(1) = Helper(1909),var(1)
trigger18  = IsHelper(1908) && NumHelper(1905)
trigger18  = var(1) = Helper(1905),var(1)
trigger19  = IsHelper(1908) && NumHelper(1906)
trigger19  = var(1) = Helper(1906),var(1)
trigger20  = IsHelper(1908) && NumHelper(1907)
trigger20  = var(1) = Helper(1907),var(1)
trigger21  = IsHelper(1908) && NumHelper(1909)
trigger21  = var(1) = Helper(1909),var(1)
trigger22  = IsHelper(1909) && NumHelper(1905)
trigger22  = var(1) = Helper(1905),var(1)
trigger23  = IsHelper(1909) && NumHelper(1906)
trigger23  = var(1) = Helper(1906),var(1)
trigger24  = IsHelper(1909) && NumHelper(1907)
trigger24  = var(1) = Helper(1907),var(1)
trigger25  = IsHelper(1909) && NumHelper(1908)
trigger25  = var(1) = Helper(1908),var(1)
value      = 1908

[State 1908, 探索終了]
type     = ChangeState
trigger1 = 1
value    = 1909

;┬────┬────────────────────────
;｜移動制限｜ヘルパー／座標所得②
;┴────┴────────────────────────
[Statedef 1909]
type     = A
movetype = I
physics  = N
anim     = 9999
velset   = 0, 0
ctrl     = 0
sprpriority = 0

[State 1909, 座標軸設定]
type     = PosSet
trigger1 = PlayerIDExist(var(1))
x        = PlayerID(var(1)),Pos X
y        = PlayerID(var(1)),Pos Y

[State 1909, ヘルパー消去]
type      = destroyself
trigger1  = !PlayerIDExist(var(1))
trigger2  = PlayerID(var(1)),stateno != 1561 || PlayerID(var(1)),Anim != 1557
trigger3  = PlayerID(var(1)),statetype != A || PlayerID(var(1)),movetype != I
trigger4  = PlayerID(var(1)),Vel X != 0 || PlayerID(var(1)),Vel Y != 0
trigger5  = teamside = PlayerID(var(1)),teamside
trigger6  = IsHelper(1905) && NumHelper(1906)
trigger6  = var(1) = Helper(1906),var(1)
trigger7  = IsHelper(1905) && NumHelper(1907)
trigger7  = var(1) = Helper(1907),var(1)
trigger8  = IsHelper(1905) && NumHelper(1908)
trigger8  = var(1) = Helper(1908),var(1)
trigger9  = IsHelper(1905) && NumHelper(1909)
trigger9  = var(1) = Helper(1909),var(1)
trigger10 = IsHelper(1906) && NumHelper(1905)
trigger10 = var(1) = Helper(1905),var(1)
trigger11 = IsHelper(1906) && NumHelper(1907)
trigger11 = var(1) = Helper(1907),var(1)
trigger12 = IsHelper(1906) && NumHelper(1908)
trigger12 = var(1) = Helper(1908),var(1)
trigger13 = IsHelper(1906) && NumHelper(1909)
trigger13 = var(1) = Helper(1909),var(1)
trigger14 = IsHelper(1907) && NumHelper(1905)
trigger14 = var(1) = Helper(1905),var(1)
trigger15 = IsHelper(1907) && NumHelper(1906)
trigger15 = var(1) = Helper(1906),var(1)
trigger16 = IsHelper(1907) && NumHelper(1908)
trigger16 = var(1) = Helper(1908),var(1)
trigger17 = IsHelper(1907) && NumHelper(1909)
trigger17 = var(1) = Helper(1909),var(1)
trigger18 = IsHelper(1908) && NumHelper(1905)
trigger18 = var(1) = Helper(1905),var(1)
trigger19 = IsHelper(1908) && NumHelper(1906)
trigger19 = var(1) = Helper(1906),var(1)
trigger20 = IsHelper(1908) && NumHelper(1907)
trigger20 = var(1) = Helper(1907),var(1)
trigger21 = IsHelper(1908) && NumHelper(1909)
trigger21 = var(1) = Helper(1909),var(1)
trigger22 = IsHelper(1909) && NumHelper(1905)
trigger22 = var(1) = Helper(1905),var(1)
trigger23 = IsHelper(1909) && NumHelper(1906)
trigger23 = var(1) = Helper(1906),var(1)
trigger24 = IsHelper(1909) && NumHelper(1907)
trigger24 = var(1) = Helper(1907),var(1)
trigger25 = IsHelper(1909) && NumHelper(1908)
trigger25 = var(1) = Helper(1908),var(1)

;┬────┬────────────────────────
;｜移動制限｜ヘルパー／ＩＤ探索ステート③
;┴────┴────────────────────────
[Statedef 1910]
type     = A
movetype = I
physics  = N
anim     = 9999
velset   = 0, 0
ctrl     = 0
sprpriority = 0

[State 1910, ループカウンタ]
type     = VarAdd
trigger1 = var(0) > 0
var(0)   = -1

[State 1910, 取捨選択]
type     = VarAdd
trigger1 = !PlayerIDExist(var(1))
trigger2 = PlayerID(var(1)),stateno != 1610 || PlayerID(var(1)),Anim != 1610
trigger3 = PlayerID(var(1)),statetype != A || PlayerID(var(1)),movetype != I
trigger4 = PlayerID(var(1)),Vel X != 0 || PlayerID(var(1)),Vel Y != 0
trigger5 = teamside = PlayerID(var(1)),teamside
var(1)   = -1

[State 1910, ループバック]
type       = ChangeState
triggerall = var(0) > 0
trigger1   = !PlayerIDExist(var(1))
trigger2   = PlayerID(var(1)),stateno != 1610 || PlayerID(var(1)),Anim != 1610
trigger3   = PlayerID(var(1)),statetype != A || PlayerID(var(1)),movetype != I
trigger4   = PlayerID(var(1)),Vel X != 0 || PlayerID(var(1)),Vel Y != 0
trigger5   = teamside = PlayerID(var(1)),teamside
value      = 1910

[State 1910, 探索終了]
type     = ChangeState
trigger1 = 1
value    = 1911

;┬────┬────────────────────────
;｜移動制限｜ヘルパー／座標所得③
;┴────┴────────────────────────
[Statedef 1911]
type     = A
movetype = I
physics  = N
anim     = 9999
velset   = 0, 0
ctrl     = 0
sprpriority = 0

[State 1911, 座標軸設定]
type     = PosSet
trigger1 = PlayerIDExist(var(1))
x        = PlayerID(var(1)),Pos X
y        = PlayerID(var(1)),Pos Y

[State 1911, ヘルパー消去]
type     = destroyself
trigger1 = !PlayerIDExist(var(1))
trigger2 = PlayerID(var(1)),stateno != 1610 || PlayerID(var(1)),Anim != 1610
trigger3 = PlayerID(var(1)),statetype != A || PlayerID(var(1)),movetype != I
trigger4 = PlayerID(var(1)),Vel X != 0 || PlayerID(var(1)),Vel Y != 0
trigger5 = teamside = PlayerID(var(1)),teamside

;┬────┬────────────────────────
;｜移動制限｜ヘルパー／ＩＤ探索ステート④
;┴────┴────────────────────────
[Statedef 1912]
type     = A
movetype = I
physics  = N
anim     = 9999
velset   = 0, 0
ctrl     = 0
sprpriority = 0

[State 1912, ループカウンタ]
type     = VarAdd
trigger1 = var(0) > 0
var(0)   = -1

[State 1912, 取捨選択]
type     = VarAdd
trigger1 = !PlayerIDExist(var(1))
trigger2 = PlayerID(var(1)),stateno != 1705 || PlayerID(var(1)),Anim != 1705
trigger3 = PlayerID(var(1)),statetype != A || PlayerID(var(1)),movetype != I
trigger4 = PlayerID(var(1)),Vel X != 0 || PlayerID(var(1)),Vel Y != 0
trigger5 = teamside = PlayerID(var(1)),teamside
var(1)   = -1

[State 1912, ループバック]
type       = ChangeState
triggerall = var(0) > 0
trigger1   = !PlayerIDExist(var(1))
trigger2   = PlayerID(var(1)),stateno != 1705 || PlayerID(var(1)),Anim != 1705
trigger3   = PlayerID(var(1)),statetype != A || PlayerID(var(1)),movetype != I
trigger4   = PlayerID(var(1)),Vel X != 0 || PlayerID(var(1)),Vel Y != 0
trigger5   = teamside = PlayerID(var(1)),teamside
value      = 1912

[State 1912, 探索終了]
type     = ChangeState
trigger1 = 1
value    = 1913

;┬────┬────────────────────────
;｜移動制限｜ヘルパー／座標所得④
;┴────┴────────────────────────
[Statedef 1913]
type     = A
movetype = I
physics  = N
anim     = 9999
velset   = 0, 0
ctrl     = 0
sprpriority = 0

[State 1913, 座標軸設定]
type     = PosSet
trigger1 = PlayerIDExist(var(1))
x        = PlayerID(var(1)),Pos X
y        = PlayerID(var(1)),Pos Y

[State 1913, ヘルパー消去]
type     = destroyself
trigger1 = !PlayerIDExist(var(1))
trigger2 = PlayerID(var(1)),stateno != 1705 || PlayerID(var(1)),Anim != 1705
trigger3 = PlayerID(var(1)),statetype != A || PlayerID(var(1)),movetype != I
trigger4 = PlayerID(var(1)),Vel X != 0 || PlayerID(var(1)),Vel Y != 0
trigger5 = teamside = PlayerID(var(1)),teamside

;－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－
;──────────────────────────────
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

