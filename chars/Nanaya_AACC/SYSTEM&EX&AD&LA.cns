;---------------------------------------------------------------------------
;避け
[Statedef 750]
Type    = S
Physics = S
VelSet = 0,0
Ctrl = 0
Anim = 750
SprPriority = -1
Facep2 = 1

[State -1] 
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 0
V = 36
Value = Ceil(-20*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = Var(36) < 0
Trigger1 = Time = 0
V = 36
Value = 0

[State -1]
Type = PalFX
Trigger1 = Time = [0,14]
Time = 1
Add = 210-Var(54),210-Var(54),210-Var(54)

[State -1]
Type = VarAdd
Trigger1 = Time = [1,14]
V = 54
Value = 15

[State -1]
Type = VarSet
Trigger1 = Time = 15
V = 54
Value = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s750, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0

[State -1]
Type = Helper
Trigger1 = Time >= 1
StateNo = 855
ID = 856
Ownpal = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,20]
Value = , NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;空中避け
[Statedef 760]
Type    = A
Physics = A
Ctrl = 0
Anim = 760
SprPriority = -1

[State -1] 
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 0
V = 36
Value = Ceil(-40*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = Var(36) < 0
Trigger1 = Time = 0
V = 36
Value = 0

[State -1]
Type = PowerAdd
Trigger1 = PrevStateNo = [600,699]
Trigger1 = Var(13) = 0
Trigger1 = Time = 0
Value = Ceil(-500*IfElse(Var(57)%10=2,1.429,IfElse(Var(57)%10=3,1.112,1.0000)))
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = PrevStateNo = [600,699]
Trigger1 = Var(13) = [1,4]
Trigger1 = Time = 0
FV = 29
Value = IfElse(Var(13)=4,-600,-1200)

[State -1]
Type = VarSet
Trigger1 = PrevStateNo = [600,699]
Trigger1 = Time = 0
V = 43
Value = 420
IgnoreHitPause = 1

[State -1]
Type = VelSet
TriggerAll = Vel X >= 2
TriggerAll = Var(57)%10 != [4,5]
Trigger1 = Time = 0
X = 2

[State -1] 
Type = VelSet
Trigger1 = Time = 0
Y = -6.6

[State -1] 
Type = Turn
Trigger1 = Time = 15
Trigger1 = P2Dist X < 0

[State -1]
Type = PalFX
Trigger1 = Time = [0,14]
Time = 1
Add = 210-Var(54),210-Var(54),210-Var(54)

[State -1]
Type = VarAdd
Trigger1 = Time = [1,14]
V = 54
Value = 15

[State -1]
Type = VarSet
Trigger1 = Time = 15
V = 54
Value = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s750, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = Time >= 1
StateNo = 855
ID = 857
Ownpal = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,9]
Value = , NA, SA, HA ,NP, SP, HP
Time = 1

;---------------------------------------------------------------------------
; ゲージ溜め
[Statedef 850]
Type    = S
Physics = S
Anim    = 850
Ctrl    = 0
VelSet = 0,0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 6
Value = s960, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s850, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Anim = 850
Trigger1 = Time = 7
Anim = 10850
ID = 10850
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 4
BindTime = -1
RemoveTime = -1
RemoveOnGetHit = 1
Persistent = 0

[State -1]
Type = PowerAdd
Trigger1 = Anim = 850
Trigger1 = Time = [7,36]
Value = Ceil(FVar(30)*IfElse(Var(43)>0,0.88,1.00)*IfElse(Time%3=0,6,5))

[State -1]
Type = PowerAdd
Trigger1 = Anim = 850
Trigger1 = Time = [37,66]
Value = Ceil(FVar(30)*IfElse(Var(43)>0,0.88,1.00)*IfElse(Time%3=0,9,8))

[State -1]
Type = PowerAdd
Trigger1 = Anim = 850
Trigger1 = Time = [67,96]
Value = Ceil(FVar(30)*IfElse(Var(43)>0,0.88,1.00)*IfElse(Time%3=0,13,12))

[State -1]
Type = PowerAdd
Trigger1 = Anim = 850
Trigger1 = Time = [97,126]
Value = Ceil(FVar(30)*IfElse(Var(43)>0,0.88,1.00)*IfElse(Time%3=0,16,15))

[State -1]
Type = PowerAdd
Trigger1 = Anim = 850
Trigger1 = Time = [127,156]
Value = Ceil(FVar(30)*IfElse(Var(43)>0,0.88,1.00)*IfElse(Time%3=0,20,19))

[State -1]
Type = PowerAdd
Trigger1 = Anim = 850
Trigger1 = Time = [157,186]
Value = Ceil(FVar(30)*IfElse(Var(43)>0,0.88,1.00)*IfElse(Time%3=0,23,22))

[State -1]
Type = PowerAdd
Trigger1 = Anim = 850
Trigger1 = Time = [187,216]
Value = Ceil(FVar(30)*IfElse(Var(43)>0,0.88,1.00)*IfElse(Time%3=0,27,26))

[State -1]
Type = PowerAdd
Trigger1 = Anim = 850
Trigger1 = Time >= 217
Value = Ceil(FVar(30)*IfElse(Var(43)>0,0.88,1.00)*IfElse(Time%3=0,30,29))

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 100
Trigger1 = Anim = 850
Trigger1 = Time >= 7
V = 36
Value = IfElse(Time%2=0,1,2)

[State -1] 
Type = ChangeAnim
TriggerAll = Var(59) <= 0
TriggerAll = Time >= 21
TriggerAll = Anim = 850
Trigger1 = Command != "ABC溜め" && Command != "X溜め"
Trigger2 = Command = "holdup" || Command = "holddown" || Command = "holdfwd" || Command = "holdback"
Trigger3 = Power >= 3334
Value = 851

[State -1]
Type = Explod
TriggerAll = NumExplod(10850) = 1
TriggerAll = Anim = 851
Trigger1 = Time%10= 9
Anim = 10851
ID = 10851
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 4
BindTime = -1
RemoveOnGetHit = 1
Persistent = 0

[State -1]
Type = Explod
TriggerAll = NumExplod(10850) = 1
TriggerAll = Anim = 851
Trigger1 = Time%10!= 9
Trigger1 = AnimTime = 0
Anim = 10852
ID = 10851
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 4
BindTime = -1
RemoveOnGetHit = 1
Persistent = 0

[State -1]
Type = RemoveExplod
TriggerAll = NumExplod(10850) = 1
TriggerAll = Anim = 851
Trigger1 = Time%10= 9
Trigger2 = AnimTime = 0
ID = 10850

[State -1] 
Type = ChangeState
Trigger1 = Anim = 851
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;サーキットスパーク
[Statedef 860]
Type     = S
MoveType = A
Physics  = S
Anim     = 860
Ctrl     = 0
VelSet = 0,0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 54
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = 0

[State -1]
Type = NotHitBy
TriggerAll = Var(57)%10 != 2
Trigger1 = AnimTime < -1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = NotHitBy
Trigger1 = Var(57)%10 = 2
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PosSet
Trigger1 = Time = 0
Y = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = EnvShake
Trigger1 = Time = 10
Time  = 15
Ampl  = 5
Freq  = 90

[State -1]
Type = PowerSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Value = 0

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
FV = 29
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
TriggerAll = Var(58) = 0
TriggerAll = RoundState = 2
TriggerAll = Var(57)%10 != 3
Trigger1 = Time = 0
Trigger1 = Var(13) = [2,4]
StateNo = 10968
SuperMoveTime = 9999
PauseMoveTime = 9999
Ownpal = 1
ID = 10969

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = 2 || Var(13) = 4
V = 13
Value = 9
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = [6,9]
V = 14
Value = 3000
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = [6,9]
V = 16
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Time = 0
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = Explod
TriggerAll = RoundState = 2
TriggerAll = Var(0)%10 = 0
TriggerAll = NumExplod(25600) = 0
Trigger1 = Time = 0
Trigger1 = Var(13) = [6,9]
Anim = 25600
PosType = P1
Pos = 0, -60
Scale = 0.5,0.5
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 5
ID = 25600

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
Trigger1 = Time = 4
StateNo = 8020
PosType = P1
Pos = 0, -65
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 8020

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = [1,5]
V = 13
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = [1,5]
Trigger1 = Var(14) > 0
V = 14
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 10
Value = s960, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s860, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PalFX
Trigger1 = Time = [0,29]
Time = 1
Add = 240-Var(55),240-Var(55),240-Var(55)
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Time = [10,29]
V = 55
Value = 12

[State -1]
Type = BGPalFX
Trigger1 = Time = [0,34]
Time = 1
Add = 0-Var(54),0-Var(54),0-Var(54)
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Time = [0,19]
V = 54
Value = 5

[State -1]
Type = VarAdd
Trigger1 = Time = [30,34]
V = 54
Value = -20

[State -1]
Type = VarRangeSet
Trigger1 = AnimTime = 0
First = 54
Last = 55
Value = 0

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10860
ID = 10860
Postype = P1
Pos = 0,-58
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = P2MoveType != H || P2StateNo = [120,159]
Trigger1 = Time >= 10
Attr = S, NA
Damage = Ceil(FVar(0)*(10-Var(4)%2))
AnimType = Hard
HitFlag = MAF-
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0, 11+11*IfElse(Var(38)>0,1,0)+Var(41)
SparkNo = -1
Guard.SparkNo = -1
HitSound = s10, 2
Ground.Type = High
Air.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = 0,-11.2
Air.Velocity = 0,-11.2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
P2StateNo = 865
ID = 860
P2Facing = 1
Kill = 0
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; サーキットスパーク・投げられている相手
[Statedef 865]
Type     = A
MoveType = H
Physics  = N
Ctrl     = 0
VelSet   = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = HitFallSet
Trigger1 = 1
Value = 0

[State -1]
Type = OffSet
Trigger1 = Time >= 0
X = IfElse(Time%4=0,0.5,-0.5)
Persistent = 2

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = 1
Value = 5030

[State -1]
Type = ChangeState
Trigger1 = GetHitVar(HitShakeTime) = 0
Value = 866

;---------------------------------------------------------------------------
; サーキットスパーク・相手の空中の状態
[Statedef 866]
Type     = A
MoveType = H
Physics  = N
Ctrl     = 0
VelSet = -2.8,-11.2

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 0
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050

[State -1] ;これは重力これは毎フレーム事に0.4の力が加わります
Type = VelAdd
Trigger1 = 1
y = .6

[State -1] 
Type = HitFallSet
Trigger1 = (Vel Y > 0) && ((Vel Y*3)*0.6*3+Pos Y >= -5)
Value = 1

[State -1] 
Type = SelfState
TriggerAll = (Vel Y > 0) && (Vel Y+Pos Y >= -5)
TriggerAll = Alive
TriggerAll = CanRecover
Trigger1 = Command != "holddown" && Command != "holdup"
Trigger1 = Command = "fwd" || Command = "back" || Command = "holdfwd" || Command = "holdback"
Trigger2 = Command != "holddown" && Command != "holdfwd" && Command != "holdback"
Trigger2 = Command = "up" || Command = "holdup"
Value = 5200 

[State -1] 
Type = SelfState
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
Value = 5100

;---------------------------------------------------------------------------
;エリアルスパーク
[Statedef 870]
Type     = A
MoveType = A
Physics  = A
Anim     = 870
Ctrl     = 0
VelSet = 0,0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 54
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = 0

[State -1]
Type = NotHitBy
TriggerAll = Var(57)%10 != 2
Trigger1 = Time = [0,20]
Value = , NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = NotHitBy
Trigger1 = Var(57)%10 = 2
Value = , NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = EnvShake
Trigger1 = Time = 11
Time  = 15
Ampl  = 5
Freq  = 90

[State -1]
Type = PowerSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Value = 0

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
FV = 29
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
TriggerAll = Var(58) = 0
TriggerAll = RoundState = 2
TriggerAll = Var(57)%10 != 3
Trigger1 = Time = 0
Trigger1 = Var(13) = [2,4]
StateNo = 10968
SuperMoveTime = 9999
PauseMoveTime = 9999
Ownpal = 1
ID = 10969

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = 2 || Var(13) = 4
V = 13
Value = 9
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = [6,9]
V = 14
Value = 3000
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = [6,9]
V = 16
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Time = 0
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = Explod
TriggerAll = RoundState = 2
TriggerAll = Var(0)%10 = 0
TriggerAll = NumExplod(25600) = 0
Trigger1 = Time = 0
Trigger1 = Var(13) = [6,9]
Anim = 25600
PosType = P1
Pos = 0, -60
Scale = 0.5,0.5
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 5
ID = 25600

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
Trigger1 = Time = 5
StateNo = 8020
PosType = P1
Pos = 0, -65
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 8020

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = [1,5]
V = 13
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = [1,5]
Trigger1 = Var(14) > 0
V = 14
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 11
Value = s960, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s870, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PalFX
Trigger1 = Time = [0,29]
Time = 1
Add = 240-Var(55),240-Var(55),240-Var(55)
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Time = [10,29]
V = 55
Value = 12

[State -1]
Type = BGPalFX
Trigger1 = Time = [0,30]
Time = 1
Add = 0-Var(54),0-Var(54),0-Var(54)
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Time = [0,19]
V = 54
Value = 5

[State -1]
Type = VarAdd
Trigger1 = Time = [25,30]
V = 54
Value = -20

[State -1]
Type = VarRangeSet
Trigger1 = AnimTime = 0
First = 54
Last = 55
Value = 0

[State -1]
Type = VelSet
Trigger1 = Time <= 29
Y = 0

[State -1]
Type = Explod
Trigger1 = Time = 1
Anim = 10860
ID = 10860
Postype = P1
Pos = 0,-58
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = P2MoveType != H || P2StateNo = [120,159]
Trigger1 = Time >= 11
Attr = A, NA
Damage = Ceil(FVar(0)*(10-Var(4)%2))
AnimType = Hard
HitFlag = MAF-
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0, 11+11*IfElse(Var(38)>0,1,0)+Var(41)
SparkNo = -1
Guard.SparkNo = -1
HitSound = s10, 2
Ground.Type = High
Air.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = 0,-11.2
Air.Velocity = 0,-11.2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
P2StateNo = 865
ID = 870
P2Facing = 1
Kill = 0
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

;---------------------------------------------------------------------------
; 立ち　EX-シールド
[Statedef 900]
Type    = S
Physics = S
Anim    = 900
Ctrl    = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Var(57)%10 = 3
Trigger1 = Var(13) = 4
Trigger1 = Time = 0
FV = 26
Value = 1

[State -1]
Type = VelSet
TriggerAll = Time = 0
Trigger1 = PrevStateNo != [100,101]
X = 0
Y = 0

[State -1]
Type = VarSet
Trigger1 = Time = [0,4]
V = 15
Value = Power

[State -1] 
Type = ChangeAnim
TriggerAll = Anim = 900
Trigger1 = Var(57)%10 != 2
Trigger1 = Time = 4 &&! MoveHit
Trigger2 = MoveHit = 1
Value = 900
Elem = 3

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s900, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s900, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = NotHitBy
Trigger1 = MoveHit = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = AnimElem = 2, < 0
Attr = SCA, NP, SP, HP
StateNo = 901+IfElse((Var(57)%10=[2,3]),2,0)
IgnoreHitPause = 1

[State -1]
Type = ReversalDef
Trigger1 = P2StateNo != [400,409]
Trigger1 =! MoveContact
Reversal.Attr = SA, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 16,20
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
ID = 900
GetPower = 50,0

[State -1]
Type = ReversalDef
Trigger1 = P2StateNo = [400,409]
Trigger1 =! MoveContact
Reversal.Attr = C, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 16,20
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
ID = 900
GetPower = 50,0

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 940
ID = 940
Name = "Helper"
Ownpal = 1

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 941
ID = 950
Name = "Helper"
Ownpal = 1

[State -1]
Type = Helper
Trigger1 = MoveHit = 1 && HitPauseTime = 16
StateNo = 10910
ID = 10910+Var(57)%10
PosType = P1
Pos = 55,-65
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetDrop
Trigger1 = NumTarget >= 5
ExcludeID = 900
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = MoveHit
Value = s902, 0+Random%3
Channel = 1
IgnoreHitPause = 0
Persistent = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = MoveHit = 2
V = 36
Value = Ceil(75*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Command = "holdfwd" && Command = "ab" && Command != "holddown" && Command != "holdup" || Command = "holdfwd" && Command = "y" && Command != "holddown" && Command != "holdup"
Trigger1 = Time = [0,2]
V = 45
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Command = "holdback" && Command = "ab" && Command != "holddown" && Command != "holdup" || Command = "holdback" && Command = "y" && Command != "holddown" && Command != "holdup"
Trigger1 = Time = [0,2]
V = 45
Value = 105
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Var(57)%10 != 3 && Var(57)%10 != 5
TriggerAll = Command = "holddown"
TriggerAll = Command != "holdfwd" && Command != "holdback"
TriggerAll = Command = "ab" || Command = "x" || Command = "y"
Trigger1 = Time = [0,2]
V = 45
Value = 750
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Var(57)%10 = 3
TriggerAll = Command = "abc" || Command = "x" && Command != "holddown" && Command != "holdfwd" && Command != "holdback"
TriggerAll = FVar(13) = 0
TriggerAll = FVar(29) <= 3000
Trigger1 = Time = [0,2]
V = 45
Value = 850
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Var(57)%10 != 2
TriggerAll = Command = "abc" || Command = "x" && Command != "holddown" && Command != "holdfwd" && Command != "holdback"
TriggerAll = Time = [0,2]
Trigger1 = Var(13) = 1 || Var(13) = 5
Trigger2 = Var(57)%10 = 1 || Var(57)%10 = 4
Trigger2 = FVar(29) >= 1000
Trigger2 = Var(13) = 0
V = 45
Value = 960
IgnoreHitPause = 1

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = Var(45) >= 1
Trigger1 = MoveHit = 1
StateNo = 8070
ID = 8070
PosType = P1
Pos = 0,-55
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
TriggerAll = Var(45) >= 1
Trigger1 = MoveHit = 1
Value = Var(45)

[State -1] 
Type = ChangeState
TriggerAll = Var(59) <= 0
TriggerAll =! MoveHit
TriggerAll = Var(57)%10 != 2
Trigger1 = Command != "A溜め"
Trigger1 = Command != "B溜め"
Trigger1 = Command != "C溜め"
Trigger1 = Command = "Z溜め"
Trigger1 = Time = 4
Trigger1 = FVar(29) > 0
Value = 902

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 =! MoveHit
Trigger1 = AnimElem = 2, = 1
V = 36
Value = Ceil(-50*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;立ち　EX-シールド2
[Statedef 901]
Type    = S
MoveType= I
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 1
V = 36
Value = Ceil(75*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1]
Type = PowerSet
Trigger1 = Time = 0
Value = Var(15)
IgnoreHitPause = 1

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = 50
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 15
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s902, 0+Random%3
Channel = 1
IgnoreHitPause = 0
Persistent = 0

[State -1]
Type = ChangeAnim
Trigger1 = Time = 1
Value = 903

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 10910
ID = 10910+Var(57)%10
PosType = P1
Pos = 55,-65
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = 1
V = 2
Value = 302
IgnoreHitPause = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 16
EndCmdBufTime = 16
PauseBG = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 1
Time = 4
MoveTime = 4
PauseBG = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = Var(45) >= 1
Trigger1 = Time = 1
StateNo = 8070
ID = 8070
PosType = P1
Pos = 0,-55
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
TriggerAll = Var(45) >= 1
Trigger1 = Time = 1
Value = Var(45)

[State -1]
Type = ChangeState
Trigger1 = Time = 20
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 立ち　シールド
[Statedef 902]
Type    = S
Physics = S
Anim    = 902
Ctrl    = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
FV = 26
Value = 0

[State -1]
Type = VarSet
Trigger1 = Anim = 902
V = 15
Value = Power

[State -1]
Type = VarSet
Trigger1 = Anim = 903
V = 15
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = MoveHit = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = Anim = 902
Attr = SCA, NP, SP, HP
StateNo = 903
IgnoreHitPause = 1

[State -1]
Type = ReversalDef
Trigger1 = P2StateNo != [400,409]
Trigger1 = Anim = 902
Trigger1 =! MoveContact
Reversal.Attr = SA, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 16,20
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
ID = 900
GetPower = 50,0

[State -1]
Type = ReversalDef
Trigger1 = P2StateNo = [400,409]
Trigger1 = Anim = 902
Trigger1 =! MoveContact
Reversal.Attr = C, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 16,20
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
ID = 900
GetPower = 50,0

[State -1]
Type = Helper
Trigger1 = MoveHit = 1 && HitPauseTime = 16
StateNo = 10910
ID = 10915+Var(57)%10
PosType = P1
Pos = 55,-65
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetDrop
Trigger1 = NumTarget >= 5
ExcludeID = 900
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = MoveHit
Value = s902, 0+Random%3
Channel = 1
IgnoreHitPause = 0
Persistent = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = MoveHit = 2
V = 36
Value = Ceil(75*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 =! MoveHit
Trigger1 = Anim = 903
Trigger1 = AnimElem = 1, = 1
V = 36
Value = Ceil(-50*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1] 
Type = ChangeAnim
TriggerAll = Anim = 902
Trigger1 = Command != "Z溜め"
Trigger2 = MoveHit
Trigger3 = Time = IfElse(Var(57)%10=3,25,60)
Trigger4 = FVar(29) = 0 && Var(13) = 0
Trigger5 = Command = "a"
Trigger6 = Command = "b"
Trigger7 = Command = "c"
Value = 903

[State -1]
Type = PowerAdd
Trigger1 = Var(57)%10 = 3
Trigger1 = Var(13) = 0
Trigger1 = Anim = 902
Value = IfElse(Time%10=0,-12,-11)

[State -1]
Type = PowerAdd
Trigger1 = Var(57)%10 != 3
Trigger1 = Var(13) = 0
Trigger1 = Anim = 902
Value = -2

[State -1] 
Type = ChangeState
Trigger1 = Anim = 903
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;立ち　シールド2
[Statedef 903]
Type    = S
MoveType= I
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 1
V = 36
Value = Ceil(75*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 1
FV = 26
Value = 0

[State -1]
Type = PowerSet
Trigger1 = Time = 0
Value = Var(15)
IgnoreHitPause = 1

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = 50
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 15
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s902, 0+Random%3
Channel = 1
IgnoreHitPause = 0
Persistent = 0

[State -1]
Type = ChangeAnim
Trigger1 = Time = 1
Value = 903

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 10910
ID = 10915+Var(57)%10
PosType = P1
Pos = 55,-65
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = 1
V = 2
Value = 202
IgnoreHitPause = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 16
EndCmdBufTime = 16
PauseBG = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 1
Time = 4
MoveTime = 4
PauseBG = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = Var(45) >= 1
Trigger1 = Time = 1
StateNo = 8070
ID = 8070
PosType = P1
Pos = 0,-55
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
TriggerAll = Var(45) >= 1
Trigger1 = Time = 1
Value = Var(45)

[State -1]
Type = ChangeState
Trigger1 = Time = 20
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 立ちシールドカウンター
[Statedef 905]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 905
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Width
Trigger1 = AnimTime < 0
Value = 3,-1

[State -1]
Type = NotHitBy
Trigger1 = Time <= 11
Value = , NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 3
X = 16

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 8
ID = 217
PosType = P1
Pos = 8,0
Anim = 217
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 1
Value = s750, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 1
Value = s905, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.50
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 9
Attr = S, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(50-Var(4)%2))
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-13,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 905
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*50), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*50)
GivePower = Floor(FVar(31)*50), Floor(0.50*FVar(31)*50)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; しゃがみ　EX-シールド
[Statedef 910]
Type    = C
Physics = C
Anim    = 910
Ctrl    = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Var(57)%10 = 3
Trigger1 = Var(13) = 4
Trigger1 = Time = 0
FV = 26
Value = 1

[State -1]
Type = VelSet
TriggerAll = Time = 0
Trigger1 = PrevStateNo != [100,101]
X = 0
Y = 0

[State -1]
Type = VarSet
Trigger1 = Time = [0,4]
V = 15
Value = Power

[State -1] 
Type = ChangeAnim
TriggerAll = Anim = 910
Trigger1 = Var(57)%10 != 2
Trigger1 = Time = 4 &&! MoveHit
Trigger2 = MoveHit = 1
Value = 910
Elem = 3

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s900, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s900, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = NotHitBy
Trigger1 = MoveHit = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = AnimElem = 2, < 0
Attr = SCA, NP, SP, HP
StateNo = 911+IfElse((Var(57)%10=[2,3]),2,0)
IgnoreHitPause = 1

[State -1]
Type = ReversalDef
Trigger1 = (P2StateNo != [200,209]) && (P2StateNo != [600,609])
Trigger1 =! MoveContact
Reversal.Attr = C, NA,SA,HA,NP,SP,HP
Pausetime = 16,20
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
NumHits = 0
ID = 900
GetPower = 50,0

[State -1]
Type = ReversalDef
Trigger1 = (P2StateNo = [200,209]) || (P2StateNo = [600,609])
Trigger1 =! MoveContact
Reversal.Attr = SA, NA,SA,HA,NP,SP,HP
Pausetime = 16,20
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
NumHits = 0
ID = 900
GetPower = 50,0

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 940
ID = 941
Name = "Helper"
Ownpal = 1

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 941
ID = 951
Name = "Helper"
Ownpal = 1

[State -1]
Type = Helper
Trigger1 = MoveHit = 1 && HitPauseTime = 16
StateNo = 10910
ID = 10910+Var(57)%10
PosType = P1
Pos = 50,-45
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetDrop
Trigger1 = NumTarget >= 5
ExcludeID = 900
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = MoveHit
Value = s902, 0+Random%3
Channel = 1
IgnoreHitPause = 0
Persistent = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = MoveHit = 2
V = 36
Value = Ceil(75*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Command = "holdfwd" && Command = "ab" && Command != "holddown" && Command != "holdup" || Command = "holdfwd" && Command = "y" && Command != "holddown" && Command != "holdup"
Trigger1 = Time = [0,2]
V = 45
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Command = "holdback" && Command = "ab" && Command != "holddown" && Command != "holdup" || Command = "holdback" && Command = "y" && Command != "holddown" && Command != "holdup"
Trigger1 = Time = [0,2]
V = 45
Value = 105
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Var(57)%10 != 3 && Var(57)%10 != 5
TriggerAll = Command = "holddown"
TriggerAll = Command != "holdfwd" && Command != "holdback"
TriggerAll = Command = "ab" || Command = "x" || Command = "y"
Trigger1 = Time = [0,2]
V = 45
Value = 750
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Var(57)%10 = 3
TriggerAll = Command = "abc" || Command = "x" && Command != "holddown" && Command != "holdfwd" && Command != "holdback"
TriggerAll = FVar(13) = 0
TriggerAll = FVar(29) <= 3000
Trigger1 = Time = [0,2]
V = 45
Value = 850
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Var(57)%10 != 2
TriggerAll = Command = "abc" || Command = "x" && Command != "holddown" && Command != "holdfwd" && Command != "holdback"
TriggerAll = Time = [0,2]
Trigger1 = Var(13) = 1 || Var(13) = 5
Trigger2 = Var(57)%10 = 1 || Var(57)%10 = 4
Trigger2 = FVar(29) >= 1000
Trigger2 = Var(13) = 0
V = 45
Value = 960
IgnoreHitPause = 1

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = Var(45) >= 1
Trigger1 = MoveHit = 1
StateNo = 8070
ID = 8070
PosType = P1
Pos = 0,-55
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
TriggerAll = Var(45) >= 1
Trigger1 = MoveHit = 1
Value = Var(45)

[State -1] 
Type = ChangeState
TriggerAll = Var(59) <= 0
TriggerAll =! MoveHit
TriggerAll = Var(57)%10 != 2
Trigger1 = Command != "A溜め"
Trigger1 = Command != "B溜め"
Trigger1 = Command != "C溜め"
Trigger1 = Command = "Z溜め"
Trigger1 = Time = 4
Trigger1 = FVar(29) > 0
Value = 912

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 =! MoveHit
Trigger1 = AnimElem = 2, = 1
V = 36
Value = Ceil(-50*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ　EX-シールド2
[Statedef 911]
Type    = C
MoveType= I
Physics = C
Juggle  = 0
Ctrl = 0
VelSet = 0,0
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 1
V = 36
Value = Ceil(75*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1]
Type = PowerSet
Trigger1 = Time = 0
Value = Var(15)
IgnoreHitPause = 1

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = 50
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 15
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s902, 0+Random%3
Channel = 1
IgnoreHitPause = 0
Persistent = 0

[State -1]
Type = ChangeAnim
Trigger1 = Time = 1
Value = 913

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 10910
ID = 10910+Var(57)%10
PosType = P1
Pos = 50,-45
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = 1
V = 2
Value = 302
IgnoreHitPause = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 16
EndCmdBufTime = 16
PauseBG = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 1
Time = 4
MoveTime = 4
PauseBG = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = Var(45) >= 1
Trigger1 = Time = 1
StateNo = 8070
ID = 8070
PosType = P1
Pos = 0,-55
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
TriggerAll = Var(45) >= 1
Trigger1 = Time = 1
Value = Var(45)

[State -1]
Type = ChangeState
Trigger1 = Time = 20
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
; しゃがみ　シールド
[Statedef 912]
Type    = C
Physics = C
Anim    = 912
Ctrl    = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
FV = 26
Value = 0

[State -1]
Type = VarSet
Trigger1 = Anim = 912
V = 15
Value = Power

[State -1]
Type = VarSet
Trigger1 = Anim = 913
V = 15
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = MoveHit = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = Anim = 912
Attr = SCA, NP, SP, HP
StateNo = 913
IgnoreHitPause = 1

[State -1]
Type = ReversalDef
Trigger1 = (P2StateNo != [200,209]) && (P2StateNo != [600,609])
Trigger1 = Anim = 912
Trigger1 =! MoveContact
Reversal.Attr = C, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 16,20
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
ID = 900
GetPower = 50,0

[State -1]
Type = ReversalDef
Trigger1 = (P2StateNo = [200,209]) || (P2StateNo = [600,609])
Trigger1 = Anim = 912
Trigger1 =! MoveContact
Reversal.Attr = SA, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 16,20
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
ID = 900
GetPower = 50,0

[State -1]
Type = Helper
Trigger1 = MoveHit = 1 && HitPauseTime = 16
StateNo = 10910
ID = 10915+Var(57)%10
PosType = P1
Pos = 50,-45
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetDrop
Trigger1 = NumTarget >= 5
ExcludeID = 900
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = MoveHit
Value = s902, 0+Random%3
Channel = 1
IgnoreHitPause = 0
Persistent = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = MoveHit = 2
V = 36
Value = Ceil(75*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 =! MoveHit
Trigger1 = Anim = 913
Trigger1 = AnimElem = 1, = 1
V = 36
Value = Ceil(-50*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1] 
Type = ChangeAnim
TriggerAll = Anim = 912
Trigger1 = Command != "Z溜め"
Trigger2 = MoveHit
Trigger3 = Time = IfElse(Var(57)%10=3,25,60)
Trigger4 = FVar(29) = 0 && Var(13) = 0
Trigger5 = Command = "a"
Trigger6 = Command = "b"
Trigger7 = Command = "c"
Value = 913

[State -1]
Type = PowerAdd
Trigger1 = Var(57)%10 = 3
Trigger1 = Var(13) = 0
Trigger1 = Anim = 912
Value = IfElse(Time%10=0,-12,-11)

[State -1]
Type = PowerAdd
Trigger1 = Var(57)%10 != 3
Trigger1 = Var(13) = 0
Trigger1 = Anim = 912
Value = -2

[State -1] 
Type = ChangeState
Trigger1 = Anim = 913
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ　シールド2
[Statedef 913]
Type    = C
MoveType= I
Physics = C
Juggle  = 0
Ctrl = 0
VelSet = 0,0
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 1
V = 36
Value = Ceil(75*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 1
FV = 26
Value = 0

[State -1]
Type = PowerSet
Trigger1 = Time = 0
Value = Var(15)
IgnoreHitPause = 1

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = 50
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 15
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s902, 0+Random%3
Channel = 1
IgnoreHitPause = 0
Persistent = 0

[State -1]
Type = ChangeAnim
Trigger1 = Time = 1
Value = 913

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 10910
ID = 10915+Var(57)%10
PosType = P1
Pos = 50,-45
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = 1
V = 2
Value = 202
IgnoreHitPause = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 16
EndCmdBufTime = 16
PauseBG = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 1
Time = 4
MoveTime = 4
PauseBG = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = Var(45) >= 1
Trigger1 = Time = 1
StateNo = 8070
ID = 8070
PosType = P1
Pos = 0,-55
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
TriggerAll = Var(45) >= 1
Trigger1 = Time = 1
Value = Var(45)

[State -1]
Type = ChangeState
Trigger1 = Time = 20
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
; しゃがみシールドカウンター
[Statedef 915]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 915
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = Time <= 11
Value = , NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = PosAdd
Trigger1 = Time = [6,7]
X = 8

[State -1]
Type = PosAdd
Trigger1 = Time = [8,9]
X = 5.5

[State -1]
Type = PosAdd
Trigger1 = Time = [10,11]
X = 4

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 1
Value = s750, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 1
Value = s905, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.60
FV = 1
Value = 0.60
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = C, SA
Damage    = Ceil(FVar(0)*(100-Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = LA
Priority  = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -0.5,-4.1*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-0.5,-4),IfElse(Var(50)=1,-4.1,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 915
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*100), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
; 空中　EX-シールド
[Statedef 920]
Type    = A
Physics = A
Anim    = 920
Ctrl    = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Var(57)%10 = 3
Trigger1 = Var(13) = 4
Trigger1 = Time = 0
FV = 26
Value = 1

[State -1]
Type = VarSet
Trigger1 = Time = [0,6]
V = 15
Value = Power

[State -1] 
Type = ChangeAnim
TriggerAll = Anim = 920
Trigger1 = Var(57)%10 != 2
Trigger1 = Time = 6 &&! MoveHit
Trigger2 = MoveHit = 1
Value = 920
Elem = 2

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s900, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s900, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = NotHitBy
Trigger1 = MoveHit = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = AnimElem = 2, < 0
Attr = SCA, NP, SP, HP
StateNo = 921+IfElse((Var(57)%10=[2,3]),2,0)
IgnoreHitPause = 1

[State -1]
Type = ReversalDef
Trigger1 =! MoveContact
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
Pausetime = 16,20
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
NumHits = 0
ID = 900
GetPower = 50,0

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 940
ID = 942
Name = "Helper"
Ownpal = 1

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 941
ID = 952
Name = "Helper"
Ownpal = 1

[State -1]
Type = Helper
Trigger1 = MoveHit = 1 && HitPauseTime = 16
StateNo = 10910
ID = 10910+Var(57)%10
PosType = P1
Pos = 48,-52
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetDrop
Trigger1 = NumTarget >= 5
ExcludeID = 900
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = MoveHit
Value = s902, 0+Random%3
Channel = 1
IgnoreHitPause = 0
Persistent = 0

[State -1]
Type = PosFreeze
Trigger1 = MoveHit = 1

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = MoveHit = 2
V = 36
Value = Ceil(25*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
TriggerAll = Var(59) <= 0
TriggerAll =! MoveHit
TriggerAll = Var(57)%10 != 2
Trigger1 = Command != "A溜め"
Trigger1 = Command != "B溜め"
Trigger1 = Command != "C溜め"
Trigger1 = Command = "Z溜め"
Trigger1 = Time = 6
Trigger1 = FVar(29) > 0
Value = 922

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 =! MoveHit
Trigger1 = AnimElem = 2, = 1
V = 36
Value = Ceil(-50*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;空中　EX-シールド2
[Statedef 921]
Type    = A
MoveType= I
Physics = A
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 1
V = 36
Value = Ceil(25*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = PowerSet
Trigger1 = Time = 0
Value = Var(15)
IgnoreHitPause = 1

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = 50
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 15
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s902, 0+Random%3
Channel = 1
IgnoreHitPause = 0
Persistent = 0

[State -1]
Type = ChangeAnim
Trigger1 = Time = 1
Value = 923

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 10910
ID = 10910+Var(57)%10
PosType = P1
Pos = 48,-52
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = 1
V = 2
Value = 502
IgnoreHitPause = 1

[State -1]
Type = PosFreeze
Trigger1 = Time = 0

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 16
EndCmdBufTime = 16
PauseBG = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 1
Time = 4
MoveTime = 4
PauseBG = 0
IgnoreHitPause = 1
Persistent = 0

;---------------------------------------------------------------------------
; 空中　シールド
[Statedef 922]
Type    = A
Physics = A
Anim    = 922
Ctrl    = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
FV = 26
Value = 0

[State -1]
Type = VarSet
Trigger1 = Anim = 922
V = 15
Value = Power

[State -1]
Type = VarSet
Trigger1 = Anim = 923
V = 15
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = MoveHit = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = Anim = 922
Attr = SCA, NP, SP, HP
StateNo = 923
IgnoreHitPause = 1

[State -1]
Type = ReversalDef
Trigger1 = Anim = 922
Trigger1 =! MoveContact
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 16,20
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
ID = 900
GetPower = 50,0

[State -1]
Type = Helper
Trigger1 = MoveHit = 1 && HitPauseTime = 16
StateNo = 10910
ID = 10915+Var(57)%10
PosType = P1
Pos = 48,-52
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetDrop
Trigger1 = NumTarget >= 5
ExcludeID = 900
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = MoveHit
Value = s902, 0+Random%3
Channel = 1
IgnoreHitPause = 0
Persistent = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = MoveHit = 2
V = 36
Value = Ceil(25*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 =! MoveHit
Trigger1 = Anim = 923
Trigger1 = AnimElem = 1, = 1
V = 36
Value = Ceil(-50*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1] 
Type = ChangeAnim
TriggerAll = Anim = 922
Trigger1 = Command != "Z溜め"
Trigger2 = MoveHit
Trigger3 = Time = IfElse(Var(57)%10=3,25,60)
Trigger4 = FVar(29) = 0 && Var(13) = 0
Trigger5 = Command = "a"
Trigger6 = Command = "b"
Trigger7 = Command = "c"
Value = 923

[State -1]
Type = PowerAdd
Trigger1 = Var(57)%10 = 3
Trigger1 = Var(13) = 0
Trigger1 = Anim = 922
Value = IfElse(Time%10=0,-12,-11)

[State -1]
Type = PowerAdd
Trigger1 = Var(57)%10 != 3
Trigger1 = Var(13) = 0
Trigger1 = Anim = 922
Value = -2

;---------------------------------------------------------------------------
;空中　シールド2
[Statedef 923]
Type    = A
MoveType= I
Physics = A
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 1
V = 36
Value = Ceil(25*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,0.70,IfElse(Var(57)%10=3,1.20,1.25))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 1
FV = 26
Value = 0

[State -1]
Type = PowerSet
Trigger1 = Time = 0
Value = Var(15)
IgnoreHitPause = 1

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = 50
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 15
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s902, 0+Random%3
Channel = 1
IgnoreHitPause = 0
Persistent = 0

[State -1]
Type = ChangeAnim
Trigger1 = Time = 1
Value = 923

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 10910
ID = 10910+Var(57)%10
PosType = P1
Pos = 48,-52
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = 1
V = 2
Value = 202
IgnoreHitPause = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 16
EndCmdBufTime = 16
PauseBG = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 1
Time = 4
MoveTime = 4
PauseBG = 0
IgnoreHitPause = 1
Persistent = 0

;---------------------------------------------------------------------------
; 空中シールドカウンター
[Statedef 925]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 925
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Width
Trigger1 = Vel Y + Pos Y < 0
Player = 6,-5

[State -1]
Type = NotHitBy
Trigger1 = Time <= 13
Value = , NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = VelSet
Trigger1 = Time <= 8
Y = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 1
Value = s750, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 1
Value = s905, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 625
PosType = P1
Pos = 2,-1
Anim = 625
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.50
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = A, SA
Damage = Ceil(FVar(0)*(50-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -1,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 925
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*50), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*50)
GivePower = Floor(FVar(31)*50), Floor(0.50*FVar(31)*50)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; シールドバンカー
[Statedef 930]
Type      = S
Physics   = S
Ctrl      = 0
Anim      = IfElse((Var(57)%10=2&&PrevStateNo=[150,153]),934,930)
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VelSet
TriggerAll = Time = 0
Trigger1 = PrevStateNo != [100,101]
X = 0
Y = 0

[State -1]
Type = PowerAdd
Trigger1 = Var(13) = 0
Trigger1 = Time = 0
Trigger1 = PrevStateNo = [150,153]
Value = Ceil(IfElse(Var(57)%10=2,-1000,-500)*IfElse(Var(57)%10=2,1.429,IfElse(Var(57)%10=3,1.112,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = Var(13) = [1,4]
Trigger1 = Time = 0
Trigger1 = PrevStateNo = [150,153]
FV = 29
Value = IfElse(Var(13)=4,-600,-1200)

[State -1]
Type = VarSet
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 43
Value = 420
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Anim != 934
Trigger1 = Time = [0,9]
V = 15
Value = Power

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(45) = 0
TriggerAll = Command = "jump"
Trigger1 = Time = 0
Trigger1 = PrevStateNo = [150,153]
V = 45
Value = 41

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(45) = 0
TriggerAll = Command = "jump2"
Trigger1 = Time = 0
Trigger1 = PrevStateNo = [150,153]
V = 45
Value = 42

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(45) = 0
TriggerAll = Command = "FF" || Command = "holdfwd" && Command = "ab" && Command != "holddown" && Command != "holdup"
Trigger1 = Time = 0
Trigger1 = PrevStateNo = [150,153]
V = 45
Value = 100

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(45) = 0
TriggerAll = Command = "BB" || Command = "holdback" && Command = "ab" && Command != "holddown" && Command != "holdup"
Trigger1 = Time = 0
Trigger1 = PrevStateNo = [150,153]
V = 45
Value = 105

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(45) = 0
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Command = "holddown"
TriggerAll = Command != "holdfwd" && Command != "holdback"
TriggerAll = Command = "ab" || Command = "x" || Command = "y"
Trigger1 = Time = 0
V = 45
Value = 750

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Command = "abc" || Command = "x" && Command != "holddown" && Command != "holdfwd" && Command != "holdback"
TriggerAll = Var(45) = 0
TriggerAll = Time = 0
TriggerAll = PrevStateNo = [150,153]
Trigger1 = Var(13) = 1 || Var(13) = 5
Trigger2 = Var(57)%10 = 1 || Var(57)%10 = 4
Trigger2 = FVar(29) >= 1000
Trigger2 = Var(13) = 0
V = 45
Value = 960

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 != 2
TriggerAll = Command = "41236c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = (Var(13) = [1,3]) || Var(13) = 5
V = 45
Value = 3000

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Command = "41236c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = Var(13) = 4 || Var(57)/100%10 = 2 && (Var(13) = [1,3]) || Var(57)/100%10 = 2 && Var(13) = 5
V = 45
Value = 3050

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 1 || Var(57)/100%10 = 4
TriggerAll = Command = "623a" || Command = "623b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "623a",1200,1250)

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 1
TriggerAll = Command = "623c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = FVar(29) >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = [1,5]
V = 45
Value = 2200

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 2
TriggerAll = Command = "623a" || Command = "623b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "623a",1201,1251)

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 2
TriggerAll = Command = "623c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = FVar(29) >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = [1,5]
V = 45
Value = 2210

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 3
TriggerAll = Command = "623a" || Command = "623b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "623a",1202,1252)

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 3
TriggerAll = Command = "623c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = FVar(29) >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = [1,5]
V = 45
Value = 2220

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 4
TriggerAll = Command = "623c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = FVar(29) >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = [1,5]
V = 45
Value = 2230

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 1 || Var(57)/100%10 = 4
TriggerAll = Command = "236a" || Command = "236b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "236a",1000,1050)

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 1 || Var(57)/100%10 = 4
TriggerAll = Command = "236c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = FVar(29) >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = [1,5]
V = 45
Value = 2000

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 2
TriggerAll = Command = "236a" || Command = "236b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "236a",1010,1060)

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 2
TriggerAll = Command = "236c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = FVar(29) >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = [1,5]
V = 45
Value = 2010

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 3
TriggerAll = Command = "236a" || Command = "236b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "236a",1500,1550)

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 3
TriggerAll = Command = "236c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = FVar(29) >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = [1,5]
V = 45
Value = 2500

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Command = "22a" || Command = "22c"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "22a",1300,1320)

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Command = "22b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse((Var(57)/100%10 = [2,3]),1312,1310)

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 2 || Var(57)/100%10 = 4
TriggerAll = Command = "421a" || Command = "421b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "421a",1600,1650)

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 2 || Var(57)/100%10 = 4
TriggerAll = Command = "421c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = FVar(29) >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = [1,5]
V = 45
Value = 2600

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 1 || Var(57)/100%10 = 3
TriggerAll = Command = "214a" || Command = "214b" || Command = "214c"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "214a",1100,IfElse(Command = "214b",1110,1120))

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 2 || Var(57)/100%10 = 4
TriggerAll = Command = "214a" || Command = "214b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "214a",1400,1410)

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 2 || Var(57)/100%10 = 4
TriggerAll = Command = "214c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = FVar(29) >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = [1,5]
V = 45
Value = 2400

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(45) = 0
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Command = "az" || Command = "x" && Command != "holddown"
TriggerAll = Time = 0
Trigger1 = Command = "holdfwd"
Trigger2 = Command = "holdback"
V = 45
Value = 800

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(45) >= 1
Trigger1 = PrevStateNo = [150,153]
Trigger1 = NumHelper(8060) = 0
Trigger1 = Time = 0
StateNo = 8060
PosType = P1
Pos = 0, -55
Ownpal = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 8060

[State -1]
Type = ChangeState
TriggerAll = Var(57)%10 = 4
Trigger1 = Var(45) >= 1
Value = Var(45)

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = NumHelper(8050) = 0
Trigger1 = Time = 0
StateNo = 8050
PosType = P1
Pos = 0, -55
Ownpal = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 8050

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = Time = [0,9]
Attr = SCA, NP, SP, HP
StateNo = 931
IgnoreHitPause = 1

[State -1]
Type = ReversalDef
TriggerAll = AnimElem = 1
Trigger1 = Anim != 934
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
Pausetime = 16,16
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
GetPower = 20,0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s900, 0

[State -1]
Type = Explod
Trigger1 = Anim = 934
Trigger1 = Time = 0
Anim = 10935
ID = 10935
Pos = -6,-75
Scale = 0.5,0.5
PosType = P1
Ownpal = 1
SprPriority = 5
BindTime = -1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = Anim = 934
Trigger1 = Time = 0
StateNo = 940
ID = 932
Name = "Helper"
Ownpal = 1

[State -1]
Type = Helper
TriggerAll = Time = 0
Trigger1 = Anim != 934
StateNo = 940
ID = 931
Name = "Helper"
Ownpal = 1

[State -1]
Type = Helper
Trigger1 = MoveHit
StateNo = 10930
ID = 10930
PosType = P1
Pos = 30,-65
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1, = 1
Value = s930, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 932

[State -1]
Type = ChangeState
Trigger1 = MoveHit = 1
Value = 933

[State -1]
Type = NotHitBy
Trigger1 = Anim = 934
Value = , NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
type = PlaySnd
Trigger1 = Anim = 934
Trigger1 = Time = 0
value = s901, 0 + Random%2

[State -1]
Type = ChangeState
Trigger1 = Anim = 934
Trigger1 = Time = 0
Value = 934

;---------------------------------------------------------------------------
; シールドバンカー2
[Statedef 931]
Type      = S
Physics   = S
Ctrl      = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PowerSet
Trigger1 = Time = 0
Value = Var(15)
IgnoreHitPause = 1

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = 20
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 15
Value = 0

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 10930
ID = 10930
PosType = P1
Pos = 35,-65
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 16
EndCmdBufTime = 16
PauseBG = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = ChangeState
Trigger1 = Time = 1
Value = 933

;---------------------------------------------------------------------------
;シールドバンカー
[Statedef 932]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 932

[State -1]
Type = Width
Trigger1 = AnimTime < 0
Value = 4,-2

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 4
Trigger2 = AnimElem = 5
X = 9.8

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 4
ID = 935
PosType = P1
Pos = 5,-2
Anim = 935
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.30
FV = 1
Value = 0.30
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)%10 != 4
Trigger1 = AnimElem = 6
Attr = S, SA
Damage = Ceil(FVar(0)*(50-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound = s20, 0
GuardSound = s120, 0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Air.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -1,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 930
Kill = 0
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)%10 = 4
Trigger1 = AnimElem = 6
Attr = S, SA
Damage = Ceil(FVar(0)*(110-Var(4)%2))
AnimType = Up
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound = s20, 0
GuardSound = s120, 0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Air.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 930
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*100), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;シールド成立シールドバンカー
[Statedef 933]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 933

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = , NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Width
Trigger1 = AnimTime < 0
Value = 4,-2

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 3, = [0,1]
X = 11.7

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 935
PosType = P1
Pos = 5,-2
Anim = 935
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.30
FV = 1
Value = 0.30
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)%10 != 4
Trigger1 = AnimElem = 4
Attr = S, SA
Damage = Ceil(FVar(0)*(50-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound = s20, 0
GuardSound = s120, 0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Air.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -1,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 930
Kill = 0
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)%10 = 4
Trigger1 = AnimElem = 4
Attr = S, SA
Damage = Ceil(FVar(0)*(110-Var(4)%2))
AnimType = Up
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound = s20, 0
GuardSound = s120, 0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Air.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 930
P2Facing = 1
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*100), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;Hガーキャンシールドバンカー
[Statedef 934]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = , NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Width
Trigger1 = AnimElem = 6, < 0
Value = 3,-1

[State -1]
Type = Width
Trigger1 = AnimElem = 6, >= 0
Trigger1 = AnimTime < 0
Value = 4,-2

[State -1]
Type = PalFX
Trigger1 = Time = [0,14]
Time = 1
Add = 210-Var(54),210-Var(54),210-Var(54)

[State -1]
Type = VarAdd
Trigger1 = Time = [1,14]
V = 54
Value = 15

[State -1]
Type = VarSet
Trigger1 = Time = 15
V = 54
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1, = 1
Value = s930, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 9
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 9
ID = 935
PosType = P1
Pos = 5,-2
Anim = 935
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 9
Trigger2 = AnimElem = 10
X = 13.8

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 11
Attr = S, SA
Damage = 0
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound = s20, 0
GuardSound = s120, 0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Air.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -1,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
P2StateNo = 938
ID = 930
P2Facing = 1
Kill = 0
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; Hガードキャンセルシールドバンカー・投げられている相手
[Statedef 938]
Type     = A
MoveType = H
Physics  = N
Ctrl     = 0
VelSet   = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = HitFallSet
Trigger1 = 1
Value = 0

[State -1]
Type = OffSet
Trigger1 = Time >= 0
X = IfElse(Time%4=0,0.5,-0.5)
Persistent = 2

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = 1
Value = 5030

[State -1]
Type = ChangeState
Trigger1 = GetHitVar(HitShakeTime) = 0
Value = 939

;---------------------------------------------------------------------------
; Hガードキャンセルシールドバンカー・相手の空中の状態
[Statedef 939]
Type     = A
MoveType = H
Physics  = N
Ctrl     = 0
VelSet = -1,-9

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 0
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050

[State -1] ;これは重力これは毎フレーム事に0.4の力が加わります
Type = VelAdd
Trigger1 = 1
y = .6

[State -1] 
Type = HitFallSet
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
Value = 1

[State -1] 
Type = SelfState
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
Value = 5100

;---------------------------------------------------------------------------
; イニシアティブヒート
[Statedef 950]
Type    = U
Physics = U
Ctrl    = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
FV = 24
Value = 16
IgnoreHitPause = 1

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = EnvShake
Trigger1 = Time = 0
Time  = 10
Ampl  = 5
Freq  = 90
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
V = 14
Value = 10
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
V = 13
Value = 2
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Time = 0
V = 36
Value = 100
IgnoreHitPause = 1

[State -2]
Type = PlaySnd
TriggerAll = Var(0)/100%10 = 0
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Value = s25000, 0

[State -1]
Type = LifeSet
TriggerAll = Life < FVar(9)
TriggerAll = Alive && Life > 0 && !LoseKO && RoundState = 2
TriggerAll = Var(57)%10 = 3
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Value = Ceil(FVar(9))
IgnoreHitPause = 1

[State -1]
Type = Explod
Trigger1 = NumExplod(10955) = 0
Trigger1 = Time = 0
Anim = 10955
ID = 10955
Postype = P1
Pos = 0,-115
Scale = 0.5,0.5
Ownpal = 1
SprPriority = -5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = StateType != A
Trigger1 = Time = 0
Anim = 10952
ID = 10952
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = StateType != A
Trigger1 = Time = 0
Anim = 10950
ID = 10950
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = StateType != A
Trigger1 = Time = 0
Anim = 10951
ID = 10951
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
Trigger1 = NumHelper(8040) = 0
Trigger1 = Time = 0
StateNo = 8040
PosType = P1
Pos = 0, -60
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ID = 8040

[State -1] 
Type = Pause
Trigger1 = Time = 0
Time = 1
MoveTime = 1
PauseBG = 0
IgnoreHitPause = 1
Persistent = 0

[State -1] 
Type = ChangeState
Trigger1 = Time = 0
Value = IfElse(StateType=A,51,0)

;---------------------------------------------------------------------------
;強制開放
[Statedef 960]
Type     = S
MoveType = A
Physics  = S
Anim     = 960
Ctrl     = 0
VelSet = 0,0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,21]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = NotHitBy
Trigger1 = Var(57)%10 = 4
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = EnvShake
Trigger1 = Time = 15
Time  = 25
Ampl  = 5
Freq  = 90

[State -1]
Type = PlaySnd
Trigger1 = Time = 15
Value = s960, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s960, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PalFX
Trigger1 = Time = [14,34]
Time = 1
Add = 240-Var(55),240-Var(55),240-Var(55)
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Time = [15,34]
V = 55
Value = 12

[State -1]
Type = VarSet
Trigger1 = AnimTime = 0
V = 55
Value = 0

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 14
V = 14
Value = IfElse(Var(13)=0,10,60)
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 14
V = 13
Value = IfElse(Var(13)=0,2,4)
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Time = 14
V = 36
Value = 100
IgnoreHitPause = 1

[State -2]
Type = PlaySnd
TriggerAll = Var(0)/100%10 = 0
Trigger1 = RoundState = 2
Trigger1 = Time = 14
Value = s25000, 0

[State -1]
Type = LifeSet
TriggerAll = Life < FVar(9)
TriggerAll = Alive && Life > 0 && !LoseKO && RoundState = 2
TriggerAll = Var(57)%10 = 3
Trigger1 = RoundState = 2
Trigger1 = Time = 14
Value = Ceil(FVar(9))
IgnoreHitPause = 1

[State -1]
Type = Explod
TriggerAll = Var(57)%10 != 3
Trigger1 = Time = 14
Anim = 10965
ID = 10965
Postype = Left
Pos = Ceil(160*FVar(37)),0
Scale = 0.5,0.5
Ownpal = 1
BindTime = -1
SprPriority = 5
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Var(57)%10 != 3
Trigger1 = Time = 11
StateNo = 10968
SuperMoveTime = 9999
PauseMoveTime = 9999
Ownpal = 1
ID = 10968

[State -1]
Type = Explod
Trigger1 = Time = 16
Anim = 10952
ID = 10952
Postype = P1
Pos = 0,10
Scale = 0.5,0.5
Vel = 1,0
Accel = .25,0
Facing = -1
Ownpal = 1
SprPriority = 3
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 16
Anim = 10950
ID = 10950
Postype = P1
Pos = 0,10
Scale = 0.5,0.5
Vel = 1,0
Accel = .25,0
Facing = -1
Ownpal = 1
SprPriority = 3
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 16
Anim = 10951
ID = 10951
Postype = P1
Pos = 0,10
Scale = 0.5,0.5
Vel = 1,0
Accel = .25,0
Facing = -1
Ownpal = 1
SprPriority = 3
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 18
Anim = 10952
ID = 10952
Postype = P1
Pos = 16,2
Scale = 0.5,0.5
Vel = -1,0
Accel = -.25,0
Ownpal = 1
SprPriority = 3
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 18
Anim = 10950
ID = 10950
Postype = P1
Pos = 16,2
Scale = 0.5,0.5
Vel = -1,0
Accel = -.25,0
Ownpal = 1
SprPriority = 3
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 18
Anim = 10951
ID = 10951
Postype = P1
Pos = 16,2
Scale = 0.5,0.5
Vel = -1,0
Accel = -.25,0
Ownpal = 1
SprPriority = 3
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
Trigger1 = Time = 16
StateNo = 8030
PosType = P1
Pos = 10,-75
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ID = 8030

[State -1]
Type = Explod
Trigger1 = Time = [22,34]
Anim = 10952
ID = 10952
Postype = P1
Pos = 0,8
Scale = 0.5,0.5
Vel = 1,0
Accel = .25,0
Facing = -1
Ownpal = 1
SprPriority = 3
Persistent = 6
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = [22,34]
Anim = 10950
ID = 10950
Postype = P1
Pos = 0,8
Scale = 0.5,0.5
Vel = 1,0
Accel = .25,0
Facing = -1
Ownpal = 1
SprPriority = 3
Persistent = 6
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = [22,34]
Anim = 10951
ID = 10951
Postype = P1
Pos = 0,8
Scale = 0.5,0.5
Vel = 1,0
Accel = .25,0
Facing = -1
Ownpal = 1
SprPriority = 3
Persistent = 6
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = [22,34]
Anim = 10952
ID = 10952
Postype = P1
Pos = 16,8
Scale = 0.5,0.5
Vel = -1,0
Accel = -.25,0
Ownpal = 1
SprPriority = 3
Persistent = 6
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = [22,34]
Anim = 10950
ID = 10950
Postype = P1
Pos = 16,8
Scale = 0.5,0.5
Vel = -1,0
Accel = -.25,0
Ownpal = 1
SprPriority = 3
Persistent = 6
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = [22,34]
Anim = 10951
ID = 10951
Postype = P1
Pos = 16,8
Scale = 0.5,0.5
Vel = -1,0
Accel = -.25,0
Ownpal = 1
SprPriority = 3
Persistent = 6
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 1
Trigger1 = Time = 15
Attr = S, NA
Damage = Ceil(FVar(0)*(10-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0, 7+7*IfElse(Var(38)>0,1,0)+Var(41)
SparkNo = -1
Guard.SparkNo = -1
HitSound = s10, 2
Ground.Type = High
Air.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Air.HitTime = 30-Ceil(FVar(35))
Ground.Velocity = 0
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
P2Facing = 1
Kill = 0
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)
P2StateNo = 5600
ID = 5600

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 2
Trigger1 = Time = 15
Attr = S, NA
Damage = Ceil(FVar(0)*(10-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0, 7+7*IfElse(Var(38)>0,1,0)+Var(41)
SparkNo = -1
Guard.SparkNo = -1
HitSound = s10, 2
Ground.Type = High
Air.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = 0
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
Kill = 0
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)
ID = 960

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;空中強制開放
[Statedef 970]
Type     = A
MoveType = A
Physics  = A
Anim     = 970
Ctrl     = 0
VelSet = 0,0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,12]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = NotHitBy
Trigger1 = Var(57)%10 = 4
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 14

[State -1]
Type = EnvShake
Trigger1 = Time = 10
Time  = 25
Ampl  = 5
Freq  = 90

[State -1]
Type = PlaySnd
Trigger1 = Time = 10
Value = s960, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s960, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PalFX
Trigger1 = Time = [9,29]
Time = 1
Add = 240-Var(55),240-Var(55),240-Var(55)
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Time = [10,29]
V = 55
Value = 12

[State -1]
Type = VarSet
Trigger1 = Time = 30
V = 55
Value = 0

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 9
V = 14
Value = IfElse(Var(13)=0,10,60)
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 9
V = 13
Value = IfElse(Var(13)=0,2,4)
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Time = 9
V = 36
Value = 100
IgnoreHitPause = 1

[State -2]
Type = PlaySnd
TriggerAll = Var(0)/100%10 = 0
Trigger1 = RoundState = 2
Trigger1 = Time = 9
Value = s25000, 0

[State -1]
Type = VelSet
Trigger1 = Time <= 27
Y = 0

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
Trigger1 = Time = 4
StateNo = 8040
PosType = P1
Pos = 0, -60
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ID = 8040

[State -1]
Type = Explod
TriggerAll = Var(57)%10 != 3
Trigger1 = Time = 9
Anim = 10965
ID = 10965
Postype = Left
Pos = Ceil(160*FVar(37)),0
Scale = 0.5,0.5
Ownpal = 1
BindTime = -1
SprPriority = 5
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Var(57)%10 != 3
Trigger1 = Time = 6
StateNo = 10968
SuperMoveTime = 9999
PauseMoveTime = 9999
Ownpal = 1
ID = 10968

[State -1]
Type = Explod
Trigger1 = Time = 6
Anim = 10970
ID = 10970
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 4
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 1
Trigger1 = Time = 10
Attr = A, NA
Damage = Ceil(FVar(0)*(10-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0, 7+7*IfElse(Var(38)>0,1,0)+Var(41)
SparkNo = -1
Guard.SparkNo = -1
HitSound = s10, 2
Ground.Type = High
Air.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Air.HitTime = 30-Ceil(FVar(35))
Ground.Velocity = 0
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
P2Facing = 1
Kill = 0
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)
P2StateNo = 5600
ID = 5600

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 2
Trigger1 = Time = 10
Attr = A, NA
Damage = Ceil(FVar(0)*(10-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0, 7+7*IfElse(Var(38)>0,1,0)+Var(41)
SparkNo = -1
Guard.SparkNo = -1
HitSound = s10, 2
Ground.Type = High
Air.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = 0
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
Kill = 0
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)
ID = 970

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

;---------------------------------------------------------------------------
; C閃鞘・八点衝EX
[Statedef 2000]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 2000+IfElse(Var(57)/100%10=4,20,0)
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 48
V = 55
Value = 0

[State -1]
Type = Helper
Trigger1 = Anim = 2000
Trigger1 = AnimElem = 6
StateNo = 9500
ID = 9501
Ownpal = 0

[State -1]
Type = Helper
TriggerAll = Anim = 2000
Trigger1 = AnimElem = 7
Trigger2 = AnimElem = 19
Trigger3 = AnimElem = 31
StateNo = 9500
ID = 9502
Ownpal = 0

[State -1]
Type = PosSet
TriggerAll = NumHelper(9501) > 0
TriggerAll = Anim = 2000
TriggerAll = AnimElem = 6, >= 0
Trigger1 = Facing = 1
Trigger1 = Pos X > Helper(9501),Pos X
Trigger2 = Facing = -1
Trigger2 = Pos X < Helper(9501),Pos X
X = Ceil(Helper(9501),Pos X)

[State -1]
Type = PosSet
TriggerAll = NumHelper(9502) > 0
TriggerAll = Anim = 2000
TriggerAll = AnimElem = 7, >= 0
Trigger1 = Facing = 1
Trigger1 = Pos X > Helper(9502),Pos X
Trigger2 = Facing = -1
Trigger2 = Pos X < Helper(9502),Pos X
X = Ceil(Helper(9502),Pos X)

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 4
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 4
V = 44
Value = 30

[State -1]
Type = NotHitBy
Trigger1 = Var(57)/100%10 != 4
Trigger1 = Time = [0,33]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = NotHitBy
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Time = [0,38]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 4
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = 7,-46
PosType = P1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 4
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.429,IfElse(Var(57)%10=3,1.112,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 4
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-600,-1200)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 4
V = 43
Value = 420
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s2000, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PosAdd
Trigger1 = Time = [0,2]
X = 1

[State -1]
Type = VarAdd
TriggerAll = Var(59) <= 0
TriggerAll = Var(55) <= 19
Trigger1 = Time = [36,111]
Trigger1 = Command = "holdfwd"
V = 55
Value = 1

[State -1]
Type = VarAdd
TriggerAll = Var(59) <= 0
TriggerAll = Var(55) >= -19
Trigger1 = Time = [36,111]
Trigger1 = Command = "holdback"
V = 55
Value = -1

[State -1]
Type = VelSet
Trigger1 = Time = 36
X = 0

[State -1]
Type = VelSet
TriggerAll = Var(59) <= 0
Trigger1 = Var(57)/100%10 = 1
Trigger1 = Time = [36,130]
Trigger2 = Var(57)/100%10 = 4
Trigger2 = Time = [36,128]
X = Var(55)/10.00

[State -1]
Type = VelSet
Trigger1 = AnimElem = 48
X = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 7, = 2
ID = 1005
PosType = P1
Pos = 45,-33
Anim = 1005
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 15
ID = 1005
PosType = P1
Pos = 45,-33
Anim = 1005
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 19, = 2
ID = 1005
PosType = P1
Pos = 45,-33
Anim = 1005
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 27
ID = 1005
PosType = P1
Pos = 45,-33
Anim = 1005
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 31, = 2
ID = 1005
PosType = P1
Pos = 45,-33
Anim = 1005
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 39
ID = 1005
PosType = P1
Pos = 45,-33
Anim = 1005
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = [39,109]
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 4

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2000) > 0
Trigger1 = Target(2000),StateNo = 5020 || Target(2000),StateNo = 5080
V = 24
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2000) > 0
Trigger1 = Target(2000),StateNo = 5020 || Target(2000),StateNo = 5080
V = 50
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/100%10 = 1
Trigger1 = AnimElem = 8
Trigger2 = AnimElem = 20
Trigger3 = AnimElem = 32
Attr = S, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(30-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(30-Var(4)%2))),Ceil(FVar(0)/FVar(3)*3)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,IfElse(Var(50)=1,9+9*IfElse(Var(38)>0,1,0)+Var(41),9)
Guard.PauseTime = 0,9
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Guard.SlideTime = 10
Guard.HitTime  = 10
AirGuard.CtrlTime = 8
Ground.Velocity = -9.5
Guard.Velocity = -4
Air.Velocity = -2.5,-7.2
AirGuard.Velocity = -4,-1
Down.Velocity = -2.5,-7.2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 9
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2000
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,50+Var(41),50))
GetPower = Ceil(IfElse(Var(50)=2,0.45,1)*FVar(30)*15), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*15)
GivePower = Floor(FVar(31)*15), Floor(0.50*FVar(31)*15)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/100%10 = 1
Trigger1 = AnimElem = 10
Trigger2 = AnimElem = 12
Trigger3 = AnimElem = 14
Trigger4 = AnimElem = 16
Trigger5 = AnimElem = 18
Trigger6 = AnimElem = 22
Trigger7 = AnimElem = 24
Trigger8 = AnimElem = 26
Trigger9 = AnimElem = 28
Trigger10 = AnimElem = 30
Trigger11 = AnimElem = 34
Trigger12 = AnimElem = 36
Trigger13 = AnimElem = 38
Trigger14 = AnimElem = 40
Trigger15 = AnimElem = 42
Attr = S, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(28-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(28-Var(4)%2))),Ceil(FVar(0)/FVar(3)*3)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,IfElse(Var(50)=1,9+9*IfElse(Var(38)>0,1,0)+Var(41),9)
Guard.PauseTime = 0,9
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Guard.SlideTime = 10
Guard.HitTime  = 10
AirGuard.CtrlTime = 8
Ground.Velocity = -9.5
Guard.Velocity = -4
Air.Velocity = -2.5,-7.2
AirGuard.Velocity = -4,-1
Down.Velocity = -2.5,-7.2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 9
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2000
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,50+Var(41),50))
GetPower = Ceil(IfElse(Var(50)=2,0.45,1)*FVar(30)*15), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*15)
GivePower = Floor(FVar(31)*15), Floor(0.50*FVar(31)*15)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/100%10 = 4
Trigger1 = AnimElem = 8
Trigger2 = AnimElem = 20
Trigger3 = AnimElem = 32
Attr = S, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(30-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(30-Var(4)%2))),Ceil(FVar(0)/FVar(3)*3)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,IfElse(Var(50)=1,16+16*IfElse(Var(38)>0,1,0)+Var(41),16)
Guard.PauseTime = 0,16
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -9.5
Air.Velocity = -2.5,-7.2
AirGuard.Velocity = -4,-1
Down.Velocity = -2.5,-7.2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
NumHits = 3
EnvShake.Time = 16
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2000
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,57+Var(41),57))
GetPower = Ceil(IfElse(Var(50)=2,0.45,1)*FVar(30)*15), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*15)
GivePower = Floor(FVar(31)*15), Floor(0.50*FVar(31)*15)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/100%10 = 4
Trigger1 = AnimElem = 10
Trigger2 = AnimElem = 12
Trigger3 = AnimElem = 14
Trigger4 = AnimElem = 16
Trigger5 = AnimElem = 18
Trigger6 = AnimElem = 22
Trigger7 = AnimElem = 24
Trigger8 = AnimElem = 26
Trigger9 = AnimElem = 28
Trigger10 = AnimElem = 30
Trigger11 = AnimElem = 34
Trigger12 = AnimElem = 36
Trigger13 = AnimElem = 38
Trigger14 = AnimElem = 40
Trigger15 = AnimElem = 42
Attr = S, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(30-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(30-Var(4)%2))),Ceil(FVar(0)/FVar(3)*3)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,IfElse(Var(50)=1,16+16*IfElse(Var(38)>0,1,0)+Var(41),16)
Guard.PauseTime = 0,16
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -9.5
Air.Velocity = -2.5,-7.2
AirGuard.Velocity = -4,-1
Down.Velocity = -2.5,-7.2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
NumHits = 3
EnvShake.Time = 16
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2000
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,57+Var(41),57))
GetPower = Ceil(IfElse(Var(50)=2,0.45,1)*FVar(30)*15), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*15)
GivePower = Floor(FVar(31)*15), Floor(0.50*FVar(31)*15)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; H閃鞘・八点衝EX
[Statedef 2010]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 2010
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 6
StateNo = 9500
ID = 9501
Ownpal = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 7
Trigger2 = AnimElem = 19
Trigger3 = AnimElem = 31
StateNo = 9500
ID = 9502
Ownpal = 0

[State -1]
Type = PosSet
TriggerAll = NumHelper(9501) > 0
TriggerAll = AnimElem = 6, >= 0
Trigger1 = Facing = 1
Trigger1 = Pos X > Helper(9501),Pos X
Trigger2 = Facing = -1
Trigger2 = Pos X < Helper(9501),Pos X
X = Ceil(Helper(9501),Pos X)

[State -1]
Type = PosSet
TriggerAll = NumHelper(9502) > 0
TriggerAll = AnimElem = 7, >= 0
Trigger1 = Facing = 1
Trigger1 = Pos X > Helper(9502),Pos X
Trigger2 = Facing = -1
Trigger2 = Pos X < Helper(9502),Pos X
X = Ceil(Helper(9502),Pos X)

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 4
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 4
V = 44
Value = 30

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,33]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 4
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = 6,-46
PosType = P1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 4
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.429,IfElse(Var(57)%10=3,1.112,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 4
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-600,-1200)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 4
V = 43
Value = 420
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s2000, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PosAdd
Trigger1 = Time = 1
X = 7

[State -1]
Type = PosAdd
Trigger1 = Time = 2
X = 4

[State -1]
Type = PosAdd
Trigger1 = Time = 3
X = 3

[State -1]
Type = PosAdd
Trigger1 = Time = 33
X = 2

[State -1]
Type = PosAdd
Trigger1 = Time = [34,35]
X = 8

[State -1]
Type = PosAdd
Trigger1 = Time = [36,37]
X = 5

[State -1]
Type = PosAdd
Trigger1 = Time = [38,39]
X = 2

[State -1]
Type = PosAdd
Trigger1 = Time = [40,41]
X = 1

[State -1]
Type = PosAdd
Trigger1 = Time = [42,43]
X = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 7, = 2
ID = 1005
PosType = P1
Pos = 33,-33
Anim = 1005
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 15
ID = 1005
PosType = P1
Pos = 45,-33
Anim = 1005
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 19, = 2
ID = 1005
PosType = P1
Pos = 45,-33
Anim = 1005
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 27
ID = 1005
PosType = P1
Pos = 45,-33
Anim = 1005
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 31, = 2
ID = 1005
PosType = P1
Pos = 45,-33
Anim = 1005
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 39
ID = 1005
PosType = P1
Pos = 45,-33
Anim = 1005
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 8
Trigger2 = AnimElem = 10
Trigger3 = AnimElem = 12
Trigger4 = AnimElem = 14
Trigger5 = AnimElem = 16
Trigger6 = AnimElem = 18
Trigger7 = AnimElem = 20
Trigger8 = AnimElem = 22
Trigger9 = AnimElem = 24
Trigger10 = AnimElem = 26
Trigger11 = AnimElem = 28
Trigger12 = AnimElem = 30
Trigger13 = AnimElem = 32
Trigger14 = AnimElem = 34
Trigger15 = AnimElem = 36
Trigger16 = AnimElem = 38
Trigger17 = AnimElem = 40
Trigger18 = AnimElem = 42
Value = s30, 1
Channel = 4
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2000) > 0
Trigger1 = Target(2000),StateNo = 5020 || Target(2000),StateNo = 5080
V = 24
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2000) > 0
Trigger1 = Target(2000),StateNo = 5020 || Target(2000),StateNo = 5080
V = 50
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 8
Trigger2 = AnimElem = 10
Trigger3 = AnimElem = 12
Trigger4 = AnimElem = 14
Trigger5 = AnimElem = 16
Trigger6 = AnimElem = 18
Trigger7 = AnimElem = 20
Trigger8 = AnimElem = 22
Trigger9 = AnimElem = 24
Trigger10 = AnimElem = 26
Trigger11 = AnimElem = 28
Trigger12 = AnimElem = 30
Trigger13 = AnimElem = 32
Trigger14 = AnimElem = 34
Trigger15 = AnimElem = 36
Trigger16 = AnimElem = 38
Trigger17 = AnimElem = 40
Trigger18 = AnimElem = 42
Attr = S, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(20-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(20-Var(4)%2))),Ceil(FVar(0)/FVar(3)*2)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,IfElse(Var(50)=1,9+9*IfElse(Var(38)>0,1,0)+Var(41),9)
Guard.PauseTime = 0,9
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -1,-9
Guard.Velocity = -9.5
Air.Velocity = -1,-9
AirGuard.Velocity = -4,-1
Down.Velocity = -1,-9
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 9
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2000
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,28+Var(41),28))
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; C閃走・六兎EX
[Statedef 2200]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 2200
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 3
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 3
V = 44
Value = 30

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,44]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 3
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = -3,-55
PosType = P1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 3
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.429,IfElse(Var(57)%10=3,1.112,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 3
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-600,-1200)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 3
V = 43
Value = 420
IgnoreHitPause = 1

[State -1]
Type = Width
Trigger1 = AnimElem = 6, < 0
Value = 2,0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s2200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1205, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PosAdd
Trigger1 = Time = 2
Trigger2 = Time = [32,33]
X = 5

[State -1]
Type = PosAdd
Trigger1 = Time = [34,35]
X = 4

[State -1]
Type = PosAdd
Trigger1 = Time = 36
X = 3

[State -1]
Type = VelSet
Trigger1 = AnimElem = 6, = 1
X = 7.35
Y = -11.401

[State -1]
Type = VelAdd
Trigger1 = Time = [39,52]
X = -.4

[State -1] 
Type = StateTypeSet
Trigger1 = AnimElem = 6, = 1
StateType = A
Physics = A

[State -1]
Type = Explod
Trigger1 = AnimElem = 6
ID = 1205
PosType = P1
Pos = -2,42
Anim = 1205
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2200) > 0
Trigger1 = Target(2200),StateNo = 5020 || Target(2200),StateNo = 5080
Trigger2 = NumTarget(2201) > 0
Trigger2 = Target(2201),StateNo = 5020 || Target(2201),StateNo = 5080
V = 24
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2200) > 0
Trigger1 = Target(2200),StateNo = 5020 || Target(2200),StateNo = 5080
Trigger2 = NumTarget(2201) > 0
Trigger2 = Target(2201),StateNo = 5020 || Target(2201),StateNo = 5080
V = 50
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = S, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(90-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(90-Var(4)%2))),Ceil(FVar(0)/FVar(3)*11)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,IfElse(Var(50)=1,11+11*IfElse(Var(38)>0,1,0)+Var(41),11)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -2.6,-11.1
Guard.Velocity = -9.5
Air.Velocity = -2.6,-11.1
Down.Velocity = -2.6,-11.1
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2200
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,56+Var(41),56))
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5
Attr = S, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(50-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(50-Var(4)%2))),Ceil(FVar(0)/FVar(3)*6)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,IfElse(Var(50)=1,11+11*IfElse(Var(38)>0,1,0)+Var(41),11)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -2.6,-11.1
Guard.Velocity = -9.5
Air.Velocity = -2.6,-11.1
Down.Velocity = -2.6,-11.1
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2200
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,56+Var(41),56))
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 7
Trigger2 = AnimElem = 8
Trigger3 = AnimElem = 9
Trigger4 = AnimElem = 10
Attr = A, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(36-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(36-Var(4)%2))),Ceil(FVar(0)/FVar(3)*4)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 7,IfElse(Var(50)=1,7+7*IfElse(Var(38)>0,1,0)+Var(41),7)
Guard.PauseTime = 7,7
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -2.6,-11.1
Guard.Velocity = -9.5
Air.Velocity = -2.6,-11.1
AirGuard.Velocity = -4,-1
Down.Velocity = -2.6,-11.1
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 7
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2201
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,52+Var(41),52))
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = ChangeState
Trigger1 = Var(59) <= 0
Trigger1 = Var(57)/100%10 = 1
Trigger1 = Var(2)/1000%10 = 1
Trigger1 = NumTarget(2201) > 0
Trigger1 = AnimElem = 8, > 0
Trigger1 = AnimElem = 11, < 0
Trigger1 = Command = "a" || Command = "b" || Command = "c"
Value = 1210

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; 閃鞘・二重六兎
[Statedef 2210]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 2210
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 11, = 1
V = 55
Value = 0

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 3
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 3
V = 44
Value = 30

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,54]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 3
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = -3,-55
PosType = P1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 3
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.429,IfElse(Var(57)%10=3,1.112,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 3
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-600,-1200)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 3
V = 43
Value = 420
IgnoreHitPause = 1

[State -1]
Type = Width
Trigger1 = AnimElem = 6, < 0
Value = 2,0

[State -1]
Type = Helper
Trigger1 = AnimElem = 3
StateNo = 2215
ID = 2215
Ownpal = 1
Persistent = 0
SuperMoveTime = 30

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s2200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1205, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlayerPush
Trigger1 = AnimElem = 6, >= 0
Trigger1 = AnimElem = 16, < 0
Value = 0
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = PosAdd
Trigger1 = Time = [40,42]
X = 5

[State -1]
Type = PosAdd
Trigger1 = Time = [43,45]
X = 4

[State -1]
Type = PosAdd
Trigger1 = Time = 46
X = 3

[State -1]
Type = VelSet
Trigger1 = AnimElem = 6, = 1
X = 7.35
Y = -11.401

[State -1]
Type = VelAdd
Trigger1 = Time = [49,62]
X = -.4

[State -1] 
Type = StateTypeSet
Trigger1 = AnimElem = 6, = 1
StateType = A
Physics = A

[State -1]
Type = Explod
Trigger1 = AnimElem = 6
ID = 1205
PosType = P1
Pos = -2,42
Anim = 1205
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2200) > 0
Trigger1 = Target(2200),StateNo = 5020 || Target(2200),StateNo = 5080
Trigger2 = NumTarget(2201) > 0
Trigger2 = Target(2201),StateNo = 5020 || Target(2201),StateNo = 5080
V = 24
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2200) > 0
Trigger1 = Target(2200),StateNo = 5020 || Target(2200),StateNo = 5080
Trigger2 = NumTarget(2201) > 0
Trigger2 = Target(2201),StateNo = 5020 || Target(2201),StateNo = 5080
V = 50
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveContact = 1
V = 55
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = S, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(90-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(90-Var(4)%2))),Ceil(FVar(0)/FVar(3)*11)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,IfElse(Var(50)=1,0+7*IfElse(Var(38)>0,1,0)+Var(41),0)
Guard.PauseTime = 0,0
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -2.6,-11.1
Guard.Velocity = -9.5
Air.Velocity = -2.6,-11.1
Down.Velocity = -2.6,-11.1
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 7
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2200
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,43+Var(41),43))
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5, = 1
Attr = S, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(50-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(50-Var(4)%2))),Ceil(FVar(0)/FVar(3)*6)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,IfElse(Var(50)=1,0+7*IfElse(Var(38)>0,1,0)+Var(41),0)
Guard.PauseTime = 0,0
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -2.6,-11.1
Guard.Velocity = -9.5
Air.Velocity = -2.6,-11.1
Down.Velocity = -2.6,-11.1
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 7
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2200
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,43+Var(41),43))
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 7, = 1
Trigger2 = AnimElem = 8, = 1
Trigger3 = AnimElem = 9, = 1
Trigger4 = AnimElem = 10, = 1
Attr = A, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(40-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(40-Var(4)%2))),Ceil(FVar(0)/FVar(3)*5)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,IfElse(Var(50)=1,0+7*IfElse(Var(38)>0,1,0)+Var(41),0)
Guard.PauseTime = 0,0
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -2.6,-11.1
Guard.Velocity = -9.5
Air.Velocity = -2.6,-11.1
AirGuard.Velocity = -4,-1
Down.Velocity = -2.6,-11.1
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 7
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2201
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,43+Var(41),43))
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = Pause
Trigger1 = MoveHit = 1
Trigger2 = MoveGuarded = 1
Time = 7
EndCmdBufTime = 7
PauseBG = 0
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; F閃走・六兎EX
[Statedef 2220]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 2220
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 3
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 3
V = 44
Value = 30

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,44]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 3
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = -3,-55
PosType = P1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 3
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.429,IfElse(Var(57)%10=3,1.112,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 3
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-600,-1200)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 3
V = 43
Value = 420
IgnoreHitPause = 1

[State -1]
Type = Width
Trigger1 = AnimElem = 6, < 0
Value = 2,0

[State -1]
Type = Helper
Trigger1 = AnimElem = 4
StateNo = 9600
ID = 9604
Ownpal = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 4
StateNo = 9700
ID = 9704
Ownpal = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s2200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1205, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PosAdd
Trigger1 = Time = 2
Trigger2 = Time = [32,33]
X = 5

[State -1]
Type = PosAdd
Trigger1 = Time = [34,35]
X = 4

[State -1]
Type = PosAdd
Trigger1 = Time = 36
X = 3

[State -1]
Type = VelSet
Trigger1 = AnimElem = 6, = 1
X = 7.35
Y = -11.401

[State -1]
Type = VelAdd
Trigger1 = Time = [39,52]
X = -.4

[State -1] 
Type = StateTypeSet
Trigger1 = AnimElem = 6, = 1
StateType = A
Physics = A

[State -1]
Type = Explod
Trigger1 = AnimElem = 6
ID = 1205
PosType = P1
Pos = -2,42
Anim = 1205
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2200) > 0
Trigger1 = Target(2200),StateNo = 5020 || Target(2200),StateNo = 5080
Trigger2 = NumTarget(2201) > 0
Trigger2 = Target(2201),StateNo = 5020 || Target(2201),StateNo = 5080
V = 24
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2200) > 0
Trigger1 = Target(2200),StateNo = 5020 || Target(2200),StateNo = 5080
Trigger2 = NumTarget(2201) > 0
Trigger2 = Target(2201),StateNo = 5020 || Target(2201),StateNo = 5080
V = 50
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = S, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(90-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(90-Var(4)%2))),Ceil(FVar(0)/FVar(3)*11)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,IfElse(Var(50)=1,11+11*IfElse(Var(38)>0,1,0)+Var(41),11)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -2.6,-11.1
Guard.Velocity = -9.5
Air.Velocity = -2.6,-11.1
Down.Velocity = -2.6,-11.1
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2200
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,54+Var(41),54))
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5
Attr = S, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(50-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(50-Var(4)%2))),Ceil(FVar(0)/FVar(3)*6)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,IfElse(Var(50)=1,11+11*IfElse(Var(38)>0,1,0)+Var(41),11)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -2.6,-11.1
Guard.Velocity = -9.5
Air.Velocity = -2.6,-11.1
Down.Velocity = -2.6,-11.1
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2200
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,54+Var(41),54))
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 7
Trigger2 = AnimElem = 8
Trigger3 = AnimElem = 9
Trigger4 = AnimElem = 10
Attr = A, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(40-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(40-Var(4)%2))),Ceil(FVar(0)/FVar(3)*5)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 7,IfElse(Var(50)=1,7+7*IfElse(Var(38)>0,1,0)+Var(41),7)
Guard.PauseTime = 7,7
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -2.6,-11.1
Guard.Velocity = -9.5
Air.Velocity = -2.6,-11.1
AirGuard.Velocity = -4,-1
Down.Velocity = -2.6,-11.1
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 7
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2201
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,50+Var(41),50))
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; E閃走・六兎EX
[Statedef 2230]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 2230
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 3
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 3
V = 44
Value = 30

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,86]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 3
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = -3,-55
PosType = P1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 3
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.429,IfElse(Var(57)%10=3,1.112,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 3
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-600,-1200)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 3
V = 43
Value = 420
IgnoreHitPause = 1

[State -1]
Type = Width
Trigger1 = AnimElem = 6, < 0
Value = 2,0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s2200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1205, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PosAdd
Trigger1 = Time = 2
Trigger2 = Time = [32,33]
X = 5

[State -1]
Type = PosAdd
Trigger1 = Time = [34,35]
X = 4

[State -1]
Type = PosAdd
Trigger1 = Time = 36
X = 3

[State -1]
Type = VelSet
Trigger1 = AnimElem = 6, = 1
X = 9
Y = -11.401

[State -1]
Type = VelAdd
Trigger1 = Time = [39,75]
X = -.2
Y = -.2

[State -1] 
Type = StateTypeSet
Trigger1 = AnimElem = 6, = 1
StateType = A
Physics = A

[State -1]
Type = Explod
Trigger1 = AnimElem = 6
ID = 2235
PosType = P1
Pos = -10,65
Anim = 2235
Scale = 0.6,0.6
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2200) > 0
Trigger1 = Target(2200),StateNo = 5020 || Target(2200),StateNo = 5080
Trigger2 = NumTarget(2201) > 0
Trigger2 = Target(2201),StateNo = 5020 || Target(2201),StateNo = 5080
V = 24
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2200) > 0
Trigger1 = Target(2200),StateNo = 5020 || Target(2200),StateNo = 5080
Trigger2 = NumTarget(2201) > 0
Trigger2 = Target(2201),StateNo = 5020 || Target(2201),StateNo = 5080
V = 50
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = S, SA
AnimType  = Up
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(90-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(90-Var(4)%2))),Ceil(FVar(0)/FVar(3)*11)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 16,IfElse(Var(50)=1,16+16*IfElse(Var(38)>0,1,0)+Var(41),16)
Guard.PauseTime = 16,16
HitSound   = s10,7
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-13
Guard.Velocity = -9.5
Air.Velocity = 0,-13
Down.Velocity = 0,-13
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 16
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2200
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5
Attr = S, SA
AnimType  = Up
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(50-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(50-Var(4)%2))),Ceil(FVar(0)/FVar(3)*6)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 16,IfElse(Var(50)=1,16+16*IfElse(Var(38)>0,1,0)+Var(41),16)
Guard.PauseTime = 16,16
HitSound   = s10,7
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-13
Guard.Velocity = -9.5
Air.Velocity = 0,-13
Down.Velocity = 0,-13
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 16
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2200
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 7
Trigger2 = AnimElem = 8
Trigger3 = AnimElem = 9
Trigger4 = AnimElem = 10
Trigger5 = AnimElem = 11
Trigger6 = AnimElem = 12
Trigger7 = AnimElem = 13
Trigger8 = AnimElem = 14
Trigger9 = AnimElem = 15
Trigger10 = AnimElem = 16
Attr = A, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(30-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(30-Var(4)%2))),Ceil(FVar(0)/FVar(3)*3)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 4,IfElse(Var(50)=1,4+4*IfElse(Var(38)>0,1,0)+Var(41),4)
Guard.PauseTime = 4,4
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -2.6,-11.1
Guard.Velocity = -9.5
Air.Velocity = -2.6,-11.1
Down.Velocity = -2.6,-11.1
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 4
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2201
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; 閃鞘・一鹿EX
[Statedef 2400]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 2400
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 4
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 4
V = 44
Value = 30

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,37]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 4
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = 4,-39
PosType = P1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 4
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.429,IfElse(Var(57)%10=3,1.112,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 4
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-600,-1200)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 4
V = 43
Value = 420
IgnoreHitPause = 1

[State -1]
Type = Width
Trigger1 = AnimElem = 4, < 0
Trigger2 = AnimElem = 10, >= 0
Trigger2 = Vel Y + Pos Y < 0
Player = -4,-5

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s2400, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s30, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 6
StateNo = 2405
PosType = P1
Pos = -75,8
ID = 2405
Ownpal = 1

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 5
StateType = A
Physics = N

[State -1]
Type = VelSet
Trigger1 = AnimElem = 5
X = 12.75
Y = -0.33

[State -1]
Type = VelAdd
Trigger1 = AnimElem = 5, >= 0
Trigger1 = AnimElem = 10, < 0
X = -.65

[State -1]
Type = VelSet
Trigger1 = AnimElem = 10
X = 2.5
Y = 0

[State -1]
Type = VelAdd
Trigger1 = AnimElem = 10, > 0
Y = .6

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2400) > 0
Trigger1 = Target(2400),StateNo = 5020 || Target(2400),StateNo = 5080
V = 24
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2400) > 0
Trigger1 = Target(2400),StateNo = 5020 || Target(2400),StateNo = 5080
V = 50
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.70
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 6
Trigger2 = AnimElem = 7
Trigger3 = AnimElem = 8
Trigger4 = AnimElem = 9
Attr = A, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(60-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(60-Var(4)%2)))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 7,IfElse(Var(50)=1,7+7*IfElse(Var(38)>0,1,0)+Var(41),7)
Guard.PauseTime = 7,7
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -1,-9
Guard.Velocity = -9.5
Air.Velocity = -1,-9
AirGuard.Velocity = -4,-1
Down.Velocity = -1,-9
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 7
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2400
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,26+Var(41),26))
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 2401

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; 閃鞘・一鹿EX地上派生
[Statedef 2401]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
VelSet = 0,0
Ctrl = 0
Anim = 2401
SprPriority = 2

[State -1]
Type = NotHitBy
Trigger1 = Time = [2,6]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Width
Trigger1 = AnimElem = 2, >= 0
Trigger1 = AnimElem = 7, < 0
Player = 2,0

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10052
ID = 10052
Ownpal = 1
Scale = 0.5,0.5
SprPriority = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s40, 1

[State -1]
Type = PosSet
Trigger1 = Time = 0
Y = 0

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 4
Trigger2 = AnimElem = 5
Trigger3 = AnimElem = 6
X = 2

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s30, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s1205, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 7
ID = 1205
PosType = P1
Pos = -2,42
Anim = 1205
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 7, = 1
StateType = A
Physics = A

[State -1]
Type = VelSet
Trigger1 = AnimElem = 7, = 1
X = 5.8
Y = -10.501

[State -1]
Type = VelAdd
Trigger1 = Time = [9,22]
X = -.33

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2401) > 0
Trigger1 = Target(2401),StateNo = 5020 || Target(2401),StateNo = 5080
Trigger2 = NumTarget(2402) > 0
Trigger2 = Target(2402),StateNo = 5020 || Target(2402),StateNo = 5080
V = 24
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2401) > 0
Trigger1 = Target(2401),StateNo = 5020 || Target(2401),StateNo = 5080
Trigger2 = NumTarget(2402) > 0
Trigger2 = Target(2402),StateNo = 5020 || Target(2402),StateNo = 5080
V = 50
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 6
Attr = S, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(140-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(140-Var(4)%2))),Ceil(FVar(0)/FVar(3)*17)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,IfElse(Var(50)=1,11+11*IfElse(Var(38)>0,1,0)+Var(41),11)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-9
Guard.Velocity = -9.5
Air.Velocity = -1,-9
Down.Velocity = -1,-9
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2401
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(IfElse(Var(50)=2,0.45,1)*FVar(30)*120), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*120)
GivePower = Floor(FVar(31)*120), Floor(0.50*FVar(31)*120)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 8
Trigger2 = AnimElem = 9
Attr = A, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(60-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(60-Var(4)%2))),Ceil(FVar(0)/FVar(3)*7)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,IfElse(Var(50)=1,11+11*IfElse(Var(38)>0,1,0)+Var(41),11)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-9
Guard.Velocity = -9.5
Air.Velocity = -1,-9
Down.Velocity = -1,-9
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2402
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(IfElse(Var(50)=2,0.45,1)*FVar(30)*60), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.50*FVar(31)*60)

[State -1]
Type = ChangeState
Trigger1 = Var(57)/100%10 = 4
Trigger1 = MoveHit = 1
Trigger1 = NumTarget(2402) > 0
Trigger1 = AnimElem = 9, > 0
Value = 2410
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; E閃鞘・一鹿追加
[Statedef 2410]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 1230
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Width
Trigger1 = Vel Y + Pos Y < 0
Player = -4,-5

[State -1]
Type = MoveHitReset
Trigger1 = Time = 0
IgnoreHitPause = 1

[State -1]
Type = VelSet
Trigger1 = AnimElem = 1
X = -1.35
Y = -8.55

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 3
V = 1
Range = 0,3
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 3
Value = s220, 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 3
Value = s220, 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 2
ID = 1235
PosType = P1
Pos = 0,27
Anim = 1235
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.70*FVar(1)
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = A, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 16,16+16*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 16,16
HitSound   = s10,7
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -2.6,-11.1*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-2.6,-4),IfElse(Var(50)=1,-11.1,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 16
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2410
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(46+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; 空中閃鞘・一鹿EX
[Statedef 2450]
Type    = A
MoveType= A
Physics = N
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 2450
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 4
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 4
V = 44
Value = 30

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,34]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 4
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = 4,-39
PosType = P1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 4
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.429,IfElse(Var(57)%10=3,1.112,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 4
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-600,-1200)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 4
V = 43
Value = 420
IgnoreHitPause = 1

[State -1]
Type = Width
Trigger1 = AnimElem = 10, >= 0
Trigger1 = Vel Y + Pos Y < 0
Player = -4,-5

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s2400, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s30, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 6
StateNo = 2405
PosType = P1
Pos = -75,8
ID = 2405
Ownpal = 1

[State -1]
Type = VelSet
Trigger1 = AnimElem = 5
X = 14.2
Y = -0.33

[State -1]
Type = VelAdd
Trigger1 = AnimElem = 5, >= 0
Trigger1 = AnimElem = 10, < 0
X = -.65

[State -1]
Type = VelSet
Trigger1 = AnimElem = 10
Y = 0

[State -1]
Type = VelAdd
Trigger1 = AnimElem = 10, > 0
Y = .6

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = NumTarget(5600) > 0
Trigger1 = Target(5600),StateNo = 5600 || Target(5600),StateNo = 5601 || Target(5600),StateNo = 5602
V = 24
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = NumTarget(5600) > 0
Trigger1 = Target(5600),StateNo = 5600 || Target(5600),StateNo = 5601 || Target(5600),StateNo = 5602
V = 50
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.70
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 6
Trigger2 = AnimElem = 7
Trigger3 = AnimElem = 8
Trigger4 = AnimElem = 9
Attr = A, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(60-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(60-Var(4)%2)))
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 7,IfElse(Var(50)=1,7+7*IfElse(Var(38)>0,1,0)+Var(41),7)
Guard.PauseTime = 7,7
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Air.HitTime = 30
AirGuard.CtrlTime = 8
Ground.Velocity = 0,-9
Guard.Velocity = -9.5
Air.Velocity = 0,-9
AirGuard.Velocity = -4,-1
Down.Velocity = 0,-9
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 7
EnvShake.Ampl = 3
EnvShake.Freq = 90
P2StateNo = 5600
ID = 5600
P2Facing = 1
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = 2401

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 2451

;---------------------------------------------------------------------------
; 閃鞘・一鹿EX空中派生
[Statedef 2451]
Type    = A
MoveType= A
Physics = N
Juggle  = 0
VelSet = 0,0
Ctrl = 0
Anim = 2451
SprPriority = 2

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,1]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Width
Trigger1 = AnimElem = 3, < 0
Player = 2,0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s1205, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 1205
PosType = P1
Pos = -2,42
Anim = 1205
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 3, = 1
StateType = A
Physics = A

[State -1]
Type = VelSet
Trigger1 = AnimElem = 3, = 1
X = 5.8
Y = -10.501

[State -1]
Type = VelAdd
Trigger1 = Time = [4,17]
X = -.33

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2401) > 0
Trigger1 = Target(2401),StateNo = 5020 || Target(2401),StateNo = 5080
Trigger2 = NumTarget(2402) > 0
Trigger2 = Target(2402),StateNo = 5020 || Target(2402),StateNo = 5080
V = 24
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2401) > 0
Trigger1 = Target(2401),StateNo = 5020 || Target(2401),StateNo = 5080
Trigger2 = NumTarget(2402) > 0
Trigger2 = Target(2402),StateNo = 5020 || Target(2402),StateNo = 5080
V = 50
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 2
Attr = A, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(140-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(140-Var(4)%2))),Ceil(FVar(0)/FVar(3)*17)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,IfElse(Var(50)=1,11+11*IfElse(Var(38)>0,1,0)+Var(41),11)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -1,-9
Guard.Velocity = -9.5
Air.Velocity = -1,-9
AirGuard.Velocity = -4,-1
Down.Velocity = -1,-9
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2401
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,49+Var(41),49))
GetPower = Ceil(IfElse(Var(50)=2,0.45,1)*FVar(30)*120), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*120)
GivePower = Floor(FVar(31)*120), Floor(0.50*FVar(31)*120)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Trigger2 = AnimElem = 5
Attr = A, SA
AnimType  = Hard
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(60-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(60-Var(4)%2))),Ceil(FVar(0)/FVar(3)*7)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,IfElse(Var(50)=1,11+11*IfElse(Var(38)>0,1,0)+Var(41),11)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -1,-9
Guard.Velocity = -9.5
Air.Velocity = -1,-9
AirGuard.Velocity = -4,-1
Down.Velocity = -1,-9
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2402
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,49+Var(41),49))
GetPower = Ceil(IfElse(Var(50)=2,0.45,1)*FVar(30)*60), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.50*FVar(31)*60)

[State -1]
Type = ChangeState
Trigger1 = Var(57)/100%10 = 4
Trigger1 = MoveHit = 1
Trigger1 = NumTarget(2402) > 0
Trigger1 = AnimElem = 5, > 0
Value = 2410
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; 閃鞘・一里四辻
[Statedef 2500]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 2500
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 2
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 2
V = 44
Value = 30

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,30]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 2
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = -39,-76
PosType = P1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 2
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.429,IfElse(Var(57)%10=3,1.112,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 2
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-600,-1200)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 2
V = 43
Value = 420
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s2500, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 8
Value = s1500, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 5
ID = 1505
PosType = P1
Pos = 0,0
Anim = 1505
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = PosAdd
Trigger1 = Time = [38,39]
X = 11

[State -1]
Type = PosAdd
Trigger1 = Time = [40,42]
X = 8

[State -1]
Type = PosAdd
Trigger1 = Time = [43,45]
X = 6

[State -1]
Type = PosAdd
Trigger1 = Time = [46,48]
X = 5

[State -1]
Type = PosAdd
Trigger1 = Time = [49,50]
X = 4

[State -1]
Type = PosAdd
Trigger1 = Time = [51,52]
X = 3

[State -1]
Type = PosAdd
Trigger1 = Time = [53,54]
X = 8

[State -1]
Type = PosAdd
Trigger1 = Time = [55,56]
X = 5

[State -1]
Type = PosAdd
Trigger1 = Time = [57,58]
X = 2

[State -1]
Type = PosAdd
Trigger1 = Time = [59,61]
X = 1.5

[State -1]
Type = Explod
Trigger1 = AnimElem = 13
ID = 1005
PosType = P1
Pos = 28,-33
Anim = 1005
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 19
ID = 1005
PosType = P1
Pos = 45,-33
Anim = 1005
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 12
Trigger2 = AnimElem = 14
Trigger3 = AnimElem = 16
Trigger4 = AnimElem = 18
Trigger5 = AnimElem = 20
Trigger6 = AnimElem = 22
Value = s30, 1
Channel = 4
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 12, > 0
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 12, > 0
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 12, > 0
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = AnimElem = 12, < 0
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 12, < 0
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2500) > 0
Trigger1 = Target(2500),StateNo = 5020 || Target(2500),StateNo = 5080
V = 24
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(50) = 2
Trigger1 = NumTarget(2500) > 0
Trigger1 = Target(2500),StateNo = 5020 || Target(2500),StateNo = 5080
V = 50
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5
Attr = S, SA
AnimType  = Light
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(50-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(50-Var(4)%2))),Ceil(FVar(0)/FVar(3)*6)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 9,IfElse(Var(50)=1,9+9*IfElse(Var(38)>0,1,0)+Var(41),9)
Guard.PauseTime = 9,9
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -4
Air.Velocity = -1,-9
Down.Velocity = -1,-9
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 9
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2500
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,50+Var(41),50))
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 6
Attr = S, SA
AnimType  = Light
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(50-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(50-Var(4)%2))),Ceil(FVar(0)/FVar(3)*6)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,IfElse(Var(50)=1,11+11*IfElse(Var(38)>0,1,0)+Var(41),11)
Guard.PauseTime = 11,11
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -4
Air.Velocity = -1,-9
Down.Velocity = -1,-9
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2500
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,52+Var(41),52))
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 12
Trigger2 = AnimElem = 16
Trigger3 = AnimElem = 20
Trigger4 = AnimElem = 22
Attr = S, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(17-Var(4)%2)),Ceil(FVar(0)/FVar(3)*2)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,9+Var(41)
Guard.PauseTime = 0,9
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Guard.SlideTime = 10
Guard.HitTime  = 10
AirGuard.CtrlTime = 8
Ground.Velocity = -9.5
Guard.Velocity = -4
Air.Velocity = IfElse(Var(50)=1,-2.5,-4),IfElse(Var(50)=1,-7.2,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 9
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2501
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(24+Var(41)-FVar(35))
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1] 
Type = ChangeState
Trigger1 = AnimElem = 23, >= 0
Trigger1 = MoveHit = 1
Trigger1 = NumTarget(2501) > 0
Trigger1 = Target(2501),StateType = S || Target(2501),StateType = C
Value = 2501
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 閃鞘・一里四辻2
[Statedef 2501]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 2501
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlayerPush
Trigger1 = AnimElem = 3, >= 0
Value = 0
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s2500, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 5
ID = 1515
PosType = P1
Pos = 0,0
Anim = 1515
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = PosAdd
Trigger1 = Time = [9,10]
X = 18

[State -1]
Type = PosAdd
Trigger1 = Time = [11,12]
X = 13

[State -1]
Type = PosAdd
Trigger1 = Time = [13,14]
X = 9

[State -1]
Type = PosAdd
Trigger1 = Time = [15,16]
X = 6

[State -1]
Type = PosAdd
Trigger1 = Time = [17,18]
X = 4

[State -1]
Type = PosAdd
Trigger1 = Time = [19,21]
X = 3

[State -1]
Type = PosAdd
Trigger1 = Time = [22,24]
X = 2

[State -1]
Type = PosAdd
Trigger1 = Time = [25,26]
X = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.80
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5
Attr = S, SA
AnimType  = Light
Damage    = Ceil(FVar(0)*(200-Var(4)%2)),Ceil(FVar(0)/FVar(3)*25)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,16+Var(41)
Guard.PauseTime = 0,16
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = 0,IfElse(Var(50)=1,14,-2*FVar(36))
Guard.Velocity = -4
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,14,-2*FVar(36))
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 16
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2502
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 閃鞘・八翼EX
[Statedef 2600]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 2600
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 11
V = 55
Value = 0

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Command = "holdback"
TriggerAll = Command != "holdup" && Command != "holddown"
Trigger1 = AnimElem = 6, >= 0
Trigger1 = AnimElem = 7, <= 0
V = 55
Value = 1

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 4
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = NotHitBy
Trigger1 = AnimElem = 4
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 4
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = -10,-50
PosType = P1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 4
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.429,IfElse(Var(57)%10=3,1.112,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 4
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-600,-1200)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 4
V = 43
Value = 420
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s40, 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 11
Value = s40, 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 21
Value = s1205, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlayerPush
Trigger1 = AnimElem = 8, >= 0
Value = 0
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = Width
Trigger1 = AnimElem = 8, < 0
Player = -4,-5

[State -1]
Type = Width
Trigger1 = AnimElem = 8, >= 0
Value = -5,-5

[State -1]
Type = ScreenBound
Trigger1 = AnimElem = 8, >= 0
Value = 1
MoveCamera = 0,0

[State -1]
Type = PosSet
TriggerAll = Var(55) = 1
Trigger1 = AnimElem = 8, >= 0
Trigger1 = AnimElem = 26, <= 0
X = IfElse(Facing=1,-400,400)
Y = 130-Ceil(ScreenPos Y-Pos Y)

[State -1]
Type = PosSet
TriggerAll = Var(55) = 0
Trigger1 = AnimElem = 8, >= 0
Trigger1 = AnimElem = 26, <= 0
X = IfElse(Facing=1,-400,400)
Y = 130-Ceil(ScreenPos Y-Pos Y)

[State -1] 
Type = StateTypeSet
Trigger1 = AnimElem = 8
StateType = A
Physics = N

[State -1]
Type = Turn
TriggerAll = Var(55) = 0
Trigger1 = AnimElem = 8

[State -1]
Type = Explod
TriggerAll = Var(57)/100%10 = 4
Trigger1 = AnimElem = 11
ID = 2605
PosType = P1
Pos = Ceil(320*FVar(37))-22,0
Anim = 2605
Facing = -1
Ownpal = 1
SprPriority = 1
Persistent = 0
BindTime = 3
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 24
ID = 1535
PosType = Back
Pos = 0,60
Scale = 0.5*FVar(37),0.5
Anim = 1535
VFacing = -1
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Explod
TriggerAll = Var(57)/100%10 = 4
Trigger1 = AnimElem = 24
ID = 1535
PosType = Back
Pos = Ceil(320*FVar(37)),60
Scale = 0.5*FVar(37),0.5
Anim = 1535
Facing = -1
VFacing = -1
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 21
Anim = 1617
ID = 1617
Postype = P1
Pos = 35,35
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 21
Anim = 1615
ID = 1615
Postype = P1
Pos = 35,35
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 21
Anim = 1616
ID = 1616
Postype = P1
Pos = 35,35
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
TriggerAll = Var(57)/100%10 = 4
Trigger1 = AnimElem = 21
Anim = 1617
ID = 1617
Postype = P1
Pos = Ceil(320*FVar(37))-83,35
Scale = 0.5,0.5
Facing = -1
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
TriggerAll = Var(57)/100%10 = 4
Trigger1 = AnimElem = 21
Anim = 1615
ID = 1615
Postype = P1
Pos = Ceil(320*FVar(37))-83,35
Scale = 0.5,0.5
Facing = -1
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
TriggerAll = Var(57)/100%10 = 4
Trigger1 = AnimElem = 21
Anim = 1616
ID = 1616
Postype = P1
Pos = Ceil(320*FVar(37))-83,35
Scale = 0.5,0.5
Facing = -1
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = PosAdd
Trigger1 = AnimElem = 21
Trigger2 = AnimElem = 22
Trigger3 = AnimElem = 23
X = 12
Y = 8

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = NumTarget(2600) > 0
Trigger1 = Target(2600),StateNo = 5020 || Target(2600),StateNo = 5080
V = 24
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = NumTarget(2600) > 0
Trigger1 = Target(2600),StateNo = 5020 || Target(2600),StateNo = 5080
V = 50
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.50
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/100%10 != 4
Trigger1 = AnimElem = 22
Attr = A, SA
AnimType  = Up
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(100-Var(4)%2))),Ceil(FVar(0)/FVar(3)*12)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,IfElse(Var(50)=1,11+11*IfElse(Var(38)>0,1,0)+Var(41),11)
Guard.PauseTime = 0,11
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Ground.Velocity = 0,-13
Guard.Velocity = -5
Air.Velocity = 0,-13
Down.Velocity = 0,-13
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2600
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/100%10 = 4
Trigger1 = AnimElem = 22
Attr = A, SA
AnimType  = Up
Damage    = IfElse(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(80-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(80-Var(4)%2))),Ceil(FVar(0)/FVar(3)*10)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,IfElse(Var(50)=1,11+11*IfElse(Var(38)>0,1,0)+Var(41),11)
Guard.PauseTime = 0,11
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Ground.Velocity = 0,-13
Guard.Velocity = -5
Air.Velocity = 0,-13
Down.Velocity = 0,-13
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 2600
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = HitAdd
TriggerAll = Var(57)/100%10 = 4
Trigger1 = MoveHit = 1
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
TriggerAll = Var(57)/100%10 = 4
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = TargetLifeAdd
TriggerAll = Var(57)/100%10 = 4
Trigger1 = MoveHit = 1
Value = -Ceil(FVar(0)*(80-Var(4)%2)*(Const(Data.Attack)*0.01))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = TargetLifeAdd
TriggerAll = Var(57)/100%10 = 4
Trigger1 = MoveGuarded = 1
Value = -Ceil(FVar(0)/FVar(3)*10*(Const(Data.Attack)*0.01))
Kill = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = TargetPowerAdd
TriggerAll = Var(57)/100%10 = 4
Trigger1 = MoveHit = 1
Value = Floor(FVar(31)*37)
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = TargetPowerAdd
TriggerAll = Var(57)/100%10 = 4
Trigger1 = MoveGuarded = 1
Value = Floor(0.50*FVar(31)*37)
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 400

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 2601

;---------------------------------------------------------------------------
; H閃鞘・八翼EX2
[Statedef 2601]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 2601
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s40, 1

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10052
ID = 10052
Ownpal = 1
Scale = 0.5,0.5
SprPriority = 0

[State -1] 
Type = PosSet
Trigger1 = AnimElem = 1
Y = 0

[State -1] 
Type = PosAdd
Trigger1 = AnimElem = 1
X = 180

[State -1] 
Type = StateTypeSet
Trigger1 = AnimElem = 10
MoveType = I

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 閃鞘・迷獄沙門
[Statedef 3000]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 3000
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Var(59) <= 0
Trigger1 = AnimElem = 2, = 1
Trigger1 = Command != "holddown"
V = 55
Value = 0

[State -1]
Type = VarSet
Trigger1 = Var(59) <= 0
Trigger1 = AnimElem = 2, = 1
Trigger1 = Command = "holddown"
V = 55
Value = 1

[State -1]
Type = ChangeAnim
Trigger1 = Var(55) = 1
Trigger1 = Time = 34
Value = 3000
Elem = 2

[State -1]
Type = NotHitBy
Trigger1 = Time = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = SuperPause
Trigger1 = Time = 1
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = Pause
Trigger1 = Time >= 33
Time = 2
EndCmdBufTime = 2
Persistent = 1

[State -1]
Type = Helper
Trigger1 = Time = 1
StateNo = 6010
ID = 10002
Name = "EX_Effect"
Pos = 2,-43
PosType = P1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 1
Trigger1 = Var(13) = [1,4]
FV = 29
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 43
Value = 420
IgnoreHitPause = 1

[State -1]
Type = Width
Trigger1 = AnimElem = 26, >= 0
Trigger1 = AnimTime < 0
Player = -4,-5

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s3000, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s3005, 0
Channel = 7
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = Time = 1
StateNo = 3005
ID = 3005
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Var(55) = 0
Trigger1 = Time >= 33
StateNo = 3015
ID = 3015
Ownpal = 1
Persistent = 8

[State -1]
Type = Helper
Trigger1 = Var(55) = 1
Trigger1 = Time = 33
StateNo = 3015
ID = 3015
Ownpal = 1

[State -1]
Type = VelSet
Trigger1 = AnimElem = 2, >= 0
Trigger1 = AnimElem = 25, < 0
X = 3.45

[State -1]
Type = StateTypeSet
Trigger1 = Time = 53
StateType = A
Physics = N

[State -1]
Type = VelSet
Trigger1 = Var(55) = 0
Trigger1 = Time = 53
Y = -4

[State -1]
Type = VelSet
Trigger1 = Var(55) = 1
Trigger1 = Time = 53
Y = -2

[State -1]
Type = VelAdd
Trigger1 = Var(55) = 0
Trigger1 = Time = [54,78]
Y = .33

[State -1]
Type = VelAdd
Trigger1 = Var(55) = 1
Trigger1 = Time = [54,78]
Y = .165

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 25
StateType = S
Physics = S

[State -1]
Type = VelSet
Trigger1 = AnimElem = 25
X = 0
Y = 0

[State -1]
Type = PosSet
Trigger1 = AnimElem = 25
Y = 0

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(55) = 0
Trigger1 =! MoveContact && ! MoveReversed
Trigger1 = AnimElem = 11, >= 0
Attr = S, HT
AnimType  = Light
Damage    = 0
HitFlag = MAFD
GuardFlag = M
Priority = 1, Miss
PauseTime = 0,16
Guard.PauseTime = 0,16
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = 0
Air.Velocity = 0,-9
Down.Velocity = 0,-9
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 3000
P1StateNo = 3001
P2StateNo = 3002
ForceStand = 1
P2Facing = 1
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(Var(50)=1,0,1)
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(55) = 1
Trigger1 =! MoveContact && ! MoveReversed
Trigger1 = AnimElem = 7, >= 0
Attr = S, HT
AnimType  = Light
Damage    = 0
HitFlag = MAFD
GuardFlag = L
Priority = 1, Miss
PauseTime = 0,16
Guard.PauseTime = 0,16
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = 0
Air.Velocity = 0,-9
Down.Velocity = 0,-9
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 3000
P1StateNo = 3001
P2StateNo = 3002
ForceStand = 1
P2Facing = 1
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(Var(50)=1,0,1)
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 閃鞘・迷獄沙門2
[Statedef 3001]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 3001
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 6
V = 55
Value = 0

[State -1]
Type = Pause
Trigger1 = Time <= 1
Time = 2
EndCmdBufTime = 2
Persistent = 1

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Width
Trigger1 = 1
Value = -5,-5

[State -1]
Type = PlaySnd
Trigger1 = Var(55) = 0
Trigger1 = AnimElem = 2
Value = s3001, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(55) = 1
Trigger1 = AnimElem = 2
Value = s3001, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 12
Value = s1205, 0
Channel = 7
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Var(55) = 0
Trigger1 = AnimElem = 2
ID = 3005
PosType = Back
Pos = -30,312
Scale = 0.5*FVar(37),0.5
Anim = 3005
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Var(55) = 1
Trigger1 = AnimElem = 2
ID = 3006
PosType = Back
Pos = -30,312
Scale = 0.5*FVar(37),0.5
Anim = 3006
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1
PauseMoveTime = 9999

[State -1]
Type = PosAdd
Trigger1 = Time = [0,11]
X = 14-Ceil(Pos Y*1.5)

[State -1]
Type = PosSet
Trigger1 = Time = 11
Y = 0

[State -1]
Type = TargetLifeAdd
Trigger1 = Var(55) = 0
Trigger1 = Time = 16
Value = -Ceil(FVar(0)*(250-Var(4)%2)*(Const(Data.Attack)*0.01))

[State -1]
Type = TargetLifeAdd
Trigger1 = Var(55) = 1
Trigger1 = Time = 16
Value = -Ceil(FVar(0)*(220-Var(4)%2)*(Const(Data.Attack)*0.01))

[State -1]
Type = TargetPowerAdd
Trigger1 = Time = 16
Value = Floor(FVar(31)*37)

[State -1]
Type = VarAdd
Trigger1 = Time = 16
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Time = 16
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Time = 16
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Time = 16
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(55) = 0
Trigger1 = Time = 16
Trigger1 = FVar(1) > 0.30
FV = 1
Value = 0.30
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(55) = 1
Trigger1 = Time = 16
Trigger1 = FVar(1) > 0.40
FV = 1
Value = 0.40
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = Time = 16
StateNo = 16100+IfElse(Var(57)/100%10=4,100,0)
ID = 16100+IfElse(Var(57)/100%10=4,100,0)
PosType = P2
Pos = 0,-50
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 16
Value = s20, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = EnvShake
Trigger1 = Time = 16
Time = 16
Freq = 90
Ampl = 3
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = TargetState
Trigger1 = Var(50) = 2
Trigger1 = Time = [0,2]
Value = 3004

[State -1]
Type = TargetState
Trigger1 = Time = 16
Value = IfElse(Var(50)=1,3003,3004)

[State -1]
Type = Turn
Trigger1 = AnimElem = 13

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;閃鞘・迷獄沙門・投げられている相手
[Statedef 3002]
Type    = U
MoveType= H
Physics = N
VelSet = 0,0

[State -1] 
Type = HitFallSet
Trigger1 = 1
Value = 0

[State -1]
Type = Width
Trigger1 = 1
Value = 5,5

[State -1]
Type = ChangeAnim2
Trigger1 = Time = 0
Value = 831

[State -1] 
Type = SelfState
Trigger1 = Time >= 60
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;閃鞘・迷獄沙門・相手の空中の状態
[Statedef 3003]
Type    = A
MoveType= H
Physics = N

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = OffSet
Trigger1 = Time = [0,11]
X = IfElse(Time%4=0,0.5,-0.5)
Persistent = 2

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = [0,10]
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5061)
Trigger1 = Time = 11
Value = 5061

[State -1]
Type = ChangeAnim
TriggerAll =! SelfAnimExist(5061)
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 11
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll =! SelfAnimExist(5061)
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 11
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State -1]
Type = ChangeAnim
TriggerAll =! SelfAnimExist(5061)
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 11
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050

[State -1] 
Type = VelSet
Trigger1 = Time = 11
Y = -13

[State -1] ;これは重力これは毎フレーム事に0.4の力が加わります
Type = VelAdd
Trigger1 = Time > 11
y = .6

[State -1] 
Type = HitFallSet
Trigger1 = 1
Value = 1 

[State -1] 
Type = SelfState
Trigger1 = Vel Y > 0 && Pos Y >= 0
Value = 5100 

;---------------------------------------------------------------------------
;閃鞘・迷獄沙門・相手の空中の状態2
[Statedef 3004]
Type    = U
MoveType= H
Physics = N
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Width
Trigger1 = Time = [0,10]
Value = 5,5

[State -1]
Type = PosSet
Trigger1 = Pos Y > 0
Y = 0

[State -1]
Type = OffSet
Trigger1 = Time = [0,10]
X = IfElse(Time%4=0,0.5,-0.5)
Persistent = 2

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = [0,9]
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 10
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 10
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 10
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050

[State -1] 
Type = SelfState
TriggerAll = Alive
TriggerAll = CanRecover
TriggerAll = Time >= 20
Trigger1 = Command != "holddown" && Command != "holdup"
Trigger1 = Command = "fwd" || Command = "back" || Command = "holdfwd" || Command = "holdback"
Trigger2 = Command != "holddown" && Command != "holdfwd" && Command != "holdback"
Trigger2 = Command = "up" || Command = "holdup"
Value = 5200

[State -1] 
Type = VelSet
Trigger1 = Time = 10
X = -4
Y = -2.1

[State -1] ;これは重力これは毎フレーム事に0.4の力が加わります
Type = VelAdd
Trigger1 = Time > 10
y = .6

[State -1] 
Type = HitFallSet
Trigger1 = 1
Value = 1 

[State -1] 
Type = SelfState
Trigger1 = Vel Y > 0 && Pos Y >= 0
Value = 5100 

;---------------------------------------------------------------------------
; 閃鞘・迷獄沙門AAD
[Statedef 3050]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 3050
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 35
V = 55
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger1 = Var(13) = 4
V = 55
Value = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = SuperPause
Trigger1 = Time = 1
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = Pause
Trigger1 = Time = [33,94]
Time = 2
EndCmdBufTime = 2
Persistent = 1

[State -1]
Type = Helper
Trigger1 = Time = 1
StateNo = 6010
ID = 10002+IfElse(Var(55)=1,10,0)
Name = "EX_Effect"
Pos = 2,-43
PosType = P1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 1
Trigger1 = Var(13) = [1,4]
FV = 29
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 43
Value = 420
IgnoreHitPause = 1

[State -1]
Type = Width
Trigger1 = AnimElem = 35, <= 0
Edge = 5,0
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = Width
Trigger1 = AnimElem = 36, >= 0
Trigger1 = AnimTime < 0
Player = -4,-5

[State -1]
Type = PlaySnd
Trigger1 = Var(55) = 0
Trigger1 = Time = 1
Value = s3050, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(55) = 1
Trigger1 = Time = 1
Value = s3050, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s3005, 0
Channel = 7
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = Time = 1
StateNo = 3005
ID = 3005
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 33
StateNo = 3065
ID = 3067
Ownpal = 1

[State -1]
Type = Helper
Trigger1 = Time = 34
StateNo = 3065
ID = 3065
Ownpal = 1

[State -1]
Type = Helper
Trigger1 = Time = 35
StateNo = 3065
ID = 3066
Ownpal = 1

[State -1]
Type = VelSet
Trigger1 = AnimElem = 2, >= 0
Trigger1 = AnimElem = 35, < 0
X = 3.65

[State -1]
Type = StateTypeSet
Trigger1 = Time = 44
StateType = A
Physics = N

[State -1]
Type = VelSet
Trigger1 = Time = 44
Y = -5.5

[State -1]
Type = VelAdd
Trigger1 = Time = [45,88]
Y = .25

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 35
StateType = S
Physics = S

[State -1]
Type = VelSet
Trigger1 = AnimElem = 35
X = 0
Y = 0

[State -1]
Type = PosSet
Trigger1 = AnimElem = 35
Y = 0

[State -1] 
Type = ChangeState
Trigger1 = Time = [43,87]
Trigger1 = P2BodyDist X = [-20,20]
Trigger1 = P2BodyDist Y >= -60
Value = 3051

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;閃鞘・迷獄沙門
[Statedef 3051]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 3051+Var(55)
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Anim = 3051
Trigger1 = AnimElem = 4
Trigger2 = Anim = 3052
Trigger2 = AnimElem = 5
V = 55
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Anim = 3051
Trigger1 = AnimElem = 2
Trigger2 = Anim = 3052
Trigger2 = AnimElem = 3
Value = s1205, 0
Channel = 7
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = Anim = 3051
Trigger1 = AnimElem = 2
Trigger2 = Anim = 3052
Trigger2 = AnimElem = 3, = 2
StateNo = 3055
ID = 3055+Var(55)
PosType = Back
Pos = 0,0
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Anim = 3051
Trigger1 = AnimElem = 2
Trigger2 = Anim = 3052
Trigger2 = AnimElem = 3
ID = 3005
PosType = Back
Pos = -30,312
Scale = 0.5*FVar(37),0.5
Anim = 3005
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = Time = 15
ID = 3006
PosType = Back
Pos = -30,312
Scale = 0.5*FVar(37),0.5
Anim = 3006
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Pause
Trigger1 = Time <= 1
Time = 1
EndCmdBufTime = 1
Persistent = 1

[State -1]
Type = PosAdd
Trigger1 = Time = [0,11]
X = 13-Ceil(Pos Y*1.5)

[State -1]
Type = PosSet
Trigger1 = Time = 11
Y = 0

[State -1]
Type = Turn
Trigger1 = Anim = 3051
Trigger1 = AnimElem = 14
Trigger2 = Anim = 3052
Trigger2 = AnimElem = 15

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(55) = 1
Trigger1 = P2StateNo != [150,159]
Trigger1 = AnimElem = 1
Attr = S, HT
AnimType  = Light
Damage    = 0
HitFlag = MAFD+
GuardFlag = 
Priority = 1, Miss
PauseTime = 0,16
Guard.PauseTime = 0,16
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = 0
Air.Velocity = 0,-9
Down.Velocity = 0,-9
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 3050
P2StateNo = 3052
NumHits = 0
P2Facing = 1
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(Var(50)=1,0,1)
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;閃鞘・迷獄沙門AAD・投げられている相手
[Statedef 3052]
Type    = U
MoveType= H
Physics = N
VelSet = 0,0

[State -1] 
Type = StateTypeSet
Trigger1 = StateType != L
Trigger1 = Time = 0
StateType = S

[State -1]
Type = PosSet
Trigger1 = Pos Y > 0
Y = 0

[State -1] 
Type = HitFallSet
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeAnim
Trigger1 = 1
Value = 5030

[State -1] 
Type = SelfState
Trigger1 = Time >= 60
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
; 極死・七夜
[Statedef 3100]
Type    = S
MoveType = A
Physics = S
Anim    = 3100
Ctrl    = 0
VelSet  = 0,0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,69]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 2
Anim = -1
Time = 45
MoveTime = 45
P2DefMul = 1
Darken = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 2
StateNo = 6010
ID = 10011
Name = "EX_Effect"
Pos = 7,-141
PosType = P1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = AnimElem = 2
Trigger1 = Var(13) = [1,4]
FV = 29
Value = 0

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 3105
ID = 3105
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s3100, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 9
Value = s40, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 9
ID = 3105
PosType = P1
Pos = Ceil(-160*FVar(37))-Ceil(Pos X*Facing),110
Scale = 0.5*FVar(37),0.5
Anim = 3105
Ownpal = 1
SprPriority = 5
Persistent = 0
RemoveOnGetHit = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 9
Attr = S, HT
AnimType  = Hard
Damage    = 0
HitFlag = MAFD
GuardFlag = 
Priority = 2, Dodge
PauseTime = 0,0
Guard.PauseTime = 0,0
HitSound   = -1
GuardSound = -1
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-9
Air.Velocity = 0,-9
Down.Velocity = 0,-9
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 3100
P1StateNo = 3101
P2StateNo = 831
P2Facing = 1
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = 0, 0
GivePower = Floor(FVar(31)*37), Floor(0.50*FVar(31)*37)

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 極死・七夜・投げている自分
[Statedef 3101]
Type    = S
MoveType = A
Physics = N
VelSet  = 0,0
Anim    = 3101

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Pause
Trigger1 = Time = [35,47]
Time = 1
EndCmdBufTime = 1
Persistent = 1

[State -1]
Type = Width
Trigger1 = Anim = 3101
Edge = -5,-5
Persistent = 1

[State -1]
Type = BGPalFX
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 8, < 5
Add = -255,-255,-255
Time = 2

[State -1]
Type = Explod
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 1
Anim = 3015
ID = 3125
PosType = Back
Pos = Ceil(160*FVar(37)),120
Scale = 1.0*FVar(37),1.5
Trans = AddAlpha
Alpha = 240-Time*12,256
SprPriority = 5
BindTime = -1
RemoveTime = 20
Persistent = 0

[State -1]
Type = ModifyExplod
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 5, < 0
ID = 3125
Trans = AddAlpha
Alpha = 240-Time*12,256

[State -1]
Type = Explod
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 5
Anim = 3015
ID = 3126
PosType = Back
Pos = Ceil(160*FVar(37)),120
Scale = 1.0*FVar(37),1.5
Trans = AddAlpha
Alpha = 0+(Time-36)*14,256
SprPriority = 5
BindTime = -1
RemoveTime = 19
Persistent = 0

[State -1]
Type = ModifyExplod
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 8, < 7
ID = 3126
Trans = AddAlpha
Alpha = 0+(Time-36)*14,256

[State -1]
Type = PlaySnd
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 2
Value = s3105, 0
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 5
Value = s1535, 0
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 5
Value = s3105, 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 5
ID = 3106
PosType = P1
Pos = -8,-16
Anim = 3106
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 1
ID = 3115
PosType = P1
Pos = 0,0
Anim = 3115
Ownpal = 1
SprPriority = 5
Persistent = 0
RemoveOnGetHit = 1

[State -1]
Type = PosSet
Trigger1 = NumTarget > 0
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 2
X = Ceil(Target,Pos X)
Y = Ceil(Target,Pos Y)+Target,Const(Size.Head.Pos.Y)+26

[State -1]
Type = TargetLifeAdd
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 5
Value = -Ceil(FVar(2)*FVar(3)*(1.00-(0.08*FVar(4)))*FVar(6)*FVar(15)*(800-Var(4)%2)*(Const(Data.Attack)*0.01))
Kill = 1

[State -1]
Type = VarAdd
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 5
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 5
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 5
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 5
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 5
StateNo = 16100
ID = 16100
PosType = P1
Pos = 5,30
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 5
Value = s20, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 3101
Trigger1 = AnimTime = 0
Value = 3102

[State -1]
Type = PosAdd
Trigger1 = Anim = 3102
Trigger1 = AnimElem = 1
X = -102

[State -1]
Type = PosSet
Trigger1 = Anim = 3102
Trigger1 = AnimElem = 1
Y = 0

[State -1]
Type = PlaySnd
Trigger1 = Anim = 3102
Trigger1 = AnimElem = 1
Value = s1205, 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Anim = 3102
Trigger1 = AnimElem = 2
Value = s3100, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = StateTypeSet
Trigger1 = Anim = 3102
Trigger1 = AnimElem = 7
StateType = S
MoveType = I
Physics = S

[State -1]
Type = TargetState
Trigger1 = Anim = 3101
Trigger1 = AnimElem = 5
Value = 3102

[State -1]
Type = ChangeState
Trigger1 = Anim = 3102
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;閃鞘・迷獄沙門・相手の空中の状態
[Statedef 3102]
Type    = A
MoveType= H
Physics = N

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = OffSet
Trigger1 = Time = [0,32]
X = IfElse(Time%4=0,0.5,-0.5)
Persistent = 2

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = [0,31]
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5061)
Trigger1 = Time = 32
Value = 5061

[State -1]
Type = ChangeAnim
TriggerAll =! SelfAnimExist(5061)
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 32
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll =! SelfAnimExist(5061)
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 32
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State -1]
Type = ChangeAnim
TriggerAll =! SelfAnimExist(5061)
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 32
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050

[State -1] 
Type = VelSet
Trigger1 = Time = 32
Y = -13

[State -1] ;これは重力これは毎フレーム事に0.4の力が加わります
Type = VelAdd
Trigger1 = Time > 32
y = .6

[State -1] 
Type = HitFallSet
Trigger1 = 1
Value = 1 

[State -1] 
Type = SelfState
Trigger1 = Vel Y > 0 && Pos Y >= 0
Value = 5100 
