;変数使用表
;　 0 = 
;　 1 =               Helperの角度用
;　 2 = 勝利ポーズ変更
;☆ 3 = 落下速度
;☆ 4 = 七星ゲージ
;　 5 = 強弱ボタン判定
;　 6 = 通常攻撃ボイス、乱数指定
;　 7 = 
;☆ 8 = カウンター
;☆ 9 = グレイブシュート判定
;☆10 = プレイヤーの向き設定
;☆11 = バニシングストライク判定
;☆12 = KOサウンド
;  13 = 勝利判定
;  14 = 攻撃力
;☆15 = ハイジャンプ
;　16 = ブーストゲージ
;☆17 = ダメージ補正に使用
;  18 = 攻撃値の保存
;  19 = Statedef 5900関連	追加
;  20 = ﾋｯﾄ数			追加
;☆21 = テーレッテー
;  22 = 透明化
;  23 = ブーストゲージ減少中
;  24 = 2段ジャンプ判定
;☆25 = グレイブシュート判定
;☆26 = ネバリ補正
;  27 = ネバリ補正
;  28 = ネバリ補正
;  29 = ネバリ補正
;  30 = 投げカウンター判定
;  31 = ﾊﾞﾆｼﾝｸﾞ		星取り制限
;  32 = ﾍｳﾞｨｰﾊﾞﾆｼﾝｸﾞ	星取り制限
;  33 = ﾍｳﾞｨｰｽﾄﾗｲｸ	星取り制限
;  34 = ｸﾞﾚｲｳﾞ		星取り制限
;  35 = 南斗迫破斬	星取り制限
;  36 = 南斗雷震掌	星取り制限
;  37 = 
;  38 = 
;  39 = 回復無効 or 毒　効果時間
;  40 = 気絶値var
;  41 = 無想転生7F判別用
;  45 = ヴァイタルソース用
;  46 = ヴァイタルソース投げ対応用
;  47 = 相手気絶P2用
;  48 = 相手気絶P4用
;  49 = 
;　50 = タッグ時生死判別用
;  51 = ムテキング用
;  52 = 
;  53 = 
;  54 = 
;  55 = 
;  56 = 
;  57 = 無想転生フラグ
;  58 = モードフラグ
;　59 = AI判定
; f(0) = 攻撃補正総合
; f(1) = 攻撃補正
; f(2) = 通常ダメージ補正
; f(3) = 空コンボダメージ補正
; f(4) = バニシングストライクダメージ補正
; f(5) = 連続技補正
; f(6) = ねばり補正
; f(7) = ゲージ増加補正(蓄積バグ入り?)
; f(8)
; f(9)
; f(10)
; f(11)
; f(12)
; f(13)
; f(14)
; f(15)
; f(16)
; f(17)
; f(18)
; f(19)
; f(20) = 画面端ノックバック用　常時摩擦状態vel
; f(21)
; f(22)
; f(23)
; f(24)
; f(25)
; f(26)
; f(27)
; f(28)
; f(29)
; f(30)
; f(31)
; f(32)
; f(33)
; f(34)
; f(35)
; f(36) = AI用テーレッテー認識
; f(37) = 
; f(38) = AI用ガード認識
; f(39) = デバックフラグ
; channel = 4	
; channel = 5	イントロ
; 体力ゲージ　192
; オーラゲージ　約130
;
[Data]
Life = 1000
Power = 2000
Attack = 100
Defence = 100
fall.Defence_up = 50
liedown.Time = 20
Airjuggle = 15
SparkNo = 2
Guard.SparkNo = 40
KO.echo = 0
volume = 5
IntPersistIndex = 0
FloatPersistIndex= 35

[Size]
xScale = 0.5
yScale = 0.5
Ground.back = 20
Ground.front = 20
Air.back = 12
Air.front = 12
height = 70
Attack.Dist = 320
Proj.Attack.Dist= 320
Proj.doScale = 0
head.Pos = 5,-124
mid.Pos = -7,-88
shadowOffSet = 0
Draw.OffSet = 0,0

[Velocity]
walk.fwd = 2.3
walk.back = -2.3
Run.fwd = 4.3130434,0
Run.back = -4.5,-4.1
Jump.neu = 0,-9.5
Jump.back = -3.55,1
Jump.fwd = 3.5,1
RunJump.back = -2.55,-8.1
RunJump.fwd = 4,-8.1
AirJump.neu = 0,-8.1
AirJump.back = -2.55
AirJump.fwd = 2.5

[Movement]
AirJump.num = 1
AirJump.height = 35
Yaccel = .54
stand.friction = .85
crouch.friction = .82

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AIヘルパー
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 10000]
Anim = 0
Ctrl = 0

[State 10000]
Type = AssertSpecial
Trigger1 = 1
flag = invisible

[State 10000];無敵
Type=NotHitBy
Trigger1 = 1
value = SAC,NT,ST,HT,NA,SA,HA,NP,SP,HP,NA,SA,HA
Time = 1

[State 10000];間違いで本体が来たら立ちへ移行
Type = SelfState
Trigger1 = !ishelper
value = 0

[State 10000];プレイヤー判定
Type = ParentvarSet
Trigger1 = command="up"&&Root,command="up"
Trigger2 = command="down"&&Root,command="down"
Trigger3 = command="back"&&Root,command="back"
Trigger4 = command="fwd"&&Root,command="fwd"
Trigger5 = command="a"&&Root,command="a"
Trigger6 = command="b"&&Root,command="b"
Trigger7 = command="c"&&Root,command="c"
Trigger8 = command="x"&&Root,command="x"
Trigger9 = command="y"&&Root,command="y"
Trigger10= command="z"&&Root,command="z"
Trigger11= command="start"&&Root,command="start"
var(59) = -1

[State 10000];プレイヤー判定
Type = VarSet
Trigger1 = command="up"&&Root,command="up"
Trigger2 = command="down"&&Root,command="down"
Trigger3 = command="back"&&Root,command="back"
Trigger4 = command="fwd"&&Root,command="fwd"
Trigger5 = command="a"&&Root,command="a"
Trigger6 = command="b"&&Root,command="b"
Trigger7 = command="c"&&Root,command="c"
Trigger8 = command="x"&&Root,command="x"
Trigger9 = command="y"&&Root,command="y"
Trigger10= command="z"&&Root,command="z"
Trigger11= command="start"&&Root,command="start"
var(59) = -1

[State 10000];立ったら消失
Type = DestroySelf
TriggerAll=isHelper
Trigger1 = Root,var(59)!=0||var(59)=-1
Trigger2 = command="up"&&Root,command="up"
Trigger3 = command="down"&&Root,command="down"
Trigger4 = command="back"&&Root,command="back"
Trigger5 = command="fwd"&&Root,command="fwd"
Trigger6 = command="a"&&Root,command="a"
Trigger7 = command="b"&&Root,command="b"
Trigger8 = command="c"&&Root,command="c"
Trigger9 = command="x"&&Root,command="x"
Trigger10= command="y"&&Root,command="y"
Trigger11= command="z"&&Root,command="z"
Trigger12= command="start"&&Root,command="start"

[State 10000];ﾌﾗｸﾞON
Type = varSet
Triggerall=var(59)!=-1
Trigger1 = Root,command="up"&&(RoundState=2&&Root,Ctrl)
Trigger2 = Root,command="down"&&(RoundState=2&&Root,Ctrl)
Trigger3 = Root,command="back"&&(RoundState=2&&Root,Ctrl)
Trigger4 = Root,command="fwd"&&(RoundState=2&&Root,Ctrl)
Trigger5 = Root,command="a"
Trigger6 = Root,command="b"
Trigger7 = Root,command="c"
Trigger8 = Root,command="x"
Trigger9 = Root,command="y"
Trigger10= Root,command="z"
Trigger11= Root,command="start"
var(59) = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ムテキング用処理
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1]
Type = S
PhySics = S
Ctrl = 0

[State 1]
Type = ChangeAnim
Trigger1 = 1
value = 11

[State 1]
Type = PosAdd
Trigger1 = !Time
x = -70

[State 1]
Type = velset
Trigger1 = Pos Y<0
y = ifelse(Pos Y>-30,Pos Y*-1,30)

[State 1]
Type = ChangeState
Trigger1 = Pos Y>=0
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; Stand
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 0]
Type = S
PhySics = S
Sprpriority = 0

[State a];オーラエフェクト
Type = Helper
Trigger1 = GameTime%11=0
Trigger1 = var(58)>1
ID = 24
Name = "o-ra"
Sprpriority = 5
Pos = 0,0
PosType = P1
StateNo = 2499
HelperType = Normal
KeyCtrl = 0 
OwnPal = 0
SuperMove = 1
PauseMoveTime = -1
SuperMoveTime = -1
igNoreHitPause = 1

[State 0,Pos_Y=0]
Type = PosSet
Trigger1 = !Time
y = 0

[State 0,vel_y=0]
Type = VelSet
Trigger1 = !Time
y = 0

[State 0,Anim=0]
Type = ChangeAnim
Trigger1 = Anim!=0&&Anim!=5
Trigger2 = Anim=5&&AnimTime=0 ;Turn Anim over
value = 0

[State 0,vel_y=0]
Type = VelSet
Trigger1 = !Time
y = 0

[State 0,St=190]
Type = ChangeState
Trigger1 = 0
value = 190

[State 0.St=5050]
Type = ChangeState
Trigger1 = !alive
value = 5050

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; Stand to Crouch
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 10]
Type = C
PhySics = C

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 10

[State 10,1]
Type = VelMul
Trigger1 = !Time
x = .75

[State 10,2]
Type = ChangeState
Trigger1 = !AnimTime
value = 11

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; Crouching
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 11]
Type = C
PhySics = C
Anim = 11
Sprpriority = 0

[State 11,Anim=11]
Type = ChangeAnim
Trigger1 = Anim=6&&AnimTime=0
value = 11

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; Crouch to Stand
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 12]
Type = S
PhySics = S

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 12

[State 12,1]
Type = ChangeState
Trigger1 = !AnimTime
value = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;歩き Walk
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 20]
Type = S
PhySics = S
Sprpriority = 0
Ctrl = 1

[State 20]
Type = VelSet
Trigger1 = Command="holdfwd"
x = const(Velocity.walk.fwd.x)

[State 20]
Type = VelSet
Trigger1 = Command="holdback"
x = const(Velocity.walk.back.x)

[State 20]
Type = ChangeAnim
TriggerAll=Vel x>0
Trigger1 = Anim!=20&&Anim!=5
Trigger2 = Anim=5&&AnimTime=0
value = 20

[State 20]
Type = ChangeAnim
TriggerAll=Vel x<0
Trigger1 = Anim!=21&&Anim!=5
Trigger2 = Anim=5&&AnimTime=0
value = 21

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;Ai用前歩き AI_fwd_Walk
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 21]
Type = S
PhySics = S
Sprpriority = 0
Ctrl = 0

[State 20]
Type = VelSet
Trigger1 = 1
x = const(Velocity.walk.fwd.x)

[State 20]
Type = ChangeAnim
Trigger1 = Anim!=20
value = 20

[State -1,Ctrl];振り向き用
Type = ChangeState
Trigger1 = P2Dist X<0
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AI用後歩き AI_Back_Walk
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 22]
Type = S
PhySics = S
Sprpriority = 0
Ctrl = 0

[State 20]
Type = VelSet
Trigger1 = 1
x = const(Velocity.walk.back.x)

[State 20]
Type = ChangeAnim
Trigger1 = Anim!=21
value = 21

[State -1,Ctrl];振り向き用
Type = ChangeState
Trigger1 = P2Dist X<0
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AI用低空バックダッシュジャンプ開始
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 37]
Type = S
PhySics = S
Ctrl = 0
Sprpriority = 1

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 40

[State a]
Type = VelSet
Trigger1 = PrevStateNo!=50000
Trigger1 = !Time
y = 0

[State a]
Type = PosSet
Trigger1 = PrevStateNo!=50000
Trigger1 = !Time
y = 0

[State 40]
Type = VarSet
Trigger1 = 1
sysvar(1) = -1

[State 40]
Type = VelSet
Trigger1 = !AnimTime
x = ifelse(sysvar(1)=0,const(Velocity.Jump.neu.x),ifelse(sysvar(1)=1,const(Velocity.Jump.fwd.x),const(Velocity.Jump.back.x)))
y = const(Velocity.Jump.y)

[State 40]
Type = VelSet
Trigger1 = !AnimTime
Trigger1 = PrevStateNo=100
Trigger1 = sysvar(1)=1
x = const(Velocity.RunJump.fwd.x)

[State 40]
Type = ChangeState
Trigger1 = !AnimTime
value = 50
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AI用低空ダッシュジャンプ開始
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 38]
Type = S
PhySics = S
Ctrl = 0
Sprpriority = 1

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 40

[State a]
Type = VelSet
Trigger1 = PrevStateNo!=50000
Trigger1 = !Time
y = 0

[State a]
Type = PosSet
Trigger1 = PrevStateNo!=50000
Trigger1 = !Time
y = 0

[State 40]
Type = VarSet
Trigger1 = PrevStateNo!=50000
Trigger1 = !Time
sysvar(1) = 0

[State 40]
Type = VarSet
Trigger1 = 1
sysvar(1) = 1

[State 40]
Type = VarSet
Trigger1 = 0
sysvar(1) = -1

[State 40]
Type = VelSet
Trigger1 = !AnimTime
x = ifelse(sysvar(1)=0,const(Velocity.Jump.neu.x),ifelse(sysvar(1)=1,const(Velocity.Jump.fwd.x),const(Velocity.Jump.back.x)))
y = const(Velocity.Jump.y)

[State 40]
Type = VelSet
Trigger1 = !AnimTime
Trigger1 = PrevStateNo=100
Trigger1 = sysvar(1)=1
x = const(Velocity.RunJump.fwd.x)

[State 40]
Type = ChangeState
Trigger1 = !AnimTime
value = 50
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AI用ジャンプ開始
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 39]
Type = S
PhySics = S
Ctrl = 0
Sprpriority = 1

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 40

[State a]
Type = VelSet
Trigger1 = PrevStateNo!=50000
Trigger1 = !Time
y = 0

[State a]
Type = PosSet
Trigger1 = PrevStateNo!=50000
Trigger1 = !Time
y = 0

[State 40]
Type = VarSet
Trigger1 = PrevStateNo!=50000
Trigger1 = !Time
sysvar(1) = 0

[State 40]
Type = VarSet
Trigger1 = P2MoveType=H
Trigger2 = Random<333
Trigger3 = P2BodyDist X>170
sysvar(1) = 1

[State 40]
Type = VarSet
Trigger1 = P2MoveType!=H
Trigger1 = Random<500
Trigger1 = P2BodyDist X<171
sysvar(1) = -1

[State 40]
Type = VelSet
Trigger1 = !AnimTime
x = ifelse(sysvar(1)=0,const(Velocity.Jump.neu.x),ifelse(sysvar(1)=1,const(Velocity.Jump.fwd.x),const(Velocity.Jump.back.x)))
y = const(Velocity.Jump.y)

[State 40]
Type = VelSet
Trigger1 = !AnimTime
Trigger1 = PrevStateNo=100
Trigger1 = sysvar(1)=1
x = const(Velocity.RunJump.fwd.x)

[State 40]
Type = ChangeState
Trigger1 = !AnimTime
value = 50
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;プレイヤー用ジャンプ開始
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 40]
Type = S
PhySics = S
Ctrl = 0
Sprpriority = 1

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 40

[State 40]
Type = ChangeState
Trigger1 = var(59)>0
value = 0
Ctrl = 1

[State a]
Type = VelSet
Trigger1 = PrevStateNo!=50000
Trigger1 = !Time
y = 0

[State a]
Type = PosSet
Trigger1 = PrevStateNo!=50000
Trigger1 = !Time
y = 0

[State 40]
Type = VarSet
Trigger1 = PrevStateNo!=50000
Trigger1 = !Time
sysvar(1) = 0

[State 40]
Type = VarSet
Trigger1 = Command="holdfwd"
sysvar(1) = 1

[State 40]
Type = VarSet
Trigger1 = Command="holdback"
sysvar(1) = -1

[State 40]
Type = varSet
Trigger1 = !Time
Trigger1 = Command="highjump"
var(15) = 1

[State 40]
Type = VelSet
Trigger1 = !AnimTime
Trigger1 = !vel y
x = ifelse(sysvar(1)=0,Const(Velocity.Jump.neu.x),ifelse(sysvar(1)=1,const(Velocity.Jump.fwd.x),Const(Velocity.Jump.back.x)))
y = const(Velocity.Jump.y)-(var(15)>0)*4

[State 40]
Type = VelSet
Trigger1 = !AnimTime
Trigger1 = PrevStateNo=100 ;RUN_FWD
Trigger1 = SysVar(1)=1
x = const(Velocity.RunJump.fwd.x)

[State 40]
Type = ChangeState
Trigger1 = !AnimTime
Trigger2 = vel y
value = 50
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ハイジャンプ開始
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 41]
Type = S
PhySics = S
Ctrl = 0
Sprpriority = 1

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 40

[State a]
Type = VelSet
Trigger1 = PrevStateNo!=50000
Trigger1 = !Time
y = 0

[State a]
Type = PosSet
Trigger1 = PrevStateNo!=50000
Trigger1 = !Time
y = 0

[State 40]
Type = VarSet
Trigger1 = PrevStateNo!=50000
Trigger1 = !Time
sysvar(1) = 0

[State 40]
Type = VarSet
Trigger1 = Command="holdfwd"
Trigger1 = var(59)<1
Trigger2 = var(59)>0
Trigger2 = P2MoveType=H||Random<333
Trigger3 = fvar(39)>0
Trigger3 = P2MoveType=H
sysvar(1) = 1

[State 40]
Type = VarSet
Trigger1 = Command="holdback"
Trigger1 = var(59)<1
Trigger2 = var(59)>0
Trigger2 = P2MoveType!=H
Trigger2 = Random<500
sysvar(1) = -1

[State 40]
Type = VelSet
Trigger1 = !AnimTime
Trigger1 = !vel y
x = ifelse(sysvar(1)=0,Const(Velocity.Jump.neu.x),ifelse(sysvar(1)=1,const(Velocity.Jump.fwd.x),Const(Velocity.Jump.back.x)))
y = -13.5

[State 40]
Type = VelSet
Trigger1 = !AnimTime
Trigger1 = PrevStateNo=100 ;RUN_FWD
Trigger1 = sysvar(1)=1
x = const(Velocity.RunJump.fwd.x)

[State 40]
Type = ChangeState
Trigger1 = !AnimTime
Trigger2 = vel y
value = 50
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; Jump Up
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 50]
Type = A
PhySics = A

[State 50]
Type = VarSet
Trigger1 = PrevStateNo!=50000
Trigger1 = !Time
sysvar(1) = 0

[State 50]
Type = ChangeAnim
Trigger1 = PrevStateNo!=50000
Trigger1 = !Time
value = ifelse((vel x)=0,41,ifelse((vel x)>0,42,43))

[State 50]
Type = AfterImage
TriggerAll=!Time
Trigger1 = PrevStateNo=41
Trigger2 = var(15)>0
Trigger2 = PrevStateNo=40
trans = Add1
Time = 99999
length = 10
Palbright = 30,30,30
Palcontrast = 165,165,165
PalAdd = 0,0,0
Palmul = 0.5,0.5,0.5
igNoreHitPause = 1

[State 50,3]
Type = ChangeAnim
Trigger1 = Vel y>-2
Trigger1 = SelfAnimExist(Anim+3)
persistent = 0
value = Anim+3

;---------------------------------------------------------------------------
; Jump Down (empty State for compatibility)
[Statedef 51]
Type = A
PhySics = A

[State 51,1]
Type = Null
Trigger1 = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; Jump Land
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 52]
Type = S
PhySics = S
Ctrl = 0
VelSet = 0,0

[State 52,Anim=47]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 47

[State 52,velY=0]
Type = VelSet
Trigger1 = !Time
y = 0

[State 52,PosY=0]
Type = PosSet
Trigger1 = !Time
y = 0

[State 52,Ctrl]
Type = CtrlSet
Trigger1 = Time>2
Trigger2 = var(58)>1
value = 1

[State 52,St=0]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 空中ジャンプ開始
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 45]
Type = A
PhySics = N
Ctrl = 0
VelSet = 0,0

[State 45]
Type = turn
Trigger1 = !Time
Trigger1 = P2Dist X<0

[State 45];2段ジャンプ判定
Type = varSet
Trigger1 = !Time
var(24) = 1

[State 45]
Type = ChangeAnim
Trigger1 = SelfAnimExist(44)
value = 44

[State 45]
Type = ChangeAnim
Trigger1 = !SelfAnimExist(44)
value = 41

[State 45]
Type = VarSet
Trigger1 = !Time
sysvar(1) = 0

[State 45]
Type = VarSet
Trigger1 = var(59)<1
Trigger1 = Command="holdfwd"
Trigger2 = var(59)>0
Trigger2 = P2MoveType=H||Random<333||P2BodyDist X>170
Trigger3 = fvar(39)
Trigger3 = P2MoveType=H
sysvar(1) = 1

[State 45]
Type = VarSet
Trigger1 = var(59)<1
Trigger1 = Command="holdback"
Trigger2 = var(59)>0
Trigger2 = P2MoveType!=H
Trigger2 = Random<500
Trigger2 = P2BodyDist X<171
sysvar(1) = -1

[State 45]
Type = VelSet
Trigger1 = Time=2
x = ifelse(sysvar(1)=0,const(Velocity.AirJump.neu.x),ifelse(sysvar(1)=1,const(Velocity.AirJump.fwd.x),const(Velocity.AirJump.back.x)))
y = const(Velocity.AirJump.y)

[State a]
Type = PlaySnd
Trigger1 = !Time
value = 40,1

[State 45,7]
Type = ChangeState
Trigger1 = Time=2
value = 50
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ダッシュ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 100]
Type = S
PhySics = N
Sprpriority = 1
Ctrl = 1

[State 100,Anim=100]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 100

[State 100,vely=0]
Type = VelSet
Trigger1 = !Time
y = 0

[State 100,PosY=0]
Type = PosSet
Trigger1 = !Time
y = 0

[State 100,Snd100_0]
Type = PlaySnd
Trigger1 = AnimElem=2
Trigger2 = !AnimTime
value = 100,0

[State 100,velx=Run]
Type = VelSet
Trigger1 = !Time
x = const(Velocity.Run.fwd.x)

[State 100,velA_x0.1]
Type = VelAdd
Trigger1 = Vel x<=9.5
x = 0.1

[State 100,NoWalk]
Type = AssertSpecial
Trigger1 = 1
flag = NoWalk

[State 100,NoTurn]
Type = AssertSpecial
Trigger1 = 1
flag = NoAutoTurn

[State 100,St=101]
Type = ChangeState
Trigger1 = var(59)<1
Trigger1 = !fvar(39)||P2MoveType!=H
Trigger1 = Command!="holdfwd"
value = 101

[State 100,St=101]
Type = ChangeState
TriggerAll=var(59)>0
Trigger1 = InGuardDist
Trigger2 = P2BodyDist X<90
Trigger2 = P2MoveType!=H
Trigger3 = P2BodyDist X<26
value = 101

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ダッシュ終了
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 101]
Type = S
PhySics = S
Sprpriority = 1
Ctrl = 1

[State 101,Anim=101]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 101

[State 101,NoWalk];歩き無効
Type = AssertSpecial
Trigger1 = 1
flag = NoWalk

[State 101,NoTurn];振り返り無効
Type = AssertSpecial
Trigger1 = 1
flag = NoAutoTurn

[State 101,St=0];立ちへ
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 空中ダッシュ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 110]
Type = A
PhySics = N
Anim = 110
Sprpriority = 1
VelSet = 0,0
Ctrl = 1

[State 110,v24=1];2段ジャンプ判定
Type = varSet
Trigger1 = !Time
var(24) = 1

[State 110,velx=6.5]
Type = VelSet
Trigger1 = AnimElem=2
x = 6.5
y = 0

[State 110,NoWalk];歩き無効
Type = AssertSpecial
Trigger1 = 1
flag = NoWalk

[State 110,NoTurn];振り向き無効
Type = AssertSpecial
Trigger1 = 1
flag = NoAutoTurn

[State 111,St=111]
Type = ChangeState
Trigger1 = Time=20
value = 111

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 空中バックダッシュ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 115]
Type = A
PhySics = N
Anim = 115
Sprpriority = 1
VelSet = 0,0
Ctrl = 1

[State 45];2段ジャンプ判定
Type = varSet
Trigger1 = !Time
var(24) = 1

[State 115,velx=-6.5]
Type = VelSet
Trigger1 = !Time
x = -6.5
y = 0

[State 115,NoWalk];歩き無効
Type = AssertSpecial
Trigger1 = 1
flag = NoWalk

[State 115,NoTurn];振り向き無効
Type = AssertSpecial
Trigger1 = 1
flag = NoAutoTurn

[State 115];
Type = ChangeState
Trigger1 = Time=20
value = 111

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 空ダッシュ終了
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 111]
Type = A
PhySics = A
Anim = 111
Sprpriority = 1
Ctrl = 1

[State 111]
Type = turn
Trigger1 = !Time
Trigger1 = P2Dist X<0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; フロントステップ・着地
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 101]
Type = S
PhySics = S
Anim = 101
Sprpriority = 1
Ctrl = 1

[State a]
Type = PlaySnd
Trigger1 = AnimElem=3
value = 40,0

[State Explod];着地エフェクト
Type = Explod
Trigger1 = AnimElem=3
Anim = 6047
ID = 6040
Sprpriority = -5
PosType = P1
Pos = 0,0
bindTime = 1
SuperMove = 0
IgNoreHitPause = 0
under = 0
Scale = 0.7,0.7

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = NoWalk

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = NoAutoTurn

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; バックステップ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 105]
Type = S
PhySics = N
Ctrl = 0

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 105

[State a]
Type = VelSet
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
y = 0

[State a]
Type = PosSet
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
y = 0

[State a]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 40,1

[State a]
Type = VelSet
Trigger1 = AnimElem=2
x = -6
y = -4

[State a]
Type = VelAdd
Trigger1 = AnimElem=2,>=0
y = 0.45

[State a]
Type = ChangeState
TriggerAll=Vel Y>0
Trigger1 = Pos Y>=0
value = 106

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; バックステップ・着地
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 106]
Type = S
PhySics = S
Sprpriority = 1
velset = 0,0
Ctrl = 1

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 106

[State a]
Type = PosSet
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
y = 0

[State a]
Type = PlaySnd
Trigger1 = AnimElem=1
value = 40,0

[State Explod];着地エフェクト
Type = Explod
Trigger1 = AnimElem=1
Anim = 6047
ID = 6040
Sprpriority = -5
PosType = P1
Pos = 0,0
bindTime = 1
SuperMove = 0
IgNoreHitPause = 0
under = 0
Scale = 0.7,0.7
Ownpal = 1

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = NoWalk

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = NoAutoTurn

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AIガードステート立ち　立ちガード
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 121]
Type = U
MoveType= U
Ctrl = 1

[State 249]
Type = ChangeState
Trigger1 = 1
value = 130

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AIガードステート前歩き　立ちガード
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 122]
Type = U
MoveType= U
Ctrl = 1

[State 249]
Type = ChangeState
Trigger1 = 1
value = 130

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AIガードステート後ろ歩き　立ちガード
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 123]
Type = U
MoveType= U
Ctrl = 1

[State 249]
Type = ChangeState
Trigger1 = 1
value = 130

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AIガードステートしゃがみ　立ちガード
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 124]
Type = U
MoveType= U
Ctrl = 1

[State 249]
Type = ChangeState
Trigger1 = 1
value = 131

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AIガードステート空中　空ガード
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 125]
Type = U
MoveType= U
Ctrl = 1

[State 249]
Type = ChangeState
Trigger1 = 1
value = 132

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ガード開始 GUARD (start)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 120]
Type = U
PhySics = U

[State 120,Anim]
Type = ChangeAnim
Trigger1 = !Time
value = 120+(StateType=C)+(StateType=A)*2

[State 120,S]
Type = StateTypeSet
Trigger1 = !Time&&StateType=S
PhySics = S

[State 120,C]
Type = StateTypeSet
Trigger1 = !Time&&StateType=C
PhySics = C

[State 120,A]
Type = StateTypeSet
Trigger1 = !Time&&StateType=A
PhySics = A

[State 120,C]
Type = StateTypeSet
TriggerAll=StateType=S
Trigger1 = var(59)<1
Trigger1 = Command="holddown"
Trigger2 = var(59)>0
Trigger2 = fvar(38)=1
Trigger2 = Random<var(59)*20||var(59)>9
StateType = C
PhySics = C

[State 120,S]
Type = StateTypeSet
TriggerAll=StateType=C
Trigger1 = var(59)<1
Trigger1 = Command!="holddown"
Trigger2 = var(59)>0
Trigger2 = fvar(38)=2
Trigger2 = Random<var(59)*20||var(59)>9
StateType = S
PhySics = S

[State 120,St=130+]
Type = ChangeState
Trigger1 = !AnimTime
value = 130+(StateType=C)+(StateType=A)*2

[State 120,St=140]
Type = ChangeState
Trigger1 = var(59)<1
Trigger1 = Command!="holdback"
Trigger2 = !inGuardDist
value = 140

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;立ガード STAND GUARD (Guarding)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 130]
Type = S
PhySics = S

[State 130,Anim=130]
Type = ChangeAnim
TriggerAll=PrevStateNo!=[121,123]
Trigger1 = Anim!=130
value = 130

[State 130,St=131]
Type = ChangeState
TriggerAll=PrevStateNo!=[121,123]
Trigger1 = var(59)<1
Trigger1 = Command="holddown"
Trigger2 = var(59)>0
Trigger2 = fvar(38)=1
Trigger2 = Random<var(59)*20||var(59)>9
value = 131

[State 130,St=140]
Type = ChangeState
TriggerAll=PrevStateNo!=[121,123]
Trigger1 = var(59)<1
Trigger1 = Command!="holdback"
Trigger2 = !inGuardDist
value = 140

[State 20]
Type = ChangeAnim
Trigger1 = Anim!=0
Trigger1 = PrevStateNo=121
value = 0

[State 20]
Type = VelSet
Trigger1 = PrevStateNo=122
x = const(Velocity.walk.fwd.x)

[State 20]
Type = ChangeAnim
Trigger1 = Anim!=20
Trigger1 = PrevStateNo=122
value = 20

[State 20]
Type = VelSet
Trigger1 = PrevStateNo=123
x = const(Velocity.walk.back.x)

[State 20]
Type = ChangeAnim
Trigger1 = Anim!=21
Trigger1 = PrevStateNo=123
value = 21

[State -1,Ctrl];振り向き用
Type = ChangeState
Trigger1 = PrevStateNo=[122,123]
Trigger1 = P2Dist X<0
value = 121

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;屈ガード CROUCH GUARD (Guarding)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 131]
Type = C
PhySics = C

[State 131,Anim=131]
Type = ChangeAnim
TriggerAll=PrevStateNo!=124
Trigger1 = Anim!=131
value = 131

[State 131,St=130]
Type = ChangeState
TriggerAll=PrevStateNo!=124
Trigger1 = var(59)<1
Trigger1 = Command!="holddown"
Trigger2 = var(59)>0
Trigger2 = fvar(38)=2
Trigger2 = Random<var(59)*20||var(59)>9
value = 130

[State 131,St=140]
Type = ChangeState
TriggerAll=PrevStateNo!=124
Trigger1 = var(59)<1
Trigger1 = Command!="holdback"
Trigger2 = !inGuardDist
value = 140

[State 20]
Type = ChangeAnim
Trigger1 = Anim!=11
Trigger1 = PrevStateNo=124
value = 11

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;空ガード AIR GUARD (Guarding)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 132]
Type = A
PhySics = N

[State 132,Anim=132]
Type = ChangeAnim
TriggerAll=PrevStateNo!=[121,125]
Trigger1 = Anim!=132
value = 132

[State 132,vely=]
Type = VelAdd
Trigger1 = 1
y = Const(Movement.Yaccel)

[State 132,sv0=]
Type = VarSet
TriggerAll=PrevStateNo!=[121,125]
Trigger1 = 1
sysvar(0) = (Pos y>=0)&&(Vel y>0)

[State 132,vely=0]
Type = VelSet
Trigger1 = sysvar(0)
y = 0

[State 132,PosY=0]
Type = PosSet
TriggerAll=PrevStateNo!=[121,125]
Trigger1 = sysvar(0)
y = 0

[State 132,St=130]
Type = ChangeState
TriggerAll=PrevStateNo!=[121,125]
Trigger1 = sysvar(0)
Trigger1 = Command="holdback"||var(59)>0
Trigger1 = inGuardDist
value = 130

[State 132,St=52]
Type = ChangeState
TriggerAll=PrevStateNo!=[121,125]
Trigger1 = sysvar(0)
value = 52

[State 132,St=140]
Type = ChangeState
TriggerAll=PrevStateNo!=[121,125]
Trigger1 = var(59)<1
Trigger1 = Command!="holdback"
Trigger2 = !inGuardDist
value = 140

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ガードステート　Ctrl状態
[State 50]
Type = VarSet
Trigger1 = PrevStateNo!=50000
Trigger1 = !Time
Trigger1 = PrevStateNo=125
sysvar(1) = 0

[State 50]
Type = ChangeAnim
Trigger1 = PrevStateNo!=50000
Trigger1 = !Time
Trigger1 = PrevStateNo=125
value = ifelse((vel x)=0,41,ifelse((vel x)>0,42,43))

[State 50]
Type = AfterImage
TriggerAll=!Time
TriggerAll=PrevStateNo=125
Trigger1 = var(15)>0
trans = Add1
Time = 99999
length = 10
Palbright = 30,30,30
Palcontrast = 165,165,165
PalAdd = 0,0,0
Palmul = 0.5,0.5,0.5
igNoreHitPause = 1

[State 50,3]
Type = ChangeAnim
TriggerAll=PrevStateNo=125
Trigger1 = Vel y>-2
Trigger1 = SelfAnimExist(Anim+3)
persistent = 0
value = Anim+3

[State 132,St=140]
Type = ChangeState
TriggerAll=PrevStateNo=125
Trigger1 = Pos Y>=0
Trigger1 = vel y>0
value = 52

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ガード解除 GUARD(end)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 140]
Type = U
PhySics = U
Ctrl = 1

[State 140,Anim=140]
Type = ChangeAnim
Trigger1 = !Time
value = 140+(StateType=C)+(StateType=A)*2

[State 140,S]
Type = StateTypeSet
Trigger1 = !Time&&StateType=S
PhySics = S

[State 140,C]
Type = StateTypeSet
Trigger1 = !Time&&StateType=C
PhySics = C

[State 140,A]
Type = StateTypeSet
Trigger1 = !Time&&StateType=A
PhySics = A

[State 140,C]
Type = StateTypeSet
TriggerAll=StateType=S
Trigger1 = var(59)<1
Trigger1 = Command="holddown"
Trigger2 = var(59)>0
Trigger2 = fvar(38)=1
Trigger2 = Random<var(59)*20||var(59)>9
StateType = C
PhySics = C

[State 140,S]
Type = StateTypeSet
TriggerAll=StateType=C
Trigger1 = var(59)<1
Trigger1 = Command!="holddown"
Trigger2 = var(59)>0
Trigger2 = fvar(38)=2
Trigger2 = Random<var(59)*20||var(59)>9
StateType = S
PhySics = S

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;立ガードヒットポーズ SGUARDHIT (shaking)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 150]
Type = S
MoveType= H
PhySics = N
VelSet = 0,0

[State 150,Anim=150]
Type = ChangeAnim
Trigger1 = 1
value = 150

[State 150,St=151+]
Type = ChangeState
Trigger1 = HitShakeOver
value = 151+2*ifelse(var(59),(fvar(38)=1),(Command="holddown"))

[State 150,C]
Type = StateTypeSet
TriggerAll=StateType=S
Trigger1 = var(59)<1
Trigger1 = Command="holddown"
Trigger2 = var(59)>0
Trigger2 = fvar(38)=1
Trigger2 = Random<var(59)*20||var(59)>9
StateType = C
PhySics = C

[State 150,S]
Type = StateTypeSet
TriggerAll=StateType=C
Trigger1 = var(59)<1
Trigger1 = Command!="holddown"
Trigger2 = var(59)>0
Trigger2 = fvar(38)=2
Trigger2 = Random<var(59)*20||var(59)>9
StateType = S
PhySics = S

[State 150,Back]
Type = ForceFeedback
Trigger1 = !Time
waveform = square
Time = 3

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;立ガードヒットのけぞり SGUARDHIT2 (kNocked back)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 151]
Type = S
MoveType= H
PhySics = S
Anim = 150

[State 151,velS_X=1]
Type = HitVelSet
Trigger1 = !Time
x = 1

[State 151,turn]
Type = turn
Trigger1 = var(58)>1
Trigger1 = !Time
Trigger1 = P2Dist X<0

[State 151,velx=0]
Type = VelSet
Trigger1 = Time=GetHitVar(SlideTime)
Trigger2 = HitOver
x = 0

[State 151,Ctrl]
Type = CtrlSet
Trigger1 = Time=GetHitVar(CtrlTime)
Trigger2 = var(58)>1
Trigger2 = GetHitVar(CtrlTime)>10
Trigger2 = Time>9
value = 1

[State 151,C]
Type = StateTypeSet
TriggerAll=StateType=S
Trigger1 = var(59)<1
Trigger1 = Command="holddown"
Trigger2 = var(59)>0
Trigger2 = fvar(38)=1
Trigger2 = Random<var(59)*20||var(59)>9
StateType = C
PhySics = C

[State 151,S]
Type = StateTypeSet
TriggerAll=StateType=C
Trigger1 = var(59)<1
Trigger1 = Command!="holddown"
Trigger2 = var(59)>0
Trigger2 = fvar(38)=2
Trigger2 = Random<var(59)*20||var(59)>9
StateType = S
PhySics = S

[State 151,St=130]
Type = ChangeState
Trigger1 = HitOver
value = 130
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;屈ガードヒットポーズ CGUARDHIT (shaking)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 152]
Type = C
MoveType= H
PhySics = N
VelSet = 0,0

[State 152,Anim=151]
Type = ChangeAnim
Trigger1 = 1
value = 151

[State 152,St=151+]
Type = ChangeState
Trigger1 = HitShakeOver
value = 151+2*ifelse(var(59),(fvar(38)=1),(Command="holddown"))

[State 152,C]
Type = StateTypeSet
TriggerAll=StateType=S
Trigger1 = var(59)<1
Trigger1 = Command="holddown"
Trigger2 = var(59)>0
Trigger2 = fvar(38)=1
Trigger2 = Random<var(59)*20||var(59)>9
StateType = C
PhySics = C

[State 152,S]
Type = StateTypeSet
TriggerAll=StateType=C
Trigger1 = var(59)<1
Trigger1 = Command!="holddown"
Trigger2 = var(59)>0
Trigger2 = fvar(38)=2
Trigger2 = Random<var(59)*20||var(59)>9
StateType = S
PhySics = S

[State 152,Back]
Type = ForceFeedback
Trigger1 = !Time
waveform = square
Time = 4

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;屈ガードヒットのけぞり CGUARDHIT2 (kNocked back)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 153]
Type = C
MoveType= H
PhySics = C
Anim = 151

[State 153,velx=1]
Type = HitVelSet
Trigger1 = !Time
x = 1

[State 153,turn]
Type = turn
Trigger1 = var(58)>1
Trigger1 = !Time
Trigger1 = P2Dist X<0

[State 153,velx=0]
Type = VelSet
Trigger1 = Time=GetHitVar(SlideTime)
Trigger2 = HitOver
x = 0

[State 153,Ctrl]
Type = CtrlSet
Trigger1 = Time=GetHitVar(CtrlTime)
Trigger2 = var(58)>1
Trigger2 = GetHitVar(CtrlTime)>10
Trigger2 = Time>9
value = 1

[State 153,C]
Type = StateTypeSet
TriggerAll=StateType=S
Trigger1 = var(59)<1
Trigger1 = Command="holddown"
Trigger2 = var(59)>0
Trigger2 = fvar(38)=1
Trigger2 = Random<var(59)*20||var(59)>9
StateType = C
PhySics = C

[State 153,S]
Type = StateTypeSet
TriggerAll=StateType=C
Trigger1 = var(59)<1
Trigger1 = Command!="holddown"
Trigger2 = var(59)>0
Trigger2 = fvar(38)=2
Trigger2 = Random<var(59)*20||var(59)>9
StateType = S
PhySics = S

[State 153,St=131]
Type = ChangeState
Trigger1 = HitOver
value = 131
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;空ガードヒットポーズ AGUARDHIT (shaking)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 154]
Type = A
MoveType= H
PhySics = N
VelSet = 0,0

[State 154,Anim=152]
Type = ChangeAnim
Trigger1 = 1
value = 152

[State 154,St=155]
Type = ChangeState
Trigger1 = HitShakeOver
value = 155

[State 154,Back]
Type = ForceFeedback
Trigger1 = !Time
waveform = square
Time = 4

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;空ガードヒットのけぞり AGUARDHIT2 (kNocked away)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 155]
Type = A
MoveType= H
PhySics = N
Anim = 152

[State 155,velS_XY=1]
Type = HitVelSet
Trigger1 = !Time
x = 1
y = 1

[State 155,Turn]
Type = turn
Trigger1 = var(58)>1
Trigger1 = !Time
Trigger1 = P2Dist X<0

[State 155,velA_y]
Type = VelAdd
Trigger1 = 1
y = Const(Movement.Yaccel)

[State 155,Ctrl]
Type = CtrlSet
Trigger1 = Time=GetHitVar(CtrlTime)
Trigger2 = var(58)>1
Trigger2 = GetHitVar(CtrlTime)>10
Trigger2 = Time>9
value = 1

[State 155,sv0=]
Type = VarSet
Trigger1 = 1
sysvar(0) = (Pos y>=0)&&(Vel y>0)

[State 155,vely=0]
Type = VelSet
Trigger1 = sysvar(0)
y = 0

[State 155,P_Y=0]
Type = PosSet
Trigger1 = sysvar(0)
y = 0

[State 155,St=130]
Type = ChangeState
Trigger1 = sysvar(0)
Trigger1 = Command="holdback"||var(59)>0
Trigger1 = inGuardDist
value = 130

[State 155,St=52]
Type = ChangeState
Trigger1 = sysvar(0)
value = 52

;---------------------------------------------------------------------------
; タイムオーバーで負けた時
[Statedef 170]
Type = S
Ctrl = 0
Anim = 170
VelSet = 0,0

[State a]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 170,0

[State a]
Type = NotHitBy
Trigger1 = 1
value = SCA
Time = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 勝った動作
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 180]
Type = S

[State a]
Type = ChangeState
Trigger1 = var(21) = 1
value = 189

[State a];
Type = ChangeState
Trigger1 = 1
value = 181



;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 勝った動作1
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 181]
Type = A
Ctrl = 0
Anim = 181
VelSet = 0,0
PhySics = N
Sprpriority = 2

[State a]
Type = PosSet
Trigger1 = !Time
y = 0

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

[State a];
Type = PlaySnd
Trigger1 = AnimElem=1
value = 181,0+(Random%6)
channel = 2

[State a];
Type = PlaySnd
Trigger1 = AnimElem=6
value = 100,0

[State a];ユリア人形
Type = Helper
Trigger1 = AnimElem=6
ID = 170
Name = "yuria"
Sprpriority = -1
Pos = 0,0
PosType = P1
StateNo = 171
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State 181,1]
Type = NotHitBy
Trigger1 = 1
value = SCA
Time = 1

[State 181,4]
Type = AssertSpecial
Trigger1 = Time=[0,300]
flag = RoundNotover

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 勝った動作1[一撃]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 188]
Type = S
VelSet = 0,0
PhySics = N
Sprpriority = 2
Ctrl = 0

[State a]
Type = CtrlSet
Trigger1 = Time=120
value = 1

[State a]
Type = CtrlSet
Trigger1 = Time=121
value = 0

[State 2000,6];ははははははははは
Type = PlaySnd
Trigger1 = AnimElem=32
value = 2500,4

[State 3040,7]
Type = BGPalfx
Trigger1 = var(2)<=1200
Time = 1
;sinAdd = 10,10,10,120
Add = 20+var(2),20+var(2),20+var(2)
mul = 120,120,120
color = 256
under = 1

[State a]
Type = varAdd
Trigger1 =  var(2)<=1200
var(2) = 20

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

[State 181,1]
Type = NotHitBy
Trigger1 = 1
value = SCA
Time = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 勝った動作1[一撃]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 189]
Type = A
Ctrl = 0
VelSet = 0,0
PhySics = N
Sprpriority = 2

[State 2000,6];ははははははははは
Type = PlaySnd
Trigger1 = AnimElem=32
value = 2500,4

[State 3040,7]
Type = BGPalfx
Trigger1 = var(2)<=1200
Time = 1
Add = 20+var(2),20+var(2),20+var(2)
mul = 120,120,120
color = 256
under = 1

[State a]
Type = varAdd
Trigger1 =  var(2)<=1200
var(2) = 20

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

[State 181,1]
Type = NotHitBy
Trigger1 = 1
value = SCA
Time = 1

[State 181,4]
Type = AssertSpecial
Trigger1 = Time=[0,100]
flag = RoundNotover

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ユリア人形
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 171]
Type = S
MoveType= A
PhySics = N
juggle = 0
VelSet = 0,0
Ctrl = 0
Anim = 171
Sprpriority = -1

[State a]
Type = DestroySelf
Trigger1 = Root,Anim!=181

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 通常登場
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 190]
Type = S
Ctrl = 0
Anim = 190
VelSet = 0,0


[State a];よかろう・・・殺してやる
Type = PlaySnd
Trigger1 = Time=60
value = 190,0

[State a]
Type = ChangeAnim
Trigger1 = Time=60
value = 191

[State a];取り巻きの女
Type = Helper
Trigger1 = !Time
ID = 170
Name = "onnna"
Sprpriority = 4
Pos = 0,0
PosType = P1
StateNo = 172
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a] 
Type = AssertSpecial
Trigger1 = 1
flag = Intro

[State a] 
Type = ChangeState
Trigger1 = Anim=191
Trigger1 = !AnimTime
value = 0

;---------------------------------------------------------------------------
;取り巻きの女
[Statedef 172]
Type = S
MoveType= A
PhySics = N
juggle = 0
VelSet = 0,0
Ctrl = 0
Anim = 172
Sprpriority = 4

[State a]
Type = ChangeAnim
Trigger1 = Root,Anim=191
Trigger1 = Anim=172
value = 173

[State a];速度
Type = StateTypeSet
Trigger1 = AnimElem=7
Trigger1 = Anim=173
value = A

[State a]
Type = VelSet
Trigger1 = AnimElem=7
Trigger1 = Anim=173
x = -5

[State a]
Type = DestroySelf
Trigger1 = backEdgeDist<=-60

;---------------------------------------------------------------------------
; 挑発の動作
[Statedef 199]
Type = S
Ctrl = 0
VelSet = 0,0
MoveType = I
PhySics = S
Sprpriority = 1

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 199

[State 199];何ぃ、聞こえんなぁ！！
Type = PlaySnd
Trigger1 = AnimElem=1
value = 199,0

[State 199]
Type = CtrlSet
Trigger1 = AnimElem=60
value = 1

[State 199]
Type = PowerSet
Trigger1 = Time=1
Trigger1 = NumHelper(77777+ID)
Trigger1 = Helper(77777+ID),var(9)=0
value = 0

[State 195,2]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 遠A
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 200]
Type = S
MoveType= A
PhySics = S
juggle = 0
Ctrl = 0
PowerAdd = 0

[State 200]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 200

[State a]
Type = PosAdd
Trigger1 = AnimElem=2
x = 6

[State 200,1]
Type = HitDef
Trigger1 = AnimElem=4,<0
Trigger1 = !MoveContAct
Attr = S,NA
Damage = Ceil(5.2*ifelse(7*fvar(0)<1,1,7*fvar(0))*ifelse(var(8),1.2,1)),0
GetPower = ifelse(62*fvar(0)<5,5,62*fvar(0))*ifelse(var(8),1.2,1),ifelse(62*fvar(0)<5,5,62*fvar(0))*ifelse(var(8),1.2,1)
AnimType = Light
Guardflag = MA
Hitflag = MAF
Priority = 3,Hit
PauseTime = 10,10
SparkNo = -1
Sparkxy = -15,-186/2
HitSound = s400,0+(Random%2)
Guard.SparkNo = s7100
GuardSound = s120,0
Air.Type = high
Ground.Type = high
Ground.SlideTime = 9
Ground.HitTime = 9
Air.HitTime = 12
P2facing = 1
Ground.Velocity = -4
AirGuard.Velocity = -1.9,-2
Air.Velocity = -2,ifelse(var(7)>0,-1,-5)
fall.yvelocity = -ifelse(var(3)-1>40,40,var(3)-1)*0.3
fall.xvelocity = -ifelse(var(3)-1>40,40,var(3)-1)*0.3
Air.fall = 1
fall.RecoverTime = 10
Yaccel = 0.92+(var(3)-1)*0.14;0.45+(var(3) - 1)*0.15
ID = 200
NochainID = 9999

[State 200]
Type = AttackDist
Trigger1 = AnimElem=4
value = 0

[State 610,Hit];ヒットエフェクト
Type = Helper
Trigger1 = P2MoveType=H
Trigger1 = MoveHit=1
ID = 16000
StateNo = 16000
PosType = P1
Pos = 50,-90
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 200,fv20=0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State 200,1];
Type = PlaySnd
Trigger1 = AnimElem=2
value = 300,0

[State 200,5]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 200,0+(Random%2)

[State a];ブースト
Type = VelAdd
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 14

[State a];ブースト
Type = palfx
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State a];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State a];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
var(16) = 5*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 200,7]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;近A
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 205]
Type = S
MoveType= A
PhySics = S
juggle = 0
Ctrl = 0
PowerAdd = 0

[State -1]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000 
value = 205

[State 200,1]
Type = HitDef
Trigger1 = AnimElem=4,<0
Trigger1 = !MoveContAct
Attr = S,NA
Damage = Ceil(5.2*ifelse(9*fvar(0)<1,1,9*fvar(0))*ifelse(var(8),1.2,1)),0
GetPower = ifelse(46*fvar(0)<5,5,46*fvar(0))*ifelse(var(8),1.2,1),ifelse(46*fvar(0)<5,5,46*fvar(0))*ifelse(var(8),1.2,1)
AnimType = Light
Guardflag = MA
Hitflag = MAF
Priority = 3,Hit
PauseTime = 8,8
SparkNo = -1
Sparkxy = -15,-232/2
HitSound = s400,0+(Random%2)
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = high
Air.Type = high
Ground.SlideTime = 9
Ground.HitTime = 9
Air.HitTime = 10
P2facing = 1
Ground.Velocity = -4
AirGuard.Velocity = -1.9,-2
Air.Velocity = -2,ifelse(var(7)>0,-1,-5)
fall.yvelocity = -ifelse(var(3)>40,40,var(3)-1)*0.3
fall.xvelocity = -ifelse(var(3)>40,40,var(3)-1)*0.3
Air.fall = 1
fall.RecoverTime = 20
Yaccel = 0.92+(var(3)-1)*0.14;0.45+(var(3) - 1)*0.15
ID = 200
NochainID = 9999

[State 200]
Type = AttackDist
Trigger1 = AnimElem=4
value = 0

[State 610,Hit];ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16000
StateNo = 16000
PosType = P1
Pos = 40,-116
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 205,fv20=0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22*2

[State 205]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 300,0

[State 205]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 200,0+(Random%2)

[State 205];ブースト
Type = VelAdd
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 14

[State 205];ブースト
Type = palfx
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State 205];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State 205];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
var(16) = 3*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 205]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;遠C
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 210]
Type = S
MoveType= A
PhySics = S
juggle = 0
Ctrl = 0
PowerAdd = 0

[State 210]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000 
value = 210

[State 210,Width];
Type = Width
Trigger1 = AnimElemTime(5)=2
value = 80,0

[State 200,1]
Type = HitDef
Trigger1 = AnimElem=6,<0
Trigger1 = !MoveContAct
Attr = S,NA
Damage = Ceil(5.2*ifelse(8*fvar(0)<1,1,8*fvar(0))*ifelse(var(8),1.2,1)),0
GetPower = ifelse(92*fvar(0)<5,5,92*fvar(0))*ifelse(var(8),1.2,1),ifelse(92*fvar(0)<5,5,92*fvar(0))*ifelse(var(8),1.2,1)
AnimType = hard
Guardflag = MA
Hitflag = MAF
Priority = 5,Hit
PauseTime = 16,16
SparkNo = -1
Sparkxy = -15,-192/2
HitSound = s500,2
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = high
Air.Type = low
Ground.SlideTime = 14
Ground.HitTime = 14
Air.HitTime = 12
P2facing = 1
Ground.Velocity = -2
AirGuard.Velocity = -4,-4;-4.0,-2
Air.Velocity = -2,ifelse(var(7)>0,-1,-5)
Yaccel = 0.92+(var(3)-1)*0.14;0.45+(var(3) - 1)*0.17
fall.yvelocity = -ifelse(var(3)>40,40,var(3)-1)*0.3
fall.xvelocity = -(var(3)-1)*0.4
Air.fall = 1
fall.RecoverTime = 40
ID = 200
NochainID = 9999

[State 200,1]
Type = HitDef
Trigger1 = AnimElem=6
Attr = S,NA
Damage = Ceil(5.2*ifelse(8*fvar(0)<1,1,8*fvar(0))*ifelse(var(8),1.2,1)),0
GetPower = ifelse(108*fvar(0)<5,5,108*fvar(0))*ifelse(var(8),1.2,1),ifelse(108*fvar(0)<5,5,108*fvar(0))*ifelse(var(8),1.2,1)
AnimType = hard
Guardflag = MA
Hitflag = MAF
Priority = 5,Hit
PauseTime = 20,20
SparkNo = -1
Sparkxy = -15,-212/2
HitSound = s500,2
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = high
Air.Type = high
Ground.SlideTime = 14
Ground.HitTime = 14
Air.HitTime = 12
P2facing = 1
Ground.Velocity = -8
AirGuard.Velocity = -1.9,-2
Air.Velocity = -4,ifelse(var(7)>0,-1,-5)
fall.yvelocity = -ifelse(var(3)>40,40,var(3)-1)*0.3
fall.xvelocity = -(var(3)-1)*0.4
Air.fall = 1
fall.RecoverTime = 40
Yaccel = 0.92+(var(3)-1)*0.14
ID = 200
NochainID = 9999

[State 200]
Type = AttackDist
Trigger1 = AnimElem=7
value = 0

[State 610,Hit];斬ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = AnimElem=6,<0
Trigger1 = MoveHit=1
ID = 16021
StateNo = 16021
PosType = P1
Pos = 60,-100
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 610,Hit];斬ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = AnimElem=6,>=0
Trigger1 = MoveHit=1
ID = 16021
StateNo = 16021
PosType = P1
Pos = 90,-130
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 210,fv20=0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State 200]
Type = PlaySnd
Trigger1 = AnimElem=4
value = 300,1

[State 200,5]
Type = PlaySnd
Trigger1 = AnimElem=3
value = 210,0+(Random%2)

[State a];ブースト
Type = VelAdd
TriggerAll=AnimElem=5,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 15

[State a];ブースト
Type = palfx
TriggerAll=AnimElem=5,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State a];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=5,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State a];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
Trigger1 = AnimElem=5,<=2
var(16) = 8*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State a]
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
Trigger1 = AnimElem=6,>=0
var(16) = 11*fvar(0)
IgNoreHitPause = 1
persistent = 0


[State 200,7]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;近C
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 215]
Type = S
MoveType= A
PhySics = S
juggle = 0
Ctrl = 0
PowerAdd = 0

[State 215]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 215

[State 215]
Type = HitDef
Trigger1 = AnimElem=6,<0
Trigger1 = !MoveContAct
Attr = S,NA
Damage = Ceil(5.2*ifelse(20*fvar(0)<1,1,20*fvar(0))*ifelse(var(8),1.2,1)),0
GetPower = ifelse(123*fvar(0)<5,5,123*fvar(0))*ifelse(var(8),1.2,1),ifelse(123*fvar(0)<5,5,123*fvar(0))*ifelse(var(8),1.2,1)
AnimType = hard
Guardflag = MA
Hitflag = MAF
Priority = 5,Hit
PauseTime = 15,15
SparkNo = -1
Sparkxy = -15,-112/2
HitSound = s500,2
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = low
Ground.SlideTime = 19
Ground.HitTime = 19
Air.HitTime = 30
P2facing = 1
Ground.Velocity = -9
Air.Type = high
Air.Velocity = -3,ifelse(var(7)>0,-1,-7)
fall.yvelocity = -ifelse(var(3)>40,40,var(3)-1)*0.3
fall.xvelocity = -(var(3)-1)*0.4
Air.fall = 1
fall.RecoverTime = 26+15
Yaccel = 0.92+(var(3)-1)*0.14
ID = 200
NochainID = 9999

[State 200]
Type = AttackDist
Trigger1 = AnimElem=6
value = 0

[State 610,Hit];縦斬ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16021
StateNo = 16021
PosType = P1
Pos = 45,-55
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 215,fv20=0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State 215]
Type = PlaySnd
Trigger1 = AnimElem=4
value = 300,1

[State 215]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 210,0+(Random%2)

[State 215];ブースト
Type = VelAdd
TriggerAll=AnimElem=5,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 16

[State 215];ブースト
Type = palfx
TriggerAll=AnimElem=5,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State 215];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=5,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State 215];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
var(16) = 14*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 215]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;遠B
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 230]
Type = S
MoveType= A
PhySics = S
juggle = 0
PowerAdd= 0
Ctrl = 0
Sprpriority = 1

[State -3]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 230

[State 230];
Type = PlaySnd
Trigger1 = AnimElem=2
value = 300,0

[State 230]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 200,0+(Random%2)

[State 230,HitDef]
Type = HitDef
Trigger1 = AnimElem=4,<0
Trigger1 = !MoveContAct
Attr = S,NA
AnimType = light
Damage = Ceil(5.2*ifelse(7*fvar(0)<1,1,7*fvar(0))*ifelse(var(8),1.2,1)),0
Priority = 4,Hit
GetPower = ifelse(92*fvar(0)<5,5,92*fvar(0))*ifelse(var(8),1.2,1),ifelse(92*fvar(0)<5,5,92*fvar(0))*ifelse(var(8),1.2,1)
Guardflag = MA
PauseTime = 12,12
SparkNo = -1
HitSound = s400,0+(Random%2)
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = low
Ground.SlideTime = 11
Ground.HitTime = 11
P2facing = 1
Ground.Velocity = -5
Air.Velocity = -1.5,ifelse(var(7)>0,-1,-5)
Yaccel = 0.92+(var(3)-1)*0.14
fall.yvelocity = -ifelse(var(3)>40,40,var(3)-1)*0.3
fall.xvelocity = -(var(3)-1)*0.4
Air.fall = 1
fall.RecoverTime = 24+12
ID = 200
NochainID = 9999

[State 200]
Type = AttackDist
Trigger1 = AnimElem=4
value = 0

[State 610,Hit];斬ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16000
StateNo = 16000
PosType = P1
Pos = 40,-65
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 230,fv20=0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State 230,Boost];ブースト
Type = VelAdd
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 14

[State 230,Boost];ブースト
Type = palfx
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State 230,Boost];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State 230,Boost];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct=1
Trigger1 = !var(23)
var(16) = 8*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 230,End]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;近B
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 235]
Type = S
MoveType= A
PhySics = S
juggle = 0
PowerAdd= 0
Ctrl = 0
Sprpriority = 1

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 235

[State 235]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 300,0

[State 235]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 200,0+(Random%2)

[State 235,HitDef]
Type = HitDef
Trigger1 = AnimElem=4,<0
Trigger1 = !MoveContAct
Attr = S,NA
AnimType = light
Damage = Ceil(5.2*ifelse(9*fvar(0)<1,1,9*fvar(0))*ifelse(var(8),1.2,1)),0
Priority = 4,Hit
GetPower = ifelse(62*fvar(0)<5,5,62*fvar(0))*ifelse(var(8),1.2,1),ifelse(62*fvar(0)<5,5,62*fvar(0))*ifelse(var(8),1.2,1)
Guardflag = L
PauseTime = 10,10
SparkNo = -1
HitSound = s400,0+(Random%2)
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = low
Ground.SlideTime = 11
Ground.HitTime = 11
P2facing = 1
Ground.Velocity = -6
Air.Velocity = -1.5,ifelse(var(7)>0,-1,-5)
fall.yvelocity = -ifelse(var(3)>40,40,var(3)-1)*0.3
fall.xvelocity = -(var(3)-1)*0.4
Yaccel = 0.92+(var(3)-1)*0.14
Air.fall = 1
fall.RecoverTime = 12
ID = 200
NochainID = 9999

[State 200]
Type = AttackDist
Trigger1 = AnimElem=4
value = 0

[State 610,Hit];ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16000
StateNo = 16000
PosType = P1
Pos = 50,-71
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 235,fv20=0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State 235,Boost];ブースト
Type = VelAdd
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 14

[State 235,Boost];ブースト
Type = palfx
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State 235,Boost];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State 235,Boost];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
var(16) = 5*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 235]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;遠D
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 240]
Type = S
MoveType= A
PhySics = S
juggle = 0
PowerAdd= 0
Ctrl = 0
Sprpriority = 1

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 240

[State 240];
Type = PlaySnd
Trigger1 = AnimElem=5
value = 300,2

[State 240]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 210,0+(Random%3)

[State 240]
Type = PosAdd
Trigger1 = AnimElem=2
Trigger2 = AnimElem=3
x = 34/2

[State 240]
Type = HitDef
Trigger1 = AnimElem=6,<0
Trigger1 = !MoveContAct
Attr = S,NA
AnimType = Medium
Damage = Ceil(5.2*ifelse(17*fvar(0)<1,1,17*fvar(0))*ifelse(var(8),1.2,1)),0
Priority = 5,Hit
GetPower = ifelse(123*fvar(0)<5,5,123*fvar(0))*ifelse(var(8),1.2,1),ifelse(123*fvar(0)<5,5,123*fvar(0))*ifelse(var(8),1.2,1)
Guardflag = L
PauseTime = 15,17
SparkNo = -1
HitSound = s400,3
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = low
Ground.SlideTime = 15
Ground.HitTime = 15
P2facing = 1
Ground.Velocity = -11
Air.Velocity = -1.5,ifelse(var(7)>0,-1,-7)
fall.yvelocity = -ifelse(var(3)>40,40,var(3)-1)*0.3
fall.xvelocity = -(var(3)-1)*0.4
fall.RecoverTime = 30
Yaccel = 0.92+(var(3)-1)*0.14;0.6+(var(3)-1)*0.17
Air.fall = 1
fall.Recover = 0

[State 200]
Type = AttackDist
Trigger1 = AnimElem=6
value = 0

[State Explod];ヒットスパーク
Type = Explod
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16010
Anim = 16010
PosType = P1
Pos = 70,-43
facing = 1
Sprpriority = 5
bindTime = 1
Scale = 0.5,0.5
ownpal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 240,fv20=0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State 240,Boost];ブースト
Type = VelAdd
TriggerAll=AnimElem=5,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 15

[State 240,Boost];ブースト
Type = palfx
TriggerAll=AnimElem=5,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State 240,Boost];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=5,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State 240,Boost];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
var(16) = 14*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 240,End]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;近D
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 245]
Type = S
MoveType= A
PhySics = S
juggle = 0
PowerAdd= 0
Ctrl = 0
Sprpriority = 1

[State 245]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 245

[State 245]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 210,0+(Random%3)

[State 245]
Type = PlaySnd
Trigger1 = AnimElem=4
value = 300,2

[State 245]
Type = HitDef
Trigger1 = AnimElem=5,<0
Trigger1 = !MoveContAct
Attr = S,NA
AnimType = hard
Damage = Ceil(5.2*ifelse(9*fvar(0)<1,1,9*fvar(0))*ifelse(var(8),1.2,1)),0
Priority = 6,Hit
GetPower = ifelse(92*fvar(0)<5,5,92*fvar(0))*ifelse(var(8),1.2,1),ifelse(92*fvar(0)<5,5,92*fvar(0))*ifelse(var(8),1.2,1)
Guardflag = MA
PauseTime = 12,14
SparkNo = -1
HitSound = s400,2
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = low
Ground.SlideTime = 11
Ground.HitTime = 11
P2facing = 1
Guard.Velocity = -3
Ground.Velocity = -2
Air.Velocity = -1,ifelse(var(7)>0,-1,-8)
Yaccel = 0.92+(var(3)-1)*0.14;0.6+(var(3)-1)*0.17
fall.yvelocity = -ifelse(var(3)>40,40,var(3)-1)*0.3
fall.xvelocity = -(var(3)-1)*0.4
Air.fall = 1
fall.RecoverTime = 26+12
ID = 200
NochainID = 9999

[State Explod];ヒットスパーク
Type = Explod
TriggerAll=P2MoveType=H
Trigger1 = AnimElem=5,<0
Trigger1 = MoveHit=1
ID = 16010
Anim = 16010
PosType = P1
Pos = 60,-90
facing = 1
Sprpriority = 5
bindTime = 1
Scale = 0.5,0.5
ownpal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 245]
Type = HitDef
Trigger1 = AnimElem=5
Attr = S,NA
AnimType = hard
Damage = Ceil(5.2*ifelse(9*fvar(0)<1,1,9*fvar(0))*ifelse(var(8),1.2,1)),0
Priority = 6,Hit
GetPower = ifelse(108*fvar(0)<5,5,108*fvar(0))*ifelse(var(8),1.2,1),ifelse(108*fvar(0)<5,5,108*fvar(0))*ifelse(var(8),1.2,1)
Guardflag = MA
PauseTime = 15,17
SparkNo = -1
HitSound = s400,3
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = high
Ground.SlideTime = 15
Ground.HitTime = 15
P2facing = 1
Guard.Velocity = -12
Ground.Velocity = -11
Air.Velocity = -2,ifelse(var(7)>0,-1,-12)
Air.CornerPush.VelOff = -(!var(9))*12
Ground.CornerPush.VelOff = -(!var(9))*12
Guard.CornerPush.VelOff = -(!var(9))*12
Yaccel = 0.92+(var(3)-1)*0.14;0.6+(var(3)-1)*0.17
fall.yvelocity = -ifelse(var(3)>40,40,var(3)-1)*0.3
fall.xvelocity = -(var(3)-1)*0.4
Air.fall = 1
fall.RecoverTime = 45
ID = 200
NochainID = 9999

[State Explod];ヒットスパーク
Type = Explod
Trigger1 = AnimElem=5,>=0
Trigger1 = MoveHit=1
ID = 16010
Anim = 16010
PosType = P1
Pos = 80,-130
facing = 1
Sprpriority = 5
bindTime = 1
Scale = 0.5,0.5
ownpal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 245]
Type = AttackDist
Trigger1 = AnimElem=6
value = 0

[State 245,fv20=0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State 245,Boost];ブースト
Type = VelAdd
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 15

[State 245,Boost];ブースト
Type = palfx
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State 245,Boost];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State 245,Boost];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
Trigger1 = AnimElem=4,<=2
var(16) = 8*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 245,Boost];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
Trigger1 = AnimElem=5,>=0
var(16) = 11*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 245,End]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AIブースト同時押し用指定ステート　→A
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 249]
Type = U
MoveType= U
Ctrl = 0

[State 249]
Type = ChangeState
Trigger1 = 1
value = 250

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;→A　中段
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 250]
Type = S
MoveType= A
PhySics = S
juggle = 0
PowerAdd= 0
Ctrl = 0
Sprpriority = 1

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 250

[State 250]
Type = PosAdd
Trigger1 = AnimElem=3
x = 23

[State 250,velset]
Type = VelSet
Trigger1 = AnimElem=5
x = 8

[State 250,Snd]
Type = PlaySnd
Trigger1 = AnimElem=5
value = 300,1

[State 250,Snd];甘いわ！
Type = PlaySnd
Trigger1 = AnimElem=2
value = 250,0

[State 250,HitDef]
Type = HitDef
Trigger1 = AnimElem=7,<0
Trigger1 = !MoveContAct
Attr = S,NA
AnimType = Medium
Damage = Ceil(5.2*ifelse(22*fvar(0)<1,1,22*fvar(0))*ifelse(var(8),1.2,1)),0
Priority = 4,Hit
GetPower = ifelse(108*fvar(0)<5,5,108*fvar(0))*ifelse(var(8),1.2,1),ifelse(108*fvar(0)<5,5,108*fvar(0))*ifelse(var(8),1.2,1)
Guardflag = HA
PauseTime = 15,17
SparkNo = -1
Sparkxy = -15,-156/2
HitSound = s500,2
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 17
P2facing = 1
Ground.Velocity = -2.5,-10;-4
Guard.Velocity = -11
Air.Velocity = -1.5,ifelse(var(7)>0,-1,-10)
Yaccel = 0.92+(var(3)-1)*0.14;0.6+(var(3)-1)*0.17
fall.yvelocity = -ifelse(var(3)>40,40,var(3)-1)*0.3
fall.xvelocity = -(var(3)-1)*0.4
fall = 1
fall.RecoverTime = 33

[State 250]
Type = AttackDist
Trigger1 = AnimElem=7
value = 0

[State 250,Hit];ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16021
StateNo = 16021
PosType = P1
Pos = 40,-70
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 250,fv20=0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State 250];ブースト
Type = VelAdd
;TriggerAll=AnimElem=6,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = PrevStateNo=249
Trigger2 = AnimElem=5,=1
x = 15

[State 250];ブースト
Type = palfx
;TriggerAll=AnimElem=6,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = PrevStateNo=249
Trigger2 = AnimElem=5,=1
Time = 5
Add = 255,255,2556
color = 1

[State 250];ブーストゲージ減少
Type = varAdd
;TriggerAll=AnimElem=6,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = PrevStateNo=249
Trigger2 = AnimElem=5,=1
var(16) = -20

[State 250];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct=1
Trigger1 = !var(23)
var(16) = 11*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 250,End]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;→+B
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 260]
Type = S
MoveType= A
PhySics = S
juggle = 0
PowerAdd= 0
Ctrl = 0
Sprpriority = 1

[State 260]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 260

[State 260]
Type = PosAdd
Trigger1 = AnimElem=3
x = 23

[State 260]
Type = VelSet
Trigger1 = AnimElem=6
x = 4

[State 260,Snd]
Type = PlaySnd
Trigger1 = AnimElem=5
value = 300,1

[State 260,Snd];せやぁ！
Type = PlaySnd
Trigger1 = AnimElem=2
value = 260,0

[State 260,2]
Type = HitDef
Trigger1 = AnimElem=7,<0
Trigger1 = !MoveContAct
Attr = S,NA
AnimType = Medium
Damage = Ceil(5.2*ifelse(20*fvar(0)<1,1,20*fvar(0))*ifelse(var(8),1.2,1)),0
Priority = 4,Hit
GetPower = ifelse(123*fvar(0)<5,5,123*fvar(0))*ifelse(var(8),1.2,1),ifelse(123*fvar(0)<5,5,123*fvar(0))*ifelse(var(8),1.2,1)
Guardflag = L
PauseTime = 15,17
SparkNo = -1
HitSound = s400,3
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = trip
Ground.SlideTime = 17
Ground.HitTime = 17
P2facing = 1
Ground.Velocity = -2.5,-4
Guard.Velocity = -11
Air.Velocity = -1.5,ifelse(var(7)>0,-1,-8)
fall.yvelocity = -ifelse(var(3)>40,40,var(3)-1)*0.3
fall.xvelocity = -(var(3)-1)*0.4
Yaccel = 0.92+(var(3)-1)*0.14;0.6+(var(3)-1)*0.17
fall = 1
fall.RecoverTime = 40

[State 200]
Type = AttackDist
Trigger1 = AnimElem=7
value = 0

[State Explod];ヒットスパーク
Type = Explod
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16010
Anim = 16010
PosType = P1
Pos = 87,-40
facing = 1
Sprpriority = 5
bindTime = 1
Scale = 0.5,0.5
ownpal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 260,fv20=0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State a];ブースト
Type = VelAdd
TriggerAll=AnimElem=7,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 15

[State a];ブースト
Type = palfx
TriggerAll=AnimElem=7,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State a];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=7,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State a];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
var(16) = 14*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 230,3]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ガードキャンセル攻撃
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 290]
Type = S
MoveType= A
PhySics = S
juggle = 0
Ctrl = 0
VelSet = 0,0
Sprpriority = 1

[State a]
Type = PowerAdd
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = -1000

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 290

[State 290]
Type = SuperPause
Trigger1 = !Time
Time = 20
MoveTime = 20
darken = 0
Anim = -1
P2defmul = 1

[State 290]
Type = EnvShake
Trigger1 = !Time
Time = 10
ampl = -4
freq = 95
phase = 95

[State 290];
Type = palfx
Trigger1 = !Time
Time = 5
Add = 255,255,2556
color = 1

[State 290];執念が足りんぞ
Type = PlaySnd
Trigger1 = AnimElem=1
value = 290,0

[State 290]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 300,2

[State 290];速度
Type = VelSet
Trigger1 = AnimElem=2
x = 7

[State 290]
Type = HitDef
Trigger1 = AnimElem=3,<0
Trigger1 = !MoveContAct
Attr = S,NA
Damage = Ceil(5.2*ifelse(10*fvar(0)<1,1,10*fvar(0))*ifelse(var(8),1.2,1)),0
Priority = 7,Hit
AnimType = hard
Guardflag = MA
PauseTime = 17,17
Guard.PauseTime = 15,15
GetPower = 123,123
SparkNo = -1
HitSound = s400,3
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 17
P2facing = 1
Ground.Velocity = -10
Guard.Velocity = -12.5
Air.Velocity = -10,ifelse(var(7)>0,-1,-7)
fall.yvelocity = -ifelse(var(3)>40,40,var(3)-1)*0.3
fall.xvelocity = -(var(3)-1)*0.4
Yaccel = 0.92+(var(3)-1)*0.14;0.45+var(3)*0.15
fall = 1
fall.Recover = 0
kill = 0

[State 200]
Type = AttackDist
Trigger1 = AnimElem=3
value = 0

[State Explod];ヒットスパーク
Type = Explod
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16010
Anim = 16010
PosType = P1
Pos = 80,-100
facing = 1
Sprpriority = 5
bindTime = 1
Scale = 0.5,0.5
ownpal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 290,fv20=]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State a];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
var(16) = 14*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 410,4]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;屈A
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 400]
Type = C
MoveType= A
PhySics = C
juggle = 0
PowerAdd= 0
Ctrl = 0
Sprpriority = 1

[State 400]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 400

[State 400]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 300,0

[State 400]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 200,0+(Random%2)

[State 400]
Type = HitDef
Trigger1 = AnimElem=4,<0
Trigger1 = !MoveContAct
Attr = C,NA
Damage = Ceil(5.2*ifelse(6*fvar(0)<1,1,6*fvar(0))*ifelse(var(8),1.2,1)),0
Priority = 4,Hit
AnimType = Light
Hitflag = MAF
Guardflag = M
GetPower = ifelse(62*fvar(0)<5,5,62*fvar(0))*ifelse(var(8),1.2,1),ifelse(62*fvar(0)<5,5,62*fvar(0))*ifelse(var(8),1.2,1)
PauseTime = 10,10
SparkNo = -1
HitSound = s400,0+(Random%2)
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = low
Ground.SlideTime = 16
Ground.HitTime = 16
P2facing = 1
Ground.Velocity = -4
Air.Velocity = -2.5,ifelse(var(7)>0,-1,-6)
Yaccel = 0.92+(var(3)-1)*0.14
fall.yvelocity = -ifelse(var(3)>25,25,var(3)-1)*0.3
fall.xvelocity = -(var(3)-1)*0.4
Air.fall = 1
fall.RecoverTime = 12
ID = 200
NochainID = 9999

[State 200]
Type = AttackDist
Trigger1 = AnimElem=4
value = 0

[State 610,Hit];斬ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16000
StateNo = 16000
PosType = P1
Pos = 40,-60
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 400,fv20=0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State 400,boost];ブースト
Type = VelAdd
TriggerAll=AnimElem=7,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 15

[State 400,boost];ブースト
Type = palfx
TriggerAll=AnimElem=7,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State 400,boost];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=7,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State 400,boost];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
var(16) = 5*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 400,End]
Type = ChangeState
Trigger1 = !AnimTime
value = 11
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;屈C
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 410]
Type = C
MoveType= A
PhySics = C
juggle = 0
PowerAdd= 0
Ctrl = 0
Sprpriority = 1

[State 410]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 410

[State a]
Type = PosAdd
Trigger1 = AnimElem=5
x = 12

[State 410]
Type = PlaySnd
Trigger1 = AnimElem=4
value = 300,2

[State 410]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 210,0+(Random%2)

[State 410,HitDef]
Type = HitDef
Trigger1 = AnimElem=6,<0
Trigger1 = !MoveContAct
Attr = C,NA
Damage = Ceil(5.2*ifelse(6*fvar(0)<1,1,6*fvar(0))*ifelse(var(8),1.2,1)),0
Priority = 5,Hit
AnimType = hard
Hitflag = MAF
Guardflag = M
GetPower = ifelse(108*fvar(0)<5,5,108*fvar(0))*ifelse(var(8),1.2,1),ifelse(108*fvar(0)<5,5,108*fvar(0))*ifelse(var(8),1.2,1)
PauseTime = 15,15
SparkNo = -1
Sparkxy = -10,-198/2
HitSound = s500,2
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 17
P2facing = 1
Ground.Velocity = -9
Air.Velocity = -2.5,ifelse(var(7)>0,-1,-8)
Yaccel = 0.92+(var(3)-1)*0.14
fall.yvelocity = -ifelse(var(3)>25,25,var(3)-1)*0.3
fall.xvelocity = -(var(3)-1)*0.4
Air.fall = 1
fall.RecoverTime = 42
ID = 200
NochainID = 9999

[State 200]
Type = AttackDist
Trigger1 = AnimElem=6
value = 0

[State 250,Hit];斬ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16021
StateNo = 16021
PosType = P1
Pos = 63,-112
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 210,fv20=0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State 410,Boost];ブースト
Type = VelAdd
TriggerAll=AnimElem=5,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 15

[State 410,Boost];ブースト
Type = palfx
TriggerAll=AnimElem=5,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State 410,Boost];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=5,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State 410,Boost];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
var(16) = 11*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 400,Boost]
Type = ChangeState
Trigger1 = !AnimTime
value = 11
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AIブースト同時押し用指定ステート　→A
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 429]
Type = U
MoveType= U
Ctrl = 0

[State 249]
Type = ChangeState
Trigger1 = 1
value = 430

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;屈B
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 430]
Type = C
MoveType= A
PhySics = C
juggle = 0
PowerAdd= 0
Ctrl = 0
Sprpriority = 1

[State 430]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 430

[State 430,Snd]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 200,0+(Random%2)

[State 430,Snd]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 300,0

[State 430,HitDef]
Type = HitDef
Trigger1 = AnimElem=4,<0
Trigger1 = !MoveContAct
Attr = C,NA
Damage = Ceil(5.2*ifelse(6*fvar(0)<1,1,6*fvar(0))*ifelse(var(8),1.2,1)),0
Priority = 4,Hit
AnimType = Light
Hitflag = MAFLD
Guardflag = L
GetPower = ifelse(92*fvar(0)<5,5,92*fvar(0))*ifelse(var(8),1.2,1),ifelse(92*fvar(0)<5,5,92*fvar(0))*ifelse(var(8),1.2,1)
PauseTime = 12,16
SparkNo = -1
HitSound = s400,0
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = Low
Ground.SlideTime = 14+var(8)*4
Ground.HitTime = 14+var(8)*4
P2facing = 1
Ground.Velocity = -7
Air.Velocity = -2,ifelse(var(7)>0,-1,-5)
Yaccel = 0.92+(var(3)-1)*0.14
fall.yvelocity = -ifelse(var(3)>25,25,var(3)-1)*0.3
fall.xvelocity = -(var(3)-1)*0.4
Air.fall = 1
fall.RecoverTime = 24+13
ID = 200
NochainID = 9999

[State 430]
Type = AttackDist
Trigger1 = AnimElem=4
value = 0

[State 610,Hit];斬ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16000
StateNo = 16000
PosType = P1
Pos = 60,-10
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 430,fv20=0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State 430];ブースト
Type = VelAdd
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = AnimElem=2,=1
Trigger2 = PrevStateNo=429
x = 15

[State 430];ブースト
Type = palfx
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = AnimElem=2,=1
Trigger2 = PrevStateNo=429
Time = 5
Add = 255,255,2556
color = 1

[State 430];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = AnimElem=2,=1
Trigger2 = PrevStateNo=429
var(16) = -20

[State a];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
var(16) = 8*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 430,3]
Type = ChangeState
Trigger1 = !AnimTime
value = 11
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;屈D
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 440]
Type = C
MoveType= A
PhySics = C
juggle = 0
PowerAdd= 0
Ctrl = 0
Sprpriority = 1

[State 440]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 440

[State a]
Type = Velset
Trigger1 = var(58)
Trigger1 = AnimElem=3
x = 16

[State 440,2]
Type = PlaySnd
Trigger1 = AnimElem=3
value = 300,3

[State 200,5]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 210,0+(Random%3)

[State 440,3]
Type = HitDef
Trigger1 = AnimElem=5,<0
Trigger1 = !MoveContAct
Attr = C,NA
Damage = Ceil(5.2*ifelse(13*fvar(0)<1,1,13*fvar(0))*ifelse(var(8),1.2,1)),0
Priority = 6,Hit
Hitflag = MAFLD
Guardflag = L
PauseTime = 15,15
GetPower = ifelse(123*fvar(0)<5,5,123*fvar(0))*ifelse(var(8),1.2,1),ifelse(123*fvar(0)<5,5,123*fvar(0))*ifelse(var(8),1.2,1)
SparkNo = -1
HitSound = s400,3
GuardSound = s120,0
Guard.SparkNo = s7100
Ground.Type = Trip
Ground.SlideTime = 15+(P2StateType=C)
Ground.HitTime = 15+(P2StateType=C)
P2facing = 1
Ground.Velocity = -4.5,-10
Guard.Velocity = -11
Air.Velocity = -4.5,ifelse(var(7)>0,-1,-3)
Guard.Velocity = -5
Yaccel = .54+(var(3)-1)*0.14
fall.yvelocity = -ifelse(var(3)>25,25,var(3)-1)*0.3
fall.xvelocity = -(var(3)-1)*0.4
fall = 1
fall.RecoverTime = 52
ID = 400
NochainID = 9999

[State 200]
Type = AttackDist
Trigger1 = AnimElem=5
value = 0

[State Explod];ヒットスパーク
Type = Explod
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16010
Anim = 16010
PosType = P1
Pos = 83,-10
facing = 1
Sprpriority = 5
bindTime = 1
Scale = 0.5,0.5
ownpal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 440,fv20=0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State 440,Boost];ブースト
Type = VelAdd
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 15

[State 440,Boost];ブースト
Type = palfx
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State 440,Boost];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State 440,Boost];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
var(16) = 14*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 440,End]
Type = ChangeState
Trigger1 = !AnimTime
value = 11
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;空A　JA
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 600]
Type = A
MoveType= A
PhySics = A
juggle = 0
PowerAdd= 0
Ctrl = 0
Sprpriority = 1

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 600

[State 600];2段ジャンプ判定
Type = varSet
TriggerAll=!Time
TriggerAll=!var(24)
Trigger1 = var(59)<1
Trigger1 = !fvar(39)
Trigger1 = Command="holdup"
var(24) = 1

[State 600]
Type = turn
TriggerAll=!Time
TriggerAll=P2Dist X<0
Trigger1 = PrevStateNo=111
Trigger2 = var(24)

[State 600]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 300,0

[State 600]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 200,0+(Random%2)

[State 600,NotHitBy]
Type = NotHitBy
Trigger1 = var(58)>1
Trigger1 = PrevStateNo=1400
value = SCA

[State 600,Hitdef]
Type = HitDef
Trigger1 = AnimElem=5,<0
Trigger1 = !MoveContAct
Attr = A,NA
Damage = Ceil(5.2*ifelse(6*fvar(0)<1,1,6*fvar(0))*ifelse(var(8),1.2,1)),0
AnimType = Light
Priority = 4,Hit
GetPower = ifelse(62*fvar(0)<5,5,62*fvar(0))*ifelse(var(8),1.2,1),ifelse(62*fvar(0)<5,5,62*fvar(0))*ifelse(var(8),1.2,1)
Guardflag = HA
PauseTime = 10,10
SparkNo = -1
HitSound = s400,0+(Random%2)
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = high
Ground.SlideTime = 9+var(8)*6
Ground.HitTime = 9+var(8)*6
P2facing = 1
Ground.Velocity = -6
Air.Velocity = ifelse(!var(9),-2.3,0),ifelse(var(7)>0,-1,-6)
Yaccel = 0.92+(var(3)-1)*0.14
fall.yvelocity = -ifelse(var(3)>80,80,var(3)-1)*0.3
fall.xvelocity = -(var(3)-1)*0.4
Air.fall = 1
fall.RecoverTime = 22
ID = 600
NochainID = 9999

[State 600]
Type = AttackDist
Trigger1 = AnimElem=4
value = 0

[State 600,Hit];ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16000
StateNo = 16000
PosType = P1
Pos = 45,-70
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 600,fv20+=]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State a]
Type = CtrlSet
Trigger1 = AnimElem=7
value = 1

[State 600]
Type = turn
Trigger1 = AnimElem=7
Trigger1 = P2Dist X<0
Trigger1 = var(58)>1

[State a];ブースト
Type = VelAdd
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 15

[State a];ブースト
Type = palfx
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State a];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State a];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct=1
Trigger1 = !var(23)
var(16) = 5*fvar(0)
IgNoreHitPause = 1
persistent = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;空C　JC
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 610]
Type = A
MoveType= A
PhySics = A
juggle = 0
PowerAdd= 0
Ctrl = 0
Sprpriority = 1

[State 610]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 610

[State 610];2段ジャンプ判定
Type = varSet
TriggerAll=!Time
TriggerAll=!var(24)
Trigger1 = var(59)<1
Trigger1 = !fvar(39)
Trigger1 = Command="holdup"
var(24) = 1

[State 610];ジャンプ仕込みの振り返り
Type = turn
TriggerAll=!Time
TriggerAll=P2Dist X<0
Trigger1 = PrevStateNo=111
Trigger2 = var(24)

[State 200,1]
Type = PlaySnd
Trigger1 = AnimElem=4
value = 300,2

[State 200,5]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 210,0+(Random%2)

[State 610,NotHitBy]
Type = NotHitBy
Trigger1 = var(58)>1
Trigger1 = PrevStateNo=1400
value = SCA

[State 610,3]
Type = HitDef
Trigger1 = AnimElem=5,<0
Trigger1 = !MoveContAct
Attr = A,NA
Damage = 5.2*ifelse(14*fvar(0)<1,1,14*fvar(0))*ifelse(var(8),1.2,1),0
Priority = 6,Hit
Guardflag = HA
GetPower = ceil(7.7*ifelse(15*fvar(0)<1,1,15*fvar(0))*ifelse(var(8),1.2,1)),ceil(7.7*ifelse(15*fvar(0)<5,1,15*fvar(0))*ifelse(var(8),1.2,1))
PauseTime = 12,12
SparkNo = -1
Sparkxy = -10,-190/2
HitSound = s500,2
Guard.SparkNo = s7100
GuardSound = s120,0
AnimType = hard
Ground.Type = high
Ground.SlideTime = 16+var(8)*4+(var(58)>1)*4
Ground.HitTime = 16+var(8)*4+(var(58)>1)*4
P2facing = 1
Ground.Velocity = -11
Air.Velocity = ifelse(!var(9),-6,0),-9
Yaccel = 0.92+(var(3)-1)*0.14
fall.yvelocity = -ifelse(var(3)>80,80,var(3)-1)*0.3-(var(8)>0)*12
fall.xvelocity = -(var(3)-1)*0.4
Air.fall = 1
fall.RecoverTime = 50
ID = 600
NochainID = 9999

[State 610]
Type = AttackDist
Trigger1 = AnimElem=5
value = 0

[State 610,Hit];縦斬ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16020
StateNo = 16020
PosType = P1
Pos = 40,-80
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 610,fv20+=]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State a]
Type = CtrlSet
Trigger1 = AnimElem=8
value = 1

[State 600]
Type = turn
Trigger1 = AnimElem=8
Trigger1 = P2Dist X<0
Trigger1 = var(58)>1

[State a];ブースト
Type = VelAdd
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 15

[State a];ブースト
Type = palfx
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State a];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State a];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
var(16) = 14*fvar(0)
IgNoreHitPause = 1
persistent = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;空B JB
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 630]
Type = A
MoveType= A
PhySics = A
juggle = 0
PowerAdd= 0
Ctrl = 0
Sprpriority = 1

[State 630]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 630

[State 630];2段ジャンプ判定
Type = varSet
TriggerAll=!Time
TriggerAll=!var(24)
Trigger1 = var(59)<1
Trigger1 = !fvar(39)
Trigger1 = Command="holdup"
var(24) = 1

[State 630]
Type = turn
TriggerAll=!Time
TriggerAll=P2Dist X<0
Trigger1 = PrevStateNo=111
Trigger2 = var(24)

[State 200,5]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 200,0+(Random%2)

[State 630,1]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 300,0

[State 630,NotHitBy]
Type = NotHitBy
Trigger1 = var(58)>1
Trigger1 = PrevStateNo=1400
value = SCA

[State 630,2]
Type = HitDef
Trigger1 = AnimElem=4,<0
Trigger1 = !MoveContAct
Attr = A,NA
Damage = Ceil(5.2*ifelse(6*fvar(0)<1,1,6*fvar(0))*ifelse(var(8),1.2,1)),0
Priority = 4,Hit
GetPower = ifelse(92*fvar(0)<5,5,92*fvar(0))*ifelse(var(8),1.2,1),ifelse(92*fvar(0)<5,5,92*fvar(0))*ifelse(var(8),1.2,1)
Guardflag = HA
PauseTime = 10,10
SparkNo = -1
HitSound = s400,1
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = high
Ground.SlideTime = 21+var(8)*6
Ground.HitTime = 21+var(8)*6
P2facing = 1
Ground.Velocity = -6
Air.Velocity = ifelse(!var(9),-3.3,0),-5
Yaccel = 0.92+(var(3)-1)*0.14;0.45+(var(3)-1)*0.1
fall.yvelocity = -ifelse(var(3)>80,80,var(3)-1)*0.3
fall.xvelocity = -(var(3)-1)*0.4
Air.fall = 1
fall.RecoverTime = 34
ID = 600
NochainID = 9999

[State 200]
Type = AttackDist
Trigger1 = AnimElem=4
value = 0

[State 600,Hit];ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16000
StateNo = 16000
PosType = P1
Pos = P2Dist X,-75
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 630,fv20+=]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State a]
Type = CtrlSet
Trigger1 = AnimElem=6
value = 1

[State 600]
Type = turn
Trigger1 = AnimElem=6
Trigger1 = P2Dist X<0
Trigger1 = var(58)>1

[State a];ブースト
Type = VelAdd
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 15

[State a];ブースト
Type = palfx
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State a];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State a];ブーストゲージ増
Type = varAdd
Trigger1 = MoveContAct=1
Trigger1 = !var(23)
var(16) = 8*fvar(0)
IgNoreHitPause = 1
persistent = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;空D JD
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 640]
Type = A
MoveType= A
PhySics = A
juggle = 0
PowerAdd= 0
Ctrl = 0
Sprpriority = 1

[State 640]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 640

[State 640];2段ジャンプ判定
Type = varSet
TriggerAll=!Time
TriggerAll=!var(24)
Trigger1 = var(59)<1
Trigger1 = !fvar(39)
Trigger1 = Command="holdup"
var(24) = 1

[State 640]
Type = turn
TriggerAll=!Time
TriggerAll=P2Dist X<0
Trigger1 = PrevStateNo=111
Trigger2 = var(24)

[State 640,2]
Type = PlaySnd
Trigger1 = AnimElem=3
value = 300,2

[State 200,5]
Type = PlaySnd
Trigger1 = AnimElem=2
value = 210,0+(Random%3)

[State 640,NotHitBy]
Type = NotHitBy
Trigger1 = var(58)>1
Trigger1 = PrevStateNo=1400
value = SCA

[State 640,3]
Type = HitDef
Trigger1 = AnimElem=5,<0
Trigger1 = !MoveContAct
Attr = A,NA
Damage = Ceil(5.2*ifelse(12*fvar(0)<1,1,12*fvar(0))*ifelse(var(8),1.2,1)),0
Priority = 6,Hit
Guardflag = HA
GetPower = ifelse(123*fvar(0)<5,5,123*fvar(0))*ifelse(var(8),1.2,1),ifelse(123*fvar(0)<5,5,123*fvar(0))*ifelse(var(8),1.2,1)
PauseTime = 15,15
SparkNo = -1
HitSound = s400,3
Guard.SparkNo = s7100
GuardSound = s120,0
AnimType = hard
Ground.Type = high
Ground.SlideTime = 22+var(8)*5
Ground.HitTime = 22+var(8)*5
P2facing = 1
Ground.Velocity = -8
Air.Velocity = ifelse(!var(9),-3.3,0),ifelse(var(7)>0,-1,-8)
Yaccel = 0.92+(var(3)-1)*0.14;0.45+(var(3) - 1)*0.1
fall.yvelocity = -ifelse(var(3)>80,80,var(3)-1)*0.3
fall.xvelocity = -(var(3)-1)*0.4
Air.fall = 1
fall.RecoverTime = 30+15
ID = 600
NochainID = 9999

[State 200]
Type = AttackDist
Trigger1 = AnimElem=5
value = 0

[State Explod];ヒットスパーク
Type = Explod
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16010
Anim = 16010
PosType = P1
Pos = ifelse(P2Dist X<10,10,P2Dist X),-100+P2Dist X
facing = 1
Sprpriority = 5
bindTime = 1
Scale = 0.5,0.5
ownpal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 640,fv20+=]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State a]
Type = CtrlSet
Trigger1 = AnimElem=9
value = 1

[State 600]
Type = turn
Trigger1 = AnimElem=9
Trigger1 = P2Dist X<0
Trigger1 = var(58)>1

[State a];ブースト
Type = VelAdd
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 15

[State a];ブースト
Type = palfx
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State a];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State a];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
var(16) = 14*fvar(0)
IgNoreHitPause = 1
persistent = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;通常投げ　そりゃそりゃそりゃあぁ！！ 投げ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 800]
Type = S
MoveType= A
PhySics = S
juggle = 0
VelSet = 0,0
Ctrl = 0
Sprpriority = 1

[State 800]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 800

[State 800,1]
Type = HitDef
Trigger1 = (P2StateNo!=[150,153])
Trigger1 = (P2StateNo!=[130,131])
Trigger1 = P2StateNo!=140
Attr = S,NT
Hitflag = M-
Priority = 1,Miss
SparkNo = -1
Sprpriority = 1
P1facing = 1
P2facing = 1
P1StateNo = 801
P2StateNo = 805
fall = 1
NochainID = 600,9999

[State 800]
Type = AttackDist
Trigger1 = 1
value = 0

[State 800,2]
Type = ChangeState
Trigger1 = !AnimTime
value = 215

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;投げ中
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 801]
Type = S
MoveType= A
PhySics = N
Anim = 801
juggle = 8
Sprpriority = 2

[State 801,Explod];掴み
Type = Null;Explod
Trigger1 = AnimElem=7
Trigger2 = AnimElem=8
Trigger3 = AnimElem=9
Trigger4 = AnimElem=10
Trigger5 = AnimElem=11
Trigger6 = AnimElem=12
Anim = 7000+(Random%8)
ID = 3000
Sprpriority = 5
PosType = P1
Pos = 104/2,-2/2
bindTime = 1
SuperMove = 0
IgNoreHitPause = 0
under = 0

[State Explod];ヒットスパーク
Type = Explod
Trigger1 = AnimElem=7
Trigger2 = AnimElem=8
Trigger3 = AnimElem=9
Trigger4 = AnimElem=10
Trigger5 = AnimElem=11
Trigger6 = AnimElem=12
ID = 16010
Anim = 16010
PosType = P1
Pos = 60,0
Random = 30,9
facing = 1
Sprpriority = 5
bindTime = 1
Scale = 0.5,0.5
ownpal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
igNoreHitPause = 1

[State 801,EnvShake]
Type = EnvShake
Trigger1 = AnimElem=7
Trigger2 = AnimElem=8
Trigger3 = AnimElem=9
Trigger4 = AnimElem=10
Trigger5 = AnimElem=11
Trigger6 = AnimElem=12
Time = 6
ampl = -4
freq = 95
phase = 95

[State 801,GrabSound];そりゃそりゃそりゃあぁ！！
Type = PlaySnd
Trigger1 = AnimelemTime(6)=10
value = 800,0

[State 801,Grab Sound];
Type = PlaySnd
Trigger1 = AnimElem=7
Trigger2 = AnimElem=8
Trigger3 = AnimElem=9
Trigger4 = AnimElem=10
Trigger5 = AnimElem=11
Trigger6 = AnimElem=12
value = 400,3

[State 801,T_Bind1];相手制御
Type = TargetBind
Trigger1 = AnimElem=3
Pos = 180/2,0

[State 801,T_Bind2]
Type = TargetBind
Trigger1 = AnimElem=4
Pos = 136/2,-142/2

[State 801,T_Bind3]
Type = TargetBind
Trigger1 = AnimElem=5
Pos = 128/2,-92/2

[State 801,T_Bind4]
Type = TargetBind
Trigger1 = AnimElem=6
Pos = 74/2,0

[State 801,T_Bind5]
Type = TargetState
Trigger1 = AnimElem=1
value = 805

[State 801,T_State]
Type = TargetState
Trigger1 = AnimElem=7
Trigger2 = AnimElem=8
Trigger3 = AnimElem=9
Trigger4 = AnimElem=10
Trigger5 = AnimElem=11
Trigger6 = AnimElem=12
value = 806

[State 801,2]
Type = TargetState
Trigger1 = AnimelemTime(13)=10
value = 807

[State a]
Type = HitAdd
Trigger1 = AnimElem=7
Trigger2 = AnimElem=8
Trigger3 = AnimElem=9
Trigger4 = AnimElem=10
Trigger5 = AnimElem=11
Trigger6 = AnimElem=12
value = 1

[State a]
Type = PowerAdd
Trigger1 = AnimElem=7
Trigger2 = AnimElem=8
Trigger3 = AnimElem=9
Trigger4 = AnimElem=10
Trigger5 = AnimElem=11
Trigger6 = AnimElem=12
value = 73

[State 801,2]
Type = TargetLifeAdd
Trigger1 = AnimElem=7
Trigger2 = AnimElem=8
Trigger3 = AnimElem=9
Trigger4 = AnimElem=10
Trigger5 = AnimElem=11
value = -21
kill = 0

[State 801,2]
Type = TargetLifeAdd
Trigger1 = AnimElem=12
value = -21

[State a];ブーストゲージ増加
Type = varAdd
TriggerAll=!var(23)
Trigger1 = AnimElem=7
Trigger2 = AnimElem=9
Trigger3 = AnimElem=11
var(16) = 11
IgNoreHitPause = 1

[State 210,Width];画面端の押し戻し判定
Type = Width
Trigger1 = !Time
edge = 40,0

[State 821,3] 
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(ENEMY)掴まれ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 805]
Type = A
MoveType= H
PhySics = N
VelSet = 0,0
Sprpriority = -1

[State 820,1]
Type = ChangeAnim2
Trigger1 = !Time
value = 805

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(ENEMY)突かれ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 806]
Type = A
MoveType= H
PhySics = N
VelSet = 0,0
Sprpriority = -1

[State 820,1]
Type = ChangeAnim2
Trigger1 = !Time
value = 806

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(ENEMY)突かれ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 807]
Type = A
MoveType= H
PhySics = N
VelSet = 0,0
Sprpriority = -1

[State 820,1]
Type = SelfState
Trigger1 = !Time
value = 5110

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;つかみ投げ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 850]
Type = S
MoveType= A
PhySics = S
juggle = 0
VelSet = 0,0
Ctrl = 0
Sprpriority = 1

[State 850]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 850

[State 850]
Type = AttackDist
Trigger1 = 1
value = 0

[State a];七星ゲージ
Type = varAdd
TriggerAll=NumHelper(4000)
TriggerAll=NumHelper(30000+ID)
TriggerAll=Helper(30000+ID),var(0)>0
Trigger1 = MoveHit=1
var(4) = 1

[State 800]
Type = HitDef
Trigger1 = AnimElem=5,<0
Trigger1 = P2StateNo!=150&&151&&152&&153&&130&&131&&140
Trigger1 = P2StateType=S
Attr = S,NT
Hitflag = M-
Damage = 0
PauseTime = 16,16
Priority = 1,Miss
SparkNo = -1;s7000+(Random%8)
Sparkxy = -1,-100
Sprpriority = 1
P1facing = 1
P2facing = 1
HitSound = S400,3
fall = 1
kill = 0

[State a]
Type = ChangeState
Trigger1 = MoveHit
value = 851

[State 800,2]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;どうした？こんなものか？
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 851]
Type = S
MoveType= A
PhySics = N
Anim = 851
juggle = 8
Sprpriority = 2

[State Explod]
Type = Null;Explod
Trigger1 = AnimElem=4
Trigger2 = AnimElem=5
Trigger3 = AnimElem=6
Trigger4 = AnimElem=7
Anim = 7000+(Random%8)
ID = 3000
Sprpriority = 5
PosType = P1
Pos = 122/2,-38/2
bindTime = 1
SuperMove = 0
IgNoreHitPause = 0
under = 0

[State Explod]
Type = Null;Explod
Trigger1 = AnimElem=9
Anim = 7000+(Random%8)
ID = 3000
Sprpriority = 5
PosType = P1
Pos = 100/2,-26/2
bindTime = 1
SuperMove = 0
IgNoreHitPause = 0
under = 0

[State Explod];ヒットスパーク
Type = Explod
Trigger1 = AnimElem=4
Trigger2 = AnimElem=5
Trigger3 = AnimElem=6
Trigger4 = AnimElem=7
ID = 16010
Anim = 16010
PosType = P1
Pos = 60,-20
facing = 1
Sprpriority = 5
bindTime = 1
Scale = 0.5,0.5
ownpal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
igNoreHitPause = 1

[State Explod];ヒットスパーク
Type = Explod
Trigger1 = AnimElem=9
ID = 16010
Anim = 16010
PosType = P1
Pos = 50,-13
facing = 1
Sprpriority = 5
bindTime = 1
Scale = 0.5,0.5
ownpal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
igNoreHitPause = 1

[State 810,Grab Sound];どうした？
Type = PlaySnd
Trigger1 = AnimElem=4
value = 850,0

[State 810,Grab Sound];こんなものか？
Type = PlaySnd
Trigger1 = AnimElem=9
value = 850,1

[State 810,Grab Sound];こんなものか？
Type = PlaySnd
Trigger1 = AnimElem=9
value = 400,3

[State 801,2];相手制御
Type = TargetBind
Trigger1 = AnimElem=1
Pos = 120/2,0

[State 801,2]
Type = TargetBind
Trigger1 = AnimElem=2
Pos = 120/2,0

[State 801,2]
Type = TargetBind
Trigger1 = AnimElem=3
Pos = 150/2,0

[State 801,2]
Type = TargetState
Trigger1 = AnimElem=1
value = 855

[State 801,2]
Type = TargetState
Trigger1 = AnimElem=4
value = 856

[State 801,2]
Type = TargetState
Trigger1 = AnimElem=9
value = 857

[State a]
Type = HitAdd
Trigger1 = AnimElem=4
Trigger2 = AnimElem=5
Trigger3 = AnimElem=6
Trigger4 = AnimElem=7
Trigger5 = AnimElem=9
value = 1

[State a]
Type = PowerAdd
Trigger1 = AnimElem=4
Trigger2 = AnimElem=5
Trigger3 = AnimElem=6
Trigger4 = AnimElem=7
Trigger5 = AnimElem=9
value = 73

[State 801,2]
Type = TargetLifeAdd
Trigger1 = AnimElem=4
Trigger2 = AnimElem=5
Trigger3 = AnimElem=6
Trigger4 = AnimElem=7
value = -21
kill = 0

[State 801,2]
Type = TargetLifeAdd
Trigger1 = AnimElem=9
value = -21

[State a];ブーストゲージ増加
Type = varAdd
TriggerAll=!var(23)
Trigger1 = AnimElem=4
Trigger2 = AnimElem=5
Trigger3 = AnimElem=6
Trigger4 = AnimElem=7
var(16) = 11
IgNoreHitPause = 1

[State a];ブーストゲージ増加
Type = varAdd
Trigger1 = AnimElem=9
Trigger1 = !var(23)
var(16) = 14
IgNoreHitPause = 1
persistent = 0

[State 210,Width];画面端の押し戻し判定
Type = Width
Trigger1 = !Time
edge = 80,0

[State a]
Type = PosAdd
Trigger1 = !AnimTime
x = 20

[State 821,3] 
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)掴まれ
[Statedef 855]
Type = S
MoveType= H
PhySics = N
VelSet = 0,0
Sprpriority = -1

[State 820,1]
Type = ChangeAnim2
Trigger1 = !Time
value = 855

[State a]
Type = turn
Trigger1 = AnimElem=3

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

;---------------------------------------------------------------------------
;(ENEMY)掴まれ
[Statedef 856]
Type = S
MoveType= H
PhySics = N
VelSet = 0,0
Sprpriority = -1

[State 820,1]
Type = ChangeAnim2
Trigger1 = !Time
value = 856

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1


;---------------------------------------------------------------------------
;(ENEMY)投げられ２
[Statedef 857]
Type = A
MoveType= H
PhySics = N
VelSet = 0,0
Sprpriority = -1

[State 857]
Type = Sprpriority
Trigger1 = AnimElem=5
value = 5

[State 857];無敵の状態を作る
Type = NotHitBy
Trigger1 = 1
value = SCA

[State 857]
Type = ChangeAnim
Trigger1 = !Time
value = 5050

[State 857];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

[State 857]
Type = VelSet
Trigger1 = AnimElem=1
x = 9
y = 6

[State 857] ;これは重力これは毎フレーム事に0.4の力が加わります
Type = VelAdd
Trigger1 = 1
y = .4

[State 857] 
Type = ChangeState;SelfState
TriggerAll=Vel Y>0
Trigger1 = Pos Y>=0
value = 15100

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;特殊技
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;グレイブシュート
[Statedef 300]
Type = S
MoveType= A
PhySics = S
juggle = 0
PowerAdd= 0
Ctrl = 0
Sprpriority = 1

[State 300]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 300

[State 300];死ねぇ
Type = PlaySnd
Trigger1 = AnimElem=2
value = 301,0

[State 300];
Type = PlaySnd
Trigger1 = AnimElem=4
value = 300,2

[State 300];爪
Type = Helper
Trigger1 = AnimElem=4
ID = 3000
Name = "tume"
Sprpriority = 2
Pos = 0,0
PosType = P1
StateNo = 301
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1
persistent = 0

[State 300]
Type = HitDef
Trigger1 = AnimElem=6,<0
Trigger1 = !MoveContAct
Attr = S,NA
Damage = Ceil(5.2*ifelse(22*fvar(0)<1,1,22*fvar(0))*ifelse(var(8),1.2,1)),0
Priority = 6,Hit
AnimType = diagup
Hitflag = MAFLD
Guardflag = MA
PauseTime = 17,17
Guard.PauseTime = 15,15
GetPower = 123,123
SparkNo = -1
Sparkxy = -10,-80
HitSound = s500,2
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 17
P2facing = 1
Ground.Velocity = 0,-17
Guard.Velocity = -12.5
Air.Velocity = ifelse(var(7)>0,-8,0),ifelse(var(7)>0,-1,-14)
Air.CornerPush.VelOff = 0
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
Yaccel = 0.7+var(3)*0.03
fall = 1
fall.RecoverTime = 50
ID = 410
NochainID = 9999

[State 200]
Type = AttackDist
Trigger1 = AnimElem=6
value = 0

[State 250,Hit];斬ヒットエフェクト
Type = Helper
Trigger1 = MoveHit=1
ID = 16020
StateNo = 16020
PosType = P1
Pos = 50,-80
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 300];ブースト
Type = VelAdd
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 15

[State 300];ブースト
Type = palfx
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State 300];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State 300];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
var(16) = 14*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 300]
Type = ChangeState
TriggerAll=MoveHit
Trigger1 = var(59)<1
Trigger1 = Command="holdup"
value = 41
IgNoreHitPause = 1

[State 300]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;(HELPER)爪
[Statedef 301]
Type = A
Ctrl = 0
VelSet = 0,0
Anim = 301
MoveType = I
PhySics = N
Sprpriority = 5

[State 301]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = bindtoroot
Trigger1 = 1
Pos = 30,-5

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256,256

[State a];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 2.5,2.5

[State a]
Type = DestroySelf
Trigger1 = Root,StateNo!=300
Trigger2 = !AnimTime

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;へヴィーストライク
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 310]
Type = S
MoveType= A
PhySics = S
juggle = 0
PowerAdd= 0
Ctrl = 0
Sprpriority = 1

[State 310]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 310

[State 210,1];へヴィーストライク
Type = PlaySnd
Trigger1 = AnimElem=1
value = 350,0

[State 210,1];おおおおおぉ
Type = PlaySnd
Trigger1 = AnimElem=1
value = 310,0

[State 200,1];
Type = PlaySnd
Trigger1 = AnimElem=7
value = 300,3

[State a];速度
Type = VelSet
Trigger1 = AnimElem=8
x = 18

[State 310]
Type = HitDef
TriggerAll=AnimElem=9,<0
TriggerAll=!MoveContAct
Trigger1 = !NumHelper(2060)
Trigger2 = NumHelper(2060)
Trigger2 = (Helper(2060),var(1)>29+(var(58)>1)*20||Helper(2060),MoveContAct>20)
Attr = S,NT
Damage = Ceil(5.2*ifelse(14*fvar(0)<1,1,14*fvar(0))*ifelse(var(8),1.2,1)),0
Priority = 7,Hit
AnimType = hard
Guardflag = N
PauseTime = 17,17
Guard.PauseTime = 15,15
GetPower = 73,73
SparkNo = -1
HitSound = s500,2
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 17
P2facing = 1
Ground.Velocity = -10
Guard.Velocity = -12.5
Air.Velocity = -3,ifelse(var(7)>0,-1,-12)
Yaccel = 0.92+(var(3)-1)*0.14
Air.fall = 1
fall.Recover = 1
P2StateNo = 350
ID = 410
NochainID = 9999

[State 200]
Type = AttackDist
Trigger1 = AnimElem=9
value = 0

[State 610,Hit];縦斬ヒットエフェクト
Type = Helper
Trigger1 = MoveHit=1
ID = 16020
StateNo = 16020
PosType = P1
Pos = 66,-100
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State a]
Type = Helper
Trigger1 = AnimElem=1,=1
ID = 3000
Name = "ef"
Sprpriority = 2
Pos = -62/2,-246/2
PosType = P1
StateNo = 311
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];ブースト
Type = VelAdd
TriggerAll=AnimElem=8,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 15

[State a];ブースト
Type = palfx
TriggerAll=AnimElem=8,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State a];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=8,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State a];七星ゲージ
Type = varAdd
TriggerAll=NumHelper(4000)
TriggerAll=NumHelper(30000+ID)
TriggerAll=Helper(30000+ID),var(0)
Trigger1 = MoveHit=1
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State a];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
var(16) = 11*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;(HELPER)発動エフェクト
[Statedef 311]
Type = S
Ctrl = 0
Anim = 6000
VelSet = 0,0
MoveType = I
PhySics = N
Sprpriority = 5

[State a]
Type = AssertSpecial
Trigger1 = !Time
flag = invisible

[State a];エフェクト
Type = PalFX
Trigger1 = !Time
Time = 75
Add = 5,25,5
mul = 206,200,155
color = 0

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256,256

[State a]
Type = varSet
Trigger1 = !Time
var(2) = 0

[State a]
Type = varAdd
Trigger1 = Time>17
var(2) = 5

[State a];拡縮
Type = AngleSet
Trigger1 = !Time
value = 90

[State a]
Type = AngleDraw
Trigger1 = 1
Scale = 1.5-(var(2)*0.01),1.5-(var(2)*0.01)

[State a]
Type = DestroySelf
Trigger1 = Time=46

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;秘孔やられ・よろけ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 350]
Type = S
MoveType= H
PhySics = N
VelSet = 0,0
Sprpriority = 1

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Nowalk

[State a]
Type = ChangeState
Trigger1 = !Time
Trigger1 = (Anim=[350,369])||(Anim = 5300)
Trigger2 = Pos y<0
Trigger3 = Lose=1
value = 352

[State 820,1]
Type = ChangeAnim2
Trigger1 = !Time
value = 350

[State a]
Type = ChangeAnim
TriggerAll=!Time
TriggerAll=AutHorName="ahuron"
Trigger1 = Name="REI"
Trigger2 = Name="JAGI"
Trigger3 = Name="JUDA"
Trigger4 = Name="SHIN"
Trigger5 = Name="THOUTHER"
Trigger6 = Name="Mr.HEART"
value = 360

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = 351

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;秘孔やられ・気絶
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 351]
Type = A
MoveType= H
PhySics = N
VelSet = 0,0
Sprpriority = 1

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Nowalk

[State 820,1]
Type = ChangeAnim2
Trigger1 = !Time
value = 5300

[State a]
Type = ChangeAnim
TriggerAll=!Time
TriggerAll=AutHorName="ahuron"
Trigger1 = Name="REI"
Trigger2 = Name="JAGI"
Trigger3 = Name="JUDA"
Trigger4 = Name="SHIN"
Trigger5 = Name="THOUTHER"
Trigger6 = Name="Mr.HEART"
value = 361

[State a]
Type = SelfState
Trigger1 = Time=180
value = 0
Ctrl = 1


;---------------------------------------------------------------------------
;秘孔やられ・吹き飛び
[Statedef 352]
Type = S
MoveType= H
PhySics = N
VelSet = 0,0
Sprpriority = 1

[State 820,1]
Type = ChangeAnim
Trigger1 = !Time
value = 352

[State a]
Type = ChangeState
Trigger1 = Time=15
value = 353


;---------------------------------------------------------------------------
;秘孔やられ・吹き飛び
[Statedef 353]
Type = S
MoveType= H
PhySics = N
VelSet = -4,-7
Sprpriority = 1

[State 820,1]
Type = ChangeAnim
Trigger1 = !Time
value = 5050

[State 821,1] ;これは重力これは毎フレーム事に0.4の力が加わります
Type = VelAdd
Trigger1 = 1
y = .4

[State 821,3] 
Type = ChangeState;SelfState
TriggerAll=Vel Y>0
Trigger1 = Pos Y>=0
value = 15100


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;バニシングストライク・チャージ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 320]
Type = S
MoveType= A
PhySics = S
juggle = 0
PowerAdd= 0
Ctrl = 0
Sprpriority = 1

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 320

[State a]
Type = varSet
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
var(5) = 0

[State a];最大フラグ
Type = varSet
Trigger1 = Time>33
var(5) = 1

[State a];ブースト
Type = VelAdd
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 15

[State a];ブースト
Type = palfx
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State a];ブーストゲージ減少
Type = varAdd
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State 410,4]
Type = ChangeState
TriggerAll=Time>11
Trigger1 = Command!="おしっぱなしy"&&Command!="おしっぱなしb"
Trigger1 = var(59)<1
Trigger2 = Time>37
Trigger3 = var(59)>0
value = 321

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;バニシングストライク・攻撃
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 321]
Type = S
MoveType= A
PhySics = S
juggle = 0
PowerAdd= 0
Ctrl = 0
Sprpriority = 1

[State 321]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 321

[State 210];へヴィーストライク
Type = PlaySnd
Trigger1 = AnimElem=1
Trigger1 = var(5)=1
value = 350,0

[State 210]
Type = PlaySnd
Trigger1 = AnimElem=1
value = 320,0

[State 200]
Type = PlaySnd
Trigger1 = AnimElem=1
value = 300,2

[State a]
Type = VelSet
Trigger1 = AnimElem=1
x = 7+var(5)*8

[State 410,2]
Type = HitDef
Trigger1 = AnimElem=3,<0
Trigger1 = !MoveContAct
Trigger1 = !var(5)
Attr = S,NA
Damage = Ceil(5.2*ifelse(22*fvar(0)<5,5,22*fvar(0))*ifelse(var(8),1.2,1)),0
Priority = 7,Hit
AnimType = hard
Guardflag = MA
PauseTime = 17,17
Guard.PauseTime = 15,15
GetPower = 108,108
SparkNo = -1
Sparkxy = -10,-100
HitSound = s400,3
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 17
P2facing = 1
Ground.Velocity = -10
Guard.Velocity = -12.5
Air.Velocity = ifelse(var(7)>0,-10,-5),ifelse(var(7)>0,-1,-5)
Yaccel = 0.8+(var(3)-1)*0.14
fall = 1
fall.Recover = 0

[State 410,2]
Type = HitDef
TriggerAll=AnimElem=3,<0
TriggerAll=var(5)
TriggerAll=!MoveContAct
Trigger1 = !NumHelper(2060)
Trigger2 = NumHelper(2060)
Trigger2 = (Helper(2060),var(1)>29+(var(58)>1)*20||Helper(2060),MoveContAct>20)
Attr = S,NT
Damage = Ceil(5.2*ifelse(22*fvar(0)<5,5,22*fvar(0))*ifelse(var(8),1.2,1)),0
Priority = 7,Hit
AnimType = hard
Guardflag = N
PauseTime = 17,17
Guard.PauseTime = 15,15
GetPower = 108,108
SparkNo = -1
Sparkxy = -10,-100
HitSound = s400,3
Guard.SparkNo = s7100
GuardSound = s120,0
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 17
P2facing = 1
Ground.Velocity = -10
Guard.Velocity = -12.5
Air.Velocity = ifelse(var(7)>0,-10,-5),ifelse(var(7)>0,-1,-5)
Yaccel =0.8+(var(3)-1)*0.14
fall = 1
fall.Recover = 0

[State Explod];ヒットスパーク
Type = Explod
Trigger1 = MoveHit=1
ID = 16010
Anim = 16010
PosType = P1
Pos = 80,-100
facing = 1
Sprpriority = 5
bindTime = 1
Scale = 0.5,0.5
ownpal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 200]
Type = AttackDist
Trigger1 = AnimElem=3
value = 0

[State a]
Type = Helper
Trigger1 = !Time
Trigger1 = var(5)=1
ID = 3000
Name = "ef"
Sprpriority = 2
Pos = -52/2,-202/2
PosType = P1
StateNo = 311
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];七星ゲージ
Type = varAdd
TriggerAll=MoveHit=1
TriggerAll=NumHelper(4000)
TriggerAll=NumHelper(30000+ID)
TriggerAll=Helper(30000+ID),var(0)
Trigger1 = !var(31)
Trigger1 = !var(5)
Trigger2 = !var(32)
Trigger2 = var(5)
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State a];星取り制限 通常
Type = varSet
Trigger1 = MoveHit=1
Trigger1 = !var(5)
var(31) = 1
IgNoreHitPause = 1

[State a];星取り制限　タメ最大
Type = varSet
Trigger1 = MoveHit=1
Trigger1 = var(5)
var(32) = 1
IgNoreHitPause = 1

[State 321];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct=1
Trigger1 = !var(23)
var(16) = 14*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 321];ブーストゲージ増加
Type = varSet
TriggerAll=var(11)>0
TriggerAll=P2StateNo=549
TriggerAll=MoveContAct=1
TriggerAll=var(16)<100
TriggerAll=!var(23)
Trigger1 = var(59)<1
Trigger1 = Command="holdfwd"
Trigger2 = var(59)>0||fvar(39)
var(16) = 100
IgNoreHitPause = 1

[State 410]
Type = ChangeState
TriggerAll=var(11)>0
TriggerAll=P2StateNo=549
TriggerAll=MoveContAct=1
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="holdfwd"
Trigger2 = var(59)>0||fvar(39)
value = 500
IgNoreHitPause = 1

[State 410]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; ブースト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 500]
Type = S
PhySics = N
Sprpriority = 1
Ctrl = 0

[State 500]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 500

[State 500]
Type = turn
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
Trigger1 = P2Dist X<0

[State 500]
Type = MoveHitReSet
Trigger1 = 1
IgNoreHitPause = 1

[State 500]
Type = VelAdd
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
x = 8

[State 500]
Type = varSet
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
fvar(20) = 0

[State 500]
Type = VelAdd
Trigger1 = vel x<8
x = 0.2

[State 500]
Type = Palfx
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
Time = 5
Add = 255,255,256
color = 1

[State 500]
Type = PlaySnd
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 110,0

[State 500]
Type = StateTypeSet
Trigger1 = Pos y<0
value = A

[State 500]
Type = VelAdd
Trigger1 = StateType=A
y = 0.45

[State 500]
Type = StateTypeSet
Trigger1 = Pos y>=0
value = S

[State 500]
Type = PosSet
Trigger1 = StateType=S
y = 0

[State 500]
Type = CtrlSet
Trigger1 = AnimElem=10
value = 1

[State 500]
Type = VelSet
Trigger1 = Pos Y>=0
y = 0

[State 500]
Type = PosSet
Trigger1 = Pos Y>0
y = 0

[State 500]
Type = varAdd
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
var(16) = -20
IgNoreHitPause = 1
persistent = 0

[State 500]
Type = varSet
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
var(23) = 1
IgNoreHitPause = 1
persistent = 0

[State 500]
Type = AssertSpecial
Trigger1 = 1
flag = NoWalk

[State 500]
Type = AssertSpecial
Trigger1 = 1
flag = NoAutoTurn

[State 500]
Type = ChangeState
Trigger1 = AnimElem=23
Trigger1 = StateType=S
value = 0
Ctrl = 1

[State 500]
Type = ChangeState
Trigger1 = AnimElem=23
Trigger1 = StateType=A
value = 111
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(ENEMY)へヴィストライク、ヒットポーズ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 548]
Type = A
MoveType= H
PhySics = N
Ctrl = 0

[State 549,velsetxy=0]
Type = Velset
Trigger1 = 1
y = 0
x = 0
persistent = 0
ignorehitpause = 1

[State 549,St=550]
Type = ChangeState
Trigger1 = HitShakeOver
value = 551

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(ENEMY)へヴィストライク、ヒットポーズ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 549]
Type = A
MoveType= H
PhySics = N
Ctrl = 0

[State 820,1]
Type = ChangeAnim2
Trigger1 = !Time
value = 550

[State 549,velsetxy=0]
Type = Velset
Trigger1 = 1
y = 0
x = 0
persistent = 0
ignorehitpause = 1

[State 549,St=550]
Type = ChangeState
Trigger1 = HitShakeOver
value = 550

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(ENEMY)へヴィストライク、吹き飛び
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 550]
Type = A
MoveType= H
PhySics = N
VelSet = 0,0
Sprpriority = 1

[State a]
Type = turn
Trigger1 = P2Dist X<0
Trigger1 = !Time

[State a]
Type = VelSet
Trigger1 = !Time
x = -11

[State 549,Addy=-5]
Type = PosAdd
Trigger1 = !Time
y = -5

[State a]
Type = PosSet
Trigger1 = !Time
Trigger1 = Pos Y>-30
y = -30

[State a]
Type = PlayerPush
Trigger1 = 1
value = 0

[State 820,1]
Type = ChangeAnim2
Trigger1 = !Time
value = 550

[State a]
Type = ChangeAnim
TriggerAll=!Time
TriggerAll=AutHorName="ahuron"
Trigger1 = Name="REI"
Trigger2 = Name="JAGI"
Trigger3 = Name="JUDA"
Trigger4 = Name="SHIN"
Trigger5 = Name="THOUTHER"
Trigger6 = Name="Mr.HEART"
value = 560

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

[State a]
Type = ChangeState
Trigger1 = backEdgeDist<9
Trigger2 = Time>200
Trigger3 = frontEdgeDist<9
value = 552

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(ENEMY)へヴィストライク、弱吹き飛び
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 551]
Type = A
MoveType= H
PhySics = N
VelSet = -18,0
Sprpriority = 1

[State a]
Type = turn
Trigger1 = P2Dist X<0
Trigger1 = !Time

[State 820,1]
Type = ChangeAnim2
Trigger1 = !Time
value = 550

[State a]
Type = ChangeAnim
TriggerAll=!Time
TriggerAll=AutHorName="ahuron"
Trigger1 = Name="REI" 
Trigger2 = Name="JAGI"
Trigger3 = Name="JUDA"
Trigger4 = Name="SHIN"
Trigger5 = Name="THOUTHER"
Trigger6 = Name="Mr.HEART"
value = 560

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

[State a]
Type = ChangeState
Trigger1 = backEdgeDist<9
value = 552

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(ENEMY)へヴィストライク、壁ヒット
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 552]
Type = A
MoveType= H
PhySics = N
VelSet = 0,0
Sprpriority = 1

[State 820,1]
Type = ChangeAnim2
Trigger1 = !Time
value = 552

[State a]
Type = LifeAdd
Trigger1 = !Time
value = -5
absolute = 1
Kill = 0

[State a]
Type = ChangeAnim
TriggerAll=!Time
TriggerAll=AutHorName="ahuron"
Trigger1 = Name="REI" 
Trigger2 = Name="JAGI"
Trigger3 = Name="JUDA"
Trigger4 = Name="SHIN"
Trigger5 = Name="THOUTHER"
Trigger6 = Name="Mr.HEART"
value = 562
;3
;11
;7

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

[State 1020,4]
Type = EnvShake
Trigger1 = !Time
Time = 10
ampl = -6
freq = 95
phase = 95

[State a]
Type = PosAdd
Trigger1 = !Time
Trigger1 = PrevStateNo=551
y = 5

[State a]
Type = Velset
Trigger1 = !Time
Trigger1 = PrevStateNo=550
x = 2

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = 553

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(ENEMY)へヴィストライク、落下
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 553]
Type = A
MoveType= H
PhySics = N
VelSet = 0.4,0
Sprpriority = 1

[State 820,1]
Type = ChangeAnim2
Trigger1 = !Time
value = 15070

[State a]
Type = ChangeAnim
TriggerAll=!Time
TriggerAll=AutHorName="ahuron"
Trigger1 = Name="REI" 
Trigger2 = Name="JAGI"
Trigger3 = Name="JUDA"
Trigger4 = Name="SHIN"
Trigger5 = Name="THOUTHER"
Trigger6 = Name="Mr.HEART"
value = 563

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

[State a]
Type = VelAdd
Trigger1 = 1
y = Const(MoveMent.Yaccel)

[State 821,3] 
Type = ChangeState
TriggerAll=Vel Y>0
Trigger1 = Pos Y>=0
value = 15110

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;必殺技
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AIブースト同時押し用指定ステート　南斗旋脚葬
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 999]
Type = U
MoveType= U
Ctrl = 0

[State 249]
Type = ChangeState
Trigger1 = 1
value = 1000

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 南斗旋脚葬
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1000]
Type = S
MoveType= A
PhySics = S
juggle = 0
PowerAdd= 0
Sprpriority = 1
Ctrl = 0

[State 1000,Anim]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 1000

[State 1000,velset]
Type = VelSet
Trigger1 = AnimelemTime(4)=2
Trigger2 = AnimElem=5
x = 14

[State 1000,Snd1];しずめ･･･
Type = PlaySnd
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 1000,0

[State 1000,Snd2];スライド
Type = PlaySnd
Trigger1 = AnimElem=4
value = 1000,1

[State 1000,HitDef]
Type = HitDef
Trigger1 = AnimElem=6,<0
Trigger1 = !MoveContAct
Attr = C,SA
Damage = Ceil(5.2*ifelse(22*ifelse(fvar(0)<0.2,0.2,fvar(0))<1,1,22*ifelse(fvar(0)<0.2,0.2,fvar(0)))*ifelse(var(8)>0,1.2,1)),15
;Damage = 110*ifelse(fvar(0)<0.2,0.2,fvar(0)),6
Priority = 7,Hit
Hitflag = MAFLD
Guardflag = L
PauseTime = 15,15
SparkNo = -1;s7010+(Random%8)
GetPower = 123,123
Sparkxy = -15,-21
HitSound = s400,3
GuardSound = s121,0
Guard.SparkNo = s7101
Ground.Type = Trip
Ground.SlideTime = 10
Ground.HitTime = 15
P2facing = 1
Ground.Velocity = -3.5,-7
Guard..Velocity = -11
Air.Velocity = -4,ifelse(var(7)>0,-1,-8)
Guard.Velocity = -5
Air.CornerPush.VelOff = -5
Ground.CornerPush.VelOff = -5
Guard.CornerPush.VelOff = -5
Yaccel = 0.92+(var(3)-1)*0.14
fall = 1
fall.RecoverTime = 60
ID = 400
NochainID = 9999

[State 1100,Hit];ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16096
StateNo = 16096
PosType = P1
Pos = 90,-21
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 1000]
Type = AttackDist
Trigger1 = AnimElem=6
value = 0

[State 1000,fv20=0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State a];エフェクト
Type = Helper
Trigger1 = AnimElem=5
ID = 1005
Name = "kosure"
Sprpriority = 5
Pos = 70,0
PosType = P1
StateNo = 1005
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];ブースト
Type = VelAdd
TriggerAll=AnimElem=5,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = PrevStateNo=999
x = 6

[State a];ブースト
Type = palfx
TriggerAll=AnimElem=5,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = PrevStateNo=999
Time = 5
Add = 255,255,2556
color = 1

[State a];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=5,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = PrevStateNo=999
var(16) = -20

[State a];七星ゲージ カウンターヒット時
Type = varAdd
TriggerAll=NumHelper(4000)
TriggerAll=NumHelper(30000+ID)
TriggerAll=Helper(30000+ID),var(0)
Trigger1 = MoveHit=1
Trigger1 = var(8)>0
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State 1100];グレイブ仕込みでの星取り
Type = varAdd
TriggerAll=MoveHit=1
Trigger1 = !var(34)
Trigger1 = var(9)>0
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State 1100];星取り制限
Type = varSet
Trigger1 = MoveHit=1
var(34) = 1
IgNoreHitPause = 1

[State a];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct=1
Trigger1 = !var(23)
var(16) = 14*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 1000,St=0End];終了
Type = ChangeState
Trigger1 = !AnimTime
Trigger2 = Anim!=1000
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)スライディングエフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1005]
Type = A
Ctrl = 0
Anim = 1005
VelSet = 2,0
MoveType = I
PhySics = N
Sprpriority = 5

[State 1005]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State 1005]
Type = Sprpriority
Trigger1 = isHelper(1006)
value = -1

[State 1005];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256,256

[State 1005];変数
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = 1
var(1) = 1

[State 1000];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 0+var(1)*0.16,2.0-var(1)*0.1

[State a]
Type = DestroySelf
Trigger1 = var(1)>19

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AIブースト同時押し用指定ステート　南斗旋脚葬
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1099]
Type = U
MoveType= U
Ctrl = 0

[State 1099]
Type = ChangeState
Trigger1 = 1
value = 1100

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 南斗獄屠拳
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1100]
MoveType= A
PhySics = N
juggle = 0
PowerAdd= 0
Sprpriority = 1
Ctrl = 0

[State 1100]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 1100

[State 1100]
Type = turn
Trigger1 = !Time
Trigger1 = P2Dist X<0
Trigger1 = PrevStateNo!=50000

[State 1100]
Type = StateTypeSet
Trigger1 = Pos y<0
Trigger1 = PrevStateNo!=1
value = A

[State 1100]
Type = ChangeAnim
TriggerAll=!Time
TriggerAll=PrevStateNo!=50000
Trigger1 = var(58)>1
value = 1103

[State 1100];無敵の状態を作る
Type = NotHitBy
Trigger1 = (Time=[2,9])
Trigger2 = var(58)>0
Trigger2 = Time<20
value = SCA
Time = 1

[State 1100];南斗獄屠拳!!
Type = PlaySnd
Trigger1 = AnimElem=2
value = 1100,0

[State 1100];蹴り
Type = PlaySnd
Trigger1 = AnimElem=6
value = 1100,1

[State 1100]
Type = StateTypeSet
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = A

[State 1100]
Type = VelSet
TriggerAll=!Time
Trigger1 = PrevStateNo!=50000
x = 2

[State 1100]
Type = VelAdd
Trigger1 = AnimElem=6,<=0
x = 0.7+(var(58)>1)*0.7

[State 1100]
Type = VelAdd
Trigger1 = AnimElem=7,>=0
Trigger1 = Vel x>0
x = -0.3-(var(58)>1)*0.2

[State 1100]
Type = VelSet
Trigger1 = Vel x<=0
x = 0

[State 1100]
Type = VelAdd
Trigger1 = AnimElem=5,>=0
Trigger1 = AnimElem=10,<=0
y = -0.6

[State 1100]
Type = VelAdd
Trigger1 = AnimElem=10,>=0
y = 0.5

[State 1100];エフェクト１
Type = Helper
Trigger1 = AnimElem=7
ID = 1110
Name = "gokuto"
Sprpriority = 2
Pos = 0,0
PosType = P1
StateNo = 1110
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State 1100];エフェクト２
Type = Helper
Trigger1 = AnimElem=7
ID = 1111
Name = "gokuto2"
Sprpriority = 2
Pos = -20,-280/2
PosType = P1
StateNo = 1111
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State 1100];エフェクト３
Type = Helper
Trigger1 = AnimElem=7
ID = 1112
Name = "gokuto3"
Sprpriority = 2
Pos = 0,-220/2
PosType = P1
StateNo = 1111
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State 1100];K
Type = HitDef
Trigger1 = AnimElem=8,<0
Trigger1 = !MoveContAct
Attr = A,SA
Damage = Ceil(5.2*ifelse(24*ifelse(fvar(0)<0.2,0.2,fvar(0))<1,1,24*ifelse(fvar(0)<0.2,0.2,fvar(0)))*ifelse(var(8)>0,1.2,1)),15
Priority = 8,Hit
Guardflag = MA
GetPower = 108*ifelse(fvar(0)<0.2,0.2,fvar(0))*ifelse(var(8),1.2,1),108*ifelse(fvar(0)<0.2,0.2,fvar(0))*ifelse(var(8),1.2,1)
PauseTime = 14,14
Guard.PauseTime = 12,12
SparkNo = -1
HitSound = s400,3
Guard.SparkNo = s7101
GuardSound = s121,0
AnimType = up
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 17
P2facing = 1
Ground.Velocity = -10,-2
Guard.Velocity = -11
Air.Velocity = ifelse(!var(9),-10,0),ifelse(var(7)>0,-1,-4)
Yaccel = 0.92+(var(3)-1)*0.14
Air.CornerPush.VelOff = -(!var(9)||var(11))*3
Ground.CornerPush.VelOff = -(!var(9)||var(11))*3
Guard.CornerPush.VelOff = -(!var(9)||var(11))*3
fall = 1
fall.Recover = 0
ID = 600
NochainID = 9999

[State 1100]
Type = AttackDist
Trigger1 = AnimElem=11
value = 0

[State 1100,Hit];ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = MoveHit
ID = 16096
StateNo = 16096
PosType = P1
Pos = 50,-125
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 1100]
Type = AttackDist
Trigger1 = AnimElem=11
value = 0

[State 1100,fv20=0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State 1100];ゲージ超増加
Type = PowerAdd
Trigger1 = var(58)>1
Trigger1 = var(5)=1
Trigger1 = MoveHit=1
value = 250

[State 1100];ブースト
Type = VelAdd
TriggerAll=AnimElem=7,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = PrevStateNo=1099
x = 6

[State 1100];ブースト
Type = palfx
TriggerAll=AnimElem=7,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = PrevStateNo=1099
Time = 5
Add = 255,255,2556
color = 1

[State 1100];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=7,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = PrevStateNo=1099
var(16) = -20

[State 1100]
Type = CtrlSet
Trigger1 = AnimElem=15
value = 1

[State 1100];カウンターヒットでの星取り
Type = varAdd
Trigger1 = MoveHit=1
Trigger1 = !var(34)
Trigger1 = var(8)>0
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State 1100];グレイブシュートでの星取り
Type = varAdd
Trigger1 = MoveHit=1
Trigger1 = !var(34)
Trigger1 = var(9)>0
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State 1100];星取り制限
Type = varSet
Trigger1 = MoveHit=1
Trigger1 = !var(34)
Trigger1 = var(9)>0
var(34) = 1
IgNoreHitPause = 1

[State 1100];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct=1
Trigger1 = !var(23)
var(16) = 14*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 1100]
Type = ChangeState
Trigger1 = Vel Y>0
Trigger1 = Pos Y>=0
value = 50

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 空中南斗獄屠拳
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1120]
MoveType= A
PhySics = N
juggle = 0
PowerAdd= 0
Sprpriority = 1
Ctrl = 0

[State 1100]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 1100

[State 1100]
Type = turn
Trigger1 = !Time
Trigger1 = P2Dist X<0
Trigger1 = PrevStateNo!=50000

[State 1100]
Type = StateTypeSet
Trigger1 = Pos y<0
Trigger1 = PrevStateNo!=1
value = A

[State 1100]
Type = ChangeAnim
Trigger1 = Time=1
value = 1101

[State 1100]
Type = ChangeAnim
TriggerAll=!Time
TriggerAll=PrevStateNo!=50000
Trigger1 = var(58)>1
value = 1103

[State 1100];無敵の状態を作る
Type = NotHitBy
Trigger1 = (Time=[2,9])
Trigger2 = var(58)>0
Trigger2 = Time<20
value = SCA
Time = 1

[State 1100];南斗獄屠拳!!
Type = PlaySnd
Trigger1 = AnimElem=2
value = 1100,0

[State 1100];蹴り
Type = PlaySnd
Trigger1 = AnimElem=6
value = 1100,1

[State 1100]
Type = StateTypeSet
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = A

[State 1100]
Type = VelSet
TriggerAll=!Time
Trigger1 = PrevStateNo!=50000
y = 0

[State 1100,velset]
Type = VelSet
TriggerAll=PrevStateNo!=50000
Trigger1 = !Time
x = 5
y = -3.5

[State 1100]
Type = VelAdd
Trigger1 = AnimElem=10,>=0
Trigger1 = Vel x>0
x = -0.2

[State 1100]
Type = VelSet
Trigger1 = Vel x<3
x = 2

[State 1100]
Type = VelAdd
Trigger1 = AnimElem=10,>=0
y = 0.45

[State 1100];エフェクト１
Type = Helper
Trigger1 = AnimElem=7
ID = 1110
Name = "gokuto"
Sprpriority = 2
Pos = 0,0
PosType = P1
StateNo = 1110
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State 1100];エフェクト２
Type = Helper
Trigger1 = AnimElem=7
ID = 1111
Name = "gokuto2"
Sprpriority = 2
Pos = -20,-280/2
PosType = P1
StateNo = 1111
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State 1100];エフェクト３
Type = Helper
Trigger1 = AnimElem=7
ID = 1112
Name = "gokuto3"
Sprpriority = 2
Pos = 0,-220/2
PosType = P1
StateNo = 1111
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State 1100,A_HitDef_7-9];空B
Type = HitDef
Trigger1 = AnimElem=7
Trigger2 = AnimElem=8
Trigger3 = AnimElem=9
Attr = A,SA
Damage = Ceil(5.2*ifelse(6*ifelse(fvar(0)<0.2,0.2,fvar(0))<1,1,6*ifelse(fvar(0)<0.2,0.2,fvar(0)))*ifelse(var(8)>0,1.2,1)),5
Priority = 6,Hit
Guardflag = HA
GetPower = (62+(var(58)>1)*138)*ifelse(fvar(0)<0.2,0.2,fvar(0))*ifelse(var(8),1.2,1),62*ifelse(fvar(0)<0.2,0.2,fvar(0))*ifelse(var(8),1.2,1)
PauseTime = 12,12
Guard.PauseTime = 6,6
SparkNo = -1;s7010+(Random%8)
Sparkxy = -10,-125
HitSound = s400,3
Guard.SparkNo = s7101
GuardSound = s121,0
AnimType = up
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 17
P2facing = 1
Ground.Velocity = -4,-2
Guard.Velocity = -3
Air.Velocity = ifelse(!var(9),-5,0),ifelse(var(7)>0,-1,-10)
Yaccel = 0.6+(var(3)-1)*0.14
Air.CornerPush.VelOff = -(!var(9)||var(11))*6
Ground.CornerPush.VelOff = -(!var(9)||var(11))*6
Guard.CornerPush.VelOff = -(!var(9)||var(11))*6
fall = 1
fall.Recover = 0
ID = 600
NochainID = 9999

[State 1100,A_HitDef_10];空B最後
Type = HitDef
Trigger1 = AnimElem=10
Attr = A,SA
Damage = Ceil(5.2*ifelse(6*ifelse(fvar(0)<0.2,0.2,fvar(0))<1,1,6*ifelse(fvar(0)<0.2,0.2,fvar(0)))*ifelse(var(8)>0,1.2,1)),5
Priority = 6,Hit
Guardflag = HA
GetPower = 108*ifelse(fvar(0)<0.2,0.2,fvar(0))*ifelse(var(8),1.2,1),108*ifelse(fvar(0)<0.2,0.2,fvar(0))*ifelse(var(8),1.2,1)
PauseTime = 15,15
Guard.PauseTime = 15,15
SparkNo = -1;s7010+(Random%8)
Sparkxy = -10,-125
HitSound = s400,3
Guard.SparkNo = s7101
GuardSound = s121,0
AnimType = up
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 17
P2facing = 1
Ground.Velocity = -5,-3
Guard.Velocity = -11
Air.Velocity = ifelse(!var(9),-5,0),ifelse(var(7)>0,-1,-10)
Yaccel = 0.6+(var(3)-1)*0.14
Air.CornerPush.VelOff = -(!var(9)||var(11))*6
Ground.CornerPush.VelOff = -(!var(9)||var(11))*6
Guard.CornerPush.VelOff = -(!var(9)||var(11))*6
fall = 1
fall.Recover = 0
ID = 600
NochainID = 9999

[State 1100]
Type = AttackDist
Trigger1 = AnimElem=11
value = 0

[State 1100,Hit];ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
TriggerAll=NumEnemy>0
TriggerAll=MoveHit=1
TriggerAll=!EnemyNear(var(50)),Time
Trigger1 = EnemyNear(var(50)),StateNo=[5000,5040]
Trigger2 = HitPauseTime
ID = 16096
StateNo = 16096
PosType = P1
Pos = 50,-125
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
igNoreHitPause = 1

[State 1120,fv20=]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State 1100];ゲージ超増加
Type = PowerAdd
Trigger1 = var(58)>1
Trigger1 = MoveHit=1
value = 250

[State 1100];ブースト
Type = VelAdd
TriggerAll=AnimElem=7,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = PrevStateNo=1019
x = 6

[State 1100];ブースト
Type = palfx
TriggerAll=AnimElem=7,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = PrevStateNo=1019
Time = 5
Add = 255,255,2556
color = 1

[State 1100];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=7,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = PrevStateNo=1019
var(16) = -20

[State 1100];カウンターヒットでの星取り
Type = varAdd
Trigger1 = MoveHit=1
Trigger1 = !var(34)
Trigger1 = var(8)>0
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State 1100];グレイブシュートでの星取り
Type = varAdd
Trigger1 = MoveHit=1
Trigger1 = !var(34)
Trigger1 = var(9)>0
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State 1100];星取り制限
Type = varSet
Trigger1 = MoveHit=1
Trigger1 = !var(34)
Trigger1 = var(9)>0
var(34) = 1
IgNoreHitPause = 1

[State 1100];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct=1
Trigger1 = !var(23)
var(16) = 14*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 1100]
Type = ChangeState
Trigger1 = Vel Y>0
Trigger1 = Pos Y>=0
value = 1105

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;D南斗獄屠拳(落下版)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1150]
MoveType= A
PhySics = N
juggle = 0
PowerAdd= 0
Sprpriority = 1
Ctrl = 0

[State 1100]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 1100

[State 1100]
Type = turn
Trigger1 = !Time
Trigger1 = P2Dist X<0
Trigger1 = PrevStateNo!=50000

[State 1100]
Type = StateTypeSet
Trigger1 = Pos y<0
Trigger1 = PrevStateNo!=1
value = A

[State 1100]
Type = ChangeAnim
TriggerAll=!Time
TriggerAll=PrevStateNo!=50000
Trigger1 = 1
value = 1102

[State 1100]
Type = ChangeAnim
TriggerAll=!Time
TriggerAll=PrevStateNo!=50000
Trigger1 = var(58)>1
value = 1103

[State 1100];南斗獄屠拳!!
Type = PlaySnd
Trigger1 = AnimElem=2
value = 1100,0

[State 1100];蹴り
Type = PlaySnd
Trigger1 = AnimElem=6
value = 1100,1

[State 1100]
Type = StateTypeSet
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = A

[State 1100]
Type = VelSet
TriggerAll=PrevStateNo!=50000
Trigger1 = !Time
x = 6
y = -6.5

[State 1100]
Type = VelAdd
Trigger1 = AnimElem=9,>=0
Trigger1 = Vel x>0
x = -0.2

[State 1100]
Type = VelSet
Trigger1 = Vel x<3
x = 2

[State 1100]
Type = VelAdd
Trigger1 = 1
y = 0.4

[State 1100];エフェクト１
Type = Helper
Trigger1 = AnimElem=7
ID = 1110
Name = "gokuto"
Sprpriority = 2
Pos = 0,0
PosType = P1
StateNo = 1110
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State 1100];エフェクト２
Type = Helper
Trigger1 = AnimElem=7
ID = 1111
Name = "gokuto2"
Sprpriority = 2
Pos = -20,-280/2
PosType = P1
StateNo = 1111
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State 1100];エフェクト３
Type = Helper
Trigger1 = AnimElem=7
ID = 1112
Name = "gokuto3"
Sprpriority = 2
Pos = 0,-220/2
PosType = P1
StateNo = 1111
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State 1100,HitDef_7];D
Type = HitDef
Trigger1 = AnimElem=8,<0
Trigger1 = !MoveContAct
Attr = A,SA
Damage = Ceil(5.2*ifelse(24*ifelse(fvar(0)<0.2,0.2,fvar(0))<1,1,24*ifelse(fvar(0)<0.2,0.2,fvar(0)))*ifelse(var(8)>0,1.2,1)),5
Priority = 6,Hit
Guardflag = HA
GetPower = 108,108
PauseTime = 17,17
Guard.PauseTime = 15,15
SparkNo = -1;s7010+(Random%8)
Sparkxy = -10,-125
HitSound = s400,3
Guard.SparkNo = s7101
GuardSound = s121,0
AnimType = up
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 17
P2facing = 1
Ground.Velocity = -2,-10
Guard.Velocity = -11
Air.Velocity = ifelse(!var(9),-3,0),ifelse(var(7)>0,-1,-10)
Yaccel = 0.6+(var(3)-1)*0.14;0.55+(var(3)-1)*0.1
Air.CornerPush.VelOff = -(!var(9)||var(11))*3
Ground.CornerPush.VelOff = -(!var(9)||var(11))*3
Guard.CornerPush.VelOff = -(!var(9)||var(11))*3
fall = 1
fall.RecoverTime = 70
ID = 600
NochainID = 9999

[State 1100]
Type = AttackDist
Trigger1 = AnimElem=11
value = 0

[State 1100,Hit];ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = MoveHit
ID = 16096
StateNo = 16096
PosType = P1
Pos = 50,-125
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 1150,fv20=]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State 1100];ブースト
Type = VelAdd
TriggerAll=AnimElem=7,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = PrevStateNo=1099
x = 6

[State 1100];ブースト
Type = palfx
TriggerAll=AnimElem=7,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = PrevStateNo=1099
Time = 5
Add = 255,255,255
color = 1

[State 1100];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=7,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = PrevStateNo=1099
var(16) = -20

[State 1100];カウンターヒットでの星取り
Type = varAdd
Trigger1 = MoveHit=1
Trigger1 = !var(34)
Trigger1 = var(8)>0
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State 1100];グレイブシュートでの星取り
Type = varAdd
Trigger1 = MoveHit=1
Trigger1 = !var(34)
Trigger1 = var(9)>0
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State 1100];星取り制限
Type = varSet
Trigger1 = MoveHit=1
Trigger1 = !var(34)
Trigger1 = var(9)>0
var(34) = 1
IgNoreHitPause = 1

[State 1100];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct=1
Trigger1 = !var(23)
var(16) = 14*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 1100]
Type = ChangeState
Trigger1 = Vel Y>0
Trigger1 = Pos Y>=0
value = 1105

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;南斗獄屠拳･着地
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1105]
Type = S
MoveType = A
PhySics = S
PowerAdd= 0
Ctrl = 0
Sprpriority = 2
VelSet = 0,0

[State 1105]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 1105

[State 1105]
Type = AttackDist
Trigger1 = 1
value = 0

[State a]
Type = PosSet
Trigger1 = !Time
y = 0

[State -3,Landing Sound]
Type = PlaySnd
Trigger1 = !Time
value = 40,0

[State Explod];着地エフェクト
Type = Explod
Trigger1 = !Time
Anim = 6047
ID = 6040
Sprpriority = -5
PosType = P1
Pos = 0,0
bindTime = 1
SuperMove = 0
IgNoreHitPause = 0
under = 0
Scale = 0.7,0.7

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)獄屠エフェクト１
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1110]
Type = A
Ctrl = 0
Anim = 1110
VelSet = 0,0
MoveType = I
PhySics = N
Sprpriority = 2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = bindtoroot
Trigger1 = 1
Pos = 140/2,-300/2

[State a]
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256,256

[State a]
Type = AngleSet
Trigger1 = !Time
value = 36

[State a]
Type = AngleDraw
Trigger1 = 1
Scale = 1.2,1.2

[State a]
Type = DestroySelf
Trigger1 = Root,AnimElem=13,>=0
Trigger1 = Root,StateNo=1100
Trigger2 = Root,AnimElem=12,>=0
Trigger2 = Root,StateNo=1120
Trigger3 = Root,AnimElem=11,>=0
Trigger3 = Root,StateNo=1150
Trigger4 = Root,StateNo!=1100
Trigger4 = Root,StateNo!=1120
Trigger4 = Root,StateNo!=1150

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)獄屠エフェクト２
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1111]
Type = A
Ctrl = 0
Anim = 1111
VelSet = -1,0
MoveType = I
PhySics = N
Sprpriority = 2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = VelSet
Trigger1 = !Time
Trigger1 = isHelper(1111)
x = -1

[State a]
Type = VelSet
Trigger1 = !Time
Trigger1 = isHelper(1112)
x = -0.5
y = 0.5

[State a]
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256-var(1),256

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = 1
var(1) = 8

[State a]
Type = AngleSet
Trigger1 = !Time
Trigger1 = isHelper(1111)
value = 0

[State a]
Type = AngleSet
Trigger1 = !Time
Trigger1 = isHelper(1112)
value = 36

[State a]
Type = AngleDraw
Trigger1 = 1
Scale = 2.0+var(1)*0.001,2.0+var(1)*0.001

[State a]
Type = DestroySelf
Trigger1 = Time=32

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AIブースト同時押し用指定ステート　南斗迫破斬
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1199]
Type = U
MoveType= U
Ctrl = 0

[State 1199]
Type = ChangeState
Trigger1 = 1
value = 1200

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 南斗迫破斬
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1200]
Type = S
MoveType= A
PhySics = S
juggle = 0
PowerAdd= 0
Sprpriority = 1
Ctrl = 0

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 1200

[State 1200];無敵の状態を作る
Type = NotHitBy
Trigger1 = var(58)>0
Trigger1 = AnimElem=5,<0
value = SCA

[State 1200]
Type = PosAdd
Trigger1 = AnimElem=6
x = 46-(P2Dist X<47)*P2Dist X

[State 1200]
Type = PlaySnd
Trigger1 = AnimElem=5
value = 300,3

[State 1200];南斗迫破斬
Type = PlaySnd
Trigger1 = !Time
value = 1200,0

[State 1200];スライス
Type = PlaySnd
Trigger1 = AnimElem=5
Trigger2 = AnimelemTime(5)=2
Trigger3 = AnimElem=6
value = 1200,1

[State 1200]
Type = PlaySnd
Trigger1 = MoveHit
value = 400,3
persistent = 0
IgNoreHitPause = 1

[State 1200]
Type = HitDef
Trigger1 = !var(58)
Trigger1 = AnimElem=7,<0
Trigger1 = !MoveContAct
Trigger1 = P2StateType=S||P2StateType=C
Attr = S,SA
Damage = Ceil(5.2*ifelse(24*ifelse(fvar(0)<0.2,0.2,fvar(0))<1,1,24*ifelse(fvar(0)<0.2,0.2,fvar(0)))*ifelse(var(8)>0,1.2,1)),15
Priority = 8,Hit
Hitflag = MAFLD
Guardflag = M
AnimType = hard
PauseTime = 15,15
SparkNo = -1
GetPower = 123*ifelse(fvar(0)<0.2,0.2,fvar(0))*ifelse(var(8),1.2,1),123*ifelse(fvar(0)<0.2,0.2,fvar(0))*ifelse(var(8),1.2,1)
HitSound = s500,2
GuardSound = s121,0
Guard.SparkNo = s7101
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 15
P2facing = 1
Guard.Velocity = -11
Ground.Velocity = -12
Air.Velocity = -3,ifelse(var(7)>0,-1,-14)
Yaccel = 0.92+(var(3)-1)*0.14
Air.CornerPush.VelOff = 0
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
fall = 0
Air.fall = 0
fall.RecoverTime = 50
P2StateNo = 350
ID = 400
NochainID = 9999

[State 1200]
Type = HitDef
Trigger1 = !var(58)
Trigger1 = AnimElem=7,<0
Trigger1 = !MoveContAct
Trigger1 = P2StateType=A||P2StateType=L
Attr = S,SA
Damage = Ceil(5.2*ifelse(24*ifelse(fvar(0)<0.2,0.2,fvar(0))<1,1,24*ifelse(fvar(0)<0.2,0.2,fvar(0)))*ifelse(var(8)>0,1.2,1)),15
Priority = 8,Hit
Hitflag = MAFLD
Guardflag = M
AnimType = hard
PauseTime = 15,15
SparkNo = -1
GetPower = 123,123
HitSound = s500,2
GuardSound = s121,0
Guard.SparkNo = s7101
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 15
P2facing = 1
Ground.Velocity = -4.5
Guard.Velocity = -11
Air.Velocity = -3,ifelse(var(7)>0,-1,-14)
Down.Velocity = -30,0
Yaccel = 0.92+(var(3)-1)*0.14
Air.CornerPush.VelOff = -5-(P2StateType=L)*35
Ground.CornerPush.VelOff = -5-(P2StateType=L)*35
Guard.CornerPush.VelOff = -5-(P2StateType=L)*35
fall = 1
Air.fall = 1
fall.Recover = 1
fall.RecoverTime = 45

[State 1200]
Type = HitDef
Trigger1 = AnimElem=7,<0
Trigger1 = !MoveContAct
Trigger1 = var(58)>0
Attr = S,SA
Damage = Ceil(5.2*ifelse(24*ifelse(fvar(0)<0.2,0.2,fvar(0))<1,1,24*ifelse(fvar(0)<0.2,0.2,fvar(0)))*ifelse(var(8)>0,1.2,1)),15
Priority = 8,Hit
Hitflag = MAFLD
Guardflag = M
AnimType = hard
PauseTime = 15,15
SparkNo = -1
GetPower = 123,123
HitSound = s500,2
GuardSound = s121,0
Guard.SparkNo = s7101
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 15
P2facing = 1
Ground.Velocity = 0,-17
Guard.Velocity = -11
Air.Velocity = ifelse(var(7)>0,-30,-3),ifelse(var(7)>0,-1,-14)
Yaccel = 0.92+(var(3)-1)*0.14
Air.CornerPush.VelOff = -5-(P2StateType=L)*35
Ground.CornerPush.VelOff = -5-(P2StateType=L)*35
Guard.CornerPush.VelOff = -5-(P2StateType=L)*35
fall = 1
Air.fall = 1
fall.Recover = 1
fall.RecoverTime = 45

[State 1100,Hit];縦斬ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16020
StateNo = 16020
PosType = P1
Pos = 70,-110
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 1200]
Type = AttackDist
Trigger1 = AnimElem=8
value = 0

[State 1200,fv20=]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.32

[State 1200];エフェクト
Type = Helper
Trigger1 = AnimElem=6
ID = 1205
Name = "hakuha"
Sprpriority = 5
Pos = 0,0
PosType = P1
StateNo = 1205
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State 1200];エフェクト
Type = Helper
Trigger1 = var(58)<2
Trigger1 = AnimElem=6
ID = 1210
Name = "hakuha_Helper1"
Sprpriority = 5
Pos = 0,0
PosType = P1
StateNo = 1210
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State 1200];エフェクト飛び道具飛ばし
Type = Helper
Trigger1 = var(58)>1
Trigger1 = AnimElem=6
ID = 1211
Name = "hakuha_Helper2"
Sprpriority = 5
Pos = 0,0
PosType = P1
StateNo = 1211
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State 1200];ブースト
Type = VelAdd
TriggerAll=AnimElem=6,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = PrevStateNo=1199
x = 12

[State 1200];ブースト
Type = palfx
TriggerAll=AnimElem=6,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = PrevStateNo=1199
Time = 5
Add = 255,255,255
color = 1

[State 1200];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=6,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = PrevStateNo=1199
var(16) = -20

[State 1200];七星ゲージ
Type = varAdd
TriggerAll=NumHelper(4000)
TriggerAll=NumHelper(30000+ID)
TriggerAll=Helper(30000+ID),var(0)
Trigger1 = !var(35)
Trigger1 = MoveHit=1
var(4) = 1+(var(8)>0)
IgNoreHitPause = 1
persistent = 0

[State 1200];星取り制限
Type = varSet
Trigger1 = MoveHit=1
var(35) = 1
IgNoreHitPause = 1

[State 1200];グレイブ仕込みでの星取り
Type = varAdd
Trigger1 = MoveHit=1
Trigger1 = !var(34)
Trigger1 = var(9)>0
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State 1200];星取り制限
Type = varSet
Trigger1 = var(9)>0
Trigger1 = MoveHit=1
var(34) = 1
IgNoreHitPause = 1

[State 1200];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct=1
Trigger1 = !var(23)
Trigger1 = !var(11)
var(16) = 14*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State 1200];強化モード時のグレイヴ効果
Type = ChangeState
TriggerAll=MoveHit
TriggerAll=var(58)>0
Trigger1 = var(59)<1
Trigger1 = Command="holdup"
value = 41
IgNoreHitPause = 1

[State 1200]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)迫破エフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1205]
Type = A
Ctrl = 0
Anim = 1205
VelSet = 0,0
MoveType = I
PhySics = N
Sprpriority = 2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = bindtoroot
Trigger1 = 1
Pos = 60,-80

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256,256

[State a];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 1.6,1.6

[State a]
Type = DestroySelf
Trigger1 = !AnimTime

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)迫破飛び道具跳ね返し
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1210]
Type = A
Ctrl = 0
Anim = 1210
VelSet = 0,0
MoveType = I
PhySics = N
Sprpriority = 2

[State a]
Type = HitBy
Trigger1 = 1
value = SCA,NP,SP,HP
Time=1

[State -2,];跳ね返し
Type = HitOverRide
Trigger1 = 1
slot = 0
StateNo = 1211
Attr = SCA,NP,SP,HP
Time = 1

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = bindtoroot
Trigger1 = 1
Pos = 0,0

[State a]
Type = DestroySelf
Trigger1 = !AnimTime

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)迫破飛び道具反射
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1211]
Type = A
Ctrl = 0
Anim = 1211
VelSet = 8,0
MoveType = A
PhySics = N
Sprpriority = 2

[State 1211]
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256,256

[State 1211]
Type = AngleDraw
Trigger1 = 1
Scale = 1.6,1.6

[State 1211]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State 1211]
Type = HitDef
Trigger1 = var(58)<2
Trigger1 = !MoveContAct
Attr = S,SP
Damage = Ceil(5.2*ifelse(12*ifelse(fvar(0)<0.2,0.2,fvar(0))<1,1,12*ifelse(fvar(0)<0.2,0.2,fvar(0)))*ifelse(var(8)>0,1.2,1)),15
Priority = 7,Hit
AnimType = hard
Guardflag = MA
PauseTime = 2,1
Guard.PauseTime = 2,1
GetPower = 0,40
SparkNo = -1
HitSound = s500,2
GuardSound = s121,0
Guard.SparkNo = s7101
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 17
P2facing = 1
Ground.Velocity = -4
Guard.Velocity = -10
Air.Velocity = -4,ifelse(var(7)>0,-1,-10)
Yaccel = 0.9+var(3)*0.03
Air.CornerPush.VelOff = 0
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
fall = 1
fall.Recover = 0

[State 1211]
Type = HitDef
Trigger1 = var(58)>1
Trigger1 = !MoveContAct
Attr = S,SA
Damage = Ceil(5.2*ifelse(12*ifelse(fvar(0)<0.2,0.2,fvar(0))<1,1,12*ifelse(fvar(0)<0.2,0.2,fvar(0)))*ifelse(var(8)>0,1.2,1)),15
Priority = 7,Hit
AnimType = hard
Guardflag = MA
PauseTime = 2,1
Guard.PauseTime = 2,1
GetPower = 0,40
SparkNo = -1
HitSound = s500,2
GuardSound = s121,0
Guard.SparkNo = s7101
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 17
P2facing = 1
Ground.Velocity = -10
Guard.Velocity = -10
Air.Velocity = -8,ifelse(var(7)>0,-1,-15)
Yaccel = 0.9+var(3)*0.03
Air.CornerPush.VelOff = 0
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
fall = 1
fall.Recover = 0

[State 1100,Hit];斬ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16021
StateNo = 16021
PosType = P1
Pos = 20,P2Dist Y-80
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State a];相手吹き飛ばし
Type = TargetState
Trigger1 = MoveHit=1
Trigger1 = Root,var(11)=1
value = 550

[State 1211]
Type = DestroySelf
Trigger1 = 0;Time>300
Trigger2 = FrontEdgeBodyDist<-120

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 南斗千手斬
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1300]
Type = S  
MoveType= A
PhySics = N
juggle = 0
PowerAdd= 0
Sprpriority = 1
Ctrl = 0

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 1300

[State a]
Type = PlayerPush
TriggerAll=!var(11)
Trigger1 = AnimElem=3,>=0
Trigger1 = AnimElem=9,<=0
value = 0

[State a]
Type = VelSet
Trigger1 = AnimElem=3
x = 14

[State a]
Type = VelAdd
Trigger1 = AnimElem=3,>=0
Trigger1 = AnimElem=9,<0
Trigger1 = Vel x<11
x = 1.3

[State a]
Type = VelAdd
Trigger1 = AnimElem=9,>=0
Trigger1 = Vel x>0
x = -0.6

[State a]
Type = VelSet
Trigger1 = AnimElem=10
Trigger2 = Vel x<0
x = 0

[State -3,a]
Type = Width
Trigger1 = FrontEdgeDist<38
Trigger1 = 0;MoveType!=H
edge = 35

[State a];ふはははははは
Type = PlaySnd
Trigger1 = !Time
value = 1300,0

[State a];スライス
Type = PlaySnd
Trigger1 = AnimElem=3
Trigger2 = AnimElem=5
Trigger3 = AnimElem=7
value = 1300,1

[State a];スライス
Type = PlaySnd
Trigger1 = AnimElem=4
Trigger2 = AnimElem=6
Trigger3 = AnimElem=8
value = 300,2

[State 440,3]
Type = HitDef
Trigger1 = AnimElem=4,<0
Trigger1 = !MoveContAct
Trigger2 = AnimElem=4
Trigger3 = AnimElem=5
Trigger4 = AnimElem=6
Trigger5 = AnimElem=7
Trigger6 = AnimElem=8
Attr = S,SA
Damage = Ceil(5.2*ifelse(2*ifelse(fvar(0)<0.2,0.2,fvar(0))<1,1,2*ifelse(fvar(0)<0.2,0.2,fvar(0)))*ifelse(var(8)>0,1.2,1)),5
Priority = 8,Hit
Hitflag = MAFLD
Guardflag = M
AnimType = hard
PauseTime = 2,2
SparkNo = -1;s7010+(Random%8)
GetPower = 108*ifelse(fvar(0)<0.2,0.2,fvar(0)),108*ifelse(fvar(0)<0.2,0.2,fvar(0))
Sparkxy = -15,-111
HitSound = s500,2
GuardSound = s121,0
Guard.SparkNo = s7101
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 15
P2facing = 1
Ground.Velocity = -1
Guard.Velocity = -2
Air.Velocity = -3,ifelse(var(7)>0,-1,-9)
Air.fall = 1
fall.RecoverTime = 30
Air.CornerPush.VelOff = 0
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
ID = 400
NochainID = 9999

[State 1300]
Type = AttackDist
Trigger1 = AnimElem=9
value = 0

[State 1100,Hit];ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
TriggerAll=NumEnemy>0
TriggerAll=MoveHit=1
TriggerAll=!EnemyNear(var(50)),Time
TriggerAll=AnimElem=8,<0
Trigger1 = EnemyNear(var(50)),StateNo=[5000,5040]
Trigger2 = HitPauseTime
ID = 16096
StateNo = 16096
PosType = P1
Pos = ifelse(P2Dist X<40,40,P2Dist X),-110
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
igNoreHitPause = 1

[State 1100,Hit];斬ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
TriggerAll=NumEnemy>0
TriggerAll=MoveHit=1
TriggerAll=!EnemyNear(var(50)),Time
TriggerAll=AnimElem=7,>0
Trigger1 = EnemyNear(var(50)),StateNo=[5000,5040]
Trigger2 = HitPauseTime
ID = 16020
StateNo = 16020
PosType = P1
Pos = ifelse(P2Dist X<40,40,P2Dist X),-110
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State -3,fv20=0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = (P2StateNo=[549,553])||(EnemyNear(var(50)),PrevStateNo=[549,553])
Trigger1 = MoveHit=1
fvar(20) = -var(20)*1.22

[State 1100];グレイブ仕込みでの星取り
Type = varAdd
Trigger1 = MoveHit=1
Trigger1 = !var(34)
Trigger1 = var(9)
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State 1100];星取り制限
Type = varSet
Trigger1 = var(9)
Trigger1 = MoveHit=1
var(34) = 1
IgNoreHitPause = 1

[State a];エフェクト
Type = Helper
Trigger1 = AnimElem=3
Trigger2 = AnimElem=6
ID = 1320
Name = "sennshu"
Sprpriority = 5
Pos = 0,0
PosType = P1
StateNo = 1320
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];エフェクト
Type = Helper
Trigger1 = AnimElem=4
Trigger2 = AnimElem=7
ID = 1321
Name = "sennshu"
Sprpriority = 5
Pos = 0,0
PosType = P1
StateNo = 1320
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];エフェクト
Type = Helper
Trigger1 = AnimElem=5
Trigger2 = AnimElem=8
ID = 1322
Name = "sennshu"
Sprpriority = 5
Pos = 0,0
PosType = P1
StateNo = 1320
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];ブースト
Type = VelAdd
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 6

[State a];ブースト
Type = palfx
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State a];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=3,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State a];カウンターヒット時の七星ゲージ
Type = varAdd
TriggerAll=NumHelper(4000)
TriggerAll=NumHelper(30000+ID)
TriggerAll=Helper(30000+ID),var(0)
Trigger1 = MoveHit=1
Trigger1 = var(8)>0
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State a];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
var(16) = 5*fvar(0)
IgNoreHitPause = 1

[State a];立ちステートに戻る
Type = ChangeState
TriggerAll=AnimElem=3,>=0
Trigger1 = var(59)<1
Trigger1 = Command="南斗千手斬"
Trigger2 = var(59)>0||fvar(39)
Trigger2 = P2MoveType=H
Trigger2 = P2BodyDist Y>-60
Trigger2 = P2StateNo!=[120,159]
Trigger2 = AnimElemTime(7)>0
Trigger2 = Power<1000
Trigger2 = var(20)>11
value = 1310

[State a]
Type = ChangeState
TriggerAll=AnimElem=3,>=0
TriggerAll=MoveHit
TriggerAll=var(59)>0||fvar(39)
TriggerAll=P2MoveType=H
TriggerAll=P2BodyDist Y>-60
Trigger1 = P2StateNo!=[120,155]
Trigger1 = AnimElemTime(7)>0
Trigger1 = Power<1000
Trigger1 = var(20)>13
Trigger2 = var(4)=7
Trigger2 = P2Life>480||fvar(36)||RoundsExisted>2
Trigger2 = P2BodyDist X=[-50,67]
value = 1310

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = (Pos Y<0)
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)千手斬エフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1320]
Type = A
Ctrl = 0
Anim = 1320
VelSet = 1,0
MoveType = I
PhySics = N
Sprpriority = 2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = bindtoroot
Trigger1 = isHelper(1320)
Pos = 136/2,-218/2

[State a]
Type = bindtoroot
Trigger1 = isHelper(1321)
Pos = 132/2,-182/2

[State a]
Type = bindtoroot
Trigger1 = isHelper(1322)
Pos = 130/2,-252/2

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256-var(1),256

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = 1
var(1) = 32

[State a];拡縮
Type = AngleSet
Trigger1 = !Time
Trigger1 = isHelper(1320)
value = 0

[State a]
Type = AngleSet
Trigger1 = !Time
Trigger1 = isHelper(1321)
value = -30

[State a]
Type = AngleSet
Trigger1 = !Time
Trigger1 = isHelper(1322)
value = 30

[State a]
Type = AngleDraw
Trigger1 = 1
Scale = 1.4+var(1)*0.003,1.4-var(1)*0.001

[State a]
Type = DestroySelf
Trigger1 = Time=8

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 南斗千手斬・追加攻撃
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1310]
Type = S
MoveType= A
PhySics = N
juggle = 0
PowerAdd= 0
VelSet = 0,0
Sprpriority = 1
Ctrl = 0

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 1310

[State a]
Type = PosSet
Trigger1 = 1
y = 0

[State a]
Type = Playerpush
Trigger1 = AnimElem=6,<=0
value = 0

[State a]
Type = VelSet
Trigger1 = AnimElem=4
x = -50

[State a]
Type = VelSet
Trigger1 = AnimElem=6
x = 0

[State a];スライス
Type = PlaySnd
Trigger1 = AnimElem=4
value = 1300,1

[State a];スライス
Type = PlaySnd
Trigger1 = AnimElem=4
value = 300,2

[State a]
Type = PlaySnd
Trigger1 = MoveHit
value = 400,3
persistent = 0
IgNoreHitPause = 1

[State 440,3]
Type = HitDef
Trigger1 = AnimElem=5,<0
Trigger1 = !MoveContAct
Attr = S,SA
Damage = Ceil(5.2*ifelse(20*ifelse(fvar(0)<0.2,0.2,fvar(0))<1,1,20*ifelse(fvar(0)<0.2,0.2,fvar(0)))*ifelse(var(8)>0,1.2,1)),2
Priority = 8,Hit
Hitflag = MAFLD
Guardflag = M
AnimType = up
PauseTime = 3,3
SparkNo = -1
GetPower = 108,108
HitSound = s500,2
GuardSound = s121,0
Guard.SparkNo = s7101
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 15
P2facing = 1
Ground.Velocity = -1,ifelse(var(7)>0,-1,-10)
Guard.Velocity = -8
Air.Velocity = -2,-10
Air.CornerPush.VelOff = 0
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
fall = 1
fall.RecoverTime = 100
ID = 400
NochainID = 9999

[State 1100,Hit];ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16096
StateNo = 16096
PosType = P1
Pos = P2Dist X,-90
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 1300]
Type = AttackDist
Trigger1 = AnimElem=5
value = 0

[State a];エフェクト
Type = Helper
Trigger1 = AnimElem=4
ID = 1325
Name = "sennshu"
Sprpriority = 5
Pos = -100,-85
PosType = P1
StateNo = 1325
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];七星ゲージ
Type = varAdd
TriggerAll=NumHelper(4000)
TriggerAll=NumHelper(30000+ID)
TriggerAll=Helper(30000+ID),var(0)
Trigger1 = MoveHit=1
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State a];カウンターヒット
Type = varAdd
Trigger1 = MoveHit=1
Trigger1 = var(8) = 1
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State a];ブーストゲージ増加
Type = varAdd
Trigger1 = MoveContAct = 1
Trigger1 = !var(23)
var(16) = 11*fvar(0)
IgNoreHitPause = 1
persistent = 0

[State a];立ちステートに戻る
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)千手斬エフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1325]
Type = A
Ctrl = 0
Anim = 1325
VelSet = 1,0
MoveType = I
PhySics = N
Sprpriority = 2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256-var(1),256

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = 1
var(1) = 16

[State a];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 8.0-var(1)*0.032,4.0-var(1)*0.016

[State a]
Type = DestroySelf
Trigger1 = Time=16

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 南斗白燕転翔
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1400]
MoveType= A
PhySics = N
juggle = 0
PowerAdd= 0
Sprpriority = 1
Ctrl = 0

[State 1400]
Type = AttackDist
Trigger1 = 1
value = 0

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 1400;+(var(58)>0)*10

[State 1400]
Type = VelSet
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
y = 0

[State 1400]
Type = PosSet
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
y = 0

[State 1400]
Type = varSet
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
var(5) = 0

[State 1400]
Type = varSet
TriggerAll=!Time
Trigger1 = PrevStateNo!=50000
Trigger1 = var(59)<1
Trigger1 = Command="南斗白燕転翔・後"
var(5) = 1

[State 1400]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
Trigger1 = var(5)
value = 1401;+(var(58)>0)*10

[State 1400,NotHitBy];無敵の状態を作る
Type = NotHitBy
Trigger1 = !var(58)
Trigger1 = Time=[4,13]
Trigger2 = var(58)=1
Trigger2 = Time<15
Trigger3 = var(58)>1
value = SCA

[State 1400];ふっふっふっふ
Type = PlaySnd
Trigger1 = AnimElem=2
value = 1400,0+var(5)

[State 1400];ジャンプ
Type = PlaySnd
Trigger1 = AnimElem=2
value = 1400,2

[State 1400]
Type = StateTypeSet
Trigger1 = AnimElem=2
value = A

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;通常
[State 1400]
Type = VelSet
TriggerAll=!var(5)
;TriggerAll=!var(58)
Trigger1 = AnimElem=2
x = 5
y = -9

[State 1400]
Type = VelSet
TriggerAll=var(5)
;TriggerAll=!var(58)
Trigger1 = AnimElem=2
x = -5
y = -9

[State 1400]
Type = VelAdd
;TriggerAll=!var(58)
Trigger1 = AnimElem=2,>=0
y = 0.45

;
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;

[State 1400]
Type = VelSet
TriggerAll=!var(5)
TriggerAll=0;var(58)
Trigger1 = AnimElem=2
x = 9
y = -16

[State 1400]
Type = VelSet
TriggerAll=var(5)
TriggerAll=0;var(58)
Trigger1 = AnimElem=2
x = -9
y = -16

[State 1400]
Type = VelAdd
TriggerAll=0;var(58)
Trigger1 = AnimElem=2,>=0
y = 1.4

;
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;

[State 1400];ブースト
Type = VelAdd
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 6

[State 1400];ブースト
Type = palfx
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State 1400];ブーストゲージ減少
Type = varAdd
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State 1400]
Type = CtrlSet
Trigger1 = !var(58)
Trigger1 = AnimElem=4
Trigger2 = var(58)
Trigger2 = AnimElem=2
value = 1

[State 1400]
Type = ChangeState
Trigger1 = Vel Y>0
Trigger1 = Pos Y>=0
Trigger1 = var(58)<2
value = 1450

[State 600]
Type = turn
Trigger1 = Vel Y>0
Trigger1 = Pos Y>=0
Trigger1 = P2Dist X<0
Trigger1 = var(58)>1

[State 1400]
Type = ChangeState
Trigger1 = Vel Y>0
Trigger1 = Pos Y>=0
Trigger1 = var(58)>1
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 南斗白燕転翔　後ろ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1410]
MoveType= A
PhySics = N
juggle = 0
PowerAdd= 0
Sprpriority = 1
Ctrl = 0

[State 1400]
Type = AttackDist
Trigger1 = 1
value = 0

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 1400+(var(58)>0)*10

[State 1400]
Type = VelSet
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
y = 0

[State 1400]
Type = PosSet
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
y = 0

[State 1400]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
Trigger1 = var(5)
value = 1401+(var(58)>0)*10

[State 1400,NotHitBy];無敵の状態を作る
Type = NotHitBy
Trigger1 = !var(58)
Trigger1 = Time=[4,13]
Trigger2 = var(58)=1
Trigger2 = Time<15
Trigger3 = var(58)>1
value = SCA

[State 1400];ふっふっふっふ
Type = PlaySnd
Trigger1 = AnimElem=2
value = 1400,0+var(5)

[State 1400];ジャンプ
Type = PlaySnd
Trigger1 = AnimElem=2
value = 1400,2

[State 1400]
Type = StateTypeSet
Trigger1 = AnimElem=2
value = A

[State 1400]
Type = VelSet
TriggerAll=var(5)
Trigger1 = AnimElem=2
x = -5
y = -9

[State 1400]
Type = VelAdd
Trigger1 = AnimElem=2,>=0
y = 0.45

[State 1400];ブースト
Type = VelAdd
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 6

[State 1400];ブースト
Type = palfx
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State 1400];ブーストゲージ減少
Type = varAdd
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State 1400]
Type = CtrlSet
Trigger1 = !var(58)
Trigger1 = AnimElem=4
Trigger2 = var(58)
Trigger2 = AnimElem=2
value = 1

[State 1400]
Type = ChangeState
Trigger1 = Vel Y>0
Trigger1 = Pos Y>=0
Trigger1 = var(58)<2
value = 1450

[State 600]
Type = turn
Trigger1 = Vel Y>0
Trigger1 = Pos Y>=0
Trigger1 = P2Dist X<0
Trigger1 = var(58)>1

[State 1400]
Type = ChangeState
Trigger1 = Vel Y>0
Trigger1 = Pos Y>=0
Trigger1 = var(58)>1
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;南斗白燕転翔・着地
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1450]
Type = S
MoveType = A
PhySics = S
PowerAdd= 0
Ctrl = 0
Sprpriority = 2
VelSet = 0,0

[State 1405]
Type = AttackDist
Trigger1 = 1
value = 0

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 1405

[State 1405]
Type = PosSet
Trigger1 = !Time
y = 0

[State 1405,LandingSound]
Type = PlaySnd
Trigger1 = !Time
value = 40,0

[State 1405,Explod];着地エフェクト
Type = Explod
Trigger1 = !Time
Anim = 6047
ID = 6040
Sprpriority = -5
PosType = P1
Pos = 0,0
bindTime = 1
SuperMove = 0
IgNoreHitPause = 0
under = 0
Scale = 0.7,0.7

[State 1405]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 南斗虐指葬
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1500]
Type = S
MoveType= A
PhySics = N
juggle = 0
PowerAdd= 0
Sprpriority = 1
Ctrl = 0

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 1500+var(58)

[State a]
Type = VelAdd
Trigger1 = Vel x>0
x = -0.3

[State a]
Type = VelSet
Trigger1 = Vel x<=0
x = 0

[State a]
Type = VelSet
Trigger1 = !Time
y = 0

[State a]
Type = PosSet
Trigger1 = !Time
y = 0

[State a];振り
Type = PlaySnd
Trigger1 = AnimElem=4
value = 300,3

[State 1500]
Type = AttackDist
Trigger1 = 1
value = 0

[State 1500]
Type = HitDef
Trigger1 = Time%3=0||var(58)<2
Trigger1 = P2StateNo!=[150,153]
Trigger1 = P2StateNo!=[130,131]
Trigger1 = P2StateNo!=140
Attr = S,ST
Hitflag = M-
Priority = 1,Miss
SparkNo = -1
Sprpriority = -1
P1facing = 1
P2facing = 1
P1StateNo = 1505
P2StateNo = 1550
fall = 1
fall.Recover = 0
NochainID = 600,9999

[State 1500]
Type = HitDef
Trigger1 = var(58)>1
Trigger1 = Time%3=1
Trigger1 = P2StateNo!=[150,153]
Trigger1 = P2StateNo!=[130,131]
Trigger1 = P2StateNo!=140
Attr = S,SA
Hitflag = M-
Priority = 1,Miss
SparkNo = -1
Sprpriority = -1
P1facing = 1
P2facing = 1
P1StateNo = 1505
P2StateNo = 1550
fall = 1
fall.Recover = 0
NochainID = 600,9999

[State 1500]
Type = HitDef
Trigger1 = var(58)>1
Trigger1 = Time%3=2
Trigger1 = P2StateNo!=[150,153]
Trigger1 = P2StateNo!=[130,131]
Trigger1 = P2StateNo!=140
Attr = S,SP
Hitflag = M-
Priority = 1,Miss
SparkNo = -1
Sprpriority = -1
P1facing = 1
P2facing = 1
P1StateNo = 1505
P2StateNo = 1550
fall = 1
fall.Recover = 0
NochainID = 600,9999

[State 1500];ブースト
Type = VelAdd
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 6

[State 1500];ブースト
Type = palfx
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State 1500];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=4,<=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State 1500];無敵の状態を作る
Type = NotHitBy
Trigger1 = var(58)>1
Trigger1 = Time<4
value = SCA

[State 1500]
Type = ChangeState
TriggerAll=var(58)>1
TriggerAll=Time>3
TriggerAll=PrevStateNo<200
Trigger1 = var(59)<1
Trigger1 = Command="holdback"
Trigger1 = (Command="おしっぱなしz")+(Command="おしっぱなしy")+(Command="おしっぱなしx")+(Command="おしっぱなしa")+(Command="おしっぱなしb")+(Command="おしっぱなしc")>1
Trigger2 = var(59)>0||fvar(39)
value = 120

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;地獄へ突き落としてやる！！
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1505]
Type = S
MoveType= A
PhySics = N
Anim = 1505
juggle = 0
VelSet = 0,0
Sprpriority = -1

[State 1505]
Type = varSet
Trigger1 = Time=1
Trigger1 = var(58)>0
var(39) = 900

[State 810,Grab Sound];
Type = PlaySnd
Trigger1 = AnimElem=4
value = 1300,1

[State 810,Grab Sound];地獄へ突き落としてやる！！！
Type = PlaySnd
Trigger1 = AnimElem=1
value = 1500,0

[State 810,Grab Sound];
Type = PlaySnd
Trigger1 = AnimElem=9
value = 400,3

[State 810,Grab Sound];
Type = PlaySnd
Trigger1 = AnimElem=9
value = 500,2

[State 810,Grab Sound]
Type = posAdd
Trigger1 = var(58)
Trigger1 = AnimElem=9
x = 30

[State Explod];出血
Type = Explod
Trigger1 = AnimElem=4
Anim = 1510
ID = 3000
Sprpriority = 5
PosType = P1
Pos = -5,0
bindTime = -1
SuperMove = 0
IgNoreHitPause = 0
reMoveTime = 43
under = 0
Scale = 0.5,0.5

[State Explod];出血
Type = Explod
Trigger1 = AnimElem=9
Anim = 1513
ID = 3000
Sprpriority = 5
PosType = P1
Pos = 126/2,-214/2
bindTime = -1
SuperMove = 0
IgNoreHitPause = 0
under = 0
Scale = 1.0,1.0

[State Explod];手についた血
Type = Explod
Trigger1 = AnimElem=9
Anim = 1516
ID = 3000
Sprpriority = 7
PosType = P1
Pos = 0,0
bindTime = -1
SuperMove = 0
IgNoreHitPause = 0
under = 0
Scale = 0.5,0.5

[State 1100,Hit];ヒットエフェクト
Type = Helper
Trigger1 = AnimElem=9
ID = 16096
StateNo = 16096
PosType = P1
Pos = 60,-100
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State a];出血
Type = Helper
Trigger1 = AnimelemTime(4)=0
Trigger2 = AnimelemTime(5)=0
Trigger3 = AnimelemTime(6)=0
Trigger4 = AnimelemTime(7)=0
Trigger5 = AnimelemTime(7)=8
ID = 1510
Name = "sennshu"
Sprpriority = 5
Pos = 78/2,-154/2
PosType = P1
StateNo = 1511
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];出血
Type = Helper
Trigger1 = AnimElem=12
ID = 1510
Name = "sennshu"
Sprpriority = 5
Pos = -120/2,-160/2
PosType = P1
StateNo = 1517
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State 801,2];相手制御
Type = TargetBind
Trigger1 = AnimElem=1
Pos = 96/2,-188/2

[State 801,2]
Type = TargetBind
Trigger1 = AnimElem=2
Pos = 78/2,-300/2

[State 801,2]
Type = TargetBind
Trigger1 = AnimElem=3
Pos = 58/2,-266/2

[State 801,2]
Type = TargetBind
Trigger1 = AnimElem=4
Pos = 78/2,-204/2

[State 801,2]
Type = TargetBind
Trigger1 = AnimElem=9,=0
Pos = 126/2,-204/2

[State 801,2]
Type = TargetBind
Trigger1 = AnimElem=11
Pos = 126/2,-14/2

[State 801,2]
Type = TargetState
Trigger1 = AnimElem=1
value = 1550

[State 801,2]
Type = TargetState
Trigger1 = AnimElem=11
value = 1551

[State a]
Type = PowerAdd
Trigger1 = AnimElem=9
value = 123

[State 801]
Type = TargetLifeAdd
Trigger1 = AnimElem=9
value = -120

[State a];七星ゲージ
Type = varAdd
TriggerAll=NumHelper(4000)
TriggerAll=NumHelper(30000+ID)
TriggerAll=Helper(30000+ID),var(0)>0
Trigger1 = AnimElem=9
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State a];ブーストゲージ増加
Type = varAdd
Trigger1 = AnimElem=9
Trigger1 = !var(23)
var(16) = 14
IgNoreHitPause = 1
persistent = 0

[State 210,Width];画面端の押し戻し判定
Type = Width
Trigger1 = !Time
edge = 40,0

[State 821,3] 
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)血（落下）
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1511]
Type = A
Ctrl = 0
Anim = 1511
VelSet = 0,3
MoveType = I
PhySics = N
Sprpriority = 6

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = VelAdd
Trigger1 = 1
y = 0.35

[State a];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 1.0,1.0

[State a]
Type = ChangeState
Trigger1 = Vel Y>0
Trigger1 = Pos Y>=-10
value = 1512

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)血（着地）
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1512]
Type = A
Ctrl = 0
Anim = 1512
VelSet = 0,0
MoveType = I
PhySics = N
Sprpriority = 6

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = PosSet
Trigger1 = !Time
y = 0

[State a];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 1.0,1.0

[State a]
Type = DestroySelf
Trigger1 = !AnimTime

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)血（落下2）
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1517]
Type = A
Ctrl = 0
Anim = 1517
VelSet = -4,3
MoveType = I
PhySics = N
Sprpriority = 6

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = VelAdd
Trigger1 = 1
y = 0.35

[State 1000,AngleD];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 0.5,0.5

[State a]
Type = ChangeState
Trigger1 = Vel Y>0
Trigger1 = Pos Y>=-10
value = 1515

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)血溜り
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1515]
Type = A
Ctrl = 0
Anim = 1515
VelSet = 0,0
MoveType = I
PhySics = N
Sprpriority = 6

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = PosSet
Trigger1 = !Time
y = 0

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = Time>=10
var(1) = 8

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256-var(1),var(1)

[State a];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 1.0,1.0

[State a]
Type = DestroySelf
Trigger1 = Time=42

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(ENEMY)掴まれ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1550]
Type = A
MoveType= H
PhySics = N
VelSet = 0,0
Sprpriority = 2

[State 700,2];無敵の状態を作る
Type = NotHitBy
Trigger1 = 1
value = SCA

[State 820,1]
Type = ChangeAnim2
Trigger1 = !Time
value = 1550

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(ENEMY)投げられ2
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1551]
Type = A
MoveType= H
PhySics = N
VelSet = 0,0
Sprpriority = -1

[State 820,1]
Type = ChangeAnim
Trigger1 = !Time
value = 5050

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

[State a]
Type = VelSet
Trigger1 = AnimElem=1
x = -2
y = -12

[State 821,1] ;これは重力これは毎フレーム事に0.4の力が加わります
Type = VelAdd
Trigger1 = 1
y = Const(MoveMent.Yaccel)

[State 821,3] 
Type = ChangeState
TriggerAll=Vel Y>0
Trigger1 = Pos Y>=0
value = 15100

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 南斗流羽矢弾
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1600]
Type = S
MoveType= A
PhySics = S
juggle = 0
PowerAdd= 0
Sprpriority = 1
Ctrl = 0

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 1600

[State a]
Type = AttackDist
Trigger1 = 1
value = 0

[State a]
Type = VelSet
Trigger1 = !Time
y = 0

[State a]
Type = PosSet
Trigger1 = !Time
y = 0

[State a]
Type = varSet
Trigger1 = !Time
var(5) = 0

[State a]
Type = PosAdd
Trigger1 = AnimElem=5
x = 25

[State a]
Type = PosAdd
Trigger1 = AnimElem=12
x = -25

[State a];フッ・・・
Type = PlaySnd
Trigger1 = AnimElem=3
value = 1600,0

[State a];投げる
Type = PlaySnd
Trigger1 = AnimElem=4
Trigger2 = AnimElem=8
value = 1600,1

[State Explod];羽
Type = Explod
Trigger1 = AnimElem=3
Anim = 1605
ID = 3000
Sprpriority = 7
PosType = P1
Pos = 0,0
bindTime = -1
SuperMove = 0
IgNoreHitPause = 0
under = 0
Scale = 0.5,0.5

[State a];エフェクト
Type = Helper
Trigger1 = AnimElem=4
ID = 1606
Name = "hassha"
Sprpriority = 5
Pos = 140/2,-198/2
PosType = P1
StateNo = 1606
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];エフェクト
Type = Helper
Trigger1 = AnimElem=8
ID = 1606
Name = "hassha"
Sprpriority = 5
Pos = 118/2,-190/2
PosType = P1
StateNo = 1606
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State a];弾
Type = Helper
TriggerAll=AnimElem=4
Trigger1 = NumHelper(1610)
Trigger1 = NumHelper(1612)
Trigger1 = NumHelper(1614)
Trigger1 = NumHelper(1616)
;Trigger1 = !NumHelper(1618)
ID = 1618
Name = "hassha"
Sprpriority = 5
Pos = 140/2,-198/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];弾
Type = Helper
TriggerAll=AnimElem=8
Trigger1 = NumHelper(1611)
Trigger1 = NumHelper(1613)
Trigger1 = NumHelper(1615)
Trigger1 = NumHelper(1617)
;Trigger1 = !NumHelper(1619)
ID = 1619
Name = "hassha"
Sprpriority = 5
Pos = 118/2,-190/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State a];弾
Type = Helper
TriggerAll=AnimElem=4
Trigger1 = NumHelper(1610)
Trigger1 = NumHelper(1612)
Trigger1 = NumHelper(1614)
Trigger1 = !NumHelper(1616)
ID = 1616
Name = "hassha"
Sprpriority = 5
Pos = 140/2,-198/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];弾
Type = Helper
TriggerAll=AnimElem=8
Trigger1 = NumHelper(1611)
Trigger1 = NumHelper(1613)
Trigger1 = NumHelper(1615)
Trigger1 = !NumHelper(1617)
ID = 1617
Name = "hassha"
Sprpriority = 5
Pos = 118/2,-190/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State a];弾
Type = Helper
TriggerAll=AnimElem=4
Trigger1 = NumHelper(1610)
Trigger1 = NumHelper(1612)
Trigger1 = !NumHelper(1614)
ID = 1614
Name = "hassha"
Sprpriority = 5
Pos = 140/2,-198/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];弾
Type = Helper
TriggerAll=AnimElem=8
Trigger1 = NumHelper(1611)
Trigger1 = NumHelper(1613)
Trigger1 = !NumHelper(1615)
ID = 1615
Name = "hassha"
Sprpriority = 5
Pos = 118/2,-190/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State a];弾
Type = Helper
TriggerAll=AnimElem=4
Trigger1 = NumHelper(1610)
Trigger1 = !NumHelper(1612)
ID = 1612
Name = "hassha"
Sprpriority = 5
Pos = 140/2,-198/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];弾
Type = Helper
TriggerAll=AnimElem=8
Trigger1 = NumHelper(1611)
Trigger1 = !NumHelper(1613)
ID = 1613
Name = "hassha"
Sprpriority = 5
Pos = 118/2,-190/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State a];弾
Type = Helper
TriggerAll=AnimElem=4
Trigger1 = !NumHelper(1610)
ID = 1610
Name = "hassha"
Sprpriority = 5
Pos = 140/2,-198/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];弾
Type = Helper
TriggerAll=AnimElem=8
Trigger1 = !NumHelper(1611)
ID = 1611
Name = "hassha"
Sprpriority = 5
Pos = 118/2,-190/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State a];ブースト
Type = VelAdd
TriggerAll=AnimElem=10,>=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 6

[State a];ブースト
Type = palfx
TriggerAll=AnimElem=10,>=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State a];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=10,>=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State a];追加
Type = ChangeState
TriggerAll=ifelse(var(58),AnimElem=8,>=0,AnimElem=10,>=0)
TriggerAll=AnimElem=11,<1
Trigger1 = var(59)<1
Trigger1 = Command="x"
Trigger2 = var(59)>0||fvar(39)
value = 1601

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 南斗流羽矢弾・追加入力
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1601]
Type = S
MoveType= A
PhySics = S
juggle = 0
PowerAdd= 0
Sprpriority = 1
Ctrl = 0

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 1601

[State a]
Type = AttackDist
Trigger1 = 1
value = 0

[State a]
Type = varAdd
Trigger1 = !Time
var(5) = 1

[State a]
Type = varSet
Trigger1 = var(5)=2
var(5) = 0

[State a]
Type = PosAdd
Trigger1 = AnimElem=7
x = -25

[State a];投げる
Type = PlaySnd
Trigger1 = AnimElem=3
value = 1600,1

[State a];エフェクト
Type = Helper
Trigger1 = AnimElem=3
ID = 1606
Name = "hassha"
Sprpriority = 5
Pos = 118/2,-95
PosType = P1
StateNo = 1606
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State a];弾
Type = Helper
TriggerAll=AnimElem=3
TriggerAll=var(5)=1
Trigger1 = NumHelper(1610)
Trigger1 = NumHelper(1612)
Trigger1 = NumHelper(1614)
Trigger1 = NumHelper(1616)
;Trigger1 = !NumHelper(1618)
ID = 1618
Name = "hassha"
Sprpriority = 5
Pos = 118/2,-190/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];弾
Type = Helper
TriggerAll=AnimElem=3
TriggerAll=!var(5)
Trigger1 = NumHelper(1611)
Trigger1 = NumHelper(1613)
Trigger1 = NumHelper(1615)
Trigger1 = NumHelper(1617)
;Trigger1 = !NumHelper(1619)
ID = 1619
Name = "hassha"
Sprpriority = 5
Pos = 118/2,-190/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State a];弾
Type = Helper
TriggerAll=AnimElem=3
TriggerAll=var(5)=1
Trigger1 = NumHelper(1610)
Trigger1 = NumHelper(1612)
Trigger1 = NumHelper(1614)
Trigger1 = !NumHelper(1616)
ID = 1616
Name = "hassha"
Sprpriority = 5
Pos = 118/2,-190/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];弾
Type = Helper
TriggerAll=AnimElem=3
TriggerAll=!var(5)
Trigger1 = NumHelper(1611)
Trigger1 = NumHelper(1613)
Trigger1 = NumHelper(1615)
Trigger1 = !NumHelper(1617)
ID = 1617
Name = "hassha"
Sprpriority = 5
Pos = 118/2,-190/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State a];弾
Type = Helper
TriggerAll=AnimElem=3
TriggerAll=var(5)=1
Trigger1 = NumHelper(1610)
Trigger1 = NumHelper(1612)
Trigger1 = !NumHelper(1614)
ID = 1614
Name = "hassha"
Sprpriority = 5
Pos = 118/2,-190/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];弾
Type = Helper
TriggerAll=AnimElem=3
TriggerAll=!var(5)
Trigger1 = NumHelper(1611)
Trigger1 = NumHelper(1613)
Trigger1 = !NumHelper(1615)
ID = 1615
Name = "hassha"
Sprpriority = 5
Pos = 118/2,-190/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State a];弾
Type = Helper
TriggerAll=AnimElem=3
TriggerAll=var(5)=1
Trigger1 = NumHelper(1610)
Trigger1 = !NumHelper(1612)
ID = 1612
Name = "hassha"
Sprpriority = 5
Pos = 118/2,-190/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];弾
Type = Helper
TriggerAll=AnimElem=3
TriggerAll=!var(5)
Trigger1 = NumHelper(1611)
Trigger1 = !NumHelper(1613)
ID = 1613
Name = "hassha"
Sprpriority = 5
Pos = 118/2,-190/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State a];弾
Type = Helper
TriggerAll=AnimElem=3
TriggerAll=var(5)=1
Trigger1 = !NumHelper(1610)
ID = 1610
Name = "hassha"
Sprpriority = 5
Pos = 118/2,-190/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

[State a];弾
Type = Helper
TriggerAll=AnimElem=3
TriggerAll=!var(5)
Trigger1 = !NumHelper(1611)
ID = 1611
Name = "hassha"
Sprpriority = 5
Pos = 118/2,-190/2
PosType = P1
StateNo = 1610
HelperType = Normal
PauseMoveTime = 0
keyCtrl = 0 
Ownpal = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State a];ブースト
Type = VelAdd
TriggerAll=AnimElem=5,>=0
Trigger1 = var(59)<1
Trigger1 = Command="z"
x = 6

[State a];ブースト
Type = palfx
TriggerAll=AnimElem=5,>=0
Trigger1 = var(59)<1
Trigger1 = Command="z"
Time = 5
Add = 255,255,2556
color = 1

[State a];ブーストゲージ減少
Type = varAdd
TriggerAll=AnimElem=5,>=0
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(16) = -20

[State a];追加
Type = ChangeState
TriggerAll=ifelse(var(58),AnimElem=3,>=0,AnimElem=5,>=0)
TriggerAll=AnimElem=6,<1
Trigger1 = var(59)<1
Trigger1 = Command="x"
Trigger2 = var(59)>0||fvar(39)
value = 1601

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)発射エフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1606]
Type = A
Ctrl = 0
Anim = 1606
VelSet = 0,0
MoveType = I
PhySics = N
Sprpriority = 5

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a];透過
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = 1
var(1) = 16

[State a]
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256-var(1),256

[State a];拡縮
Type = AngleSet
Trigger1 = !Time
value = 0

[State a]
Type = AngleAdd
Trigger1 = 1
value = 3

[State a]
Type = AngleDraw
Trigger1 = 1
Scale = 1.5-var(1)*0.003,1.5-var(1)*0.003

[State a]
Type = DestroySelf
Trigger1 = Time=16

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)弾
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1610]
Type = A
Ctrl = 0
Anim = 1610
VelSet = 0,0
MoveType = A
PhySics = N
Sprpriority = 2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = AttackDist
Trigger1 = 1
value = 0

[State a];弾の角度、発射速度
Type = varSet
Trigger1 = !Time
var(1) = 2

[State a]
Type = VelSet
TriggerAll=!Time
Trigger1 = isHelper(1610)
Trigger2 = isHelper(1612)
Trigger3 = isHelper(1614)
Trigger4 = isHelper(1616)
Trigger5 = isHelper(1618)
Trigger6 = isHelper(1620)
x = 4
y = 0

[State a]
Type = VelSet
TriggerAll=!Time
Trigger1 = isHelper(1611)
Trigger2 = isHelper(1613)
Trigger3 = isHelper(1615)
Trigger4 = isHelper(1617)
Trigger5 = isHelper(1619)
x = 3.5
y = 1.5

[State a]
Type = AngleSet
TriggerAll=!Time
Trigger1 = isHelper(1611)
Trigger2 = isHelper(1613)
Trigger3 = isHelper(1615)
Trigger4 = isHelper(1617)
Trigger5 = isHelper(1619)
value = -25

[State 610,Hit];ヒットエフェクト
Type = Helper
TriggerAll=NumEnemy>0
TriggerAll=P2StateType!=L
;Trigger1 = P2Dist X=[-9-(EnemyNear(Root,var(50)),Const(Size.Ground.Front)),20+(EnemyNear(Root,var(50)),Const(Size.Ground.Back))]
Trigger1 = P2Dist X=[-20,20]
Trigger1 = P2Dist Y=[-9,(9-EnemyNear(Root,var(50)),Const(Size.Head.Pos.Y))*ifelse(P2StateType=C,0.5,1)]
ID = 16000
StateNo = 16000
PosType = P1
Pos = 0,0
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 6006,ChangeState]
Type = ChangeState
TriggerAll=NumEnemy>0
TriggerAll=P2StateType!=L
;Trigger1 = P2Dist X=[-9-(EnemyNear(Root,var(50)),Const(Size.Ground.Front)),20+(EnemyNear(Root,var(50)),Const(Size.Ground.Back))]
Trigger1 = P2Dist X=[-20,20]
Trigger1 = P2Dist Y=[-9,9-(EnemyNear(Root,var(50)),Const(Size.Head.Pos.Y))*ifelse(P2StateType=C,0.5,1)]
Value = 1615
igNoreHitPause = 1

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256,256

[State a];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 1,1

[State a];食らい判定
Type = NotHitby
Trigger1 = 1
value = SCA
Time = -1

[State a]
Type = Hitby
Trigger1 = 1
value = SCA,NP,SP,HP
Time = -1

[State a]
Type = Hitoverride
Trigger1 = 1
Attr = SCA,NP,SP,HP
StateNo = 1615

[State a]
Type = ChangeState
Trigger1 = MoveContAct
Trigger2 = Time=100
value = 1615

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)弾消滅
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1615]
Type = A
Ctrl = 0
Anim = 1615
VelSet = 0,0
MoveType = I
PhySics = N
Sprpriority = 2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State 2000]
Type = PlaySnd
Trigger1 = !Time
value = 500,0

[State a];拡縮
Type = varSet
Trigger1 = !Time
var(2) = 0

[State a]
Type = varAdd
Trigger1 = 1
var(2) = 1

[State a]
Type = AngleDraw
Trigger1 = 1
Scale = 1.5-var(2)*0.1,1.5-var(2)*0.1

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256-var(2)*25,256

[State a]
Type = DestroySelf
Trigger1 = Time=10

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;超必殺技
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)超必殺技発動エフェクトその１
[Statedef 6000]
Type = S
Ctrl = 0
Anim = 6000
velSet = 0,0
MoveType = I
PhySics = N
Sprpriority = 5

[State a]
Type = AssertSpecial
Trigger1 = !Time
flag = invisible

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256,256

[State a]
Type = varSet
Trigger1 = !Time
var(2) = 0

[State a]
Type = varAdd
Trigger1 = Time>17
var(2) = 5

[State a];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 1.5-(var(2)*0.01),1.5-(var(2)*0.01)


[State -2,a];テスト
Type = Palfx
Trigger1 = Root,StateNo=[2500,2599]
Time = 1
mul = 256,200,200
color = 1

[State a]
Type = DestroySelf
Trigger1 = Time=47

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)超必殺技発動エフェクトその２
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 6001]
Type = S
Ctrl = 0
Anim = 6001
velSet = 0,0
MoveType = I
PhySics = N
Sprpriority = 5

[State a]
Type = AssertSpecial
Trigger1 = !Time
flag = invisible

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256-var(2)/4,256

[State a]
Type = varSet
Trigger1 = !Time
var(2) = 0

[State a]
Type = varAdd
Trigger1 = 1
var(2) = 20

[State a];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 0.0+(var(2)*0.01),0.0+(var(2)*0.01)

[State a];エフェクト
Type = Helper
Trigger1 = !Time
ID = 6002
Name = "efe"
Sprpriority = 4
Pos = 0,0
PosType = P1
StateNo = 6002
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];エフェクト
Type = Helper
Trigger1 = !Time
ID = 6003
Name = "efe"
Sprpriority = 4
Pos = 0,0
PosType = P1
StateNo = 6002
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];エフェクト
Type = Helper
Trigger1 = !Time
ID = 6004
Name = "efe"
Sprpriority = 4
Pos = 0,0
PosType = P1
StateNo = 6002
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];エフェクト
Type = Helper
Trigger1 = !Time
ID = 6005
Name = "efe"
Sprpriority = 4
Pos = 0,0
PosType = P1
StateNo = 6002
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];エフェクト
Type = Helper
Trigger1 = !Time
ID = 6006
Name = "efe"
Sprpriority = 4
Pos = 0,0
PosType = P1
StateNo = 6002
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];エフェクト
Type = Helper
Trigger1 = !Time
ID = 6007
Name = "efe"
Sprpriority = 4
Pos = 0,0
PosType = P1
StateNo = 6002
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State -2,a];テスト
Type = Palfx
Trigger1 = Root,StateNo=[2500,2599]
Time = 1
mul = 256,200,200
color = 1

[State a]
Type = DestroySelf
Trigger1 = Time=47

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)エフェクト３
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 6002]
Type = A
Ctrl = 0
Anim = 6002
velSet = 0,0
MoveType = A
PhySics = N
Sprpriority = 5

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a];速度
Type = velSet
Trigger1 = !Time
Trigger1 = IsHelper(6002)
x = -2
y = 0

[State a]
Type = velSet
Trigger1 = !Time
Trigger1 = IsHelper(6003)
x = -0.6
y = 0.8

[State a]
Type = velSet
Trigger1 = !Time
Trigger1 = IsHelper(6004)
x = 0.6
y = 0.8

[State a]
Type = velSet
Trigger1 = !Time
Trigger1 = IsHelper(6005)
x = 2
y = 0

[State a]
Type = velSet
Trigger1 = !Time
Trigger1 = IsHelper(6006)
x = 0.6
y = -0.8

[State a]
Type = velSet
Trigger1 = !Time
Trigger1 = IsHelper(6007)
x = -0.6
y = -0.8

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256+ (var(1)),256

[State a];透過変数
Type = varAdd
Trigger1 = 1
var(1) = -6

[State a];拡縮
Type = AngleSet
Trigger1 = IsHelper(6002)
value = 0

[State a]
Type = AngleSet
Trigger1 = IsHelper(6003)
value = 60

[State a]
Type = AngleSet
Trigger1 = IsHelper(6004)
value = 120

[State a]
Type = AngleSet
Trigger1 = IsHelper(6005)
value = 180

[State a]
Type = AngleSet
Trigger1 = IsHelper(6006)
value = 240

[State a]
Type = AngleSet
Trigger1 = IsHelper(6007)
value = 300

[State a]
Type = AngleDraw
Trigger1 = 1
Scale = 0.0+var(1)*0.05,1.0


[State -2,a];テスト
Type = Palfx
Trigger1 = Root,StateNo=[2500,2599]
Time = 1
mul = 256,200,200
color = 1

[State a]
Type = DestroySelf
Trigger1 = Time=47

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)一枚絵
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 8000]
Type = S
Ctrl = 0
Anim = 8000
velSet = 20,0
MoveType = I
PhySics = N
Sprpriority = -5

[State a]
Type = PosSet
Trigger1 = !Time
y = Pos y-screenPos y+0

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = velAdd
Trigger1 = vel x>0
x = -0.7

[State a]
Type = velSet
Trigger1 = vel x<=0
x = 0

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256-var(1),var(1)

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = Time>39
var(1) = 15

[State a];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 1.0,1.0

[State a]
Type = DestroySelf
Trigger1 = Time=60

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 南斗ゲイザー　元
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2000]
Type = S
MoveType= A
PhySics = N
velSet = 0,0
juggle = 0
Ctrl = 0

[State 2000]
Type = PowerAdd
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = -1000+(var(58)>1)*500

[State 2000]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 2000

[State 2000]
Type = velSet
Trigger1 = !Time
y = 0

[State 2000]
Type = PosSet
Trigger1 = !Time
y = 0

[State 2000]
Type = AttackDist
Trigger1 = var(58)>1
Trigger2 = AnimElem=24,>=0
value = 0

[State 2000,NothitBy];無敵
Type = NotHitBy
Trigger1 = Time<97
Trigger2 = var(58)>1
value = SCA

[State 2000,SuperPause]
Type = SuperPause
Trigger1 = Time=12
Time = 70
MoveTime = 70
darken = 0
Anim = -1
P2Defmul = 1

[State 2000]
Type = BGPalfx
Trigger1 = Time>0
IgNoreHitPause = 1
Time = 1
mul = 20,20,195
under = 1

[State 2000]
Type = PlaySnd
Trigger1 = Time=12
value = 900,0

[State a];発動エフェクト
Type = Helper
Trigger1 = AnimElem=2
ID = 3000
Name = "chou"
Sprpriority = 2
Pos = -2/2,-334/2
PosType = P1
StateNo = 6000
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a]
Type = Helper
Trigger1 = AnimElem=2
ID = 3000
Name = "chou"
Sprpriority = 2
Pos = -2/2,-334/2
PosType = P1
StateNo = 6001
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];
Type = Helper
Trigger1 = AnimElem=2
ID = 3000
Name = "e"
Sprpriority = -5
Pos = 0,-200
PosType = back
StateNo = 8000
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State 2000,6];南斗雷震掌
Type = PlaySnd
Trigger1 = AnimElem=2
value = 2000,0

[State 2000,6]
Type = PlaySnd
Trigger1 = AnimElem=7
value = 2000,1

[State 2000,6];攻撃
Type = PlaySnd
Trigger1 = AnimElem=8
value = 400,3

[State 1020,4]
Type = EnvShake
Trigger1 = AnimElem=8
Time = 32
ampl = -4
freq = 95
phase = 95

[State a];オーラエフェクト１
Type = Helper
Trigger1 = AnimElem=2
ID = 3000
Name = "o-ra"
Sprpriority = 2
Pos = 0,0
PosType = P1
StateNo = 2006
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];オーラエフェクト２
Type = Helper
Trigger1 = AnimElem=2
ID = 3000
Name = "o-ra"
Sprpriority = 2
Pos = 0,-70
PosType = P1
StateNo = 2007
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];振りエフェクト
Type = Helper
Trigger1 = AnimElem=7
ID = 3000
Name = "tuki"
Sprpriority = 2
Pos = 58/2,2/2
PosType = P1
StateNo = 2005
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];ゲイザー
Type = Helper
Trigger1 = AnimElem=8
ID = 2010
Name = "pawage"
Sprpriority = 2
Pos = 40,0
PosType = P1
StateNo = 2010
HelperType = Normal
SuperMoveTime = 0
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State 2000,6];効果音
Type = PlaySnd
Trigger1 = MoveHit
value = 400,2
persistent = 0
IgNoreHitPause = 1

[State 2010,];ガード不能
Type = AssertSpecial
Trigger1 = Root,var(58)>1
Flag = unGuardable

[State a]
Type = AttackDist
Trigger1 = Root,var(58)>1
value = 0

[State 2010,Hitdef1]
Type = HitDef
TriggerAll=!var(58)
Trigger1 = !MoveContAct
Trigger2 = MoveContAct>3
Attr = S,HP
AnimType = hard
Damage = Ceil(5.2*ifelse(11*ifelse(fvar(0)<0.4,0.4,fvar(0))<1,1,11*ifelse(fvar(0)<0.4,0.4,fvar(0)))*ifelse(var(8)>0,1.2,1)),6
Priority = 5,Hit
Hitflag = MAFLD
Guardflag = M
PauseTime = 9,16
SparkNo = -1
GetPower = 0,0
Sparkxy = -40+P2Dist X/2,P2Dist Y-60;-10,-65
HitSound = s400,3
GuardSound = s121,0
Guard.SparkNo = s7101
Ground.Type = high
Ground.SlideTime = 11
Ground.HitTime = 11
Ground.velocity = -4,-6
Guard.velocity = -11
Air.velocity = -4,-8
fall = 1
Air.fall = 1
fall.RecoverTime = 42
Yaccel = 0.5+(var(3)-1)*0.03
Air.CornerPush.VelOff = 0
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0

[State 2010,Hitdef2]
Type = HitDef
TriggerAll=var(58)>1
Trigger1 = !MoveContAct
Trigger2 = var(1)%3=0
Trigger2 = MoveContAct>2
Attr = S,HT
AnimType = hard
Damage = Ceil(5.2*ifelse(11*ifelse(fvar(0)<0.4,0.4,fvar(0))<1,1,11*ifelse(fvar(0)<0.4,0.4,fvar(0)))*ifelse(var(8)>0,1.2,1)),6
Priority = 7,Hit
Hitflag = MAFLD
Guardflag = L
PauSetime = 1,4
SparkNo = -1
GetPower = 0,0
Sparkxy = -40+P2Dist X/2,P2Dist Y-60
HitSound = s400,3
GuardSound = s121,0
Guard.SparkNo = s7101
Ground.Type = high
Ground.SlideTime = 11
Ground.HitTime = 11
Ground.velocity = -2,-17
Guard.velocity = -11
Air.velocity = -2,-17
Air.CornerPush.VelOff = 0
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
fall = 1
Air.fall = 1
fall.Recover=0
Yaccel = 0.7+(var(3)-1)*0.1

[State 2010,Hitdef3]
Type = HitDef
TriggerAll=var(58)>1
Trigger1 = var(1)%3=1
Trigger1 = MoveContAct>2
Attr = S,HA
AnimType = hard
Damage = Ceil(5.2*ifelse(11*ifelse(fvar(0)<0.4,0.4,fvar(0))<1,1,11*ifelse(fvar(0)<0.4,0.4,fvar(0)))*ifelse(var(8)>0,1.2,1)),6
Priority = 7,Hit
Hitflag = MAFLD
Guardflag = L
PauSetime = 1,4
SparkNo = -1
GetPower = 0,9
Sparkxy = -40+P2Dist X/2,P2Dist Y-60
HitSound = s400,3
GuardSound = s121,0
Guard.SparkNo = s7101
Ground.Type = high
Ground.SlideTime = 11
Ground.HitTime = 11
Ground.velocity = -2,-17
Guard.velocity = -11
Air.velocity = -2,-17
Air.CornerPush.VelOff = 0
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
fall = 1
Air.fall = 1
fall.Recover=0
Yaccel = 0.7+(var(3)-1)*0.1

[State 2010,Hitdef4]
Type = HitDef
TriggerAll=var(58)>0
Trigger1 = var(58)>1
Trigger1 = var(1)%3=2
Trigger1 = MoveContAct>2
Trigger2 = var(58)<2
Trigger2 = !MoveContAct||MoveContAct>2
Attr = S,HP
AnimType = hard
Damage = Ceil(5.2*ifelse(11*ifelse(fvar(0)<0.4,0.4,fvar(0))<1,1,11*ifelse(fvar(0)<0.4,0.4,fvar(0)))*ifelse(var(8)>0,1.2,1)),6
Priority = 7,Hit
Hitflag = MAFLD
Guardflag = L
PauseTime = 1+4,8
SparkNo = -1
GetPower = 0,0
Sparkxy = -40+P2Dist X/2,P2Dist Y-60
HitSound = s400,3
GuardSound = s121,0
Guard.SparkNo = s7101
Ground.Type = high
Ground.SlideTime = 11
Ground.HitTime = 11
Ground.velocity = -2,-17
Guard.velocity = -11
Air.velocity = -2,-17
Air.CornerPush.VelOff = 0
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
fall = 1
Air.fall = 1
fall.Recover=0
Yaccel = 0.7+(var(3)-1)*0.1

[State 1100,Hit];ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
TriggerAll=NumEnemy>0
Trigger1 = MoveHit=1
Trigger1 = EnemyNear(var(50)),Time=0
ID = 16096
StateNo = 16096
PosType = P1
Pos = 50+P2Dist X/2,P2Dist Y-60
facing = 0
Sprpriority = 5
ownPal = 1
SuperMove = 1
PauseMoveTime = -1
SuperMoveTime = -1
igNoreHitPause = 1

[State a]
Type = varSet
Trigger1 = !MoveContAct
var(1) = 0

[State a]
Type = varAdd
Trigger1 = MoveContAct=1
var(1) = 1

[State 3040,7]
Type = BGPalfx
Trigger1 = MoveContAct=1
IgNoreHitPause = 1
Time = 10
mul = 20,20,195
under = 1

[State a];七星ゲージ
Type = ParentVarAdd
TriggerAll=NumHelper(4000)
TriggerAll=NumHelper(30000+ID)
TriggerAll=Helper(30000+ID),var(0)
Trigger1 = !var(36)
Trigger1 = MoveHit=1
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State a];星取り制限
Type = varSet
Trigger1 = MoveHit=1
var(36) = 1
IgNoreHitPause = 1

[State a]
Type = ChangeAnim
Trigger1 = 0;AnimElem=29,>0
Trigger1 = NumHelper(2010)
Trigger1 = Helper(2010),Time<28
value = 2000
Elem = 28
igNoreHitPause = 1

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 南斗ゲイザー2
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2050]
Type = S
MoveType= A
PhySics = N
velSet = 0,0
juggle = 0
PowerAdd = -1000+(var(58)>1)*500
Anim = 2050
Ctrl = 0

[State a]
Type = velSet
Trigger1 = !Time
y = 0

[State a]
Type = PosSet
Trigger1 = !Time
y = 0

[State 1];無敵の状態を作る
Type = NotHitBy 
Trigger1 = AnimElem=8,<1
value = SCA

[State 2000,2]
Type = SuperPause
Trigger1 = Time=12
Time = 80
MoveTime = 80
darken = 0
Anim = -1
P2Defmul = 1

[State 3040,7]
Type = BGPalfx
Trigger1 = Time>0
IgNoreHitPause = 1
Time = 1
mul = 20,20,195
under = 1

[State 2000,6]
Type = PlaySnd
Trigger1 = Time=12
value = 900,0

[State a];エフェクト
Type = Helper
Trigger1 = AnimElem=2
ID = 3000
Name = "chou"
Sprpriority = 2
Pos = -2/2,-334/2
PosType = P1
StateNo = 6000
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];
Type = Helper
Trigger1 = AnimElem=2
ID = 3000
Name = "chou"
Sprpriority = 2
Pos = -2/2,-334/2
PosType = P1
StateNo = 6001
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];
Type = Helper
Trigger1 = AnimElem=2
ID = 3000
Name = "e"
Sprpriority = -5
Pos = 0,-200
PosType = back
StateNo = 8000
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State 2000,6];南斗雷震掌
Type = PlaySnd
Trigger1 = AnimElem=2
value = 2000,0

[State 2000,6];
Type = PlaySnd
Trigger1 = AnimElem=7
value = 2000,1

[State 2000,6];攻撃
Type = PlaySnd
Trigger1 = AnimElem=8
value = 400,3

[State 1020,4]
Type = EnvShake
Trigger1 = AnimElem=8
Time = 32
ampl = -4
freq = 95
phase = 95

[State a];オーラエフェクト１
Type = Helper
Trigger1 = AnimElem=2
ID = 3000
Name = "o-ra"
Sprpriority = 2
Pos = 0,0
PosType = P1
StateNo = 2006
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];オーラエフェクト２
Type = Helper
Trigger1 = AnimElem=2
ID = 3000
Name = "o-ra"
Sprpriority = 2
Pos = 0,-70
PosType = P1
StateNo = 2007
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];振りエフェクト
Type = Helper
Trigger1 = AnimElem=7
ID = 3000
Name = "tuki"
Sprpriority = 2
Pos = 58/2,2/2
PosType = P1
StateNo = 2005
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];ゲイザー部分
Type = Helper
Trigger1 = AnimElem=8
ID = 2060
Name = "pawage"
Sprpriority = 6
Pos = 40,0
PosType = P1
StateNo = 2060
HelperType = Normal
SuperMoveTime = -1
PauseMoveTime = -1
KeyCtrl = 0 
OwnPal = 1

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 南斗ゲイザー　トリプルゲイザー版
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2080]
Type = S
MoveType= A
PhySics = N
velSet = 0,0
juggle = 0
PowerAdd= -1000+(var(58)>1)*500
Anim = 2080
Ctrl = 0

[State a]
Type = velSet
Trigger1 = !Time
y = 0

[State a]
Type = PosSet
Trigger1 = !Time
y = 0

[State 2000,2];暗転
Type = SuperPause
Trigger1 = Time=12
Time = 70
MoveTime = 70
darken = 0
Anim = -1
P2Defmul = 1

[State 3040,7]
Type = BGPalfx
Trigger1 = Time>0
IgNoreHitPause = 1
Time = 1
mul = 20,20,195
under = 1

[State 2000,6]
Type = PlaySnd
Trigger1 = Time=12
value = 900,0

[State a];発動エフェクト
Type = Helper
Trigger1 = AnimElem=2
ID = 3000
Name = "chou"
Sprpriority = 2
Pos = -1,-167
PosType = P1
StateNo = 6000
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];
Type = Helper
Trigger1 = AnimElem=2
ID = 3000
Name = "chou"
Sprpriority = 2
Pos = -2/2,-334/2
PosType = P1
StateNo = 6001
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];
Type = Helper
Trigger1 = AnimElem=2
ID = 3000
Name = "e"
Sprpriority = -5
Pos = 0,-200
PosType = back
StateNo = 8000
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State 2000,6];南斗雷震掌
Type = PlaySnd
Trigger1 = AnimElem=2
value = 2000,0

[State 2000,6]
Type = PlaySnd
Trigger1 = AnimElem=7
value = 2000,1

[State 2000,6];攻撃
Type = PlaySnd
Trigger1 = AnimElem=8
Trigger2 = AnimElem=14
Trigger3 = AnimElem=20
value = 400,3

[State 1020,4]
Type = EnvShake
Trigger1 = AnimElem=8
Trigger2 = AnimElem=14
Trigger3 = AnimElem=20
Time = 32
ampl = -4
freq = 95
phase = 95

[State a];オーラエフェクト１
Type = Helper
Trigger1 = AnimElem=2
ID = 3000
Name = "o-ra"
Sprpriority = 2
Pos = 0,0
PosType = P1
StateNo = 2006
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];オーラエフェクト２
Type = Helper
Trigger1 = AnimElem=2
ID = 3000
Name = "o-ra"
Sprpriority = 2
Pos = 0,-70
PosType = P1
StateNo = 2007
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];振りエフェクト
Type = Helper
Trigger1 = AnimElem=7
Trigger2 = AnimElem=13
Trigger3 = AnimElem=19
ID = 3000
Name = "tuki"
Sprpriority = 2
Pos = 58/2,2/2
PosType = P1
StateNo = 2005
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];ゲイザー
Type = Helper
Trigger1 = AnimElem=8
Trigger2 = AnimElem=14
Trigger3 = AnimElem=20
ID = 2090
Name = "pawage"
Sprpriority = 2
Pos = ifelse(P2Dist X-40<40,40,P2Dist X-40),0
PosType = P1
StateNo = 2090
HelperType = Normal
SuperMoveTime = 0
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)振りエフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2005]
Type = A
Ctrl = 0
velSet = 0,0
Anim = 2005
MoveType = I
PhySics = N
Sprpriority = 8

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = 1
var(1) = -25

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256+floor(var(1)/2),256

[State a]
Type = AngleSet
Trigger1 = !Time
value = 17

[State a]
Type = AngleDraw
Trigger1 = 1
Scale = 1+var(1)*0.002,1+var(1)*0.004

[State a]
Type = DestroySelf
Trigger1 = Time=10


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)オーラエフェクト１
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2006]
Type = A
Ctrl = 0
velSet = 0,0
Anim = 2006
MoveType = I
PhySics = N
Sprpriority = -1

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a];変数
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = Time>=39
var(1) = -25

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256+var(1),256

[State a];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 1,1

[State a]
Type = DestroySelf
Trigger1 = Time=49

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)オーラエフェクト２
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2007]
Type = A
Ctrl = 0
velSet = 0,0
Anim = 2007
MoveType = I
PhySics = N
Sprpriority = -2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a];変数
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = Time>=59
var(1) = -13

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 128+var(1),256

[State a];拡縮
Type = AngleSet
Trigger1 = !Time
value = 0

[State a]
Type = AngleAdd
Trigger1 = 1
value = -0.1

[State a]
Type = AngleDraw
Trigger1 = 1
Scale = 1.5,1.5

[State a]
Type = DestroySelf
Trigger1 = Time=69

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)ゲイザー
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2010]
Type = S
Ctrl = 0
Anim = 2010
velSet = 0,0
MoveType = I
PhySics = N
Sprpriority = 2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = Bindtoroot
Trigger1 = !Time
Pos = 40,0

[State a]
Type = AngleDraw
Trigger1 = 0
Scale = 2,2

[State a]
Type = ChangeState
Trigger1 = Root,AnimElem=24,>=0
Trigger2 = Root,StateNo!=2000
value = 2015

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)ゲイザー2
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2060]
Type = S
Ctrl = 0
Anim = 2060+(Root,var(58)>1)
velSet = 0,0
MoveType = A
PhySics = N
Sprpriority = 2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = AngleDraw
Trigger1 = Root,var(58)<2
Scale = 0.7,0.7

[State a]
Type = AngleDraw
Trigger1 = Root,var(58)>1
Scale = 1,1

[State 2060];効果音
Type = PlaySnd
Trigger1 = MoveHit
value = 400,2
persistent = 0
IgNoreHitPause = 1

[State 2060];エフェクト
Type = Explod
Trigger1 = Time>8
Trigger1 = Time%9=2
Anim = 2060
ID = 2069
Sprpriority = 5
PosType = P1
Pos = -15,0
BindTime = 1
Scale = 0.31,0.31
SuperMove = 0
IgNoreHitPause = 1

[State 2060];エフェクト
Type = Explod
Trigger1 = Time>16
Trigger1 = Time%9=4
Anim = 2060
ID = 2069
Sprpriority = 4
PosType = P1
Pos = -30,0
BindTime = 1
Scale = 0.28,0.28
SuperMove = 0
IgNoreHitPause = 1

[State 2060];エフェクト
Type = Explod
Trigger1 = Time>24
Trigger1 = Time%9=6
Anim = 2060
ID = 2069
Sprpriority = 3
PosType = P1
Pos = -45,0
BindTime = 1
Scale = 0.21,0.21
SuperMove = 0
IgNoreHitPause = 1

[State 2060];エフェクト
Type = Explod
Trigger1 = Time>32
Trigger1 = Time%9=8
Anim = 2060
ID = 2069
Sprpriority = 2
PosType = P1
Pos = -60,0
BindTime = 1
Scale = 0.17,0.17
SuperMove = 0
IgNoreHitPause = 1

[State 2010,Hitdef]
Type = HitDef
TriggerAll=var(1)<30+(Root,var(58)>1)*20
Trigger1 = !MoveContAct
Trigger2 = MoveContAct>3
Attr = S,HP
AnimType = hard
Damage = Ceil(5.2*ifelse(3*ifelse(fvar(0)<0.4,0.4,fvar(0))<1,1,3*ifelse(fvar(0)<0.4,0.4,fvar(0)))*ifelse(var(8)>0,1.2,1)),6
Priority = 5,Hit
Hitflag = MAFLD
Guardflag = MA
PauSeTime = 1,1
SparkNo = -1;s7020+(random%8)
GetPower = 0,0
Sparkxy = -10+P2Dist X/2,P2Dist Y-60
HitSound = s400,3
GuardSound = s121,0
Guard.SparkNo = s7101
Ground.Type = high
Ground.SlideTime = 15
Ground.HitTime = 15
Ground.velocity = -3.3;,-4
Guard.velocity = -4
Air.velocity = -3.3,-4
Yaccel = 1+(Root,var(3)-1)*0.03
Air.CornerPush.VelOff = -2.6
Ground.CornerPush.VelOff = -2.6
Guard.CornerPush.VelOff = -2.6
fall = 0
Air.fall = 1
fall.RecoverTime = 30

[State 1100,Hit];ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
TriggerAll=NumEnemy>0
Trigger1 = MoveHit=1
Trigger1 = EnemyNear(var(50)),Time=0
ID = 16096
StateNo = 16096
PosType = P1
Pos = -5+P2Dist X,P2Dist Y-60
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
igNoreHitPause = 1

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 255,255

[State a]
Type = PosAdd
Trigger1 = 1
x = 3

[State a]
Type = varAdd
Trigger1 = MoveContAct=1
var(1) = 1

[State a]
Type = DestroySelf
Trigger1 = FrontEdgeBodyDist<-120

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)ゲイザー3
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2090]
Type = S
Ctrl = 0
Anim = 2010
velSet = 0,0
MoveType = A
PhySics = N
Sprpriority = 2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = AngleDraw
Trigger1 = Root,var(58)>1
Scale = 2,2

[State 2000];効果音
Type = PlaySnd
Trigger1 = MoveHit=1
value = 400,2
persistent = 0
IgNoreHitPause = 1

[State 2090,Hitdef]
Type = HitDef
Trigger1 = !MoveContAct
Attr = S,HA
AnimType = hard
Damage = Ceil(5.2*ifelse(28*ifelse(fvar(0)<0.4,0.4,fvar(0))<1,1,28*ifelse(fvar(0)<0.4,0.4,fvar(0)))*ifelse(var(8)>0,1.2,1)),15
Priority = 7,Hit
Hitflag = MAFLD
Guardflag = MA
PauSeTime = 9,9
SparkNo = -1
GetPower = 0,0
Sparkxy = -40+P2Dist X/2,P2Dist Y-60
HitSound = s400,3
GuardSound = s121,0
Guard.SparkNo = s7101
Ground.Type = high
Ground.SlideTime = 20
Ground.HitTime = 20
Ground.velocity = -8,-14
Guard.velocity = -16
Air.velocity = -8,-14
Yaccel = 1+(var(3)-1)*0.03
Air.CornerPush.VelOff = 0
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
fall = 1
Air.fall = 1
fall.Recover = 0

[State 1100,Hit];ヒットエフェクト
Type = Helper
TriggerAll=P2MoveType=H
Trigger1 = MoveHit=1
ID = 16096
StateNo = 16096
PosType = P1
Pos = 40+P2Dist X/2,P2Dist Y-60
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 3040,7]
Type = BGPalfx
Trigger1 = MoveContAct=1
IgNoreHitPause = 1
Time = 10
mul = 20,20,195
under = 1

[State a]
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 255,255

[State a]
Type = ChangeState
Trigger1 = Time>30
Trigger2 = MoveContAct
value = 2015

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)ゲイザー消滅
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2015]
Type = A
Ctrl = 0
Anim = 2015
velSet = 0,0
MoveType = A
PhySics = N
Sprpriority = 2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 255,255

[State a];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 1,1

[State a];当身関係
Type = NotHitBy
Trigger1 = 1
value = SCA
Time = -1

[State a]
Type = DestroySelf
Trigger1 = !AnimTime


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 南斗千手龍撃・発動
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2100]
Type = S
MoveType= A
PhySics = N
velSet = 0,0
juggle = 0
PowerAdd= 0
Ctrl = 0

[State 2000]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 2100

[State a]
Type = velSet
Trigger1 = !Time
y = 0

[State a]
Type = PosSet
Trigger1 = !Time
y = 0

[State 1];無敵
Type = NotHitBy 
Trigger1 = !Time
value = SCA
Time = 98

[State a]
Type = varSet
Trigger1 = !Time
var(5) = 0

[State a]
Type = varAdd
Trigger1 = Time=22
Trigger2 = Time=26
Trigger3 = Time=30
Trigger4 = Time=34
Trigger5 = Time=38
Trigger6 = Time=41
Trigger7 = Time=45
Trigger8 = Time=49
Trigger9 = Time=52
Trigger10= Time=54
Trigger11= Time=58
var(5) = 1

[State a]
Type = varAdd
TriggerAll=var(58)>0
Trigger1 = Time=30
Trigger2 = Time=41
Trigger3 = Time=52
Trigger4 = Time=58
var(5) = 1

[State a]
Type = varSet
Trigger1 = var(58)>1
var(5) = 16

[State 2000,6];はあああ
Type = PlaySnd
Trigger1 = !Time
value = 2100,0
channel = 3

[State 2000,6];
Type = PlaySnd
Trigger1 = AnimElem=4
value = 1100,1

[State a];オーラエフェクト
Type = Helper
Trigger1 = AnimElem=4
ID = 3000
Name = "o-ra"
Sprpriority = 2
Pos = 0,0
PosType = P1
StateNo = 2105
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a]
Type = ChangeState
TriggerAll=Time>17
Trigger1 = var(59)<1
Trigger1 = Command!="おしっぱなしy"
Trigger2 = Time>57
Trigger3 = var(59)>0
Trigger3 = P2StateType!=L
value = 2101

[State a]
Type = ChangeState
Trigger1 = var(58)>1
value = 2101

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 南斗千手龍撃・ダッシュ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2101]
Type = S
MoveType= A
PhySics = N
velSet = 0,0
juggle = 0
Ctrl = 0

[State 2101]
Type = PowerAdd
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = -1000+(var(58)>1)*500

[State 2101]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 2101

[State 2101];超必殺技演出
Type = SuperPause
Trigger1 = !Time
Time = 27
MoveTime = 27
darken = 0
Anim = -1
P2defmul = 1

[State 2101]
Type = BGPalfx
Trigger1 = 1
IgNoreHitPause = 1
Time = 1
mul = 20,20,195
under = 1

[State 2000,6]
Type = PlaySnd
Trigger1 = !Time
value = 900,0

[State a];発動エフェクト
Type = Helper
Trigger1 = AnimElem=1
ID = 3000
Name = "chou"
Sprpriority = 2
Pos = -2/2,-122/2
PosType = P1
StateNo = 6000
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];
Type = Helper
Trigger1 = AnimElem=1
ID = 3000
Name = "chou"
Sprpriority = 2
Pos = -2/2,-122/2
PosType = P1
StateNo = 6001
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];
Type = Helper
Trigger1 = AnimElem=1
ID = 3000
Name = "e"
Sprpriority = -5
Pos = 0,-200
PosType = back
StateNo = 8000
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a]
Type = velSet
Trigger1 = AnimElem=2
x = 21*(1+(var(58)>0))

[State 2000,6];南斗千手龍撃
Type = PlaySnd
Trigger1 = !Time
value = 2100,1
channel = 3

[State a]
Type = ChangeState
Trigger1 = P2Dist X<51
Trigger1 = AnimElem=2,>=3
Trigger1 = var(5)<8
Trigger2 = P2Dist X<81
Trigger2 = AnimElem=2,>=0
Trigger2 = var(5)>7
Trigger3 = AnimElemTime(2)>=40
value = 2102

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 南斗千手龍撃・突き
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2102]
Type = S
MoveType= A
PhySics = N
velSet = 0,0
juggle = 0
PowerAdd= 0
Ctrl = 0

[State 2101]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 2102

[State a]
Type = velSet
Trigger1 = 1
x = 0

[State 3040,7]
Type = BGPalfx
Trigger1 = 1
IgNoreHitPause = 1
Time = 1
mul = 20,20,195
under = 1

[State 2000,6];突き
Type = PlaySnd
Trigger1 = AnimElem=2
Trigger2 = AnimElem=3
Trigger3 = AnimElem=4
Trigger4 = !AnimTime
value = 2100,5

[State 2000,6]
Type = PlaySnd
Trigger1 = MoveHit=1
Trigger1 = AnimElem=2,>=0
value = 500,2
persistent = 0
IgNoreHitPause = 1

[State 2000,6];
Type = PlaySnd
Trigger1 = MoveHit=1
Trigger1 = AnimElem=3,>=0
value = 500,2
persistent = 0
IgNoreHitPause = 1

[State 2000,6];
Type = PlaySnd
Trigger1 = MoveHit
Trigger1 = AnimElem=4,>=0
value = 500,2
persistent = 0
IgNoreHitPause = 1

[State 2000,6];
Type = PlaySnd
Trigger1 = MoveHit
Trigger1 = !AnimTime
value = 500,2
persistent = 0
IgNoreHitPause = 1

[State a];突きエフェクト
Type = Helper
Trigger1 = AnimElem=2
Trigger2 = !AnimTime
ID = 2110
Name = "o-ra"
Sprpriority = 4
Pos = 0,0
PosType = P1
StateNo = 2110
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];突きエフェクト
Type = Helper
Trigger1 = AnimElem=3
ID = 2111
Name = "o-ra"
Sprpriority = 4
Pos = 0,0
PosType = P1
StateNo = 2110
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];突きエフェクト
Type = Helper
Trigger1 = AnimElem=4
ID = 2112
Name = "o-ra"
Sprpriority = 4
Pos = 0,0
PosType = P1
StateNo = 2110
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];オーラエフェクト
Type = Helper
Trigger1 = AnimElem=2
Trigger2 = !AnimTime
ID = 2120
Name = "o-ra"
Sprpriority = 5
Pos = 0,0
PosType = P1
StateNo = 2120
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];エフェクト
Type = Helper
Trigger1 = AnimElem=3
ID = 2121
Name = "o-ra"
Sprpriority = 5
Pos = 0,0
PosType = P1
StateNo = 2120
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];エフェクト
Type = Helper
Trigger1 = AnimElem=4
ID = 2122
Name = "o-ra"
Sprpriority = 5
Pos = 0,0
PosType = P1
StateNo = 2120
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State 440,3]
Type = HitDef
Trigger1 = AnimElem=2
Trigger2 = AnimElem=3
Trigger3 = AnimElem=4
Trigger4 = !AnimTime
Attr = S,HP
AnimType = hard
Damage = Ceil(5.2*ifelse(11*ifelse(fvar(0)<0.4,0.4,fvar(0))<1,1,11*ifelse(fvar(0)<0.4,0.4,fvar(0)))*ifelse(var(8)>0,1.2,1)),5
Priority = 7,Hit
Hitflag = MAFLD
Guardflag = M
PauSeTime = 10,10
SparkNo = -1;s7020+(random%8)
GetPower = 0,0
Sparkxy = -10,-95
HitSound = s400,3
GuardSound = s121,0
Guard.SparkNo = s7101
Ground.Type = high
Ground.SlideTime = 11
Ground.HitTime = 11
Ground.velocity = 0
Guard.velocity = -1
Air.velocity = 0,-6
Air.CornerPush.VelOff = 0
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
Air.fall = 1
fall.RecoverTime = 34+10

[State a];CH時七星ゲージ
Type = varAdd
TriggerAll=NumHelper(4000)
TriggerAll=NumHelper(30000+ID)
TriggerAll=Helper(30000+ID),var(0)
Trigger1 = MoveHit=1
Trigger1 = var(8)>0
var(4) = 2
IgNoreHitPause = 1
persistent = 0

[State a]
Type = ChangeState
Trigger1 = Time>25+var(5)*4
value = 2103

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 南斗千手龍撃・フィニッシュ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2103]
Type = S
MoveType= A
PhySics = N
velSet = 0,0
juggle = 0
PowerAdd= 0
Ctrl = 0

[State 2101]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 2103

[State 3040,7]
Type = BGPalfx
Trigger1 = 1
IgNoreHitPause = 1
Time = 1
mul = 20,20,195
under = 1

[State 2000,6];突き
Type = PlaySnd
Trigger1 = AnimElem=1
value = 2100,5

[State 2000,6];突き
Type = PlaySnd
Trigger1 = AnimElem=1
value = 2000,1

[State 2000,6];
Type = PlaySnd
Trigger1 = MoveHit=1
value = 500,2
persistent = 0
IgNoreHitPause = 1

[State 2000,6];
Type = PlaySnd
Trigger1 = MoveHit
Trigger1 = var(5)<=7
value = 2100,2
persistent = 0
IgNoreHitPause = 1

[State 2000,6];
Type = PlaySnd
Trigger1 = MoveHit
Trigger1 = var(5)>7
value = 2100,3
persistent = 0
IgNoreHitPause = 1

[State a];オーラエフェクト１
Type = Helper
Trigger1 = AnimElem=1
ID = 2115
Name = "o-ra"
Sprpriority = 2
Pos = 0,0
PosType = P1
StateNo = 2115
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];オーラエフェクト１
Type = Helper
Trigger1 = AnimElem=1
ID = 2116
Name = "o-ra"
Sprpriority = 2
Pos = 0,0
PosType = P1
StateNo = 2115
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State 440,3]
Type = HitDef
Trigger1 = AnimElem=1
Attr = S,HP
AnimType = hard
Damage = Ceil(5.2*ifelse(15*ifelse(fvar(0)<0.4,0.4,fvar(0))<1,1,15*ifelse(fvar(0)<0.4,0.4,fvar(0)))*ifelse(var(8)>0,1.2,1)),15
Priority = 9,Hit
Hitflag = MAFLD
Guardflag = M
PauSeTime = 40,35
SparkNo = -1;s7020+(random%8)
GetPower = 0,0
Sparkxy = -10,-90
HitSound = s400,3
GuardSound = s121,0
Guard.SparkNo = s7101
Ground.Type = high
Ground.SlideTime = 11
Ground.HitTime = 11
Ground.velocity = -4,-8
Guard.velocity = -12
Air.velocity = -4,-8
Air.CornerPush.VelOff = -3
Ground.CornerPush.VelOff = -3
Guard.CornerPush.VelOff = -3
fall = 1
Air.fall = 1
fall.RecoverTime = 70

[State a];七星ゲージ
Type = varAdd
TriggerAll=NumHelper(4000)
TriggerAll=NumHelper(30000+ID)
TriggerAll=Helper(30000+ID),var(0)
Trigger1 = MoveHit=1
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)オーラエフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2105]
Type = A
Ctrl = 0
velSet = 0,0
Anim = 2105
MoveType = I
PhySics = N
Sprpriority = -1

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = Bindtoroot
Trigger1 = 1
Pos = 0,0

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = 1
var(1) = 25

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = var(1),256

[State a];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 1,1

[State a]
Type = DestroySelf
Trigger1 = Root,StateNo!=2100

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)突きエフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2110]
Type = A
Ctrl = 0
Anim = 2110
velSet = 0,0
MoveType = I
PhySics = N
Sprpriority = 2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = Bindtoroot
Trigger1 = isHelper(2110)
Pos = 88/2,-202/2

[State a]
Type = Bindtoroot
Trigger1 = isHelper(2111)
Pos = 100/2,-192/2

[State a]
Type = Bindtoroot
Trigger1 = isHelper(2112)
Pos = 102/2,-178/2

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256-var(1),256

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = 1
var(1) = 5

[State a];拡縮
Type = AngleSet
Trigger1 = !Time
Trigger1 = isHelper(2110)
value = 30

[State a]
Type = AngleSet
Trigger1 = !Time
Trigger1 = isHelper(2111)
value = 0

[State a]
Type = AngleSet
Trigger1 = !Time
Trigger1 = isHelper(2112)
value = -30

[State a]
Type = AngleDraw
Trigger1 = 1
Scale = 0.8+var(1)*0.01,2.0-var(1)*0.02

[State a]
Type = DestroySelf
Trigger1 = Time=18

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)フィニッシュエフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2115]
Type = A
Ctrl = 0
Anim = 2115
velSet = 0,0
MoveType = I
PhySics = N
Sprpriority = 2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = Bindtoroot
Trigger1 = 1
Pos = 20/2,-184/2

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256-floor(var(1)/2),256

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = 1
var(1) = 5

[State a];拡縮
Type = AngleDraw
Trigger1 = isHelper(2115)
Scale = 1.0+var(1)*0.02,1.5-var(1)*0.006

[State a]
Type = AngleDraw
Trigger1 = isHelper(2116)
Scale = 1.0-var(1)*0.0015,1.5+var(1)*0.003

[State a]
Type = DestroySelf
Trigger1 = Time=50

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;南斗千手龍撃 オーラエフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2120]
Type = A
Ctrl = 0
velSet = 0,0
Anim = 2120
MoveType = I
PhySics = N
Sprpriority = 5

[State -2,a];テスト
Type = Palfx
Trigger1 = 1
Time = 1
mul = 256,100,220
color = 1

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = isHelper(2121)
value = 2121

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = isHelper(2122)
value = 2122

[State a];変数
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = Time>3
var(1) = -21

[State a]
Type = varSet
Trigger1 = !Time
var(2) = 0

[State a]
Type = varAdd
Trigger1 = 1
var(2) = 1

[State a];過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256+var(1),256

[State a];拡縮
Type = AngleDraw
Trigger1 = 1
;Scale = 1+var(2)*0.025,1+var(2)*0.025
Scale = 1+var(2)*0.04,1+var(2)*0.04

[State a]
Type = DestroySelf
Trigger1 = Time=16

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;金モードオーラエフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2499]
Type = A
Ctrl = 0
velSet = 0,0
Anim = 2410
MoveType = I
PhySics = N
Sprpriority = 5

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a];変数
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = Time>3
var(1) = -21

[State a]
Type = varSet
Trigger1 = !Time
var(2) = 0

[State a]
Type = varAdd
Trigger1 = 1
var(2) = 1

[State a];過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256+var(1),256

[State a];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 1+var(2)*0.05,1+var(2)*0.05

[State a]
Type = DestroySelf
Trigger1 = Time=16
Trigger2 = Root,StateNo=2400
Trigger3 = Root,StateNo=[2600,2601]

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; サラダバー
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2200]
Type = S
MoveType= I
PhySics = N
velSet = 0,0
juggle = 0
PowerAdd= 0
Ctrl = 0

[State 2101]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 2200

[State a]
Type = velSet
Trigger1 = !Time
y = 0

[State a]
Type = PosSet
Trigger1 = !Time
y = 0

[State a]
Type = varSet
Trigger1 = !Time
var(2) = 0

[State a]
Type = AssertSpecial
Trigger1 = AnimElem=36,>=0
flag = Nokoslow

[State a];発動エフェクト
Type = Helper
Trigger1 = AnimElem=37
ID = 3000
Name = "e"
Sprpriority = -5
Pos = 0,-200
PosType = back
StateNo = 8000
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State 3040,7]
Type = BGPalfx
Trigger1 = AnimElem=37,>=0
IgNoreHitPause = 1
Time = 1
mul = 35,0,0
under = 256

[State a];一枚絵
Type = Helper
Trigger1 = Time=680
ID = 3000
Name = "e"
Sprpriority = 5
Pos = 0,0
PosType = back
StateNo = 8001
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];相手制御
Type = Helper
Trigger1 = AnimElem=36
ID = 2205
Name = "o-ra"
Sprpriority = 2
Pos = 0,0
PosType = P1
StateNo = 2205
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a]
Type = PosAdd
Trigger1 = AnimElem=5
Trigger2 = AnimElem=6
Trigger3 = AnimElem=7
Trigger4 = AnimElem=8
Trigger5 = AnimElem=9
Trigger6 = AnimElem=10
Trigger7 = AnimElem=11
Trigger8 = AnimElem=12
x = -8/2

[State a]
Type = PosAdd
Trigger1 = AnimElem=36
x = -114/2

[State a]
Type = velSet
Trigger1 = Time=700
y = 1

[State a];透過
Type = varSet
Trigger1 = !Time
var(5) = 0

[State a]
Type = varAdd
Trigger1 = Time>=720
var(5) = 5

[State a]
Type = Trans
Trigger1 = Time>=700
trans = Addalpha
alpha = 256-var(5),var(5)

[State 5150,5];自決
Type = AssertSpecial
Trigger1 = AnimElem=37,>=0
flag = Noshadow

[State 2000,6];フッ・・・どうやらここまでのようだな
Type = PlaySnd
Trigger1 = AnimElem=3
value = 2200,0

[State 2000,6];だがな・・・俺は、お前の拳法では死なん！サラダバー
Type = PlaySnd
Trigger1 = AnimElem=13
value = 2200,1

[State 2000,6];足音
Type = PlaySnd
Trigger1 = AnimElem=4
Trigger2 = AnimElem=8
Trigger3 = AnimElem=12
value = 2200,2

[State 2000,6];
Type = PlaySnd
Trigger1 = AnimElem=40
value = 100,0

[State 2000,6];テーレッテー
Type = PlaySnd
Trigger1 = AnimElem=36
value = 2500,99
loop = 1
persistent = 0

[State a];テーレッテーフラグ
Type = varSet
Trigger1 = AnimElem=36
var(21) = 1

[State a];自決
Type = lifeSet
Trigger1 = Time=790
value = 0

[State a]
Type = PowerSet
Trigger1 = Time=790
value = 0

[State a]
Type = varSet
Trigger1 = Time=790
var(16) = 300

[State a]
Type = ChangeState
Trigger1 = Time=790
value = 5150

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)一枚絵
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 8001]
Type = S
Ctrl = 0
Anim = 8001
velSet = 0,0
MoveType = I
PhySics = N
Sprpriority = 5

[State a]
Type = PosSet
Trigger1 = !Time
y = Pos y-screenPos y+20

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = velSet
Trigger1 = Time=100
y = 1

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = var(1),256-var(1)

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = Time<=20
var(1) = 15

[State a]
Type = varAdd
Trigger1 = Time>99
var(1) = -5

[State a];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 1.0,1.0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)相手制御用ヘルパー
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2205]
Type = S
Ctrl = 0
Anim = 2205
velSet = 0,0
MoveType = A
PhySics = N
Sprpriority = 2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = PosSet
Trigger1 = NumEnemy>0
x = Enemy,Pos x

[State 440,3]
Type = HitDef
Trigger1 = !Time
Attr = S,HA
AnimType = hard
Damage = 0
Priority = 99,Hit
Hitflag = MAFLD
Guardflag = N
PauSeTime = 0,0
SparkNo = s-1
GetPower = 0,0
Sparkxy = 0,0
HitSound = s-1,0
GuardSound = s-1,0
Guard.SparkNo = s-1
Ground.Type = high
Ground.SlideTime = 0
Ground.HitTime = 0
Ground.velocity = 0,0
Guard.velocity = 0
Air.velocity = 0,0
P2StateNo = 2201

[State a]
Type = DestroySelf
Trigger1 = MoveContAct

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(ENEMY)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2201]
Type = A
MoveType= H
PhySics = N
velSet = 0,0
Sprpriority = -1

[State a]
Type = PosSet
Trigger1 = !Time
y = 0

[State 820,1]
Type = ChangeAnim2
Trigger1 = !Time
value = 2201

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

[State a]
Type = varSet
TriggerAll=Time=324
TriggerAll=AutHorName="ahuron"
Trigger1 = Name="REI"
Trigger2 = Name="JAGI"
Trigger3 = Name="JUDA"
Trigger4 = Name="SHIN"
Trigger5 = Name="THOUTHER"
Trigger6 = Name="Mr.HEART"
var(4) = 0

[State a]
Type = SelfState
Trigger1 = Time=324
value = 0
Ctrl = 1



;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 豚
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2300]
Type = S
MoveType= A
PhySics = N
velSet = 0,0
juggle = 0
Ctrl = 0

[State 2300]
Type = PowerAdd
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = -1000+(var(58)>1)*500

[State 2300]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 2300

[State a]
Type = velSet
Trigger1 = !Time
y = 0

[State a]
Type = PosSet
Trigger1 = !Time
y = 0

[State 1];無敵の状態を作る
Type = NotHitBy 
Trigger1 = Time<119
value = SCA

[State 2000,2]
Type = SuperPause
Trigger1 = Time=7
Time = 150
MoveTime = 150
darken = 0
Anim = -1
P2defmul = 1

[State 3040,7]
Type = BGPalfx
Trigger1 = Time>0
IgNoreHitPause = 1
Time = 1
mul = 20,20,195
under = 1

[State 2000,6]
Type = PlaySnd
Trigger1 = Time=7
value = 900,0

[State a]
Type = Helper
Trigger1 = AnimElem=2
ID = 3000
Name = "chou"
Sprpriority = 2
Pos = -34/2,-264/2
PosType = P1
StateNo = 6000
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];
Type = Helper
Trigger1 = AnimElem=2
ID = 3000
Name = "chou"
Sprpriority = 2
Pos = -34/2,-264/2
PosType = P1
StateNo = 6001
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];
Type = Helper
Trigger1 = AnimElem=2
ID = 3000
Name = "e"
Sprpriority = -5
Pos = 0,-200
PosType = back
StateNo = 8000
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State Explod];羽
Type = Explod
Trigger1 = AnimElem=3
Anim = 1605
ID = 3000
Sprpriority = 1
PosType = P1
Pos = 0,0
BindTime = -1
SuperMove = 1
SuperMoveTime = 120
IgNoreHitPause = 0
facing = -1
ReMoveTime = 64
under = 0
Scale = 0.5,0.5

[State a];エフェクト
Type = Helper
Trigger1 = AnimElem=4
ID = 1606
Name = "hassha"
Sprpriority = 5
Pos = -140/2,-198/2
PosType = P1
StateNo = 1606
SuperMoveTime = 120
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];弾
Type = Helper
Trigger1 = AnimElem=4
ID = 2305
Name = "tama"
Sprpriority = 5
Pos = -140/2,-198/2
PosType = P1
StateNo = 2305
SuperMoveTime = 120
HelperType = Normal
PauseMoveTime = 0
facing = -1
KeyCtrl = 0 
OwnPal = 1

[State a];豚
Type = Helper
Trigger1 = AnimElem=8
ID = 2350
Name = "buta"
Sprpriority = 5
Pos = -100,0
PosType = back
StateNo = 2350
SuperMoveTime = 0
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a]
Type = PosAdd
Trigger1 = AnimElem=5
x = -50/2

[State a]
Type = PosAdd
Trigger1 = AnimElem=8
x = 50/2

[State 2000,6];フッ・・・
Type = PlaySnd
Trigger1 = AnimElem=2
value = 1600,0

[State 2000,6];
Type = PlaySnd
Trigger1 = AnimElem=4
value = 1600,1

[State 2000,6];痛いか・・・？
Type = PlaySnd
Trigger1 = AnimElem=9
value = 2300,0

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)弾
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2305]
Type = A
Ctrl = 0
Anim = 1610
velSet = 0,0
MoveType = A
PhySics = N
Sprpriority = 2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 2

[State a]
Type = velSet
Trigger1 = !Time
x = 20
y = 0

[State 2000,6]
Type = PlaySnd
Trigger1 = Time=12
value = 500,1

[State 2000,6];血ぃ・・・？
Type = PlaySnd
Trigger1 = Time=30
value = 2350,0

[State a]
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256,256

[State a]
Type = AngleDraw
Trigger1 = 1
Scale = 1,1

[State a]
Type = NotHitBy
Trigger1 = 1
value = SCA
Time = -1

[State a]
Type = DestroySelf
Trigger1 = Time=100

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)豚
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2350]
Type = A
Ctrl = 0
Anim = 2350
velSet = 0,0
MoveType = I
PhySics = N
Sprpriority = -2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = PosSet
Trigger1 = facing = 1
x = -260

[State a]
Type = PosSet
Trigger1 = facing = -1
x = 260

[State a];弾の角度、発射速度
Type = VarRandom
Trigger1 = !Time
v = 1
range = 300,600
[State 2000,6];いてえよぉ
Type = PlaySnd
Trigger1 = Time=80
value = 2350,1

[State a]
Type = AngleDraw
Trigger1 = 1
Scale = 1,1

[State a]
Type = NotHitBy
Trigger1 = 1
value = SCA
Time = -1

[State a]
Type = ChangeState
Trigger1 = Time=80
value = 2351

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)豚ダッシュ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2351]
Type = A
Ctrl = 0
Anim = 2350
velSet = 0,0
MoveType = I
PhySics = N
Sprpriority = -2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = varAdd
Trigger1 = 1
var(1) = -1

[State a]
Type = velAdd
Trigger1 = vel x<7
Trigger1 = root,var(58)<2
x = 0.1

[State a]
Type = velAdd
Trigger1 = vel x<14
Trigger1 = root,var(58)>1
x = 3

[State Explod];着地エフェクト
Type = Explod
Trigger1 = AnimElem=3
Anim = 6047
ID = 6040
Sprpriority = -5
PosType = P1
Pos = 0,0
BindTime = 1
SuperMove = 0
IgNoreHitPause = 0
under = 0

[State Explod];着地エフェクト
Type = Explod
Trigger1 = AnimElem=7
Anim = 6047
ID = 6040
Sprpriority = -5
PosType = P1
Pos = 15,0
BindTime = 1
SuperMove = 0
IgNoreHitPause = 0
under = 0

[State 2000,6];ダッシュ
Type = PlaySnd
Trigger1 = AnimElem=3
value = 2350,4

[State 2000,6];ダッシュ
Type = PlaySnd
Trigger1 = AnimElem=7
value = 2350,5

[State a]
Type = AngleDraw
Trigger1 = 1
Scale = 1,1

[State a]
Type = NotHitBy
Trigger1 = 1
value = SCA
Time = -1

[State a]
Type = ChangeState
Trigger1 = var(1)<1||Root,var(58)>1
Trigger1 = P2Dist X=[0,120]
value = 2360

[State a]
Type = ChangeState
Trigger1 = frontedgeDist<=-10
value = 2355

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)豚振り向き
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2355]
Type = A
Ctrl = 0
Anim = 2355
velSet = 0,0
MoveType = I
PhySics = N
Sprpriority = -2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = varAdd
Trigger1 = 1
var(1) = -1

[State a]
Type = AngleDraw
Trigger1 = 1
Scale = 1,1

[State a]
Type = NotHitBy
Trigger1 = 1
value = SCA
Time = -1

[State a]
Type = turn
Trigger1 = !AnimTime

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = 2351

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)豚張り手
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2360]
Type = S
Ctrl = 0
Anim = 2360
velSet = 0,0
MoveType = A
PhySics = N
Sprpriority = -2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 0

[State 2000,6]
Type = PlaySnd
Trigger1 = AnimElem=3
value = 2350,2

[State 2000,6];
Type = PlaySnd
Trigger1 = AnimElem=3
value = 300,4

[State a]
Type = AngleDraw
Trigger1 = 1
Scale = 1,1

[State a]
Type = NotHitBy
Trigger1 = 1
value = SCA
Time = -1

[State a];ビンタ
Type = Helper
Trigger1 = AnimElem=4
ID = 3000
Name = "binta"
Sprpriority = 2
Pos = 190/2,-174/2
PosType = P1
StateNo = 2370
HelperType = Normal
SuperMoveTime = 0
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a]
Type = AttackDist
Trigger1 = Root,var(58)>1
value = 0

[State 440,3]
Type = HitDef
Trigger1 = AnimElem=4
Trigger1 = root,var(58)<2
Attr = S,HP
AnimType = hard
Damage = Ceil(5.2*ifelse(50*ifelse(fvar(0)<0.4,0.4,fvar(0))<1,1,50*ifelse(fvar(0)<0.4,0.4,fvar(0)))*ifelse(var(8)>0,1.2,1)),26
Priority = 5,Hit
Hitflag = MAFLD
Guardflag = M
PauSeTime = 18,18
SparkNo = s7020+(random%8)
GetPower = 0,0
Sparkxy = -10,-85
HitSound = s2350,7
GuardSound = s121,0
Guard.SparkNo = s7101
Ground.Type = high
Ground.SlideTime = 11
Ground.HitTime = 11
Ground.velocity = -9,-4
Guard.velocity = -11
Air.velocity = -9,-6
fall = 1
Air.fall = 1
recoverTime = 34+18
envshake.Time = 16
envshake.ampl = -18
envshake.freq = 92
envshake.phase = 92

[State 440,3]
Type = HitDef
Trigger1 = Root,var(58)>1
Attr = S,HT
AnimType = hard
Damage = Ceil(5.2*ifelse(50*ifelse(fvar(0)<0.4,0.4,fvar(0))<1,1,50*ifelse(fvar(0)<0.4,0.4,fvar(0)))*ifelse(var(8)>0,1.2,1))+(Root,var(59)>0)*999999,26
Priority = 7,Hit
Hitflag = MAFLD
Guardflag = 
PauSetime = 18,18
SparkNo = s7020+(random%8)
GetPower = 0,0
Sparkxy = -10,-85
HitSound = s2350,7
GuardSound = s121,0
Guard.SparkNo = s7101
Ground.Type = high
Ground.SlideTime = 11
Ground.HitTime = 11
Ground.velocity = -99,-4
Guard.velocity = -99
Air.velocity = -99,-6
fall = 1
Air.fall = 1
recoverTime = 9999
envshake.Time = 16
envshake.ampl = -18
envshake.freq = 92
envshake.phase = 92

[State a];七星ゲージ
Type = parentvarAdd
TriggerAll=NumHelper(4000)
TriggerAll=NumHelper(30000+ID)
TriggerAll=Helper(30000+ID),var(0)
Trigger1 = MoveHit=1
var(4) = 1+(root,var(58)>1&&Root,var(59)>0)*6
IgNoreHitPause = 1
persistent = 0


[State a];カウンターヒット
Type = parentvarAdd
TriggerAll=NumHelper(4000)
TriggerAll=NumHelper(30000+ID)
TriggerAll=Helper(30000+ID),var(0)
Trigger1 = MoveHit=1
Trigger1 = Root,var(8)>0
var(4) = 1
IgNoreHitPause = 1
persistent = 0

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = 2365

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)豚ダッシュ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2365]
Type = A
Ctrl = 0
Anim = 2365
velSet = 0,0
MoveType = I
PhySics = N
Sprpriority = -2

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = turn
Trigger1 = !Time

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = velAdd
Trigger1 = vel x<=12
x = 0.4

[State 2000,6];回転
Type = PlaySnd
Trigger1 = Time=10
value = 2350,6

[State a]
Type = AngleDraw
Trigger1 = 1
Scale = 1,1

[State a]
Type = NotHitBy
Trigger1 = 1
value = SCA
Time = -1

[State a]
Type = DestroySelf
Trigger1 = frontedgeDist<=-100

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)豚ビンタエフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2370]
Type = A
Ctrl = 0
velSet = 0,0
Anim = 2370
MoveType = I
PhySics = N
Sprpriority = 5

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = 1
var(1) = 4

[State a]
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256-var(1),256

[State a]
Type = AngleDraw
Trigger1 = 1
Scale = 1.0+var(1)*0.005,1.0+var(1)*0.005

[State a]
Type = DestroySelf
Trigger1 = Time=60

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;無想転生-発動
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2400]
Type = S                     
MoveType = I                     
phySics = S                     
Ctrl = 0                     
Anim = 2400                  
Sprpriority = 2     
velSet = 0,0
PowerAdd= -1000+(var(58)>1)*500

[State 2400,var(58)];ﾌﾗｸﾞON
Type = VarSet
Trigger1 = Time=2
var(57) = 7

[State a,0];よかろう殺してやる！
Type = PlaySnd
Trigger1 = Time=2
Trigger1 = P2Name!="KENSHIRO"
Trigger1 = P2Name!="SHIN"
Trigger1 = Random<333
value = 190,0
volume = 255
channel = 0
lowPriority = 1

[State -2,PlaySnd]
;お前は永久にここまで上がってこれない
;お前と俺には決定的な違いがあるそれは･･･欲望･･･執念だ！
Type = PlaySnd
Trigger1 = Time=2
Trigger1 = P2Name!="KENSHIRO"
Trigger1 = P2Name!="SHIN"
value = 182,1+Random%2
channel = 0
lowPriority = 1

[State a,0];ユリアは俺が貰うぞ！
Type = PlaySnd
TriggerAll=Time = 2
Trigger1 = P2Name="KENSHIRO"
Trigger2 = P2Name="SHIN"
value = 191,1
volume = 255
channel = 7

[State 2000,6]
Type = PlaySnd
Trigger1 = !Time
value = 4000,0

[State 2400,0];暗転
Type = SuperPause
Trigger1 = Time=2
Time = 147
Anim = -1
Sound = -1
Pos = 5,-60
MoveTime = 147
darken = 0
P2defmul = 1
PowerAdd = 0
unHittable = 1
igNoreHitPause = 1

[State 2400,0]
Type = BGPalFX
Trigger1 = Time=2
Time = 147
mul = 9,9,99
under = 1
igNoreHitPause = 1

[State meteking,0]
Type = NotHitBy
Trigger1 = AnimElem=6,<26
value = SCA
Time = 1

[State a];発動エフェクト
Type = Helper
Trigger1 = Time=2
ID = 3000
Name = "chou"
Sprpriority = 2
Pos = 2,-103
PosType = P1
StateNo = 6000
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];
Type = Helper
Trigger1 = Time=2
ID = 3000
Name = "chou"
Sprpriority = 2
Pos = 2,-103
PosType = P1
StateNo = 6001
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];
Type = Helper
Trigger1 = Time=2
ID = 3000
Name = "e"
Sprpriority = -5
Pos = 5,-130
PosType = back
StateNo = 8000
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State 2400,0];(右・1)
Type = Explod
Trigger1 = Time=2
Anim = 2410
ID = 2410
Pos = 20,0
PosType = P1
BindTime = 1
vel = -0.3,0
ReMoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = 0.5,0.5
Sprpriority = 5
ontop = 0
OwnPal = 1
ReMoveonGetHit = 1

[State 2400,0];(左・1)
Type = Explod
Trigger1 = Time=2
Anim = 2410
ID = 2410
Pos = -20,0
PosType = P1
BindTime = 1
vel = 0.3,0
ReMoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = 0.5,0.5
Sprpriority = 5
ontop = 0
OwnPal = 1
ReMoveonGetHit = 1

[State 2400,0];(右・2)
Type = Explod
Trigger1 = Time=2
Anim = 2410
ID = 2410
Pos = 40,0
PosType = P1
BindTime = 1
vel = -0.6,0
ReMoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = 0.5,0.5
Sprpriority = 5
ontop = 0
OwnPal = 1
ReMoveonGetHit = 1

[State 2400,0];(左・2)
Type = Explod
Trigger1 = Time=2
Anim = 2410
ID = 2410
Pos = -40,0
PosType = P1
BindTime = 1
vel = 0.6,0
ReMoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = 0.5,0.5
Sprpriority = 5
ontop = 0
OwnPal = 1
ReMoveonGetHit = 1

[State 2400,0];(右・3)
Type = Explod
Trigger1 = Time=2
Anim = 2410
ID = 2410
Pos = 60,0
PosType = P1
BindTime = 1
vel = -0.9,0
ReMoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = 0.5,0.5
Sprpriority = 5
ontop = 0
OwnPal = 1
ReMoveonGetHit = 1

[State 2400,0];(左・3)
Type = Explod
Trigger1 = Time=2
Anim = 2410
ID = 2410
Pos = -60,0
PosType = P1
BindTime = 1
vel = 0.9,0
ReMoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = 0.5,0.5
Sprpriority = 5
ontop = 0
OwnPal = 1
ReMoveonGetHit = 1

[State 2400,end]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;無想転生当身
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2600]
Type = S
MoveType = I
phySics = S
Anim = 2600
Ctrl = 0
velSet = 0,0
Sprpriority = 5

[State 2400,var(58)];ﾌﾗｸﾞON
Type = VarAdd
Trigger1 = !Time
var(57) = -1

[State a,0];バカめ
Type = PlaySnd
Trigger1 = !Time
Trigger1 = Random%7<1
value = 1400,1
volume = 255
channel = 0
lowPriority = 1

[State a,0];どうした？　＆　こんなものか
Type = PlaySnd
Trigger1 = !Time
Trigger1 = Random<200
value = 850,Random%2
volume = 255
channel = 0
lowPriority = 1

[State a,0];欲望が足りん！
Type = PlaySnd
Trigger1 = !Time
Trigger1 = Random<250
value = 181,5
volume = 255
channel = 0
lowPriority = 1

[State a,0];執念が足りんぞ！
Type = PlaySnd
Trigger1 = !Time
Trigger1 = Random<333
value = 290,0
volume = 255
channel = 0
lowPriority = 1

[State -2,PlaySnd];わざわざ殺されるためにか･･･
Type = PlaySnd
Trigger1 = !Time
Trigger1 = Random<500
value = 191,0
channel = 0
lowPriority = 1

[State -2,PlaySnd];なに〜ぃ　聞こえんなぁ〜
Type = PlaySnd
Trigger1 = !Time
value = 199,0
channel = 0
lowPriority = 1

[State 2600];押し合い削除
Type = PlayerPush
Trigger1 = !Time
value = 0
igNoreHitPause = 1

[State 3000, effect]
Type = Explod
Trigger1 = Time=[7,25]
Anim = 2410
PosType = p1
Pos = 0,0
ownpal = 1
sprpriority = 5
ontop = 1
reMoveongetHit = 1
PauseMoveTime = -1
SuperMoveTime = -1
reMoveTime = 1
Scale = 0.5,0.5

[State 2600];暗転
Type = Pause;Super
Trigger1 = !Time
Time = 22
Anim = -1
Sound = -1
MoveTime = 22
;darken = 1
;unHittable = 0
igNoreHitPause = 1

[State 2600]
Type = PosAdd
Trigger1 = FrontEdgeDist>15
Trigger1 = ifelse(EnemyNear(var(50)),Facing!=Facing,P2Dist X>-35,P2Dist X<35)
Trigger1 = Time<35
x = 4.5*ifelse(EnemyNear(var(50)),Facing!=Facing,1,-1)
igNoreHitPause = 1

[State 2600]
Type = Turn
TriggerAll=P2Dist X<0
Trigger1 = Time>7

[State 2600]
Type = AfterImage
Trigger1 = 0;!Time
Time = 30
trans = Add
Timegap = 1
framegap = 6
length = 24
Palbright = 0,0,0
Palcontrast = 0,150,250
PalPostbright = 0,0,0
PalAdd = 0,0,0
Palmul = 0.7,0.7,0.8
igNoreHitPause = 1

[State 2600]
Type = ChangeState
Trigger1 = Time=31
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;無想転生当身
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2601]
Type = S
MoveType = I
phySics = S
Anim = 2601
Ctrl = 0
velSet = 0,0
Sprpriority = 5

[State 2400,var(58)];ﾌﾗｸﾞON
Type = VarAdd
Trigger1 = !Time
var(57) = -1

[State 2600];キュピーン
Type = PlaySnd
Trigger1 = !Time
value = 1100,1
volume = 255
channel = -1

[State a,0];バカめ
Type = PlaySnd
Trigger1 = !Time
Trigger1 = Random%7<1
value = 1400,1
volume = 255
channel = 0
lowPriority = 1

[State a,0];どうした？　＆　こんなものか
Type = PlaySnd
Trigger1 = !Time
Trigger1 = Random<200
value = 850,Random%2
volume = 255
channel = 0
lowPriority = 1

[State a,0];欲望が足りん！
Type = PlaySnd
Trigger1 = !Time
Trigger1 = Random<250
value = 181,5
volume = 255
channel = 0
lowPriority = 1

[State a,0];執念が足りんぞ！
Type = PlaySnd
Trigger1 = !Time
Trigger1 = Random<333
value = 290,0
volume = 255
channel = 0
lowPriority = 1

[State -2,PlaySnd];わざわざ殺されるためにか･･･
Type = PlaySnd
Trigger1 = !Time
Trigger1 = Random<500
value = 191,0
channel = 0
lowPriority = 1

[State -2,PlaySnd];なに〜ぃ　聞こえんなぁ〜
Type = PlaySnd
Trigger1 = !Time
value = 199,0
channel = 0
lowPriority = 1

[State 2600]
Type = NotHitBy
Trigger1 = 1
value = SCA

[State 2600];押し合い削除
Type = PlayerPush
Trigger1 = !Time
value = 0
igNoreHitPause = 1

[State 2600];暗転
Type = SuperPause
Trigger1 = !Time
Time = 55
Anim = -1
Sound = -1
MoveTime = 55
darken = 1
unHittable = 0
igNoreHitPause = 1

[State 2600]
Type = PosAdd
Trigger1 = FrontEdgeDist>15
Trigger1 = ifelse(EnemyNear(var(50)),Facing!=Facing,P2Dist X>-35,P2Dist X<35)
Trigger1 = Time<35
x = 4.5*ifelse(EnemyNear(var(50)),Facing!=Facing,1,-1)
igNoreHitPause = 1

[State 2600]
Type = ChangeAnim
Trigger1 = FrontEdgeDist>0
Trigger1 = P2Dist X<0
value = 2601
Elem = 1

[State 2600]
Type = Turn
Trigger1 = P2Dist X<0

[State 2600]
Type = AfterImage
Trigger1 = !Time
Time = 30
trans = Add
Timegap = 1
framegap = 6
length = 24
Palbright = 0,0,0
Palcontrast = 0,150,250
PalPostbright = 0,0,0
PalAdd = 0,0,0
Palmul = 0.7,0.7,0.8
igNoreHitPause = 1

[State 2600]
Type = ChangeState
Trigger1 = Time=50
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 南斗翔鷲屠脚
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2500]
Type = S
MoveType= A
PhySics = N
velSet = 0,0
juggle = 0
PowerAdd= 0
Ctrl = 0

[State 2500]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo!=50000
value = 2500

[State a]
Type = turn
Trigger1 = !Time
Trigger1 = P2Dist X<0

[State a]
Type = velSet
Trigger1 = !Time
y = 0

[State a]
Type = PosSet
Trigger1 = !Time
y = 0

[State a]
Type = varSet
Trigger1 = !Time
var(11) = 0

[State 2000,2];暗転
Type = SuperPause
Trigger1 = AnimElem=3
Time = 100
MoveTime = 100
darken = 0
Anim = -1
P2defmul = 1

[State 3040,7]
Type = BGPalfx
Trigger1 = Time>0
IgNoreHitPause = 1
Time = 1
mul = 195,20,20
under = 1

[State 2000,6]
Type = PlaySnd
Trigger1 = AnimElem=3
value = 900,0

[State a]
Type = Helper
Trigger1 = AnimElem=3
ID = 3000
Name = "chou"
Sprpriority = 2
Pos = -2/2,-100/2
PosType = P1
StateNo = 6000
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];
Type = Helper
Trigger1 = AnimElem=3
ID = 3000
Name = "chou"
Sprpriority = 2
Pos = -2/2,-100/2
PosType = P1
StateNo = 6001
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State a];
Type = Helper
Trigger1 = AnimElem=3
ID = 3000
Name = "e"
Sprpriority = -5
Pos = 0,-200
PosType = back
StateNo = 8000
HelperType = Normal
SuperMoveTime = 70
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1

[State 2000,6];テーレッテー
Type = PlaySnd
Trigger1 = AnimElem=6,>=0
Trigger1 = MoveHit=1
value = 2500,99
loop = 1
persistent = 0

[State a];テーレッテーフラグ
Type = varSet
Trigger1 = AnimElem=6,>=0
Trigger1 = MoveHit=1
var(21) = 1

[State 2000,6];南斗弧鷲拳奥義
Type = PlaySnd
Trigger1 = AnimElem=2
value = 2500,0

[State 2000,6];蹴り
Type = PlaySnd
Trigger1 = AnimElem=6
value = 2500,5

[State 2000,6];南斗翔鷲屠脚
Type = PlaySnd
Trigger1 = AnimElem=6,>=0
Trigger1 = MoveHit=1
value = 2500,1

[State 2000,6];
Type = PlaySnd
Trigger1 = AnimElem=13
value = 40,0

[State Explod];着地エフェクト
Type = Explod
Trigger1 = AnimElem=13
Anim = 6047
ID = 6040
Sprpriority = -5
PosType = P1
Pos = 25,0
BindTime = 1
SuperMove = 0
IgNoreHitPause = 0
under = 0
Scale = 0.7,0.7

[State 1];無敵の状態を作る
Type = NotHitBy 
Trigger1 = AnimElem=6,>=0
Trigger1 = MoveHit
value = SCA
Time = -1

[State a];蹴り
Type = Helper
Trigger1 = AnimElem=6
ID = 2510
Name = "keri"
Sprpriority = 2
Pos = 0,0
PosType = P1
StateNo = 2510
HelperType = Normal
KeyCtrl = 0 
OwnPal = 1

[State a];蹴り
Type = Helper
Trigger1 = AnimElem=6
ID = 2510
Name = "keri"
Sprpriority = 2
Pos = -16,0
PosType = P1
StateNo = 2511
HelperType = Normal
KeyCtrl = 0 
OwnPal = 1

[State a]
Type = StateTypeSet
Trigger1 = AnimElem=5
value = A

[State a]
Type = velSet
Trigger1 = AnimElem=6
y = -1

[State a]
Type = velSet
Trigger1 = AnimElem=7
y = 0.5

[State a]
Type = velSet
Trigger1 = AnimElem=13
y = 0

[State a]
Type = StateTypeSet
Trigger1 = AnimElem=13
value = S

[State a]
Type = PosSet
Trigger1 = AnimElem=13
y = 0

[State a]
Type = PosAdd
Trigger1 = AnimElem=3
x = 10

[State a]
Type = PosAdd
Trigger1 = AnimElem=4
Trigger2 = AnimElem=5
x = 32/2

[State a]
Type = PosAdd
Trigger1 = AnimElem=6
x = -72/2

[State a];部下１
Type = Helper
TriggerAll=NumEnemy>0
Trigger1 = Enemy,StateNo=2551
ID = 2530
Name = "buka"
Sprpriority = 2
Pos = -300,-240
PosType = P2
StateNo = 2530
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1
persistent = 0


[State a];部下２
Type = Helper
TriggerAll=NumEnemy>0
Trigger1 = Enemy,StateNo=2551
ID = 2531
Name = "buka"
Sprpriority = 2
Pos = 300,-240
PosType = P2
StateNo = 2530
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0
OwnPal = 1
facing = -1
persistent = 0

[State 240,2]
Type = HitDef
Trigger1 = AnimElem=4
Attr = S,HA
AnimType = hard
Damage = Ceil(5.2*ifelse(1*ifelse(fvar(0)<0.4,0.4,fvar(0))<1,1,1*ifelse(fvar(0)<0.4,0.4,fvar(0)))*ifelse(var(8)>0,1.2,1)),0
Priority = 11,Hit
GetPower = 0,0
Guardflag = M
PauSeTime = 17,17
SparkNo = -1
HitSound = s400,3
Guard.SparkNo = s7101
GuardSound = s121,0
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 17
Ground.velocity = 1,-7
Guard.velocity = -2
Air.velocity = 1,-7
yaccel = 0.43
fall = 1
fall.recover = 0
kill = 0

[State 240,2]
Type = HitDef
Trigger1 = AnimElem=6
Attr = A,HA
AnimType = up
Damage = 0,0
Priority = 11,Hit
GetPower = 0,0
Guardflag = M
PauSeTime = 20,20
SparkNo = -1
HitSound = s400,3
Guard.SparkNo = s7101
GuardSound = s121,0
Ground.Type = high
Ground.SlideTime = 17
Ground.HitTime = 17
Ground.velocity = -0.5,-11
Guard.velocity = -11
Air.velocity = -0.5,-11
yaccel = 0.45
fall = 1
fall.recover = 0

[State 1100,Hit];ヒットエフェクト
Type = Helper
Trigger1 = MoveHit=1
Trigger1 = AnimElem=5<0
ID = 16096
StateNo = 16096
PosType = P1
Pos = 30,-80
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State 1100,Hit];ヒットエフェクト
Type = Helper
Trigger1 = MoveHit=1
Trigger1 = AnimElem=5,>0
ID = 16096
StateNo = 16096
PosType = P1
Pos = 30,-160
facing = -1
Sprpriority = 7
ownPal = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
persistent = 0
igNoreHitPause = 1

[State a]
Type = TargetState
Trigger1 = AnimElem=6,>=0
Trigger1 = MoveHit=1
value = 2550

[State a];七星ゲージ
Type = varAdd
TriggerAll=NumHelper(4000)
TriggerAll=NumHelper(30000+ID)
TriggerAll=Helper(30000+ID),var(0)
Trigger1 = AnimElem=7
Trigger1 = !MoveHit
var(4) = -1
IgNoreHitPause = 1
persistent = 0

[State a]
Type = PowerSet
Trigger1 = AnimElem=7
Trigger1 = !MoveHit
value = 0

[State a]
Type = ChangeState
TriggerAll=NumEnemy>0
Trigger1 = AnimElem=14
Trigger1 = Enemy,StateNo=[2550,2552]
Trigger1 = Enemy,MoveType=H
value = 2501

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;歩き
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2501]
Type = S
MoveType = A
PhySics = N
PowerAdd= 0
Ctrl = 0
Anim = 2501
Sprpriority = 2
velSet = 0,0

[State a];部下１
Type = Helper
Trigger1 = !NumHelper(2530)
ID = 2530
Name = "buka"
Sprpriority = 2
Pos = -300,-240
PosType = P2
StateNo = 2530
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1
persistent = 0

[State a];部下２
Type = Helper
Trigger1 = !NumHelper(2531)
ID = 2531
Name = "buka"
Sprpriority = 2
Pos = 300,-240
PosType = P2
StateNo = 2530
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0
OwnPal = 1
facing = -1
persistent = 0


[State a]
Type = turn
Trigger1 = P2Dist x<0
Trigger1 = AnimElem=6,>=0

[State a]
Type = velSet
Trigger1 = AnimElem=7
x = 2

[State 3040,7]
Type = BGPalfx
Trigger1 = 1
IgNoreHitPause = 1
Time = 1
mul = 195,20,20
under = 1

[State a];部下１
Type = Helper
Trigger1 = AnimElem=1
ID = 2534
Name = "buka"
Sprpriority = 2
Pos = 0,-80
PosType = back
StateNo = 2534
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1
persistent = 0

[State a];部下１
Type = Helper
Trigger1 = AnimElem=1
ID = 2535
Name = "buka"
Sprpriority = 2
Pos = 0,-80
PosType = back
StateNo = 2534
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1
persistent = 0

[State a];部下１
Type = Helper
Trigger1 = AnimElem=1
ID = 2536
Name = "buka"
Sprpriority = 2
Pos = 0,-80
PosType = back
StateNo = 2534
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1
persistent = 0


[State a];部下１
Type = Helper
Trigger1 = AnimElem=1
ID = 2534
Name = "buka"
Sprpriority = 2
Pos = 0,-80
PosType = flont
StateNo = 2534
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
facing = -1
OwnPal = 1
persistent = 0

[State a];部下１
Type = Helper
Trigger1 = AnimElem=1
ID = 2535
Name = "buka"
Sprpriority = 2
Pos = 0,-80
PosType = flont
StateNo = 2534
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
facing = -1
OwnPal = 1
persistent = 0

[State a];部下１
Type = Helper
Trigger1 = AnimElem=1
ID = 2536
Name = "buka"
Sprpriority = 2
Pos = 0,-80
PosType = flont
StateNo = 2534
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
facing = -1
OwnPal = 1
persistent = 0

[State a]
Type = ChangeState
Trigger1 = AnimElem=6,>=0
Trigger1 = P2Dist x<50
value = 2502

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;何本目に死ぬかな？
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2502]
Type = S
MoveType = A
PhySics = N
PowerAdd= 0
Ctrl = 0
Anim = 2502
Sprpriority = 2
velSet = 0,0

[State 3040,7]
Type = BGPalfx
Trigger1 = 1
IgNoreHitPause = 1
Time = 1
mul = 195,20,20
under = 1

[State a]
Type = varSet
Trigger1 = !Time
var(2) = 0

[State 2000,6];何本目に死ぬかな？
Type = PlaySnd
Trigger1 = AnimElem=7
value = 2500,2

[State 2000,6];死ねえ！！
Type = PlaySnd
Trigger1 = AnimElem=27
value = 2500,3

[State 2000,6];刺す
Type = PlaySnd
Trigger1 = AnimElem=6
Trigger2 = AnimElem=14
Trigger3 = AnimElem=22
Trigger4 = AnimElem=27
value = 2500,6

[State 2000,6];刺す
Type = PlaySnd
Trigger1 = AnimElem=27
value = 500,2

[State 2000,6];
Type = PlaySnd
Trigger1 = AnimElem=28
value = 4000,0

[State 2000,6]
Type = PlaySnd
Trigger1 = AnimElem=28
value = 2500,5

[State 2000,6];ははははははははは
Type = PlaySnd
Trigger1 = AnimElem=32
value = 2500,4

[State Explod];出血エフェクト1
Type = Explod
Trigger1 = AnimElem=6
Trigger2 = AnimElem=14
Trigger3 = AnimElem=22
Anim = 1513
ID = 1513
Sprpriority = 5
PosType = P1
Pos = 110/2,-208/2
BindTime = 1
SuperMove = 0
IgNoreHitPause = 0
under = 0
Scale = 0.5,0.5

[State Explod];出血エフェクト1
Type = Explod
Trigger1 = AnimElem=27
Anim = 2522
ID = 2522
Sprpriority = 5
PosType = P1
Pos = 0,0
BindTime = 1
SuperMove = 0
IgNoreHitPause = 0
ReMoveTime = 80
under = 0
Scale = 0.5,0.5

[State a];血溜り
Type = Helper
Trigger1 = AnimElem=28
ID = 2523
Name = "chidamari"
Sprpriority = 2
Pos = 0,0
PosType = P2
StateNo = 2523
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1
persistent = 0

[State a];ブラッディクロス
Type = Helper
Trigger1 = AnimElem=28
ID = 2540
Name = "burakuro"
Sprpriority = 2
Pos = 0,0
PosType = P1
StateNo = 2540
HelperType = Normal
PauseMoveTime = 0
KeyCtrl = 0 
OwnPal = 1
persistent = 0

[State a]
Type = TargetState
Trigger1 = AnimElem=6
Trigger2 = AnimElem=14
Trigger3 = AnimElem=22
value = 2553

[State a]
Type = TargetState
Trigger1 = AnimElem=27
value = 2554

[State a]
Type = TargetState
Trigger1 = AnimElem=28
value = 2555

[State a]
Type = TargetlifeAdd
Trigger1 = AnimElem=28,>0
value = -99999999
kill = 1
ignorehitpause = 1
absolute = 1

[State a]
Type = ChangeState
Trigger1 = RoundState!=2
value = 188

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)蹴りエフェクト１
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2510]
Type = A
Ctrl = 0
velSet = 0,0
Anim = 2510
MoveType = I
PhySics = N
Sprpriority = 5

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = Bindtoroot
Trigger1 = 1
Pos = 42/2,-356/2

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = Time>=20
var(1) = 5

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256,256

[State a];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 1.5-var(1)*0.015,1.5

[State a]
Type = DestroySelf
Trigger1 = Root,StateNo!=2500
Trigger2 = Time=40

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)蹴りエフェクト２
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2511]
Type = A
Ctrl = 0
velSet = 0,0
Anim = 2511
MoveType = I
PhySics = N
Sprpriority = 5

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = PosSet
Trigger1 = !Time
y = Pos Y-ScreenPos Y+240

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = Time>19
var(1) = 5

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = 256,256

[State a];拡縮
Type = AngleDraw
Trigger1 = 1
Scale = 1.0-var(1)*0.01,1.0

[State a]
Type = DestroySelf
Trigger1 = Time=40

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)血溜り
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2523]
Type = S
Ctrl = 0
Anim = 2523
velSet = 0,0
MoveType = A
PhySics = N
Sprpriority = -6

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = Time>=20
Trigger1 = var(1)<=120
var(1) = 1

[State a]
Type = Angledraw
Trigger1 = 1
Scale = 0.0+var(1)*0.01,0.0+var(1)*0.01

[State a];速度
Type = PosSet
Trigger1 = !Time
y = 0

;---------------------------------------------------------------------------
;(HELPER)部下ジャンプ
[Statedef 2530]
Type = A
Ctrl = 0
Anim = 2530
velSet = 0,0
MoveType = I
PhySics = N
Sprpriority = -1

[State a]
Type = velSet
Trigger1 = !Time
x = 8.5
y = 8

[State a]
Type = NotHitBy
Trigger1 = 1
value = SCA
Time = -1

[State a]
Type = ChangeState
TriggerAll=Vel Y>0
Trigger1 = Pos Y>=0
value = 2531


;---------------------------------------------------------------------------
;(HELPER)部下着地＆掴み
[Statedef 2531]
Type = S
Ctrl = 0
Anim = 2531
velSet = 0,0
MoveType = A
PhySics = N
Sprpriority = -1


[State 2000,6];
Type = PlaySnd
Trigger1 = AnimElem=1
value = 40,0

[State Explod];着地エフェクト
Type = Explod
Trigger1 = !Time
Anim = 6047
ID = 6040
Sprpriority = -5
PosType = P1
Pos = 0,0
BindTime = 1
SuperMove = 0
IgNoreHitPause = 0
under = 0
Scale = 0.7,0.7

[State a];速度
Type = PosSet
Trigger1 = !Time
y = 0

[State a]
Type = NotHitBy
Trigger1 = 1
value = SCA
Time = -1

[State a]
Type = ChangeState
Trigger1 = Root,StateNo = 2502
Trigger1 = Root,AnimElem=28
value = 2532


;---------------------------------------------------------------------------
;部下去り
[Statedef 2532]
Type = S
MoveType= A
PhySics = N
juggle = 0
velSet = 0,0
Ctrl = 0
Anim = 2532
Sprpriority = -2

[State a]
Type = PosSet
Trigger1 = !Time
y = 0


[State 810,Grab Sound];
Type = PlaySnd
Trigger1 = AnimElem=2
value = 40,1

[State a];速度
Type = StateTypeSet
Trigger1 = AnimElem=2
value = A

[State a]
Type = velSet
Trigger1 = AnimElem=2
x = -11
y = -11

[State a]
Type = velAdd
Trigger1 = AnimElem=2,>=0
y = 0.35

[State a]
Type = DestroySelf
Trigger1 = Time=150
Trigger2 = BackEdgeDist<=-60

;---------------------------------------------------------------------------
;(HELPER)背景部下ジャンプ
[Statedef 2534]
Type = A
Ctrl = 0
Anim = 2530
velSet = 0,0
MoveType = I
PhySics = N
Sprpriority = -4

[State a]
Type = PosAdd
Trigger1 = isHelper(2534)
Trigger1 = !Time
x = -120

[State a]
Type = PosAdd
Trigger1 = isHelper(2535)
Trigger1 = !Time
x = -160

[State a]
Type = PosAdd
Trigger1 = isHelper(2536)
Trigger1 = !Time
x = -200

[State a];速度
Type = velSet
Trigger1 = !Time
x = 15
y = 3

[State a]
Type = velAdd
Trigger1 = 1
y = 0.3

[State a]
Type = NotHitBy
Trigger1 = 1
value = SCA
Time = -1

[State a]
Type = ChangeState
TriggerAll=Vel Y>0
Trigger1 = Pos Y>=0
value = 2535

;---------------------------------------------------------------------------
;(HELPER)背景部下着地
[Statedef 2535]
Type = S
Ctrl = 0
Anim = 2535
velSet = 0,0
MoveType = A
PhySics = N
Sprpriority = -4


[State 2000,6];
Type = PlaySnd
Trigger1 = AnimElem=1
value = 40,0

[State Explod];着地エフェクト
Type = Explod
Trigger1 = !Time
Anim = 6047
ID = 6040
Sprpriority = -5
PosType = P1
Pos = 0,0
BindTime = 1
SuperMove = 0
IgNoreHitPause = 0
under = 0
Scale = 0.7,0.7

[State a];速度
Type = PosSet
Trigger1 = !Time
y = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)ブラッディクロス
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2540]
Type = S
Ctrl = 0
Anim = 2540
velSet = 0,0
MoveType = A
PhySics = N
Sprpriority = -7

[State a]
Type = PosSet
Trigger1 = !Time
x = 0
y = 0

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = 1
var(1) = 5

[State a];透過
Type = Trans
Trigger1 = 1
trans = Addalpha
alpha = var(1),256-var(1)

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(ENEMY)蹴り上げ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2550]
Type = A
MoveType= H
PhySics = N
velSet = -0.5,-11
Sprpriority = -2

[State 700,2];無敵の状態を作る
Type = NotHitBy
Trigger1 = 1
value = SCA

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

[State a]
Type = ChangeAnim
Trigger1 = Time=20
Trigger1 = AnimExist(5060) = 1
value = 5060

[State a]
Type = ChangeAnim
Trigger1 = Time=20
Trigger1 = AnimExist(5061) = 1
value = 5061

[State 821,1]
Type = VelAdd
Trigger1 = 1
y = .5

[State 821,3] 
Type = ChangeState
TriggerAll=Vel Y>0
Trigger1 = Pos Y>=0
value = 2551


;---------------------------------------------------------------------------
;(ENEMY)地面
[Statedef 2551]
Type = A
MoveType= H
PhySics = N
velSet = 0,0
Sprpriority = -2
Anim = 5100

[State a]
Type = PosSet
Trigger1 = !Time
y = 0

[State 700,2];無敵の状態を作る
Type = NotHitBy
Trigger1 = 1
value = SCA

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

[State 5100,10]
Type = PlaySnd
Trigger1 = Time=1
value = F7,(sysvar(1)>5)+ (sysvar(1)>14)

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = AnimExist(5101) = 1
value = 5101


[State a]
Type = ChangeAnim
TriggerAll=AnimExist(5111) = 1
TriggerAll=Anim = 5100 || Anim = 5101
Trigger1 = !AnimTime
Trigger2 = Time=20
value = 5111

[State a]
Type = ChangeAnim
TriggerAll=AnimExist(5110) = 1
TriggerAll=Anim = 5100 || Anim = 5101
Trigger1 = !AnimTime
Trigger2 = Time=20
value = 5110

[State 5100,8]
Type = GameMakeAnim
Trigger1 = Time=1
value = 60+ (sysvar(1)>5)+ (sysvar(1)>14)
Pos = 0,0
under = sysvar(1)<=14

[State a]
Type = ChangeState
Trigger1 = Time=35
value = 2552

[State 821,3] 
Type = SelfState
Trigger1 = Time=600
value = 5100


;---------------------------------------------------------------------------
;(ENEMY)掴みあげられ
[Statedef 2552]
Type = A
MoveType= H
PhySics = N
velSet = 0,0
Sprpriority = -2

[State a]
Type = turn
Trigger1 = !Time
Trigger1 = P2Dist x<0

[State a]
Type = PosAdd
Trigger1 = AnimElem=2
y = -178/2

[State 700,2];無敵の状態を作る
Type = NotHitBy
Trigger1 = 1
value = SCA

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

[State a]
Type = ChangeAnim2
Trigger1 = !Time
value = 2552


;---------------------------------------------------------------------------
;(ENEMY)突かれ
[Statedef 2553]
Type = A
MoveType= H
PhySics = N
velSet = 0,0
Sprpriority = -2

[State 700,2];無敵の状態を作る
Type = NotHitBy
Trigger1 = 1
value = SCA

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

[State a]
Type = ChangeAnim2
Trigger1 = !Time
value = 2553


;---------------------------------------------------------------------------
;(ENEMY)突かれ2
[Statedef 2554]
Type = A
MoveType= H
PhySics = N
velSet = 0,0
Sprpriority = -2

[State 700,2];無敵の状態を作る
Type = NotHitBy
Trigger1 = 1
value = SCA

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

[State a]
Type = ChangeAnim2
Trigger1 = !Time
value = 2554


;---------------------------------------------------------------------------
;(ENEMY)落下
[Statedef 2555]
Type = A
MoveType= H
PhySics = N
velSet = 0,0
Sprpriority = -2

[State a]
Type = PosSet
Trigger1 = !Time
y = 0

[State 700,2];無敵の状態を作る
Type = NotHitBy
Trigger1 = 1
value = SCA

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

[State a]
Type = ChangeAnim2
Trigger1 = !Time
value = 2555

[State a]
Type = ChangeState
Trigger1 = !AnimTime
value = 2556

;---------------------------------------------------------------------------
;(ENEMY)ダウン
[Statedef 2556]
Type = A
MoveType= H
PhySics = N
velSet = 0,0
Sprpriority = -2
Anim = 5100

[State a]
Type = PosSet
Trigger1 = !Time
y = 0

[State 700,2];無敵の状態を作る
Type = NotHitBy
Trigger1 = 1
value = SCA

[State 1];カメラ固定
Type = screenbound
Trigger1 = 1
value = 1
Movecamera = 1

[State 5100,10]
Type = PlaySnd
Trigger1 = Time=1
value = F7,(sysvar(1)>5)+ (sysvar(1)>14)

[State a]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = AnimExist(5101) = 1
value = 5101

[State a]
Type = turn
Trigger1 = !Time
Trigger1 = Anim = 5100


[State 5100,8]
Type = GameMakeAnim
Trigger1 = Time=1
value = 60+ (sysvar(1)>5)+ (sysvar(1)>14)
Pos = 0,0
under = sysvar(1)<=14

[State 821,3] 
Type = ChangeState
Trigger1 = Time=20
Trigger2 = !AnimTime
value = 5150

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;超必殺技
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)七星ゲージ;ヘルパーで表示できたら楽なんだけどなぁ･･･

[Statedef 4000]
Type = A
ctrl = 0
Anim = 4000
velset = 0,0
MoveType = I
physics = N
Sprpriority = 10

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = noshadow
flag2 = invisible

[State -2,a];ゲージ枠
Type = Explod
Trigger1 = Facing=1
Trigger1 = !NumExplod(4000)
Anim = 4000
ID = 4000
PosType = Right
bindTime = -1
Pos = -50,50
Sprpriority = 98
ownpal = 1
Scale = 0.5,0.5

[State -2,a];ゲージ枠
Type = Explod
Trigger1 = Facing=-1
Trigger1 = !NumExplod(4000)
Anim = 4000
ID = 4000
PosType = Left
bindTime = -1
Pos = 50,50
Sprpriority = 98
ownpal = 1
Scale = 0.5,0.5
facing = -1


[State -2,a];星１
Type = Explod
Trigger1 = !Root,var(4)
Trigger1 = Facing=1
Trigger1 = !NumExplod(4001)
Anim = 4001
ID = 4001
PosType = Right
bindTime = -1
Pos = -50,50
Sprpriority = 99
ownpal = 1
Scale = 0.5,0.5

[State -2,a];星１
Type = Explod
Trigger1 = !Root,var(4)
Trigger1 = Facing=-1
Trigger1 = !NumExplod(4001)
Anim = 4001
ID = 4001
PosType = Left
bindTime = -1
Pos = 50,50
Sprpriority = 99
ownpal = 1
Scale = 0.5,0.5
facing = -1

[State a];星１消滅
Type = ReMoveExplod
Trigger1 = Root,var(4)>0
ID = 4001

[State -2,a];星２
Type = Explod
Trigger1 = Root,var(4)<=1
Trigger1 = Facing=1
Trigger1 = !NumExplod(4002)
Anim = 4002
ID = 4002
PosType = Right
bindTime = -1
Pos = -50,50
Sprpriority = 99
ownpal = 1
Scale = 0.5,0.5

[State -2,a];星２
Type = Explod
Trigger1 = Root,var(4)<=1
Trigger1 = Facing=-1
Trigger1 = !NumExplod(4002)
Anim = 4002
ID = 4002
PosType = Left
bindTime = -1
Pos = 50,50
Sprpriority = 99
ownpal = 1
Scale = 0.5,0.5
facing = -1

[State a];星２消滅
Type = ReMoveExplod
Trigger1 = Root,var(4)>1
ID = 4002


[State -2,a];星３
Type = Explod
Trigger1 = Root,var(4)<3
Trigger1 = Facing=1
Trigger1 = !NumExplod(4003)
Anim = 4003
ID = 4003
PosType = Right
bindTime = -1
Pos = -50,50
Sprpriority = 99
ownpal = 1
Scale = 0.5,0.5

[State -2,a];星３
Type = Explod
Trigger1 = Root,var(4)<=2
Trigger1 = Facing=-1
Trigger1 = !NumExplod(4003)
Anim = 4003
ID = 4003
PosType = Left
bindTime = -1
Pos = 50,50
Sprpriority = 99
ownpal = 1
Scale = 0.5,0.5
facing = -1

[State a];星３消滅
Type = ReMoveExplod
Trigger1 = Root,var(4)>2
ID = 4003


[State -2,a];星４
Type = Explod
Trigger1 = Root,var(4)<4
Trigger1 = Facing=1
Trigger1 = !NumExplod(4004)
Anim = 4004
ID = 4004
PosType = Right
bindTime = -1
Pos = -50,50
Sprpriority = 99
ownpal = 1
Scale = 0.5,0.5

[State -2,a];星４
Type = Explod
Trigger1 = Root,var(4)<=3
Trigger1 = Facing=-1
Trigger1 = !NumExplod(4004)
Anim = 4004
ID = 4004
PosType = Left
bindTime = -1
Pos = 50,50
Sprpriority = 99
ownpal = 1
Scale = 0.5,0.5
facing = -1

[State a];星４消滅
Type = ReMoveExplod
Trigger1 = Root,var(4)>3
ID = 4004


[State -2,a];星５
Type = Explod
Trigger1 = Root,var(4)<5
Trigger1 = Facing=1
Trigger1 = !NumExplod(4005)
Anim = 4005
ID = 4005
PosType = Right
bindTime = -1
Pos = -50,50
Sprpriority = 99
ownpal = 1
Scale = 0.5,0.5

[State -2,a];星５
Type = Explod
Trigger1 = Root,var(4)<=4
Trigger1 = Facing=-1
Trigger1 = !NumExplod(4005)
Anim = 4005
ID = 4005
PosType = Left
bindTime = -1
Pos = 50,50
Sprpriority = 99
ownpal = 1
Scale = 0.5,0.5
facing = -1

[State a];星５消滅
Type = ReMoveExplod
Trigger1 = Root,var(4)>4
ID = 4005


[State -2,a];星６
Type = Explod
Trigger1 = Root,var(4)<6
Trigger1 = Facing=1
Trigger1 = !NumExplod(4006)
Anim = 4006
ID = 4006
PosType = Right
bindTime = -1
Pos = -50,50
Sprpriority = 99
ownpal = 1
Scale = 0.5,0.5

[State -2,a];星６
Type = Explod
Trigger1 = Root,var(4)<=5
Trigger1 = Facing=-1
Trigger1 = !NumExplod(4006)
Anim = 4006
ID = 4006
PosType = Left
bindTime = -1
Pos = 50,50
Sprpriority = 99
ownpal = 1
Scale = 0.5,0.5
facing = -1

[State a];星６消滅
Type = ReMoveExplod
Trigger1 = Root,var(4)>5
ID = 4006



[State -2,a];星７
Type = Explod
Trigger1 = Root,var(4)<7
Trigger1 = Facing=1
Trigger1 = !NumExplod(4007)
Anim = 4007
ID = 4007
PosType = Right
bindTime = -1
Pos = -50,50
Sprpriority = 99
ownpal = 1
Scale = 0.5,0.5

[State -2,a];星７
Type = Explod
Trigger1 = Root,var(4)<=6
Trigger1 = Facing=-1
Trigger1 = !NumExplod(4007)
Anim = 4007
ID = 4007
PosType = Left
bindTime = -1
Pos = 50,50
Sprpriority = 99
ownpal = 1
Scale = 0.5,0.5
facing = -1

[State a];星７消滅
Type = ReMoveExplod
Trigger1 = Root,var(4)>6
ID = 4007


[State -2,a];死兆星
Type = Explod
Trigger1 = Root,var(4)=7
Trigger1 = Facing=1
Trigger1 = !NumExplod(4010)
Anim = 4010
ID = 4010
PosType = Right
bindTime = -1
Pos = -50,50
Sprpriority = 99
ownpal = 1
Scale = 0.5,0.5

[State -2,a];死兆星
Type = Explod
Trigger1 = Root,var(4)=7
Trigger1 = Facing=-1
Trigger1 = !NumExplod(4010)
Anim = 4010
ID = 4010
PosType = Left
bindTime = -1
Pos = 50,50
Sprpriority = 99
ownpal = 1
Scale = 0.5,0.5
facing = -1

[State a];死兆星消滅
Type = ReMoveExplod
Trigger1 = Root,var(4)<7
ID = 4010


[State -2,a];死兆星
Type = Explod
Trigger1 = Root,var(4)=7
Trigger1 = Facing=1
Trigger1 = !NumExplod(4020)
Anim = 4020
ID = 4020
PosType = Right
bindTime = -1
Pos = -50,50
Sprpriority = 100
ownpal = 1
Scale = 0.5,0.5

[State -2,a];死兆星
Type = Explod
Trigger1 = Root,var(4)=7
Trigger1 = Facing=-1
Trigger1 = !NumExplod(4020)
Anim = 4020
ID = 4020
PosType = Left
bindTime = -1
Pos = 50,50
Sprpriority = 100
ownpal = 1
Scale = 0.5,0.5
facing = -1

[State a];死兆星消滅
Type = ReMoveExplod
Trigger1 = Root,var(4)<7
ID = 4020

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)ブーストゲージ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 4100]
Type = A
ctrl = 0
Anim = 4100
velset = 0,0
MoveType = I
physics = N
Sprpriority = 10

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = noshadow
flag2 = invisible

[State -2,a];ゲージ枠
Type = Explod
Trigger1 = Facing=1
Trigger1 = !NumExplod(4100)
Anim = 4100
ID = 4100
PosType = Left
bindTime = -1
Pos = 65,225
Sprpriority = 98
ownpal = 1
Scale = 0.5,0.5

[State -2,a];ゲージ枠
Type = Explod
Trigger1 = Facing=-1
Trigger1 = !NumExplod(4100)
Anim = 4101
ID = 4100
PosType = Right
bindTime = -1
Pos = -65,225
Sprpriority = 98
ownpal = 1
Scale = 0.5,0.5
facing = -1

[State -2,a];ゲージ枠2(半透明)
Type = Explod
Trigger1 = Facing=1
Trigger1 = !NumExplod(4105)
Anim = 4105
ID = 4105
PosType = Left
bindTime = -1
Pos = 65,225
Sprpriority = 95
ownpal = 1
Scale = 0.5,0.5

[State -2,a];ゲージ枠2
Type = Explod
Trigger1 = Facing=-1
Trigger1 = !NumExplod(4105)
Anim = 4105
ID = 4105
PosType = Right
bindTime = -1
Pos = -65,225
Sprpriority = 95
ownpal = 1
Scale = 0.5,0.5
facing = -1


[State -2,a];ゲージ１
Type = Explod
Trigger1 = Facing=1
Trigger1 = !NumExplod(4110)
Trigger1 = Root,var(16)>99
Anim = 4110
ID = 4110
PosType = Left
bindTime = -1
Pos = 65,225
Sprpriority = 97
ownpal = 1
Scale = 0.5,0.5

[State -2,a];ゲージ１
Type = Explod
Trigger1 = Facing=-1
Trigger1 = !NumExplod(4110)
Trigger1 = Root,var(16)>99
Anim = 4110
ID = 4110
PosType = Right
bindTime = -1
Pos = -65,225
Sprpriority = 97
ownpal = 1
Scale = 0.5,0.5
facing = -1

[State a];消滅
Type = ReMoveExplod
Trigger1 = Root,var(16)<100
ID = 4110


[State -2,a];ゲージ２
Type = Explod
Trigger1 = Facing=1
Trigger1 = !NumExplod(4111)
Trigger1 = Root,var(16)>=200
Anim = 4111
ID = 4111
PosType = Left
bindTime = -1
Pos = 65,225
Sprpriority = 97
ownpal = 1
Scale = 0.5,0.5

[State -2,a];ゲージ２
Type = Explod
Trigger1 = Facing=-1
Trigger1 = !NumExplod(4111)
Trigger1 = Root,var(16)>=200
Anim = 4111
ID = 4111
PosType = Right
bindTime = -1
Pos = -65,225
Sprpriority = 97
ownpal = 1
Scale = 0.5,0.5
facing = -1

[State a];消滅
Type = ReMoveExplod
Trigger1 = Root,var(16)<200
ID = 4111


[State -2,a];ゲージ３
Type = Explod
Trigger1 = Facing=1
Trigger1 = !NumExplod(4112)
Trigger1 = Root,var(16)=300
Anim = 4112
ID = 4112
PosType = Left
bindTime = -1
Pos = 65,225
Sprpriority = 97
ownpal = 1
Scale = 0.5,0.5

[State -2,a];ゲージ３
Type = Explod
Trigger1 = Facing=-1
Trigger1 = !NumExplod(4112)
Trigger1 = Root,var(16)=300
Anim = 4112
ID = 4112
PosType = Right
bindTime = -1
Pos = -65,225
Sprpriority = 97
ownpal = 1
Scale = 0.5,0.5
facing = -1

[State a];消滅
Type = ReMoveExplod
Trigger1 = Root,var(16)<300
ID = 4112



[State -2,a];ゲージ減少1
Type = Explod
Trigger1 = Facing=1
Trigger1 = !NumExplod(4115)
Trigger1 = Root,var(16)<300
Trigger1 = Root,var(16)>=201
Anim = 4115
ID = 4115
PosType = Left
bindTime = -1
Pos = 85,225
Sprpriority = 97
ownpal = 1
Scale = 0.5,0.5

[State -2,a];ゲージ減少1
Type = Explod
Trigger1 = Facing=-1
Trigger1 = !NumExplod(4115)
Trigger1 = Root,var(16)<300
Trigger1 = Root,var(16)>200
Anim = 4115
ID = 4115
PosType = Right
bindTime = -1
Pos = -84,225
Sprpriority = 97
ownpal = 1
Scale = 0.5,0.5
facing = -1

[State a];消滅
Type = ReMoveExplod
Trigger1 = Root,var(16)<201
Trigger2 = Root,var(16)=300
ID = 4115

[State a]
Type = ModifyExplod
Trigger1 = 1
ID = 4115
Scale = (Root,var(16)-200)*0.005,0.5

[State -2,a];ゲージ減少2
Type = Explod
Trigger1 = Facing=1
Trigger1 = !NumExplod(4116)
Trigger1 = Root,var(16)<200
Trigger1 = Root,var(16)>=101
Anim = 4115
ID = 4116
PosType = Left
bindTime = -1
Pos = 48,225
Sprpriority = 97
ownpal = 1
Scale = 0.5,0.5

[State -2,a];ゲージ減少2
Type = Explod
Trigger1 = Facing=-1
Trigger1 = !NumExplod(4116)
Trigger1 = Root,var(16)<200
Trigger1 = Root,var(16)>=101
Anim = 4115
ID = 4116
PosType = Right
bindTime = -1
Pos = -47,225
Sprpriority = 97
ownpal = 1
Scale = 0.5,0.5
facing = -1

[State a];消滅
Type = ReMoveExplod
Trigger1 = Root,var(16)<101
Trigger2 = Root,var(16)>199
ID = 4116

[State a]
Type = ModifyExplod
Trigger1 = 1
ID = 4116
Scale = (Root,var(16)-100)*0.005,0.5


[State -2,a];ゲージ減少3
Type = Explod
Trigger1 = Facing=1
Trigger1 = !NumExplod(4117)
Trigger1 = Root,var(16)<100
Trigger1 = Root,var(16)>0
Anim = 4115
ID = 4117
PosType = Left
bindTime = -1
Pos = 8,225
Sprpriority = 97
ownpal = 1
Scale = 0.5,0.5

[State -2,a];ゲージ減少3
Type = Explod
Trigger1 = Facing=-1
Trigger1 = !NumExplod(4117)
Trigger1 = Root,var(16)<100
Trigger1 = Root,var(16)>0
Anim = 4115
ID = 4117
PosType = Right
bindTime = -1
Pos = -7,225
Sprpriority = 97
ownpal = 1
Scale = 0.5,0.5
facing = -1

[State a];消滅
Type = ReMoveExplod
Trigger1 = Root,var(16)=0
Trigger2 = Root,var(16)>99
ID = 4117

[State a]
Type = ModifyExplod
Trigger1 = 1
ID = 4117
Scale = Root,var(16)*0.005,0.5

;---------------------------------------------------------------------------
; HITG_SHAKE
[Statedef 5000]
Type = S
MoveType= H
PhySics = N
velset = 0,0

[State 5000]
Type = DestroySelf
Trigger1 = IsHelper

[State 5000,1]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = GetHitVar(AnimType)!=[3,5]
value = ifelse((GetHitVar(GroundType) = 1),5000,5010)+GetHitVar(AnimType)

[State 5000,2]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = GetHitVar(AnimType)=[3,5]
value = 5030

[State 5000,3]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = (GetHitVar(AnimType)=[4,5])&&(SelfAnimExist(5047+GetHitVar(AnimType)))
value = 5047+GetHitVar(AnimType)

[State 5000,4]
Type = ChangeAnim
Trigger1 = Time>0
value = Anim

[State 5000,5]
Type = StateTypeSet
Trigger1 = !Time
Trigger1 = GetHitVar(yvel)!=0||GetHitVar(fall)
Trigger2 = Pos Y!=0
StateType = a

[State 5000,6]
Type = ChangeState
Trigger1 = HitShakeOver
Trigger1 = GetHitVar(yvel) = 0&&!GetHitVar(fall)
value = 5001

[State 5000,7]
Type = ChangeState
Trigger1 = HitShakeOver
value = 5030

[State 5000,FFB Light]
Type = ForceFeedback
Trigger1 = Anim=5000
Trigger2 = Anim=5010
persistent = 0
time = 6
waveform = square

[State 5000,FFB Medium]
Type = ForceFeedback
Trigger1 = Anim=5001
Trigger2 = Anim=5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000,FFB Hard]
Type = ForceFeedback
Trigger1 = Anim=5012
Trigger2 = Anim=5002
Trigger3 = Anim=5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; HITG_Slide
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 5001]
Type = S
MoveType= H
PhySics = S

[State 5000]
Type = DestroySelf
Trigger1 = IsHelper

[State 5001,1]
Type = HitVelSet
Trigger1 = !Time
x = 1

[State 5001,2]
Type = ChangeAnim
Trigger1 = !AnimTime
value = 5005+GetHitVar(AnimType)+(GetHitVar(GroundType)=2)*10

[State 5001,3]
Type = VelMul
Trigger1 = Time>=GetHitVar(Slidetime)
x = .6

[State 5001,4]
Type = VelSet
Trigger1 = HitOver
x = 0

[State 5001,5]
Type = DefenceMulSet
Trigger1 = HitOver
value = 1

[State 5001,6]
Type = ChangeState
Trigger1 = HitOver
Trigger2 = var(58)>1
Trigger2 = Time>16
value = 0
ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; HITA_FALL (kNocked up,falling)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 5050]
Type = A
MoveType= H
PhySics = N

[State 5050]
Type = DestroySelf
Trigger1 = IsHelper

[State 5050,1]
Type = ChangeAnim
Trigger1 = !AnimTime
Trigger1 = Anim=5035
Trigger2 = !Time
Trigger2 = Anim!=5035
Trigger2 = (Anim!=[5051,5059])&&(Anim!=[5061,5069])
Trigger2 = Anim!=5090
value = 5050

[State 5050,2]
Type = ChangeAnim
Trigger1 = Anim=[5050,5059]
Trigger1 = Vel Y>=ifelse(Anim = 5050,1,-2)
Trigger1 = SelfAnimExist(Anim+10)
value = Anim+10
persistent = 0

[State 5050,3]
Type = VelAdd
Trigger1 = 1
y = GetHitVar(yaccel)

[State 5050,4]
Type = ChangeState
TriggerAll=Vel Y>0
TriggerAll=Pos Y>-21
TriggerAll=Alive
TriggerAll=CanRecover
Trigger1 = var(59)<1
Trigger1 = Command="a"||Command="b"||Command="c"||Command="x"||Command="y"||Command="z"
Trigger2 = var(59)>0
Trigger2 = Random<=var(59)*100
Trigger3 = fvar(39)
value = 5200

[State 5050,5]
Type = ChangeState
TriggerAll=Vel Y>=0
TriggerAll=Alive
TriggerAll=CanRecover
Trigger1 = var(59)<1
Trigger1 = Command="a"||Command="b"||Command="c"||Command="x"||Command="y"||Command="z"
Trigger2 = var(59)>0
Trigger2 = Random<=var(59)*100
Trigger3 = fvar(39)
value = 5210

[State 5050,4]
Type = ChangeState
TriggerAll=Vel Y>0
TriggerAll=Pos Y>-21
TriggerAll=Alive
TriggerAll=var(58)>1
TriggerAll=Time>70
Trigger1 = var(59)
Trigger1 = Random<=var(59)*100
Trigger2 = fvar(39)
value = 5200

Type = ChangeState
TriggerAll=Vel Y>=0
TriggerAll=Alive
TriggerAll=var(58)>1
TriggerAll=Time>70
Trigger1 = var(59)
Trigger1 = Random<=var(59)*100
Trigger2 = fvar(39)
value = 5210

[State 5050,6]
Type = ChangeState
Trigger1 = Vel Y>0
Trigger1 = Pos Y>=ifelse((Anim=[5051,5059])||(Anim=[5061,5069]),0,25)
value = 5100

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; HIT_BOUNCE (Hit Ground)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 5100]
Type = L
MoveType= H
PhySics = N

[State 5100,7]
Type = ChangeState
Trigger1 = !ALive
value = 5150

[State 5050]
Type = DestroySelf
Trigger1 = IsHelper

[State 5100,1]
Type = VelSet
Trigger1 = !Time
Trigger1 = GetHitVar(fall.yVel) = 0
Trigger1 = Vel x>1
x = 1

[State 5100,EnvShake]
Type = FallEnvShake
Trigger1 = !Time

[State 5100,Var]
Type = VarSet
Trigger1 = !Time
sysvar(1) = floor(Vel y)

[State 5100,2]
Type = ChangeAnim
TriggerAll=!Time
Trigger1 = (Anim!=[5051,5059])&&(Anim!=[5061,5069])
Trigger2 = !SelfAnimExist(5100+(Anim%10))
value = 5100

[State 5100,3]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = (Anim=[5051,5059])||(Anim=[5061,5069])
Trigger1 = SelfAnimExist(5100+(Anim%10))
value = 5100+(Anim%10)


[State 5100,3];バニシングストライクヒット
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = PrevStateNo=553
Trigger1 = SelfAnimExist(5101)
value = 5101

[State 5100,4]
Type = PosSet
Trigger1 = !Time
y = 0

[State 5100,5]
Type = VelSet
Trigger1 = !Time
y = 0

[State 5100,6]
Type = VelMul
Trigger1 = !Time
x = 0.75

[State 5100,7]
Type = ChangeState
Trigger1 = !Time
Trigger1 = GetHitVar(fall.yVel) = 0
value = 5110

[State 5100,8]
Type = GameMakeAnim
Trigger1 = Time=1
value = 60+(sysvar(1)>5)+(sysvar(1)>14)
Pos = 0,0
under = sysvar(1)<=14

[State 5100,9]
Type = HitFallDamage
Trigger1 = Time=3

[State 5100,10]
Type = PlaySnd
Trigger1 = Time=1
value = F7,(sysvar(1)>5)+(sysvar(1)>14)

[State 5100,11]
Type = PosFreeze
Trigger1 = 1

[State 5100,12]
Type = ChangeState
Trigger1 = !AnimTime
value = 5101

[State 5100,13]
Type = ForceFeedback
Trigger1 = !Time
waveform = sinesquare
ampl = 128,-3,-.2,.005
Time = 20


;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 5101]
type    = L
movetype= H
physics = N

[State 5100,7]
Type = ChangeState
Trigger1 = !ALive
value = 5150

[State 5101,1]
type = ChangeAnim
TriggerAll=!Time
Trigger1 = Anim!=[5101,5109]
Trigger2 = !SelfAnimExist(5160+(Anim%10))
value = 5160

[State 5101,2]
type = ChangeAnim
TriggerAll=!Time
Trigger1 = Anim=[5101,5109]
Trigger1 = SelfAnimExist(5160+(Anim%10))
value = 5160+(Anim%10)

[State 5101,3]
type = HitFallVel
Trigger1 = !Time

[State 5101,4]
type = PosSet
Trigger1 = !Time
y = 20

[State 5101,5]
type = VelAdd
Trigger1 = 1
y = .4

[State 5101,6]
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 12
type = ChangeState
value = 5110

;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 5110]
type    = L
movetype= H
physics = N

[State 5100,7]
Type = ChangeState
Trigger1 = !ALive
value = 5150

[State 5110,EnvShake]
type = FallEnvShake
Trigger1 = !Time

[State 5110,1]
type = ChangeAnim
persistent = 0
Trigger1 = SelfAnimExist(5110+(Anim%10))
Trigger1 = Anim=[5081,5089]
value = 5110+(Anim%10)

[State 5110,2]
type = ChangeAnim
TriggerAll=!Time
TriggerAll=Anim!=[5110,5119]
Trigger1 = Anim!=[5161,5169]
Trigger2 = !SelfAnimExist(5170+(Anim%10))
value = 5170

[State 5110,3]
type = ChangeAnim
TriggerAll=!Time
TriggerAll=Anim!=[5110,5119]
Trigger1 = Anim=[5161,5169]
Trigger1 = SelfAnimExist(5170+(Anim%10))
value = 5170+(Anim%10)

[State 5110,4]
type = HitFallDamage
Trigger1 = !Time

[State 5110,5]
type = PosSet
Trigger1 = !Time
y = 0

[State 5110,Var] ;Get fall velocity
type = VarSet
Trigger1 = !Time
Trigger1 = GetHitVar(fall.yvel)!=0
sysvar(1) = floor(vel y)

[State 5110,6]
type = PlaySnd
Trigger1 = !Time
Trigger1 = !SysVar(0)
value = F7,(sysvar(1) > 5)+(sysvar(1) > 14)

[State 5110,7]
type = GameMakeAnim
Trigger1 = !Time
Trigger1 = !SysVar(0)
value = 60+(sysvar(1) > 5)+(sysvar(1) > 14)
pos = 0,0
under = sysvar(1) <= 14

[State 5110,8]
type = VelSet
Trigger1 = !Time
y = 0

[State 5110,9]
type = ChangeAnim
persistent = 0
TriggerAll=Anim=[5171,5179]
TriggerAll=SelfAnimExist(5110+(Anim%10))
Trigger1 = !AnimTime
Trigger2 = SysVar(0)
value = 5110+(Anim%10)

[State 5110,10] ;For normal
type = ChangeAnim
persistent = 0
TriggerAll=Anim!=[5111,5119]
Trigger1 = !AnimTime
Trigger2 = SysVar(0)
value = 5110

[State 5110,11] ;If just died
type = ChangeState
TriggerAll=!alive
Trigger1 = !AnimTime
Trigger2 = SysVar(0)
Trigger3 = Anim=[5110,5119]
value = 5150

[State 5110,12]
type = VarSet
Trigger1 = SysVar(0)
Trigger1 = !Time
sysvar(0) = 0

[State 5110,13]
type = VelMul
Trigger1 = 1
x = 0.85

[State 5110,14]
type = ForceFeedback
Trigger1 = alive
Trigger1 = !Time
time = 8
ampl = 240
waveform = sine

[State 5110,15]
type = ForceFeedback
Trigger1 = !alive
Trigger1 = !Time
ampl = 200,7,-.467
time = 30
waveform = sine

;---------------------------------------------------------------------------
; HIT_GETUP
[Statedef 5120]
type    = L
movetype= I
physics = N

[State 5100,7]
Type = ChangeState
Trigger1 = !ALive
value = 5150

[State 5120,1a]
type = ChangeAnim
TriggerAll=!Time
Trigger1 = Anim!=[5111,5119]
Trigger2 = !SelfAnimExist(5120+(Anim%10))
value = 5120

[State 5120,1b]
type = ChangeAnim
TriggerAll=!Time
Trigger1 = Anim=[5111,5119]
Trigger1 = SelfAnimExist(5120+(Anim%10))
value = 5120+(Anim%10)

[State 5120,2]
type = VelSet
Trigger1 = !Time
x = 0

[State 5120,3]
type = NotHitBy
Trigger1 = 1
value = SCA
time = 1

[State 5120,4]
type = HitFallSet
Trigger1 = !AnimTime
value = 1

[State 5120,5]
type = NotHitBy
Trigger1 = !AnimTime
value = ,NT,ST,HT
time = 12

[State 5120,6]
type = NotHitBy
Trigger1 = !AnimTime
value2 = SCA
time = 3

[State 5120,7]
type = ChangeState
Trigger1 = !AnimTime
value = 0
ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; HIT_LIEDEAD
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 5150]
Type = L
MoveType= H
PhySics = N
Sprpriority = -3

[State 5150]
Type = DestroySelf
Trigger1 = IsHelper

[State 5150,1]
Type = PosSet
Trigger1 = 1
y = 0

[State 5150,1]
Type = ChangeAnim
TriggerAll=!Time
TriggerAll=SelfAnimExist(5140)
Trigger1 = (Anim!=[5111,5119])&&(Anim!=[5171,5179])
Trigger2 = !SelfAnimExist(5140+(Anim%10))
value = 5140

[State 5150,3]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = (Anim=[5111,5119])||(Anim=[5171,5179])
Trigger1 = SelfAnimExist(5140+(Anim%10))
value = 5140+(Anim%10)

[State 5150,4]
Type = ChangeAnim
persistent = 0
Trigger1 = MatchOver=1
Trigger1 = Anim=[5140,5149]
Trigger1 = SelfAnimExist(Anim+10)
value = Anim+10

[State 5150,5]
Type = ChangeAnim
Trigger1 = !Time
Trigger1 = Anim!=[5140,5159]
Trigger1 = Anim!=[5110,5119]
value = 5110

[State 5150,6]
Type = VelMul
Trigger1 = 1
x = 0.85

[State 5150,7]
Type = VelSet
Trigger1 = Vel x<.05
persistent = 0
x = 0

[State 5150,8]
Type = NotHitBy
Trigger1 = 1
value = SCA
Time = 1

[State 5150,5] ;自決
Type = AssertSpecial
Trigger1 = PrevStateNo=2200
flag = invisible
flag2 = Noshadow

[State 3040,7]
Type = BGPalfx
Trigger1 = PrevStateNo=2200
Trigger1 = var(2)<=1200
Time = 1
Add = 20+var(2),20+var(2),20+var(2)
mul = 120,120,120
color = 256
under = 1

[State a]
Type = varAdd
Trigger1 = PrevStateNo=2200
Trigger1 = var(2)<=1200
var(2) = 20

[State a]
Type = LifeSet
Trigger1 = Name!="SHIN"||var(54)!=GameTime
value = 0
kill = 1
igNorehitpause = 1
absolute = 1

[State a]
Type = PowerAdd
Trigger1 = PrevStateNo=2200
Trigger1 = !Time
value = 99999

[State 5150,5] ;一撃その１
Type = ChangeAnim
Trigger1 = PrevStateNo=2556
Trigger1 = AnimExist(5141)=1
Trigger1 = !Time
value = 5141

[State 5150,5] ;一撃その２
Type = turn
Trigger1 = PrevStateNo=2556
Trigger1 = Anim=5140
Trigger1 = !Time

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; Varのラウンド持ち越し
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 5900]
Type = S

[State a]
Type = varAdd
Trigger1 = !Time
var(4) = -1

[State a]
Type = varSet
Trigger1 = !Time
var(19) = 0

[State a]
Type = varSet
Trigger1 = var(21)=1
Trigger1 = !Time
var(4) = 0

[State a]
Type = varSet
Trigger1 = !Time
var(21) = 0

[State 5900]
Type = VarRangeSet
Trigger1 = 0;!Roundsexisted
farst = 2
last = 59
value = 0

[State 5900]
Type = ChangeState
Trigger1 = RoundNo=1
value = 190

[State 181,1]
Type = NotHitBy
Trigger1 = 1
value = SCA
Time = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; HITA_FALL (kNocked up,fAlling)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 15050]
Type = A
MoveType= H
PhySics = N

[State 5150]
Type = DestroySelf
Trigger1 = IsHelper

[State 5050]
Type = ChangeAnim
Trigger1 = !AnimTime
Trigger1 = Anim=5035
Trigger2 = !Time
Trigger2 = Anim!=5035
Trigger2 = (Anim!=[5051,5059])&&(Anim!=[5061,5069])
Trigger2 = Anim!=5090
value = 5050

[State 5050]
Type = ChangeAnim
Trigger1 = Anim=[5050,5059]
Trigger1 = Vel Y>=ifelse(Anim = 5050,1,-2)
Trigger1 = SelfAnimExist(Anim+10)
value = Anim+10
persistent = 0

[State 5050]
Type = Velset
Trigger1 = !Time
x = GetHitVar(xvel)*ifelse(Facing=1,1,-1)
y = GetHitVar(yvel)

[State 5050]
Type = VelAdd
Trigger1 = 1
y = GetHitVar(yaccel)

[State 5050]
Type = SelfState
TriggerAll=Alive
TriggerAll=CanRecover
Trigger1 = 1
value = 5050

[State 5050]
Type = ChangeState
Trigger1 = Vel Y>0
Trigger1 = Pos Y>=ifelse((Anim=[5051,5059])||(Anim=[5061,5069]),0,25)
value = 15100
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; HIT_BOUNCE (hit Ground)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 15100]
Type = A
MoveType= H
PhySics = N

[State 5150]
Type = DestroySelf
Trigger1 = IsHelper

[State 5100]
Type = velset
Trigger1 = !Time
Trigger1 = GetHitVar(fAll.yvel)=0
Trigger1 = vel x>1
x = 1

[State 5100]
Type = FAllEnvShake
Trigger1 = !Time

[State 5100]
Type = VarSet
Trigger1 = !Time
sysvar(1) = floor(vel y)

[State 5100]
Type = ChangeAnim
TriggerAll=Anim!=5070&&Anim!=5073
TriggerAll=!Time
Trigger1 = (Anim!=[5051,5059])&&(Anim!=[5061,5069])
Trigger2 = !SelfAnimExist(5100+(Anim%10))
value = 5100

[State 5100]
Type = ChangeAnim
TriggerAll=Anim!=5070&&Anim!=5073
Trigger1 = !Time
Trigger1 = (Anim=[5051,5059])||(Anim=[5061,5069])
Trigger1 = SelfAnimExist(5100+(Anim%10))
value = 5100+(Anim%10)

[State 5100]
Type = ChangeAnim
TriggerAll=Anim=5070||Anim=5073
Trigger1 = !Time
value = 5071

[State 5100]
Type = PosSet
Trigger1 = !Time
y = 0

[State 5100]
Type = velset
Trigger1 = !Time
y = 0

[State 5100]
Type = velmul
Trigger1 = !Time
x = 0.75

[State 5100]
Type = ChangeState
Trigger1 = !Time
Trigger1 = GetHitVar(fAll.yvel)=0
value = 15110

[State 5100,]
Type = GameMakeAnim
Trigger1 = Time=1
value = 60+(sysvar(1)>5)+(sysvar(1)>14)
pos = 0,0
under = sysvar(1)<=14

[State 5100]
Type = HitFAllDamage
Trigger1 = Time=3

[State 5100]
Type = PlaySnd
Trigger1 = Time=1
value = F7,(sysvar(1)>5)+(sysvar(1)>14)

[State 5100]
Type = PosFreeze
Trigger1 = 1

[State 5100]
Type = ChangeState
Trigger1 = Pos Y>=0
value = 15101

[State 5100]
Type = ForceFeedback
Trigger1 = !Time
waveform = sinesquare
Ampl = 128,-3,-.2,.005
Time = 20

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; HIT_BOUNCE (bounce into air)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 15101]
Type = A
MoveType= H
PhySics = N

[State 5150]
Type = DestroySelf
Trigger1 = IsHelper

[State 5100]
Type = ChangeAnim
Trigger1 = !Time
value = 5072

[State 5101]
Type = ChangeAnim
TriggerAll=!Time
Trigger1 = Anim!=[5070,5073]
Trigger1 = Anim!=[5101,5109]
Trigger2 = !SelfAnimExist(5160+(Anim%10))
value = 5160

[State 5101]
Type = ChangeAnim
TriggerAll=!Time
Trigger1 = Anim=[5101,5109]
Trigger1 = SelfAnimExist(5160+(Anim%10))
value = 5160+(Anim%10)

[State 5101]
Type = HitFAllVel
Trigger1 = !Time

[State 5101]
Type = PosSet
Trigger1 = !Time
y = 20

[State 5101]
Type = VelAdd
Trigger1 = 1
y = .4

[State 5101]
Type = ChangeState
Trigger1 = Vel Y>0
Trigger1 = Pos Y>=0
value = 15110

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; HIT_LIEDOWN
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 15110]
Type = L
MoveType= H
PhySics = N

[State 5150]
Type = DestroySelf
Trigger1 = IsHelper

[State 15110]
Type = FAllEnvShake
Trigger1 = !Time

[State 15110]
Type = ChangeAnim
persistent = 0
TriggerAll=!Time
Trigger1 = Anim=[5070,5073]
value = 5111

[State 15110]
Type = ChangeAnim
persistent = 0
TriggerAll=!Time
Trigger1 = Anim=[5080,5099]
value = 5110

[State 15110]
Type = ChangeAnim
TriggerAll=!Time
TriggerAll=Anim!=[5110,5119]
Trigger1 = Anim!=[5161,5169]
Trigger2 = !SelfAnimExist(5170+(Anim%10)) 
value = 5170

[State 15110]
Type = ChangeAnim
TriggerAll=!Time
TriggerAll=Anim!=[5110,5119]
Trigger1 = Anim=[5161,5169]
Trigger1 = SelfAnimExist(5170+(Anim%10))
value = 5170+(Anim%10)

[State 15110]
Type = ChangeAnim
value = 5171
TriggerAll=!Time
Trigger1 = Anim=[5070,5073]

[State 15110]
Type = HitFAllDamage
Trigger1 = !Time

[State 15110]
Type = PosSet
Trigger1 = !Time
y = 0

[State 15110]
Type = VarSet
Trigger1 = !Time
Trigger1 = GetHitVar(fAll.yvel)!=0
sysvar(1) = floor(vel y)

[State 15110]
Type = PlaySnd
Trigger1 = !Time
Trigger1 = !SysVar(0)
value = F7,(sysvar(1)>5)+(sysvar(1)>14)

[State 15110]
Type = GameMakeAnim
Trigger1 = !Time
Trigger1 = !SysVar(0)
value = 60+(sysvar(1)>5)+(sysvar(1)>14)
pos = 0,0
under = sysvar(1)<=14

[State 15110]
Type = velset
Trigger1 = !Time
y = 0

[State 15110]
Type = ChangeAnim
persistent=0
TriggerAll=Anim=[5171,5179]
TriggerAll=SelfAnimExist(5110+(Anim%10))
Trigger1 = !AnimTime
Trigger2 = SysVar(0)
value = 5110+(Anim%10)

[State 15110]
Type = ChangeAnim
persistent=0
TriggerAll=Anim!=[5111,5119]
Trigger1 = !AnimTime
Trigger2 = SysVar(0)
value = 5110

[State 15110]
Type = SelfState
TriggerAll=!alive
Trigger1 = Time>0
value = 5150
 
[State 15110]
Type = ChangeState
TriggerAll=alive
Trigger1 = Time>10;60-gethitvar(hitcount)*1.4
value = 15120
 
[State 15110]
Type = VarSet
Trigger1 = SysVar(0)
Trigger1 = !Time
sysvar(0) = 0

[State 15110]
Type = velmul
Trigger1 = 1
x = 0.85

[State 15110]
Type = ForceFeedback
Trigger1 = alive
Trigger1 = !Time
time = 8
ampl = 240
waveform = sine

[State 15110]
Type = ForceFeedback
Trigger1 = !alive
Trigger1 = !Time
ampl = 200,7,-.467
time = 30
waveform = sine

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; HIT_GETUP
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 15120]
Type = L
MoveType= I
PhySics = N
Anim = 5120

[State 5150]
Type = DestroySelf
Trigger1 = IsHelper

[State 5120]
Type = NotHitBy
Trigger1 = 1
value = SCA
time = 1

[State 5120]
Type = NotHitBy
Trigger1 = !AnimTime
value = ,NT,ST,HT
time = 12

[State 5120]
Type = NotHitBy
Trigger1 = !AnimTime
value2 = SCA
time = 3

[State 15120]
Type = SelfState
Trigger1 = !AnimTime
value = 0
ctrl = 1


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;相手制御用当身永久ターゲット取得のためのステート
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 7777]
Type = U
MoveType= A
velset = 0,0

[State 7777]
Type = velset
Trigger1 = 1
y = 0
x = 0

[State 2]
Type = DestroySelf
Trigger1 = IsHelper
IgnoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State 7777,Anim2]
Type = ChangeAnim2
Trigger1 = !IsHelper
value = 7777
IgnoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State -1]
Type = HitDef
Trigger1 = !IsHelper
Attr = C,NP;レアな判定
Damage = 0,0
AnimType = Light
HitFlag = MAFD
Priority = 1,Hit
PauseTime = 0,0
SparkNo = -1
Guard.SparkNo = -1
Sparkxy = 0,0
Ground.Type = High
Air.Type = High
Ground.SlideTime = 0
Ground.HitTime = 0
Air.HitTime = 0
Ground.Velocity = 0
Air.Velocity = 0,0
AirGuard.Velocity = 0,0
Kill = 0
Fall = 0
Air.Fall = 0
Fall.Recover = 0
GetPower = 0
NumHits = 0
IgnoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State 7777,End]
Type = SelfState
TriggerAll=!IsHelper
TriggerAll=NumEnemy>0
Trigger1 = MoveReversed
Trigger2 = Time>0
Trigger3 = Anim!=7777
value = 0
Ctrl = (Enemy,Ctrl)
IgnoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;相手制御用当身永久ターゲット取得のためのステート
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 7779]
Type = U
MoveType = U

[State 7777,End]
Type = SelfState
Trigger1 = 1
value = 0
Ctrl = (Enemy,Ctrl||P2MoveType=H)
IgnoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;相手制御用当身永久ターゲット取得のための当身ヘルパー
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 77777]
Type = U
MoveType= A
Ctrl = 0

[State 7777]
Type = AttackDist
Trigger1 = 1
value = 0
IgnoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State 7777,Anim]
Type = ChangeAnim
Trigger1 = !var(9)
value = 77777
IgnoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State 7777]
Type = ReversalDef
Trigger1 = !var(9)
Trigger1 = PrevStateNo!=77777
Reversal.Attr = C,NP;レアな判定
HitFlag = MADF
Priority = 7
PauseTime = 0,0
NumHits = 0
SparkNo = -1
GetPower = 0
P1StateNo = 77777
P2StateNo = 7779
ID = 77777
IgnoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State 7777,Anim]
Type = ChangeAnim
Trigger1 = var(9)>0
value = 0
IgnoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State 7777]
Type = AssertSpecial
Trigger1 = 1
flag = invisible
IgnoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State 7777];無敵
Type = NotHitBy
Trigger1 = 1
value = SAC,NT,ST,HT,NA,SA,HA,NP,SP,HP,NA,SA,HA
Time = 1
IgnoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;P2用
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State 77777,LifeSet];回復無効化用
Type = varSet
TriggerAll=NumTarget
Trigger1 = Time<1
var(0) = Target,Life
IgnoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State 77777,LifeStop];回復無効化
Type = TargetLifeAdd
TriggerAll=NumTarget
TriggerAll=NumEnemy=1
TriggerAll=(Target,Life-var(0))>0
Trigger1 = Root,var(58)>0
Trigger1 = Root,var(39)>0||Root,var(58)>1
Trigger2 = Root,var(39)>999
value = -(Target,Life-var(0))
absolute = 1
Kill = 0
ID = 0
IgNoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State 77777,LifeSet];回復無効化用
Type = varSet
TriggerAll=NumTarget
Trigger1 = var(0)>=Target,Life
Trigger2 = Root,var(39)=0
var(0) = Target,Life
IgnoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State 77777,LifeSet];毒
Type = varAdd
TriggerAll=NumTarget
TriggerAll=GameTime%10=0
Trigger1 = Root,var(58)>1
Trigger1 = Root,var(39)>0
Trigger2 = Root,var(39)>999
var(0) = -(Target,LifeMax*0.005)
IgnoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State 77777,LifeSet];回復無効化用
Type = varSet
Trigger1 = var(0)<0
var(0) = 0
IgnoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State 77777,LifeSet];確認用
Type = varSet
Trigger1 = NumTarget
var(9) = 1
IgnoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State 77777,LifeSet];確認用
Type = varSet
Trigger1 = Root,ProjHit(77770)=1
var(8) = 1
IgnoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State 77777,LifeStop];挑発効果
Type = TargetPowerAdd
TriggerAll=NumEnemy>0
Trigger1 = NumTarget
Trigger1 = Root,StateNo=199
Trigger1 = Root,Time=1
value = Enemy,PowerMax/2
ID = 0
IgNoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State 77777,LifeStop];挑発効果
Type = TargetPowerAdd
TriggerAll=NumEnemy>0
TriggerAll=NumTarget
Trigger1 = NumHelper(1610)
Trigger1 = Helper(1610),StateNo=1615
Trigger1 = Helper(1610),Time=1
Trigger2 = NumHelper(1611)
Trigger2 = Helper(1611),StateNo=1615
Trigger2 = Helper(1611),Time=1
Trigger3 = NumHelper(1612)
Trigger3 = Helper(1612),StateNo=1615
Trigger3 = Helper(1612),Time=1
Trigger4 = NumHelper(1613)
Trigger4 = Helper(1613),StateNo=1615
Trigger4 = Helper(1613),Time=1
Trigger5 = NumHelper(1614)
Trigger5 = Helper(1614),StateNo=1615
Trigger5 = Helper(1614),Time=1
Trigger6 = NumHelper(1615)
Trigger6 = Helper(1615),StateNo=1615
Trigger6 = Helper(1615),Time=1
Trigger7 = NumHelper(1616)
Trigger7 = Helper(1616),StateNo=1615
Trigger7 = Helper(1616),Time=1
Trigger8 = NumHelper(1617)
Trigger8 = Helper(1617),StateNo=1615
Trigger8 = Helper(1617),Time=1
Trigger9 = NumHelper(1618)
Trigger9 = Helper(1618),StateNo=1615
Trigger9 = Helper(1618),Time=1
Trigger10= NumHelper(1619)
Trigger10= Helper(1619),StateNo=1615
Trigger10= Helper(1619),Time=1
Trigger11= NumHelper(1620)
Trigger11= Helper(1620),StateNo=1615
Trigger11= Helper(1620),Time=1
value = -Enemy,PowerMax/20
ID = 0
IgNoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State 77777,LifeStop];回復無効化
Type = TargetState
TriggerAll=NumTarget
TriggerAll=0;var(0)<1
Trigger1 = Target,StateNo=15120||Target,StateNo!=[15100,15150]
Trigger1 = Target,StateNo=5120||Target,StateNo!=[5100,5150]
value = 5050
ID = 0
IgNoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State 77777,LifeStop];回復無効化
Type = TargetState
TriggerAll=NumTarget
TriggerAll=0;var(0)<1
Trigger1 = Target,StateNo=[15100,15150]
Trigger2 = Target,StateNo=[5100,5150]
value = 5150
ID = 0
IgNoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 50000]
MoveType = I
PhySics = U

[State 50000]
Type = DestroySelf
Trigger1 = IsHelper

[State 50000]
Type = NotHitBy
Trigger1 = 1
value = ,AP
time = 2
IgNoreHitPause = 1

[State 50000]
Type = LifeAdd
Trigger1 = 1
value = -ifelse(GetHitVar(Damage)>4,5,0)
IgNoreHitPause = 1

[State 50000]
Type = CtrlSet
Trigger1 = var(56)=[0,29]
Trigger2 = var(56)=[50,52]
value = 1
IgNoreHitPause = 1

[State 50000]
Type = ChangeState
Trigger1 = 1
value = var(56)
IgNoreHitPause = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;弱攻撃ヒット
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 16000]
Type = A
Ctrl = 0
Anim = 16001
velset = 0,0
MoveType = I
PhySics = N
SprPriority = 7

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = NoShadow

[State a]
Type = Trans
Trigger1 = 0
trans = Add

[State a]
Type = Trans
Trigger1 = 1
Trans = Addalpha
Alpha = 256-Time*20,256

[State Explod];赤
Type = Explod
Trigger1 = !Time
Anim = 16000
ID = 16010
SprPriority = 9
PosType = p1
Pos = 0,0
bindTime = -1
SuperMove = 1
IgnoreHitPause = 1
under = 0
ownpal = 1
Scale = 0.5,0.5
SuperMoveTime = -1
PauseMoveTime = -1

[State a]
Type = DestroySelf
Trigger1 = Time>13

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ヒットスパーク大
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 16096]
Type = A
Ctrl = 0
Anim = 16096
velset = 0,0
MoveType = I
PhySics = N
SprPriority = 7
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
igNoreHitPause = 1

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = varset
Trigger1 = !Time
v = 1
value = random%180

[State a]
Type = Trans
Trigger1 = 1
trans = add

[State a];必殺技ヒット2
Type = Helper
Trigger1 = Time=1
ID = 16097
Name = "hit"
Pos = 0,0
PosType = p1
StateNo = 16097
HelperType = Normal
persistent = 0
igNorehitPause = 1
keyctrl = 0 
ownpal = 1
SuperMoveTime = -1
PauseMoveTime = -1

[State a];必殺技ヒット3
Type = Helper
Trigger1 = Time=1
ID = 0
Name = "hit"
Pos = 0,0
PosType = p1
StateNo = 16095
HelperType = Normal
persistent = 0
igNorehitPause = 1
keyctrl = 0 
ownpal = 1
SuperMoveTime = -1
PauseMoveTime = -1

[State a];必殺技ヒット3
Type = Helper
Trigger1 = Time=1
ID = 1
Name = "hit"
Pos = 0,0
PosType = p1
StateNo = 16095
HelperType = Normal
persistent = 0
igNorehitPause = 1
keyctrl = 0 
ownpal = 1
SuperMoveTime = -1
PauseMoveTime = -1

[State a];必殺技ヒット3
Type = Helper
Trigger1 = Time=1
ID = 2
Name = "hit"
Pos = 0,0
PosType = p1
StateNo = 16095
HelperType = Normal
persistent = 0
igNorehitPause = 1
keyctrl = 0 
ownpal = 1
SuperMoveTime = -1
PauseMoveTime = -1

[State a];必殺技ヒット3
Type = Helper
Trigger1 = Time=1
ID = 3
Name = "hit"
Pos = 0,0
PosType = p1
StateNo = 16095
HelperType = Normal
persistent = 0
igNorehitPause = 1
keyctrl = 0 
ownpal = 1
SuperMoveTime = -1
PauseMoveTime = -1

[State a];必殺技ヒット3
Type = Helper
Trigger1 = Time=1
ID = 4
Name = "hit"
Pos = 0,0
PosType = p1
StateNo = 16095
HelperType = Normal
persistent = 0
igNorehitPause = 1
keyctrl = 0 
ownpal = 1
SuperMoveTime = -1
PauseMoveTime = -1

[State a];必殺技ヒット3
Type = Helper
Trigger1 = Time=1
ID = 5
Name = "hit"
Pos = 0,0
PosType = p1
StateNo = 16095
HelperType = Normal
persistent = 0
igNorehitPause = 1
keyctrl = 0 
ownpal = 1
SuperMoveTime = -1
PauseMoveTime = -1

[State a]
Type = AngleDraw
Trigger1 = 1
scale = 0.6-Time*0.04,0.6-Time*0.04
;1.2-Time*0.08
[State a]
Type = DestroySelf
Trigger1 = Time>14

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;円形の紫衝撃波
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 16097]
Type = A
ctrl = 0
Anim = 16097
velset = 0,0
MoveType = I
physics = N
Sprpriority = 7

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = Trans
Trigger1 = 1
trans = addalpha
alpha = 256-Time*18,256

[State a]
Type = angledraw
Trigger1 = 1
scale = 0.15+Time*0.1,0.15+Time*0.1

[State a]
Type = destroyself
Trigger1 = Time>15

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(Helper)　6方向の線
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 16095]
Type = A
ctrl = 0
Anim = 16095
velset = 0,0
MoveType = I
physics = N
Sprpriority = 7

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = varset
Trigger1 = !Time
v = 1
value = Parent,var(1)

[State a]
Type = varset
Trigger1 = isHelper(0)
v = 2
value = 0

[State a]
Type = varset
Trigger1 = isHelper(1)
v = 2
value = 1

[State a]
Type = varset
Trigger1 = isHelper(2)
v = 2
value = 2

[State a]
Type = varset
Trigger1 = isHelper(3)
v = 2
value = 3

[State a]
Type = varset
Trigger1 = isHelper(4)
v = 2
value = 4

[State a]
Type = varset
Trigger1 = isHelper(5)
v = 2
value = 5

[State a]
Type = Trans
Trigger1 = 1
trans = add

[State a]
Type = velset
Trigger1 = !Time
y = -cos((60*var(2)+var(1))*PI/180)*6
x = -sin((60*var(2)+var(1))*PI/180)*6

[State a]
Type = AngleDraw
Trigger1 = isHelper(0)
Trigger2 = isHelper(1)
Trigger3 = isHelper(2)
Trigger4 = isHelper(3)
Trigger5 = isHelper(4)
Trigger6 = isHelper(5)
scale = 1.1-Time*0.073,1

[State a]
Type = AngleDraw
Trigger1 = isHelper(0)
Trigger2 = isHelper(1)
Trigger3 = isHelper(2)
Trigger4 = isHelper(3)
Trigger5 = isHelper(4)
Trigger6 = isHelper(5)
value = 60*var(2)+var(1)

[State a]
Type = DestroySelf
Trigger1 = Time>14


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;縦斬撃攻撃ヒットスパーク
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 16020]
Type = A
Ctrl = 0
Anim = 16022
velSet = 0,0
MoveType = I
physics = N
SprPriority = 7

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = varSet
Trigger1 = !Time
v = 1
value = -30+Random%61

[State a]
Type = varSet
Trigger1 = !Time
v = 2
value = 20

[State a]
Type = varadd
Trigger1 = Time<6
v = 2
value = -3

[State a]
Type = varadd
Trigger1 = Time>5
v = 2
value = 1

[State a]
Type = Trans
Trigger1 = 1
trans = addalpha
alpha = 256-Time*7,256

[State b]
Type = Helper
Trigger1 = !Time
ID = 16025
Name = "hit"
Pos = 20 , 0
PosType = p1
StateNo = 16025
helperType = Normal
persistent = 0
igNorehitPause = 1
keyCtrl = 0 
ownpal = 1
facing = ifelse(Random%2=1,1,-1)
SuperMoveTime = -1
PauseMoveTime = -1

[State b]
Type = Helper
Trigger1 = Time=4
ID = 16026
Name = "hit"
Pos = -20 , -40
PosType = p1
StateNo = 16025
helperType = Normal
persistent = 0
igNorehitPause = 1
keyCtrl = 0
facing = ifelse(Random%2=1,1,-1)
ownpal = 1
SuperMoveTime = -1
PauseMoveTime = -1

[State a]
Type = AngleSet
Trigger1 = !Time
value = var(1)

[State a]
Type = AngleDraw
Trigger1 = 1
scale = 1.5-var(2)*0.075,0.14+Time*0.14
;scale = 1-var(2)*0.05,0.3+Time*0.4

[State a]
Type = DestroySelf
Trigger1 = var(2)>19

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;横斬撃攻撃ヒットスパーク
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 16021]
Type = A
Ctrl = 0
Anim = 16022
velSet = 0,0
MoveType = I
physics = N
SprPriority = 7

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = varSet
Trigger1 = !Time
v = 1
value = 60+Random%61

[State a]
Type = varSet
Trigger1 = !Time
v = 2
value = 20

[State a]
Type = varadd
Trigger1 = Time<6
v = 2
value = -3

[State a]
Type = varadd
Trigger1 = Time>5
v = 2
value = 1

[State a]
Type = Trans
Trigger1 = 1
trans = addalpha
alpha = 256-Time*7,256

[State b]
Type = Helper
Trigger1 = !Time
ID = 16025
Name = "hit"
Pos = 20 , 0
PosType = p1
StateNo = 16025
helperType = Normal
persistent = 0
igNorehitPause = 1
keyCtrl = 0 
ownpal = 1
facing = ifelse(Random%2=1,1,-1)
SuperMoveTime = -1
PauseMoveTime = -1

[State b]
Type = Helper
Trigger1 = Time=4
ID = 16026
Name = "hit"
Pos = -20,-40
PosType = p1
StateNo = 16025
helperType = Normal
persistent = 0
igNorehitPause = 1
keyCtrl = 0
facing = ifelse(Random%2=1,1,-1)
ownpal = 1
SuperMoveTime = -1
PauseMoveTime = -1

[State a]
Type = AngleSet
Trigger1 = !Time
value = var(1)

[State a]
Type = AngleDraw
Trigger1 = 1
scale = 1.5-var(2)*0.075,0.14+Time*0.14
;scale = 1-var(2)*0.05,0.3+Time*0.4

[State a]
Type = DestroySelf
Trigger1 = var(2)>19

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;斬ヒットスパーク血垂れ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 16025]
Type = A
Ctrl = 0
Anim = 16021
velSet = 0,4
MoveType = I
physics = N
SprPriority = 9

[State a]
Type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State a]
Type = varSet
Trigger1 = !Time
v = 1
value = parent,var(1)

[State a]
Type = varSet
Trigger1 = !Time
v = 2
value = 0

[State a]
Type = varadd
Trigger1 = 1
v = 2
value = 1

[State a]
Type = Trans
Trigger1 = 1
trans = addalpha
alpha = 256-Time*12,256
;alpha = 256-Time*18,256

[State a]
Type = AngleDraw
Trigger1 = ishelper(16021)
scale = 1,1+var(2)*0.1

[State a]
Type = AngleDraw
Trigger1 = ishelper(16022)
scale = 1,.8+var(2)*0.1

[State a];血溜り
Type = ChangeState
Trigger1 = Pos Y>-30
value = 16026
IgNoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State a]
Type = DestroySelf
Trigger1 = var(2)>19

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;(HELPER)血溜り
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 16026]
Type = S
Ctrl = 0
Anim = 2523
velSet = 0,0
MoveType = A
PhySics = N
Sprpriority = -6

[State a]
Type = varSet
Trigger1 = !Time
var(1) = 0

[State a]
Type = varAdd
Trigger1 = 1
var(1) = 1

[State a]
Type = Angledraw
Trigger1 = 1
Scale = 0.0+var(1)*0.03,0.0+var(1)*0.03

[State a]
Type = PosSet
Trigger1 = !Time
y = 0

[State a]
Type = Trans
Trigger1 = var(1)>20
trans = addalpha
alpha = 256-(var(1)-20)*10,256

[State a]
Type = DestroySelf
Trigger1 = var(1)>45

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;-2ステート
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef -2]

[State -2]
Type = HitAdd
Trigger1 = NumHelper(77777+ID)
Trigger1 = Helper(77777+ID),var(9)>0
value = -1

[State -2,P2Ctrl]
Type = Projectile
TriggerAll=NumHelper(77777+ID)
TriggerAll=!Helper(77777+ID),var(8)
TriggerAll=!Helper(77777+ID),var(9)
TriggerAll=NumHelper(30000+ID)
TriggerAll=Helper(30000+ID),var(5)>0
Trigger1 = NumEnemy=1
Trigger1 = Enemy(0),StateNo=0
Attr = S,NT
ProjAnim = 7778
ProjhitAnim = -1
ProjID = 77770
Projpriority = 999999999
ProjSprpriority = 999999999
ProjreMove = 1
ProjreMoveTime = -1
PosType = P1
OffSet = 0,0
velocity = 0
AnimType  = Light
Damage = 0,0
GetPower = 0,0
GivePower = 0,0
GuardFlag = 
HitFlag = MAFD
PauseTime = 0,0
SparkNo = -1
Sparkxy = 0,0 
hitSound   = -1,0
Guard.Sparkno = -1
GuardSound = -1,0
Ground.Type = high
Ground.SlideTime = 0
Ground.HitTime  = 0
Ground.velocity = 0
Air.velocity = 0,0
P2StateNo = 7777
NumHits = 0

[State -2,P2Ctrl]
Type = Projectile
TriggerAll=NumHelper(77777+ID)
TriggerAll=!Helper(77777+ID),var(8)
TriggerAll=NumHelper(30000+ID)
TriggerAll=Helper(30000+ID),var(5)>0
Trigger1 = NumEnemy=1
Trigger1 = Enemy(0),StateNo=0
Trigger1 = Enemy(0),Time=1
Attr = S,NA
ProjAnim = 7778
ProjhitAnim = -1
ProjID = 77770
Projpriority = 999999999
ProjSprpriority = 999999999
ProjreMove = 1
ProjreMoveTime = -1
PosType = P1
OffSet = 0,0
velocity = 0
AnimType  = Light
Damage = 0,0
GetPower = 0,0
GivePower = 0,0
GuardFlag = 
HitFlag = MAFD
PauseTime = 0,0
SparkNo = -1
Sparkxy = 0,0 
hitSound   = -1,0
Guard.Sparkno = -1
GuardSound = -1,0
Ground.Type = high
Ground.SlideTime = 0
Ground.HitTime  = 0
Ground.velocity = 0
Air.velocity = 0,0
P2StateNo = 7777
NumHits = 0

[State -2,P2Ctrl]
Type = Projectile
TriggerAll=NumHelper(77777+ID)
TriggerAll=!Helper(77777+ID),var(8)
TriggerAll=NumHelper(30000+ID)
TriggerAll=Helper(30000+ID),var(5)>0
Trigger1 = NumEnemy=1
Trigger1 = Enemy(0),StateNo=0
Trigger1 = Enemy(0),Time=1
Attr = S,NP
ProjAnim = 7778
ProjhitAnim = -1
ProjID = 77770
Projpriority = 999999999
ProjSprpriority = 999999999
ProjreMove = 1
ProjreMoveTime = -1
PosType = P1
OffSet = 0,0
velocity = 0
AnimType  = Light
Damage = 0,0
GetPower = 0,0
GivePower = 0,0
GuardFlag = 
HitFlag = MAFD
PauseTime = 0,0
SparkNo = -1
Sparkxy = 0,0 
hitSound   = -1,0
Guard.Sparkno = -1
GuardSound = -1,0
Ground.Type = high
Ground.SlideTime = 0
Ground.HitTime  = 0
Ground.velocity = 0
Air.velocity = 0,0
P2StateNo = 7777
NumHits = 0

[State -3];AI起動用ヘルパー
Type=Helper
Trigger1 = !NumHelper(77777+ID)
HelperType = Normal
Name = "AI"
StateNo = 77777
ID = 77777+ID
Pos = 0,0
KeyCtrl = 0
igNoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State -3,HelperTAISAKU];飛び道具確認ﾍﾙﾊﾟｰ
Type = Helper
Trigger1 = !NumHelper(20000+ID)
HelperType = Normal
Name = "HelperTAISAKU1"
StateNo = 20000
ID = 20000+ID
Pos = -60,0
KeyCtrl = 0
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
igNoreHitPause = 1

[State -3]
Type=ChangeState
Trigger1 = IsHelper(20000+ID)
Trigger1 = StateNo!=20000
value = 20000

[State -3,HelperTAISAKU];飛び道具確認ﾍﾙﾊﾟｰ
Type = Helper
Trigger1 = !NumHelper(30000+ID)
HelperType = Normal
Name = "HelperTAISAKU2"
StateNo = 30000
ID = 30000+ID
Pos = 50,0
KeyCtrl = 0
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
igNoreHitPause = 1

[State -3,HelperTAISAKU];飛び道具確認ﾍﾙﾊﾟｰ
Type = Helper
Trigger1 = !NumHelper(40000+ID)
Trigger1 = var(59)>0||fvar(39)
HelperType = Normal
Name = "HelperTAISAKU3"
StateNo = 40000
ID = 40000+ID
Pos = 100,0
KeyCtrl = 0
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
igNoreHitPause = 1

[State -3,HelperTAISAKU];飛び道具確認ﾍﾙﾊﾟｰ
Type = Helper
Trigger1 = !NumHelper(50000+ID)
Trigger1 = var(59)>0||fvar(39)
HelperType = Normal
Name = "HelperTAISAKU4"
StateNo = 50001
ID = 50000+ID
Pos = 150,0
KeyCtrl = 0
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
igNoreHitPause = 1

[State -3,HelperTAISAKU];飛び道具確認ﾍﾙﾊﾟｰ
Type = Helper
Trigger1 = !NumHelper(60000+ID)
Trigger1 = var(59)>0||fvar(39)
HelperType = Normal
Name = "HelperTAISAKU5"
StateNo = 60000
ID = 60000+ID
Pos = 200,0
KeyCtrl = 0
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1
igNoreHitPause = 1

[State -3];回復無効 or 毒タイマー
Type = varAdd
Trigger1 = 1
var(39) = -1

[State -3];タッグ時生死確認
Type = Varset
Trigger1 = NumEnemy=1
var(50) = 0
IgNoreHitPause = 1

[State -3];タッグ時生死確認
Type = Varset
Trigger1 = NumEnemy=2
var(50) = ifelse(EnemyNear(0),Alive,0,1)
IgNoreHitPause = 1

[State -2];右向き設定
Type = varSet
Trigger1 = !var(10)
Trigger1 = facing=1
var(10) = 1

[State -2,a];左向き設定
Type = varSet
Trigger1 = !var(10)
Trigger1 = facing=-1
var(10) = 2

[State -2,1];ダッシュの音止め
Type = StopSnd
Trigger1 = StateNo!=100
channel = 1

[State -2,3]
Type = StopSnd
Trigger1 = MoveType=H
channel = 2

[State -2,4];ハイジャンプ判定
Type = varAdd
Trigger1 = 0
var(15) = -1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;変数設定

[State -2,var(13)=0]
Type = varSet
Trigger1 = MoveType=H
var(13) = 0

[State -2,var(8)=0];カウンターヒット設定
Type = varSet
Trigger1 = P2MoveType=I
Trigger2 = MoveHit
var(8) = 0

[State -2,var(8)=1]
Type = varSet
Trigger1 = P2MoveType=A
var(8) = 1

[State -2,var(8)=0];カウンターヒット設定
Type = varSet
Trigger1 = P2StateType!=L
Trigger1 = P2StateNo!=[15100,15150]
var(7) = 0

[State -2,var(8)=1]
Type = varSet
Trigger1 = P2StateType=L
Trigger2 = P2StateNo=[15100,15150]
var(7) = 1

[State 1505];回復無効　毒　常時効果
Type = varSet
Trigger1 = NumHelper(30000+ID)
Trigger1 = Helper(30000+ID),var(5)>3
var(39) = 9999

[State 1505];回復無効　毒　効果リセット
Type = varSet
Trigger1 = RoundState!=2
Trigger1 = NumHelper(30000+ID)
Trigger1 = Helper(30000+ID),var(5)<4
var(39) = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ダメージ時のエフェクト、サウンドの消去
;ダッシュ終了時のエフェクトの消去


[State 1];ブレスレットのエフェクト消去、主に通常動作
Type = reMoveExplod
Trigger1 = MoveType=H&&StateNo!=[120,155]
ID = 3000

[State 1]
Type = reMoveExplod
Trigger1 = StateNo!=101
ID = 102

[State -2,ID=1860]
Type = reMoveExplod
Trigger1 = MoveType=H
ID = 1860

;ダメージ時のサウンドの消去
[State -2]
Type = StopSnd
Trigger1 = MoveType=H
channel = 1

;ダメージ時のサウンドの消去
[State -2,StopSnd]
Type = StopSnd
Trigger1 = MoveType=H
channel = 4

;ダメージ時の残像の消去
[State -2,afterimageTime]
Type = afterimageTime
Trigger1 = MoveType=H
Trigger2 = StateNo=[1000,2500]
Time = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;画面端ノックバック用　常時摩擦状態vel
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State -3,fv20+=]
Type = varAdd
TriggerAll=NumEnemy>0
Trigger1 = fvar(20)<-EnemyNear(var(50)),Const(Movement.Stand.Friction)
fvar(20) = EnemyNear(var(50)),Const(Movement.Stand.Friction)

[State -3,fv20-=]
Type = varAdd
TriggerAll=NumEnemy>0
Trigger1 = fvar(20)>EnemyNear(var(50)),Const(Movement.Stand.Friction)
fvar(20) = -EnemyNear(var(50)),Const(Movement.Stand.Friction)

[State -3,fv20=0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = fvar(20)!=0
Trigger1 = fvar(20)=[-EnemyNear(var(50)),Const(Movement.Stand.Friction),EnemyNear(var(50)),Const(Movement.Stand.Friction)]
fvar(20) = 0

[State -3,x=fv20]
Type = PosAdd
Trigger1 = fvar(20)!=0
x = fvar(20)

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ヴァイタルソース;GBL
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

;[State -3,v45=LifeMax]
;Type = varSet
;Trigger1 = RoundState=1
;Trigger1 = !GetHitVar(Damage)
;Trigger1 = MoveType!=H
;var(45) = LifeMax

;[State -3,v45=Damage/2]
;Type = varAdd
;Trigger1 = MoveType=H
;Trigger1 = StateNo!=[120,155]
;Trigger1 = GetHitVar(Damage)>9
;var(45) = -(GetHitVar(Damage)/ifelse(var(58)>1,5,2))
;IgNoreHitPause = 1

;[State -3,v45=T_Damage]
;Type = varAdd
;Trigger1 = var(45)>0
;Trigger1 = var(54)!=GameTime
;Trigger1 = (Life-var(46))>0
;Trigger1 = !GetHitVar(Damage)
;var(45) = -(Life-var(46))
;IgNoreHitPause = 1

;[State -3,v45=0]
;Type = varSet
;Trigger1 = var(45)<0
;var(45) = 0

;[State -3,v46=Life]
;Type = varSet
;Trigger1 = 1
;var(46) = Life
;IgNoreHitPause = 1

;[State -3,LifeAdd=1]
;Type = LifeAdd
;Trigger1 = Alive
;Trigger1 = Life>0
;Trigger1 = GameTime%6=0||var(58)>1
;Trigger1 = var(45)>Life
;Trigger1 = P2MoveType!=H||StateNo=[120,155]
;Trigger1 = P2StateType!=L
;value = 1
;IgNoreHitPause = 1
;PauseMoveTime = -1
;SuperMoveTime = -1
;SuperMove = 1

;[State -3,v45=Life]
;Type = varSet
;Trigger1 = var(45)<Life
;Trigger1 = MoveType!=H
;var(45) = Life
;IgNoreHitPause = 1
;PauseMoveTime = -1
;SuperMoveTime = -1
;SuperMove = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;気絶
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State -3,v47Reset1];P2用気絶値 未登録時防御力から算出
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = 1
var(46) = (Enemy(0),Const(Data.Defence)+(Enemy(0),Const(Data.Defence)/10)/2)*0.75

[State -3,v47Reset2];P2用気絶値120　最硬部門
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = Enemy(0),Name="RAOH"
Trigger2 = Enemy(0),Name="potemkin"
Trigger3 = Enemy(0),Name="ROBO-KY1"||Enemy(0),Name="ROBO-KY"||Enemy(0),Name="ROBO-KY MK-U"||Enemy(0),Name="ROBO-KY3"||Enemy(0),Name="ROBO-KY MK-V"
Trigger4 = Enemy(0),Name="Akiha"
Trigger5 = Enemy(0),Name="Neco Chaos Black G666"
var(46) = 120

[State -3,v47Reset3];P2用気絶値100　硬い or ボスキャラ部門
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = Enemy(0),Name="Mr.HEART"
Trigger2 = Enemy(0),Name="justice"
Trigger3 = Enemy(0),Name="judgment"
Trigger4 = Enemy(0),Name="Gill"
Trigger5 = Enemy(0),Name="Alex"||Enemy(0),Name="主人公(笑)"
Trigger6 = Enemy(0),Name="Ceil"
Trigger7 = Enemy(0),Name="White_Len(CPU)"
Trigger8 = Enemy(0),Name="Kishima_kouma"||Enemy(0),Name="Kishima"
Trigger9 = Enemy(0),Name="Nrvnqsr_Chaos"||Enemy(0),Name="Nero"
Trigger10= Enemy(0),Name="cvsg_rugal"
Trigger10= Enemy(0),var(59)>0
Trigger11= Enemy(0),Name="cvsgouki"||Enemy(0),Name="cvsgouki_ex"
Trigger11= Enemy(0),var(12)=10
Trigger11= Enemy(0),var(59)>0
Trigger12= Enemy(0),Name="Vega"||Enemy(0),Name="cvsvega"
Trigger13= Enemy(0),Name="sagat"||Enemy(0),Name="cvssagat"
var(46) = 100

[State -3,v47Reset4];P2用気絶値80 主人公特権部門
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = Enemy(0),Name="Kung Fu Man"||Enemy(0),Name="kfm"
Trigger2 = Enemy(0),Name="KENSHIRO"
Trigger3 = Enemy(0),Name="sol"||Enemy(0),Name="Sol=Badguy"||Enemy(0),Name="order-Sol=Badguy"||Enemy(0),Name="o_sol"||Enemy(0),Name="Ky_and_Sol"
Trigger4 = Enemy(0),Name="Ryu"||Enemy(0),Name="cvsryu"||Enemy(0),Name="cvsryu_ex"||Enemy(0),Name="cvsryu_normal"
Trigger5 = Enemy(0),Name="kyo"||Enemy(0),Name="cvskyo"||Enemy(0),Name="kusanagi_kyo"||Enemy(0),Name="kyo_kusanagi"
Trigger6 = Enemy(0),Name="Reimu_Hakurei"||Enemy(0),Name="Reimu"||Enemy(0),Name="hakureimu"
Trigger7 = Enemy(0),Name="Marisa Kirisame"||Enemy(0),Name="Marisa"||Enemy(0),Name="MegaMari"
Trigger8 = Enemy(0),Name="ROUGA"||Enemy(0),Name="Rouga_Zanma"
Trigger9 = Enemy(0),Name="Ash"
Trigger10= Enemy(0),Name="Goku"||Enemy(0),Name="GokuHR"||Enemy(0),Name="Songoku"
Trigger11= Enemy(0),Name="jotaro"
Trigger12= Enemy(0),Name="shiki_tohno"||Enemy(0),Name="shiki"||Enemy(0),Name="Tohno&Nanaya"
Trigger13= Enemy(0),Name="Sion_Eltnam_Atlasia"||Enemy(0),Name="Sion"||Enemy(0),Name="Sion TATARI"
var(46) = 80

[State -3,v47Reset5];P2用気絶値75 好敵手 or 普通 部門 
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = Enemy(0),Name="SHIN"||Enemy(0),Name="Shin Aino"
Trigger2 = Enemy(0),Name="REI"
Trigger3 = Enemy(0),Name="JAGI"
Trigger4 = Enemy(0),Name="Ky=kiske"||Enemy(0),Name="ky"
Trigger5 = Enemy(0),Name="johnny"
Trigger6 = Enemy(0),Name="eddie"
Trigger7 = Enemy(0),Name="SLAYER"
Trigger8 = Enemy(0),Name="MAY"
Trigger9 = Enemy(0),Name="gg_venom"
Trigger10= Enemy(0),Name="A.B.A"
Trigger11= Enemy(0),Name="AXL"
Trigger12= Enemy(0),Name="dizzy"
Trigger13= Enemy(0),Name="faust"
Trigger14= Enemy(0),Name="ZAPPA"
Trigger15= Enemy(0),Name="testament"
Trigger16= Enemy(0),Name="I-NO"
Trigger17= Enemy(0),Name="jam"
Trigger18= Enemy(0),Name="anji mito"||Enemy(0),Name="anji"
Trigger19= Enemy(0),Name="Arcueid"
Trigger20= Enemy(0),Name="CHIEL"||Enemy(0),Name="Ciel"
Trigger21= Enemy(0),Name="Aoko Aozaki"||Enemy(0),Name="Aoko"
Trigger22= Enemy(0),Name="Hisui"
Trigger23= Enemy(0),Name="Kohaku"
Trigger24= Enemy(0),Name="Warachia"
Trigger25= Enemy(0),Name="White_Len"
Trigger26= Enemy(0),Name="Shiki_Nanaya"||Enemy(0),Name="Nanaya"
Trigger27= Enemy(0),Name="ken"||Enemy(0),Name="cvsken"
Trigger28= Enemy(0),Name="DIO"||Enemy(0),Name="Shadow DIO"
var(46) = 75

[State -3,v47Reset6];P2用気絶値70 薄い部門
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = Enemy(0),Name="THOUTHER"
Trigger2 = Enemy(0),Name="TOKI"||Enemy(0),Name="TOKI-(NERICYA)"||Enemy(0),Name="AMIBA"
Trigger3 = Enemy(0),Name="JUDA"||Enemy(0),Name="JUDA-(NERICYA)"
Trigger4 = Enemy(0),Name="millia"
Trigger5 = Enemy(0),Name="baiken"
Trigger6 = Enemy(0),Name="BRIDGET"
Trigger7 = Enemy(0),Name="Len"
Trigger8 = Enemy(0),Name="Red_Arcueid"||Enemy(0),Name="Warcueid"
Trigger9 = Enemy(0),Name="Arima_Miyako"||Enemy(0),Name="Miyako"
Trigger10= Enemy(0),Name="Hong Meirin"||Enemy(0),Name="Meirin"
var(46) = 70

[State -3,v47Reset7];P2用気絶値60　紙部門
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = Enemy(0),Name="chipp"
Trigger2 = Enemy(0),Name="MAMIYA"||Enemy(0),Name="MAMIYA(NERICYA)"
Trigger3 = Enemy(0),Name="twelve"
Trigger4 = Enemy(0),Name="gouki"||Enemy(0),Name="cvsgouki_normal"||Enemy(0),Name="Shin Gouki"||Enemy(0),Name="Pocket Shin Gouki"
Trigger5 = Enemy(0),Name="cvsgouki"||Enemy(0),Name="cvsgouki_ex"
Trigger5 = Enemy(0),var(12)!=10||!Enemy(0),var(59)
Trigger6 = Enemy(0),Name="kliff"
Trigger7 = Enemy(0),Name="Akiha_Vermilion"||Enemy(0),Name="Akaakiha"
Trigger8 = Enemy(0),Name="Neko_Arc"||Enemy(0),Name="Neko_Arc_chaos"||Enemy(0),Name="Neko_chaos"
Trigger9 = Enemy(0),Name="cvsg_rugal"
Trigger10= !Enemy(0),var(59)
var(46) = 60

;TriggerAll=RoundState=1||Enemy(0),StateNo=25150
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;P4用
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State -3,v48Reset1];P4用気絶値
Type = varSet
TriggerAll=RoundState=1||Enemy(1),StateNo=25150
Trigger1 = NumEnemy=2
var(48) = (Enemy(1),Const(Data.Defence)+(Enemy(1),Const(Data.Defence)/10)/2)*0.75

[State -3,v48Reset2];P4用気絶値120
Type = varSet
TriggerAll=NumEnemy=2
TriggerAll=RoundState=1||Enemy(1),StateNo=25150
Trigger1 = Enemy(1),Name="RAOH"
var(48) = 120

[State -3,v48Reset3];P4用気絶値100
Type = varSet
TriggerAll=NumEnemy=2
TriggerAll=RoundState=1||Enemy(1),StateNo=25150
Trigger1 = Enemy(1),Name="Mr.HEART"
var(48) = 100

[State -3,v48Reset4];P4用気絶値80
Type = varSet
TriggerAll=NumEnemy=2
TriggerAll=RoundState=1||Enemy(1),StateNo=25150
Trigger1 = Enemy(1),Name="KENSHIRO"
var(48) = 80

[State -3,v48Reset5];P4用気絶値
Type = varSet
TriggerAll=NumEnemy=2
TriggerAll=RoundState=1||Enemy(1),StateNo=25150
Trigger1 = Enemy(1),Name="SHIN"||Enemy(1),Name="Shin Aino"
Trigger2 = Enemy(1),Name="REI"
Trigger3 = Enemy(1),Name="JAGI"
var(48) = 75

[State -3,v48Reset6];P4用気絶値70
Type = varSet
TriggerAll=NumEnemy=2
TriggerAll=RoundState=1||Enemy(1),StateNo=25150
Trigger1 = Enemy(1),Name="THOUTHER"
Trigger2 = Enemy(1),Name="TOKI"||Enemy(1),Name="TOKI-(NERICYA)"||Enemy(1),Name="AMIBA"
Trigger3 = Enemy(1),Name="JUDA"||Enemy(1),Name="JUDA-(NERICYA)"
var(48) = 70

[State -3,v48Reset7];P4用気絶値60
Type = varSet
TriggerAll=NumEnemy=2
TriggerAll=RoundState=1||Enemy(1),StateNo=25150
Trigger1 = Enemy(1),Name="MAMIYA"||Enemy(1),Name="MAMIYA(NERICYA)"
var(47) = 60

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;コンボによるダメージ補正
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;連続技補正

[State -3,fv5=1.0]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),GetHitvar(Hitcount)=0
fvar(5) = 1.0

[State -3,fv5=.9]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),GetHitvar(HitCount)=1
fvar(5) = .9

[State -3,fv5=.9]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),GetHitvar(HitCount)=2
fvar(5) = .8

[State -3,fv5=0.8]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),GetHitvar(HitCount)=3
fvar(5) = .7

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),GetHitvar(HitCount)=4
fvar(5) = .6

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),GetHitvar(HitCount)=5
fvar(5) = .5

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),GetHitvar(HitCount)=6
fvar(5) = .4

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),GetHitvar(HitCount)=7
fvar(5) = .3

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),GetHitvar(HitCount)=8
fvar(5) = .2

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),GetHitvar(HitCount)=9
fvar(5) = .1

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),GetHitvar(HitCount)=10
fvar(5) = .09

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),GetHitvar(HitCount)=11
fvar(5) = .08

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),GetHitvar(HitCount)=12
fvar(5) = .07

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),GetHitvar(HitCount)=13
fvar(5) = .06

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),GetHitvar(HitCount)>13
fvar(5) = .05

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;エリアル補正

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),GetHitvar(Hitcount)=[0,3]
fvar(3) = 0.5

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),GetHitvar(Hitcount)=[4,6]
fvar(3) = 0.2

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),GetHitvar(Hitcount)>6
fvar(3) = 0.1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;バニシング補正

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = var(11)>0
Trigger1 = EnemyNear(var(50)),GetHitvar(Hitcount)=[0,3]
fvar(4) = 0.5

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = var(11)>0
Trigger1 = EnemyNear(var(50)),GetHitvar(Hitcount)=[4,6]
fvar(4) = 0.4

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = var(11)>0
Trigger1 = EnemyNear(var(50)),GetHitvar(Hitcount)>6
fvar(4) = 0.3

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;リセット

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),MoveType!=H
fvar(3) = 1.0

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),MoveType!=H
fvar(4) = 1.0

[State a]
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),MoveType!=H
fvar(5) = 1.0

;ネバリ補正関係
[State a];第一段階
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),Life>499
var(26) = 0

[State a];第二段階
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),Life=[334,499]
var(26) = 1

[State a];第三段階
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),Life=[250,333]
var(26) = 2

[State a];第四段階
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),Life<249
var(26) = 3

[State a];リセット
Type = varSet
Trigger1 = 1
fvar(0) = 1.0

[State a]
Type = varSet
Trigger1 = 1
fvar(2) = 0.0

[State a]
Type = varSet
Trigger1 = var(14)>=1
fvar(2) = 0.1

[State a];補正
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),MoveType=H
fvar(0) = fvar(5)

[State a];補正・エリアル
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),MoveType=H
Trigger1 = !var(11)
Trigger1 = EnemyNear(var(50)),StateType=A
fvar(0) = fvar(5)*fvar(3)

[State a];補正・バニシングストライク
Type = varSet
TriggerAll=NumEnemy>0
TriggerAll=EnemyNear(var(50)),MoveType=H
Trigger1 = var(11)>0
fvar(0) = fvar(5)*fvar(4)

[State a];ねばり補正
Type = AttackmulSet
Trigger1 = 1
value = 1

[State a];相手防御無視用110%以上のときのみ
Type = AttackmulSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),Const(Data.Life)/10+EnemyNear(var(50)),Const(Data.Defence)>220
value = (EnemyNear(var(50)),Const(Data.Life)/1000*EnemyNear(var(50)),Const(Data.Defence)/100)*0.9

[State a];ねばり補正
Type = varSet
Trigger1 = !var(26)
fvar(6) = 1

[State a];ねばり補正
Type = varSet
Trigger1 = var(26)=1
fvar(6) = 0.85

[State a];ねばり補正
Type = varSet
Trigger1 = var(26)=2
fvar(6) = 0.8

[State a];ねばり補正
Type = varSet
Trigger1 = var(26)=3
fvar(6) = 0.75

[State a];ゲージ補正(蓄積バグ込み)
Type = varAdd
Trigger1 = P2MoveType=H
fvar(7) = 0.01

[State a];ゲージ補正(蓄積バグ込み)
Type = varSet
TriggerAll=NumEnemy>0
TriggerAll=P2MoveType!=H
Trigger1 = P2StateNo!=0
Trigger2 = EnemyNear(var(50)),Time>0
Trigger3 = EnemyNear(var(50)),Name="JUDA-(NERICYA)"
Trigger4 = EnemyNear(var(50)),Name="JUDA"
Trigger5 = EnemyNear(var(50)),Name="juda"
fvar(7) = 0

[State a]
Type = DefenceMulSet
Trigger1 = var(14)=1
value = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;勝利時のサウンドストップ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State 1]
Type = AssertSpecial
Trigger1 = var(21)>0
flag = Nomusic
IgNoreHitPause = 1

[State 1]
Type = varSet
Trigger1 = RoundState!=2
var(26) = 0

[State a]
Type = StopSnd
Trigger1 = RoundState=2
channel = 2
IgNoreHitPause = 1

[State a];イントロ時ボイスの消去
Type = StopSnd
Trigger1 = RoundState=2
channel = 5
IgNoreHitPause = 1

[State a]
Type = PlaySnd
Trigger1 = LoseKO
Trigger1 = RoundState=3
Trigger1 = !var(12)
Trigger1 = PrevStateNo!=2200
IgNoreHitPause = 1
persistent = 0
value = 12,0+(Random%2)

[State a]
Type = varSet
Trigger1 = RoundState=3
IgNoreHitPause = 1
var(12) = 1

[State a]
Type = varSet
Trigger1 = RoundState=2
IgNoreHitPause = 1
var(12) = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;相手落下速度
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State a]
Type = varSet
Trigger1 = P2MoveType!=H
var(3) = 0
IgNoreHitPause = 1

[State a]
Type = varAdd
TriggerAll=!EnemyNear(var(50)),Time
Trigger1 = MoveContAct=1
Trigger1 = P2StateType=A
var(3) = 1
IgNoreHitPause = 1

[State -3];ヒット数用
Type = varAdd
TriggerAll=NumEnemy>0
TriggerAll=!IsHelper
TriggerAll=!EnemyNear(var(50)),Time
TriggerAll=HitPauseTime>0
Trigger1 = MoveHit=1
Trigger2 = NumHelper(2010)
Trigger2 = Helper(2010),MoveHit=1
Trigger3 = NumHelper(2060)
Trigger3 = Helper(2060),MoveHit=1
Trigger4 = NumHelper(2080)
Trigger4 = Helper(2080),MoveHit=1
var(20) = 1
IgNoreHitPause = 1

[State -3]
Type = varSet
Trigger1 = P2MoveType!=H
var(20) = 0
IgNoreHitPause = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State a]
Type = ChangeState
Trigger1 = PrevStateNo=188
value = 188

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State a];七星ゲージ
Type = Helper
Trigger1 = !NumHelper(4000)
Trigger1 = NumHelper(30000+ID)
Trigger1 = Helper(30000+ID),var(0)
ID = 4000
Name = "sichisei"
Sprpriority = 10
Pos = -50,-160
PosType = front
StateNo = 4000
HelperType = Normal
PauseMoveTime = 0
bindTime = -1
keyCtrl = 0 
Ownpal = 1

[State a]
Type = varSet
Trigger1 = var(4)<0
var(4) = 0

[State a]
Type = varSet
Trigger1 = var(4)>6
var(4) = 7

[State a];ブーストゲージ
Type = Helper
Trigger1 = !NumHelper(4100)
ID = 4100
Name = "boost"
Sprpriority = 10
Pos = 50,-160
PosType = back
StateNo = 4100
HelperType = Normal
PauseMoveTime = 0
bindTime = -1
keyCtrl = 0 
Ownpal = 1

[State a]
Type = varSet
Trigger1 = var(16)<0
var(16) = 0

[State a]
Type = varSet
Trigger1 = var(16)>299
var(16) = 300

[State a]
Type = varAdd
TriggerAll=GameTime%2
TriggerAll=var(23)>0
Trigger1 = var(16)=[201,299]
Trigger2 = var(16)=[101,199]
Trigger3 = var(16)=[1,99]
var(16) = -1

[State a];ゲージ減少フラグストップ
Type = varSet
Trigger1 = var(16)=300
Trigger2 = var(16)=200
Trigger3 = var(16)=100
Trigger4 = !var(16)
var(23) = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;金用
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State a];ノーマルモード
Type = varSet
Trigger1 = PalNo=[1,6]
var(58) = 0
IgNoreHitPause = 1

[State a];強化モード
Type = varSet
Trigger1 = PalNo=[7,11]
Trigger2 = NumHelper(30000+ID)
Trigger2 = !Helper(30000+ID),var(4)
Trigger2 = PalNo=12
var(58) = 1
IgNoreHitPause = 1

[State a];金モード
Type = varSet
Trigger1 = PalNo=12
Trigger1 = NumHelper(30000+ID)
Trigger1 = Helper(30000+ID),var(4)
var(58) = 2
IgNoreHitPause = 1

;[State -3];ハイパーアーマー用;GBL
;Type = varSet
;TriggerAll=var(58)>1
;Trigger1 = MoveType!=H
;Trigger1 = StateNo!=50000
;Trigger1 = var(54)=GameTime
;var(56) = StateNo

;[State -3];ハイパーアーマー;GBL
;Type = HitOverride
;TriggerAll=var(58)>1
;TriggerAll=MoveType!=H
;Trigger1 = StateNo!=[120,155]
;StateNo = 50000
;Attr = SAC,NP,SP,HP
;Time = 1
;IgNoreHitPause = 1

;[State -3];ハイパーアーマー;GBL
;Type = HitOverride
;TriggerAll=NumEnemy>0
;TriggerAll=var(58)>1
;TriggerAll=MoveType!=H
;TriggerAll=EnemyNear(var(50)),Ctrl||P2MoveType!=A||P2StateNo<200
;Trigger1 = StateNo!=[120,155]
;StateNo = 50000
;Attr = SAC,NA,SA,HA,AA,NP,SP,HP,AP,NT,ST,HT,AT
;Time = 1
;IgNoreHitPause = 1

;[State -2];当身無効立;GBL
;Type = SelfState
;Trigger1 = var(58)>1
;Trigger1 = MoveReversed>0
;value = 50000
;IgNoreHitPause = 1

;[State -2];GBL
;Type = NotHitBy
;Trigger1 = var(58)>1
;value = ,AT
;Time = 1
;IgNoreHitPause = 1

[State -3]
Type = NotHitBy
TriggerAll=var(58)>1
Trigger1 = StateNo=2000
Trigger2 = StateNo=1100
Trigger3 = StateNo=1400
Trigger4 = StateNo=1500
Trigger4 = Anim!=[1500,1502]
Trigger5 = StateNo=290
value = SCA
Time = 1
IgNoreHitPause = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;無想転生関連
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -2];var(41)
Type = VarSet
Trigger1 = var(41)>19
var(41) = 0

[State -2]
Type = VarSet
TriggerAll=!var(41)
Trigger1 = var(59)<1
Trigger1 = Command="fwd"
Trigger1 = Command!="holddown"
Trigger1 = Command!="holdup"
var(41) = 1

[State -2]
Type = VarAdd
Trigger1 = Var(41)>0
var(41) = 1
IgNoreHitPause = 1

[State -2];無想転生移動
Type = HitOverride
TriggerAll=NumEnemy>0
TriggerAll=StateType!=A
TriggerAll=Ctrl
TriggerAll=var(57)>0||var(58)>1
Trigger1 = Var(41)=[1,7]
Trigger2 = var(59)>0
Trigger2 = Random<var(59)*(34+EnemyNear(var(50)),Time)||var(59)>10
Trigger3 = fvar(39)
slot = 0
StateNo = ifelse(var(58)>0,2601,2600)
Attr = SCA,NA,SA,HA,NP,SP,HP
Time = 1

[State -2];初期化
Type = VarSet
Trigger1 = RoundState!=2
Trigger2 = var(57)<0
var(57) = 0

[State -2,Pal]
Type = PalFX
Trigger1 = var(57)>0
Trigger1 = var(58)<2
Trigger1 = Anim!=[2600,2601]
Time = 1
Add = Ceil(200-Abs(127*Cos(GameTime*0.2))),0,Ceil(200-Abs(127*Cos(GameTime*0.2)));GameTime%15*16
Mul= 256,256,256
invertall = 0
color = 256
IgNoreHitPause = 1

;無想転生関連終了
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;☆取り制御

[State a];ﾊﾞﾆｼﾝｸﾞ
Type = varSet
Trigger1 = P2MoveType!=H
var(31) = 0
IgNoreHitPause = 1

[State a];ﾍｳﾞｨｰﾊﾞﾆｼﾝｸﾞ
Type = varSet
Trigger1 = P2MoveType!=H
var(32) = 0
IgNoreHitPause = 1

[State a];ﾍｳﾞｨｰｽﾄﾗｲｸ
Type = varSet
Trigger1 = P2MoveType!=H
var(33) = 0
IgNoreHitPause = 1

[State a];グレイヴ
Type = varSet
Trigger1 = P2MoveType!=H
var(34) = 0
IgNoreHitPause = 1

[State a];南斗迫破斬
Type = varSet
Trigger1 = P2MoveType!=H
var(35) = 0
IgNoreHitPause = 1

[State a];南斗ゲイザー
Type = varSet
Trigger1 = P2MoveType!=H
var(36) = 0
IgNoreHitPause = 1

;☆取り制御
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;元-3
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -3]
Type = PosSet
Trigger1 = !Time
Trigger1 = PrevStateNo=500
Trigger1 = StateType!=A
y = 0

[State a]
Type = VelSet
Trigger1 = !Time
Trigger1 = PrevStateNo=500
Trigger1 = StateType!=A
y = 0

[State -3,Landing Sound]
Type = PlaySnd
TriggerAll=Time=1
Trigger1 = StateNo=52
Trigger2 = StateNo=107 
Trigger3 = StateNo=103 
value = 40,0

[State Explod];着地エフェクト
Type = Explod
TriggerAll=Time=1
Trigger1 = StateNo=52 
Anim = 6047
ID = 6040
Sprpriority = -5
PosType = P1
Pos = 0,0
bindTime = 1
SuperMove = 0
IgNoreHitPause = 0
under = 0
Scale = 0.7,0.7

[State -3,2];ジャンプ音
Type = PlaySnd
TriggerAll=Time = 1
Trigger1 = StateNo=40 
Trigger1 = var(15)<=0
value = 40,1
channel = 3

[State -3,2];ジャンプ音
Type = PlaySnd
TriggerAll=Time = 1
Trigger1 = StateNo=40 
Trigger1 = var(15)>1
value = 40,2
channel = 3

[State Explod];ジャンプエフェクト
Type = Explod
TriggerAll=Time=1
Trigger1 = StateNo=40 
Trigger1 = !Pos y
Anim = 6040
ID = 6040
Sprpriority = 5
PosType = P1
Pos = 0,0
bindTime = 1
SuperMove = 0
IgNoreHitPause = 0
under = 0

[State -3,Landing Sound]:
Type = PlaySnd
TriggerAll=Time = 1
;Trigger1 = StateNo=100 
Trigger1 = StateNo=105 
value = 105,0

;ダメージ時のエフェクトの消去
[State 1]
Type = reMoveExplod
Trigger1 = MoveType=H
ID = 2405

;ダメージ時のエフェクトの消去
[State 1]
Type = reMoveExplod
Trigger1 = MoveType=H
ID = 1000

[State a];残像消去
Type = AfterimageTime
Trigger1 = MoveType=H
Time = 0

[State -2]
Type = PlayerPush
Trigger1 = MoveType!=H
Trigger1 = P2StateType!=A
Trigger1 = P2BodyDist Y!=[-30,30]
Trigger1 = StateNo<1000
value = 0

[State -3,5];ハイジャンプ判定
Type = varSet
Trigger1 = StateNo=10
Trigger1 = !Time
var(15) = 1

[State -2]
Type = varSet
Trigger1 = StateType=S||StateType=C
Trigger1 = StateNo!=[39,41]
Trigger2 = MoveType=H
var(15) = 0
igNoreHitPause = 1

[State -3,5];2段ジャンプ消去
Type = VarSet
Trigger1 = StateType!=A
var(24) = 0

[State -3,5]
Type = VelSet
Trigger1 = StateNo=50
Trigger1 = Anim=42
Trigger1 = Time=1
Trigger1 = var(15)>0
x = 5

[State -3,5]
Type = VelSet
Trigger1 = StateNo=50
Trigger1 = Anim=43
Trigger1 = Time=1
Trigger1 = var(15)>0
x = -5

[State -3,5]
Type = VelSet
Trigger1 = StateNo=50
Trigger1 = Time=1
Trigger1 = 0;var(15)>0
y = -15

[State -2]
Type = AfterImage
Trigger1 = StateType!=A
trans = Add
Time = 1
PalAdd = 0,0,0
Palmul = 0,0,0
Palcontrast = 0,0,0
igNoreHitPause = 1

[State -2,var(9)=1];グレイブシュート判定
Type = varset
Trigger1 = PrevStateNo=300||PrevStateNo=1200
Trigger1 = StateNo=41
Trigger2 = PrevStateNo=1520
var(9) = 1
IgNoreHitPause = 1

[State -2,var(9)=0];グレイブシュート判定
Type = varset
Trigger1 = P2MoveType!=H
Trigger2 = StateNo=[200,450]
Trigger2 = StateNo!=300
Trigger2 = StateType!=A
Trigger2 = MoveHit
Trigger3 = StateNo=2500
var(9) = 0
IgNoreHitPause = 1

[State -3,5];グレイブシュート攻撃ヒット
Type = VelSet
Trigger1 = MoveContAct=1
Trigger1 = var(9)>0
Trigger1 = !var(11)
y = -5.0

[State -3];グレ仕込み用
Type = VelAdd
Trigger1 = StateType!=A
Trigger1 = Pos Y<0
Trigger1 = MoveContAct!=1
y = GetHitVar(yaccel)

[State -3]
Type = Width
Trigger1 = FrontEdgeDist<8
Trigger1 = MoveType!=H
Edge = 5

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[State -3,5];バニシングストライク判定
Type = varSet
TriggerAll=NumEnemy>0
Trigger1 = EnemyNear(var(50)),MoveType!=H
Trigger2 = (P2StateNo=[5100,5120])||(P2StateNo=[15100,15120])
Trigger3 = StateNo=2000
Trigger3 = MoveHit
Trigger4 = StateNo=[2102,2103]
Trigger4 = MoveHit
Trigger5 = NumHelper(2060)
Trigger5 = Helper(2060),MoveHit
Trigger6 = NumHelper(2080)
Trigger6 = Helper(2080),MoveHit
var(11) = 0

[State a];相手強制気絶用ステート
Type = TargetState
Trigger1 = NumEnemy=1
Trigger1 = MoveHit=1
Trigger1 = !var(11)
Trigger1 = 0;P2StateType=A
value = 25150

[State 1100];バニ判定
Type = varSet
TriggerAll=NumEnemy>0
TriggerAll=MoveHit=1
TriggerAll=!EnemyNear(var(50)),Time
Trigger1 = StateNo=1100||StateNo=321
Trigger1 = EnemyNear(var(50)),StateNo=5020
Trigger1 = (EnemyNear(var(50)),PrevStateNo!=[5000,5300])
Trigger1 = (EnemyNear(var(50)),PrevStateNo!=[15000,15300])
Trigger1 = (EnemyNear(var(50)),PrevStateNo!=[1550,1551])
Trigger2 = StateNo=1100||StateNo=321
Trigger2 = P2StateType!=A
Trigger3 = StateNo=1150
Trigger3 = var(8)>0
Trigger4 = var(11)>0
Trigger4 = StateNo=321
var(11) = ifelse(var(11)>0,0,1)
persistent = 0
IgNoreHitPause = 1

[State a];相手吹き飛ばし
Type = TargetState
TriggerAll=NumEnemy>0
TriggerAll=!EnemyNear(var(50)),Time
Trigger1 = MoveHit=1
Trigger1 = var(11)>0
value = 549
IgNoreHitPause = 1
persistent = 0

[State a];相手強制ステート
Type = TargetState
Trigger1 = NumEnemy=1
Trigger1 = MoveHit=1
Trigger1 = !var(11)
Trigger1 = StateNo!=2000||AnimElem=23,>=0
Trigger1 = P2StateNo!=[549,553]
Trigger1 = P2StateType=A
value = 15050

[State a];弱攻撃吹き飛ばし
Type = TargetState
TriggerAll=!EnemyNear(var(50)),Time
TriggerAll=MoveHit=1
TriggerAll=var(11)>0
Trigger1 = StateNo=200
Trigger2 = StateNo=205
Trigger3 = StateNo=400
Trigger4 = StateNo=230
Trigger5 = StateNo=235
Trigger6 = StateNo=430
value = 548
IgNoreHitPause = 1
persistent = 0

[State a];ブースト
Type = varSet
TriggerAll=MoveType!=H
TriggerAll=var(16)>19
Trigger1 = var(59)<1
Trigger1 = Command="z"
var(23) = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ムテキング処理
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State a];ムテキング解除
Type = varSet
TriggerAll=var(51)
Trigger1 = RoundState!=2
Trigger2 = !Pos Y
Trigger2 = StateNo=1100
Trigger2 = Time=[2,9+(var(58)>0)*11]
Trigger3 = StateNo=105
Trigger4 = StateNo=1400
Trigger5 = StateNo=2000
Trigger6 = StateNo=2100||StateNo=2400
Trigger7 = MoveType=H
Trigger8 = NumHelper(30000+ID)
Trigger8 = !Helper(30000+ID),var(3)
Trigger9 = MoveReversed
Trigger9 = P2StateNo>999
Trigger10= MoveHit
Trigger10= StateNo=800||StateNo=850||StateNo=1500
var(51) = 0

[State a];ムテキング
Type = varSet
Trigger1 = Pos Y>=0
Trigger1 = Time=[2,9+(var(58)>0)*11]
Trigger1 = StateNo=1100
Trigger1 = NumHelper(30000+ID)
Trigger1 = Helper(30000+ID),var(3)
Trigger1 = PrevStateNo=1
var(51) = 1

[State a]
Type = HitBy
Trigger1 = var(58)<2
Trigger1 = var(51)
value = SCA,NT,ST,HT
Time = 1

[State a]
Type = NotHitBy
Trigger1 = var(58)>1
Trigger1 = var(51)
value = SCA,AA,AT,AP
Time = 1

[State 1]
Type = ChangeState
Trigger1 = Pos Y>=0
Trigger1 = StateType!=A
Trigger1 = StateType!=L
Trigger1 = vel y>0
Trigger1 = StateNo>199
Trigger1 = StateNo!=[2200,2299]
value = 0
Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;金AI用
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;金用

[State -1,NANTOGAZAR];南斗ゲイザー
Type = SelfState
value = 2000
TriggerAll=var(59)>0
TriggerAll=var(58)>1
TriggerAll=fvar(38)>0
TriggerAll=RoundState=2
TriggerAll=Power>999-(var(58)>1)*500
TriggerAll=StateType!=A
TriggerAll=P2BodyDist X=[-5,125]
TriggerAll=(P2BodyDist Y+(EnemyNear(var(50)),vel y!=0)*(EnemyNear(var(50)),vel y+EnemyNear(var(50)),Const(MoveMent.Yaccel)*12)*13=[-200,0])
TriggerAll=(StateNo=[200,255])||(StateNo=[400,440])||(StateNo=[290,320])||(StateNo=[1000,1300])
TriggerAll=!var(51)
Trigger1 = MoveContAct
Trigger1 = !var(11)
Trigger1 = (P2StateNo!=[350,351])
Trigger1 = (P2StateNo!=[120,155])
Trigger1 = (P2StateNo!=[5000,5270])
Trigger1 = (P2StateNo!=[15000,15270])
Trigger2 = P2MoveType=A
Trigger2 = !EnemyNear(var(50)),Ctrl
IgNoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State -1,NANTO5KUTO];南斗獄屠拳
Type = SelfState
value = 1100
TriggerAll=var(59)>0
TriggerAll=var(58)>1
TriggerAll=fvar(38)>0
TriggerAll=RoundState=2
TriggerAll=P2BodyDist X+P2BodyDist Y*0.6=[-60,150]
TriggerAll=(P2BodyDist Y+(EnemyNear(var(50)),vel y!=0)*(EnemyNear(var(50)),vel y+EnemyNear(var(50)),Const(MoveMent.Yaccel)*11)*12=[-200,0])
TriggerAll=P2StateType!=C
TriggerAll=!var(51)
TriggerAll=(StateNo=[200,255])||(StateNo=[400,440])||(StateNo=[600,640])
Trigger1 = MoveContAct
Trigger1 = !var(11)
Trigger1 = (P2StateNo!=[350,351])
Trigger1 = (P2StateNo!=[120,155])
Trigger1 = (P2StateNo!=[5000,5270])
Trigger1 = (P2StateNo!=[15000,15270])
Trigger2 = P2MoveType=A
Trigger2 = !EnemyNear(var(50)),Ctrl
Trigger2 = EnemyNear(var(50)),AnimTime<-12||var(59)<7
IgNoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State -1,NANTOGYAKUSISOU];南斗虐指葬
Type = SelfState
value = 1500
TriggerAll=var(59)>0
TriggerAll=var(58)>1
TriggerAll=fvar(38)>0
TriggerAll=RoundState=2
TriggerAll=StateType!=A
TriggerAll=P2BodyDist X=[-5,33+(var(58)>0)*27]
TriggerAll=!P2BodyDist Y
TriggerAll=P2StateType!=A
TriggerAll=(StateNo=[200,255])||(StateNo=[400,440])
Trigger1 = MoveContAct
Trigger1 = !var(11)
Trigger1 = (P2StateNo!=[350,351])
Trigger1 = (P2StateNo!=[120,155])
Trigger1 = (P2StateNo!=[5000,5270])
Trigger1 = (P2StateNo!=[15000,15270])
Trigger2 = P2MoveType=A
Trigger2 = !EnemyNear(var(50)),Ctrl
IgNoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

[State -3,TENSYOU];南斗白燕転翔
Type = SelfState
Value = 1400
TriggerAll=var(59)>0
TriggerAll=var(58)>1
TriggerAll=RoundState=2
TriggerAll=StateType!=A
TriggerAll=P2StateType!=L
TriggerAll=(StateNo=[200,255])||(StateNo=[400,440])
Trigger1 = MoveContAct
Trigger1 = !var(11)
Trigger1 = (P2StateNo!=[350,351])
Trigger1 = (P2StateNo!=[120,155])
Trigger1 = (P2StateNo!=[5000,5270])
Trigger1 = (P2StateNo!=[15000,15270])
Trigger2 = P2MoveType=A
Trigger2 = !EnemyNear(var(50)),Ctrl
IgNoreHitPause = 1
PauseMoveTime = -1
SuperMoveTime = -1
SuperMove = 1

