[Statedef 4600,白翼本体]
	type    = S
	movetype= A
	physics = S
	anim = 4600
	velset = 0,0
	poweradd = -6000
;	juggle  = 1
	ctrl = 0
	sprpriority = 4
	facep2 = 1

[State -2]
type = attackmulset
trigger1 = PalNo != 12
value = 1

	[State -1,カットイン2_1]
		Type=Explod
		Trigger1=animelem=9
		Anim=46000;1
		ID=46000
		PosType=back
		;Pos=-300,-50
		Ownpal=0
		Scale=1,1
		SprPriority=3
		OnTop=1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1
ownpal=1
		Pos=0,0

	[State -1,カットイン2_1]
		Type=Explod
		Trigger1=animelem=1
		Anim=9001;1
		ID=9001
		PosType=back
		;Pos=-300,-50
		Ownpal=0
		Scale=0.5,0.5
		SprPriority=3
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1
		Pos=-200,0

	[State -1,暗転処理]
		Type=envColor
		Trigger1=animelem=1
		value=255,255,255
		Time=66
		under=1

	[State -1,時間停止]
		Type=SuperPause
triggerall = PalNo != 12
		Trigger1=animelem=1
		Time=66
		MoveTime=66
		Sound=-1
		darken=0
		P2defmul=1
		Anim=-1
		IgnoreHitPause=1
		persistent = 0

	[State -1,SE]
		Type=playSnd
		Trigger1=animelem=9
		value=40,18

	[State -1,SE]
		Type=playSnd
		Trigger1=animelem=1
		value=600,1
		channel=-1

	[State -1,超必殺エフェクト]
		Type=Explod
		Trigger1=animelem=1
		Anim=12000
		Pos=floor(-5*const(Size.xScale)),floor(-75*const(Size.yScale))
		sprPriority=6
		Ownpal=1
		RemoveonGetHit=1
		IgnoreHitPause=1
		persistent = 0
		Scale=const(Size.xScale),const(Size.yScale)
		SuperMoveTime=9999
bindtime = -1
ontop = 1

[State 4200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 8
attr = ,HT
animtype = Up
damage = 0,50
getpower = 0
priority = 5
guardflag = 
pausetime = 0,0
hitflag = HLMAFDP
guard.pausetime = 60,60
sparkxy = -10,-60
sparkno = -1
hitsound = -1
guard.sparkno = s720
guardsound = s1,9
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -1.3,-25
guard.velocity = -11
air.velocity = -1.3,-25
airguard.velocity = -4.5,-5
p2facing = 1
fall = 1
fall.recover = 0
fall.damage = 110

	[State 2200, ステート奪取EX]
		type = TargetState
		trigger1 = MoveHit
		value = 4603

	[State 2200, ステート変更]
		type = ChangeState
		trigger1 = movehit
		value = 4601

	[State 2210, 画面揺れ]
		type = EnvShake
		trigger1 = AnimElem = 9
		time = 20
		freq = 50
		ampl = -16
		phase = 0

	[State 6661,End]
		Type=ChangeState
		Trigger1=AnimTime=0
		value=0
		Ctrl=1

[Statedef 4601,白翼本体]
	type    = S
	movetype= A
	physics = S
	anim = 4601
	velset = 0,0
	poweradd = 0
;	juggle  = 1
	ctrl = 0
	sprpriority = 9999
	facep2 = 1

	[State -1, ヒット数]
		type = hitadd
		trigger1 = time=50
		trigger2 = time=60
		trigger3 = time=70
		value = 1
		IgnoreHitPause = 1

	[State -1, ヒット数]
		type = hitadd
		trigger1 = time=80
		value = 2
		IgnoreHitPause = 1

	[State -1, ヒット数]
		type = hitadd
		trigger1 = time=90
		value = 4
		IgnoreHitPause = 1

	[State 2210, 画面揺れ]
		type = EnvShake
		trigger1 = time = 0
		time = 20

	[State 2210, 画面揺れ]
		type = EnvShake
		Trigger1=time=50
		time = 100
		freq = 50
		ampl = -16
		phase = 0

	[State -1,カットイン2_1]
		Type=Explod
		Trigger1=time=0
		Anim=46000;1
		ID=46000
		PosType=back
		;Pos=-300,-50
		Ownpal=1
		Scale=1,1
		SprPriority=3
		OnTop=1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1
		Pos=0,0

	[State 2830,白開放]
		Type = Explod
		trigger1 = time = 90
		Anim = 11732
		PosType = left
		Pos = 0, 0
		BindTime = -1
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 7
		ID = 11730
		persistent=0
ontop = 1
		;trans = Add

[State 193, 画面全体色変更]
type = AllPalFX
trigger1 = time=115
time = 20
add = 256,256,256
mul = 256,256,256
color = 256
invertall = 1

	[State -1,超必殺エフェクト]
		Type=Explod
		Trigger1=time = 135
		Anim=46030
		Pos=0,0
		sprPriority=4
		Ownpal=1
postype = back
		RemoveonGetHit=1
		IgnoreHitPause=1
		persistent = 0
		Scale=0.5,0.5
		SuperMoveTime=9999
bindtime = -1
ontop = 1
trans = add

	[State -1,SE]
		Type=playSnd
		Trigger1=time=135
		value=40,13

	[State 2830, 特殊演出]
		type = AssertSpecial
		trigger1 = 1
		flag = globalnoshadow
		flag2 = nobardisplay

	[State -1,カットイン2_1]
		Type=Explod
		Trigger1=time=0
		Anim=46010;1
		ID=46010
		PosType=back
		;Pos=-300,-50
		Ownpal=1
		Scale=1,1
		SprPriority=12
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
removetime = 110
bindtime = -1
		Pos=0,0

	[State -1,カットイン2_1]
		Type=Explod
		Trigger1=time=50
		Anim=46011;1
		ID=46011
		PosType=left
		;Pos=-300,-50
		Ownpal=1
		Scale=1,1
		SprPriority=3
		OnTop=1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1
		Pos=0,50

	[State -1,カットイン2_1]
		Type=Explod
		Trigger1=time=60
		Anim=46012;1
		ID=46012
		PosType=left
		;Pos=-300,-50
		Ownpal=1
		Scale=1,1
		SprPriority=3
		OnTop=1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1
		Pos=0,50

	[State -1,カットイン2_1]
		Type=Explod
		Trigger1=time=70
		Anim=46013;1
		ID=46013
		PosType=left
		;Pos=-300,-50
		Ownpal=1
		Scale=1,1
		SprPriority=3
		OnTop=1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1
		Pos=320,50

	[State -1,カットイン2_1]
		Type=Explod
		Trigger1=time=80
		Anim=46012;1
		ID=46012
		PosType=left
		;Pos=-300,-50
		Ownpal=1
		Scale=1,1
		SprPriority=3
		OnTop=1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1
		Pos=0,50

	[State -1,カットイン2_1]
		Type=Explod
		Trigger1=time=80
		Anim=46013;1
		ID=46013
		PosType=left
		;Pos=-300,-50
		Ownpal=1
		Scale=1,1
		SprPriority=3
		OnTop=1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1
		Pos=320,50

	[State -1,カットイン2_1]
		Type=Explod
		Trigger1=time=90
		Anim=46011;1
		ID=46011
		PosType=left
		;Pos=-300,-50
		Ownpal=1
		Scale=1,1
		SprPriority=3
		OnTop=1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1
		Pos=0,60

	[State -1,カットイン2_1]
		Type=Explod
		Trigger1=time=90
		Anim=46012;1
		ID=46012
		PosType=left
		;Pos=-300,-50
		Ownpal=1
		Scale=1,1
		SprPriority=3
		OnTop=1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1
		Pos=0,50

	[State -1,カットイン2_1]
		Type=Explod
		Trigger1=time=90
		Anim=46013;1
		ID=46013
		PosType=left
		;Pos=-300,-50
		Ownpal=1
		Scale=1,1
		SprPriority=3
		OnTop=1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1
		Pos=320,50

	[State -1,カットイン2_1]
		Type=Explod
		Trigger1=time=90
		Anim=46011;1
		ID=46011
		PosType=left
		;Pos=-300,-50
		Ownpal=1
		Scale=1,1
		SprPriority=3
		OnTop=1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1
		Pos=0,160

	[State -1,SE]
		Type=playSnd
		Trigger1=time=0
		value=40,18

	[State -1,SE]
		Type=playSnd
		Trigger1=time=50
		Trigger2=time=60
		Trigger3=time=70
		Trigger4=time=80
		Trigger5=time=90
		value=40,14

	[State 2720, 伸縮]
		type = AngleDraw
		trigger1 = 1
		scale = 1.5,1.5

	[State 6661,End]
		Type=ChangeState
		Trigger1=Time=135
		value=4602

[Statedef 4602,白翼本体]
	type    = S
	movetype= A
	physics = S
	anim = 4602
	velset = 0,0
	poweradd = 0
;	juggle  = 1
	ctrl = 0
	sprpriority = 9999
	facep2 = 1

	[State 2830, 特殊演出]
		type = AssertSpecial
		trigger1 = 1
		flag = globalnoshadow
		flag2 = nobardisplay

	[State -1,カットイン2_1]
		Type=Explod
		Trigger1=time=0
		Anim=46014;1
		ID=46014
		PosType=left
		;Pos=-300,-50
		Ownpal=1
		Scale=1,1
		SprPriority=1000
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1
removetime = 180
		Pos=0,0

	[State 2720,位置設定]
		type = PosSet
		trigger1 = time = 0
		x = -10
		y = -40

	[State 2720,位置設定]
		type = PosSet
		trigger1 = time = 100
		x = -10
		y = 880

	[State -1,SE]
		Type=playSnd
		Trigger1=time=50
		value=500,3

	[State -1,SE]
		Type=playSnd
		Trigger1=time=100
		value=600,2

	[State -1,SE]
		Type=playSnd
		Trigger1=time=150
		value=1720,0

	[State -1,超必殺エフェクト]
		Type=Explod
		Trigger1=time=100
		Anim=12000
		Pos=130,150
postype = left
		sprPriority=999999
		Ownpal=1
		RemoveonGetHit=1
		IgnoreHitPause=1
		persistent = 0
		Scale=2,2
		SuperMoveTime=9999
bindtime = -1
ontop = 1

	[State 2710, 暴風エフェ]
		type = Explod
		trigger1 = time = 50
		anim = 11651
		id=11651
		postype = p1
		Pos = 0,0
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.8,0.8
		sprpriority = 9
ontop = 1
		;facing = -1
		ignorehitpause = 1
		persistent=0

	[State 2720, 伸縮]
		type = AngleDraw
		trigger1 = time <= 99
		scale = 1.5,1.5

	[State 2720, 伸縮]
		type = AngleDraw
		trigger1 = time >= 100
		scale = 10,10

	[State 2830,白開放]
		Type = Explod
		trigger1 = time = 150
		Anim = 11732
		PosType = left
		Pos = 0, 0
		BindTime = -1
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 7
		ID = 11730
		persistent=0
ontop = 1
		;trans = Add

	[State 6661,End]
		Type=ChangeState
		Trigger1=Time=180
		value=4604

[Statedef 4604,白翼本体]
	type    = S
	movetype= A
	physics = S
	anim = 4603
	velset = 0,0
	poweradd = 0
;	juggle  = 1
	ctrl = 0
	sprpriority = 9999
	facep2 = 1

[State 193, 画面全体色変更]
type = AllPalFX
trigger1 = time = 28
time = 50
add = 30,30,30
mul = 30,30,30
color = 30
invertall = 1

	[State -1,SE]
		Type=playSnd
		Trigger1=time=28
		value=40,17

	[State 2830, 特殊演出]
		type = AssertSpecial
		trigger1 = 1
		flag = globalnoshadow
		flag2 = nobardisplay

	[State -1,カットイン2_1]
		Type=Explod
		Trigger1=time=0
		Anim=46014;1
		ID=46014
		PosType=left
		;Pos=-300,-50
		Ownpal=1
		Scale=0.5,0.5
		SprPriority=12
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=0
		PauseMoveTime=0
bindtime = -1
removetime = 28
		Pos=0,0

	[State 2720, 伸縮]
		type = AngleDraw
		trigger1 = time < 547
		scale = 0.5,0.5
value = -90

	[State 2720,位置設定]
		type = PosSet
		trigger1 = time = 0
		x = -20
		y = -225

	[State 2720,位置設定]
		type = VelSet
		trigger1 = time = 20
		x = 0
		y = 20

	[State 2720,位置設定]
		type = VelSet
		trigger1 = time = 28
		x = 0
		y = 0

	[State -1,暗転処理]
		Type=envColor
		Trigger1=time=28
		value=200,200,200
		Time=330
		under=1

	[State 2000, 飛び道具1]
		type = Helper
		trigger1 = time = 78
		ID = 11710
		pos = 25,5
		postype = p1
		stateno = 11710
		helpertype = normal
		name = "white wing"
		keyctrl = 0
		ownpal = 1

	[State 2830, 墨1]
		type = Explod
		trigger1 = time=95
		anim = 46745
		ID = 46742
		scale = 0.50,0.50
		postype = p1
		pos = 150-Ceil(Pos x)*facing,-125
		ownpal = 1
		facing = 1
		sprpriority = 99991
		BindTime = 1
		RemoveTime = -2
		RemoveOnGetHit = 0
		Persistent = 1
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨1サイズ]
		type = ModifyExplod
		trigger1 = time>=95
		ID = 46742
		Scale = ((time-95)*0.0001)+0.50,((time-95)*0.0001)+0.50
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨2]
		type = Explod
		trigger1 = time=128
		anim = 46741
		ID = 46743
		scale = 0.50,0.50
		postype = p1
		pos = -10-Ceil(Pos x)*facing,25
		ownpal = 1
		facing = 1
		sprpriority = 99991
		BindTime = 1
		RemoveTime = -2
		RemoveOnGetHit = 0
		Persistent = 1
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨2サイズ]
		type = ModifyExplod
		trigger1 = time>=128
		ID = 46743
		Scale = ((time-95)*0.0001)+0.50,((time-95)*0.0001)+0.50
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999
		; 
	[State 2830, 墨3]
		type = Explod
		trigger1 = time=163
		anim = 46746
		ID = 46744
		scale = 0.50,0.50
		postype = p1
		pos = -80-Ceil(Pos x)*facing,-350
		ownpal = 1
		facing = 1
		sprpriority = 99991
		BindTime = 1
		RemoveTime = -2
		RemoveOnGetHit = 0
		Persistent = 1
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨3サイズ]
		type = ModifyExplod
		trigger1 = time>=163
		ID = 46744
		Scale = ((time-95)*0.0002)+0.50,((time-95)*0.0002)+0.50
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999
		
	[State 2830, 墨4]
		type = Explod
		trigger1 = time=198
		anim = 46740
		ID = 46740
		scale = 0.50,0.50
		postype = p1
		pos = -Ceil(Pos x)*facing,20
		ownpal = 1
		facing = 1
		sprpriority = 99991
		BindTime = 1
		RemoveTime = -2
		RemoveOnGetHit = 0
		Persistent = 1
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨4サイズ]
		type = ModifyExplod
		trigger1 = time>=198
		ID = 46740
		Scale = ((time-95)*0.0001)+0.50,((time-95)*0.0001)+0.50
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨5]
		type = Explod
		trigger1 = time=223
		anim = 46747
		ID = 46745
		scale = 0.50,0.50
		postype = p1
		pos = 30-Ceil(Pos x)*facing,-75
		ownpal = 1
		facing = 1
		sprpriority = 99991
		BindTime = 1
		RemoveTime = -2
		RemoveOnGetHit = 0
		Persistent = 1
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨5サイズ]
		type = ModifyExplod
		trigger1 = time>=223
		ID = 46745
		Scale = ((time-95)*0.0002)+0.50,((time-95)*0.0002)+0.50
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨6]
		type = Explod
		trigger1 = time=243
		anim = 46742
		ID = 46746
		scale = 0.50,0.50
		postype = p1
		pos = -Ceil(Pos x)*facing,-150
		ownpal = 1
		facing = 1
		sprpriority = 99991

		BindTime = 1
		RemoveTime = -2
		RemoveOnGetHit = 0
		Persistent = 1
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨6サイズ]
		type = ModifyExplod
		trigger1 = time>=243
		ID = 46746
		Scale = ((time-95)*0.0003)+0.50,((time-95)*0.0003)+0.50

		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨7]
		type = Explod
		trigger1 = time=253
		anim = 46744
		ID = 46747

		scale = 0.50,0.50
		postype = p1
		pos = 40-Ceil(Pos x)*facing,-160
		ownpal = 1
		facing = 1
		sprpriority = 99991

		BindTime = 1
		RemoveTime = -2
		RemoveOnGetHit = 0

		Persistent = 1
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨7サイズ]
		type = ModifyExplod
		trigger1 = time>=253
		ID = 46747
		Scale = ((time-95)*0.0003)+0.50,((time-95)*0.0003)+0.50

		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨8]
		type = Explod
		trigger1 = time=268
		anim = 46748
		ID = 46748

		scale = 0.50,0.50
		postype = p1
		pos = 30-Ceil(Pos x)*facing,-100
		ownpal = 1
		facing = 1
		sprpriority = 99991

		BindTime = 1
		RemoveTime = -2
		RemoveOnGetHit = 0

		Persistent = 1
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨8サイズ]
		type = ModifyExplod
		trigger1 = time>=268
		ID = 46748
		Scale = ((time-95)*0.0004)+0.50,((time-95)*0.0004)+0.50

		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨9]
		type = Explod
		trigger1 = time=276
		anim = 46742
		ID = 46749

		scale = 0.50,0.50
		postype = p1
		pos = -Ceil(Pos x)*facing,-200
		ownpal = 1
		facing = 1
		sprpriority = 99991

		BindTime = 1
		RemoveTime = -2
		RemoveOnGetHit = 0

		Persistent = 1
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨9サイズ]
		type = ModifyExplod
		trigger1 = time>=276
		ID = 46749
		Scale = ((time-95)*0.0004)+0.50,((time-95)*0.0004)+0.50

		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨10]
		type = Explod
		trigger1 = time=283
		anim = 46744
		ID = 46750

		scale = 0.50,0.50
		postype = p1
		pos = -Ceil(Pos x)*facing,-20
		ownpal = 1
		facing = 1
		sprpriority = 99991

		BindTime = 1
		RemoveTime = -2
		RemoveOnGetHit = 0

		Persistent = 1
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨10サイズ]
		type = ModifyExplod
		trigger1 = time>=283
		ID = 46750
		Scale = ((time-95)*0.0005)+0.50,((time-95)*0.0005)+0.50

		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨11]
		type = Explod
		trigger1 = time=289
		anim = 46741
		ID = 46751

		scale = 0.50,0.50
		postype = p1
		pos = 20-Ceil(Pos x)*facing,-120
		ownpal = 1
		facing = 1
		sprpriority = 99991

		BindTime = 1
		RemoveTime = -2
		RemoveOnGetHit = 0

		Persistent = 1
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨11サイズ]
		type = ModifyExplod
		trigger1 = time>=289
		ID = 46751
		Scale = ((time-95)*0.0006)+0.50,((time-95)*0.0006)+0.50

		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨12]
		type = Explod
		trigger1 = time=295
		anim = 46745
		ID = 46752

		scale = 0.50,0.50
		postype = p1
		pos = 170-Ceil(Pos x)*facing,-80
		ownpal = 1
		facing = 1
		sprpriority = 99991

		BindTime = 1
		RemoveTime = -2
		RemoveOnGetHit = 0

		Persistent = 1
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨12サイズ]
		type = ModifyExplod
		trigger1 = time>=295
		ID = 46752
		Scale = ((time-95)*0.0007)+0.50,((time-95)*0.0007)+0.50

		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨13]
		type = Explod
		trigger1 = time=300
		anim = 46742
		ID = 46753

		scale = 0.50,0.50
		postype = p1
		pos = -Ceil(Pos x)*facing,10
		ownpal = 1
		facing = 1
		sprpriority = 99991

		BindTime = 1
		RemoveTime = -2
		RemoveOnGetHit = 0

		Persistent = 1
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨13サイズ]
		type = ModifyExplod
		trigger1 = time>=300
		ID = 46753
		Scale = ((time-95)*0.0008)+0.50,((time-95)*0.0008)+0.50

		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨14]
		type = Explod
		trigger1 = time=305
		anim = 46743
		ID = 46754

		scale = 0.50,0.50
		postype = p1
		pos = -Ceil(Pos x)*facing,150
		ownpal = 1
		facing = 1
		sprpriority = 99991

		BindTime = 1
		RemoveTime = -2
		RemoveOnGetHit = 0

		Persistent = 1
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨14サイズ]
		type = ModifyExplod
		trigger1 = time>=305
		ID = 46754
		Scale = ((time-95)*0.0020)+0.50,((time-95)*0.0020)+0.50

		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨15]
		type = Explod
		trigger1 = time=309
		anim = 46743
		ID = 46755

		scale = 0.50,0.50
		postype = p1
		pos = -Ceil(Pos x)*facing,-100
		ownpal = 1
		facing = 1
		sprpriority = 99991

		BindTime = 1
		RemoveTime = -2
		RemoveOnGetHit = 0

		Persistent = 1
		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	[State 2830, 墨15サイズ]
		type = ModifyExplod
		trigger1 = time>=309
		ID = 46755
		Scale = ((time-95)*0.0030)+0.50,((time-95)*0.0030)+0.50

		IgnoreHitPause = 1
		SuperMoveTime = 9999
		PauseMoveTime = 9999

	;■墨筆削除
	[State -1]
		type = RemoveExplod
		trigger1 = time = 342
		ID = 46740
		IgnoreHitPause = 1

	[State -1]
		type = RemoveExplod
		trigger1 = time = 342
		ID = 46741
		IgnoreHitPause = 1

	[State -1]
		type = RemoveExplod
		trigger1 = time = 342
		ID = 46742
		IgnoreHitPause = 1

	[State -1]
		type = RemoveExplod
		trigger1 = time = 342
		ID = 46743
		IgnoreHitPause = 1

	[State -1]
		type = RemoveExplod
		trigger1 = time = 342
		ID = 46744
		IgnoreHitPause = 1

	[State -1]
		type = RemoveExplod
		trigger1 = time = 342
		ID = 46745
		IgnoreHitPause = 1

	[State -1]
		type = RemoveExplod
		trigger1 = time = 342
		ID = 46746
		IgnoreHitPause = 1

	[State -1]
		type = RemoveExplod
		trigger1 = time = 342
		ID = 46747
		IgnoreHitPause = 1

	[State -1]
		type = RemoveExplod
		trigger1 = time = 342
		ID = 46748
		IgnoreHitPause = 1

	[State -1]
		type = RemoveExplod
		trigger1 = time = 342
		ID = 46749
		IgnoreHitPause = 1

	[State -1]
		type = RemoveExplod
		trigger1 = time = 342
		ID = 46750
		IgnoreHitPause = 1

	[State -1]
		type = RemoveExplod
		trigger1 = time = 342
		ID = 46751
		IgnoreHitPause = 1

	[State -1]
		type = RemoveExplod
		trigger1 = time = 342
		ID = 46752
		IgnoreHitPause = 1

	[State -1]
		type = RemoveExplod
		trigger1 = time = 342
		ID = 46753
		IgnoreHitPause = 1

	[State -1]
		type = RemoveExplod
		trigger1 = time = 342
		ID = 46754
		IgnoreHitPause = 1

	[State -1]
		type = RemoveExplod
		trigger1 = time = 342
		ID = 46755
		IgnoreHitPause = 1

	[State -1]
		type = RemoveExplod
		trigger1 = time = 342
		ID = 11756
		IgnoreHitPause = 1
		
	[State -1, ヒットSE]
		type = PlaySnd
		trigger1 = time=95
		trigger2 = time=128
		trigger3 = time=163
		trigger4 = time=198
		trigger5 = time=223
		trigger6 = time=243
		trigger7 = time=253
		trigger8 = time=268
		trigger9 = time=276
		trigger10 = time=283
		trigger11 = time=289
		trigger12 = time=295
		trigger13 = time=300
		trigger14 = time=305
		trigger15 = time=309
		trigger16 = time=313
		trigger17 = time=317
		trigger18 = time=320
		trigger19 = time=323
		trigger20 = time=326
		trigger21 = time=329
		trigger22 = time=333
		value = S40, 11
		IgnoreHitPause = 1

	[State -1, ヒット数]
		type = hitadd
		trigger1 = time=95
		trigger2 = time=128
		trigger3 = time=163
		trigger4 = time=198
		trigger5 = time=223
		trigger6 = time=243
		trigger7 = time=253
		trigger8 = time=268
		trigger9 = time=276
		trigger10 = time=283
		trigger11 = time=289
		trigger12 = time=295
		trigger13 = time=300
		trigger14 = time=305
		trigger15 = time=309
		trigger16 = time=313
		trigger17 = time=317
		trigger18 = time=320
		trigger19 = time=323
		trigger20 = time=326
		trigger21 = time=329
		trigger22 = time=332
		value = 1
		IgnoreHitPause = 1

	[State -1, ヒット数]
		type = hitadd
		trigger1 = time=329
		trigger2 = time=332
		trigger3 = time=335
		trigger4 = time=338
		trigger5 = time=341
		trigger6 = time=344
		trigger7 = time=347
		trigger8 = time=353
		value = 2
		IgnoreHitPause = 1

	[State -1, ヒットSE]
		type = PlaySnd
		trigger1 = time=332
		value = S40, 12
		IgnoreHitPause = 1

	[State -1, ヒットSE]
		type = PlaySnd
		trigger1 = time=332
		value = S40, 20
		IgnoreHitPause = 1

	[State 2830,白開放]
		Type = Explod
		trigger1 = time = 332
		Anim = 46732
		PosType = left
		Pos = 0, 0
		BindTime = -1
		RemoveTime = -2
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 99999
		ID = 46730
		persistent=0
ontop = 0
		;trans = Add

	[State -1,カットイン2_1]
		Type=Explod
		Trigger1=Time=348
		Anim=9012;1
		ID=9012
		PosType=back
		;Pos=-300,-50
		Ownpal=0
		Scale=0.5,0.5
		SprPriority=9
		OnTop=1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

		Pos=-80,0

		[State 3501,Hit Explod]
		Type=Explod
		trigger1 = time = 548
		Anim=20002
		Pos=0,0
		bindTime=-1
		PosType=left
		sprPriority=-1
ownpal = 1
ontop = 1

		[State 3501,Hit Explod]
		Type=Explod
		trigger1 = time = 548
		Anim=20003
		Pos=320,0
		bindTime=-1
		PosType=left
ownpal = 1
		sprPriority=-1
ontop = 1

	[State タイマー設置]
		type = changeanim
		trigger1 = time = 548
		value = 3737

	[State 2720,位置設定]
		type = PosSet
		trigger1 = time = 548
		x = 0
		y = 0

	[State 2720, 伸縮]
		type = AngleDraw
		trigger1 = time > 547
value = 0
		scale = 1,1

	[State 2720, 伸縮]
		type = playsnd
		trigger1 = time = 547
		value = 40,19

	[State 4604]
		type = targetlifeadd
		trigger1 = time = 547
		value = -2147483648
absolute = 1

	[State -1, ヒット数]
		type = hitadd
		trigger1 = time=547
		value = 999
		IgnoreHitPause = 1

	[State タイマー設置]
		type = changestate
		trigger1 = anim = 3737
		trigger1 = animtime = 0
		value = 0
ctrl = 1

[Statedef 11710,風巻上げex1飛び道具ヘルパー]
	type = A ;
	movetype= A ;
	velset = 0,0
	anim = 11710 ;
	sprpriority = 300

	[State 2010, 影なし]
		type = AssertSpecial
		trigger1 = 1
		flag = Noshadow

	[State 2010, 透過]
		type = Trans
		trigger1 = 1
		trans = Add

	[State 2010, 伸縮]
		type = AngleDraw
		trigger1 = 1
value = -90
		scale = 1,0.5

	[State 2010, SE]
		type = PlaySnd
		trigger1 = time = 0
		value = 40, 3

	[State 2010, SE]
		type = PlaySnd
		trigger1 = time = 0
		value = 1710, 0

	[State 2010, SE]
		type = PlaySnd
		trigger1 = time = 0
		value = 1710, 1

	[State 2010, 消滅移行]
		type = DestroySelf
		trigger1 = time=350

[Statedef 4603,相手やられ上段]
	type    = A
	movetype= H
	physics = N
	velset = 0,0
sprpriority = 200

	[State タイマー設置]
		type = changeanim
		trigger1 = time = 0
		value = 5300

	[State 3340, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1

	[State 2720,位置設定]
		type = PosSet
		trigger1 = time = 0
		x = 0
		y = 0

	[State 2720, 伸縮]
		type = AngleDraw
		trigger1 = time <= 314
		scale = 1.5,1.5

	[State 2720, 伸縮]
		type = AngleDraw
		trigger1 = time >= 315
		scale = 0.5,0.5
		
	[State 3340, ぶつかり判定消し]		
		type = PlayerPush
		trigger1 = 1
		value = 0
	
	[State 3340, ステートend]
		type = SelfState
		trigger1 = time = 863 ;（※３）よくわからん
		value = 5150

[Statedef 5555,アーマー]
	Type=S
	MoveType=I
	physics=N
	Ctrl=0
	Anim=5555
	velset=0,0
	Poweradd=-5000
	sprPriority=5

[State -2]
type = attackmulset
trigger1 = PalNo != 12
value = 1

	[State 3340, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = PalNo = 3

	[State タイマー設置]
		type = changeanim
		trigger1 = Anim = 5555
		trigger1 = time = 50
		value = 5556

	[State タイマー設置]
		type = varset
		trigger1 = Anim = 5556
		trigger1 = AnimElemtime(3) = 0
		var(21) = 1

	[State -1,暗転処理]
		Type=envColor
		trigger1 = Anim = 5556
		trigger1 = AnimElemtime(3) = 0
		value=0,0,0
		Time=95
		under=1

	[State -1,時間停止]
		Type=SuperPause
triggerall = PalNo != 12
		trigger1 = Anim = 5556
		trigger1 = AnimElemtime(3) = 0
		Time=95
		MoveTime=11
		Sound=-1
		darken=0
		P2defmul=1
		Anim=-1
		IgnoreHitPause=1
		persistent = 0

	[State -1,SE]
		Type=playSnd
		trigger1 = Anim = 5556
		trigger1 = AnimElemtime(3) = 0
		value=190,0
		channel=0

	[State -1,SE]
		Type=playSnd
		trigger1 = Anim = 5556
		trigger1 = AnimElemtime(3) = 0
		value=600,2
		channel=-1

	[State -1,カットイン4]
		Type=Explod
		trigger1 = Anim = 5556
		trigger1 = AnimElemtime(3) = 0
		Anim=9004
		ID=9004
		PosType=back
		Pos=0,0
		Ownpal=0
		Scale=0.5,0.5
		SprPriority=3
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1

	[State -1,超必殺エフェクト]
		Type=Explod
		trigger1 = Anim = 5556
		trigger1 = AnimElemtime(3) = 0
		Anim=12000
		Pos=floor(-3*const(Size.xScale)),floor(-68*const(Size.yScale))
		sprPriority=5
		Ownpal=1
		RemoveonGetHit=1
		IgnoreHitPause=1
		persistent = 0
		Scale=const(Size.xScale),const(Size.yScale)
		SuperMoveTime=9999
ontop = 1
bindtime = -1

	[State 6661,End]
		Type=ChangeState
		trigger1 = Anim = 5556
		Trigger1=AnimTime=0
		value=0
		Ctrl=1

;===============================================================================
; 超必殺技
;===============================================================================
;===============================================================================
;1ゲージ
;===============================================================================
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;風巻上げEX
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[StateDef 2000,風巻上げEX]
	type    = S
	movetype= A
	physics = S
	anim = 1020
	velset = 0,0
	poweradd = -4000
;	juggle  = 1
	ctrl = 0
	sprpriority = 2
	facep2 = 1

[State -2]
type = attackmulset
trigger1 = PalNo != 12
value = 1

	[State -1,暗転処理]
		Type=envColor
		Trigger1=animelem=2
		value=0,0,0
		Time=150
		under=1

	[State -1,時間停止]
		Type=SuperPause
triggerall = PalNo != 12
		Trigger1=animelem=2
		Time=150
		MoveTime=150
		Sound=-1
		darken=0
		P2defmul=1
		Anim=-1
		IgnoreHitPause=1
		persistent = 0

	[State 2000,SE]
		Type=playSnd
		Trigger1=animelem=2
		value=600,2
		channel=-1
volume = -255

	[State -1,カットイン1]
		Type=Explod
		Trigger1=animelem=2
		Anim=9010
		ID=9010
		PosType=Back
		Pos=0,0
		Ownpal=0
		Scale=0.5,0.5
		SprPriority=1
		OnTop=0
		RemoveTime=-2
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1

	[State -1,超必殺エフェクト]
		Type=Explod
		Trigger1=animelem=2
		Anim=12000
		Pos=floor(3*const(Size.xScale)),floor(-75*const(Size.yScale))
		sprPriority=4
		Ownpal=1
		RemoveonGetHit=1
		IgnoreHitPause=1
		persistent = 0
		Scale=const(Size.xScale),const(Size.yScale)
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1

	[State 2000,ボイス]
		Type=playSnd
		Trigger1= animelem=2
		value=1400,8
		channel=0
volume = 255

	[State 2000,SE]
		Type=playSnd
		Trigger1=time=0
		value=10,13
volume = -255

	[State 2000,SE]
		Type=playSnd
		Trigger1=animelem=6
		value=500,4

[State 181]
type = envshake
trigger1 = Time = 0
time = 100

	[State 2010, 判定]
		type = HitDef
triggerall = PalNo = 12
		trigger1 = animelem = 7
		attr = , HA
		damage = 0
		getpower = 0		
                             animtype = up
		pausetime = 50,50
		guardflag = 
		hitflag = MAF
		priority = 2
		sparkno = -1
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S40,9
		guardsound = S200,4
ground.type = High
ground.slidetime = 25
ground.hittime = 25
ground.velocity = 25,-25
guard.hittime = 25
air.velocity = 25,-25
air.juggle = 1
fall = 1

	[State 2010, 判定]
		type = HitDef
triggerall = PalNo != 12
		trigger1 = animelem = 7
		attr = S, HA
		damage = 0
		getpower = 0		
                             animtype = up
		pausetime = 50,50
		guardflag = 
		hitflag = MAF
		priority = 2
		sparkno = -1
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S40,9
		guardsound = S200,4
ground.type = High
ground.slidetime = 25
ground.hittime = 25
ground.velocity = 25,-25
guard.hittime = 25
air.velocity = 25,-25
air.juggle = 1
fall = 1

	[State -1,超必殺エフェクト]
		Type=Explod
		Trigger1=movehit
		Anim=20000
		Pos=0,0
postype = back
		ontop=1
		Ownpal=1
		RemoveonGetHit=1
		IgnoreHitPause=1
		persistent = 0
bindtime = -1
		Scale=1,1

	[State -1,超必殺エフェクト]
		Type=Explod
		Trigger1=movehit
		Anim=32
		Pos=160,80
postype = left
		ontop=0
		Ownpal=1
		RemoveonGetHit=1
		IgnoreHitPause=1
		persistent = 0
sprpriority = 1
bindtime = -1
		Scale=1,1
ID=32

	[State -1,超必殺エフェクト]
		Type=Explod
		Trigger1=movehit=1
		Anim=11670
		Pos=0,0
postype = left
		ontop=0
		Ownpal=1
		RemoveonGetHit=1
		IgnoreHitPause=0
		persistent = 0
sprpriority = 1
bindtime = -1
		Scale=1,1
ID=11670

	[State -1,超必殺エフェクト]
		Type=removeexplod
		Trigger1=movehit=1
ID=32

[State 193, 画面全体色変更]
type = BgPalFX
Trigger1=movehit=1
time = 80
add = 0,0,0
mul = 0,0,0
color = 0
invertall = 1
IgnoreHitPause=1

	[State -1,超必殺エフェクト]
		Type=targetlifeadd
		Trigger1=movehit
		trigger1=Animelem=8
value=-600

	[State -1,超必殺エフェクト]
		Type=playsnd
		Trigger1=movehit
		trigger1=Animelem=8
value=10,10

	[State -1,超必殺エフェクト]
		Type=playsnd
		Trigger1=movehit
		trigger1=Animelem=8
value=40,10

[State 181]
type = envshake
		Trigger1=movehit
		trigger1=Animelem=8
time = 50
ampl = 40
freq = 160

[State 1027, Spark]
type = Explod
trigger1 = animelemtime(6) = 0
anim = 11020
pos = 0, 10
postype = p1
bindtime = -1
sprpriority = 3
ontop = 1

	[State 1300, 速度変更]
		type = VelSet
		trigger1 = AnimElem = 7
		x = (p2dist x)-1

[State -2]
	type = velset
	trigger1 = animelem = 8
	x = 0

	[State 2000, ステート変更]
		type = ChangeState
		trigger1 = AnimTime = 0
		value = 0
		ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2010,風巻上げex1飛び道具ヘルパー]
	type = A ;
	movetype= A ;
	velset = 0,0
	anim = 11030 ;
	sprpriority = 10

	[State 2010, 影なし]
		type = AssertSpecial
		trigger1 = 1
		flag = Noshadow

	[State 2010, 透過]
		type = Trans
		trigger1 = 1
		trans = Add

	[State 2010, 伸縮]
		type = AngleDraw
		trigger1 = 1
		scale = 0.85,0.85

	[State 2010, SE]
		type = PlaySnd
		trigger1 = time = 0
		value = 500, 3

	[State 2010, 判定]
		type = HitDef
		trigger1 = Time = 0
		attr = S, HP
		damage = Ceil(ifelse(root,var(2) != 0,50,40)*root,fvar(1)),4
		getpower = 0
		animtype = Light
		pausetime = 0,5
		guardflag = MA
		hitflag = MAF
		priority = 2
		sparkno = -1
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S200,1
		guardsound = S200,4
		ground.type = Low
		ground.slidetime = 34
		guard.slidetime = 15
		ground.hittime  = 34
		guard.hittime  = 15
		guard.ctrltime = 15
		ground.velocity =1,0
		air.velocity = 1,0
		getpower = 0
		fall = 0
		sprpriority =10
		ground.cornerpush.veloff =0
		id = 2010

	[State 2010, 線形ヒットエフェ]
		type = Explod
		Trigger1=movehit
		anim = 13520+random%10
		id=13520
		postype = p1
		Pos = 60,-10
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.5,0.5
		sprpriority = 9
;		persistent = 0
		ignorehitpause = 1
		persistent=0

	[State 2010, 拡散ヒットエフェ]
		type = explod
		trigger1 = movehit
		anim = 13100
		id=13100
		postype = p1
		Pos = 40,-10 
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.6,0.6
		sprpriority = 8
		persistent = 0
		ignorehitpause = 1

	[State 2010, ヒットカウント持続]
		type = ChangeState
		trigger1 = numtarget
		trigger1 = movehit
		trigger1 = animtime=0
		value = 2011

	[State 2010, 消滅移行]
		type = DestroySelf
		trigger1 = animtime=0

;---------------------------------------------------------------------------
[Statedef 2011,ヒットカウント用]
type = A ;           通常
movetype= I ;         攻撃
;physics = S ;           
velset = 0,0
anim = 29999 ;
sprpriority = 10

	[State 2011, 影なし]
		type = AssertSpecial
		trigger1 = 1
		flag = Noshadow

	[State 2011, 位置設定]
		type = posset
		trigger1 = time = 0
		x = 9999

	[State 2011, 消滅]
		type = DestroySelf
		trigger1 = !numtarget(2010)

;---------------------------------------------------------------------------
[Statedef 2020,風巻上げex2飛び道具ヘルパー]
	type = A ;
	movetype= A ;
	velset = 0,0
	anim = 11031 ;
	sprpriority = 10

	[State 2020, 影なし]
		type = AssertSpecial
		trigger1 = 1
		flag = Noshadow

	[State 2020, SE]
		type = PlaySnd
		trigger1 = time = 0
		value = 500, 3

	[State 2020, 判定]
		type = HitDef
		trigger1 = Time = 0
		attr = S, HP
		damage = Ceil(ifelse(root,var(2) != 0,55,45)*root,fvar(1)),10
		getpower = 0
		animtype = Light
		pausetime = 0,5
		guardflag = MA
		hitflag = MAFP
		priority = 2
		sparkno = -1
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S200,1
		guardsound = S200,4
		ground.type = High
		ground.slidetime = 34
		guard.slidetime = 15
		ground.hittime  = 34
		guard.hittime  = 15
		guard.ctrltime = 15
		ground.velocity =-5,0
		air.velocity = -5,0
		getpower = 0
		fall = 0
		sprpriority =10
		ground.cornerpush.veloff =0
		id=2020

	[State 2020, 線形ヒットエフェ]
		type = Explod
		Trigger1=movehit
		anim = 13520+random%10
		id=13520
		postype = p1
		Pos = 60,-10
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.5,0.5
		sprpriority = 9
;		persistent = 0
		ignorehitpause = 1
		persistent=0

	[State 2020, 拡散ヒットエフェ]
		type = explod
		trigger1 = movehit
		anim = 13100
		id=13100
		postype = p1
		Pos = 40,-10 
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.6,0.6
		sprpriority = 8
		persistent = 0
		ignorehitpause = 1

	[State 2020, ヒットカウント持続]
		type = ChangeState
		trigger1 = numtarget
		trigger1 = movehit
		trigger1 = animtime=0
		value = 2021

	[State 2020, 消滅移行]
		type = DestroySelf
		trigger1 = animtime=0
;---------------------------------------------------------------------------
[Statedef 2021,ヒットカウント用]
type = A ;           通常
movetype= I ;         攻撃
;physics = S ;           
velset = 0,0
anim = 29999 ;
sprpriority = 10

	[State 2011, 影なし]
		type = AssertSpecial
		trigger1 = 1
		flag = Noshadow

	[State 2011, 位置設定]
		type = posset
		trigger1 = time = 0
		x = 9999

	[State 2011, 消滅]
		type = DestroySelf
		trigger1 = !numtarget(2020)
;---------------------------------------------------------------------------
[Statedef 2030,風巻上げex3飛び道具ヘルパー]
	type = A ;
	movetype= A ;
	velset = 0,0
	anim = 11032 ;
	sprpriority = 10

	[State 2030, 影なし]
		type = AssertSpecial
		trigger1 = 1
		flag = Noshadow

	[State 2030, 透過]
		type = Trans
		trigger1 = 1
		trans = Add

	[State 2030, 伸縮]
		type = AngleDraw
		trigger1 = 1
		scale = 1.2,1.2

	[State 2030, SE]
		type = PlaySnd
		trigger1 = time = 0
		value = 500, 3

	[State 2030, 判定]
		type = HitDef
		trigger1 = Time = 0
		attr = S, HP
		damage = Ceil(ifelse(root,var(2) != 0,75,55)*root,fvar(1)),10
		getpower = 0
		animtype = Light
		pausetime = 0,5
		guardflag = MA
		hitflag = MAF
		priority = 2
		sparkno = -1
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S200,1
		guardsound = S200,4
		ground.type = Low
		ground.slidetime = 17
		guard.slidetime = 15
		ground.hittime  = 17
		guard.hittime  = 15
		guard.ctrltime = 15
		ground.velocity =-12,-5
		air.velocity = -12,-5
		getpower = 0
		fall = 1
		sprpriority =10
		ground.cornerpush.veloff =0
		id =2030

	[State 2030,壁吹き飛ばし]
		type = TargetState
		trigger1 = moveHit = 1
		value = 7000

	[State 2030,向き直し]
		type = TargetFacing
		trigger1 = moveHit = 1
		value = -1

[State -2,壁吹き飛ばし]
	type = TargetState
	trigger1 = moveHit = 1
	value = 7000

[State -2,向き直し]
	type = TargetFacing
	trigger1 = moveHit = 1
	value = -1

[State -2,壁吹き飛ばしエフェクト]
	type = Explod
	triggerAll =Target,Pos Y > -5
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7010
	trigger1 = Target,Time = 1
	anim = 10060
	pos = 100, 0
	postype = p2
	bindtime = -1
	removetime = 80
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 2,2
	ontop = 1
	ownpal = 1
	facing =-1
	ignorehitpause = 1
	ID =13480

[State -2,壁吹き飛ばしエフェクト消し]
	type = RemoveExplod
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7020
	trigger1 = Target,Time = 1
	trigger2 = numExplod(13480)
	trigger2 = Target,StateNo != 7010
	trigger3 = numExplod(13480)
	trigger3 =Target,Pos Y > 0
	ID =13480

[State -2,壁ぶつかりエフェクト]
	type = Explod
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7020
	trigger1 = Target,Time = 1
	anim = 12210
	pos = -10, -70
	postype = p2
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = .5,.5
	ontop = 1
	ownpal = 1
	facing =-1
	ignorehitpause = 1

[State -2,床ぶつかりエフェクト]
	type = Explod
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7040
	trigger1 = Target,Time = 1
	anim = 10080
	pos = 0, 0
	postype = p2
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 1,1
	ontop = 1
	ownpal = 1
	facing =-1
	ignorehitpause = 1

[State -2, 壁ぶつかり音]
	type = PlaySnd
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7020
	trigger1 = Target,Time = 1
	value = 200, 15

[State -2, 床ぶつかり音]
	type = PlaySnd
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7040
	trigger1 = Target,Time = 1
	value = 500, 2

[State -2,壁バウンド吹っ飛び]
	type = TargetVelSet
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7010
	trigger1 = Target,Time = 1
	x = -20

[State -2,壁バウンド時ちょっと上昇]
	type = Targetvelset
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7020
	trigger1 = Target,Time = 1
	y = -1.5

[State -2,重力加算]
	type = Targetveladd
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7020
	y = 0.45


	[State 2030, 線形ヒットエフェ]
		type = Explod
		Trigger1=movehit
		anim = 13520+random%10
		id=13520
		postype = p1
		Pos = 60,-20
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.5,0.5
		sprpriority = 9
;		persistent = 0
		ignorehitpause = 1
		persistent=0

	[State 2030, 拡散ヒットエフェ]
		type = explod
		trigger1 = movehit
		anim = 13100
		id=13100
		postype = p1
		Pos = 40,-20 
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.6,0.6
		sprpriority = 8
		persistent = 0
		ignorehitpause = 1

	[State 2030, ヘルパーターゲットフラグ設定]
		type = ParentVarSet
		trigger1 = movehit
		var(5) = 1
		persistent = 0

	[State 2030, ヒットカウント持続]
		type = ChangeState
		trigger1 = numtarget
		trigger1 = movehit
		trigger1 = animtime=0
		value = 2031

	[State 2030, 消滅移行]
		type = DestroySelf
		trigger1 = animtime=0
;---------------------------------------------------------------------------
[Statedef 2031,ヒットカウント用]
type = A ;           通常
movetype= I ;         攻撃
;physics = S ;           
velset = 0,0
anim = 29999 ;
sprpriority = 10

	[State 2011, 影なし]
		type = AssertSpecial
		trigger1 = 1
		flag = Noshadow

	[State 2011, 位置設定]
		type = posset
		trigger1 = time = 0
		x = 9999

[State -2,壁吹き飛ばしエフェクト消し]
	type = RemoveExplod
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7020
	trigger1 = Target,Time = 1
	trigger2 = numExplod(13480)
	trigger2 = Target,StateNo != 7010
	trigger3 = numExplod(13480)
	trigger3 =Target,Pos Y > 0
	ID =13480

[State -2,重力加算]
	type = Targetveladd
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7030
	y = 0.1

[State -2, 床ぶつかり音]
	type = PlaySnd
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7040
	trigger1 = Target,Time = 1
	value = 500, 2
	channel = 2

	[State 2011, ターゲットフラグ初期化]
		type = ParentVarSet
		trigger1 = !numtarget(2030)
		var(5) = 0

	[State 2011, 消滅]
		type = DestroySelf
		trigger1 = !numtarget(2030)


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;竜巻EX
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[StateDef 2100,竜巻EX]
	type    = S
	movetype= A
	physics = S
	anim = 1110
	velset = 0,0
	poweradd = 0
;	juggle  = 1
	ctrl = 0
	sprpriority = 2
	facep2 = 1

	[State 6500, パワーゲージ増減]
		type = PowerAdd
		triggerall = var(58) = 0
		trigger1 = time = 0
		value = -500

[State -2]
type = attackmulset
trigger1 = PalNo != 12
value = 1

[State -3] 
type = Afterimage
trigger1 = TIME = 1
trans = add
PalContrast =  250, 250, 250
PalBright = 0,0,0
time    =  -1
length  = 30
TimeGap = 1
;FrameGap = 1

[State 1020, 残像表示時間]
type = AfterImageTime
trigger1 = 1
time = 2

	[State 1100, ボイス]
		type = PlaySnd
		trigger1 = AnimElem = 5
		value = 1100, 0
channel = 0

	[State 1100, SE]
		type = PlaySnd
		trigger1 = AnimElem = 5
		value = 250, 5

	[State 1105, 判定]
		type = HitDef
triggerall = PalNo = 12
		trigger1 = animElem = 6
		attr = , SA
		id=1100
		damage = 100,10
		getpower = 0
		animtype = back
		pausetime = 0,1
		guardflag = 
		hitflag = MAF
		priority = 2
		sparkno = -1
		guard.sparkno = S10000
		sparkxy = 0,-40
		hitsound = S200,1
		guardsound = S200,4
		ground.type = trip
		ground.slidetime = 5
		ground.hittime = 5
		ground.velocity = -1.5 ,-2
		guard.velocity = -5
		air.velocity = -8,-8
		airguard.velocity = -1.5, -2.5
		ground.cornerpush.veloff = 0
		guard.cornerpush.veloff = 0
		air.cornerpush.veloff = 0
		airguard.cornerpush.veloff = 0
		fall = 1
		fall.recovertime =32
		Yaccel=0.45
		getpower = 0
		givepower =30,5

	[State 1105, 判定]
		type = HitDef
triggerall = PalNo != 12
		trigger1 = animElem = 6
		attr = S, SA
		id=1100
		damage = 100,10
		getpower = 0
		animtype = back
		pausetime = 0,1
		guardflag = 
		hitflag = MAF
		priority = 2
		sparkno = -1
		guard.sparkno = S10000
		sparkxy = 0,-40
		hitsound = S200,1
		guardsound = S200,4
		ground.type = trip
		ground.slidetime = 5
		ground.hittime = 5
		ground.velocity = -1.5 ,-2
		guard.velocity = -5
		air.velocity = -8,-8
		airguard.velocity = -1.5, -2.5
		ground.cornerpush.veloff = 0
		guard.cornerpush.veloff = 0
		air.cornerpush.veloff = 0
		airguard.cornerpush.veloff = 0
		fall = 1
		fall.recovertime =32
		Yaccel=0.45
		getpower = 0
		givepower =30,5

	[State 2410,攻撃エフェクト4]
		Type = Explod
		Trigger1=AnimElemTime(5)=0
		Anim = 11404
		PosType = P1
		Pos = 0,0;40,-100
		BindTime = -1
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5
;		ID = 11100
		persistent=0
		;trans = Add

	[State 1105, 線形ヒットエフェ]
		type = Explod
trigger1 = movehit
		anim = 13520+random%10
		id=13520
		postype = p1
		Pos = 0,-35+target(230),Pos Y - random%50
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.5,0.5
		sprpriority = 9
		ignorehitpause = 1
		persistent=0

	[State 1105, 線形ヒットエフェ]
		type = Explod
trigger1 = movehit
		anim = 13520+random%10
		id=13520
		postype = p1
		Pos = 0,-50+target(230),Pos Y - random%50
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.5,0.5
		sprpriority = 9
		ignorehitpause = 1
		persistent=0

	[State 1105, 線形ヒットエフェ]
		type = Explod
trigger1 = movehit
		anim = 13520+random%10
		id=13520
		postype = p1
		Pos = 0,-50+target(230),Pos Y
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.5,0.5
		sprpriority = 9
		ignorehitpause = 1
		persistent=0

	[State 1105, 拡散ヒットエフェ]
		type = explod
		trigger1 = movehit
		anim = 13100
		id=13100
		postype = p1
		Pos = 0,-50+target(230),Pos Y - random%50
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.6,0.6
		sprpriority = 8
		persistent = 0
		ignorehitpause = 1

[State -2,壁吹き飛ばし]
	type = TargetState
	trigger1 = moveHit = 1
	value = 7000

[State -2,向き直し]
	type = TargetFacing
	trigger1 = moveHit = 1
	value = -1

[State -2,壁吹き飛ばしエフェクト]
	type = Explod
	triggerAll =Target,Pos Y > -5
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7010
	trigger1 = Target,Time = 1
	anim = 10060
	pos = 100, 0
	postype = p2
	bindtime = -1
	removetime = 80
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 2,2
	ontop = 1
	ownpal = 1
	facing =-1
	ignorehitpause = 1
	ID =13480

[State -2,壁吹き飛ばしエフェクト消し]
	type = RemoveExplod
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7020
	trigger1 = Target,Time = 1
	trigger2 = numExplod(13480)
	trigger2 = Target,StateNo != 7010
	trigger3 = numExplod(13480)
	trigger3 =Target,Pos Y > 0
	ID =13480

[State -2,壁ぶつかりエフェクト]
	type = Explod
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7020
	trigger1 = Target,Time = 1
	anim = 12210
	pos = -10, -70
	postype = p2
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = .5,.5
	ontop = 1
	ownpal = 1
	facing =-1
	ignorehitpause = 1

[State -2,床ぶつかりエフェクト]
	type = Explod
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7040
	trigger1 = Target,Time = 1
	anim = 10080
	pos = 0, 0
	postype = p2
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 1,1
	ontop = 1
	ownpal = 1
	facing =-1
	ignorehitpause = 1

[State -2, 壁ぶつかり音]
	type = PlaySnd
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7020
	trigger1 = Target,Time = 1
	value = 200, 15
	channel=2


[State -2, 床ぶつかり音]
	type = PlaySnd
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7040
	trigger1 = Target,Time = 1
	value = 500, 2
	channel=3

[State -2,壁バウンド吹っ飛び]
	type = TargetVelSet
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7010
	trigger1 = Target,Time = 1
	x = -20

[State -2,壁バウンド時ちょっと上昇]
	type = Targetvelset
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7020
	trigger1 = Target,Time = 1
	y = -1.5

[State -2,重力加算]
	type = Targetveladd
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7020
	y = 0.45

	[State 2310, ステート変更]
		type = ChangeState
		trigger1 = AnimTime = 0
		value = 0
		ctrl = 1
;---------------------------------------------------------------------------
[Statedef 2110,竜巻A飛び道具ヘルパー]
	type = A ;
	movetype= A ;
	velset = 0,0
	anim = 11100 ;
	sprpriority = 10

	[State 1105, 影なし]
		type = AssertSpecial
		trigger1 = 1
		flag = Noshadow

	[State 1105, SE]
		type = PlaySnd
		trigger1 = time=0
		value = 500, 3

	[State 1105, 判定]
		type = HitDef
		triggerall = hitCount < 5
		triggerall = !moveGuarded && !moveReversed
		trigger1 = animElem = 3
		trigger2 = animElem = 4
		trigger3 = animElem = 5
		trigger4 = animElem = 6
		trigger5 = animElem = 7
		trigger6 = animElem = 8
		attr = S, SP
		id=2110
		damage = Ceil(ifelse(root,var(2) != 0,12,10)*root,fvar(1)),1
		getpower = 0
		animtype = up
		pausetime = 1,1
		guardflag = MA
		hitflag = MAF
		priority = 2
		sparkno = -1
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S200,1
		guardsound = S200,4
;		ground.type = trip
		ground.slidetime = 5
		ground.hittime = 5
		ground.velocity = -1.5 ,-3
		guard.velocity = -4
		air.velocity = -1.5,-9
		airguard.velocity = -1.5, -2.5
		ground.cornerpush.veloff = 0
		guard.cornerpush.veloff = 0
		air.cornerpush.veloff = 0
		airguard.cornerpush.veloff = 0
		fall = 1
		fall.recovertime =32
		Yaccel=0.45

	[State 1105,キャンセルフラグ初期化]
		Type = VarSet
		Trigger1 = movehit =1
		var(1) = target(2110),Pos y
		ignorehitpause = 1
		persistent=0

	[State 1105, 線形ヒットエフェ]
		type = Explod
		triggerall = NumExplod(13520) < 1
		trigger1=hitcount=1
		anim = 13520+random%10
		id=13520
		postype = p1
		Pos = 0,-50+var(1) - random%100
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.5,0.5
		sprpriority = 9
		ignorehitpause = 1
		persistent=0

	[State 1105, 線形ヒットエフェ]
		type = Explod
		triggerall = NumExplod(13520) < 2
		trigger1=hitcount=3
		anim = 13520+random%10
		id=13520
		postype = p1
		Pos = 0,-50+var(1) - random%100
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.5,0.5
		sprpriority = 9
		ignorehitpause = 1
		persistent=0

	[State 1105, 線形ヒットエフェ]
		type = Explod
		triggerall = NumExplod(13520) < 3
		trigger1=hitcount=5
		anim = 13520+random%10
		id=13520
		postype = p1
		Pos = 0,-50+var(1) - random%100
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.5,0.5
		sprpriority = 9
		ignorehitpause = 1
		persistent=0

	[State 1105, 拡散ヒットエフェ]
		type = explod
		trigger1 = movehit
		anim = 13100
		id=13100
		postype = p1
		Pos = 0,-50+var(1) - random%10
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.6,0.6
		sprpriority = 8
		persistent = 0
		ignorehitpause = 1
	
	[State 1105, ヒットカウント持続]
		type = ChangeState
		trigger1 = numtarget
		trigger1 = movehit
		trigger1 = animtime=0
		value = 2111

	[State 1105, 消滅移行]
		type = DestroySelf
		trigger1 = animtime=0
;---------------------------------------------------------------------------
[Statedef 2111,ヒットカウント用]
type = A ;           通常
movetype= I ;         攻撃
;physics = S ;           
velset = 0,0
anim = 29999 ;
sprpriority = 10

	[State 2011, 影なし]
		type = AssertSpecial
		trigger1 = 1
		flag = Noshadow

	[State 2011, 位置設定]
		type = posset
		trigger1 = time = 0
		x = 9999

	[State 2011, 消滅]
		type = DestroySelf
		trigger1 = !numtarget(2110)

;---------------------------------------------------------------------------
[Statedef 2120,竜巻Bヘルパー]
	type = A ;
	movetype= A ;
	velset = 0,0
	anim = 11120 ;
	sprpriority = 10
	
	[State 2120, 影なし]
		type = ChangeAnim
		trigger1 = time = 0
		value = 11120
		elem = 2

	[State 2120, 影なし]
		type = AssertSpecial
		trigger1 = 1
		flag = Noshadow

	[State 1105, SE]
		type = PlaySnd
		trigger1 = time=0
		value = 500, 3

	[State 2120, 判定]
		type = HitDef
		triggerall = hitCount < 4
		triggerall = !moveGuarded && !moveReversed
		trigger1 = animElem = 2
		trigger2 = animElem = 3
		trigger3 = animElem = 4
		trigger4 = animElem = 5
		attr = S, HP
		damage = Ceil(ifelse(root,var(2) != 0,12,10)*root,fvar(1)),2
		getpower = 0
		animtype = back
		pausetime = 2,2
		guardflag = MA
		hitflag = MAF
		priority = 2
		sparkno = -1
		guard.sparkno = S10000
		sparkxy = 0,-35
		hitsound = S200,1
		guardsound = S200,4
;		ground.type = trip
		ground.slidetime = 5
		ground.hittime = 5
		ground.velocity = -.5, -2.5
		guard.velocity = -4
		air.velocity =-.5, -2.5
		airguard.velocity =  -4,-3
		ground.cornerpush.veloff = 0
		guard.cornerpush.veloff = 0
		air.cornerpush.veloff = 0
		airguard.cornerpush.veloff = 0
		fall = 1
		fall.recover=0
		Yaccel=0.35
		id =2120

	[State 1105,キャンセルフラグ初期化]
		Type = VarSet
		trigger1=hitcount=1
		var(1) = target(2120),Pos y
		ignorehitpause = 1
		persistent=0

	[State 1105, 線形ヒットエフェ]
		type = Explod
		triggerall = NumExplod(13520) < 1
		trigger1=hitcount=1
		anim = 13520+random%10
		id=13520
		postype = p1
		Pos = 0,-50+var(1) - random%10
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.5,0.5
		sprpriority = 9
		ignorehitpause = 1
		persistent=0

	[State 1105, 線形ヒットエフェ]
		type = Explod
		triggerall = NumExplod(13520) < 2
		trigger1=hitcount=3
		anim = 13520+random%10
		id=13520
		postype = p1
		Pos = 0,-50+var(1) - random%10
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.5,0.5
		sprpriority = 9
		ignorehitpause = 1
		persistent=0

	[State 1105, 拡散ヒットエフェ]
		type = explod
		trigger1 = movehit
		anim = 13100
		id=13100
		postype = p1
		Pos = 0,-50+var(1) - random%10
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.6,0.6
		sprpriority = 8
		persistent = 0
		ignorehitpause = 1

	[State 2120, ヒットカウント持続]
		type = ChangeState
		trigger1 = numtarget
		trigger1 = movehit
		trigger1 = animtime=0
		value = 2121

	[State 2120, 消滅移行]
		type = DestroySelf
		trigger1 = animtime=0
;---------------------------------------------------------------------------
[Statedef 2121,ヒットカウント用]
type = A ;           通常
movetype= I ;         攻撃
;physics = S ;           
velset = 0,0
anim = 29999 ;
sprpriority = 10

	[State 2011, 影なし]
		type = AssertSpecial
		trigger1 = 1
		flag = Noshadow

	[State 2011, 位置設定]
		type = posset
		trigger1 = time = 0
		x = 9999

	[State 2011, 消滅]
		type = DestroySelf
		trigger1 = !numtarget(2120)
;---------------------------------------------------------------------------
[Statedef 2130,竜巻3ヘルパー]
	type = A ;
	movetype= A ;
	velset = 0,0
	anim = 11130 ;
	sprpriority = 10

	[State 2130, 影なし]
		type = AssertSpecial
		trigger1 = 1
		flag = Noshadow

	[State 2130, SE]
		type = PlaySnd
		trigger1 = time=0
		value = 500, 3

	[State 2130, 判定]
		type = HitDef
		triggerall = hitCount < 4
		triggerall = !moveGuarded && !moveReversed
		trigger1 = animElem = 3
		trigger2 = animElem = 4
		trigger3 = animElem = 5
		trigger4 = animElem = 6
		attr = S, HP
		damage = Ceil(ifelse(root,var(2) != 0,16,15)*root,fvar(1)),1
		getpower = 0
		animtype = diagup
		pausetime = 2,2
		guardflag = MA
		hitflag = MAF
		priority = 2
		sparkno = -1
		guard.sparkno = S10000
		sparkxy = 0,-50
		hitsound = S200,1
		guardsound = S200,4
;		ground.type = trip
		ground.slidetime = 5
		ground.hittime = 5
		ground.velocity = -4.5, -2.5
		guard.velocity = -4
		air.velocity =-4.5, -8.5
		airguard.velocity =  -4,-3
		ground.cornerpush.veloff = 0
		guard.cornerpush.veloff = 0
		air.cornerpush.veloff = 0
		airguard.cornerpush.veloff = 0
		fall = 1
		fall.recover=0
		Yaccel=0.45
		id=2130

	[State 1105,キャンセルフラグ初期化]
		Type = VarSet
		Trigger1 = movehit =1
		var(1) = target(2130),Pos y
		ignorehitpause = 1
		persistent=0

	[State 1105, 線形ヒットエフェ]
		type = Explod
		triggerall = NumExplod(13520) < 1
		trigger1=hitcount=1
		anim = 13520+random%10
		id=13520
		postype = p1
		Pos = 0,-50+var(1) - random%10
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.5,0.5
		sprpriority = 9
		ignorehitpause = 1
		persistent=0

	[State 1105, 線形ヒットエフェ]
		type = Explod
		triggerall = NumExplod(13520) < 2
		trigger1=hitcount=3
		anim = 13520+random%10
		id=13520
		postype = p1
		Pos = 0,-50+var(1) - random%10
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.5,0.5
		sprpriority = 9
		ignorehitpause = 1
		persistent=0

	[State 1105, 線形ヒットエフェ]
		type = Explod
		triggerall = NumExplod(13520) < 3
		trigger1=hitcount=5
		anim = 13520+random%10
		id=13520
		postype = p1
		Pos = 0,-50+var(1) - random%10
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.5,0.5
		sprpriority = 9
		ignorehitpause = 1
		persistent=0

	[State 1105, 拡散ヒットエフェ]
		type = explod
		trigger1 = movehit
		anim = 13100
		id=13100
		postype = p1
		Pos = 0,-50+var(1) - random%20
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.6,0.6
		sprpriority = 8
		persistent = 0
		ignorehitpause = 1

[State -2,壁吹き飛ばし]
	type = TargetState
	trigger1 = moveHit = 1
	value = 7000

[State -2,向き直し]
	type = TargetFacing
	trigger1 = moveHit = 1
	value = -1

[State -2,壁吹き飛ばしエフェクト]
	type = Explod
	triggerAll =Target,Pos Y > -5
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7010
	trigger1 = Target,Time = 1
	anim = 10060
	pos = 100, 0
	postype = p2
	bindtime = -1
	removetime = 80
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 2,2
	ontop = 1
	ownpal = 1
	facing =-1
	ignorehitpause = 1
	ID =13480

[State -2,壁吹き飛ばしエフェクト消し]
	type = RemoveExplod
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7020
	trigger1 = Target,Time = 1
	trigger2 = numExplod(13480)
	trigger2 = Target,StateNo != 7010
	trigger3 = numExplod(13480)
	trigger3 =Target,Pos Y > 0
	ID =13480

[State -2,壁ぶつかりエフェクト]
	type = Explod
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7020
	trigger1 = Target,Time = 1
	anim = 12210
	pos = -10, -70
	postype = p2
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = .5,.5
	ontop = 1
	ownpal = 1
	facing =-1
	ignorehitpause = 1

[State -2,床ぶつかりエフェクト]
	type = Explod
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7040
	trigger1 = Target,Time = 1
	anim = 10080
	pos = 0, 0
	postype = p2
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 1,1
	ontop = 1
	ownpal = 1
	facing =-1
	ignorehitpause = 1

[State -2, 壁ぶつかり音]
	type = PlaySnd
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7020
	trigger1 = Target,Time = 1
	value = 200, 15
	channel=2

[State -2, 床ぶつかり音]
	type = PlaySnd
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7040
	trigger1 = Target,Time = 1
	value = 500, 2
	channel=3

[State -2,壁バウンド吹っ飛び]
	type = TargetVelSet
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7010
	trigger1 = Target,Time = 1
	x = -30

[State -2,壁バウンド時ちょっと上昇]
	type = Targetvelset
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7020
	trigger1 = Target,Time = 1
	y = -1.5

[State -2,重力加算]
	type = Targetveladd
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7020
	y = 0.45

	[State 2130, ヒットカウント持続]
		type = ChangeState
		trigger1 = numtarget
		trigger1 = var(5)=1
		trigger1 = animtime=0
		value = 2131

	[State 2130, 消滅移行]
		type = DestroySelf
		trigger1 = var(5)=0
		trigger1 = animtime=0

;---------------------------------------------------------------------------
[Statedef 2131,ヒットカウント用]
type = A ;           通常
movetype= I ;         攻撃
;physics = S ;           
velset = 0,0
anim = 29999 ;
sprpriority = 10

	[State 2011, 影なし]
		type = AssertSpecial
		trigger1 = 1
		flag = Noshadow

	[State 2011, 位置設定]
		type = posset
		trigger1 = time = 0
		x = 50

[State -2,壁吹き飛ばしエフェクト消し]
	type = RemoveExplod
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7020
	trigger1 = Target,Time = 1
	trigger2 = numExplod(13480)
	trigger2 = Target,StateNo != 7010
	trigger3 = numExplod(13480)
	trigger3 =Target,Pos Y > 0
	ID =13480

[State -2,重力加算]
	type = Targetveladd
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7030
	y = 0.1

[State -2,床ぶつかりエフェクト]
	type = Explod
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7040
	trigger1 = Target,Time = 1
	anim = 10080
	pos = 0, 0
	postype = p2
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 1,1
	ontop = 1
	ownpal = 1
	facing =-1
	ignorehitpause = 1

[State -2, 床ぶつかり音]
	type = PlaySnd
	trigger1 = numTarget
	trigger1 = Target,StateNo = 7040
	trigger1 = Target,Time = 1
	value = 500, 2
	channel = 3

	[State 2011, ターゲットフラグ初期化]
		type = ParentVarSet
		trigger1 = !numtarget(2130)
		var(5) = 0

	[State 2011, 消滅]
		type = DestroySelf
		trigger1 = !numtarget(2130)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;血液逆流EX
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2200,血液逆流本体]
	type    = S
	movetype= A
	physics = S
	anim = 1220
	velset = 0,0
	poweradd = -1000
;	juggle  = 1
	ctrl = 0
	sprpriority = 2
	facep2 = 1

[State -2]
type = attackmulset
trigger1 = PalNo != 12
value = 1
		
	[State -1,暗転処理]
		Type=envColor
		Trigger1=Time=0
		value=0,0,0
		Time=36
		under=1

	[State -1,時間停止]
		Type=SuperPause
triggerall = PalNo != 12
		Trigger1=Time=0
		Time=36
		MoveTime=22
		Sound=-1
		darken=0
		P2defmul=1
		Anim=-1
		IgnoreHitPause=1
		persistent = 0

	[State 2000,SE]
		Type=playSnd
		Trigger1=time=0
		value=600,1
		channel=-1

	[State -1,カットイン1]
		Type=Explod
		Trigger1=Time=0
		Anim=9000
		ID=9000
		PosType=Back
		Pos=0,45
		Ownpal=0
		Scale=0.5,0.5
		SprPriority=1
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1

	[State -1,超必殺エフェクト]
		Type=Explod
		Trigger1=Time=0
		Anim=12000
		Pos=floor(0*const(Size.xScale)),floor(-60*const(Size.yScale))
		sprPriority=4
		Ownpal=1
		RemoveonGetHit=1
		IgnoreHitPause=1
		persistent = 0
		Scale=const(Size.xScale),const(Size.yScale)
		SuperMoveTime=9999
bindtime = -1

	[State 2200, SE]
		type = PlaySnd
		trigger1 = anim = 1220
		trigger1 = AnimElemTime(3) = 0
		value = 400, 0

	[State 2200, 押し判定]
		type = PlayerPush
		trigger1 = anim = 1220
		trigger1 = AnimElemTime(7) >= 0
		trigger1 = AnimElemTime(9) <  0
		value = 0

	[State 2200 速度変更]
		type = VelSet
		trigger1 = anim = 1220
		trigger1 = AnimElemTime(4) = 0
		X = 150

	[State 2200 速度変更]
		type = Veladd
		triggerAll = anim = 1220
		trigger1 = AnimElemTime(4) = 1
		trigger2 = AnimElemTime(5) = 0
		X = 200

	[State 2200 速度変更]
		type = VelSet
		triggerAll = anim = 1220
		trigger1 = moveGuarded
		trigger2 = AnimElemTime(9) = 0
		X = 120
		persistent = 0

	[State 2200 速度変更]
		type = posadd
		triggerAll = anim = 1220
		trigger1 = moveGuarded
		X = 900
		persistent = 0

	[State 2200, 速度変更]
		type = VelSet
		trigger1 = anim = 1220
		trigger1 = AnimElemTime(10) = 0
		X = 0
	
	[State 2200, ボイス]
		type = PlaySnd
		trigger1 = anim = 1220
		trigger1 = AnimElem = 2
		value = 1200, 1

	[State 2200, ヒット定義]
		type = HitDef
triggerall = PalNo = 12
		triggerAll = anim = 1220
		triggerall = hitCount < 1
		triggerall = !moveGuarded && !moveReversed
		trigger1 = AnimElemtime(4) >= 0
		trigger1 = AnimElemtime(7) < 0
		attr = , HA
		damage = 0, 0
		animtype = Light
		guardflag = MA
		hitflag = MAF
		priority = 3, Hit
		pausetime = 0, 0
		sparkno = -1
		guard.sparkno = S10000
		sparkxy = -10, -76
		hitsound = s200, 13
		guardsound = 6, 0
		ground.type = High
		ground.slidetime = 5
		ground.hittime  = 12
		ground.velocity = -2
		airguard.velocity = -1.9,-.8
		air.type = High
		air.velocity = -1.4,-3
		air.hittime = 12
		fall = 1
		fall.recover = 0
		fall.recovertime = 9999999999999999
		ID = 2200

	[State 2200, ヒット定義]
		type = HitDef
triggerall = PalNo != 12
		triggerAll = anim = 1220
		triggerall = hitCount < 1
		triggerall = !moveGuarded && !moveReversed
		trigger1 = AnimElemtime(4) >= 0
		trigger1 = AnimElemtime(7) < 0
		attr = S, HA
		damage = 0, 0
		animtype = Light
		guardflag = MA
		hitflag = MAF
		priority = 3, Hit
		pausetime = 0, 0
		sparkno = -1
		guard.sparkno = S10000
		sparkxy = -10, -76
		hitsound = s200, 13
		guardsound = 6, 0
		ground.type = High
		ground.slidetime = 5
		ground.hittime  = 12
		ground.velocity = -2
		airguard.velocity = -1.9,-.8
		air.type = High
		air.velocity = -1.4,-3
		air.hittime = 12
		fall = 1
		fall.recover = 0
		fall.recovertime = 9999999999999999
		ID = 2200

	[State 2200, ステート奪取EX]
		type = TargetState
		trigger1 = anim = 1220
		trigger1 = NumTarget(2200)
		trigger1 = MoveHit=1
		value = 2250

	[State 2200, 速度変更]
		type = VelSet
		trigger1 = anim = 1220
		trigger1 = NumTarget(2200)
		trigger1 = MoveHit=1
		X = 0

	[State 2200, anim変更]
		type = Changeanim
		trigger1 = anim = 1220
		trigger1 = NumTarget(2200)
		trigger1 = MoveHit=1
		value = 1250

	[State 2200, ステート変更]
		type = ChangeState
		trigger1 = anim = 1220
		trigger1 = AnimTime = 0
		value = 0
		ctrl = 1

	[State 2210, カメラ制御]
		type = ScreenBound
;		trigger1 = 1
		trigger1 = anim = 1250
		trigger1 = animElemNo(0) >= 2
		value = 1
		movecamera = 0,0
	
	[State 2210, 位置調整]
		type = PosSet
		trigger1 = anim = 1250
		trigger1 = AnimElemNo(0) >= 2
		trigger1 = AnimElemNo(0) < 8
		X = 120*facing
	
	[State 2210, 相手固定]
		type = TargetBind
		trigger1 = anim = 1250
		trigger1 = AnimElemNo(0) < 8
		time = 1
		pos = 50, -10
	
	[State 2210, 状態変更]
		type = StateTypeSet
		trigger1 = anim = 1250
		trigger1 = AnimElemNo(0) = 2
		statetype = S
		movetype = A
		physics = S

	[State 2210, SE]
		type = PlaySnd
		trigger1 = anim = 1250
		trigger1 = AnimElemTime(2) = 0
		value = 200, 14
		
	[State 2210, 画面揺れ]
		type = EnvShake
		trigger1 = anim = 1250
		trigger1 = AnimElemTime(2) = 0
		time = 20
		freq = 50
		ampl = -16
		phase = 0

	[State 2210, ボイス]
		type = PlaySnd
		trigger1 = anim = 1250
		trigger1 = AnimElem = 5
		value = 1200, 3
	
	[State 2210, SE]
		type = PlaySnd
		trigger1 = anim = 1250
		trigger1 = AnimElem = 6
		value = 200, 8
	
	[State 2210,エフェクト]
		Type = Explod
		trigger1 = anim = 1250
		trigger1 = AnimElem = 6
		Anim = 11200
		PosType = P1
		Pos = 50, -70
		BindTime = 1
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 7
		ID = 11200
		persistent=0
	
	[State 2210,エフェクト]
		Type = Explod
		trigger1 = anim = 1250
		trigger1 = AnimElem = 6
		Anim = 11201
		PosType = P1
		Pos = 50, -70
		BindTime = 1
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 7
		ID = 11201
		persistent=0
	
	[State 2210,エフェクト]
		Type = Explod
		trigger1 = anim = 1250
		trigger1 = AnimElem = 6
		Anim = 1255;21000;1255
		PosType = Left;right;Left
		Pos = 0, 0
		BindTime = 1
		;facing = -1;
		Ownpal = 1
		Scale = 0.5,0.5
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5
		ID = 1255
		persistent=0
ontop = 1
trans = Sub
	
	[State 2210, SE]
		type = PlaySnd
		trigger1 = anim = 1250
		trigger1 = AnimElem = 7
		value = 200, 5

	[State 2210, ダメージ]
		type = TargetLifeAdd
		trigger1 = anim = 1250
		trigger1 = 	AnimElemtime(2) = 0
		value = -20
		kill =0
		
	[State 2210, ヒット]
		type = HitAdd
		trigger1 = anim = 1250
		trigger1 = 	AnimElemtime(2) = 0
		value = 1

	[State 2210, ダメージ]
		type = TargetLifeAdd
		trigger1 = anim = 1250
		trigger1 = 	AnimElemtime(6) = 0
		value = -120
		absolute = 1

[State 193, 画面全体色変更]
type = BgPalFX
trigger1 = anim = 1250
trigger1 = 	AnimElemtime(6) = 0
time = 45
add = 0,0,0
mul = 256,0,0
color = 256
invertall = 1

	[State 2210, ヒット]
		type = HitAdd
		trigger1 = anim = 1250
		trigger1 = 	AnimElemtime(6) = 0
		value = 1

	[State 1010, 移動速度]
		type = VelSet
		trigger1 = anim = 1250
		trigger1 = animelemtime(8) = 0
		x = const(velocity.run.back.x)
		y = -6.2
		persistent=0

	[State 1010, 空中移行]
		type = StateTypeSet
		trigger1 = anim = 1250
		trigger1 = animelemtime(8) = 0
		statetype = A
		physics = N

	[State 1010, 重力付加]
		type = VelAdd
		]trigger1 = anim = 1250
		trigger1 = StateType = A
		y = 0.5

	[State 1010, ステート変更]
		type = ChangeState
		trigger1 = anim = 1250
		trigger1 = StateType = A
		trigger1 = Vel Y > 0
		trigger1 = Pos Y >= 0
		value = 1040

[State 3100, ステート変更]
type = Changestate
trigger1 = win
		trigger1 = anim = 1250
		trigger1 = animelemtime(7) = 34
value = 7605
ctrl = 0

	[State 2210, ステート解放]
		type = TargetState
		trigger1 = anim = 1250
		trigger1 = animelemtime(8) = 0
		value = 2251

	[State 2210, SE]
		type = PlaySnd
		trigger1 = anim = 1250
		trigger1 = animelemtime(8) = 0
		value = 500, 2

	[State 2210,エフェクト]
		Type = Explod
		trigger1 = anim = 1250
		trigger1 = animelemtime(8) = 0
		Anim = 10080
		PosType = p2;right;Left
		Pos = 0, 0
		BindTime = 1
		RemoveTime = -2
		;facing = -1;
		Ownpal = 1
;		Scale = 0.5,0.5
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5
		ID = 1255
		persistent=0


;------------------------------------------------------------------------------
[Statedef 2250,血液逆流EX相手]
	type    = L
	movetype= H
	physics = N
	ctrl = 0
	sprpriority = 2
	facep2 = 1
	velset = 0,0

	;-------------------------------------------
	[State 2250, カメラ制御]
		type = ScreenBound
		trigger1 = 1
		value = 1
		movecamera = 0,0

	[State 2250, Anim変更]
		type = ChangeAnim2
		trigger1 = Time = 0
		value = 1270

	[State 2250, 押し判定]
		type = PlayerPush
		trigger1 = 1
		value = 0
	
	[State 2250, 押し判定]
		type = AssertSpecial
		trigger1 = 1
		flag = invisible

	;-------------------------------------------
	[State 2250, ステート変更]
		type = SelfState
		trigger1 = alive = 1
		trigger1 = Time = 300
		value = 5110

;------------------------------------------------------------------------------
[Statedef 2251,血液逆流相手開放]
	type    = U
	movetype= H
	physics = N
	ctrl = 0
	sprpriority = 2
	velset = 0,0
	
	[State 7040]
		type = changeanim
		trigger1 = Time = 0
		value = 5110;ifelse(selfanimexist(5051),5051,5030)

	[State 7040]
		type = velset
		trigger1 = Time = 0
		x = 0
		y = 0

	[State 7040]
		type = posset
		trigger1 = Time = 0
		y = 0

	[State 7040]
		type = EnvShake
		trigger1 = Time = 0
		time = 10
		freq = 60
		ampl = -4
		phase = 0
		persistent = 0

	[State 7040]
		type = screenbound
		trigger1 = 1
		value = 1
		movecamera = 0,0

	[State 7040]
		Type=SelfState
		Trigger1 = alive
		Trigger1 = time>=30
		value = 5120

	[State 7040]
		Type = SelfState
		Trigger1 =! alive
		Trigger1 = time >= 5
		value = 5110

	[State 7020,エラー用]
		type = SelfState
		trigger1 = Time >= 300
		value = 5050

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;地面砕きEX
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2305,地面砕きEX]
	type    = S
	movetype= A
	physics = S
	anim = 1510
	velset = 0,0
	poweradd = -1000
;	juggle  = 1
	ctrl = 0
	sprpriority = 2
	facep2 = 1

[State -2]
type = attackmulset
trigger1 = PalNo != 12
value = 1

;-----------------------------------暗転演出------------------------------------
	[State -1,暗転処理]
		Type=envColor
		Trigger1=Time=0
		value=0,0,0
		Time=36
		under=1

	[State -1,時間停止]
		Type=SuperPause
triggerall = PalNo != 12
		Trigger1=Time=0
		Time=36
		MoveTime=18
		Sound=-1
		darken=0
		P2defmul=1
		Anim=-1
		IgnoreHitPause=1
		persistent = 0

	[State 2000,SE]
		Type=playSnd
		Trigger1=time=0
		value=600,1
		channel=-1

	[State -1,カットイン1]
		Type=Explod
		Trigger1=Time=0
		Anim=9000
		ID=9000
		PosType=Back
		Pos=0,45
		Ownpal=0
		Scale=0.5,0.5
		SprPriority=1
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1

	[State -1,超必殺エフェクト]
		Type=Explod
		Trigger1=Time=0
		Anim=12000
		Pos=floor(0*const(Size.xScale)),floor(-70*const(Size.yScale))
		sprPriority=4
		Ownpal=1
		RemoveonGetHit=1
		IgnoreHitPause=1
		persistent = 0
		Scale=const(Size.xScale),const(Size.yScale)
		SuperMoveTime=9999
bindtime = -1
;-----------------------------------暗転演出------------------------------------


	[State 2310, ボイス]
		type = PlaySnd
		trigger1 = AnimElem = 1
		value = 1500, 1
		channel=0

	[State 2310, ヒット判定呼び出し]
		type = Helper
		trigger1 = animelemtime(11) = 5
		ID = 2310
		pos = 0,0
		postype = p1
		stateno = 2310
		helpertype = normal
		name = "earthquake"
		keyctrl = 0
		ownpal = 1

[State -2,床ぶつかりエフェクト]
	type = Explod
	trigger1 = animelemtime(11) = 0
	anim = 10090
	pos = 0, 0
	postype = p1
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 1.5,1.5
	ontop = 1
	ownpal = 1
	facing =-1

[State -2,床ぶつかりエフェクト]
	type = Explod
	trigger1 = animelemtime(11) = 0
	anim = 10090
	pos = 50, 0
	postype = p1
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 1.5,1.5
	ontop = 1
	ownpal = 1
	facing =-1

[State -2,床ぶつかりエフェクト]
	type = Explod
	trigger1 = animelemtime(11) = 0
	anim = 10090
	pos = 100, 0
	postype = p1
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 1.5,1.5
	ontop = 1
	ownpal = 1
	facing =-1

[State -2,床ぶつかりエフェクト]
	type = Explod
	trigger1 = animelemtime(11) = 0
	anim = 10090
	pos = 150, 0
	postype = p1
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 1.5,1.5
	ontop = 1
	ownpal = 1
	facing =-1

[State -2,床ぶつかりエフェクト]
	type = Explod
	trigger1 = animelemtime(11) = 0
	anim = 10090
	pos = 200, 0
	postype = p1
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 1.5,1.5
	ontop = 1
	ownpal = 1
	facing =-1

[State -2,床ぶつかりエフェクト]
	type = Explod
	trigger1 = animelemtime(11) = 0
	anim = 10090
	pos = 250, 0
	postype = p1
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 1.5,1.5
	ontop = 1
	ownpal = 1
	facing =-1

[State -2,床ぶつかりエフェクト]
	type = Explod
	trigger1 = animelemtime(11) = 0
	anim = 10090
	pos = 300, 0
	postype = p1
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 1.5,1.5
	ontop = 1
	ownpal = 1
	facing =-1

[State -2,床ぶつかりエフェクト]
	type = Explod
	trigger1 = animelemtime(11) = 0
	anim = 10090
	pos = -50, 0
	postype = p1
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 1.5,1.5
	ontop = 1
	ownpal = 1
	facing =-1

[State -2,床ぶつかりエフェクト]
	type = Explod
	trigger1 = animelemtime(11) = 0
	anim = 10090
	pos = -100, 0
	postype = p1
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 1.5,1.5
	ontop = 1
	ownpal = 1
	facing =-1

[State -2,床ぶつかりエフェクト]
	type = Explod
	trigger1 = animelemtime(11) = 0
	anim = 10090
	pos = -150, 0
	postype = p1
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 1.5,1.5
	ontop = 1
	ownpal = 1
	facing =-1

[State -2,床ぶつかりエフェクト]
	type = Explod
	trigger1 = animelemtime(11) = 0
	anim = 10090
	pos = -200, 0
	postype = p1
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 1.5,1.5
	ontop = 1
	ownpal = 1
	facing =-1

[State -2,床ぶつかりエフェクト]
	type = Explod
	trigger1 = animelemtime(11) = 0
	anim = 10090
	pos = -250, 0
	postype = p1
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 1.5,1.5
	ontop = 1
	ownpal = 1
	facing =-1

[State -2,床ぶつかりエフェクト]
	type = Explod
	trigger1 = animelemtime(11) = 0
	anim = 10090
	pos = -300, 0
	postype = p1
;	bindtime = -1
	supermovetime = 9999
	pausemovetime = 9999
	sprpriority = 9999
	scale = 1.5,1.5
	ontop = 1
	ownpal = 1
	facing =-1

[State 1200, 飛び道具を出す]
type = Projectile
trigger1 = animelemtime(11) = 0
		attr = S, SP
		damage = 30,10
		getpower = 0
		animtype = Light
		pausetime = 0,5
		guardflag = LHA
		hitflag = HLMAFDP
		priority = 2
		sparkno = s13100
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S600,0
		guardsound = S200,4
		ground.type = Low
		ground.slidetime = 30
		guard.slidetime = 17
		ground.hittime  = 30
		guard.hittime  = 15
		guard.ctrltime = 15
		ground.velocity =-5,0
		air.velocity = -5,0
		getpower = 120,5
		givepower =60,5
		fall = 0
offset = 50,-60
velocity = 0,-20
accel = 0,0
projID = 11000
projanim = 2300
projhitanim = -1
projremanim = -1
projscale = 1,1
projshadow = 0,0,0
projhits = 1
projmisstime = 1
projpriority = 1
projremovetime = -1

[State 1200, 飛び道具を出す]
type = Projectile
trigger1 = animelemtime(11) = 0
		attr = S, SP
		damage = 30,10
		getpower = 0
		animtype = Light
		pausetime = 0,5
		guardflag = LHA
		hitflag = HLMAFDP
		priority = 2
		sparkno = s13100
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S600,0
		guardsound = S200,4
		ground.type = Low
		ground.slidetime = 30
		guard.slidetime = 17
		ground.hittime  = 30
		guard.hittime  = 15
		guard.ctrltime = 15
		ground.velocity =-5,0
		air.velocity = -5,0
		getpower = 120,5
		givepower =60,5
		fall = 0
offset = 0,-60
velocity = 0,-20
accel = 0,0
projID = 11000
projanim = 2300
projhitanim = -1
projremanim = -1
projscale = 1,1
projshadow = 0,0,0
projhits = 1
projmisstime = 1
projpriority = 1
projremovetime = -1

[State 1200, 飛び道具を出す]
type = Projectile
trigger1 = animelemtime(11) = 0
		attr = S, SP
		damage = 30,10
		getpower = 0
		animtype = Light
		pausetime = 0,5
		guardflag = LHA
		hitflag = HLMAFDP
		priority = 2
		sparkno = s13100
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S600,0
		guardsound = S200,4
		ground.type = Low
		ground.slidetime = 30
		guard.slidetime = 17
		ground.hittime  = 30
		guard.hittime  = 15
		guard.ctrltime = 15
		ground.velocity =-5,0
		air.velocity = -5,0
		getpower = 120,5
		givepower =60,5
		fall = 0
offset = 100,-60
velocity = 0,-20
accel = 0,0
projID = 11000
projanim = 2300
projhitanim = -1
projremanim = -1
projscale = 1,1
projshadow = 0,0,0
projhits = 1
projmisstime = 1
projpriority = 1
projremovetime = -1

[State 1200, 飛び道具を出す]
type = Projectile
trigger1 = animelemtime(11) = 0
		attr = S, SP
		damage = 30,10
		getpower = 0
		animtype = Light
		pausetime = 0,5
		guardflag = LHA
		hitflag = HLMAFDP
		priority = 2
		sparkno = s13100
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S600,0
		guardsound = S200,4
		ground.type = Low
		ground.slidetime = 30
		guard.slidetime = 17
		ground.hittime  = 30
		guard.hittime  = 15
		guard.ctrltime = 15
		ground.velocity =-5,0
		air.velocity = -5,0
		getpower = 120,5
		givepower =60,5
		fall = 0
offset = 150,-60
velocity = 0,-20
accel = 0,0
projID = 11000
projanim = 2300
projhitanim = -1
projremanim = -1
projscale = 1,1
projshadow = 0,0,0
projhits = 1
projmisstime = 1
projpriority = 1
projremovetime = -1

[State 1200, 飛び道具を出す]
type = Projectile
trigger1 = animelemtime(11) = 0
		attr = S, SP
		damage = 30,10
		getpower = 0
		animtype = Light
		pausetime = 0,5
		guardflag = LHA
		hitflag = HLMAFDP
		priority = 2
		sparkno = s13100
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S600,0
		guardsound = S200,4
		ground.type = Low
		ground.slidetime = 30
		guard.slidetime = 17
		ground.hittime  = 30
		guard.hittime  = 15
		guard.ctrltime = 15
		ground.velocity =-5,0
		air.velocity = -5,0
		getpower = 120,5
		givepower =60,5
		fall = 0
offset = 200,-60
velocity = 0,-20
accel = 0,0
projID = 11000
projanim = 2300
projhitanim = -1
projremanim = -1
projscale = 1,1
projshadow = 0,0,0
projhits = 1
projmisstime = 1
projpriority = 1
projremovetime = -1

[State 1200, 飛び道具を出す]
type = Projectile
trigger1 = animelemtime(11) = 0
		attr = S, SP
		damage = 30,10
		getpower = 0
		animtype = Light
		pausetime = 0,5
		guardflag = LHA
		hitflag = HLMAFDP
		priority = 2
		sparkno = s13100
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S600,0
		guardsound = S200,4
		ground.type = Low
		ground.slidetime = 30
		guard.slidetime = 17
		ground.hittime  = 30
		guard.hittime  = 15
		guard.ctrltime = 15
		ground.velocity =-5,0
		air.velocity = -5,0
		getpower = 120,5
		givepower =60,5
		fall = 0
offset = 250,-60
velocity = 0,-20
accel = 0,0
projID = 11000
projanim = 2300
projhitanim = -1
projremanim = -1
projscale = 1,1
projshadow = 0,0,0
projhits = 1
projmisstime = 1
projpriority = 1
projremovetime = -1

[State 1200, 飛び道具を出す]
type = Projectile
trigger1 = animelemtime(11) = 0
		attr = S, SP
		damage = 30,10
		getpower = 0
		animtype = Light
		pausetime = 0,5
		guardflag = LHA
		hitflag = HLMAFDP
		priority = 2
		sparkno = s13100
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S600,0
		guardsound = S200,4
		ground.type = Low
		ground.slidetime = 30
		guard.slidetime = 17
		ground.hittime  = 30
		guard.hittime  = 15
		guard.ctrltime = 15
		ground.velocity =-5,0
		air.velocity = -5,0
		getpower = 120,5
		givepower =60,5
		fall = 0
offset = 300,-60
velocity = 0,-20
accel = 0,0
projID = 11000
projanim = 2300
projhitanim = -1
projremanim = -1
projscale = 1,1
projshadow = 0,0,0
projhits = 1
projmisstime = 1
projpriority = 1
projremovetime = -1

[State 1200, 飛び道具を出す]
type = Projectile
trigger1 = animelemtime(11) = 0
		attr = S, SP
		damage = 30,10
		getpower = 0
		animtype = Light
		pausetime = 0,5
		guardflag = LHA
		hitflag = HLMAFDP
		priority = 2
		sparkno = s13100
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S600,0
		guardsound = S200,4
		ground.type = Low
		ground.slidetime = 30
		guard.slidetime = 17
		ground.hittime  = 30
		guard.hittime  = 15
		guard.ctrltime = 15
		ground.velocity =-5,0
		air.velocity = -5,0
		getpower = 120,5
		givepower =60,5
		fall = 0
offset = -50,-60
velocity = 0,-20
accel = 0,0
projID = 11000
projanim = 2300
projhitanim = -1
projremanim = -1
projscale = 1,1
projshadow = 0,0,0
projhits = 1
projmisstime = 1
projpriority = 1
projremovetime = -1

[State 1200, 飛び道具を出す]
type = Projectile
trigger1 = animelemtime(11) = 0
		attr = S, SP
		damage = 30,10
		getpower = 0
		animtype = Light
		pausetime = 0,5
		guardflag = LHA
		hitflag = HLMAFDP
		priority = 2
		sparkno = s13100
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S600,0
		guardsound = S200,4
		ground.type = Low
		ground.slidetime = 30
		guard.slidetime = 17
		ground.hittime  = 30
		guard.hittime  = 15
		guard.ctrltime = 15
		ground.velocity =-5,0
		air.velocity = -5,0
		getpower = 120,5
		givepower =60,5
		fall = 0
offset = -100,-60
velocity = 0,-20
accel = 0,0
projID = 11000
projanim = 2300
projhitanim = -1
projremanim = -1
projscale = 1,1
projshadow = 0,0,0
projhits = 1
projmisstime = 1
projpriority = 1
projremovetime = -1

[State 1200, 飛び道具を出す]
type = Projectile
trigger1 = animelemtime(11) = 0
		attr = S, SP
		damage = 30,10
		getpower = 0
		animtype = Light
		pausetime = 0,5
		guardflag = LHA
		hitflag = HLMAFDP
		priority = 2
		sparkno = s13100
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S600,0
		guardsound = S200,4
		ground.type = Low
		ground.slidetime = 30
		guard.slidetime = 17
		ground.hittime  = 30
		guard.hittime  = 15
		guard.ctrltime = 15
		ground.velocity =-5,0
		air.velocity = -5,0
		getpower = 120,5
		givepower =60,5
		fall = 0
offset = -150,-60
velocity = 0,-20
accel = 0,0
projID = 11000
projanim = 2300
projhitanim = -1
projremanim = -1
projscale = 1,1
projshadow = 0,0,0
projhits = 1
projmisstime = 1
projpriority = 1
projremovetime = -1

[State 1200, 飛び道具を出す]
type = Projectile
trigger1 = animelemtime(11) = 0
		attr = S, SP
		damage = 30,10
		getpower = 0
		animtype = Light
		pausetime = 0,5
		guardflag = LHA
		hitflag = HLMAFDP
		priority = 2
		sparkno = s13100
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S600,0
		guardsound = S200,4
		ground.type = Low
		ground.slidetime = 30
		guard.slidetime = 17
		ground.hittime  = 30
		guard.hittime  = 15
		guard.ctrltime = 15
		ground.velocity =-5,0
		air.velocity = -5,0
		getpower = 120,5
		givepower =60,5
		fall = 0
offset = -200,-60
velocity = 0,-20
accel = 0,0
projID = 11000
projanim = 2300
projhitanim = -1
projremanim = -1
projscale = 1,1
projshadow = 0,0,0
projhits = 1
projmisstime = 1
projpriority = 1
projremovetime = -1

[State 1200, 飛び道具を出す]
type = Projectile
trigger1 = animelemtime(11) = 0
		attr = S, SP
		damage = 30,10
		getpower = 0
		animtype = Light
		pausetime = 0,5
		guardflag = LHA
		hitflag = HLMAFDP
		priority = 2
		sparkno = s13100
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S600,0
		guardsound = S200,4
		ground.type = Low
		ground.slidetime = 30
		guard.slidetime = 17
		ground.hittime  = 30
		guard.hittime  = 15
		guard.ctrltime = 15
		ground.velocity =-5,0
		air.velocity = -5,0
		getpower = 120,5
		givepower =60,5
		fall = 0
offset = -250,-60
velocity = 0,-20
accel = 0,0
projID = 11000
projanim = 2300
projhitanim = -1
projremanim = -1
projscale = 1,1
projshadow = 0,0,0
projhits = 1
projmisstime = 1
projpriority = 1
projremovetime = -1

[State 1200, 飛び道具を出す]
type = Projectile
trigger1 = animelemtime(11) = 0
		attr = S, SP
		damage = 30,10
		getpower = 0
		animtype = Light
		pausetime = 0,5
		guardflag = LHA
		hitflag = HLMAFDP
		priority = 2
		sparkno = s13100
		guard.sparkno = S10000
		sparkxy = 0,-30
		hitsound = S600,0
		guardsound = S200,4
		ground.type = Low
		ground.slidetime = 30
		guard.slidetime = 17
		ground.hittime  = 30
		guard.hittime  = 15
		guard.ctrltime = 15
		ground.velocity =-5,0
		air.velocity = -5,0
		getpower = 120,5
		givepower =60,5
		fall = 0
offset = -300,-60
velocity = 0,-20
accel = 0,0
projID = 11000
projanim = 2300
projhitanim = -1
projremanim = -1
projscale = 1,1
projshadow = 0,0,0
projhits = 1
projmisstime = 1
projpriority = 1
projremovetime = -1

	[State 2310, ステート変更]
		type = ChangeState
		triggerall = var(59) = 1
		triggerall = RoundState = 2
		triggerall = AnimTime = 0
		triggerall = power > 1999
TriggerAll=PalNo!=2
		trigger1 = p2movetype = H
		value = 2700

	[State 2310, ステート変更]
		type = ChangeState
		triggerall = var(59) = 1
		triggerall = RoundState = 2
		triggerall = AnimTime = 0
		triggerall = power > 999
		trigger1 = p2movetype = H
		value = 2200

	[State 2310, ステート変更]
		type = ChangeState
		trigger1 = AnimTime = 0
		value = 0
		ctrl = 1
		
;---------------------------------------------------------------------------
[Statedef 2310,地面砕きヘルパー]
	type = A ;
	movetype= A ;
	velset = 0,0
	anim =  1511;
	sprpriority = -1

	[State 2310, 影なし]
		type = AssertSpecial
		trigger1 = 1
		flag = Noshadow

 	[State 2310,地面衝撃エフェクト]
 		Type = Explod
 		trigger1 = time = 0
 		Anim = 11500
 		PosType = P1
 		Pos = 0, 5
 		BindTime = 1
 		Ownpal = 1
 		Scale = 1,0.25
 		IgnoreHitPause = 1
 		SuperMoveTime = 99999
 		PauseMoveTime = 99999
 		SprPriority = 3
 		ID = 10030

[State 10220, 判定発生]
type = Projectile
trigger1 = AnimElemtime(1) = 0
 		attr = S, HA
 		damage = 30, 0
 		animtype = Light
 		;guardflag = A
 		hitflag = HLMAFDP
 		priority = 3, Hit
 		pausetime = 7, 80
 		sparkno = -1
 		sparkxy = -10, -76
 		hitsound = s200, 14
 		guardsound = 6, 0
 		ground.type = High
 		ground.slidetime = 5
 		ground.hittime  = 12
 		ground.velocity = -1,-7.5
 		fall = 1
 		fall.recover = 0
 		fall.recovertime = 9999999999999999
 		id = 2310
 		Yaccel = 0.55

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
projID = 1511
projanim = 1511
projscale = 1, 1
projremove = 1
projremovetime = 6
velocity = 0,0
remvelocity = 0, 0
accel = 0, 0
velmul = 0, 0
projhits = 1
projmisstime = 0
projpriority = 1
projsprpriority = 1
projedgebound = 20
projstagebound = 20
projheightbound = -240, 1
offset = 0, 0
postype = p1
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


 	[State 2310, 地面を揺らす]
		type = EnvShake
		trigger1 = time = 0
		time = 15
		freq = 160
		ampl = -20
		phase = 0

	[State 2310, SE 地面衝撃音]
		type = PlaySnd
		trigger1 = time = 0
		value = 50, 0

	[State 2310, 消滅移行]
		type = DestroySelf
		trigger1 = animtime=0

;---------------------------------------------------------------------------
[Statedef 2311,ヒットカウント用]
type = A ;           通常
movetype= I ;         攻撃
;physics = S ;           
velset = 0,0
anim = 29999 ;
sprpriority = 10

	[State 2011, 影なし]
		type = AssertSpecial
		trigger1 = 1
		flag = Noshadow

	[State 2011, 位置設定]
		type = posset
		trigger1 = time = 0
		x = 50

	[State 2011, ターゲットフラグ初期化]
		type = ParentVarSet
		trigger1 = !numtarget(2310)
		var(5) = 0

	[State 2011, 消滅]
		type = DestroySelf
		trigger1 = !numtarget(2310)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ベクトルキックEX
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2350,ベクトルキックEX]
	type    = A
	movetype= A
	physics = N
	anim = 1320
	velset = 0,0
	poweradd = 0
	ctrl = 0
	sprpriority = 2
	facep2 = 1

	[State 6500, パワーゲージ増減]
		type = PowerAdd
		triggerall = var(58) = 0
		trigger1 = time = 0
		value = -500

[State -2]
type = attackmulset
trigger1 = PalNo != 12
value = 1

	[State 6661,]
		type = Explod
		trigger1 = AnimElem = 3
		anim = 13380
		ID = 13380
		pos = 0, 50
		postype = p1
	;	bindtime = -1
		supermovetime = 9999
		pausemovetime = 9999
		scale = 1, 1
		sprpriority = 3
		ownpal = 1
		removeongethit = 1

	[State 1300, ボイス]
		type = PlaySnd
		trigger1 = AnimElem = 1
		value = 1100, 0
channel = 0

[State -3] 
type = Afterimage
trigger1 = TIME = 1
trans = add
PalContrast =  250, 250, 250
PalBright = 0,0,0
time    =  -1
length  = 30
TimeGap = 1
;FrameGap = 1

[State 1020, 残像表示時間]
type = AfterImageTime
trigger1 = 1
time = 2

	[State 1300, 速度変更]
		type = VelSet
		trigger1 = time = 0
		X = 0
Y=0

	[State 1300, 速度変更]
		type = VelSet
		trigger1 = AnimElem = 6
		x = (p2dist x)-1

	[State 1300, 速度変更]
		type = VelSet
		trigger1 = AnimElemTime(6) = 1
		X = 0

	[State 1310, 反射SE]
		type = PlaySnd
		trigger1 = AnimElem = 3
		value = 400,0

  	[State 1300, ヒット定義]
 		type = HitDef
triggerall = PalNo = 12
 		trigger1 =! MoveContAct
		trigger1 =! MoveReversed
 		trigger1 = AnimElemTime(6) >= 0
 		attr = , SA
 		damage = 120, 10
 		animtype = down
 		guardflag = LHA
 		hitflag = MAF
 		priority = 5, Hit
 		pausetime = 12, 7
 		sparkno = -1
 		guard.sparkno = S10000
 		sparkxy = 0, -35
 		hitsound = s200, 14
 		guardsound = s200, 4
 		ground.type = High
 		ground.slidetime = 5
 		ground.hittime  = 12
 		ground.velocity = -6,-8
 		air.velocity = -6,-8
 		fall = 1
 ;		fall.recover = 0
 		fall.recovertime = 35
 		Yaccel = 0.55
 		fall = 1
 		fall.recover = 1
 		fall.recovertime = 9999999999999999
		envshake.time = 10
		envshake.freq = 120
		envshake.ampl = -4
		envshake.phase = 0
		id=2350

  	[State 1300, ヒット定義]
 		type = HitDef
triggerall = PalNo != 12
 		trigger1 =! MoveContAct
		trigger1 =! MoveReversed
 		trigger1 = AnimElemTime(6) >= 0
 		attr = A, SA
 		damage = 120, 10
 		animtype = down
 		guardflag = LHA
 		hitflag = MAF
 		priority = 5, Hit
 		pausetime = 12, 7
 		sparkno = -1
 		guard.sparkno = S10000
 		sparkxy = 0, -35
 		hitsound = s200, 14
 		guardsound = s200, 4
 		ground.type = High
 		ground.slidetime = 5
 		ground.hittime  = 12
 		ground.velocity = -6,-8
 		air.velocity = -6,-8
 		fall = 1
 ;		fall.recover = 0
 		fall.recovertime = 35
 		Yaccel = 0.55
 		fall = 1
 		fall.recover = 1
 		fall.recovertime = 9999999999999999
		envshake.time = 10
		envshake.freq = 120
		envshake.ampl = -4
		envshake.phase = 0
		id=2350

	[State 1300, ヒットエフェ]
		type = Explod
		Trigger1=movehit
		anim = 13470
		id=13520
		postype = p1
		Pos = 50,-35
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
;		scale = 0.5,0.5
		sprpriority = 3
		ignorehitpause = 1
		persistent=0

	[State 400, ステート変更]
		type = ChangeState
		triggerall = RoundState = 2
		triggerall = var(59) = 1
		trigger1 = MoveGuarded
		value = 860

	[State 1300, ステート変更]
		type = ChangeState
		Trigger1 = AnimTime = 0
		value = 50
		ctrl = 0
		
;------------------------------------------------------------------------------
;ベクトルキックEXヒットステート
;------------------------------------------------------------------------------
[Statedef 2360]
	Type = A
	MoveType = I
	physics = N
	velset = 0,0
	Ctrl = 0
	Anim = 1350
	Poweradd = 0
	sprPriority = 2
	
	[State 2440, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = anim =1350
		trigger2 = anim =1330

	[State 1350,land]
		Type = PosAdd
		Trigger1 = Time = 0
		y = -15
	
	[State 1350,land]
		Type = velSet
		Trigger1 = Time = 0
		x = -4.25
		y = -9.5

	[State 1300, ヒットエフェ]
		type = Explod
		Trigger1 = Time = 0
		anim = 11300
		id=13520
		postype = p2
		Pos = -10,-35
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.75,0.75
		sprpriority = 3
		ignorehitpause = 1
		persistent=0

	[State 1350,land]
		Type = veladd
		Trigger1 = anim = 1350
		y = 1.2

	[State 53,1]
		Type=VelSet
		Trigger1 = anim = 1350
		trigger1 = Pos Y >= 0
		x=0
		y=0

	[State 53,2]
		Type=PosSet
		Trigger1 = anim = 1350
		trigger1 = Pos Y >= 0
		y=0

	[State 1350,アニメ変更]
		Type = Changeanim
		Trigger1 = anim = 1350
		trigger1 = Pos Y >= 0
		value = 1330

	[State 1350,アニメ変更]
		Type = Changeanim
		Trigger1 = anim = 1330
		trigger1 = animtime = 0
		value = 1340

	[State 1300, SE]
		type = PlaySnd
		Trigger1 = time = 20
		value = 40, 6
		channel = -1

	[State 2510,燃焼エフェクト]
		type = Explod
		Trigger1 = time = 25
		anim = 11532
		pos = -5, 5
		postype = p2
		bindtime = -1
		removetime = 200
		supermovetime = 9999
		pausemovetime = 9999
		sprpriority = 9999
		scale = 1,1
		ontop = 1
		ownpal = 1
	;	facing =-1

	[State 1300, ボイス]
		type = PlaySnd
		Trigger1 = anim = 1340
		Trigger1 = animelemtime(1) = 1
		value = 1300, 2
		channel = 0
		volume = 0
		Persistent=0

	[State 1300, ボイス]
		type = PlaySnd
		Trigger1 = anim = 1340
		Trigger1 = animelemtime(1) = 1
		value = 40,6
		channel = -1
		volume = 99999
		Persistent=0

	[State 1300, ヒットエフェ]
		type = Explod
		Trigger1 = anim = 1340
		Trigger1 = animelemtime(4) = 15
		anim = 11310
		id=13520
		postype = p2
		Pos = -10,-35
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.75,0.75
		sprpriority = 3
		ignorehitpause = 1
		persistent=0

	[State 1300, SE]
		type = PlaySnd
		Trigger1 = anim = 1340
		Trigger1 = animelemtime(6) = 20
		value = 40, 7
		channel = -1
		Persistent=0

	[State 2510,爆発エフェクト]
		Type=Explod
		Trigger1 = anim = 1340
		Trigger1 = animelemtime(6) = 20
		Anim=11311
		PosType=p2
		Pos=-10,0
		Ownpal=0
		SprPriority=3
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		Scale = 1.5,1.5
		;bindtime = 0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 2510,爆発エフェクト]
		Type=Explod
		Trigger1 = anim = 1340
		Trigger1 = animelemtime(6) = 20
		Anim=11320
		PosType=p2
		Pos=-10,0
		Ownpal=0
		SprPriority=3
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		Scale = 1.5,1.5
		;bindtime = 0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 7020, 画面揺れ]
		type = EnvShake
		Trigger1 = anim = 1340
		Trigger1 = animelemtime(6) = 20
		time = 10
		freq = 50
		ampl = -10
		phase = 0
		
	[State 2430, ダメージ]
		type = HitAdd
		Trigger1 = anim = 1340
		Trigger1 = animelemtime(6) = 25
		value = 1

	[State 2430, ダメージ]
		type = TargetLifeAdd
		Trigger1 = anim = 1340
		Trigger1 = animelemtime(6) = 25
		value = -Ceil(ifelse(var(2) != 0,120,100)*fvar(1))
		absolute = 1
		Persistent=0

	[State 2400, ステート開放]
		type = TargetState
		Trigger1 = anim = 1340
		Trigger1 = animelemtime(6) = 32
		value = 2390

	[State 1350,End]
		Type = Changestate
		Trigger1 = anim = 1340
		trigger1 = animtime = 0
		value = 0
		ctrl = 1

;------------------------------------------------------------------------------
[Statedef 2370,相手やられ待機]
	type    = S
	movetype= H
	physics = S
	velset = 0,0

	[State 2460, 1]
		type = ChangeAnim2
		Trigger1 = Time = 0
		value = 1331

	[State 2440, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		
	[State 2440, ぶつかり判定消し]		
		type = PlayerPush
		trigger1 = 1
		value = 0

	[State 53,2]
		Type=PosSet
		Trigger1 = time = 0
		y=0


	[State 2490,黒]
		type = PalFX
		trigger1 = Time = 25
		time = 200
		add = 30,30,30
		mul =  188,50,20
		;-----------------------------------------------------------------------


	[State 2460, ステートend]
		type = SelfState
		trigger1 = time>=500
		value = 5050
;------------------------------------------------------------------------------
;---------------------------------------------------------------------------
;相手やられ壁激突
;---------------------------------------------------------------------------
[Statedef 2390,硬直時間]
	type = A
	movetype = H
	physics = N
	velset = 0,0

	[State 7000]
		type = changeanim
		trigger1 = 1
		value = 5002

	[State 7000]
		type = changestate
		trigger1 = hitshakeover
		value = 2391

	[State 7000,エラー用]
		type = SelfState
		trigger1 = Time >= 150
		value = 5050

;--------------------------------------
[Statedef 2391,ターゲット吹っ飛びステート]
	type = A
	movetype = H
	physics = N

	[State 2710]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

	[State 2710]
		type = VelSet
		trigger1 = time = 0
		x = -40
		persistent = 0

	[State 7010]
		type = playerpush
		trigger1 = 1
		value = 0

	[State 7010]
		type = changeanim
		trigger1 = Time = 0
		value = 5030

	[State 7010]
		type = changestate
		trigger1 = backedgebodydist<=10 || frontedgebodydist<=10
		value = 2392

	[State 7010,エラー用]
		type = SelfState
		trigger1 = Time >= 150
		value = 5050

;--------------------------------------
[Statedef 2392,壁バウンド]
	type = A
	movetype = H
	physics = N

	[State 7020, 画面揺れ]
		type = EnvShake
		trigger1 = Time = 0
		time = 20
		freq = 50
		ampl = -16
		phase = 0

	[State 2710]
		type = velset
		trigger1 =time =0
		y = -1.5
		persistent = 0

	[State 2710]
		type = veladd
		trigger1 =time =0
		y = 0.40
		persistent = 0

	[State 7020, 落下ダメージ]
		type = HitFallDamage
		trigger1 = time = 0

	[State 7020]
		type = turn
		trigger1 = Time = 0
		trigger1 = frontedgedist<backedgedist

	[State 7020]
		type = posset
		trigger1 = 1
		x = -160*facing

	[State 7020]
		type = posfreeze
		trigger1 = 1
		x = 1
		y = 1

	[State 7020]
		type = playerpush
		trigger1 = 1
		value = 1

	[State 7020]
		type = changeanim
		trigger1 = 1
		value = 5000

	[State 7020]
		type=changestate
		trigger1 = time>=4
		value = 2393

	[State 7020,エラー用]
		type = SelfState
		trigger1 = Time >= 15
		value = 5050

;--------------------------------------
[Statedef 2393,壁バウンド落下]
	type = A
	movetype = H
	physics = N

	[State 2710]
		type = VelSet
		trigger1 = time =0
		x = -.1
		y = -6.3
		persistent = 0

	[State 7030]
		type = veladd
		trigger1 = 1
		y = 0.5

	[State 7030]
		type = velset
		trigger1 = Time = 0
		x = -1
		y = -7

	[State 7030]
		type = changeanim
		trigger1 = Time = 0
		value = 5050;ifelse(selfanimexist(5051),5051,5030)

	[State 7030]
		type = playerpush
		trigger1 = 1;anim != 5110
		value = 0

	[State 7030,エラー用]
		type = SelfState
		triggerall = Vel Y > 0
		trigger1 = Pos Y >= 0
		value = 5100
		
	[State 7030,エラー用]
		type = SelfState
		trigger1 = Time >= 100
		value = 5050

;------------------------------------------------------------------------------

;===============================================================================
;2ゲージ
;===============================================================================
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;血流操作
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2400,血流操作]
	type    = S
	movetype= A
	physics = S
	anim = 1400
	velset = 0,0
	poweradd = -2000
	ctrl = 0
	sprpriority = 3
	facep2 = 1

[State -2]
type = attackmulset
trigger1 = PalNo != 12
value = 1
		
;-----------------------------------暗転演出------------------------------------
	[State -1,暗転処理]
		Type=envColor
		Trigger1=Time=0
		value=0,0,0
		Time=220
		under=1

		[State 3501,Hit Explod]
		Type=Explod
		trigger1 = time = 80
		Anim=9008
		Pos=0,0
		bindTime=-1
		PosType=left
		sprPriority=0
scale = 0.5,0.5
		SuperMoveTime=9999
		PauseMoveTime=9999

		[State 3501,Hit Explod]
		Type=Explod
		trigger1 = time = 150
		Anim=9009
		Pos=0,0
		bindTime=-1
		PosType=left
		sprPriority=0
scale = 0.5,0.5
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State -1,時間停止]
		Type=SuperPause
triggerall = PalNo != 12
		Trigger1=Time=0
		Time=220
		MoveTime=220
		Sound=-1
		darken=0
		P2defmul=1
		Anim=-1
		IgnoreHitPause=1
		persistent = 0

	[State -1,SE]
		Type=playSnd
		Trigger1=time=0
		value=600,1
		channel=-1

	[State -1,カットイン2_1]
		Type=Explod
		Trigger1=Time=0
		Anim=9002;1
		ID=9001
		PosType=back
		;Pos=-300,-50
		Ownpal=0
		Scale=0.5,0.5
		SprPriority=3
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1
		Pos=-80,0


	[State -1,超必殺エフェクト]
		Type=Explod
		Trigger1=Time=0
		Anim=12000
		Pos=floor(-0*const(Size.xScale)),floor(-75*const(Size.yScale))
		sprPriority=4
		Ownpal=1
		RemoveonGetHit=1
		IgnoreHitPause=1
		persistent = 0
		Scale=const(Size.xScale),const(Size.yScale)
		SuperMoveTime=9999
bindtime = -1
;-----------------------------------暗転演出------------------------------------

	[State 2400, ボイス]
		type = PlaySnd
		trigger1 = time = 0
		value = 1400, 5
		channel = 0
		
	[State 2400, SE 攻撃音]
		type = PlaySnd
		Trigger1=Anim = 1401	
		trigger1 = AnimElem = 6
		value = 250, 5	

	[State 2400,vel]
		Type=velSet
		Trigger1=AnimElem=1
		Trigger1=Anim = 1401
		x=6

	[State 2400,veladd]
		Type=velAdd
		Trigger1=AnimElem=3
		Trigger1=Anim = 1401
		x=4

	[State 2400,veladd]
		Type=velAdd
		Trigger1=AnimElem=6
		Trigger1=Anim = 1401
		x=0
		
	[State 2400, Anim変更]
		type = ChangeAnim
		trigger1 = time = 220
		value = 1401

	[State 2400,Hitdef]
		Type=HitDef
triggerall = PalNo = 12
		Trigger1=!MoveContAct
		Trigger1=!MoveReversed
		Trigger1=Anim = 1401
		Trigger1=AnimElemTime(5)>=0
		Trigger1=AnimElemTime(6)<0
		Attr=,HA
		AnimType=hard
		Air.AnimType=back
		Hitflag=MAFP
		Guardflag=MA
		Ground.Type=high
		SparkNo=-1
		Guard.SparkNo=S10000
		Sparkxy=-5,floor(-60*const(Size.yScale))
		HitSound=S200,6
		GuardSound=S1,1
		Damage=10,2
		Priority=6,Hit
		GetPower=0,0
		GivePower=24,12
		PauseTime=12,11
		Ground.SlideTime=28
		Guard.SlideTime=24
		Ground.HitTime=34
		Guard.HitTime=24
		Guard.CtrlTime=24
		Air.HitTime=24
		Ground.velocity=0
		Guard.velocity=-12
		Air.velocity=0,0
		AirGuard.velocity=-2.5,-5
		Ground.cornerpush.veloff=0
		Guard.cornerpush.veloff=-18
		Air.cornerpush.veloff=0
		AirGuard.cornerpush.veloff=0
		fall=0
		kill=0
		ID=2400
		
	[State 2400,Hitdef]
		Type=HitDef
triggerall = PalNo != 12
		Trigger1=!MoveContAct
		Trigger1=!MoveReversed
		Trigger1=Anim = 1401
		Trigger1=AnimElemTime(5)>=0
		Trigger1=AnimElemTime(6)<0
		Attr=S,HA
		AnimType=hard
		Air.AnimType=back
		Hitflag=MAFP
		Guardflag=MA
		Ground.Type=high
		SparkNo=-1
		Guard.SparkNo=S10000
		Sparkxy=-5,floor(-60*const(Size.yScale))
		HitSound=S200,6
		GuardSound=S1,1
		Damage=10,2
		Priority=6,Hit
		GetPower=0,0
		GivePower=24,12
		PauseTime=12,11
		Ground.SlideTime=28
		Guard.SlideTime=24
		Ground.HitTime=34
		Guard.HitTime=24
		Guard.CtrlTime=24
		Air.HitTime=24
		Ground.velocity=0
		Guard.velocity=-12
		Air.velocity=0,0
		AirGuard.velocity=-2.5,-5
		Ground.cornerpush.veloff=0
		Guard.cornerpush.veloff=-18
		Air.cornerpush.veloff=0
		AirGuard.cornerpush.veloff=0
		fall=0
		kill=0
		ID=2400

	[State 2400,攻撃エフェクト]
		Type = Explod
		Trigger1=Anim = 1401
		Trigger1=AnimElemTime(3)=0
		Anim = 11401
		PosType = P1
		Pos = 40,-55
		BindTime = -1
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5
;		ID = 11100
		persistent=0
		;trans = Add

	[State 2410,ヒットエフェクト血1]
		Type = Explod
		Trigger1 = MoveHit=1
		Anim = 11410
		PosType = P1
		Pos = 60,-40
		BindTime = -1
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5
		persistent=0

	[State 2410,ヒットエフェクト血2]
		Type = Explod
		Trigger1 = MoveHit=1
		Anim = 11411
		PosType = P1
		Pos = 60,-60
		BindTime = -1
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5
		persistent=0

	[State 2410, 相手固定]
		type = TargetBind
		Trigger1 = numtarget(2400)
		Trigger1 = MoveHit
		time = 1
		pos = 60,0

	[State 2400, ステート奪取]
		type = TargetState
		trigger1 = MoveHit = 1
		value = 2440

	[State 2400, ステート変更 当てたら移行]
		type = ChangeState
		Trigger1 = numtarget(2400)
		Trigger1 = MoveHit=1
		value=2410

	[State 2400, ステートend 外したら終了]
		type = ChangeState
		trigger1 = AnimTime = 0
		Trigger1=Anim = 1401
		value = 0
		ctrl = 1

;------------------------------------------------------------------------------
[Statedef 2410,乱舞開始]
	type    = S
	movetype= A
	physics = S
	anim = 1410
	ctrl = 0
	velset = 0,0
	sprpriority = 4

	[State 2440, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		
	[State 2440, ぶつかり判定消し]		
		type = PlayerPush
		trigger1 = 1
		value = 0

	[State 2410, 相手固定]
		type = TargetBind
		trigger1 = AnimElemtime(59) <= 0
		time = 1
		pos = 60,0

	[State 2410, ボイス]
		type = PlaySnd
		trigger1 = AnimElemtime(1) = 0
		value = 1400,6
volume = 255
		channel = 0

	[State 2410,位置増加]
		Type=posadd
		Trigger1=AnimElem=34
		x=10

	[State 2410,ヒット数増加]	
		type = HitAdd
		Trigger1=AnimElemTime(9)=0
		Trigger2=AnimElemTime(19)=0
		Trigger3=AnimElemTime(26)=0
		Trigger4=AnimElemTime(34)=0
		Trigger5=AnimElemTime(45)=0
		Trigger6=AnimElemTime(54)=0
		value = 1

	[State 2410,ダメージ]	
		type = TargetLifeAdd
		Trigger1=AnimElemTime(9)=0
		Trigger2=AnimElemTime(19)=0
		Trigger3=AnimElemTime(26)=0
		Trigger4=AnimElemTime(34)=0
		Trigger5=AnimElemTime(45)=0
		Trigger6=AnimElemTime(54)=0 
		value = -10
		id = 2400
		kill = 0
		absolute = 1

	[State 2410,ヒットエフェクト血1]
		Type = Explod
		Trigger1=AnimElemTime(9)=0
		Trigger2=AnimElemTime(19)=0
		Trigger3=AnimElemTime(26)=0
		Trigger4=AnimElemTime(34)=0
		Trigger5=AnimElemTime(45)=0
		Trigger6=AnimElemTime(54)=0 
		Anim = 11410
		PosType = P1
		Pos = 60,-40
		BindTime = -1
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5

	[State 2410,ヒットエフェクト血2]
		Type = Explod
		Trigger1=AnimElemTime(9)=0
		Trigger2=AnimElemTime(19)=0
		Trigger3=AnimElemTime(26)=0
		Trigger4=AnimElemTime(34)=0
		Trigger5=AnimElemTime(45)=0
		Trigger6=AnimElemTime(54)=0 
		Anim = 11411
		PosType = P1
		Pos = 60,-60
		BindTime = -1
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5

	[State 2410, SE]
		type = PlaySnd
		Trigger1=AnimElemTime(9)=0
		Trigger2=AnimElemTime(19)=0
		Trigger3=AnimElemTime(26)=0
		Trigger4=AnimElemTime(34)=0
		Trigger5=AnimElemTime(45)=0
		Trigger6=AnimElemTime(54)=0 
		value = 200,6+random%3
volume = -255

	[State 2410, ステート奪取]
		type = TargetState
		Trigger1=AnimElemTime(9)=0
		Trigger2=AnimElemTime(26)=0
		Trigger3=AnimElemTime(54)=0
		value = 2440

	[State 2410, ステート奪取]
		type = TargetState
		Trigger1=AnimElemTime(19)=0
		Trigger2=AnimElemTime(34)=0
		Trigger3=AnimElemTime(45)=0
		value = 2450

	[State 2410, ステート奪取]
		type = TargetState
		Trigger1=AnimElemTime(58)=0
		value = 2480

	[State 810, 相手固定];よくわからん
		type = null;TargetBind
		trigger1 = AnimElemTime(58)=0
		time = 20
		pos = 30, 0

	[State 810, 相手固定];よくわからん
		type = null;TargetBind
		trigger1 = AnimElemTime(58)=0
		time = 1
		pos = 12, -80

	[State 810, 相手固定];よくわからん
		type = TargetBind
		trigger1 = AnimElemTime(61)=0
		time = 1
		pos = 6, -30
		
	[State 810, 相手固定];よくわからん
		type = TargetBind
		trigger1 = AnimElemTime(62)=0
		time = 1
		pos = 0, -40

	[State 2410,攻撃エフェクト2]
		Type = Explod
		Trigger1=AnimElemTime(6)=0
		Anim = 11402
		PosType = P1
		Pos = 20,-60
		BindTime = -1
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5
;		ID = 11100
		persistent=0
		;trans = Add

	[State 2410,攻撃エフェクト3]
		Type = Explod
		Trigger1=AnimElemTime(18)=0
		Anim = 11403
		PosType = P1
		Pos = 30,0
		BindTime = -1
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5
;		ID = 11100
		persistent=0
		;trans = Add

	[State 2410,攻撃エフェクト4]
		Type = Explod
		Trigger1=AnimElemTime(25)=0
		Anim = 11404
		PosType = P1
		Pos = 0,0;40,-100
		BindTime = -1
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5
;		ID = 11100
		persistent=0
		;trans = Add

	[State 2410,攻撃エフェクト5]
		Type = Explod
		Trigger1=AnimElemTime(33)=0
		Anim = 11405
		PosType = P1
		Pos = 0,-55
		BindTime = -1
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5
;		ID = 11100
		persistent=0
		;trans = Add

	[State 2410,攻撃エフェクト6]
		Type = Explod
		Trigger1=AnimElemTime(43)=0
		Anim = 11406
		PosType = P1
		Pos = 20,-65
		BindTime = -1
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5
;		ID = 11100
		persistent=0
		;trans = Add

	[State 2410,攻撃エフェクト7]
		Type = Explod
		Trigger1=AnimElemTime(53)=0
		Anim = 11407
		PosType = P1
		Pos = 0,-80
		BindTime = -1
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5
;		ID = 11100
		persistent=0
		;trans = Add

	[State 2430, SE]
		type = PlaySnd
		trigger1 = time = 237
		value = 200, 6
		
	[State 2430, ボイス]
		type = PlaySnd
		trigger1 = AnimElemtime(59) = 0
		value = 1400, 7
		channel = -1

	[State 2430,ヒット数増加]	
		type = HitAdd
		trigger1 = AnimElemtime(58) = 02
		value = 1
		
	[State 2430, ステート解放]
		type = TargetState
		trigger1 = time = 237
		value = 2490

 	[State 2430, 地面を揺らす]
		type = EnvShake
		trigger1 = time = 237
		time = 150
		freq = 90
		ampl = -8
		phase = 0

	[State 2430, ダメージ]
		type = TargetLifeAdd
		trigger1 = time = 237
		value = -180
		absolute = 1

[State 6100, 砂煙]
type = Explod
Trigger1=time=237
anim = 8155
pos = 0, 80
postype = p2
bindtime = -1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1, 1
ownpal = 1
sprpriority = 2
ontop = 1

		[State 3501,Hit Explod]
		Type=Explod
		trigger1 = time = 237
		Anim=21000
		Pos=0,0
		bindTime=-1
		PosType=left
		sprPriority=10
		SuperMoveTime=9999
ownpal = 1
		PauseMoveTime=9999
ontop = 0

	[State 2430, 位置変更]
		type = PosAdd
		trigger1 = time = 237
		x = -26

	[State 400, ステート変更]
		type = ChangeState
		triggerall = RoundState = 2
		triggerall = var(59) = 1
		triggerall = power >= 2000
		triggerall = PalNo!= 2
		trigger1 = time = 248
		value = 2700

	[State 2430, ステートend]
		type = ChangeState
		trigger1 = time = 270
		value = 0
		ctrl = 1

;------------------------------------------------------------------------------
[Statedef 2440,相手やられ上段]
	type    = S
	movetype= H
	physics = S
	velset = 0,0

	[State 2440, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		
	[State 2440, ぶつかり判定消し]		
		type = PlayerPush
		trigger1 = 1
		value = 0

	[State 2460, 1]
		type = ChangeAnim;2
		Trigger1 = Time = 0
		value = 5000;1440

	[State 2460, 2]
		type = ChangeAnim2
		Trigger1 = animTime = 0
		value = 1440

	[State 2460, カメラ固定]		
		type = ScreenBound
		trigger1 = 1
		value = 0
		movecamera = 0,0
	
	[State 2460, ステートend]
		type = SelfState
		trigger1 = time >60
		trigger2 = !GetHitVar(IsBound) ;（※３）よくわからん
		value = 5050

;------------------------------------------------------------------------------
[Statedef 2450,相手やられ下段]
	type    = S
	movetype= H
	physics = S
	velset = 0,0
	
	[State 2450, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		
	[State 2450, ぶつかり判定消し]		
		type = PlayerPush
		trigger1 = 1
		value = 0
		
	[State 2450, 1]
		type = ChangeAnim;2
		Trigger1 = Time = 0
		value = 5010;1450
		
	[State 2450, 2]
		type = ChangeAnim2
		Trigger1 = animTime = 0
		value = 1450

	[State 2450, カメラ固定]		
		type = ScreenBound
		trigger1 = 1
		value = 0
		movecamera = 0,0

	[State 2450, エラー用]
		type = SelfState
		trigger1 = !GetHitVar(IsBound) ;（※３）よくわからん
		value = 5050
;------------------------------------------------------------------------------
[Statedef 2460,相手締め上げ]
	type    = A
	movetype= H
	physics = N
	velset = 0,0

	[State 2440, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		
	[State 2440, ぶつかり判定消し]		
		type = PlayerPush
		trigger1 = 1
		value = 0

	[State 2440, 自キャラ用]
		type = ChangeAnim
		TriggerAll = AuthorName = "otika"
		TriggerAll = Time = 0
		Trigger1 = name = "Kamijo toma"
		Trigger2 = name = "Accelerator"
		value = 1760

	[State 2440, 汎用]
		type = ChangeAnim2
		Trigger1 = !(name = "Kamijo toma"&& AuthorName = "otika")
		Trigger1 = !(name = "Accelerator"&& AuthorName = "otika")
		Trigger1 = Time = 0
		value = 1761

	[State 2460, 状態変更]
		type = StateTypeSet
		trigger1 = Time = 150
		statetype = A
		movetype = H
		physics = A

	[State 2460, カメラ固定]		
		type = ScreenBound
		trigger1 = 1
		value = 0
		movecamera = 0,0	

	[State 2460, ステートend]
		type = SelfState
		trigger1 = !GetHitVar(IsBound) ;（※３）よくわからん
		value = 5050

;------------------------------------------------------------------------------
[Statedef 2490,相手ふっとばし開放]
	type = A
	movetype = H
	physics = N
	sprpriority = 2

	[State 2490]
		type = veladd
		trigger1 = 1
		y = 0.8

	[State 2490]
		type = velset
		trigger1 = Time = 0
		x = -2.5
		y = -10

	[State 2490]
		type = changeanim
		trigger1 = Time = 0
		value = ifelse(selfanimexist(5051),5051,5030)

	[State 2490]
		type = changeanim
		trigger1 = anim=5030 && AnimTime = 0
		value = 5050

	[State 2490]
		type = changeanim
		trigger1 = vel y>-3 && anim = 5051
		value = 5061

	[State 2490]
		type = screenbound
		trigger1 = 1
		value = 1
		movecamera = 0,0

	[State 2490]
		type = playerpush
		trigger1 = 1
		value = 0

	[State 2490]
		type=selfstate
		triggerall = Vel Y > 0
		trigger1 = Pos Y >= 0
		value = 5100

[Statedef 2470]
	type    = A;空中
	movetype= H;ダメージ
	physics = N;重力の影響なし
	velset = 0,0

	[State 820, 1]
		type = ChangeAnim2;敵（今回は自キャラ）からアニメーションを参照します。
		Trigger1 = Time = 0
		value = 820

	[State 820, 4]
		type = changestate
		Trigger1 = AnimTime = 0
		value = 2480
		ctrl=0

;--------------------------------------		
[Statedef 2480,硬直時間]
	type = A
	movetype = H
	physics = N
	velset = 0,0

	[State 830]
		type = changeanim
		trigger1 = 1
		value = 5002
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;粉塵爆発
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2500,粉塵爆発]
	type    = S
	movetype= A
	physics = S
	anim = 1520
	velset = 0,0
	poweradd = -2000
;	juggle  = 1
	ctrl = 0
	sprpriority = 2
	facep2 = 1

[State -2]
type = attackmulset
trigger1 = PalNo != 12
value = 1

	[State 2500,時間設定]
		Type = VarSet
		Trigger1 = Time = 0
		var(9) = 265

	[State 2440, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = time = 0
		time = 200

	[State 2500,押せない]
		type = PlayerPush
		trigger1 = anim = 1520
		value = 0

	[State -1,ボイス]
		Type=playSnd
		Trigger1 = time = 0
		value = 191,1000
		channel = 0
		
;-----------------------------------暗転演出------------------------------------
	[State -1,暗転処理]
		Type=envColor
		Trigger1=Time=0
		value=0,0,0
		Time=172
		under=1

	[State -1,時間停止]
		Type=SuperPause
triggerall = PalNo != 12
		Trigger1=Time=0
		Time=170
		MoveTime=150
		Sound=-1
		darken=0
		P2defmul=1
		Anim=-1
		IgnoreHitPause=1
		persistent = 0

	[State -1,SE]
		Type=playSnd
		Trigger1=time=0
		value=600,1
		channel=-1

	[State -1,カットイン2_2]
		Type=Explod
		Trigger1=Time=0
		Anim=9002
		ID=9001
		PosType=back
		Pos=-80,20
		Ownpal=0
		Scale=0.5,0.5
		SprPriority=2
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1

	[State -1,超必殺エフェクト]
		Type=Explod
		Trigger1=Time=0
		Anim=12000
		Pos=floor(0*const(Size.xScale)),floor(-70*const(Size.yScale))
		sprPriority=4
		Ownpal=1
		RemoveonGetHit=1
		IgnoreHitPause=1
		persistent = 0
		Scale=const(Size.xScale),const(Size.yScale)
		SuperMoveTime=9999
bindtime = -1
;-----------------------------------暗転演出------------------------------------

 	[State 2500,地面衝撃エフェクト]
 		Type = Explod
 		trigger1 = Anim = 1520
 		trigger1 = AnimElemNo(0) = 5
 		Anim = 13500
 		PosType = P1
 		Pos = 5, 0
 		BindTime = 1
 		RemoveTime = 22
 		Ownpal = 1
 		Scale = 1,1
 		IgnoreHitPause = 1
 		SuperMoveTime = 99999
 		PauseMoveTime = 99999
 		SprPriority = 0
 		ID = 13500
 		persistent=0
 		trans = Add

  	[State 2500,粉塵エフェクト]
 		Type = Explod
 		trigger1 = Anim = 1520
 		trigger1 = AnimElemtime(6) = 0
 		Anim = 11510
 		PosType = p1
 		Pos = 0,-40
        BindTime = 1
 		Ownpal = 1
 		Scale = .75,.75
 		facing = -1
 		IgnoreHitPause = 1
 		SuperMoveTime = 99999
 		PauseMoveTime = 99999
 		SprPriority = 3
 		ID = 11510

  	[State 2500,粉塵エフェクト]
 		Type = Explod
 		trigger1 = Anim = 1520
 		trigger1 = AnimElemtime(6) = 0
 		Anim = 11511
 		PosType = p1
 		Pos = 0,-80
        BindTime = 1
 		Ownpal = 1
 		Scale = .85,.85
 		IgnoreHitPause = 1
 		SuperMoveTime = 99999
 		PauseMoveTime = 99999
 		SprPriority = 3
 		ID = 11510

	[State 2500,粉塵エフェクトを消す]
		type = RemoveExplod
		trigger1 = Anim = 1520
		trigger1 = AnimElemtime(9) = 0
		ID = 11510

 	[State 2500, 地面を揺らす]
		type = EnvShake
		trigger1 = Anim = 1520
		trigger1 = AnimElem = 6
		time = 5
		freq = 30
		ampl = -4
		phase = 0

	[State 2500, SE 地面衝撃音]
		type = PlaySnd
		trigger1 = Anim = 1520
		trigger1 = AnimElem = 6
		value = 40, 2

	[State 2500, SE 地面衝撃音]
		type = PlaySnd
		trigger1 = Anim = 1520
		trigger1 = AnimElem = 6
		value = 40, 5

	[State 2500, SE 地面衝撃音]
		type = PlaySnd
		trigger1 = Anim = 1520
		trigger1 = AnimElem = 6
		value = 40, 6

	[State 2500, SE 地面衝撃音]
		type = PlaySnd
		trigger1 = Anim = 1520
		trigger1 = AnimElem = 6
		value = 600, 0

	[State 2500, 粉塵爆発]
		type = Helper
		trigger1 = Anim = 1520
		trigger1 = AnimElem = 9
		ID = 2510
		pos = 0,0
		postype = p1
		stateno = 2510
		helpertype = normal
		name = "dust explosion"
		keyctrl = 0
		ownpal = 1

  	[State 2500,炎エフェクト]
 		Type = Explod
 		trigger1 = helper(2610),NumExplod = 0
		trigger1 = time > 160
 		Anim = 11530
 		PosType = p1
 		Pos = 0,20
        BindTime = 1
 		RemoveTime = -1
 		Ownpal = 1
 		Scale = 1,1
 		IgnoreHitPause = 1
 		SuperMoveTime = 99999
 		PauseMoveTime = 99999
 		SprPriority = 3
 		ID = 11530
 		removeongethit = 1
 		persistent=0

	[State 2500,炎エフェクトを消す]
		type = RemoveExplod
		trigger1 = time = var(9)
		ID = 11530
		
  	[State 2500,炎消滅エフェクト]
 		Type = Explod
 		trigger1 = time = var(9)
 		Anim = 11531
 		PosType = p1
 		Pos = 0,20
        BindTime = 1
 		Ownpal = 1
 		Scale = .75,.75
 		IgnoreHitPause = 1
 		SuperMoveTime = 99999
 		PauseMoveTime = 99999
 		SprPriority = 3
 		ID = 11531

[State -2, ヘルパーを出す]
type = Helper
triggerall = Time = 1
trigger1 = Pos Y <= 0
name = "contena"
stateno = 201
ID = 201
pos = -80,-220
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = 2
size.yscale = 2
helpertype = normal
 		SuperMoveTime = 99999
 		PauseMoveTime = 99999

	[State 1300, ヒットエフェ]
		type = Explod
		Trigger1 = time = 60
		anim = 11310
		id=13520
		postype = p1
		Pos = 0,-35
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.75,0.75
		sprpriority = 4
		ignorehitpause = 1
		persistent=0

	[State 2500, アニメ変更]
		type = Changeanim
		trigger1 = time = var(9)
		trigger1 = Anim = 1520
		value = 1521

	[State 2500, ステート変更]
		type = ChangeState
		trigger1 = Anim = 1521
		trigger1 = AnimTime = 0
		value = 0
		ctrl = 1

[Statedef 201]
type     = S
movetype = I
physics  = N
ctrl     = 0
anim     = 201
SprPriority = 3
velset = 0,7

[State 4009, 移動速度]
type = DestroySelf
trigger1 = Time = 60
y = 0
		
;---------------------------------------------------------------------------
[Statedef 2510,粉塵爆発ヘルパー]
	type = A ;
	movetype= A ;
	velset = 0,0
	anim =  1525;
	sprpriority = -1

	[State 2510, 影なし]
		type = AssertSpecial
		trigger1 = 1
		flag = Noshadow

	[State 2610, SE 爆発音]
		type = PlaySnd
		trigger1 = time = 0
		trigger2 = time = 2
		trigger3 = time = 6
		value = 1510, 0
		channel = 1

	[State 2510,爆発エフェクト]
		Type=Explod
		trigger1 = time = 0
		Anim=11550
		PosType=p1
		Pos=-0,0
		Ownpal=0
		SprPriority=3
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		;Scale = .5,.5
		bindtime = -1
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 2510,爆発エフェクト0]
		Type=Explod
		trigger1 = time = 3
		Anim=11541
		PosType=p1
		Pos=-20,-105
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 2510,爆発エフェクト1]
		Type=Explod
		trigger1 = time = 3
		Anim=11541
		PosType=p1
		Pos=-150,-100
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8
		
	[State 2510,爆発エフェクト2]
		Type=Explod
		trigger1 = time = 3
		Anim=11541
		ID=11510
		PosType=p1
		Pos=100,-100
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 2510,爆発エフェクト3]
		Type=Explod
		trigger1 = time = 3
		Anim=11541
		ID=11510
		PosType=p1
		Pos=150,0
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 2510,爆発エフェクト4]
		Type=Explod
		trigger1 = time = 3
		Anim=11542
		PosType=p1
		Pos=-80,-20
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 2510,爆発エフェクト5]
		Type=Explod
		trigger1 = time = 3
		Anim=11542
		PosType=p1
		Pos=100,-25
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 2510,爆発エフェクト6]
		Type=Explod
		trigger1 = time = 3
		Anim=11542
		PosType=p1
		Pos=80,-50
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 2510,爆発エフェクト7]
		Type=Explod
		trigger1 = time = 3
		Anim=11540
		PosType=p1
		Pos=-0,-0
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 2510,爆発エフェクト8]
		Type=Explod
		trigger1 = time = 3
		Anim=11540
		PosType=p1
		Pos=100,-20
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 10220, 判定発生]
		type = Projectile
		trigger1 = AnimElemtime(1) = 0
		trigger1 = !moveGuarded && !moveReversed
		attr = S, HA
		damage = 20,8
		getpower = 0
		animtype = up
		pausetime = 1,1
		guardflag = MA
		hitflag = MAF
;		affectteam = B
		priority = 2
		sparkno = -1
		guard.sparkno =S10000
		sparkxy = 20,-45
		hitsound = -1;S200,1
		guardsound = -1;S200,1
		ground.type = Low
		ground.slidetime = 5
		ground.hittime  = 25
		ground.velocity = -1,-7.5
		air.velocity = ifelse(animelemtime(5)<=0,-25,-10),ifelse(animelemtime(5)<=0,-18,-10)
		getpower = 0
		fall = 1
		fall.recover = 0
		;P2StateNo =7010
		yaccel = .425
		id=2510
		;燃焼-------------------------------------------------------------------
		palfx.time = 120
		palfx.mul = 168,50,20
		palfx.add = 30,30,30
		;-----------------------------------------------------------------------

		;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
		projID = 1525
		projanim = 1525
		projscale = 1, 1
		projremove = 1
		projremovetime = 12
		velocity = 0,0
		remvelocity = 0, 0
		accel = 0, 0
		velmul = 0, 0
		projhits = 12
		projmisstime = 0
		projpriority = 1
		projsprpriority = 1
		projedgebound = 20
		projstagebound = 20
		projheightbound = -240, 1
		offset = 0, 0
		postype = p1
		;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

	[State -2, 壁ぶつかり音]
		type = PlaySnd
		trigger1 = numTarget(2510)
		trigger1 = Target(2510),StateNo = 7020
		value = 0, 11

	[State -2]
		type = Targetvelset
		trigger1 = numTarget(2510)
		trigger1 = Target(2510),StateNo = 7020
		y = -1.5

	[State -2]
		type = Targetveladd
		trigger1 = numTarget(2510)
		trigger1 = Target(2510),StateNo = 7020
		y = 0.45

	[State -2]
		type = TargetVelSet
		trigger1 = numTarget(2510)
		trigger1 = Target(2510),StateNo = 7010
		trigger1 = animelemtime(5) >= 0
		x = -32
		y = -10
		
	[State -2]
		type = TargetVelSet
		trigger1 = numTarget(2510)
		trigger1 = Target(2510),StateNo = 7030
		x = -.1
		y = -8

	[State 2510, 消滅移行]
		type = DestroySelf
		trigger1 = var(5)=0
		trigger1 = animtime=0

;---------------------------------------------------------------------------
[Statedef 2511,ヒットカウント用]
type = A ;           通常
movetype= I ;         攻撃
;physics = S ;           
velset = 0,0
anim = 29999 ;
sprpriority = 10

	[State 2011, 影なし]
		type = AssertSpecial
		trigger1 = 1
		flag = Noshadow

	[State 2011, 位置設定]
		type = posset
		trigger1 = time = 0
		x = 9999


	[State 2011, 消滅]
		type = DestroySelf
		trigger1 = !numtarget(2510)
;===============================================================================
;3ゲージ
;===============================================================================
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;空気.zip
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 500]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 500
sprpriority = 0

[State 0]
type = PowerAdd
trigger1 = time = 0
value = -3000

[State 0]
type = Pause
triggerall = PalNo != 12
trigger1 = time = 0
time = 250
movetime =250

[State 0]
type = BGPalFX
trigger1 = time <=250
time = 1
add = 100,50,100

[State 0]
type = VarRandom
trigger1 = time = 0
v = 1
range = 0,1

[State 191, Snd 1]
type = PlaySnd
trigger1 = time = 0
value = s1600,2
channel = 0

[State 191, Snd 1]
type = PlaySnd
trigger1 = time = 0
value = s600,1

[State 191, Snd 1]
type = PlaySnd
trigger1 = time = 150
value = s1600,0
volume = 100
channel = 0

[State 600]
type = Helper
trigger1 = time = 0
helpertype = normal
pos = 10, -30
postype = p1
stateno = 501
ID = 501
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7
pausemovetime = 9999

[State 600]
type = Helper
trigger1 = AnimElem = 4
helpertype = normal
pos = 0, 0
postype = p1
stateno = 511
ID = 511
ownpal = 1
size.xscale = 0.1
size.yscale = 0.1
pausemovetime = 9999

	[State -1,カットイン3]
		Type=Explod
		Trigger1=Time=0
		Anim=9003
		ID=9003
		PosType=back
		Pos=-150,20
		Ownpal=0
		Scale=0.5,0.5
		SprPriority=3
		OnTop=1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1

[State 500, 無敵]
type = NotHitBy
value = SCA
trigger1 = 1

[State 195, 2]
type = ChangeState
trigger1 = Time = 250
value = 510
ctrl = 0
;---------------------------------------------------------------------------
;高電離気体2
[Statedef 510]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 510
sprpriority = 0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl =1
;===========================================================================
;必殺技（エフェクト1）
[Statedef 501]
type    = U
movetype= I
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 501
sprpriority = 5

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 310]
type = PalFX
trigger1 = time<=10
time = 100
mul = 256*time/10,256*time/10,256*time/10
invertall = 0

[State 0]
type = PlaySnd
trigger1 = time = 0
value = s7,4
volume = 0
channel = 1

[State 310]
type = PalFX
trigger1 = time>=25
time = 100
add = -256*(time-25)/35,-256*(time-25)/35,-256*(time-25)/35
invertall = 0

[State 600]
type = Helper
trigger1 = time = 0
helpertype = normal
pos = 0, 0
postype = p1
stateno = 502
ID = 502
ownpal = 1
size.xscale = 0.1
size.yscale = 0.1
supermovetime = 50
pausemovetime = 9999

[State 0]
type = Trans
trigger1 = 1
trans = add

[State 600]
type = DestroySelf
trigger1 = time >=35
;===========================================================================
;必殺技（エフェクト2）
[Statedef 502]
type    = U
movetype= I
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 502
sprpriority = 5

[State 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0]
type = Trans
trigger1 = Root,Stateno = 500
trans = add

[State 0]
type = Trans
trigger1 = Root,Stateno !=500
trans = sub

[State 310]
type = PalFX
trigger1 = time>=25
time = 100
add = -256*(time-25)/35,-256*(time-25)/35,-256*(time-25)/35
invertall = 0

[State 0]
type = AngleDraw
trigger1 = time>0
scale = time/2.0,time/2.0
value = 90

[State 0]
type = AngleAdd
trigger1 = 1
value = 20

[State 600]
type = DestroySelf
trigger1 = time >=35
;===========================================================================
;（エフェクト1）
[Statedef 511]
type    = A
movetype= I
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim =511
sprpriority = 2

[State 0]
type = ScreenBound
trigger1 = time <=100
value = 1
movecamera = 1,1

[State 0]
type = BindToRoot
trigger1 = 1
time = 1
facing = 0
pos = 5, -250

[State 191, Snd 1]
type = PlaySnd
trigger1 = time=0
value = s7,5
volume = 100
channel = 1

[State 0]
type = AngleDraw
trigger1 = time <250
scale = time/20.0,time/20.0

[State 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 410]
type = Trans
trigger1 = 1
trans = add

[State 600]
type = Helper
trigger1 = time%5=0
helpertype = normal
pos = 0, 0
postype = p1
stateno = 512
ID = 512
ownpal = 1
size.xscale = 1.0
size.yscale = 0.5
pausemovetime = 9999

[State 0]
type = EnvShake
trigger1 = time>=0
trigger1 = time%5=0
trigger1 = time<=100
time = 5
freq = 60
ampl = -5

[State 0]
type = EnvShake
trigger1 = time>=100
trigger1 = time%5=0
time = 5
freq = 60
ampl = -10

[State 600]
type = Helper
trigger1 = time = 224
helpertype = normal
pos = 0, 0
postype = p1
stateno = 513
ID = 513
ownpal = 1
size.xscale = 1.0
size.yscale = 1.0
keyctrl = 1

[State 600]
type = DestroySelf
trigger1 = time >= 225
trigger2 = Root,Stateno != 500
trigger2 = Root,Stateno != 510
;===========================================================================
;（エフェクト2）
[Statedef 512]
type    = A
movetype= I
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim =512
sprpriority = 2

[State 0]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 0, 0

[State 0]
type = Turn
trigger1 = Random = [0,500]
trigger1 = time = 0

[State 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 410]
type = Trans
trigger1 = 1
trans = add

[State 0]
type = VarRandom
trigger1 = time = 0
v = 1
range = -360,360

[State 1630];回転させる方向
type = AngleAdd
trigger1 = time = 0
value = Var(1)

[State 1630];回転させる制御？
type = AngleDraw
trigger1 = time>0
scale = (time-30)/30.0,(time-30)/30.0

[State 310]
type = PalFX
trigger1 = time<5
time = 50
mul = 256*time/5,256*time/5,256*time/5
invertall = 0

[State 310]
type = PalFX
trigger1 = time>10
time = 50
add = -256*(time-10)/10,-256*(time-10)/10,-256*(time-10)/10
invertall = 0

[State 600]
type = DestroySelf
trigger1 = time >= 20
;---------------------------------------------------------------------------
;エフェクト（追尾弾）
[Statedef 513]
type    = A
movetype= A
physics = N
juggle  = 0
ctrl = 0
velset = 0,0
anim = 511
sprpriority = 2

[State 6322, ASpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State 1001, Trans]
type = Trans
trigger1 = 1
trans = add

[State 200, 時間取得]
type = VarSet
trigger1 = Time = 0
var(49) = gametime

[State 1001, VarSet]
type = VarSet
trigger1 = time = 0
fvar(1) = root,fvar(1)
ignorehitpause = 1

[State 1001, VarSet]
type = VarSet
trigger1 = fvar(5) != root,fvar(5)
fvar(5) = root,fvar(5)
ignorehitpause = 1

[State 1001, VarSet]
type = VarSet
trigger1 = var(16) != root,var(16)
var(16) = root,var(16)
ignorehitpause = 1

[State 1001, VarSet]
type = VarSet
trigger1 = time = 0
fvar(31) = root,fvar(31)
ignorehitpause = 1

[State 7000, X軸距離]
type = VarSet
trigger1 = 1
fvar(10) = IfElse((P2Dist X=[0,1]),1,IfElse((P2Dist X=[-1,0]),-1,P2Dist X))

[State 7000, Y軸距離1]
type = VarSet
trigger1 = 1
fvar(11) = P2Dist Y + Enemy,Const(Size.Mid.Pos.Y)

[State 7000, Y軸距離2]
type = VarSet
trigger1 = 1
fvar(12) = IfElse((fvar(11)=[0,1]),1,IfElse((fvar(11)=[-1,0]),-1,fvar(11)))

[State 7000, 軸角度]
type = VarSet
trigger1 = 1
fvar(13) = atan(fvar(10)/fvar(12))-((Pi/2)*IfElse(fvar(12)<0,-1,1))

[State 7000, 初動角度]
type = VarSet
trigger1 = time = 0
fvar(14) = (44-Random%179)*(Pi/180.0)

[State 7000, 角度修正]
type = VarAdd
triggerall = fvar(13) > fvar(14)
trigger1 = (fvar(13) <= .5*Pi) && (fvar(13) >= -.5*Pi)
trigger2 = (fvar(13) >= .5*Pi)
trigger2 = fvar(14) >= 0
trigger3 = (fvar(13) <= -.5*Pi)
trigger3 = fvar(14) <= 0
fvar(14) = IfElse(fvar(13)-fvar(14)<4.8*(1+(time/36))*(Pi/180.0),fvar(13)-fvar(14),4.8*(1+(time/36))*(Pi/180.0))

[State 7000, 角度修正]
type = VarAdd
triggerall = fvar(13) <= fvar(14)
trigger1 = (fvar(13) <= .5*Pi) && (fvar(13) >= -.5*Pi)
trigger2 = (fvar(13) >= .5*Pi)
trigger2 = fvar(14) >= 0
trigger3 = (fvar(13) <= -.5*Pi)
trigger3 = fvar(14) <= 0
fvar(14) = IfElse(fvar(13)-fvar(14)>-4.8*(1+(time/36))*(Pi/180.0),fvar(13)-fvar(14),-4.8*(1+(time/36))*(Pi/180.0))

[State 2010, 変数]
Type = VarAdd
Trigger1 = fvar(14) <= 0
Trigger1 = (fvar(13) >= .5*Pi)
fvar(14) = -4.8*(1+(time/36))*(Pi/180.0)

[State 2010, 変数]
Type = VarAdd
Trigger1 = !var(0)
Trigger1 = fvar(14) >= 0
Trigger1 = (fvar(13) <= -.5*Pi)
fvar(14) = 4.8*(1+(time/36))*(Pi/180.0)

[State 7000, 角度修正]
Type = VarAdd
Trigger1 = fvar(14) >= 1*Pi || fvar(14) <= -1*Pi
fvar(14) = IfElse(fvar(14)>=1*Pi,-2*Pi,2*Pi)

[State 7000, VelSet]
type = Veladd
trigger1 = 1
x = 0.25*cos(fvar(14))
y = -0.25*sin(fvar(14))

[State 7000, 角度]
type = AngleDraw
trigger1 = 1

[State 7000, 角度]
type = AngleSet
trigger1 = (Vel X != 0)
value = ATan(Vel Y/Vel X)*(-180.0/Pi)+((Vel X<0)*180)

[State 7000, 角度]
type = AngleSet
trigger1 = (Vel X = 0)
value = IfElse(Vel Y<0,90,-90)

[State 1530]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = ,SP
hitflag = MAFD
guardflag = MA
affectteam = E
animtype = back
damage = 0,0
pausetime = 0, 0
guard.pausetime = 0, 10
sparkxy = -30, 0
sparkno = s2615
guard.sparkno = s2616
hitsound = S9999,9999
guardsound = S9999,9999
ground.slidetime = 10
ground.hittime = 10
guard.ctrltime = 10
ground.velocity = 0, 0
guard.velocity = 0
air.velocity = 0, 0
airguard.velocity = 0, 0
ground.cornerpush.veloff = 0
sprpriority = 0
fall = 1
air.fall = 0
fall.recover = 0
getpower = 0,0
numhits = 0

[State 1001, DSelf]
Type = ChangeState
trigger1 = Time = 100
trigger2 = MoveContact >= 2
value = 514
;===========================================================================
;（エフェクト1）
[Statedef 514]
type    = A
movetype =A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim =514
sprpriority = 2

[State 0]
type = EnvShake
trigger1 = time<=75
trigger1 = time%5=0
time = 5
freq = 90
ampl = -15

[State 1630];回転させる制御？
type = AngleDraw
trigger1 = 1
scale = 1.5,1.5

[State 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 410]
type = Trans
trigger1 = 1
trans = add

[State 310]
type = PalFX
trigger1 = time>75
time = 100
add = -256*(time-75)/25,-256*(time-75)/25,-256*(time-75)/25
invertall = 0

[State 191, Snd 1]
type = PlaySnd
trigger1 = time=0
value = s7,6
volume = 100
channel = 1

[State 200, ヒット定義]
type = HitDef
trigger1 = time=0
attr = ,SP
hitflag = MAFD
guardflag = MA
affectteam = E
animtype = up
damage = 400,100
pausetime = 0, 0
guard.pausetime = 0, 50
sparkxy = -30, 0
sparkno = s2615
guard.sparkno = s2616
hitsound = S2,3
guardsound = S2,4
ground.slidetime = 10
ground.hittime = 50
guard.ctrltime = 10
ground.velocity = -1, -20
guard.velocity = -20
air.velocity = -1, -20
airguard.velocity = -20, 0
ground.cornerpush.veloff = 0
sprpriority = 0
fall = 1
air.fall = 1
fall.recover = 0
getpower = 0,0
envshake.time = 20
envshake.freq = 90
envshake.ampl = -10
envshake.phase = 0

[State 3000];白
type = BGPalFX
trigger1 = time>0
trigger1 = time<75
time = 10
add = -250*(time-75)/75,-250*(time-75)/75,-250*(time-75)/75

[State 600]
type = DestroySelf
triggerall = time >= 100
trigger1 = Enemy,Movetype != H
trigger2 = Enemy,GethitVar(damage)
trigger3 = Enemy,Alive = 0
trigger3 = Enemy,Alive = 0

;===============================================================================
;4ゲージ
;===============================================================================
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;空気.zip(超電磁版)
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[StateDef 2700,]
	type    = S
	movetype= A
	physics = S
	anim = 1510
	velset = 0,0
	poweradd = -2000
;	juggle  = 1
	ctrl = 0
	sprpriority = 4
	facep2 = 1

[State -2]
type = attackmulset
trigger1 = PalNo != 12
value = 1

;-----------------------------------暗転演出------------------------------------
	[State -1,暗転処理]
		Type=envColor
		Trigger1=Time=0
		value=0,0,0
		Time=36
		under=1

	[State -1,時間停止]
		Type=SuperPause
triggerall = PalNo != 12
		Trigger1=Time=0
		Time=36
		MoveTime=18
		Sound=-1
		darken=0
		P2defmul=1
		Anim=-1
		IgnoreHitPause=1
		persistent = 0

	[State 2000,SE]
		Type=playSnd
		Trigger1=time=0
		value=600,1
		channel=-1

	[State 2000,SE]
		Type=playSnd
		Trigger1=time=0
		value=1400,10
		channel=0

	[State -1,カットイン1]
		Type=Explod
		Trigger1=Time=0
		Anim=9013
		ID=9013
		PosType=Back
		Pos=0,0
		Ownpal=0
		Scale=0.5,0.5
		SprPriority=3
		OnTop=0
bindtime = -1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State -1,超必殺エフェクト]
		Type=Explod
		Trigger1=Time=0
		Anim=12000
		Pos=floor(0*const(Size.xScale)),floor(-70*const(Size.yScale))
		sprPriority=5
		Ownpal=1
		RemoveonGetHit=1
		IgnoreHitPause=1
		persistent = 0
bindtime = -1
		Scale=const(Size.xScale),const(Size.yScale)
		SuperMoveTime=9999
;-----------------------------------暗転演出------------------------------------
 	[State 2310,地面衝撃エフェクト]
 		Type = Explod
 		trigger1 = animelem = 9
 		Anim = 11500
 		PosType = P1
 		Pos = 0, 5
 		BindTime = 1
 		Ownpal = 1
 		Scale = 1,0.25
 		IgnoreHitPause = 1
 		SuperMoveTime = 99999
 		PauseMoveTime = 99999
 		SprPriority = 3

 	[State 2310, 地面を揺らす]
		type = EnvShake
		trigger1 = animelem = 9
		time = 15
		freq = 160
		ampl = -20
		phase = 0

	[State 2000,SE]
		Type=playSnd
		Trigger1=animelem=9
		value=200,14
volume = 255

		[State 3501,Hit Explod]
		Type=Explod
		trigger1 = movehit = 1
		Anim=20002
		Pos=0,0
		bindTime=-1
		PosType=left
ownpal = 1
		sprPriority=-1

		[State 3501,Hit Explod]
		Type=Explod
		trigger1 = movehit = 1
		Anim=20003
		Pos=320,0
		bindTime=-1
		PosType=left
ownpal = 1
		sprPriority=-1

[State 4200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 9
attr = , SA
animtype = Up
damage = 0,0
getpower = 0
priority = 5
hitflag = MAF
guardflag = 
pausetime = 0,0
guard.pausetime = 60,60
sparkxy = -10,-60
sparkno = -1
hitsound = s40,18
guard.sparkno = -1
guardsound = -1
ground.type = Low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,-25
guard.velocity = 0
air.velocity = 0,-25
airguard.velocity = 0,-5
p2facing = 1
fall = 1
fall.recover = 0
fall.envshake.ampl = 6
fall.envshake.freq = 178
fall.envshake.time = 15
kill = 0
yaccel = .10

	[State 2700, 元気玉ステート移行]
		type = ChangeState
		trigger1 = movehit = 30
		value = 2710

	[State 2700, ステート終了]
		type = ChangeState
		trigger1 = animTime = 0
		value = 0
		ctrl = 1

;---------------------------------------------------------------------------
[StateDef 2710,]
	type    = S
	movetype= A
	physics = S
	anim = 1615
	velset = 0,0
;	juggle  = 1
	ctrl = 0
	sprpriority = 4
	facep2 = 1

	[State 2710, SE]
		type = PlaySnd
		trigger1 = animelem=4
		value = 500, 3

	[State 2710, 暴風エフェ]
		type = Explod
		trigger1 = animelem = 4
		anim = 11651
		id=11651
		postype = p1
		Pos = 0,0
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 0.8,0.8
		sprpriority = 9
		;facing = -1
		ignorehitpause = 1
		persistent=0

	[State 2700, ステート終了]
		type = ChangeState
		trigger1 = animTime = 0
		trigger1 = numexplod(11651) = 0
		value = 2720
		ctrl = 0

;---------------------------------------------------------------------------
[StateDef 2720,元気玉]
	type    = A
	movetype= A
	physics = N
	anim = 1650
	velset = 0,0
	poweradd = 0
;	juggle  = 1
	ctrl = 0
	sprpriority = 4
	facep2 = 1

[State 4200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 6
attr = , SA
animtype = Up
damage = 300,0
getpower = 0
priority = 5
guardflag = 
pausetime = 0,0
guard.pausetime = 60,60
sparkxy = -10,-60
sparkno = -1
hitsound = s40,18
guard.sparkno = -1
guardsound = -1
ground.type = Low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -12,-25
guard.velocity = 0
air.velocity = -12,-25
airguard.velocity = 0,-5
p2facing = 1
fall = 1
fall.recover = 0
fall.envshake.ampl = 6
fall.envshake.freq = 178
fall.envshake.time = 15
yaccel = .8

	[State 200, 線形ヒットエフェ]
		type = explod
		trigger1 = animelemtime(6)=1
		anim = 13520+random%10
		id=13520
		postype = p2
		Pos = 0, -30
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 3,3
		sprpriority = 9
		persistent = 0
ontop=1
		ignorehitpause = 1

	[State 2720,俺だけの時間だぜ]
		type = Pause
		trigger1 = animelemtime(6)=1
		time = 50

[State 193, 画面全体色変更]
type = AllPalFX
trigger1 = AnimElemtime(6)=1
time = 50
add = 0,0,0
mul = 256,256,256
color = 256
invertall = 1

	[State 200, 拡散ヒットエフェ]
		type = Explod
		trigger1 = animelemtime(6)=1
		anim = 13100
		id=13100
		postype = p2
		Pos = 0, -30
		pausemovetime = 999
		supermovetime = 999
		ownpal = 1
		scale = 3,3
		sprpriority = 8
		persistent = 0
ontop=1
		ignorehitpause = 1

	[State -1,カットイン1]
		Type=Explod
		Trigger1=animelem=4
		Anim=9014
		ID=9014
		PosType=Back
		Pos=0,0
		Ownpal=0
		Scale=0.5,0.5
		SprPriority=3
		OnTop=0
bindtime = -1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

[State explod];背景を描画
type = Explod
trigger1 = time = 0
anim = 27015
id = 6500
sprpriority = -999
postype = back
pos = 640,0
vel = 16,0
bindtime = -1
removetime = -1
facing = -1
pausemovetime = 99999999999999999
supermovetime = 9999999999999999
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1
sprpriority = 1


[State explod];背景を描画
type = Explod
trigger1 = time = 0
anim = 27015
id = 6500
sprpriority = -999
postype = back
pos = 1280,0
vel = 16,0
bindtime = -1
removetime = -1
facing = -1
pausemovetime = 9999999999999
supermovetime = 9999999999999
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1
sprpriority = 1

	[State 2730,気絶ステート以降]
		type = TargetState
		trigger1 = time=0
		value = 90764

	[State 2720,位置設定]
		type = PosSet
		triggerall = facing = 1
		trigger1 = time = 0
		x = 0
		y = 0

	[State 2720,位置設定]
		type = PosSet
		triggerall = facing = -1
		trigger1 = time = 0
		x = 0
		y = 0

	[State 2720, 伸縮]
		type = AngleDraw
		trigger1 = 1
		scale = 1.5,1.5

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= time = 0
		Trigger2= animelemtime(6)=1
		value=400,0

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= animelemtime(6)=1
		value=200,0

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= animelemtime(6)=1
		value=200,1

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= animelemtime(6)=1
		value=200,2

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= animelemtime(6)=1
		value=200,3

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= animelemtime(6)=1
		value=200,4

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= animelemtime(6)=1
		value=200,5

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= animelemtime(6)=1
		value=200,6

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= animelemtime(6)=1
		value=200,7

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= animelemtime(6)=1
		value=200,8

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= animelemtime(6)=1
		value=200,9

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= animelemtime(6)=1
		value=200,10

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= animelemtime(6)=1
		value=200,11

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= animelemtime(6)=1
		value=200,12

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= animelemtime(6)=1
		value=200,13

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= animelemtime(6)=1
		value=200,14

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= animelemtime(6)=1
		value=200,15

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= animelemtime(6)=1
		value=200,16

	[State 2720,ボイス]
		Type=playSnd
		Trigger1= animelem = 4
		value=1400,11
		channel=0

	[State 2830, 特殊演出]
		type = AssertSpecial
 		trigger1 = 1
		flag = globalnoshadow
		flag2 = nobardisplay

	[State 2730,エフェクト消滅]
		type = RemoveExplod
		trigger1 = animelemtime(7) = 1;65
		ID = 6500

	[State -1,超必殺エフェクト]
		Type=Explod
		Trigger1=animelemtime(7) = 1
		Anim=46030
		Pos=0,0
		sprPriority=4
		Ownpal=1
postype = back
		RemoveonGetHit=1
		IgnoreHitPause=1
		persistent = 0
		Scale=1,1
		SuperMoveTime=9999
bindtime = -1
ontop = 1
trans = add

	[State -1,SE]
		Type=playSnd
		trigger1 = animelemtime(7) = 1
		value=40,13

	[State 2720, ステート変更]
		type = ChangeState
		trigger1 = animelemtime(7) = 1
		value = 2740
		ctrl = 0

;---------------------------------------------------------------------------
[Statedef 90764,ヒットカウント用]
type = A ;           通常
movetype= I ;         攻撃
;physics = S ;           
velset = 0,0
anim = 90764 ;
sprpriority = 10

	[State 2720, 伸縮]
		type = AngleDraw
		trigger1 = 1
		scale = 1.5,1.5

	[State 2711, 位置設定]
		type = posset
		triggerall = facing = -1
		trigger1 = time = 0
		x = 60
y = -20

	[State 2711, 位置設定]
		type = posset
		triggerall = facing = 1
		trigger1 = time = 0
		x = -60
y = -20

;---------------------------------------------------------------------------
[StateDef 2730,崩壊]
	type    = S
	movetype= I
	physics = N
	anim = 181
	velset = 0,0
	poweradd = 0
;	juggle  = 1
	ctrl = 0
	sprpriority = 4
	facep2 = 1

	[State 2730, SE]
		type = ChangeAnim
		Triggerall = anim = 181
		trigger1 = animelem = 2
		value = 18101

	[State 2730,ボイス]
		Type=playSnd
		Triggerall = anim = 18101
		Trigger1 = animelemtime(1) = 0
		value=1400,12
		channel=0

	[State 2730, SE]
		type = ChangeAnim
		Triggerall = anim = 18101
		trigger1 = time = 70
		value = 1651

	[State 2730, SE]
		type = ChangeAnim
		Triggerall = anim = 1651
		trigger1 = animtime = 0
		value = 18102

	[State -1,暗転処理]
		Type=envColor
		Trigger1=Time=50
		value=0,0,0
		Time=225
		under=1

	[State -1,時間停止]
		Type=SuperPause
		Trigger1=Time=50
		Time=225
		MoveTime=225
		Sound=-1
		darken=0
		P2defmul=1
		Anim=-1
		IgnoreHitPause=1
		persistent = 0

	[State -1,SE]
		Type=playSnd
		Trigger1=Time=50
		value=600,1
		channel=-1

	[State -1,SE]
		Type=playSnd
		Triggerall = anim = 18102
		Trigger1=AnimElemTime(1)=0
		value=600,2
		channel=-1

	[State -1,カットイン2_1]
		Type=Explod
		Triggerall = anim = 18102
		Trigger1=AnimElemTime(1)=0
		Anim=27000;1
		ID=27000
		PosType=left
		;Pos=-300,-50
		Ownpal=1
		Scale=1,1
		SprPriority=-999999
		OnTop=0
removetime = -1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1
		Pos=0,0

	[State -1,超必殺エフェクト]
		Type=Explod
		Trigger1=time=50
		Anim=12000
		Pos=floor(-0*const(Size.xScale)),floor(-75*const(Size.yScale))
		sprPriority=5
		Ownpal=1
		RemoveonGetHit=1
		IgnoreHitPause=1
		persistent = 0
		Scale=const(Size.xScale),const(Size.yScale)
		SuperMoveTime=9999
bindtime = -1

	[State -1,カットイン2_1]
		Type=Explod
		Triggerall = anim = 18102
		Trigger1=time=230
		Anim=29000;1
		ID=29000
		PosType=left
		;Pos=-300,-50
		Ownpal=1
		Scale=1,1
		SprPriority=-9999
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
bindtime = -1
		Pos=0,0

	[State 6661,]
		type = Explod
		Triggerall = anim = 18102
		Trigger1=time=230
		anim = 5553
		ID = 5553
		pos = 0, 50
		postype = p1
		bindtime = -1
		supermovetime = 9999
		pausemovetime = 9999
		scale = 1, 1
		sprpriority = 5
		ownpal = 1
		removeongethit = 1

	[State 6661,]
		type = Explod
		Triggerall = anim = 18102
		Trigger1=time=230
		anim = 13380
		ID = 13380
		pos = 0, 50
		postype = p1
		bindtime = -1
		supermovetime = 9999
		pausemovetime = 9999
		scale = 1, 1
		sprpriority = 5
		ownpal = 1
		removeongethit = 1

	[State 6661,]
		type = Explod
		Triggerall = anim = 18102
		Trigger1=time=230
		anim = 13000
		ID = 13000
		pos = 0, -50
		postype = p1
		bindtime = -1
		supermovetime = 9999
		pausemovetime = 9999
		scale = 1, 1
		sprpriority = 5
		ownpal = 1
		removeongethit = 1

	[State 6020,Snd2]
		Type=playSnd
		Triggerall = anim = 18102
		Trigger1=time=230
		value=7,6

	[State 6030,]
		Type=PlaySnd
		Triggerall = anim = 18102
		Trigger1=time=230
		value=30,11
		volume=255

	[State -1,SE]
		Type=RemoveExplod
		Trigger1=time=230
ID = 27000

	[State 2730,位置設定]
		type = varset
		Triggerall = anim = 18102
		trigger1 = time=230
		var(58) = 1

	[State 2730, ステート変更]
		type = ChangeState
		trigger1 = time = 275
		value = 0
		ctrl = 1

;---------------------------------------------------------------------------
[StateDef 2740,着地]
	type    = S
	movetype= A
	physics = S
	anim = 1670
	velset = 0,0
	poweradd = 0
;	juggle  = 1
	ctrl = 0
	sprpriority = 4
	facep2 = 1

	[State 2740,位置設定]
		type = PosSet
		trigger1 = time = 0
		x = 0
		y = 0

	[State 2740, SE]
		type = PlaySnd
		trigger1 = time=30
		value = 500, 3

	[State 2740, 暴風エフェ]
		type = Explod
		trigger1=time = 30
		anim = 11652
		id=11652
		postype = p1
		Pos = 0,0
		RemoveTime = 27
		pausemovetime = 0
		supermovetime = 0
		ownpal = 1
		scale = 0.8,0.8
		sprpriority = 9
;		vfacing = -1
		ignorehitpause = 1
		persistent=0

	[State 400, ステート変更]
		type = ChangeState
		triggerall = RoundState = 2
		triggerall = var(59) = 1
		triggerall = power >= 1000
		triggerall = PalNo!= 2
		trigger1 = animelem = 5
		value = 2200

	[State 2740, ステート変更]
		type = ChangeState
		trigger1 = animTime = 0
		value = 0
		ctrl = 1
;---------------------------------------------------------------------------
;相手やられ壁激突
;---------------------------------------------------------------------------
[Statedef 2790,硬直時間]
	type = A
	movetype = H
	physics = N
	velset = 0,0

	[State 7000]
		type = changeanim
		trigger1 = 1
		value = 5002

	[State 7000]
		type = changestate
		trigger1 = hitshakeover
		value = 2791

	[State 7000,エラー用]
		type = SelfState
		trigger1 = Time >= 150
		value = 5050

;--------------------------------------
[Statedef 2791,ターゲット吹っ飛びステート]
	type = A
	movetype = H
	physics = N

	[State 2710]
		type = VelSet
		trigger1 = time = 0
		x = -40
		persistent = 0

	[State 7010]
		type = playerpush
		trigger1 = 1
		value = 0

	[State 7010]
		type = changeanim
		trigger1 = Time = 0
		value = 5030

	[State 7010]
		type = changestate
		trigger1 = backedgebodydist<=10 || frontedgebodydist<=10
		value = 2792

	[State 7010,エラー用]
		type = SelfState
		trigger1 = Time >= 150
		value = 5050

;--------------------------------------
[Statedef 2792,壁バウンド]
	type = A
	movetype = H
	physics = N

	[State 7020, 画面揺れ]
		type = EnvShake
		trigger1 = Time = 0
		time = 20
		freq = 50
		ampl = -16
		phase = 0

	[State 2710]
		type = velset
		trigger1 =time =0
		y = -1.5
		persistent = 0

	[State 2710]
		type = veladd
		trigger1 =time =0
		y = 0.40
		persistent = 0

	[State 7020, 落下ダメージ]
		type = HitFallDamage
		trigger1 = time = 0

	[State 7020]
		type = turn
		trigger1 = Time = 0
		trigger1 = frontedgedist<backedgedist

	[State 7020]
		type = posset
		trigger1 = 1
		x = -160*facing

	[State 7020]
		type = posfreeze
		trigger1 = 1
		x = 1
		y = 1

	[State 7020]
		type = screenbound
		trigger1 = 1
		value =1 
		movecamera = 0,1

	[State 7020]
		type = playerpush
		trigger1 = 1
		value = 1

	[State 7020]
		type = changeanim
		trigger1 = 1
		value = 5000

	[State 7020]
		type=changestate
		trigger1 = time>=4
		value = 2793

	[State 7020,エラー用]
		type = SelfState
		trigger1 = Time >= 15
		value = 5050

;--------------------------------------
[Statedef 2793,壁バウンド落下]
	type = A
	movetype = H
	physics = N

	[State 2710]
		type = VelSet
		trigger1 = time =0
		x = -.1
		y = -6.3
		persistent = 0

	[State 7030]
		type = veladd
		trigger1 = 1
		y = 0.2

	[State 7030]
		type = velset
		trigger1 = Time = 0
		x = -1
		y = -7

	[State 7030]
		type = changeanim
		trigger1 = Time = 0
		value = 5050;ifelse(selfanimexist(5051),5051,5030)

	[State 7030]
		type = screenbound
		trigger1 = 1
		value = 1
		movecamera = 0,0

	[State 7030]
		type = playerpush
		trigger1 = 1;anim != 5110
		value = 0

	[State 7030,エラー用]
		type = SelfState
		triggerall = Vel Y > 0
		trigger1 = Pos Y >= 0
		value = 5100
		
	[State 7030,エラー用]
		type = SelfState
		trigger1 = Time >= 100
		value = 5050
;--------------------------------------
[Statedef 2795,気絶待機ステート]
	type = S
	movetype = H
	physics = N

	[State 7040]
		type = changeanim
		trigger1 = Time = 0
		value = 5110;ifelse(selfanimexist(5111),5111,5110)

	[State 7040]
		type = velset
		trigger1 = Time = 0
		x = 0
		y = 0

	[State 7040]
		type = posset
		trigger1 = Time = 0
		y = 0

	[State 7040]
		type = posadd
		trigger1 = Time = 0
		x = 20

	[State 7040]
		type = screenbound
		trigger1 = 1
		value = 1
		movecamera = 0,0

	[State 7020,エラー用]
		type = SelfState
		trigger1 = Time >= 600
		value = 5050

;--------------------------------------
[Statedef 2796,開放ステート]
	type = A
	movetype = H
	physics = N
	velset = -4.5,-10

	[State 7030]
		type = ScreenBound
		trigger1 = 1
		value = 1
		movecamera = 1,0

	[State 7030]
		type = posset
		trigger1 = time = 0
		y = -250

	[State 7030]
		type = veladd
		trigger1 = 1
		y = 0.4

	[State 7030]
		type = changeanim
		trigger1 = Time = 0
		value = 5050;ifelse(selfanimexist(5061),5061,5030)

	[State 7030]
		type = playerpush
		trigger1 = 1;anim != 5110
		value = 0

	[State 7030]
		type = velset
		triggerall = Vel Y > 0
		trigger1 = Pos Y >= 0
		x=0

	[State 7030]
		type = selfstate;anim
		triggerall = Vel Y > 0
		trigger1 = Pos Y >= 0
		value = 5100

	[State 7030,エラー用]
		type = SelfState
		trigger1 = Time >= 100
		value = 5050
;===============================================================================
;4ゲージ
;===============================================================================
;-------------------------------------------------------------------------------
;黒翼
;-------------------------------------------------------------------------------
[Statedef 2800,黒翼本体]
	type    = S
	movetype= A
	physics = S
	anim = 1700
	velset = 0,0
	poweradd = -5000
;	juggle  = 1
	ctrl = 0
	sprpriority = 2
	facep2 = 1

[State -2]
type = attackmulset
trigger1 = PalNo != 12
value = 1

	[State 2800,汎用初期化]
		Type = posadd
		Trigger1 = anim = 1700
		Trigger1 = AnimelemTime(10) = 0
		x = 15

;-----------------------------------暗転演出------------------------------------
	[State -1,暗転処理]
		Type=envColor
		Trigger1=Time=0
		value=0,0,0
		Time=60
		under=1

	[State -1,時間停止]
		Type=SuperPause
triggerall = PalNo != 12
		Trigger1=Time=0
		Time=112
		MoveTime=112
		Sound=-1
		darken=0
		P2defmul=1
		Anim=-1
		IgnoreHitPause=1
		persistent = 0

	[State -1,カットイン5]
		Type=Explod
		Trigger1=Time=0
		Anim=9011
		ID=9011
		PosType=left
		Pos=0,0
		Ownpal=0
		Scale=1,1
		SprPriority=2
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
bindtime = -1
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State -1,SE]
		Type=playSnd
		Trigger1=time=15
		value=600,1
		channel=-1

	[State -1,超必殺エフェクト]
		Type=Explod
		Trigger1=Time=15
		Anim=12000
		Pos=floor(-40*const(Size.xScale)),floor(-92*const(Size.yScale))
		sprPriority=5
		Ownpal=1
		RemoveonGetHit=1
		IgnoreHitPause=1
		persistent = 0
		Scale=const(Size.xScale),const(Size.yScale)
		SuperMoveTime=9999
bindtime = -1
;-----------------------------------暗転演出------------------------------------
	[State 2800, ボイス]
		type = PlaySnd
		trigger1 = time = 0
		value = 1700, 0
channel = 0

	[State 2800, ヒット定義]
		type = HitDef
		trigger1 = AnimElem = 12
		attr = , HT 
		damage = 0, 0
		animtype = Light
		guardflag = 
		hitflag = MAF
		priority = 3, Hit
		pausetime = 0, 0
		sparkno = -1
		sparkxy = -10, -76
		hitsound = -1, 2
		guardsound = 6, 0
		ground.type = High
		ground.slidetime = 5
		ground.hittime  = 12
		ground.velocity = -4
		airguard.velocity = -1.9,-.8
		air.type = High
		air.velocity = -1.4,-3
		air.hittime = 12
		fall = 1
		fall.recover = 0
		fall.recovertime = 9999999999999999
		ID = 2800

	[State 2800, ステート奪取]
		type = TargetState
		trigger1 = MoveHit = 1
		value = 2860
		id = 2800

	[State 2800, ステート変更]
		type = ChangeState
		trigger1 = MoveHit = 1
		value = 2830
	
	;-------------------------------------------
	[State 2800, ステートend]
		type = ChangeState
		trigger1 = animTime = 0
		value = 0
		ctrl = 1

;------------------------------------------------------------------------------
[Statedef 2830,黒翼成功]
	type    = S
	movetype= A
	physics = S
	ctrl = 0
	velset = 0,0
	anim = 1730
	sprpriority = 2

	[State 7020, 画面揺れ]
		type = EnvShake
		trigger1 = Time = 270
		time = 200
		freq = 50
		ampl = -16
		phase = 0

	[State 2720,俺だけの時間だぜ]
		type = Pause
		trigger1 = time = 0
		time = 475
		movetime = 475

	[State -1,白塗りつぶし変更エフェクト]
		Type=Explod
		Trigger1= time = 0
		Anim=11750
		id=11750
		postype=back
		Pos=0,0
		sprPriority=5
		Ownpal=1
		RemoveonGetHit=1
		IgnoreHitPause=1
		persistent = 0
		Scale=const(Size.xScale),const(Size.yScale)
		SuperMoveTime=9999
		pauseMoveTime=9999

	[State 2830, 暗転演出]
		type = EnvColor
		trigger1 = time = 10
		value = 255, 255, 255
		time = 20

	[State 2830, 暗転演出]
		type = BGPalFX
		trigger1 = time = 30;AnimElemTime(1) > 5
		time = 455
		add = 255,255,255
		mul = 255,255,255

	[State 2830, 特殊演出]
		type = AssertSpecial
;		trigger1 = 1
		trigger1 = time<=536
		flag = globalnoshadow
		flag2 = nobardisplay
	;-------------------------------------------
	[State 2830, SE 背景音]
		type = PlaySnd
		trigger1 = Time = 0
		value = 1710, 10

	[State 2830, ボイス ウォォォォオォ]
		type = PlaySnd
		trigger1 = time = 30
		value = 100, 6
		channel = 0
		
	[State -1,カットイン5]
		Type=Explod
		Trigger1=Time=10
		Anim=9005
		ID=9005
		PosType=left
		Pos=-50,0
		Ownpal=0
		Scale=0.4,0.4
		SprPriority=2
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State 2830, SE 黒翼音]
		type = PlaySnd
		trigger1 = Time = 160
		value = 40, 3

	[State 2830,黒翼エフェクト]
		Type = Explod
		trigger1 = time = 160
		Anim = 11700
		PosType = P1
		Pos = 0, -75
		BindTime = 1
		RemoveTime = -1
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 3
		ID = 11700
		persistent=0
		;trans = Add

	[State 2830,黒翼エフェクト]
		Type = Explod
		trigger1 = time = 275
		Anim = 11700
		PosType = P1
		Pos = 100, 50
		BindTime = 1
		RemoveTime = -1
		removeongethit = 1
		Ownpal = 1
		Scale = 10,10
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 10
ontop = 1
		ID = 11700
		persistent=0
		;trans = Add

	[State 2830, SE 黒翼音]
		type = PlaySnd
		trigger1 = Time = 275
		value = 1710, 0

	[State 2830, SE 黒翼音]
		type = PlaySnd
		trigger1 = Time = 275
		value = 1710, 1

	[State 2830, SE 黒翼音]
		type = PlaySnd
		trigger1 = Time = 275
		value = 7, 6

	[State 2830, SE 黒翼音]
		type = PlaySnd
		trigger1 = Time = 275
		value = 10, 10

	[State 2830, SE 黒翼音]
		type = PlaySnd
		trigger1 = Time = 275
		value = 10, 13
	
	[State 2830,黒翼エフェクトを消す]
		type = RemoveExplod
		trigger1 = time = 475
		ID = 11700

	[State 2830, 位置設定]
		type = posset
		trigger1 = time = 20
		x = 0
		y = 0

	[State 2830, 相手固定]
		type = TargetBind
		trigger1 = time >= 0
		trigger1 = time <= 475
		time = 1
		pos = 35, -110
		
	;-------------------------------------------
	[State 2830,黒塗りつぶし]
		Type = Explod
		trigger1 = time = 465
		Anim = 11731
		PosType = left
		Pos = 0, 0
		BindTime = -1
		RemoveTime = 21
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 11
		ID = 11730
		persistent=0
		;trans = Add
	
	[State 2830,白開放]
		Type = Explod
		trigger1 = time = 465
		Anim = 11732
		PosType = left
		Pos = 0, 0
		BindTime = -1
		RemoveTime = 30
		removeongethit = 1
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 11
		ID = 11730
		persistent=0
		;trans = Add

	[State 2830, SE Finshe]
		type = PlaySnd
		trigger1 = Time = 465
		value = 50, 1

	[State -1, ヒット数]
		type = hitadd
		trigger1 = time=275
		value = 100
		IgnoreHitPause = 1

	[State -1, ヒットSE]
		type = hitadd
		trigger1 = time=475
		value = 500
		IgnoreHitPause = 1

	[State 2830, ステート解放]
		type = Targetlifeadd
		trigger1 = anim = 1731
		trigger1 = animelemtime(2) = 1
		value = -700

	[State 2830, ステート解放]
		type = TargetState
		trigger1 = Time = 475
		value = 2890

	[State 1610, Anim変更 終了アニメ]
		type = ChangeAnim
		trigger1 = time = 475
		value = 1731

	[State -1,超必殺エフェクト]
		Type=Explod
		trigger1 = anim = 1731
		trigger1 = animelemtime(2) = 0
		Anim=2900
		Pos=0,0
postype = back
		ontop=1
		Ownpal=1
		RemoveonGetHit=1
		IgnoreHitPause=1
		persistent = 0
bindtime = -1
pausemovetime = 9999999999
supermovetime = 9999999999
		Scale=1,1

	[State 2830, ボイス ﾆﾋｯ]
		type = PlaySnd
		trigger1 = anim = 1731
		trigger1 = animelemtime(2) = 0
		value = 40, 17

	[State 2830, ボイス ﾆﾋｯ]
		type = PlaySnd
		trigger1 = anim = 1731
		trigger1 = animelemtime(2) = 0
		value = 40, 9

	[State 2830, ボイス ﾆﾋｯ]
		type = PlaySnd
		trigger1 = anim = 1731
		trigger1 = animelemtime(2) = 1
		value = 40, 10

	[State 2830, ボイス ﾆﾋｯ]
		type = PlaySnd
		trigger1 = anim = 1731
		trigger1 = animelemtime(2) = 1
		value = 200, 14

	[State 2830, ステート解放]
		type = TargetState
		trigger1 = anim = 1731
		trigger1 = animelemtime(2) = 1
		value = 3737

	[State -1, ヒットSE]
		type = hitadd
		trigger1 = anim = 1731
		trigger1 = animelemtime(2) = 1
		value = 500
		IgnoreHitPause = 1

	[State 2720,俺だけの時間だぜ]
		type = Pause
		trigger1 = anim = 1731
		trigger1 = animelemtime(2) = 0
		time = 100
		movetime = 0

[State 193, 画面全体色変更]
type = AllPalFX
trigger1 = anim = 1731
trigger1 = animelemtime(2) = 0
time = 100
add = 0,0,0
mul = 256,256,256
color = 256
invertall = 1

	[State 2830, ステートend]
		type = ChangeState
		trigger1 = anim = 1731
		trigger1 = animTime = 0
		value = 0
		ctrl = 1
		
;------------------------------------------------------------------------------
[Statedef 2860,黒翼相手]
	type    = A
	movetype= H
	physics = N
	ctrl = 0
	velset = 0,0

	[State 2860, 自キャラ用]
		type = ChangeAnim
		TriggerAll = AuthorName = "otika"
		TriggerAll = Time = 0
		Trigger1 = name = "Kamijo toma"
		Trigger2 = name = "Accelerator"
		value = 1760

	[State 2860, 汎用]
		type = ChangeAnim2
		Trigger1 = !(name = "Kamijo toma"&& AuthorName = "otika")
		Trigger1 = !(name = "Accelerator"&& AuthorName = "otika")
		Trigger1 = Time = 0
		value = 1761

	[State 2860, カメラ固定]		
		type = ScreenBound
		trigger1 = 1
		value = 0
		movecamera = 0,0	


	[State 7030,エラー用]
		type = SelfState ;ステートを戻す
		trigger1 = !GetHitVar(IsBound) ;相手がTargetBindを使用していない
		value = 5050 ;汎用くらい吹っ飛びステートへ

;------------------------------------------------------------------------------
[Statedef 2890,黒翼相手開放];よくわからん
	type = A
	movetype = H
	physics = N

	[State 2890]
		type = AssertSpecial
		trigger1 = 1
		flag = nokosnd

	[State 2890]
		type = PosFreeze
		trigger1 = time < 100
		value = 1

	[State 2890]
		type = veladd
		trigger1 = 1
		y = 0.3

	[State 2890]
		type = posadd
		trigger1 = Time = 0
		x = -9999

	[State 2890]
		type = posset
		trigger1 = Time = 0
		y = -250

	[State 2890]
		type = changeanim
		trigger1 = Time = 0
		value = ifelse(selfanimexist(5051),5051,5030)

	[State 2890]
		type = changeanim
		trigger1 = anim=5030 && AnimTime = 0
		value = 5050

	[State 2890]
		type = changeanim
		trigger1 = vel y>-3 && anim = 5051
		value = 5061

	[State 2890]
		type = screenbound
		trigger1 = 1
		value = 1
		movecamera = 0,0

	[State 2890]
		type = playerpush
		trigger1 = 1
		value = 0

	[State 2890]
		type=changestate;selfstate
		triggerall = Vel Y > 0
		trigger1 = Pos Y >= 0
		value = 2891;7040;5100

	[State 7030,エラー用]
		type = SelfState
		trigger1 = Time >= 300
		value = 5050
;--------------------------------------
[Statedef 2891,壁バウンドダウン]
	type = L
	movetype = H
	physics = N


	[State 7040]
		type = changeanim
		trigger1 = Time = 0
		value = 5110;ifelse(selfanimexist(5051),5051,5030)

	[State 7040]
		type = velset
		trigger1 = Time = 0
		x = 0
		y = 0

	[State 7040]
		type = posset
		trigger1 = Time = 0
		y = 0

	[State 7040]
		type = EnvShake
		trigger1 = Time = 0
		time = 10
		freq = 60
		ampl = -4
		phase = 0
		persistent = 0

	[State 7040]
		type = screenbound
		trigger1 = 1
		value = 1
		movecamera = 0,0

	[State 7040]
		Type=SelfState
		Trigger1 = alive
		Trigger1 = time>=25
		value = 5120

	[State 7040]
		Type = SelfState
		Trigger1 =! alive
		Trigger1 = time >= 1
		value = 5110

	[State 7020,エラー用]
		type = SelfState
		trigger1 = Time >= 300
		value = 5050