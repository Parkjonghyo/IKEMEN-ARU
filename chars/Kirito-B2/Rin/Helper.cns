; ヒットスパーク  赤
[Statedef 6000]
Type = A
Physics = N
Velset = 0,0
SprPriority = 5
Anim = IfElse((Parent,Var(26)=3||Root,Var(26)=3),10030,10010)

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = -20,20
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = -20,20
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
Trigger1 = Time = 0
X = -10+Var(3)
Y = Var(4)

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 0,359
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = VarAdd
Trigger1 = Parent,Var(26) != 3 && Root,Var(26) != 3
Trigger1 = Time >= 2
FV = 1
Value = IfElse(IsHelper(6000),0.25,IfElse(IsHelper(6001),0.35,0.45))

[State -1]
Type = VarAdd
Trigger1 = Parent,Var(26) != 3 && Root,Var(26) != 3
Trigger1 = Time >= 2
FV = 2
Value = IfElse(IsHelper(6000),-0.0415,IfElse(IsHelper(6001),-0.06249,-0.083329))

[State -1]
Type = VarAdd
Trigger1 = Parent,Var(26) = 3 || Root,Var(26) = 3
Trigger1 = Time >= 2
FV = 1
Value = IfElse(IsHelper(6000),0.70,IfElse(IsHelper(6001),1.00,1.30))

[State -1]
Type = VarAdd
Trigger1 = Parent,Var(26) = 3 || Root,Var(26) = 3
Trigger1 = Time >= 2
FV = 2
Value = IfElse(IsHelper(6000),-0.083329,IfElse(IsHelper(6001),-0.1041,-0.13))

[State -1]
Type = AngleDraw
Trigger1 = Parent,Var(26) != 3 && Root,Var(26) != 3
Trigger1 = IsHelper(6000)
Scale = 0.50+Fvar(1),0.50+FVar(2)

[State -1]
Type = AngleDraw
Trigger1 = Parent,Var(26) != 3 && Root,Var(26) != 3
Trigger1 = IsHelper(6001)
Scale = 0.75+Fvar(1),0.75+FVar(2)

[State -1]
Type = AngleDraw
Trigger1 = Parent,Var(26) != 3 && Root,Var(26) != 3
Trigger1 = IsHelper(6002)
Scale = 1.00+Fvar(1),1.00+FVar(2)

[State -1]
Type = AngleDraw
Trigger1 = Parent,Var(26) = 3 || Root,Var(26) = 3
Trigger1 = IsHelper(6000)
Scale = 1.00+Fvar(1),1.00+FVar(2)

[State -1]
Type = AngleDraw
Trigger1 = Parent,Var(26) = 3 || Root,Var(26) = 3
Trigger1 = IsHelper(6001)
Scale = 1.25+Fvar(1),1.25+FVar(2)

[State -1]
Type = AngleDraw
Trigger1 = Parent,Var(26) = 3 || Root,Var(26) = 3
Trigger1 = IsHelper(6002)
Scale = 1.50+Fvar(1),1.50+FVar(2)

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = Var(3)

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6005
ID = 6005
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = NumHelper(6006) = 0
Trigger1 = Time = 0
V = 1
Range = 0,1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = NumHelper(6006) = 0
Trigger1 = Var(1) = 1
Trigger1 = Time = 0
StateNo = 6005
ID = 6006
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 13
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ヒットスパーク  青
[Statedef 6003]
Type = A
Physics = N
Velset = 0,0
SprPriority = 5
Anim = IfElse((Parent,Var(26)=3||Root,Var(26)=3),10040,10020)

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = -20,20
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = -20,20
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
Trigger1 = IsHelper(6003)
Trigger1 = Time = 0
X = -10+Var(3)
Y = Var(4)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6003)
Trigger1 = Time = 0
V = 3
Range = 0,359
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6004)
Trigger1 = Time = 0
V = 3
Range = Helper(6003),Var(3)+10,Helper(6003),Var(3)+339
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = VarAdd
Trigger1 = Parent,Var(26) != 3 && Root,Var(26) != 3
Trigger1 = Time >= 2
FV = 1
Value = 0.325

[State -1]
Type = VarAdd
Trigger1 = Parent,Var(26) != 3 && Root,Var(26) != 3
Trigger1 = Time >= 2
FV = 2
Value = -0.06249

[State -1]
Type = VarAdd
Trigger1 = Parent,Var(26) = 3 || Root,Var(26) = 3
Trigger1 = Time >= 2
FV = 1
Value = 1.00

[State -1]
Type = VarAdd
Trigger1 = Parent,Var(26) = 3 || Root,Var(26) = 3
Trigger1 = Time >= 2
FV = 2
Value = -0.1041

[State -1]
Type = AngleDraw
Trigger1 = Parent,Var(26) != 3 && Root,Var(26) != 3
Trigger1 = 1
Scale = 0.75+FVar(1),0.75+FVar(2)

[State -1]
Type = AngleDraw
Trigger1 = Parent,Var(26) = 3 || Root,Var(26) = 3
Trigger1 = 1
Scale = 1.25+FVar(1),1.25+FVar(2)

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = Var(3)

[State -1]
Type = Helper
Trigger1 = IsHelper(6003)
Trigger1 = Time = 0
StateNo = 6003
ID = 6004
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = IsHelper(6003)
Trigger1 = Time = 0
StateNo = 6007
ID = 6007
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 13
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ヒットスパーク　赤  火花
[Statedef 6005]
Type = A
Physics = N
Velset = 0,0
SprPriority = 5
Anim = 10015

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6005)
Trigger1 = Time = 0
V = 4
Range = 0,359
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6006)
Trigger1 = Time = 0
V = 4
Range = Helper(6005),Var(4)+45,Helper(6005),Var(4)+314
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 10
V = 7
Value = 23

[State -1]
Type = Trans
Trigger1 = Time = [0,9]
Trans = Add

[State -1]
Type = Trans
Trigger1 = Time >= 10
Trans = AddAlpha
Alpha = 255-Var(7),255

[State -1]
Type = AngleDraw
Trigger1 = Time = [0,20]
Scale = 0.5,0.5

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = Var(4)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 20
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ヒットスパーク  青　火花
[Statedef 6007]
Type = A
Physics = N
Velset = 0,0
SprPriority = 5
Anim = 10025

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = 0,359
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 10
V = 7
Value = 23

[State -1]
Type = Trans
Trigger1 = Time = [0,9]
Trans = Add

[State -1]
Type = Trans
Trigger1 = Time >= 10
Trans = AddAlpha
Alpha = 255-Var(7),255

[State -1]
Type = AngleDraw
Trigger1 = Time = [0,20]
Scale = 0.5,0.5

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = Var(4)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 20
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 連打ヘルパー
[Statedef 6600]
Type = A
Physics = N
Velset = 0,0
SprPriority = 3
Anim = 6600

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = BindToParent
Trigger1 = 1
Pos = -10,-120

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 7
Value = 255

[State -1]
Type = VarAdd
Trigger1 = Parent,StateNo = 3010
Trigger1 = Parent,Time >= 117
V = 7
Value = -10

[State -1]
Type = Trans
Trigger1 = Parent,Time >= 116
Trans = AddAlpha
Alpha = 0+Var(7),255

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.50,0.50

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Var(7) <= 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


;---------------------------------------------------------------------------
; アーマーエフェクト
[Statedef 7500]
Type = A
Physics = N
Velset = 0,0
SprPriority = 5
Anim = 7500

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarAdd
Trigger1 = Time >= 3
V = 2
Value = 8

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add
Alpha = 255,255

[State -1]
Type = PalFx
Trigger1 = 1
Time = 1
Add = 0-Var(2),-255,-255
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 3
FV = 1
Value = 0.1

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.50+Fvar(1),0.50+Fvar(1)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 19
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 円形エフェクト
[Statedef 7600]
Type = A
Physics = N
Velset = 0,0
SprPriority = 5
Anim = 7500

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarAdd
Trigger1 = IsHelper(7600) || IsHelper(7601) || IsHelper(7602)
Trigger1 = Time >= 2
V = 2
Value = 4

[State -1]
Type = VarAdd
Trigger1 = IsHelper(7610) || IsHelper(7611) || IsHelper(7612)
Trigger1 = Time >= 1
V = 2
Value = 3

[State -1]
Type = VarAdd
Trigger1 = IsHelper(7620) || IsHelper(7621) || IsHelper(7622)
Trigger1 = Time >= 1
V = 2
Value = 3

[State -1]
Type = VarAdd
Trigger1 = IsHelper(7630) || IsHelper(7631) || IsHelper(7632)
Trigger1 = Time >= 3
V = 2
Value = 3

[State -1]
Type = VarAdd
Trigger1 = IsHelper(7640) || IsHelper(7641) || IsHelper(7642)
Trigger1 = Time >= 3
V = 2
Value = 3

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add
Alpha = 255,255

[State -1]
Type = PalFx
Trigger1 = IsHelper(7600) || IsHelper(7601) || IsHelper(7602)
Time = 1
Add = 0-Var(2),0-Var(2),0-Var(2)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = IsHelper(7610) || IsHelper(7611) || IsHelper(7612)
Time = 1
Add = -100-Var(2),0-Var(2),-50-Var(2)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = IsHelper(7620) || IsHelper(7621) || IsHelper(7622)
Time = 1
Add = 0-Var(2),0-Var(2),-100-Var(2)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = IsHelper(7630) || IsHelper(7631) || IsHelper(7632)
Time = 1
Add = -100-Var(2),-25-Var(2),0-Var(2)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = IsHelper(7640) || IsHelper(7641) || IsHelper(7642)
Time = 1
Add = 0-Var(2),0-100-Var(2),0-Var(2)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = 0,359

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = -10,10

[State -1]
Type = VarAdd
Trigger1 = Time > 0
V = 4
Value = 2*IfElse(Var(5)=0,1,Var(5)/2)

[State -1]
Type = VarAdd
Trigger1 = Time >= 2
FV = 1
Value = 0.05

[State -1]
Type = VarAdd
TriggerAll = Time >= 2
Trigger1 = IsHelper(7600) || IsHelper(7602)
Trigger2 = IsHelper(7610) || IsHelper(7612)
Trigger3 = IsHelper(7620) || IsHelper(7622)
Trigger4 = IsHelper(7630) || IsHelper(7632)
Trigger5 = IsHelper(7640) || IsHelper(7642)
FV = 2
Value = -0.0215

[State -1]
Type = VarAdd
Trigger1 = IsHelper(7601) || IsHelper(7611) || IsHelper(7621) || IsHelper(7631) || IsHelper(7641)
Trigger1 = Time >= 2
FV = 2
Value = 0.0215

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(7600) || IsHelper(7610) || IsHelper(7620) || IsHelper(7630) || IsHelper(7640)
Scale = 0.50+Fvar(1),0.50+Fvar(2)

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(7601) || IsHelper(7611) || IsHelper(7621) || IsHelper(7631) || IsHelper(7641)
Scale = 0.50+Fvar(1),0.00+Fvar(2)

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(7602) || IsHelper(7612) || IsHelper(7622) || IsHelper(7632) || IsHelper(7642)
Scale = 0.50+Fvar(1),0.215+Fvar(2)

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(4)

[State -1]
Type = Explod
TriggerAll = Var(0)%10 = 0
TriggerAll = Time = 0
Trigger1 = IsHelper(7600)
Anim = 6505
Scale = 0.50+Fvar(1),0.50+Fvar(1)
RemoveTime = 26
Ownpal = 0
IgnoreHitPause = 1
SprPriority = 5
ID = 7600

[State -1]
Type = Explod
TriggerAll = Var(0)%10 = 0
TriggerAll = Time = 0
Trigger1 = IsHelper(7610)
Anim = 6505
Scale = 0.50+Fvar(1),0.50+Fvar(1)
RemoveTime = 26
Ownpal = 0
IgnoreHitPause = 1
SprPriority = 5
ID = 7610

[State -1]
Type = Explod
TriggerAll = Var(0)%10 = 0
TriggerAll = Time = 0
Trigger1 = IsHelper(7620)
Anim = 6505
Scale = 0.50+Fvar(1),0.50+Fvar(1)
RemoveTime = 26
Ownpal = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
SprPriority = 5
ID = 7620

[State -1]
Type = Explod
TriggerAll = Var(0)%10 = 0
TriggerAll = Time = 0
Trigger1 = IsHelper(7630)
Anim = 6505
Scale = 0.50+Fvar(1),0.50+Fvar(1)
RemoveTime = 26
Ownpal = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
SprPriority = 5
ID = 7630

[State -1]
Type = Explod
TriggerAll = Var(0)%10 = 0
TriggerAll = Time = 0
Trigger1 = IsHelper(7640)
Anim = 6505
Scale = 0.50+Fvar(1),0.50+Fvar(1)
RemoveTime = 26
Ownpal = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
SprPriority = 5
ID = 7640

[State -1]
Type = ModifyExplod
Trigger1 = 1
Scale = 0.50+Fvar(1),0.50+Fvar(1)
ID = 7600

[State -1]
Type = ModifyExplod
Trigger1 = 1
Scale = 0.50+Fvar(1),0.50+Fvar(1)
ID = 7610

[State -1]
Type = ModifyExplod
Trigger1 = 1
Scale = 0.50+Fvar(1),0.50+Fvar(1)
ID = 7620

[State -1]
Type = ModifyExplod
Trigger1 = 1
Scale = 0.50+Fvar(1),0.50+Fvar(1)
ID = 7630

[State -1]
Type = ModifyExplod
Trigger1 = 1
Scale = 0.50+Fvar(1),0.50+Fvar(1)
ID = 7640

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 26
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;相殺ヘルパー
[Statedef 9000]
Type = S
Physics = N
SprPriority = 4

[State -1]
Type = BindToParent
Trigger1 = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9000)
Trigger1 = Time = 0
Value = 9000
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9001)
Trigger1 = Time = 0
Value = 9001
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9002)
Trigger1 = Time = 0
Value = 9002
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9003)
Trigger1 = Time = 0
Value = 9003
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9004)
Trigger1 = Time = 0
Value = 9004
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9005)
Trigger1 = Time = 0
Value = 9005
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9006)
Trigger1 = Time = 0
Value = 9006
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9007)
Trigger1 = Time = 0
Value = 9007
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9008)
Trigger1 = Time = 0
Value = 9008
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9009)
Trigger1 = Time = 0
Value = 9009
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9010)
Trigger1 = Time = 0
Value = 9010
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ReversalDef
Trigger1 = 1
Reversal.Attr =  SCA, NA,SA,HA,NP,SP,HP
Pausetime = 2,2
NumHits = 0
SparkNo = -1
Guard.SparkNo = -1
GetPower = IfElse(FVar(16)=0,0,20),0
GivePower = 20,0
SparkXY = 0,0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = MoveHit
StateNo = 956
ID = 956
Pos = Ceil(P2Dist X/2),-50
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = MoveHit
Value = s901,IfElse((Parent,Var(26)=[2,3]),0,10)+Random%2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 0
PauseMoveTime = 0

[State -1]
Type = ParentVarSet
Trigger1 = MoveHit
V = 2
Value = 1402
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Pause
Trigger1 = MoveHit = 1
Time = 8
MoveTime = 8
IgnoreHitPause = 1

[State -1]
Type = DestroySelf
Trigger1 = AnimTime = 0
Trigger2 = MoveHit = 2
Trigger3 = Parent,MoveType = H

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9000)
Trigger1 = Parent,StateNo != 210

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9001)
Trigger1 = Parent,StateNo != 220 && Parent,StateNo != 221

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9002)
Trigger1 = Parent,StateNo != 221

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9003)
Trigger1 = Parent,StateNo != 420 && Parent,StateNo != 421

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9004)
Trigger1 = Parent,StateNo != 421

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9005)
Trigger1 = Parent,StateNo != 1000

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9006)
Trigger1 = Parent,StateNo != 1001

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9007)
Trigger1 = Parent,StateNo != 1002

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9008)
Trigger1 = Parent,StateNo != 1200

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9009)
Trigger1 = Parent,StateNo != 1201

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9010)
Trigger1 = Parent,StateNo != 1201

;---------------------------------------------------------------------------
;部分無敵ヘルパー
[Statedef 9500]
Type = S
Physics = N
SprPriority = 4

[State -1]
Type = BindToParent
Trigger1 = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9500)
Trigger1 = Time = 0
Value = 9500
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9501)
Trigger1 = Time = 0
Value = 9501
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9502)
Trigger1 = Time = 0
Value = 9502
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9503)
Trigger1 = Time = 0
Value = 9503
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9504)
Trigger1 = Time = 0
Value = 9504
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9505)
Trigger1 = Time = 0
Value = 9505
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(9506)
Trigger1 = Time = 0
Value = 9506
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = AnimTime = 0
Trigger2 = Parent,MoveType = H

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9500)
Trigger1 = Parent,StateNo != 1110

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9501)
Trigger1 = Parent,StateNo != 1111

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9502)
Trigger1 = Parent,StateNo != 1200

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9503)
Trigger1 = Parent,StateNo != 1201

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9504)
Trigger1 = Parent,StateNo != 2100

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9505)
Trigger1 = Parent,StateNo != 2150

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(9506)
Trigger1 = Parent,StateNo != 3000

;---------------------------------------------------------------------------
;シールドヘルパー　残像
[Statedef 901]
Type = A
Physics = N
VelSet = 0.5,-0.5
SprPriority = 5

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(901)
Trigger1 = Time = 0
Value = 901

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(911)
Trigger1 = Time = 0
Value = 911

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(921)
Trigger1 = Time = 0
Value = 921

[State -1]
Type = ChangeAnim
Trigger1 = IsHelper(931)
Trigger1 = Time = 0
Value = 931

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarAdd
Trigger1 = 1
FV = 1
Value = 0.002
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 1.00+Fvar(1),1.00+FVar(1)

[State -1]
Type = VarAdd
Trigger1 = 1
V = 7
Value = 20
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = 1
Time = 3
Add = 0,0,0
Mul = 255-var(7),255-var(7),255-var(7)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; シールドえふぇくと１
[Statedef 956]
Type = A
Physics = N
VelSet = 0,0
SprPriority = 6
Anim = 956

[State -1, NotHitBy]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 2
Range = -10,10
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Var(1) < 4
Trigger1 = Time = 1
Anim = 958
ID = 958
Scale = 0.5,0.5
Pos = 0,0
Random = 40,20
Vel = Var(2)/5
Facing = 1*IfElse(Var(3)=0,1,-1)
VFacing = 1*IfElse(Var(4)=0,1,-1)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; シールドえふぇくと２
[Statedef 957]
Type = A
Physics = N
VelSet = 0,0
SprPriority = 6

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = IfElse(IsHelper(957),957,959)
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,359
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = Var(1)

[State -1, NotHitBy]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1, AssertSpacial]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, DestroySelf]
Type = DestroySelf
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ＥＸ必殺技エフェクト	青1
[StateDef 6010]
Type = A
Physics = N
Anim = 10021
SprPriority = 4
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 255,255

[State -1]
Type = VarAdd
Trigger1 = Time = [1,22]
FV  = 1
Value = -0.008

[State -1]
Type = VarAdd
Trigger1 = Time = [1,22]
FV = 2
Value = 0.1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 1,5

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = 1,5

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.6+Var(3)/10+FVar(1),0.6+Var(4)/10+FVar(2)

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 43
Range = 0,360

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(43)

[State -1]
Type = VarSet
Trigger1 = Time = 30
V = 6
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = [0,10]
Trigger2 = Time >= 30
V = 6
Value = 26

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s3000, IfElse(Parent,Var(26)=2||Root,Var(26)=2,0,10)

[State -1]
Type = Helper
Trigger1 = Time = 1
StateNo = 6011
ID = 6012
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 2
StateNo = 6011
ID = 6013
Pos = 0,0
PosType  = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 3
StateNo  = 6011
ID = 6014
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 1
StateNo = 6011
ID = 6011
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 2
StateNo = 6011
ID = 6012
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 3
StateNo = 6011
ID = 6013
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6011
ID = 6014
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 4
StateNo = 6011
ID = 6013
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 5
StateNo = 6011
ID = 6014
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time = [1,3]
Trigger2 = Time = [10,15]
FV  = 3
Value = 0.05

[State -1]
Type = VarAdd
Trigger1 = Time = [4,9]
Trigger2 = Time = [16,32]
FV  = 3
Value = -0.05

[State -1]
Type = Explod
Trigger1 = Time = 0
ID = 10000
Anim = 10000
Ownpal = 1
Scale = 0.725+FVar(3),0.725+FVar(3)
SprPriority = 5
RemoveTime = 32
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [1,32]
ID = 10000
Scale = 0.725+FVar(3),0.725+FVar(3)
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 23
FV  = 4
Value = 0.0175

[State -1]
Type = Explod
Trigger1 = IsHelper(10001)
Trigger1 = Time = 0
ID = 10001
Anim = 10001
Pos = 0,240
PosType = Back
Ownpal = 1
Scale = 0.50+FVar(4),0.50+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10002)
Trigger1 = Time = 0
ID = 10001
Anim = 10002
Pos = 0,240
PosType = Back
Ownpal = 1
Scale = 0.50+FVar(4),0.50+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10003)
Trigger1 = Time = 0
ID = 10001
Anim = 10003
Pos = 10,240
PosType = Back
Ownpal = 1
Scale = 0.50+FVar(4),0.50+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [1,50]
ID = 10001
Scale = 0.50+FVar(4),0.50+FVar(4)
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = BGPalFX
Trigger1 = Time = [1,29]
Add = 0-Var(6),0-Var(6),0-Var(6)
Time = 1

[State -1]
Type = BGPalFX
Trigger1 = Time = [30,35]
Trigger1 = Parent,StateNo != 2000
Add = Ceil(-255+Var(6)*1.5),Ceil(-255+Var(6)*1.5),Ceil(-255+Var(6)*1.5)
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time <= 26
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 27
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 50

;---------------------------------------------------------------------------
; ＥＸ必殺技エフェクト	青2
[StateDef 6011]
Type = A
Physics = N
Anim = 10021
SprPriority = 4
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 255,255

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6011)
Trigger1 = Time = [1,22]
FV  = 1
Value = -0.008

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6011)
Trigger1 = Time = [1,22]
FV = 2
Value = 0.1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 1,5

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = 1,5

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6011)
Trigger1 = 1
Scale = 0.6+Var(3)/10+FVar(1),0.6+Var(4)/10+FVar(2)

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6012)
Trigger1 = Time = [1,22]
FV = 1
Value = -0.0075

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6012)
Trigger1 = Time = [1,22]
FV = 2
Value = 0.05

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6012)
Trigger1 = 1
Scale = 0.3+Var(3)/10+FVar(1),1.8+Var(4)/10+FVar(2)

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6013)
Trigger1 = Time = [1,22]
FV = 1
Value = -0.02

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6013)
Trigger1 = Time = [1,22]
FV = 2
Value = 0.15

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6013)
Trigger1 = 1
Scale = 0.6+Var(3)/10+FVar(1),0.6+Var(4)/10-FVar(2)

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6014)
Trigger1 = Time = [1,22]
FV = 1
Value = -0.005

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6014)
Trigger1 = Time = [1,22]
FV = 2
Value = 0.4

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6014)
Trigger1 = 1
Scale = 0.3+Var(3)/10+FVar(1),1.8+Var(4)/10-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6011) || IsHelper(6012)
Trigger1 = Time = 0
V = 43
Range = 0,179

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6013) || IsHelper(6014)
Trigger1 = Time = 0
V = 43
Range = 180,359

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(43)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 26

;---------------------------------------------------------------------------
; ＥＸ必殺技エフェクト	青3
[StateDef 6015]
Type = A
Physics = N
Anim = 10005
SprPriority = 4
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = PalFx
Trigger1 = 1
Time = 1
Add = -150,-150,0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 11
FV  = 1
Value = 1.0

[State -1]
Type = VarAdd
Trigger1 = Time = [12,35]
FV  = 1
Value = 0.01

[State -1]
Type = VarSet
Trigger1 = Time = 11
FV  = 2
Value = 1.0

[State -1]
Type = VarAdd
Trigger1 = Time = [12,35]
FV  = 2
Value = 0.075

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.0+FVar(1),0.0+FVar(1)

[State -1]
Type = VarSet
Trigger1 = Time = 30
V = 6
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = [0,10]
Trigger2 = Time >= 30
V = 6
Value = 26

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s3000, 0

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 6016
ID = 6012
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 6016
ID = 6013
Pos = 0,0
PosType  = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo  = 6016
ID = 6014
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo  = 6016
ID = 6011
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo  = 6016
ID = 6012
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6016
ID = 6011
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6016
ID = 6012
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6016
ID = 6013
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6016
ID = 6014
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 6016
ID = 6013
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 6016
ID = 6014
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 11
ID = 10000
Anim = 10005
Ownpal = 0
Scale = 0.0+FVar(2),0.0+FVar(2)
SprPriority = 5
RemoveTime = 25
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [12,35]
ID = 10000
Scale = 0.0+FVar(2),0.0+FVar(2)
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 23
FV  = 4
Value = 0.0175

[State -1]
Type = Explod
Trigger1 = IsHelper(10001)
Trigger1 = Time = 0
ID = 10001
Anim = 10001
Pos = 0,240
PosType = Back
Ownpal = 1
Scale = 0.50+FVar(4),0.50+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10002)
Trigger1 = Time = 0
ID = 10001
Anim = 10002
Pos = 0,240
PosType = Back
Ownpal = 1
Scale = 0.50+FVar(4),0.50+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10003)
Trigger1 = Time = 0
ID = 10001
Anim = 10003
Pos = 10,240
PosType = Back
Ownpal = 1
Scale = 0.50+FVar(4),0.50+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [1,50]
ID = 10001
Scale = 0.50+FVar(4),0.50+FVar(4)
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = BGPalFX
Trigger1 = Time = [1,29]
Add = 0-Var(6),0-Var(6),0-Var(6)
Time = 1

[State -1]
Type = BGPalFX
Trigger1 = Time = [30,35]
Trigger1 = Parent,StateNo != 2000
Add = Ceil(-255+Var(6)*1.5),Ceil(-255+Var(6)*1.5),Ceil(-255+Var(6)*1.5)
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time <= 35
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 36
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 50

;---------------------------------------------------------------------------
; ＥＸ必殺技エフェクト	青4
[StateDef 6016]
Type = A
Physics = N
Anim = 10140
SprPriority = 4
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 255,255

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6011)
Trigger1 = Time = 0
V = 2
Range = 0,6

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6011)
Trigger1 = Time = [1,11]
FV = 2
Value = 2.4

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6011)
Trigger1 = 1
Scale = 0.30+Var(2)/10,30.0-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6012)
Trigger1 = Time = 0
V = 2
Range = 0,6

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6012)
Trigger1 = Time = [1,11]
FV = 2
Value = 2.1

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6012)
Trigger1 = 1
Scale = 0.30+Var(2)/10,27.0-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6013)
Trigger1 = Time = 0
V = 2
Range = 0,6

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6013)
Trigger1 = Time = [1,11]
FV = 2
Value = 3.0

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6013)
Trigger1 = 1
Scale = 0.35-Var(2)/10,36.0-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6014)
Trigger1 = Time = 0
V = 2
Range = 0,6

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6014)
Trigger1 = Time = [1,11]
FV = 2
Value = 2.7

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6014)
Trigger1 = 1
Scale = 0.35-Var(2)/10,33.0-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6011)
Trigger1 = Time = 0
V = 43
Range = 0,89

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6012)
Trigger1 = Time = 0
V = 43
Range = 90,179

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6013)
Trigger1 = Time = 0
V = 43
Range = 180,269

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6014)
Trigger1 = Time = 0
V = 43
Range = 270,359

[State -1]
Type = VarRandom
Trigger1 = Time = 1
V = 44
Range = -2,2

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = Var(43)

[State -1]
Type = AngleAdd
Trigger1 = Time >= 1
Value = -Var(44)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 11

;---------------------------------------------------------------------------
; ＥＸ必殺技エフェクト	赤1
[StateDef 6020]
Type = A
Physics = N
Anim = 10011
SprPriority = 5
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 255,255

[State -1]
Type = VarAdd
Trigger1 = Time = [1,22]
FV  = 1
Value = -0.008

[State -1]
Type = VarAdd
Trigger1 = Time = [1,22]
FV = 2
Value = 0.1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 1,5

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = 1,5

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.6+Var(3)/10+FVar(1),0.6+Var(4)/10+FVar(2)

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 43
Range = 0,360

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(43)

[State -1]
Type = VarSet
Trigger1 = Time = 30
V = 6
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = [0,10]
Trigger2 = Time >= 30
V = 6
Value = 26

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s3000, IfElse(Parent,Var(26)=2||Root,Var(26)=2,0,10)

[State -1]
Type = Helper
Trigger1 = Time = 1
StateNo = 6021
ID = 6022
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 2
StateNo = 6021
ID = 6023
Pos = 0,0
PosType  = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 3
StateNo  = 6021
ID = 6024
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 1
StateNo = 6021
ID = 6021
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 2
StateNo = 6021
ID = 6022
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 3
StateNo = 6021
ID = 6023
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6021
ID = 6024
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 4
StateNo = 6021
ID = 6023
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 5
StateNo = 6021
ID = 6024
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time = [1,3]
Trigger2 = Time = [10,15]
FV  = 3
Value = 0.05

[State -1]
Type = VarAdd
Trigger1 = Time = [4,9]
Trigger2 = Time = [16,32]
FV  = 3
Value = -0.05

[State -1]
Type = Explod
Trigger1 = Time = 0
ID = 10000
Anim = 10000
Ownpal = 1
Scale = 0.725+FVar(3),0.725+FVar(3)
SprPriority = 5
RemoveTime = 32
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [1,32]
ID = 10000
Scale = 0.725+FVar(3),0.725+FVar(3)
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 23
FV  = 4
Value = 0.0175

[State -1]
Type = Explod
Trigger1 = IsHelper(10001)
Trigger1 = Time = 0
ID = 10001
Anim = 10001
Pos = 0,240
PosType = Back
Ownpal = 1
Scale = 0.50+FVar(4),0.50+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10002)
Trigger1 = Time = 0
ID = 10001
Anim = 10002
Pos = 0,240
PosType = Back
Ownpal = 1
Scale = 0.50+FVar(4),0.50+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10003)
Trigger1 = Time = 0
ID = 10001
Anim = 10003
Pos = 10,240
PosType = Back
Ownpal = 1
Scale = 0.50+FVar(4),0.50+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [1,50]
ID = 10001
Scale = 0.50+FVar(4),0.50+FVar(4)
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = BGPalFX
Trigger1 = Time = [1,29]
Add = 0-Var(6),0-Var(6),0-Var(6)
Time = 1

[State -1]
Type = BGPalFX
Trigger1 = Time = [30,35]
Add = Ceil(-255+Var(6)*1.5),Ceil(-255+Var(6)*1.5),Ceil(-255+Var(6)*1.5)
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time <= 26
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 27
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 50

;---------------------------------------------------------------------------
; ＥＸ必殺技エフェクト	赤2
[StateDef 6021]
Type = A
Physics = N
Anim = 10011
SprPriority = 4
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 255,255

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6021)
Trigger1 = Time = [1,22]
FV  = 1
Value = -0.008

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6021)
Trigger1 = Time = [1,22]
FV = 2
Value = 0.1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 1,5

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = 1,5

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6021)
Trigger1 = 1
Scale = 0.6+Var(3)/10+FVar(1),0.6+Var(4)/10+FVar(2)

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6022)
Trigger1 = Time = [1,22]
FV = 1
Value = -0.0075

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6022)
Trigger1 = Time = [1,22]
FV = 2
Value = 0.05

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6022)
Trigger1 = 1
Scale = 0.3+Var(3)/10+FVar(1),1.8+Var(4)/10+FVar(2)

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6023)
Trigger1 = Time = [1,22]
FV = 1
Value = -0.02

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6023)
Trigger1 = Time = [1,22]
FV = 2
Value = 0.15

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6023)
Trigger1 = 1
Scale = 0.6+Var(3)/10+FVar(1),0.6+Var(4)/10-FVar(2)

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6024)
Trigger1 = Time = [1,22]
FV = 1
Value = -0.005

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6024)
Trigger1 = Time = [1,22]
FV = 2
Value = 0.4

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6024)
Trigger1 = 1
Scale = 0.3+Var(3)/10+FVar(1),1.8+Var(4)/10-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6021) || IsHelper(6022)
Trigger1 = Time = 0
V = 43
Range = 0,179

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6023) || IsHelper(6024)
Trigger1 = Time = 0
V = 43
Range = 180,359

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(43)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 26

;---------------------------------------------------------------------------
; ＥＸ必殺技エフェクト	赤3
[StateDef 6025]
Type = A
Physics = N
Anim = 10005
SprPriority = 4
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = PalFx
Trigger1 = 1
Time = 1
Add = 0,-150,-150
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 11
FV  = 1
Value = 1.0

[State -1]
Type = VarAdd
Trigger1 = Time = [12,35]
FV  = 1
Value = 0.01

[State -1]
Type = VarSet
Trigger1 = Time = 11
FV  = 2
Value = 1.0

[State -1]
Type = VarAdd
Trigger1 = Time = [12,35]
FV  = 2
Value = 0.075

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.0+FVar(1),0.0+FVar(1)

[State -1]
Type = VarSet
Trigger1 = Time = 30
V = 6
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = [0,10]
Trigger2 = Time >= 30
V = 6
Value = 26

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s3000, 0

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 6026
ID = 6022
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 6026
ID = 6023
Pos = 0,0
PosType  = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo  = 6026
ID = 6024
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo  = 6026
ID = 6021
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo  = 6026
ID = 6022
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6026
ID = 6021
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6026
ID = 6022
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6026
ID = 6023
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Parent,Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 6026
ID = 6024
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 6026
ID = 6023
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 6026
ID = 6024
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 11
ID = 10000
Anim = 10005
Ownpal = 0
Scale = 0.0+FVar(2),0.0+FVar(2)
SprPriority = 5
RemoveTime = 25
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [12,35]
ID = 10000
Scale = 0.0+FVar(2),0.0+FVar(2)
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 23
FV  = 4
Value = 0.0175

[State -1]
Type = Explod
Trigger1 = IsHelper(10001)
Trigger1 = Time = 0
ID = 10001
Anim = 10001
Pos = 0,240
PosType = Back
Ownpal = 1
Scale = 0.50+FVar(4),0.50+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10002)
Trigger1 = Time = 0
ID = 10001
Anim = 10002
Pos = 0,240
PosType = Back
Ownpal = 1
Scale = 0.50+FVar(4),0.50+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10003)
Trigger1 = Time = 0
ID = 10001
Anim = 10003
Pos = 10,240
PosType = Back
Ownpal = 1
Scale = 0.50+FVar(4),0.50+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10003)
Trigger1 = Time = 0
ID = 10001
Anim = 10003
Pos = 10,240
PosType = Back
Ownpal = 1
Scale = 0.50+FVar(4),0.50+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
Trigger1 = IsHelper(10004)
Trigger1 = Time = 0
ID = 10001
Anim = 10004
Pos = 0,240
PosType = Back
Ownpal = 1
Scale = 0.50+FVar(4),0.50+FVar(4)
SprPriority = -5
BindTime = -1
RemoveTime = 50
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [1,50]
ID = 10001
Scale = 0.50+FVar(4),0.50+FVar(4)
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = BGPalFX
Trigger1 = Time = [1,29]
Add = 0-Var(6),0-Var(6),0-Var(6)
Time = 1

[State -1]
Type = BGPalFX
Trigger1 = Time = [30,35]
Add = Ceil(-255+Var(6)*1.5),Ceil(-255+Var(6)*1.5),Ceil(-255+Var(6)*1.5)
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time <= 35
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 36
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 50

;---------------------------------------------------------------------------
; ＥＸ必殺技エフェクト	赤4
[StateDef 6026]
Type = A
Physics = N
Anim = 10130
SprPriority = 4
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 255,255

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6021)
Trigger1 = Time = 0
V = 2
Range = 0,6

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6021)
Trigger1 = Time = [1,11]
FV = 2
Value = 2.4

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6021)
Trigger1 = 1
Scale = 0.30+Var(2)/10,30.0-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6022)
Trigger1 = Time = 0
V = 2
Range = 0,6

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6022)
Trigger1 = Time = [1,11]
FV = 2
Value = 2.1

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6022)
Trigger1 = 1
Scale = 0.30+Var(2)/10,27.0-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6023)
Trigger1 = Time = 0
V = 2
Range = 0,6

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6023)
Trigger1 = Time = [1,11]
FV = 2
Value = 3.0

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6023)
Trigger1 = 1
Scale = 0.35-Var(2)/10,36.0-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6024)
Trigger1 = Time = 0
V = 2
Range = 0,6

[State -1]
Type = VarAdd
Trigger1 = IsHelper(6024)
Trigger1 = Time = [1,11]
FV = 2
Value = 2.7

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(6024)
Trigger1 = 1
Scale = 0.35-Var(2)/10,33.0-FVar(2)

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6021)
Trigger1 = Time = 0
V = 43
Range = 0,89

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6022)
Trigger1 = Time = 0
V = 43
Range = 90,179

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6023)
Trigger1 = Time = 0
V = 43
Range = 180,269

[State -1]
Type = VarRandom
Trigger1 = IsHelper(6024)
Trigger1 = Time = 0
V = 43
Range = 270,359

[State -1]
Type = VarRandom
Trigger1 = Time = 1
V = 44
Range = -2,2

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = Var(43)

[State -1]
Type = AngleAdd
Trigger1 = Time >= 1
Value = -Var(44)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 11

;---------------------------------------------------------------------------
; ブラッドヒートエフェクト1
[Statedef 10990]
Type = A
Physics = N
SprPriority = 5
Anim = 10990

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarAdd
Trigger1 = Time >= 19
V = 7
Value = 10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = Time = [0,18]
Trans = Add

[State -1]
Type = Trans
Trigger1 = Time >= 19
Trans = AddAlpha
Alpha = 255-Var(7),255

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.6,0.6

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ブラッドヒートエフェクト2
[Statedef 10991]
Type = A
Physics = N
SprPriority = 5
Anim = 10991

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 0,359
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 22
V = 7
Value = 10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = Time = [0,21]
Trans = Add

[State -1]
Type = Trans
Trigger1 = Time >= 22
Trans = AddAlpha
Alpha = 255-Var(7),255

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.6,0.6

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(3)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;残像ヘルパー
[Statedef 755]
Type = A
Physics = N
SprPriority = -5

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarAdd
Trigger1 = Time >= 2
V = 7
Value = 32

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 255-Var(7),32+Var(7)

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = Parent,Anim

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = Parent,AnimElemNo(0)

[State -1]
Type = ChangeAnim
Trigger1 = 1
Value = Var(1)
Elem  = Var(2)

[State -1]
Type = AssertSpecial
Trigger1 = Time = [0,1]
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 9
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;コマ投げヘルパー 攻撃判定吸い込み用
[Statedef 860]
Type = S
Physics = S
SprPriority = -5

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = IfElse(IsHelper(860),860,861)

[State -1]
Type = BindToParent
Trigger1 = 1
Pos = 0,0

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ReversalDef
Trigger1 = Time = 0
Reversal.Attr =  SC, NA,SA,HA
Pausetime = 0,0
NumHits = 0
SparkNo = -1
Guard.SparkNo = -1
GetPower = 0,0
SparkXY = 0,0
P1StateNo = 861
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetBind
Trigger1 = MoveHit
Pos = 0, 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetState
Trigger1 = MoveHit
Trigger1 = NumTarget > 0
Trigger1 =! Target,IsHelper
Value = 862
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;コマ投げヘルパー 攻撃判定吸い込み用2
[Statedef 861]
Type = S
MoveType= A
Physics = S
SprPriority = -5

[State -1]
Type = BindToParent
Trigger1 = 1
Pos = 0,0

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetBind
Trigger1 = Time = 0
Pos = 30, 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 2
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;コマ投げヘルパー 相手用
[Statedef 862]
Type    = S
MoveType= H
Physics = S
VelSet = 0,0

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = 5010

[State -1] 
Type = SelfState
Trigger1 = Time >= 3
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;ジャンプ残像ヘルパー
[Statedef 55]
Type = A
Physics = N
SprPriority = -5
Anim = 60

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PosSet
Trigger1 = 1
X = Parent,Pos X
Persistent = 1

[State -1]
Type = Trans
Trigger1 = IsHelper(55)
Trans = AddAlpha
Alpha = 255,128

[State -1]
Type = Trans
Trigger1 = IsHelper(56)
Trans = AddAlpha
Alpha = 128,200

[State -1]
Type = ChangeAnim
Trigger1 = Time = [0,1]
Trigger1 = IsHelper(55)
Trigger2 = IsHelper(56)
Trigger2 = Time = [0,3]
Value = 60

[State -1]
Type = VelSet
Trigger1 = Time = 1
Trigger1 = IsHelper(55)
Trigger2 = IsHelper(56)
Trigger2 = Time = 3
X = 0.8
Y = Const(velocity.jump.y)-1.6

[State -1]
Type = VelAdd
Trigger1 = Time >= 2
Trigger1 = IsHelper(55)
Trigger2 = IsHelper(56)
Trigger2 = Time >= 4
Y = Const(movement.yaccel)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Parent,Anim != 60
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;残像ヘルパー
[Statedef 755]
Type = A
Physics = N
SprPriority = -5

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarAdd
Trigger1 = IsHelper(755)
Trigger1 = Time >= 2
V = 7
Value = 32

[State -1]
Type = VarAdd
Trigger1 = IsHelper(756)
Trigger1 = Time >= 2
V = 7
Value = 8

[State -1]
Type = Trans
Trigger1 = IsHelper(755)
Trigger1 = 1
Trans = AddAlpha
Alpha = 255-Var(7),32+Var(7)

[State -1]
Type = Trans
Trigger1 = IsHelper(756)
Trigger1 = 1
Trans = AddAlpha
Alpha = 256-Var(7),256

[State -1]
Type = PalFx
Trigger1 = IsHelper(756)
Time = 1
Add = -100,-100,255
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = Parent,Anim

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = Parent,AnimElemNo(0)

[State -1]
Type = ChangeAnim
Trigger1 = 1
Value = Var(1)
Elem  = Var(2)

[State -1]
Type = AssertSpecial
Trigger1 = Time = [0,1]
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(755)
Trigger1 = Time = 9
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = IsHelper(756)
Trigger1 = Time = 36


;---------------------------------------------------------------------------
;空中ハイジャンプ残像ヘルパー
[Statedef 855]
Type = A
Physics = N
SprPriority = -5

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarAdd
Trigger1 = Time >= 2
V = 7
Value = 40

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 255-Var(7),32+Var(7)

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = Parent,Anim

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = Parent,AnimElemNo(0)

[State -1]
Type = ChangeAnim
Trigger1 = 1
Value = Var(1)
Elem  = Var(2)

[State -1]
Type = AssertSpecial
Trigger1 = Time = [0,1]
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 8
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;特殊やられ演出ヘルパー
[Statedef 5605]
Type = A
Physics = N
SprPriority = -5

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = IsHelper(5605)
Trigger1 = Time = 0
Value = s5600, IfElse((Parent,Var(26)=[2,3]),0,10)

[State -2]
Type = PlaySnd
Trigger1 = IsHelper(5705)
Trigger1 = Time = 0
Value = s5100, IfElse((Parent,Var(26)=[2,3]),0,10)

[State -1]
Type = Explod
Trigger1 = IsHelper(5705)
Trigger1 = Time = 0
Anim = 15100
ID = 15100
Postype = P2
Pos = 0,0
Ownpal = 1
Scale = 0.5,0.5
SprPriority = 5
Removetime = -2
Removeongethit = 1

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 1

;---------------------------------------------------------------------------
;炎ヘルパー
[Statedef 8000]
Type = A
Physics = N
SprPriority = -1

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = 1
V = 7
Range = 0,1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = [1,90]
Anim = 8000+Var(7)
ID = 8000
Ownpal = 1
BindTime = 4
PosType = P2
Pos = 0,IfElse(P2StateType != L,Const(Size.Mid.Pos.Y)+10,-10)
Random = 20,0
Vel = 0,-2.5
SprPriority = -2
IgnoreHitPause = 1
Persistent = 3
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time >= 92
Anim = 8000+Var(7)
ID = 8000
Ownpal = 1
BindTime = 4
PosType = P2
Pos = 0,IfElse(P2StateType != L,Const(Size.Mid.Pos.Y)+10,-10)
Random = 20,0
Vel = 0,-2.5
SprPriority = -2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = [0,92]
Anim = 8005
ID = 8005
Ownpal = 1
BindTime = 1
PosType = P2
Pos = 0,IfElse(P2StateType != L,Const(Size.Mid.Pos.Y)+20,-10)
Scale = 0.5,0.5
Facing = IfElse(Var(7)=0,1,-1)
SprPriority = 5
IgnoreHitPause = 1
Persistent = 23
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time >= 92
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;粉塵ヘルパー
[Statedef 8600]
Type = A
Physics = N
Anim = 8600
SprPriority = 4

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 6
Range = 0,5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
Trigger1 = Time = 0
X = Var(6)*IfElse(Random%2=0,1,-1)

[State -1]
Type = PalFx
Trigger1 = Var(2) = 0
Time = 1
Add = -100,-120,-140
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Var(2) = 1
Time = 1
Add = -130,-130,-130
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 10,40
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 2
Range = 0,1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 0,359
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 1
V = 3
Value = (1+Var(1)/10)*IfElse(Var(2)=0,1,-1)

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = -15,-30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = -1,-15
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 10
V = 7
Value = 10

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = -15,-30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 9
Range = -1,-15
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = Time = [0,10]
Trans = Add

[State -1]
Type = Trans
Trigger1 = Time >= 11
Trans = AddAlpha
Alpha = 255-Var(7),255

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.45,0.45

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(3)

[State -1]
Type = VelSet
Trigger1 = Time = 1
X = (0.00+Var(4))/10

[State -1]
Type = VelAdd
Trigger1 = Time >= 2
X = .05

[State -1]
Type = VelAdd
Trigger1 = Time >= 1
Y = (0.00+Var(5))/500

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
ID = 8600
PosType = P1
Pos = 0,0
Random = 10,0
Anim = 8601
Scale = 0.45,0.45
Vel = (0.00+Var(8))/10,0
Accel = 0.05,(0.00+Var(9))/500
Ownpal = 0
SprPriority = 4
IgnoreHitPause = 0
Persistent = 0
Removetime = -2

[State -1]
Type = DestroySelf
Trigger1 = Time = 36
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;粉塵ヘルパー2
[Statedef 8601]
Type = A
Physics = N
Anim = 8600
SprPriority = 4

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 6
Range = 0,5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
Trigger1 = Time = 0
X = Var(6)*IfElse(Random%2=0,1,-1)

[State -1]
Type = PalFx
Trigger1 = Var(2) = 0
Time = 1
Add = -100,-120,-140
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Var(2) = 1
Time = 1
Add = -130,-130,-130
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 10,40
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 2
Range = 0,1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 0,359
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 1
V = 3
Value = (1+Var(1)/10)*IfElse(Var(2)=0,1,-1)

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = -5,-25
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,-5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 10
V = 7
Value = 10

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = -5,-25
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 9
Range = 0,-5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = Time = [0,10]
Trans = Add

[State -1]
Type = Trans
Trigger1 = Time >= 11
Trans = AddAlpha
Alpha = 255-Var(7),255

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.45,0.45

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(3)

[State -1]
Type = VelSet
Trigger1 = Time = 1
X = (0.00+Var(4))/10

[State -1]
Type = VelAdd
Trigger1 = Time >= 2
X = .033

[State -1]
Type = VelAdd
Trigger1 = Time >= 1
Y = (0.00+Var(5))/500

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
ID = 8600
PosType = P1
Pos = 0,0
Random = 10,0
Anim = 8601
Scale = 0.45,0.45
Vel = (0.00+Var(8))/10,0
Accel = 0.033,(0.00+Var(9))/500
Ownpal = 0
SprPriority = 4
IgnoreHitPause = 0
Persistent = 0
Removetime = -2

[State -1]
Type = DestroySelf
Trigger1 = Time = 36
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;粉塵ヘルパー3
[Statedef 8602]
Type = A
Physics = N
Anim = 8600
SprPriority = 4

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 6
Range = 0,20
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
Trigger1 = Time = 0
X = Var(6)*IfElse(Random%2=0,1,-1)

[State -1]
Type = PalFx
Trigger1 = Var(2) = 0
Time = 1
Add = -100,-120,-140
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Var(2) = 1
Time = 1
Add = -130,-130,-130
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 10,40
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 2
Range = 0,1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 0,359
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 1
V = 3
Value = (1+Var(1)/10)*IfElse(Var(2)=0,1,-1)

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = -15,-60
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = -1,-45
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 10
V = 7
Value = 10

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = -15,-60
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 9
Range = -1,-45
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = Time = [0,10]
Trans = Add

[State -1]
Type = Trans
Trigger1 = Time >= 11
Trans = AddAlpha
Alpha = 255-Var(7),255

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.9,0.9

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(3)

[State -1]
Type = VelSet
Trigger1 = Time = 1
X = (0.00+Var(4))/10

[State -1]
Type = VelAdd
Trigger1 = Time >= 2
X = .05

[State -1]
Type = VelAdd
Trigger1 = Time >= 1
Y = (0.00+Var(5))/500

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
ID = 8600
PosType = P1
Pos = 0,0
Random = 10,0
Anim = 8601
Scale = 0.9,0.9
Vel = (0.00+Var(8))/10,0
Accel = 0.05,(0.00+Var(9))/500
Ownpal = 0
SprPriority = 4
IgnoreHitPause = 0
Persistent = 0
Removetime = -2

[State -1]
Type = DestroySelf
Trigger1 = Time = 36
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;粉塵ヘルパー4
[Statedef 8603]
Type = A
Physics = N
Anim = 8600
SprPriority = 4

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PalFx
Trigger1 = Var(2) = 0
Time = 1
Add = -100,-120,-140
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Var(2) = 1
Time = 1
Add = -130,-130,-130
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 10,40
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 2
Range = 0,1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 0,359
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 1
V = 3
Value = (1+Var(1)/10)*IfElse(Var(2)=0,1,-1)

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = -20,-40
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = -1,-20
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 10
V = 7
Value = 10

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = -20,-40
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 9
Range = -1,-20
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = Time = [0,10]
Trans = Add

[State -1]
Type = Trans
Trigger1 = Time >= 11
Trans = AddAlpha
Alpha = 255-Var(7),255

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.9,0.9

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(3)

[State -1]
Type = VelSet
Trigger1 = Time = 1
X = (0.00+Var(4))/10
Y = (0.00+Var(5))/10

[State -1]
Type = VelAdd
Trigger1 = Time >= 2
X = .04

[State -1]
Type = VelAdd
Trigger1 = Time >= 2
Y = .01

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
ID = 8600
Pos = 15,0
Anim = 8601
Scale = 0.9,0.9
Vel = (0.00+Var(8))/10,(0.00+Var(9))/10
Accel = 0.04,0.01
Ownpal = 0
SprPriority = 4
IgnoreHitPause = 0
Persistent = 0
Removetime = -2

[State -1]
Type = DestroySelf
Trigger1 = Time = 36
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;粉塵ヘルパー5
[Statedef 8604]
Type = A
Physics = N
Anim = 8600
SprPriority = 4

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PalFx
Trigger1 = Var(2) = 0
Time = 1
Add = -100,-120,-140
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Var(2) = 1
Time = 1
Add = -130,-130,-130
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 10,40
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 2
Range = 0,1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 0,359
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 1
V = 3
Value = (1+Var(1)/10)*IfElse(Var(2)=0,1,-1)

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = -5,-25
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = -15,-40
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 10
V = 7
Value = 10

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = -5,-25
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 9
Range = -15,-40
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = Time = [0,10]
Trans = Add

[State -1]
Type = Trans
Trigger1 = Time >= 11
Trans = AddAlpha
Alpha = 255-Var(7),255

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.9,0.9

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(3)

[State -1]
Type = VelSet
Trigger1 = Time = 1
X = (0.00+Var(4))/10
Y = (0.00+Var(5))/10

[State -1]
Type = VelAdd
Trigger1 = Time >= 2
X = .033

[State -1]
Type = VelAdd
Trigger1 = Time >= 2
Y = .02

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
ID = 8600
Pos = 15,0
Anim = 8601
Scale = 0.9,0.9
Vel = (0.00+Var(8))/10,(0.00+Var(9))/10
Accel = 0.033,0.02
Ownpal = 0
SprPriority = 4
IgnoreHitPause = 0
Persistent = 0
Removetime = -2

[State -1]
Type = DestroySelf
Trigger1 = Time = 36
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;粉塵ヘルパー6
[Statedef 8605]
Type = A
Physics = N
Anim = 8600
SprPriority = 4

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PalFx
Trigger1 = Var(2) = 0
Time = 1
Add = -100,-120,-140
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Var(2) = 1
Time = 1
Add = -130,-130,-130
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 10,40
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 2
Range = 0,1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 0,359
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 1
V = 3
Value = (1+Var(1)/10)*IfElse(Var(2)=0,1,-1)

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = -1,-10
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = -25,-50
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 10
V = 7
Value = 10

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = -1,-10
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 9
Range = -25,-50
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = Time = [0,10]
Trans = Add

[State -1]
Type = Trans
Trigger1 = Time >= 11
Trans = AddAlpha
Alpha = 255-Var(7),255

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.9,0.9

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(3)

[State -1]
Type = VelSet
Trigger1 = Time = 1
X = (0.00+Var(4))/10
Y = (0.00+Var(5))/10

[State -1]
Type = VelAdd
Trigger1 = Time >= 2
Y = .04

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
ID = 8600
Pos = 15,0
Anim = 8601
Scale = 0.9,0.9
Vel = (0.00+Var(8))/10,(0.00+Var(9))/10
Accel = 0,0.04
Ownpal = 0
SprPriority = 4
IgnoreHitPause = 0
Persistent = 0
Removetime = -2

[State -1]
Type = DestroySelf
Trigger1 = Time = 36
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;粉塵ヘルパー7
[Statedef 8606]
Type = A
Physics = N
Anim = 8600
SprPriority = 4

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PalFx
Trigger1 = Var(2) = 0
Time = 1
Add = -100,-120,-140
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Var(2) = 1
Time = 1
Add = -130,-130,-130
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 10,40
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 2
Range = 0,1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 0,359
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 1
V = 3
Value = (1+Var(1)/10)*IfElse(Var(2)=0,1,-1)

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = -1,-10
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = -30,-70
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 10
V = 7
Value = 10

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = -1,-10
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 9
Range = -30,-70
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = Time = [0,10]
Trans = Add

[State -1]
Type = Trans
Trigger1 = Time >= 11
Trans = AddAlpha
Alpha = 255-Var(7),255

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.9,0.9

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(3)

[State -1]
Type = VelSet
Trigger1 = Time = 1
X = (0.00+Var(4))/10
Y = (0.00+Var(5))/10

[State -1]
Type = VelAdd
Trigger1 = Time >= 2
Y = .06

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
ID = 8600
Pos = 15,0
Anim = 8601
Scale = 0.9,0.9
Vel = (0.00+Var(8))/10,(0.00+Var(9))/10
Accel = 0,0.06
Ownpal = 0
SprPriority = 4
IgnoreHitPause = 0
Persistent = 0
Removetime = -2

[State -1]
Type = DestroySelf
Trigger1 = Time = 36
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;粉塵ヘルパー8
[Statedef 8607]
Type = A
Physics = N
Anim = 8600
SprPriority = 4

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PalFx
Trigger1 = Var(2) = 0
Time = 1
Add = -100,-120,-140
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Var(2) = 1
Time = 1
Add = -130,-130,-130
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 10,40
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 2
Range = 0,1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 0,359
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 1
V = 3
Value = (1+Var(1)/10)*IfElse(Var(2)=0,1,-1)

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 4
Range = -1,-10
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = -1,-10
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 10
V = 7
Value = 10

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = -1,-10
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 9
Range = -1,-10
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = Time = [0,10]
Trans = Add

[State -1]
Type = Trans
Trigger1 = Time >= 11
Trans = AddAlpha
Alpha = 255-Var(7),255

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.9,0.9

[State -1]
Type = AngleSet
Trigger1 = 1
Value = Var(3)

[State -1]
Type = VelSet
Trigger1 = Time = 1
X = (0.00+Var(4))/10
Y = (0.00+Var(5))/10

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
ID = 8600
Pos = 15,0
Anim = 8601
Scale = 0.9,0.9
Vel = (0.00+Var(8))/10,(0.00+Var(9))/10
Accel = 0,0
Ownpal = 0
SprPriority = 4
IgnoreHitPause = 0
Persistent = 0
Removetime = -2

[State -1]
Type = DestroySelf
Trigger1 = Time = 36
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 猫アルク＆ガチャレバヘルパー1
[Statedef 3150]
Type = A
Physics = N
Velset = 0,0
SprPriority = 3
Anim = 6605

[State -1]
Type = Turn
Trigger1 = Facing = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.5,0.5

[State -1]
Type = VarAdd
Trigger1 = NumHelper(3151) > 0
Trigger1 = Helper(3151),Anim= 3151
V = 7
Value = 10

[State -1]
Type = Trans
Trigger1 = NumHelper(3151) > 0
Trigger1 = Helper(3151),Anim= 3151
Trans = AddAlpha
Alpha = 255-Var(7),255

[State -1]
Type = PosSet
Trigger1 = Enemy,StateNo = [3160,3164]
X = Enemy,Pos X+(20*Enemy,Facing)
Y = Enemy,Const(Size.Head.Pos.Y)-45
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Enemy,MoveType = H
Trigger1 = Enemy,StateNo = 3163
Anim = 15100
ID = 15100
PosType = P2
Pos = 0,0
Ownpal = 1
Scale = 0.5,0.5
SprPriority = 1
IgnoreHitPause = 1
RemoveTime = -2
RemoveOnGetHit = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Enemy,MoveType = H
Trigger1 = Enemy,StateNo = 3163
Value = s5100, IfElse((Parent,Var(26)=[2,3]),0,10)
Persistent = 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = Parent,Var(0)%10 = 0
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = Parent,Var(0)%10 = 1
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 3151
ID = 3151
Ownpal = 1
SprPriority = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 13
StateNo = 3151
ID = 3152
Ownpal = 1
SprPriority = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 26
StateNo = 3151
ID = 3153
Ownpal = 1
SprPriority = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 39
StateNo = 3151
ID = 3154
Ownpal = 1
SprPriority = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 52
StateNo = 3151
ID = 3155
Ownpal = 1
SprPriority = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time >= 12
Trigger1 = NumHelper(3151) = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 猫アルクヘルパー2
[Statedef 3151]
Type = A
Physics = N
Velset = 0,0
SprPriority = 0
Anim = 3150

[State -1]
Type = Turn
Trigger1 = Facing = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.5,0.5

[State -1]
Type = SprPriority
Trigger1 = Anim = 3150
Trigger1 = Time >= 20
Value = 2
Persistent = 63

[State -1]
Type = SprPriority
Trigger1 = Anim = 3150
Trigger1 = Time >= 52
Value = 0
Persistent = 63

[State -1]
Type = SprPriority
Trigger1 = Anim = 3151
Value = 3
Persistent = 0

[State -1]
Type = PosSet
Trigger1 = Anim = 3150
X = Enemy,Pos X+5-Ceil(30*Cos(0.1*Time))
Y = Enemy,Const(Size.Mid.Pos.Y)+40-Ceil(10*Sin(0.1*Time))+Parent,Const(Size.Head.Pos.Y)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
TriggerAll = Anim = 3150
Trigger1 = IsHelper(3151)
Trigger1 = Time+Var(1) >= 804
Trigger2 = IsHelper(3152)
Trigger2 = Time+Var(1) >= 711
Trigger3 = IsHelper(3153)
Trigger3 = Time+Var(1) >= 618
Trigger4 = IsHelper(3154)
Trigger4 = Time+Var(1) >= 525
Trigger5 = IsHelper(3155)
Trigger5 = Time+Var(1) >= 432
Trigger6 = Enemy,PrevStateNo = 3164
Trigger7 = Time >= 1
Trigger7 = Enemy,StateNo != [3161,3164]
Value = 3151
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VelSet
Trigger1 = Anim = 3151
X = 0
Y = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Anim = 3151
V = 7
Value = 10

[State -1]
Type = Trans
Trigger1 = Anim = 3151
Trans = AddAlpha
Alpha = 255-Var(7),255

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
TriggerAll = Enemy,StateNo = [3160,3164]
Trigger1 = Enemy,Command = "kizetsu"
Trigger2 = Enemy,Command = "a"
Trigger3 = Enemy,Command = "b"
Trigger4 = Enemy,Command = "c"
Trigger5 = Enemy,Command = "z"
V = 1
Value = 2

[State -1]
Type = DestroySelf
Trigger1 = Var(7) >= 250
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;吸血衝動ヘルパー
[Statedef 2405]
Type = A
Physics = N
SprPriority = -5

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time = [25,49]
V = 8
Value = 10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time = [50,62]
V = 8
Value = -20
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = BGPalFx
Trigger1 = Time = [25,62]
Time = 1
Add = 0 + Var(8),0 - Var(8),0 - Var(8)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Time = [25,62]
Time = 1
Add = 0 + Var(8),0 - Var(8),0 - Var(8)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 25
Anim = 12400
ID = 12400
Postype = Left
OnTop = 0
Pos = 0,0
Ownpal = 0
Scale = 0.5,0.5
SprPriority = 5
ReMoveTime = -2
BindTime = -1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 62
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;固有結界・枯渇庭園ヘルパー
[Statedef 3155]
Type = A
Physics = N
SprPriority = -5

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = 1
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = 1
V = 2
Range = -1,1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = 1
V = 3
Range = -60,-30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time >= 0
Anim = 3156+Var(1)*2
ID = 3156
Postype = Right
Pos = -60,-10
Random = 360,20
Vel = (0.00+Var(3))/10,-(0.00+Var(3))/10
Ownpal = 0
Scale = 1.0+(0.0+Var(2))/2,1.0+(0.0+Var(2))/2
SprPriority = 4
ReMoveTime = 90
IgnoreHitPause = 1
Persistent = 8
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time >= 2
Anim = 3157+Var(1)*2
ID = 3157
Postype = Right
Pos = -60,-10
Random = 360,20
Vel = (0.00+Var(3))/10,-(0.00+Var(3))/10
Ownpal = 0
Scale = 1.0+(0.0+Var(2))/2,1.0+(0.0+Var(2))/2
SprPriority = 4
ReMoveTime = 90
IgnoreHitPause = 1
Persistent = 8
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time >= 0
Anim = 3156+Var(1)*2
ID = 3156
Postype = Right
Pos = 0,120
Random = 0,180
Vel = (0.00+Var(3))/10,-(0.00+Var(3))/10
Ownpal = 0
Scale = 1.0+(0.0+Var(2))/2,1.0+(0.0+Var(2))/2
SprPriority = 4
ReMoveTime = 90
IgnoreHitPause = 1
Persistent = 8
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time >= 2
Anim = 3157+Var(1)*2
ID = 3157
Postype = Right
Pos = 0,120
Random = 0,180
Vel = (0.00+Var(3))/10,-(0.00+Var(3))/10
Ownpal = 0
Scale = 1.0+(0.0+Var(2))/2,1.0+(0.0+Var(2))/2
SprPriority = 4
ReMoveTime = 90
IgnoreHitPause = 1
Persistent = 8
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 180
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;レデュース残像ヘルパー
[Statedef 22005]
Type = A
Physics = N
SprPriority = 5

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarAdd
Trigger1 = Time >= 2
V = 7
Value = 16

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 256-Var(7),128+Var(7)*2

[State -1]
Type = VarAdd
Trigger1 = Time >= 1
FV = 1
Value = 0.05

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 1.00+FVar(1),1.00+FVar(1)

[State -1]
Type = VelSet
Trigger1 = Time >= 0
X = -0.2
Y = 1.4

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = Parent,Anim

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = Parent,AnimElemNo(0)

[State -1]
Type = ChangeAnim
Trigger1 = 1
Value = Var(1)
Elem  = Var(2)

[State -1]
Type = AssertSpecial
Trigger1 = Time = 0
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 15
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ゲージ選択
[Statedef 24000]
Type = A
Physics = N
Velset = 0,0
SprPriority = 5
Anim = 0

[State -1]
Type = BindToParent
Trigger1 = 1
Pos = -35*(Facing*Parent,Facing),-52

[State -1]
Type = VarSet
Trigger1 = 1
V = 1
Value = Floor(60*Cos(0.2*Time))
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = 1
Time = 9999
Add = 0+Var(1),0+Var(1),0+Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
TriggerAll = RoundState <= 1
Trigger1 = Parent,Var(26) = 0
Trigger1 = NumExplod(24010) = 0
Anim = 24010
PosType = P1
Pos = 0, 0
BindTime = -1
RemoveTime = -1
Scale = 0.55,0.55
Facing = IfElse(TeamSide=1,1,-1)
Ownpal = 0
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 24010

[State -1]
Type = Explod
TriggerAll = RoundState <= 1
Trigger1 = Parent,Var(26) = 1
Trigger1 = NumExplod(24020) = 0
Anim = 24020
PosType = P1
Pos = 0, 0
BindTime = -1
RemoveTime = -1
Scale = 0.55,0.55
Facing = IfElse(TeamSide=1,1,-1)
Ownpal = 0
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 24020

[State -1]
Type = Explod
TriggerAll = RoundState <= 1
Trigger1 = Parent,Var(26) = 2
Trigger1 = NumExplod(24030) = 0
Anim = 24030
PosType = P1
Pos = 0, 0
BindTime = -1
RemoveTime = -1
Scale = 0.55,0.55
Facing = IfElse(TeamSide=1,1,-1)
Ownpal = 0
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 24030

[State -1]
Type = Explod
TriggerAll = RoundState <= 1
Trigger1 = Parent,Var(26) = 3
Trigger1 = NumExplod(24040) = 0
Anim = 24040
PosType = P1
Pos = 0, 0
BindTime = -1
RemoveTime = -1
Scale = 0.55,0.55
Facing = IfElse(TeamSide=1,1,-1)
Ownpal = 0
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 24040

[State -1]
Type = RemoveExplod
Trigger1 = Parent,Var(26) != 0
Trigger2 = Parent,Var(0)/1000%10 = 1
Trigger3 = RoundState = 2
Trigger4 = Parent,Command = "recovery"
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 24010
Persistent = 1

[State -1]
Type = RemoveExplod
Trigger1 = Parent,Var(26) != 1
Trigger2 = Parent,Var(0)/1000%10 = 1
Trigger3 = RoundState = 2
Trigger4 = Parent,Command = "recovery"
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 24020
Persistent = 1

[State -1]
Type = RemoveExplod
Trigger1 = Parent,Var(26) != 2
Trigger2 = Parent,Var(0)/1000%10 = 1
Trigger3 = RoundState = 2
Trigger4 = Parent,Command = "recovery"
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 24030
Persistent = 1

[State -1]
Type = RemoveExplod
Trigger1 = Parent,Var(26) != 3
Trigger2 = Parent,Var(0)/1000%10 = 1
Trigger3 = RoundState = 2
Trigger4 = Parent,Command = "recovery"
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 24040
Persistent = 1

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Invisible
Flag2 = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = NumExplod(24010) = 0 && NumExplod(24020) = 0 && NumExplod(24030) = 0 && NumExplod(24040) = 0
Value = s24000, 1
Channel = 2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
TriggerAll = NumExplod(24010) = 0 && NumExplod(24020) = 0 && NumExplod(24030) = 0 && NumExplod(24040) = 0
Trigger1 = Parent,Var(0)/1000%10 = 1
Trigger2 = Parent,Command = "recovery"
Trigger3 = RoundState = 2
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ゲージ
[Statedef 25000]
Type = A
Physics = N
Velset = 0,0
SprPriority = 5
Anim = 10000

[State -1]
Type = VarSet
Trigger1 = P2StateNo = 5120
V = 59
Value = 9
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Var(59) > 0
Trigger1 = P2StateNo != 5120
V = 59
Value = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosSet
Trigger1 = 1
X = Ceil(EnemyNear(Parent,Var(57)),Pos X)-10*Facing
Y = Ceil(EnemyNear(Parent,Var(57)),Pos Y)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Turn
Trigger1 = Facing = EnemyNear(Parent,Var(57)),Facing
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -3,ランダムVar]
Type = VarRandom
TriggerAll = Parent,Var(59)>0
Trigger1 = 1
V=58
Range=0,99               
IgnoreHitPause=1
SuperMoveTime=9999
PauseMoveTime=9999

[State 25000,コンボフラグ]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = Parent,StateNo = 2250
var(32)=1
IgnoreHitPause=1

[State 25000,コンボフラグ解除]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = EnemyNear(Parent,Var(57)),MoveType!=H
Trigger2 = Parent,StateNo = 3000
var(32)=0
IgnoreHitPause=1

[State 25000,コンボフラグ解除]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = Var(34) = 0
var(33)=0
IgnoreHitPause=1

[State 25000,コンボフラグ]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = Var(34) = 1
Trigger1 = Var(33) = 0
var(33)= Ifelse((Var(58)=[0,19]),900,300)
IgnoreHitPause=1

[State 25000,コンボフラグ解除]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = EnemyNear(Parent,Var(57)),MoveType!=H
Trigger2 = Parent,var(4)>Var(33)
var(34)=0
IgnoreHitPause=1

[State 25000,コンボフラグ]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = Parent,StateNo = 1200
Trigger1 = Parent,AnimElem = 1
Trigger1 = Var(58) = [0,19]
var(34)=1
IgnoreHitPause=1

[State 25000,コンボフラグ]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = Parent,StateNo = 2250
var(35)=1
IgnoreHitPause=1

[State 25000,コンボフラグ解除]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = EnemyNear(Parent,Var(57)),MoveType!=H
Trigger2 = Parent,StateNo = 1200
var(35)=0
IgnoreHitPause=1

[State 25000,コンボフラグ]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = Parent,PrevStateNo=905
var(36)=1
IgnoreHitPause=1

[State 25000,コンボフラグ解除]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = EnemyNear(Parent,Var(57)),MoveType!=H
var(36)=0
IgnoreHitPause=1

[State 25000,コンボフラグ]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = Parent,StateNo=220
Trigger2 = Parent,StateNo=420
var(37)=1
IgnoreHitPause=1

[State 25000,コンボフラグ解除]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = EnemyNear(Parent,Var(57)),MoveType!=H
Trigger2 = Parent,StateNo = 600
var(37)=0
IgnoreHitPause=1

[State 25000,コンボフラグ解除]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = Parent,StateNo = 600
var(37)=0
IgnoreHitPause=1

[State 25000,コンボフラグ]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = Parent,StateNo=220
Trigger2 = Parent,StateNo=420
var(38)=1
IgnoreHitPause=1

[State 25000,コンボフラグ解除]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = EnemyNear(Parent,Var(57)),MoveType!=H
var(38)=0
IgnoreHitPause=1

[State 25000,エリアルフラグ]
Type = VarSet
TriggerAll = Parent,Var(59)>0
TriggerAll = Var(39)!=2
Trigger1 = Parent,StateNo=39
Trigger1 = Parent,PrevStateNo=410
Trigger2 = Parent,StateNo=[600,620]
Trigger2 = Parent,Var(2)/1000%10!=0
var(39)=1
IgnoreHitPause=1

[State 25000,エリアルフラグ]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = Var(38)!=1
Trigger1 = Parent,StateNo=39
Trigger1 = Parent,PrevStateNo=410
Trigger2 = Parent,StateNo=39
Trigger2 = Parent,PrevStateNo=200
Trigger3 = Var(39)=1
var(39)=2
IgnoreHitPause=1

[State 25000,エリアルフラグ解除]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = EnemyNear(Parent,Var(57)),MoveType!=H
var(39)=0
IgnoreHitPause=1

[State 25000,行動記憶]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = Parent,StateNo=2300
Trigger1 = Parent,PrevStateNo=1210
var(40)=Parent,PrevStateNo
IgnoreHitPause=1

[State 25000,行動記憶解除]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = EnemyNear(Parent,Var(57)),MoveType!=H
var(40)=0
IgnoreHitPause=1

[State 25000,置き攻めフラグ]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = EnemyNear(Parent,Var(57)),StateType=L
Trigger1 = EnemyNear(Parent,Var(57)),StateNo=5120
Trigger1 = EnemyNear(Parent,Var(57)),time=1
var(46)=Random%2
IgnoreHitPause=1

[State 25000,相手の攻撃判定発生経過時間]
Type = VarAdd
TriggerAll = Parent,Var(59)>0
Trigger1 = EnemyNear(Parent,Var(57)),MoveType=A
Trigger1 = EnemyNear(Parent,Var(57)),HitDefAttr = SCA,NA,SA,HA
var(47)=1
IgnoreHitPause=1

[State 25000,Var(47)解除]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = EnemyNear(Parent,Var(57)),time=1
var(47)=0
IgnoreHitPause=1

[State 25000,LA,ADDフラグ]
Type = VarSet
Trigger1 = Parent,Var(59)>0
Trigger1 = Parent,Var(13)=-1
Trigger1 = Var(48)=0
var(48)=IfElse(Random%2=0,1,2)

[State 25000,Var(48)解除]
Type = VarSet
Trigger1 = Parent,Var(59)>0
Trigger1 = Parent,Var(13)!=-1
Trigger1 = Var(48)!=0
var(48)=0

[State 25000,Var解除]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = EnemyNear(Parent,Var(57)),Ctrl
Trigger2 = 0;EnemyNear(Parent,Var(57)),StateNo=6201 || EnemyNear(Parent,Var(57)),StateNo=6211 || EnemyNear(Parent,Var(57)),StateNo=6221
Trigger2 = EnemyNear(Parent,Var(57)),Name="UNKNOWN"
Trigger2 = EnemyNear(Parent,Var(57)),AutHorName="586"
var(49)=0
IgnoreHitPause=1

[State 25000,AI殺し判定]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = EnemyNear(Parent,Var(57)),StateNo=3000
Trigger1 = EnemyNear(Parent,Var(57)),Name="Nrvnqsr_Chaos"
var(49)=1
IgnoreHitPause=1

[State 25000,AI殺し判定]
Type = VarSet
TriggerAll = Parent,Var(59)>0
TriggerAll = EnemyNear(Parent,Var(57)),Name="UNKNOWN"
TriggerAll = EnemyNear(Parent,Var(57)),AutHorName="hanma"
Trigger1 = EnemyNear(Parent,Var(57)),StateNo=3100
Trigger2 = EnemyNear(Parent,Var(57)),StateNo=3120
Trigger3 = EnemyNear(Parent,Var(57)),StateNo=3140
var(49)=2
IgnoreHitPause=1

[State 25000,AI殺し判定]
Type = VarSet
TriggerAll = Parent,Var(59)>0
TriggerAll = EnemyNear(Parent,Var(57)),Name="UNKNOWN"
TriggerAll = EnemyNear(Parent,Var(57)),AutHorName="586"
Trigger1 = EnemyNear(Parent,Var(57)),StateNo=6200
Trigger2 = EnemyNear(Parent,Var(57)),StateNo=6210
Trigger3 = EnemyNear(Parent,Var(57)),StateNo=6220
var(49)=3
IgnoreHitPause=1

[State 25000,AI殺し判定]
Type = VarSet
TriggerAll = Parent,Var(59)>0
TriggerAll = EnemyNear(Parent,Var(57)),Name="Tohno_Shiki"
Trigger1 = EnemyNear(Parent,Var(57)),StateNo=3000
Trigger2 = EnemyNear(Parent,Var(57)),StateNo=3050
var(49)=4
IgnoreHitPause=1

[State 25000,AI殺し判定]
Type = VarSet
TriggerAll = Parent,Var(59)>0
Trigger1 = EnemyNear(Parent,Var(57)),StateNo=3002
Trigger1 = EnemyNear(Parent,Var(57)),Name="Nrvnqsr_Chaos"
var(49)=0
IgnoreHitPause=1

[State 25000,相手のVelAddを計算(X軸)]
Type = VarSet
Trigger1 = 1
fvar(4)=EnemyNear(Parent,Var(57)),Vel X-fvar(5)

[State 25000,相手のVelAddを計算の補助]
Type = VarSet
Trigger1 = 1
fvar(5)=EnemyNear(Parent,Var(57)),Vel X

[State 25000,相手のVelAddを計算(Y軸)]
Type = VarSet
Trigger1 = 1
fvar(14)=EnemyNear(Parent,Var(57)),Vel Y-fvar(15)

[State 25000,相手のVelAddを計算の補助]
Type = VarSet
Trigger1 = 1
fvar(15)=EnemyNear(Parent,Var(57)),Vel Y

[State 25000,Facing]
Type = VarSet
Trigger1 = 1
var(44) = -(Parent,Facing)*(EnemyNear(Parent,Var(57)),Facing)
IgnoreHitPause=1

[State 25000,相手摩擦係数]
Type = VarSet
Trigger1 = 1
fvar(9) = IfElse(P2StateType=C,(EnemyNear(Parent,Var(57)),Const(movement.crouch.friction)),(EnemyNear(Parent,Var(57)),Const(movement.stand.friction)))
IgnoreHitPause=1

[State 25000,防御用ヘルパー位置設定]
Type = PosSet
Trigger1 = 1
X = Ceil(EnemyNear(Parent,Var(57)),Pos X)-10*Facing
Y = Ceil(EnemyNear(Parent,Var(57)),Pos Y)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 25000,防御用ヘルパー向き設定]
Type = Turn
Trigger1 = Facing = EnemyNear(Parent,Var(57)),Facing
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
V = 1
Value = Floor(60+45*Cos(0.1*Time))
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Parent,Var(13) > 0 || Parent,Var(14) != 0
V = 1
Value = Floor(60+45*Cos(0.15*Time))
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Parent,Var(13) = -1
V = 1
Value = Floor(60+45*Cos(0.2*Time))
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Trigger1 = Power = [0,999]
Time = 9999
Add = -32+Var(1),-255+Var(1),-255+Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Trigger1 = Power = [1000,1999]
Time = 9999
Add = -32+Var(1),-32+Var(1),-255+Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Trigger1 = Power >= 2000
Time = 9999
Add = -255+Var(1),-32+Var(1),-255+Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Parent,Var(13) = 1 && Parent,Var(14) = 0
Time = 9999
Add = 0+Var(1),-80+Var(1),-255+Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 1
Time = 9999
Add = -200+Var(1),-200+Var(1),-64+Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
Trigger1 = Parent,Var(13) = -1
Time = 9999
Add = -120+Var(1),-120+Var(1),-120+Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(0)/1000%10 = 0
TriggerAll = Time >= 1
TriggerAll = TeamSide = 1
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Power > 0
Trigger1 = NumExplod(25030) = 0
Anim = 25030
PosType = Left
Pos = 8, 229-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = IfElse(Parent,Var(26)=1,0.535,0.537),IfElse(Parent,Var(26)=1,0.5,0.54)
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25030
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(0)/1000%10 = 0
TriggerAll = Time >= 1
TriggerAll = TeamSide = 2
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Power > 0
Trigger1 = NumExplod(25031) = 0
Anim = 25031
PosType = Right
Pos = -8, 229-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = IfElse(Parent,Var(26)=1,0.535,0.54),IfElse(Parent,Var(26)=1,0.5,0.54)
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25031
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(0)/1000%10 = 0
TriggerAll = Time >= 1
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Power > 0
Trigger1 = NumExplod(25030) = 0
Trigger2 = parent,var(13) = -1
Trigger2 = NumExplod(25030) = 0
Trigger2 = parent,stateno != 3800
Anim = 27030+(TeamSide-1)
PosType = Left
Pos = IfElse(TeamSide=1,12,308), 221-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 6
ID = 25030
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Time >= 1
TriggerAll = Parent,Var(26) = 2
Trigger1 = parent,var(13) = -1
Trigger1 = NumExplod(25030) = 0
Trigger1 = parent,stateno != 3800
Anim = 27030+(TeamSide-1)
PosType = Left
Pos = IfElse(TeamSide=1,12,308), 221-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 6
ID = 25030
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(0)/1000%10 = 0
TriggerAll = Time >= 1
TriggerAll = Parent,Var(26) = 3
Trigger1 = Parent,Var(51) = 0
Trigger1 = Power > 0
Trigger1 = NumExplod(25030) = 0
Anim = 28030+(TeamSide-1)
PosType = Left
Pos = IfElse(TeamSide=1,11,309), 221-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 7
ID = 25030
Persistent = 1

[State -2]
Type = ModifyExplod
TriggerAll = Parent,Var(0)/1000%10 = 0
TriggerAll = Parent,Var(26) < 2
Trigger1 = Power <= 3000
Trigger1 = TeamSide = 1
Trigger1 = NumExplod(25030) > 0
Scale = IfElse(Parent,Var(26)=1,0.535,0.537)*Power/3000,IfElse(Parent,Var(26)=1,0.5,0.54)
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 25030
Persistent = 1

[State -2]
Type = ModifyExplod
TriggerAll = Parent,Var(0)/1000%10 = 0
TriggerAll = Parent,Var(26) < 2
Trigger1 = Power <= 3000
Trigger1 = TeamSide = 2
Trigger1 = NumExplod(25031) > 0
Scale = IfElse(Parent,Var(26)=1,0.535,0.54)*Power/3000,IfElse(Parent,Var(26)=1,0.5,0.54)
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 25031
Persistent = 1

[State -2]
Type = ModifyExplod
TriggerAll = Parent,Var(0)/1000%10 = 0
TriggerAll = Parent,Var(26) < 2
Trigger1 = Power >= 3000
Trigger1 = TeamSide = 1
Trigger1 = NumExplod(25030) > 0
Scale = IfElse(Parent,Var(26)=1,0.535,0.537)*1,IfElse(Parent,Var(26)=1,0.5,0.54)
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 25030
Persistent = 1

[State -2]
Type = ModifyExplod
TriggerAll = Parent,Var(0)/1000%10 = 0
TriggerAll = Parent,Var(26) < 2
Trigger1 = Power >= 3000
Trigger1 = TeamSide = 2
Trigger1 = NumExplod(25031) > 0
Scale = IfElse(Parent,Var(26)=1,0.535,0.54)*1,IfElse(Parent,Var(26)=1,0.5,0.54)
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 25031
Persistent = 1

[State -2]
Type = RemoveExplod
Trigger1 = Power = 0
Trigger1 = NumExplod(25030) > 0
Trigger2 = Parent,Var(51) > 0
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 25030
Persistent = 1

[State -2]
Type = RemoveExplod
Trigger1 = Power = 0
Trigger1 = NumExplod(25031) > 0
Trigger2 = Parent,Var(51) > 0
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 25031
Persistent = 1

[State -2]
Type = ModifyExplod
TriggerAll = Parent,Var(26) = [2,3]
Trigger1 = Power <= 3000
Trigger1 = NumExplod(25030) > 0
Scale = 0.5*Power/3000,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 25030
Persistent = 1

[State -2]
Type = ModifyExplod
TriggerAll = Parent,Var(26) = [2,3]
Trigger1 = Power >= 3000
Trigger1 = NumExplod(25030) > 0
Scale = 0.5*1,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 25030
Persistent = 1

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Invisible
Flag2 = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = RoundState = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ゲージロゴ
[Statedef 25010]
Type = A
Physics = N
Velset = 0,0
SprPriority = 6

[State -1]
Type = PalFx
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0 && Parent,Var(51) = 0
Trigger1 = Parent,FVar(16) != 1.00
Time = 1
Color = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFx
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(13) != 0 || Parent,Var(14) != 0 || Parent,Var(51) != 0
Trigger1 = Time %6 = 0
Time = 2
Add = 128,128,128
IgnoreHitPause = 1
Persistent = 2
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Anim = IfElse(Parent,Var(26)=1,25040,26040)+Power%10
PosType = Left
Pos = IfElse(TeamSide=1,114,208), 230-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 6
ID = 25040
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Anim = IfElse(Parent,Var(26)=1,25140,26140)+Power/10%10
PosType = Left
Pos = IfElse(TeamSide=1,106,200), 227-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 6
ID = 25041
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Trigger1 = Power >= 100
Anim = IfElse(Parent,Var(26)=1,25140,26140)+Power/100%10
PosType = Left
Pos = IfElse(TeamSide=1,98,192), 227-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 6
ID = 25042
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Trigger1 = Power >= 1000
Anim = IfElse(Parent,Var(26)=1,25140,26140)+Power/1000%10
PosType = Left
Pos = IfElse(TeamSide=1,90,184), 227-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 6
ID = 25043
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Anim = 27040+Power%10
PosType = Left
Pos = IfElse(TeamSide=1,33,287), 232-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 8
ID = 25040
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Anim = 27140+Power/10%10
PosType = Left
Pos = IfElse(TeamSide=1,26,280), 230-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 8
ID = 25041
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Parent,Var(13) = 0 && Parent,Var(14) = 0
Trigger1 = Power >= 100
Anim = 27140+Power/100%10
PosType = Left
Pos = IfElse(TeamSide=1,19,273), 230-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 8
ID = 25042
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Power >= 1000
Anim = 27140+Power/1000%10
PosType = Left
Pos = IfElse(TeamSide=1,12,266), 230-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 8
ID = 25043
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 3
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Anim = 28040+Power%10
PosType = Left
Pos = IfElse(TeamSide=1,33,287), 229-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 8
ID = 25040
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 3
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Anim = 28140+Power/10%10
PosType = Left
Pos = IfElse(TeamSide=1,28,282), 229-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 8
ID = 25041
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 3
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Power >= 100
Anim = 28140+Power/100%10
PosType = Left
Pos = IfElse(TeamSide=1,23,277), 229-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 8
ID = 25042
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 3
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(0)/1000%10 = 0
Trigger1 = Power >= 1000
Anim = 28140+Power/1000%10
PosType = Left
Pos = IfElse(TeamSide=1,18,272), 229-Floor(Parent,Var(0)/100000)
BindTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SprPriority = 8
ID = 25043
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(14) != 0 || Parent,Var(13) != 0 || Parent,Var(51) != 0
ID = 25040
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(14) != 0 || Parent,Var(13) != 0 || Parent,Var(51) != 0
ID = 25041
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(14) != 0 || Parent,Var(13) != 0 || Parent,Var(51) != 0
ID = 25042
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(14) != 0 || Parent,Var(13) != 0 || Parent,Var(51) != 0
ID = 25043
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) > 0
Trigger1 = NumExplod(25050) = 0
Anim = 25050
PosType = Left
Pos = IfElse(TeamSide=1,91,194), 226-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25050
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(15) < 10
Trigger1 = Parent,Var(13) = 1
Trigger1 = NumExplod(25052) = 0
Anim = 25051
PosType = Left
Pos = IfElse(TeamSide=1,94,205), 227-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25052
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(14) = 1
Trigger1 = NumExplod(25054) = 0
Anim = 25052
PosType = Left
Pos = IfElse(TeamSide=1,94,202), 227-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25054
Persistent = 1

[State -2]
Type = Explod
TriggerAll = parent,stateno != 3800
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(13) = -1
Trigger1 = NumExplod(25056) = 0
Anim = 25053
PosType = Left
Pos = IfElse(TeamSide=1,94,167), IfElse(Parent,Var(26)=1,228,227)-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25056
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) < 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(15) = 10
Trigger1 = Parent,Var(13) = 1
Trigger1 = NumExplod(25058) = 0
Anim = 25054
PosType = Left
Pos = IfElse(TeamSide=1,95,178), IfElse(Parent,Var(26)=1,227,226)-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25058
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) > 0
Trigger1 = NumExplod(25050) = 0
Anim = 25050
PosType = Left
Pos = IfElse(TeamSide=1,15,269), 227-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25050
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(15) < 10
Trigger1 = Parent,Var(13) = 1
Trigger1 = NumExplod(25052) = 0
Anim = 25051
PosType = Left
Pos = IfElse(TeamSide=1,16,282), 229-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 9
ID = 25052
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(14) = 1
Trigger1 = NumExplod(25054) = 0
Anim = 25052
PosType = Left
Pos = IfElse(TeamSide=1,16,279), 229-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 9
ID = 25054
Persistent = 1

[State -2]
Type = Explod
TriggerAll = parent,stateno != 3800
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(13) = -1
Trigger1 = NumExplod(25056) = 0
Anim = 25053
PosType = Left
Pos = IfElse(TeamSide=1,16,244), 230-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 9
ID = 25056
Persistent = 1

[State -2]
Type = Explod
TriggerAll = Parent,Var(26) = 2
Trigger1 = Parent,Var(51) = 0
Trigger1 = Parent,Var(15) = 10
Trigger1 = Parent,Var(13) = 1
Trigger1 = NumExplod(25058) = 0
Anim = 25054
PosType = Left
Pos = IfElse(TeamSide=1,16,255), 228-Floor(Parent,Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 0
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 9
ID = 25058
Persistent = 1

[State -1]
Type = RemoveExplod
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(51) = 0
ID = 25050
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(13) != 1 || Parent,Var(51) > 0
ID = 25052
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(14) = 0 || Parent,Var(51) > 0
ID = 25054
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(13) = 0 || Parent,Var(51) > 0
ID = 25056
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
TriggerAll = Parent,Var(26) < 3
Trigger1 = Parent,Var(13) != 1 || Parent,Var(51) > 0
ID = 25058
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
Trigger1 = Parent,stateno = 3800
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Parent,Var(0)/1000%10 = 1
Trigger2 = RoundState = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; パーフェクト
[Statedef 30000]
Type = A
Physics = N
Velset = 0,0
SprPriority = 0
Anim = 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Trigger1 = TeamMode = Single || TeamMode = Turns
Value = s30000, 0

[State -1]
Type = VarAdd
Trigger1 = Time = [2,31]
FV = 1
Value = 0.005

[State -1]
Type = VarAdd
Trigger1 = Time = [3,42]
V = 1
Value = 5

[State -1]
Type = VarAdd
Trigger1 = Time = [71,80]
FV = 2
Value = 0.095

[State -1]
Type = PalFx
Trigger1 = 1
Time = 1
Add = 210-Var(1),210-Var(1),210-Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
Trigger1 = NumExplod(30000) = 0
Anim = 30000
PosType = Left
Pos = 160, 112
BindTime = -1
RemoveTime = 80
Scale = 1.15,1.15
Ownpal = 0
SprPriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
OnTop = 1
ID = 30000

[State -1]
Type = Explod
Trigger1 = Time = 1
Trigger1 = NumExplod(30005) = 0
Anim = 30005
PosType = Left
Pos = 160, 110
BindTime = -1
RemoveTime = 80
Scale = 1.15,1.15
Ownpal = 1
SprPriority = 6
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 30005

[State -1]
Type = ModifyExplod
Trigger1 = Time = [2,31]
ID = 30000
Scale = 1.15-FVar(1),1.15-FVar(1)

[State -1]
Type = ModifyExplod
Trigger1 = Time = [71,80]
ID = 30000
Scale = 1.0+FVar(2)*2,1.0-FVar(2)

[State -1]
Type = ModifyExplod
Trigger1 = Time = [2,31]
ID = 30005
Scale = 1.15-FVar(1),1.15-FVar(1)

[State -1]
Type = ModifyExplod
Trigger1 = Time = [71,80]
ID = 30005
Scale = 1.0+FVar(2)*2,1.0-FVar(2)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Invisible
Flag2 = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; アークドライブフィニッシュ
[Statedef 30001]
Type = A
Physics = N
Velset = 0,0
SprPriority = 0
Anim = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s30001, 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time = [2,31]
FV = 1
Value = 0.005

[State -1]
Type = VarAdd
Trigger1 = Time = [3,42]
V = 1
Value = 5

[State -1]
Type = VarAdd
Trigger1 = Time = [71,80]
FV = 2
Value = 0.095

[State -1]
Type = PalFx
Trigger1 = 1
Time = 1
Add = 210-Var(1),210-Var(1),210-Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
Trigger1 = NumExplod(30001) = 0
Anim = 30001
PosType = Left
Pos = 160, 120
BindTime = -1
RemoveTime = 80
SprPriority = 6
Scale = 1.15,1.15
Ownpal = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 30001

[State -1]
Type = Explod
Trigger1 = Time = 1
Trigger1 = NumExplod(30006) = 0
Anim = 30006
PosType = Left
Pos = 160, 120
BindTime = -1
RemoveTime = 80
SprPriority = 6
Scale = 1.15,1.15
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 30006

[State -1]
Type = ModifyExplod
Trigger1 = Time = [2,31]
ID = 30001
Scale = 1.15-FVar(1),1.15-FVar(1)

[State -1]
Type = ModifyExplod
Trigger1 = Time = [71,80]
ID = 30001
Scale = 1.0+FVar(2)*2,1.0-FVar(2)

[State -1]
Type = ModifyExplod
Trigger1 = Time = [2,31]
ID = 30006
Scale = 1.15-FVar(1),1.15-FVar(1)

[State -1]
Type = ModifyExplod
Trigger1 = Time = [71,80]
ID = 30006
Scale = 1.0+FVar(2)*2,1.0-FVar(2)

[State -1]
Type = VarAdd
Trigger1 = Time = [2,4]
FV = 3
Value = 0.8

[State -1]
Type = VarAdd
Trigger1 = Time = [2,11]
FV = 6
Value = 0.145

[State -1]
Type = Explod
Trigger1 = Parent,Var(26) = [2,3]
Trigger1 = Time = 1
Anim = 30050
RemoveTime = 3
PosType = Left
Pos = 160, 120
Scale = 3,2
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
OnTop = 1
ID = 30050

[State -1]
Type = Explod
Trigger1 = Parent,Var(26) != [2,3]
Trigger1 = Time = 1
Anim = 30060
PosType = Left
Pos = 160, 120
Scale = 1,1
Ownpal = 1
BindTime = -1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
OnTop = 1
ID = 30060

[State -1]
Type = Helper
Trigger1 = Parent,Var(26) = [2,3]
Trigger1 = Time = 1
StateNo = 30050
ID = 30050
PosType = Left
Pos = 160, 120
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Parent,Var(26) = [2,3]
Trigger1 = Time = 1
StateNo = 30050
ID = 30051
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [2,4]
ID = 30050
Scale = 3.0-FVar(3),2.0-FVar(4)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Invisible
Flag2 = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = RoundState = 4
Trigger1 = Time >= 80
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ラストアークフィニッシュ
[Statedef 30002]
Type = A
Physics = N
Velset = 0,0
SprPriority = 0
Anim = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 5
Value = s30002, 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time = [2,31]
FV = 1
Value = 0.005

[State -1]
Type = VarAdd
Trigger1 = Time = [3,42]
V = 1
Value = 5

[State -1]
Type = VarAdd
Trigger1 = Time = [71,80]
FV = 2
Value = 0.095

[State -1]
Type = PalFx
Trigger1 = 1
Time = 1
Add = 210-Var(1),210-Var(1),210-Var(1)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
Trigger1 = NumExplod(30002) = 0
Anim = 30002
PosType = Left
Pos = 160, 120
BindTime = -1
RemoveTime = 80
Scale = 1.15,1.15
SprPriority = 6
Ownpal = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 30002

[State -1]
Type = Explod
Trigger1 = Time = 1
Trigger1 = NumExplod(30007) = 0
Anim = 30007
PosType = Left
Pos = 160, 120
BindTime = -1
RemoveTime = 80
Scale = 1.15,1.15
SprPriority = 6
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 30007

[State -1]
Type = ModifyExplod
Trigger1 = Time = [2,31]
ID = 30002
Scale = 1.15-FVar(1),1.15-FVar(1)

[State -1]
Type = ModifyExplod
Trigger1 = Time = [71,80]
ID = 30002
Scale = 1.0+FVar(2)*2,1.0-FVar(2)

[State -1]
Type = ModifyExplod
Trigger1 = Time = [2,31]
ID = 30007
Scale = 1.15-FVar(1),1.15-FVar(1)

[State -1]
Type = ModifyExplod
Trigger1 = Time = [71,80]
ID = 30007
Scale = 1.0+FVar(2)*2,1.0-FVar(2)

[State -1]
Type = VarAdd
Trigger1 = Time = [2,4]
FV = 3
Value = 0.8

[State -1]
Type = VarAdd
Trigger1 = Time = [2,11]
FV = 6
Value = 0.145

[State -1]
Type = Explod
Trigger1 = Parent,Var(26) = [2,3]
Trigger1 = Time = 1
Anim = 30050
RemoveTime = 3
PosType = Left
Pos = 160, 120
Scale = 3,2
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
OnTop = 1
ID = 30050

[State -1]
Type = Explod
Trigger1 = Parent,Var(26) != [2,3]
Trigger1 = Time = 1
Anim = 30060
PosType = Left
Pos = 160, 120
Scale = 1,1
Ownpal = 1
BindTime = -1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
OnTop = 1
ID = 30060

[State -1]
Type = Helper
Trigger1 = Parent,Var(26) = [2,3]
Trigger1 = Time = 1
StateNo = 30050
ID = 30050
PosType = Left
Pos = 160, 120
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Parent,Var(26) = [2,3]
Trigger1 = Time = 1
StateNo = 30050
ID = 30051
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ModifyExplod
Trigger1 = Time = [2,4]
ID = 30050
Scale = 3.0-FVar(3),2.0-FVar(4)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Invisible
Flag2 = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = RoundState = 4
Trigger1 = Time >= 80
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; フィニッシュバグ防止用
[Statedef 30005]
Type = A
Physics = N
Velset = 0,0
SprPriority = 0
Anim = 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Invisible
Flag2 = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = RoundState = 4
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; フィニッシュエフェクト
[Statedef 30050]
Type = A
Physics = N
Velset = 0,0
SprPriority = 7
Anim = 30051

[State -1]
Type = PosSet
Trigger1 = 1
X = 0
Y = 120-Ceil(ScreenPos Y-Pos Y)

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,359

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 2
Range = -10,10

[State -1]
Type = VarSet
Trigger1 = Time = 1
Trigger1 = Var(2) = 0
V = 2
Value = 1

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = VarAdd
Trigger1 = 1
FV = 1
Value = 0.1

[State -1]
Type = VarAdd
Trigger1 = 1
FV = 2
Value = 0.0975

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 1+FVar(1),1-FVar(2)

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = Var(1)

[State -1]
Type = AngleAdd
Trigger1 = Time >= 1
Value = Var(2)

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; YOUWIN
[Statedef 30010]
Type = A
Physics = N
Velset = 0,0
SprPriority = 0
Anim = 6505

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = VarAdd
Trigger1 = Time >= 2
V = 3
Value = 3

[State -1]
Type = PalFx
Trigger1 = 1
Time = 1
Add = -50-Var(3),-50-Var(3),-150-Var(3)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time >= 2
FV = 2
Value = 0.075

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.50+Fvar(2),0.50+FVar(2)

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Trigger1 = TeamMode = Single || TeamMode = Turns
Value = s30010, 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time = [1,20]
FV = 1
Value = 0.025

[State -1]
Type = Explod
Trigger1 = IsHelper(30010)
Trigger1 = NumExplod(30010) = 0
Anim = 30010
BindTime = -1
RemoveTime = -1
Scale = 0.5,0
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
OnTop = 1
ID = 30010

[State -1]
Type = ModifyExplod
Trigger1 = Time = [1,20]
ID = 30010
Scale = 0.5,0+FVar(1)

[State -1]
Type = AssertSpecial
Trigger1 = Time = 0
Flag = Invisible
Flag2 = Noshadow
Flag3 = RoundNotOver
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = Time = [1,100]
Flag = Noshadow
Flag2 = RoundNotOver
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
TriggerAll = Time = [1,350]
trigger1 = NumHelper(340000) = 1
trigger2 = NumHelper(340001) = 1
trigger3 = NumHelper(340002) = 1
trigger4 = NumHelper(340003) = 1
trigger5 = NumHelper(340004) = 1
Flag = Noshadow
Flag2 = RoundNotOver
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = Time > 100 
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; AI
[Statedef 40000]
Type = A
Physics = N
Ctrl = 0
Velset = 0,0
SprPriority = 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Command = "up" && Parent,Command = "up"
Trigger2 = Command = "down" && Parent,Command = "down"
Trigger3 = Command = "back" && Parent,Command = "back"
Trigger4 = Command = "fwd" && Parent,Command = "fwd"
Trigger5 = Command = "a" && Parent,Command = "a"
Trigger6 = Command = "b" && Parent,Command = "b"
Trigger7 = Command = "c" && Parent,Command = "c"
Trigger8 = Command = "x" && Parent,Command = "x"
Trigger9 = Command = "y" && Parent,Command = "y"
Trigger10 = Command = "z" && Parent,Command = "z"
Trigger11 = Command = "start" && Parent,Command = "start"
V = 1
Value = -1

[State -1]
Type = DestroySelf
TriggerAll = IsHelper
Trigger1 = Parent,Var(59) != 0 || Var(1) = -1
Trigger2 = Command = "up" && Parent,Command = "up"
Trigger3 = Command = "down" && Parent,Command = "down"
Trigger4 = Command = "back" && Parent,Command = "back"
Trigger5 = Command = "fwd" && Parent,Command = "fwd"
Trigger6 = Command = "a" && Parent,Command = "a"
Trigger7 = Command = "b" && Parent,Command = "b"
Trigger8 = Command = "c" && Parent,Command = "c"
Trigger9 = Command = "x" && Parent,Command = "x"
Trigger10 = Command = "y" && Parent,Command = "y"
Trigger11 = Command = "z" && Parent,Command = "z"
Trigger12 = Command = "start" && Parent,Command = "start"

[State -1]
Type = VarSet
TriggerAll = Var(1) != -1
TriggerAll = Parent,Ctrl
TriggerAll = Parent,StateNo != [120,159]
TriggerAll = Parent,StateNo != [5000,5099]
Trigger1 = Parent,Command = "up"
Trigger2 = Parent,Command = "down"
Trigger3 = Parent,Command = "back"
Trigger4 = Parent,Command = "fwd"
Trigger5 = Parent,Command = "a"
Trigger6 = Parent,Command = "b"
Trigger7 = Parent,Command = "c"
Trigger8 = Parent,Command = "x"
Trigger9 = Parent,Command = "y"
Trigger10 = Parent,Command = "z"
Trigger11 = Parent,Command = "start"
V = 1
Value = 1

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Invisible
Flag2 = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


;分身
[Statedef 23020]
type = A
movetype = I
physics = N
anim = 23330
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(31) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(31) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(31) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(31),var(31),var(31)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(31) < -234
[Statedef 13021]
type = A
movetype = I
physics = N
anim = 13331
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999

[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(32) = -4
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(32) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(32) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(32),var(32),var(32)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(32) < -234
[Statedef 13022]
type = A
movetype = I
physics = N
anim = 13332
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(33) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(33) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(33),var(33),var(33)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(33) < -234
[Statedef 13023]
type = A
movetype = I
physics = N
anim = 13333
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(34) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(34) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(34) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(34),var(34),var(34)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(34) < -234
[Statedef 13024]
type = A
movetype = I
physics = N
anim = 13334
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(35) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(35) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(35) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(35),var(35),var(35)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(35) < -234
[Statedef 13025]
type = A
movetype = I
physics = N
anim = 13335
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(36) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(36) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(36) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(36),var(36),var(36)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(36) < -234

[Statedef 13026]
type = A
movetype = I
physics = N
anim = 13336
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(37) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(37) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(37) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(37),var(37),var(37)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(37) < -234
[Statedef 13027]
type = A
movetype = I
physics = N
anim = 13337
ctrl = 0
sprpriority = -1


[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(38) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(38) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(38) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(38),var(38),var(38)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(38) < -234
[Statedef 13028]
type = A
movetype = I
physics = N
anim = 13338
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(39) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(39) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(39) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(39),var(39),var(39)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(39) < -234
[Statedef 13029]
type = A
movetype = I
physics = N
anim = 13339
ctrl = 0
sprpriority = -1
[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999



[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(32) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 25
var(32) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 26
var(32) = -6
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(32),var(32),var(32)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(32) < -234
[Statedef 13030]
type = A
movetype = I
physics = N
anim = 13340
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999

[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(33) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 25
var(33) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 26
var(33) = -6
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(33),var(33),var(33)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(33) < -234
[Statedef 13031]
type = A
movetype = I
physics = N
anim = 13341
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999

[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(34) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 25
var(34) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 26
var(34) = -11
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(34),var(34),var(34)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(34) < -234


[statedef 340000]
Type = A
type = A
ctrl = 0
anim = 9976
velset = 0,0
movetype = I
physics = N
sprpriority = -20

[State 3300, 2]
type = AssertSpecial
triggerAll = Var(54) != 2
trigger1 = Time >= 0
flag = Nomusic
ignorehitpause = 1

[statedef 340001]
Type = A
type = A
ctrl = 0
anim = 9976
velset = 0,0
movetype = I
physics = N
sprpriority = -20

[State 3300, 2]
type = AssertSpecial
triggerAll = Var(54) != 2
trigger1 = Time >= 0
flag = NoMusic
ignorehitpause = 1

[State 9000, AssertSpecial]
type = AssertSpecial
triggerAll = Var(54) != 2
trigger1 = parent,stateno = [3100,3199]
flag = NoBG
flag2 = NoFG
flag3 = GlobalNoShadow

[State 3300, 2]
type = AssertSpecial
trigger1 = Time <= 400
trigger1 = parent,stateno != [3200,3202]
flag = NoBarDisplay
ignorehitpause = 1

[State 3300, 2]
type = AssertSpecial
trigger1 = parent,stateno = [3200,3202]
trigger2 = win
flag = NoBarDisplay
ignorehitpause = 1

[State 9000, AssertSpecial]
type = AssertSpecial
triggerAll = Var(54) != 2
trigger1 = parent,stateno = [3200,3202]
flag = NoBG
flag2 = NoFG
flag3 = GlobalNoShadow

[statedef 340002]
Type = A
type = A
ctrl = 0
anim = 9976
velset = 0,0
movetype = I
physics = N
sprpriority = -20

[State 3300, 2]
type = AssertSpecial
triggerAll = Var(54) != 2
trigger1 = Time >= 0
flag = NoMusic
ignorehitpause = 1

[State 3300, 2]
type = AssertSpecial
trigger1 = Time <= 400
flag = NoBarDisplay
ignorehitpause = 1

[State 9000, AssertSpecial]
type = AssertSpecial
triggerAll = Var(54) != 2
trigger1 = Time <= 400
flag = NoBG
flag2 = NoFG
flag3 = GlobalNoShadow

[State 3300, 2]
type = AssertSpecial
trigger1 = parent,stateno = [3200,3202]
trigger2 = win
flag = NoBarDisplay
ignorehitpause = 1


[statedef 340003]
Type = A
type = A
ctrl = 0
anim = 9976
velset = 0,0
movetype = I
physics = N
sprpriority = -20

[State 3300, 2]
type = AssertSpecial
triggerAll = Var(54) != 2
trigger1 = Time >= 0
flag = NoMusic
ignorehitpause = 1

[State 3300, 2]
type = AssertSpecial
trigger1 = Time <= 300
flag = NoBarDisplay
ignorehitpause = 1

[State 9000, AssertSpecial]
type = AssertSpecial
triggerAll = Var(54) != 2
trigger1 = Time <= 300
flag = NoBG
flag2 = NoFG
flag3 = GlobalNoShadow

[State 3300, 2]
type = AssertSpecial
trigger1 = parent,stateno = [3200,3202]
trigger2 = win
flag = NoBarDisplay
ignorehitpause = 1

[statedef 340004]
Type = A
type = A
ctrl = 0
anim = 9976
velset = 0,0
movetype = I
physics = N
sprpriority = -20

[State 3300, 2]
type = AssertSpecial
triggerAll = Var(54) != 2
trigger1 = Time >= 0
flag = NoMusic
ignorehitpause = 1

[State 3300, 2]
type = AssertSpecial
trigger1 = Time <= 1500
flag = NoBarDisplay
ignorehitpause = 1

[State 3300, 2]
type = AssertSpecial
trigger1 = parent,stateno = [3200,3202]
trigger2 = win
flag = NoBarDisplay
ignorehitpause = 1

;=================================================================================================
;		暗転ヘルパー
;=================================================================================================
[Statedef 13003]
type = A
movetype = I
physics = N
anim = 9977
ctrl = 0
sprpriority = 1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 1000]
type = AssertSpecial
trigger1 = 1
flag = nomusic
[State 1000]
type = AssertSpecial
trigger1 = 1;Root,StateNo = [24500,24520]
flag = noBG
[State -2]
type = AssertSpecial
Trigger1 = Parent,PalNo = 12
Trigger2 = Parent,Var(59) = 2
Trigger3 = Parent,Var(59) < 2
Trigger3 = Parent,Var(45) = 1 || parent,Var(45) = 3
flag = timerfreeze
persistent = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
[State 2000]
type = BGPalfx
trigger1 = Root,Stateno = [24500,24520]
add = -244,-244,-244
time = 50
IgnoreHitPause = 1
PerSistent = 1
[State 2000]
type = BGPalfx
trigger1 = Root,stateno != 0
trigger1 = Root,stateno != [24500,24520]
add = -132,-132,-132;244
time = 30
[State 2000]
type = BGPalfx
Trigger1 = Parent,StateNo = 0
Trigger2 = Parent,StateNo != [13000,13100]
Trigger2 = Parent,StateNo != [24000,24100] 
Trigger2 = Parent,StateNo != [34000,34100] 
add = -132,-132,-132
time = 1
[State 1201,end]
type = Destroyself
Trigger1 = Parent,StateNo = 0
Trigger2 = Parent,StateNo != [13000,13100]
Trigger2 = Parent,StateNo != [24000,24100] 
Trigger2 = Parent,StateNo != [34000,34100] 
Trigger2 = Root,StateNo != [24500,24520]
ID = 13003


[Statedef 8051];対策済み
type = A
movetype = I
physics = N
anim = 9977
ctrl = 0
sprpriority = 2

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 4500]
type = turn
trigger1 = facing = -1
value = 1
[State 4500]
type = playsnd
trigger1 = time = 10
value = S18,0
[State 1000]
type = AssertSpecial
trigger1 = 1
flag = nomusic
[State 4500]
type = AssertSpecial
trigger1 = 1
flag = noshadow
[State helper]
type = Helper
trigger1 = time = 25
name = "cut_in"
stateno = 9051
ownpal = 1
pausemovetime = 10000
supermovetime = 78
[State pal]
type = allPalFX
trigger1 = time >= 0
time = 3
mul = 256-var(3),256-var(3),256-var(3)
ignorehitpause = 1
pausemovetime = 10000
[State var]
type = varadd
trigger1 = time <= 25
var(3) = 6
ignorehitpause = 1
[State end]
type = DestroySelf
trigger1 = time = 1000
[Statedef 9051]
type = A
movetype = I
physics = N
anim = 9977
ctrl = 0

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 181, 0]
type = AssertSpecial
trigger1 = Time <= 900
flag = RoundNotOver
flag2 = nobardisplay
[State face]
type = Explod
trigger1 = time = 1
anim = 9001
pos = 5,20
postype = back;left
removetime = -1
ontop = 1
supermove = 1
scale = .5,.5
sprpriority = 8
pausemovetime = 1000
supermovetime = 1000
[State pal]
type = PalFX
trigger1 = time <= 14
time = 1
add = -256+var(7),-256+var(7),-256+var(7)
ignorehitpause = 1
pausemovetime = 10000
[State explod]
type = varadd
trigger1 = time <= 15
var(7) = 14
[State 1000, 3]
type = VarRandom
trigger1 = time >= 0
v = 5
range = 0,2
[State voice]
type = playsnd
trigger1 = root,var(32) = 11
;trigger1 = time = 30
value = 190, 3
channel = 1
[State voice]
type = playsnd
trigger1 = var(5) = 0
trigger1 = root,var(32) != 11
trigger1 = time = 30
value = 15,1
[State voice]
type = playsnd
trigger1 = var(5) = 1
trigger1 = root,var(32) != 11
trigger1 = time = 30
value = 41,1
[State voice]
type = playsnd
trigger1 = var(5) = 2
trigger1 = root,var(32) != 11
trigger1 = time = 30
value = 15,2
[State end]
type = DestroySelf
trigger1 = time = 1000


;---------------------------------------------------------------------------
;オロチエフェクト（青）
[Statedef 7800]
anim = 7800
sprpriority = 5

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, Spark]
type = PlaySnd
trigger1 = time = 0
value = 7800,0

[State 3001, VarSet]
type = VarSet
trigger1 = time = 0
fvar(0) = 1.5

[State 3001, VarSet]
type = VarSet
trigger1 = time = 0
fvar(1) = 1.5

[State 3001, VarSet]
type = VarAdd
trigger1 = time > 40
fvar(0) = -.1

[State 3001, VarSet]
type = VarAdd
trigger1 = time > 40
fvar(1) = .3

[State 4900, 16]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)

[State 5035, 1]
type = Trans
trigger1 = 1
trans = add

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 55

;---------------------------------------------------------------------------
;オロチエフェクト（青）2
[Statedef 7801]
anim = 7800
sprpriority = 5

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, Spark]
type = PlaySnd
trigger1 = time = 0
value = 7800,0

[State 3001, VarSet]
type = VarSet
trigger1 = time = 0
fvar(0) = 1.5

[State 3001, VarSet]
type = VarSet
trigger1 = time = 0
fvar(1) = 1.5

[State 3001, VarSet]
type = VarAdd
trigger1 = time > 40
fvar(0) = -.1

[State 3001, VarSet]
type = VarAdd
trigger1 = time > 40
fvar(1) = .3

[State 4900, 16]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)

[State 5035, 1]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 128,256

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 55

;---------------------------------------------------------------------------
;オロチエフェクト（赤）2
[Statedef 7811]
anim = 7810
sprpriority = 5

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, Spark]
type = PlaySnd
trigger1 = time = 0
value = 7800,0

[State 3001, VarSet]
type = VarSet
trigger1 = time = 0
fvar(0) = 1.5

[State 3001, VarSet]
type = VarSet
trigger1 = time = 0
fvar(1) = 1.5

[State 3001, VarSet]
type = VarAdd
trigger1 = time > 40
fvar(0) = -.1

[State 3001, VarSet]
type = VarAdd
trigger1 = time > 40
fvar(1) = .3

[State 4900, 16]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)

[State 5035, 1]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 128,256

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 55

;---------------------------------------------------------------------------
[Statedef 9991]
ctrl = 0
anim = 9977

[State 9000, Assert]
type = AssertSpecial
trigger1 = Time < 60
flag = NoBarDisplay
flag2 = NoMusic

[State 9000, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 60
flag = NoBG
flag2 = NoFG
flag3 = GlobalNoShadow

[State 9000, HyperComboFinish]
type = Helper
trigger1 = time = 0
ID = 9002
stateno = 9002
postype = P1
pos = ceil((319-ScreenPos X)-160)*facing,ceil((239-ScreenPos Y)-120)
pausemovetime = 999999
supermovetime = 999999
size.xscale = 1
size.yscale = 1

[State 9000, DestroySelf]
type = DestroySelf
trigger1 = time = 60

;---------------------------------------------------------------------------
[Statedef 9002]
ctrl = 0
anim = 8650
sprpriority = -110

[state 3300, 2]
type = playsnd
trigger1 = Time = 0
value = 9000,1

[State 9000, PosFreeze]
type = PosAdd
trigger1 = time > 0
x = -ceil(ScreenPos X-fvar(1))
y = -ceil(ScreenPos Y-fvar(2))

[State 9000, PosFreeze]
type = VarSet
trigger1 = 1
fvar(1) = ScreenPos X

[State 9000, KOPosFreeze]
type = VarSet
trigger1 = 1
fvar(2) = ScreenPos Y

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 9000, VarAdd]
type = VarSet
trigger1 = time = 0
fvar(0) = .5

[State 9000, VarAdd]
type = VarAdd
trigger1 = time <= 3
fvar(0) = -.1

[State 9000, VarAdd]
type = VarAdd
trigger1 = time > 3
fvar(0) = .06

[State 9000, Angle]
type = AngleSet
trigger1 = 1
value = root,var(32)*5

[State 9000, Angle]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(0)

[State 9000, DestroySelf]
type = DestroySelf
trigger1 = time = 60


;---------------------------------------------------------------------------
;『志貴』十七分割ヘルパー
[Statedef 15006]
type    = S
movetype= A
physics = N
juggle  = 0
anim = 15005
ctrl = 0
sprpriority = 1

[State -1] 
type = Turn
trigger1 = time = 0

[state -1]
Type = posset
Trigger1 = time = 0
x = 100
y = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
[State -1]
Type = VarSet
TriggerAll = Time = 0
Trigger1 = PrevStateNo = [2135,2145]
Trigger2 = PrevStateNo = 21200
Trigger3 = PrevStateNo = 21210
Fv = 14
Value = Fvar(14)*0.65
IgnoreHitPause = 1
PerSistent = 0
[State -1]
Type = VarSet
TriggerAll = Time = 0
Trigger1 = PrevStateNo = [900,911]
Fv = 14
Value = Fvar(14)*0.5
IgnoreHitPause = 1
PerSistent = 0
[State power]
Type = VarSet
Trigger1 = Time = 0
V = 25
Value = 0
Ignorehitpause = 1
Persistent = 0
[State -1]
Type = Helper
trigger1 = time = 0
StateNo = 6025;IfElse(Var(26)=3,6025,6020)
ID = ifelse(helper(5901),var(48) = 1,10004,10005)
Name = "EX_Effect"
Pos = 0,-40
PosType = P1
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
[State 2000]
type = superpause
trigger1 = time = 0
darken = 0
time = 66
anim = -1
sound = S3,1
pos = 0,0
movetime = 0
[State VarSet]
Type = VarSet
Trigger1 = Var(59) = 1
Trigger1 = Time = 0
Trigger1 = StateNo = 15006
V = 45
Value = 2
[State 4050, 1]
type = AfterImage
trigger1 = Time = 0
time = 0
trans = add
length   = 10
timegap  = 1
framegap = 1
PalBright = 20 , 20 , 90
PalContrast = 20 , 20 , 100
PalAdd = 0 , 0 , 0
PalMul = .8 , .8 , .8
IgnoreHitPause = 1
Persistent = 1
pausemovetime = 1000
supermovetime = 1000
[State 2000]
type = BGPalfx
trigger1 = time = 0
Add = -132,-132,-132
time = 20
[State 1100, wind]
type = Helper
trigger1 = Animelem = 1
name = "anten"
stateno = 13003
scale = 1,1
pos = 0,0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999
[State super effect]
type = Helper
trigger1 = helper(5901),var(48) = 0
trigger1 = time = 0
name = "super17"
stateno = 8018
pos = 2,-92
ownpal = 1
supermovetime = 78
[State 620, 2]
type = PlaySnd
trigger1 = time = 0
value = 1150, 0
volume = 150
[State 1000, 1]
type = Pause
trigger1 = animelemtime(1) >= 0
trigger1 = GameTime % 2 = 0
time = 2
movetime = 0
[State 620, 2]
type = PlaySnd
trigger1 = animelemtime(1) = 0
value = 5, 1
[State 620, 2]
type = PlaySnd
trigger1 = animelemtime(1) = 0
value = 1000, 4
[State 620, 2]
type = PlaySnd
trigger1 = animelemtime(1) = 0
value = 5, 0
[State 620, 2]
type = velset
trigger1 = animelemtime(4) = 1
x = 1.5
[State 620, 2]
type = velset
trigger1 = animelemtime(10) = 2
x = 1.6
y = -3.2
[State 620, 2]
type = veladd
trigger1 = animelemtime(10) >= 2
y = .2
[State 620, 2]
type = veladd
trigger1 = animelemtime(21) >= 3 
y = 0.11
[State 1100, wind]
type = Helper
trigger1 = Animelemtime(1) = 1
name = "bunsin"
stateno = 25020
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
trigger1 = Animelem = 4
name = "bunsin"
stateno = 15021
scale = 1,1
pos = 0,0
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
trigger1 = Animelem = 6
name = "bunsin"
stateno = 15022
scale = 1,1
pos = 0,0
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
trigger1 = Animelem = 10
name = "bunsin"
stateno = 15023
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
trigger1 = Animelem = 14
name = "bunsin"
stateno = 15024
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
trigger1 = Animelem = 18
name = "bunsin"
stateno = 15025
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 920]
type = ChangeState
trigger1 = animelemtime(19) = 0
value = 15010
ctrl = 0
[Statedef 15010]
type    = A
movetype= A
physics = N
juggle  = 0
anim = 15010
ctrl = 0
sprpriority = -1
[State power]
Type = VarSet
Trigger1 = Time = 0
V = 25
Value = 0
Ignorehitpause = 1
Persistent = 0
[State 620, 2]
type = posadd
trigger1 = time = 0
x = 43
[State 1000, 1]
type = Pause
trigger1 = GameTime % 2 = 0
trigger1 = 1
time = 3
movetime = 0
[State 620, 2]
type = velset
trigger1 = 1
x = 3.9
[State 620, 2]
type = veladd
trigger1 = time = 0
y = -0.1
[State 620, 2]
type = veladd
trigger1 = 1
y = 0.12
[State 2000]
type = BGPalfx
trigger1 = 1
Add = -132,-132,-132
time = 20
[State 4050, 88]
Type = AssertSpecial
Trigger1 = Var(59) = 2
Trigger1 = Fvar(6) != 4
flag = invisible
flag2 = noshadow
[State 920]
type = hitdef
Trigger1 = Var(59) < 2
trigger1 = time = 0
attr = A, HT
animtype  = hard
damage    = 9999;0
getpower  = 0
priority  = 6
hitflag = MAF
guardflag = 
pausetime = 0,70
guard.sparkno = S8030
Guard.Dist = 0
sparkno = -1
sparkxy = -10,-60
hitsound   = S5,4
guardsound = S2,10
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-9
guard.velocity = -5
air.cornerpush.veloff = 0
air.velocity = 0,-9
airguard.velocity = 0, -4
p1stateno = 15100
p2stateno = 13101
fall.recover = 0
kill = 0
Fall = 1
Air.Fall = 1
[State 920]
type = hitdef
Trigger1 = Var(59) = 2
trigger1 = time = 0
attr = A, HA
animtype  = hard
damage    = 9999;0
getpower  = 0
priority  = 7
hitflag = MAF
guardflag = 
pausetime = 0,70
guard.sparkno = S8030
Guard.Dist = 0
sparkno = -1
sparkxy = -10,-60
hitsound   = S5,4
guardsound = S2,10
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-9
guard.velocity = -5
air.cornerpush.veloff = 0
air.velocity = 0,-9
airguard.velocity = 0, -4
p1stateno = 15100
p2stateno = 13101
fall.recover = 0
kill = 0
Fall = 1
Air.Fall = 1
[State power]
Type = VarSet
Trigger1 = MoveContact
V = 25
Value = IfElse(MoveHit=1,1,2)
Ignorehitpause = 1
Persistent = 0
[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1
[State 1100, wind]
type = Helper
triggerAll = Animelem = 1
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13026
scale = 1,1
pos = 0,0
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
triggerAll = time = 8
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13027
scale = 1,1
pos = 0,0
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
triggerAll = time = 16
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13028
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
triggerAll = time = 24
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13026
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 920]
type = ChangeState
trigger1 = vel y > 0 && pos y >= 0
value = 15050
ctrl = 0
[Statedef 15051]
type    = S
movetype= I
physics = S
juggle  = 0
anim = 15020
velset = 0.1,0
ctrl = 0
sprpriority = 1
[State 620, 2]
type = posadd
trigger1 = time = 0
x = 45
[State 1000, 1]
type = Pause
trigger1 = time >= 0
trigger1 = GameTime % 2 = 0
time = 2
movetime = 0
[State 620, 2]
type = posset
trigger1 = animelemtime(1) = 0
y = 0
[State 1100, wind]
type = Helper
triggerAll = Animelem = 1
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13029
scale = 1,1
pos = 0,0
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
triggerAll = Animelem = 3
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13030
scale = 1,1
pos = 0,0
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
triggerAll = Animelem = 6
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13031
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1010, 8]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1
[Statedef 15100]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 15130
ctrl = 0
sprpriority = 1
[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
[State 4050, 88]
Type = AssertSpecial
Trigger1 = Fvar(6) != 4
Trigger1 = Var(59) = 2
flag = invisible
flag2 = noshadow
[State 620, 2]
type = PlaySnd
Trigger1 = Fvar(6) != 4
trigger1 = time = 0
value = 55, 1
[State -1]
Type = EnvShake
Trigger1 = Time = 15
Time = 26
Freq = 87
Ampl = 26
IgnoreHitPause = 1
PerSistent = 0
[State 920]
type = hitadd
trigger1 = time = 16 || time = 17 || time = 18 || time = 19 || time = 20 
trigger2 = time = 21 || time = 22 || time = 23 || time = 24 || time = 25 
trigger3 = time = 26 || time = 27 || time = 28 || time = 29 || time = 31
trigger4 = time = 33
value = 1
[State 800]
type = TargetLifeadd
TriggerAll = numhelper(340004) = 1
trigger1 = time = 15
value = -9999
absolute = 0
[State -1]
Type = VarAdd
trigger1 = time = 16 || time = 17 || time = 18 || time = 19 || time = 20 
trigger2 = time = 21 || time = 22 || time = 23 || time = 24 || time = 25 
trigger3 = time = 26 || time = 27 || time = 28 || time = 29 || time = 31
trigger4 = time = 33 || Time = 34
V = 22
Value = 1
[State 4050, 1]
type = AfterImagetime
triggerAll = Time = 0
Trigger1 = Var(59) < 2
Trigger1 = Fvar(6) = 4
time = 0
[State 4050, 1]
type = posset
trigger1 = Time = 0
y = 0
[State 4050, 1]
type = posadd
trigger1 = P2BodyDist X > -160
trigger1 = AnimElemtime(2) <= 0
trigger1 = Anim != 15110
x = 9
[State explod]
type = Explod
trigger1 = AnimElemtime(2) = 0
trigger1 = Anim != 15110
anim = 16202
supermove = 1
pausemovetime = 99999
pos = 0,0
postype = back
bindtime = -1
sprpriority = 2
ownpal = 1
[State explod]
type = Explod
trigger1 = AnimElemtime(2) = 0
trigger1 = Anim != 15110
anim = 16500
supermove = 1
pausemovetime = 99999
pos = 0,0
postype = back
bindtime = -1
sprpriority = 3
ownpal = 1
[State 2000]
type = BGPalfx
trigger1 = time = 0
trigger1 = Anim != 15110
Add = -132,-132,-132
time = 70
[State 620, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 5, 2
[State 620, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 1, 9
[State 920]
type = targetState
trigger1 = animelem = 2
value = 15201
ctrl = 0
[State 1000]
type = AssertSpecial
trigger1 = animelem = 6
trigger1 = RoundState = 3
Trigger1 = Fvar(12) = [0.5,1]
flag = noautoturn
[State 1010, 8]
type = varset
trigger1 = animelem = 7
trigger1 = RoundState = 3
Trigger1 = Fvar(12) = [0.5,1]
var(32) = 11
[State 1010, 8]
type = changeanim
trigger1 = animelem = 8
trigger1 = RoundState = 3
Trigger1 = Fvar(12) = [0.5,1]
value = 15110
[State 920]
Type = Turn
TriggerAll = AnimTime = 0
Trigger1 = RoundState = 2
[State 1000]
type = AssertSpecial
trigger1 = animelem = 6
trigger1 = RoundState = 3
flag = noautoturn
[State 1010, 8]
type = varset
trigger1 = animelem = 7
trigger1 = RoundState = 3
var(32) = 11
[State 1010, 8]
type = changeanim
trigger1 = animelem = 8
trigger1 = RoundState = 3
value = 15110
[State 920]
Type = ChangeState
Trigger1 = AnimTime = 0
TriggerAll = win
Value = 18300
Ctrl = IfElse(RoundState=2,0,1)
[State 920]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = IfElse(RoundState=2,0,1)
[Statedef 15200]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = 1
[State 5070, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 15200
[State 2000]
type = ALLPalfx
trigger1 = time = 1
trigger1 = life <= 0
add = 256,0,0
mul = 256,0,0
time = 2
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 50
trigger1 = SelfAnimExist(5030)
value = 5030
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 50
trigger1 = SelfAnimExist(5060)
value = 5060
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 50
trigger1 = SelfAnimExist(5051)
value = 5051
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 50
trigger1 = SelfAnimExist(5052)
value = 5052
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 76
trigger1 = anim != 5052
trigger1 = SelfAnimExist(5061)
value = 5061
[State 758, Velocity]
type = VelSet
trigger1 = Time = 50
x = 0
y = -8.3
[State 758, Gravity]
type = VelAdd
trigger1 = time >= 50
y = 0.33
[State 758, Hit ground]
type = selfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
trigger1 = alive = 1
value = 5100
[State 758, Hit ground]
type = selfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
trigger1 = alive = 0
value = 5110
[Statedef 15201]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = 1
[State 5070, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 13200
[State 2000]
type = ALLPalfx
trigger1 = time = 1
trigger1 = life <= 0
add = 256,0,0
mul = 256,0,0
time = 2
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 50
trigger1 = SelfAnimExist(5030)
value = 5030
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 50
trigger1 = SelfAnimExist(5060)
value = 5060
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 50
trigger1 = SelfAnimExist(5051)
value = 5051
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 50
trigger1 = SelfAnimExist(5052)
value = 5052
[State 5070, 1]
type = ChangeAnim 
trigger1 = time = 76
trigger1 = anim != 5052
trigger1 = SelfAnimExist(5061)
value = 5061
[State 758, Velocity]
type = VelSet
trigger1 = Time = 50
x = 0
y = -8.3
[State 758, Gravity]
type = VelAdd
trigger1 = time >= 50
y = 0.33
[State 1021]
type = selfstate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
alive = 1
value = 5100
[State 1021]
type = selfstate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
alive = 0
value = 5110
[Statedef 15050]
type    = S
movetype= I
physics = S
juggle  = 0
anim = 15020
velset = 0.1,0
ctrl = 0
sprpriority = 1
[State 1000, 1]
type = Pause
trigger1 = time >= 0
trigger1 = GameTime % 2 = 0
time = 2
movetime = 0
[State 4050, 88]
Type = AssertSpecial
Trigger1 = Var(59) = 2
Trigger1 = Fvar(6) != 4
Trigger1 = PrevStateNo != 34010
flag = invisible
flag2 = noshadow
[State 620, 2]
type = posset
trigger1 = animelemtime(1) = 0
y = 0
[State 620, 2]
type = PlaySnd
trigger1 = animelemtime(1) = 0
value = 0, 0
[State 1100, wind]
type = Helper
triggerAll = Animelem = 1
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13029
scale = 1,1
pos = 0,0
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
triggerAll = Animelem = 3
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13030
scale = 1,1
pos = 0,0
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1100, wind]
type = Helper
triggerAll = Animelem = 6
Trigger1 = Var(59) < 2
Trigger2 = Fvar(6) = 4
name = "bunsin"
stateno = 13031
ownpal = 1
pausemovetime = 1000
supermovetime = 1000
[State 1000]
type = AssertSpecial
trigger1 = animelem = 6
trigger1 = RoundState = 3
flag = noautoturn
[State 1010, 8]
type = varset
trigger1 = animelem = 7
trigger1 = RoundState = 3
var(32) = 11
[State 1010, 8]
type = changeanim
trigger1 = animelem = 8
trigger1 = RoundState = 3
value = 15110
[State 1010, 8]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;分身
[Statedef 25020]
type = A
movetype = I
physics = N
anim = 15330
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(31) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(31) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(31) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(31),var(31),var(31)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(31) < -234
[Statedef 15021]
type = A
movetype = I
physics = N
anim = 15331
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999

[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(32) = -4
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(32) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(32) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(32),var(32),var(32)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(32) < -234
[Statedef 15022]
type = A
movetype = I
physics = N
anim = 15332
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(33) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(33) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(33),var(33),var(33)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(33) < -234
[Statedef 15023]
type = A
movetype = I
physics = N
anim = 15333
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(34) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(34) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(34) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(34),var(34),var(34)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(34) < -234
[Statedef 15024]
type = A
movetype = I
physics = N
anim = 15334
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(35) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(35) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(35) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(35),var(35),var(35)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(35) < -234
[Statedef 15025]
type = A
movetype = I
physics = N
anim = 15335
ctrl = 0
sprpriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State 100]
type = AssertSpecial
trigger1 =1
flag = noshadow
[State 3000,00]
type = varset
trigger1 = time = 0
var(36) = -3
[State 3000,00]
type = varadd
trigger1 = time >= 1
trigger1 = time <= 75
var(36) = -1
[State 3000,00]
type = varadd
trigger1 = time >= 76
var(36) = -12
[State 3000,00]
type = Palfx
trigger1 = time >= 0
add = var(36),var(36),var(36)
time = 1
[State 1201,end]
type = Destroyself
trigger1 = var(36) < -234


[StateDef 8018] 
type  = A
movetype = I
physics  = N
ctrl  = 0
anim  = 29010
SprPriority = -1

[State -1]
Type = SelfState
Trigger1 = !IsHelper
Value = 120
IgnoreHitPause = 1
SuperMoveTime = 99999999
PauseMoveTime = 99999999

[State 960, VarAdd]
type = VarAdd
trigger1 = time >= 0
v = 7
value = -10
IgnoreHitPause = 1
Persistent = 1


[State 2000]
type = BGPalfx
Trigger1 = Root,StateNo = [24500,24520]
trigger1 = time >= 0
add = -255,-255,-255
time = 1
supermove = 1
supermovetime = 1000
pausemovetime = 10000


[State 2000]
type = BGPalfx
Trigger1 = Root,StateNo != [24500,24520]
trigger1 = time >= 0
add = -128,-128,-128;255
time = 1
supermove = 1
supermovetime = 1000
pausemovetime = 10000


[State 9020]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = noshadow
flag3 = nobg


[State -2]
type = AssertSpecial
Trigger1 = PalNo = 12
Trigger2 = Var(59) = 2
Trigger3 = Var(59) < 2
Trigger3 = Var(45) = 1 || Var(45) = 3
flag = timerfreeze
persistent = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State face]
type = Explod
trigger1 = time = 0
anim = 29015
pos = -180,128
postype = back
vel = 13.5,0
accel = -.6,0
removetime = 22
supermove = 1
scale = .5,.5
sprpriority = -6
pausemovetime = 1000
supermovetime = 1000


[State face]
type = Explod
trigger1 = time = 20
anim = 29015
pos = -24,128
postype = back
bindtime = -1
removetime = 38
supermove = 1
scale = .5,.5
sprpriority = -6
pausemovetime = 1000
supermovetime = 1000


[State face]
type = Explod
trigger1 = time = 58
anim = 29016
ID = 9020
pos = -24,125
vel = 2,0
postype = back
supermove = 1
sprpriority = -6
pausemovetime = 1000
supermovetime = 1000


[State var]
type = varset
trigger1 = time = 0
fvar(2) = 0


[State var]
type = varadd
trigger1 = time >= 58
fvar(2) = .20
ignorehitpause = 1


[State explod]
type = ModifyExplod
trigger1 = 1
ID = 9020
scale = .5+fvar(2)/8,.5+fvar(2)/8
ignorehitpause = 1
pausemovetime = 1000
supermovetime = 1000


[State pal]
type = PalFX
trigger1 = time = 63
time = 48
sinadd = -456,-456,-456,192
ignorehitpause = 1
pausemovetime = 1000
supermovetime = 1000


[State explod]
Type = RemoveExplod
Trigger1 = time = 93


[State end]
type = DestroySelf
trigger1 = time = 93


[statedef 350000]
Type = A
type = A
ctrl = 0
anim = 9977
velset = -9999,-9999
movetype = I
physics = N
sprpriority = -20

[State -1]
type = varset
trigger1 = 1
V = 13
value = 0
ignorehitpause = 1


[State 3300, 2]
type = powerset
triggerAll = Var(13) = 0
trigger1 = Time >= 0
value = 0
ignorehitpause = 1

;=================================================================================================
;		勝利イントロ(十七分割)
;=================================================================================================
[Statedef 18300]
type = S
ctrl = 0
anim = 15120
velset = 0,0
[State win!];対策済み
type = null;Helper
triggerall = TeamMode = Single
TriggerAll = Fvar(12) = 1
trigger1 = animelemtime(3) = 0
trigger1 = MatchOver = 1
name = "super"
stateno = 8051
pos = 2,-92
ownpal = 1
supermovetime = 78
[State 210, 1]
type = PlaySnd
triggerall = animelemtime(3) = 0
trigger1 = MatchOver = 0
;Trigger2 = Fvar(12) = 0.5
Trigger2 = MatchOver = 1
volume = 150
value = 1150, 4
[State 181, 0]
type = AssertSpecial
trigger1 = Time = [0,420]
flag = RoundNotOver
[State 181, 1]
type = null;NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; グナーデン・シュトースヘルパー
[Statedef 3205]
Type = A
MoveType = I
Physics = N
VelSet = 0,0
Anim = 3205
SprPriority = 5

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PosSet
Trigger1 = Time = 0
Y = 240-Ceil(ScreenPos Y+Pos Y)
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Time >= 140
V = 6
Value = 6

[State -1]
Type = Trans
Trigger1 = Time >= 139
Trans = AddAlpha
Alpha = 256-Var(6),256

[State -1]
Type = ChangeAnim
Trigger1 = Time = 129
Value = 3215
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 0
ID = 3206
PosType = P1
Pos = 0,0
Anim = 3206
Ownpal = 0
SprPriority = -5
BindTime = -1
Removetime = 129
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 129
ID = 3206
PosType = P1
Pos = 0,0
Anim = 3216
Ownpal = 0
SprPriority = -5
BindTime = -1
Removetime = 51
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time = [2,8]
V = 7
Value = 30

[State -1]
Type = PalFx
Trigger1 = Time = [0,8]
Time = 1
Add = 210-Var(7),210-Var(7),210-Var(7)

[State -1]
Type = VarAdd
Trigger1 = Time > 10
V = 8
Value = 2

[State -1]
Type = ModifyExplod
Trigger1 = Time >= 139
ID = 3206
Trans = AddAlpha
Alpha = 256-Var(6),256
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 180
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; クロースアップマジック  ナイフ
[StateDef 1115]
MoveType = I
Physics = N
Anim = 1115
VelSet = 0,0
SprPriority = 3

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Trigger1 = IsHelper(1117) || IsHelper(1118)
Value = 1116

[State -1]
Type = BindToRoot
Trigger1 = Var(20) = 0
Trigger1 = IsHelper(1115) || IsHelper(1117)
Time = 1
Facing = 1
Pos = 0,-50

[State -1]
Type = BindToRoot
Trigger1 = Var(20) = 0
Trigger1 = IsHelper(1116) || IsHelper(1118)
Time = 1
Facing = -1
Pos = 0,-50

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State -1]
Type = Trans
Trigger1 = IsHelper(1115) || IsHelper(1116)
Trans = AddAlpha
Alpha = 256 - Var(10),Var(10)

[State -1]
Type = Trans
Trigger1 = IsHelper(1117) || IsHelper(1118)
Trans = AddAlpha
Alpha = 256 - Var(10),256

[State -1]
Type = VarAdd
Trigger1 = Var(20) = 1
V = 10
Value = 16

[State -1]
Type = VarSet
Trigger1 = Root,Anim = [1113,1114]
V = 20
Value = 1

[State -1]
Type = VarSet
Trigger1 = IsHelper(1115) || IsHelper(1117)
FV = 0
Value = 1.5

[State -1]
Type = VarSet
Trigger1 = IsHelper(1115) || IsHelper(1117)
FV = 1
Value = 0.75

[State -1]
Type= VarSet
Trigger1 = IsHelper(1116) || IsHelper(1118)
FV = 0
Value  = 0.6

[State -1]
Type = VarSet
Trigger1 = IsHelper(1116) || IsHelper(1118)
FV = 1
Value = 1.2

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = FVar(0),FVar(1)

[State -1]
Type = AngleSet
Trigger1 = IsHelper(1115) || IsHelper(1117)
Value = 20
[State -1]
Type = AngleSet
Trigger1 = IsHelper(1116) || IsHelper(1118)
Value = -25

[State -1]
Type = DestroySelf
Trigger1 = Time >= 200
Trigger2 = Var(10) >= 240
Trigger3 = Root,MoveType = H

;---------------------------------------------------------------------------------
; 奇術「エターナルミーク」	ナイフ
[StateDef 3105]
Type     = A
MoveType = A
Physics  = N
Anim     = IfElse(IsHelper(3100),3101,3102)
SprPriority = 8

[State -1]
Type = parentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -2]
Type     = VarSet
Trigger1 = NumEnemy > 0
V        = 46
Value    = EnemyNear,Const(Size.Mid.Pos.Y)

[State -1]
Type     = VarRandom
Trigger1 = 1
V        = 53
Range    = -60,60

[State -1]
Type     = VarSet
Trigger1 = !MoveContact
V        = 52
Value    = P2StateNo
IgnoreHitPause = 1

[State -1]
Type     = Trans
Trigger1 = 1
Trans    = Add
IgnoreHitPause = 1

[State -1]
Type     = VelSet
Trigger1 = Time = 0
X        = Cos(Var(53)*Pi/180)*8
Y        = Sin(Var(53)*Pi/180)*8

[State -1]
Type     = AngleDraw
Trigger1 = 1

[State -1]
Type     = AngleSet
Trigger1 = (Vel X != 0)
Value    = ATan(Vel Y/Vel X)*(-180.0/Pi)+((Vel X<0)*180)
IgnoreHitPause = 1

[State -1]
Type     = AngleSet
Trigger1 = (Vel X = 0)
Value    = IfElse(Vel Y<0,90,-90)
IgnoreHitPause = 1

[State -1]
Type = HitDef
Trigger1          = Time >= 1
Attr              = A, HP
Damage            = Ceil(root,FVar(0)*(30-root,Var(4)%2));6;IfElse(IsHelper(3100),Floor(17*Root,FVar(0)),Floor(10*Root,FVar(0))),2;ダメージ
AnimType          = Hard			;ヒット時の相手のポーズ
HitFlag           = MAF				;ヒットする状態
GuardFlag         = ;MA				;ガードできる状態
Priority          = 8, Hit			;攻撃の優先度
PauseTime         = 0, 9
HitSound = s20, 40
GuardSound = s120, IfElse((Var(26)=[2,3]),0,10)	;ヒット時の硬直時間
SparkNo           = -1				;ヒットエフェクト
Guard.SparkNo     = -1				;ガードエフェクト
Sparkxy           = 0, -50			;エフェクト表示位置
Ground.Type       = High			;どこに当たるか 地上
Air.Type          = High			;どこに当たるか 空中
Ground.SlideTime  = 11				;相手がすべる時間
Ground.HitTime    = 20				;コンボが繋がる時間 地上
Air.HitTime       = 20				;コンボが繋がる時間 空中
Ground.Velocity   = -5,-7.5			;ヒット時の相手の移動 地上
Air.Velocity      = -5,-7.5			;ヒット時の相手の移動 空中
AirGuard.Velocity = -2,-3			;ヒット時の相手の移動 空中ガード
Guard.Kill        = 0				;この攻撃をガードで殺せるか
Fall              = 1				;地面に叩き付けられるか
Air.Fall          = 1				;地面に叩き付けられるか
Fall.RecoverTime  = 40				;リカバーできるか
GetPower          = 0,0				;ヒット時のパワー増減
GivePower         = 0,0
NumHits           = 1
Ground.CornerPush.VelOff   = 0
Air.CornerPush.VelOff      = 0
Guard.CornerPush.VelOff    = 0
AirGuard.CornerPush.VelOff = 0
Persistent        = 0
kill = 0

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),-30-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1       = 1
Flag           = Noshadow
IgnoreHitPause = 1

[State -1]
Type     = DestroySelf
Trigger1 = MoveContact
Trigger2 = FrontEdgeBodyDist < -80
Trigger3 = Time >= 240

;--------------------------------------------------------------------------------------
; ナイフ  回転
[StateDef 259]
MoveType = I
Physics = N
Anim = 256
VelSet = -2,-7.5
SprPriority = 3

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 256 + Var(10),Var(11)

[State -1]
Type = VarAdd
Trigger1 = Time >= 15
V = 10
Value = -8

[State -1]
Type = VarAdd
Trigger1 = Time >= 15
V = 11
Value = 8

[State -1]
Type = VelAdd
Trigger1 = 1
Y = .3

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 1,1

[State -1]
Type = AngleAdd
Trigger1 = 1
Value = -45

[State -1]
Type = DestroySelf
Trigger1 = Time >= 40
Trigger2 = Var(11) >= 248

;-------------------------------------------------------------------------------------------
; 離剣の見
[StateDef 1003]
MoveType = I
Physics = N
Anim = 255
SprPriority = 3

[State -1]
Type = parentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),-30-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow
IgnoreHitPause = 1

[State -1]
Type = VelSet
Trigger1 = Time = 0
Trigger1 = IsHelper(1001) || IsHelper(1002) || IsHelper(1003) || IsHelper(1004) || IsHelper(1005)
X = 7.5*IfElse(IsHelper(1001), Cos(-30*Pi/180), IfElse(IsHelper(1002), Cos(-24*Pi/180), IfElse(IsHelper(1003), Cos(-18*Pi/180), IfElse(IsHelper(1004), Cos(-12*Pi/180), Cos(-6*Pi/180)))))
Y = 7.5*IfElse(IsHelper(1001), Sin(-30*Pi/180), IfElse(IsHelper(1002), Sin(-24*Pi/180), IfElse(IsHelper(1003), Sin(-18*Pi/180), IfElse(IsHelper(1004), Sin(-12*Pi/180), Sin(-6*Pi/180)))))

[State -1]
Type = VelSet
Trigger1 = Time = 0
Trigger1 = IsHelper(1006) || IsHelper(1007) || IsHelper(1008) || IsHelper(1009) || IsHelper(1010)
X = 7.5*IfElse(IsHelper(1006), Cos(0*Pi/180), IfElse(IsHelper(1007), Cos(6*Pi/180), IfElse(IsHelper(1008), Cos(12*Pi/180), IfElse(IsHelper(1009), Cos(18*Pi/180), Cos(24*Pi/180)))))
Y = 7.5*IfElse(IsHelper(1006), Sin(0*Pi/180), IfElse(IsHelper(1007), Sin(6*Pi/180), IfElse(IsHelper(1008), Sin(12*Pi/180), IfElse(IsHelper(1009), Sin(18*Pi/180), Sin(24*Pi/180)))))

[State -1]
Type = VelSet
Trigger1 = Time = 0
Trigger1 = IsHelper(1011) || IsHelper(1012) || IsHelper(1013) || IsHelper(1014) || IsHelper(1015)
X = 7.5*IfElse(IsHelper(1011), Cos(-30*Pi/180), IfElse(IsHelper(1012), Cos(-24*Pi/180), IfElse(IsHelper(1013), Cos(-18*Pi/180), IfElse(IsHelper(1014), Cos(-12*Pi/180), Cos(-6*Pi/180)))))
Y = 7.5*IfElse(IsHelper(1011), Sin(-30*Pi/180), IfElse(IsHelper(1012), Sin(-24*Pi/180), IfElse(IsHelper(1013), Sin(-18*Pi/180), IfElse(IsHelper(1014), Sin(-12*Pi/180), Sin(-6*Pi/180)))))

[State -1]
Type = VelSet
Trigger1 = Time = 0
Trigger1 = IsHelper(1016) || IsHelper(1017) || IsHelper(1018) || IsHelper(1019) || IsHelper(1020)
X = 7.5*IfElse(IsHelper(1016), Cos(0*Pi/180), IfElse(IsHelper(1017), Cos(6*Pi/180), IfElse(IsHelper(1018), Cos(12*Pi/180), IfElse(IsHelper(1019), Cos(18*Pi/180), Cos(24*Pi/180)))))
Y = 7.5*IfElse(IsHelper(1016), Sin(0*Pi/180), IfElse(IsHelper(1017), Sin(6*Pi/180), IfElse(IsHelper(1018), Sin(12*Pi/180), IfElse(IsHelper(1019), Sin(18*Pi/180), Sin(24*Pi/180)))))

[State -1]
Type = VelSet
Trigger1 = Time = 0
Trigger1 = IsHelper(1021) || IsHelper(1022) || IsHelper(1023) || IsHelper(1024) || IsHelper(1025)
X = 7.5*IfElse(IsHelper(1021), Cos(-75*Pi/180), IfElse(IsHelper(1022), Cos(-69*Pi/180), IfElse(IsHelper(1023), Cos(-63*Pi/180), IfElse(IsHelper(1024), Cos(-57*Pi/180), Cos(-51*Pi/180)))))
Y = 7.5*IfElse(IsHelper(1021), Sin(-75*Pi/180), IfElse(IsHelper(1022), Sin(-69*Pi/180), IfElse(IsHelper(1023), Sin(-63*Pi/180), IfElse(IsHelper(1024), Sin(-57*Pi/180), Sin(-51*Pi/180)))))

[State -1]
Type = VelSet
Trigger1 = Time = 0
Trigger1 = IsHelper(1026) || IsHelper(1027) || IsHelper(1028) || IsHelper(1029) || IsHelper(1030)
X = 7.5*IfElse(IsHelper(1026), Cos(-45*Pi/180), IfElse(IsHelper(1027), Cos(-39*Pi/180), IfElse(IsHelper(1028), Cos(-33*Pi/180), IfElse(IsHelper(1029), Cos(-27*Pi/180), Cos(-21*Pi/180)))))
Y = 7.5*IfElse(IsHelper(1026), Sin(-45*Pi/180), IfElse(IsHelper(1027), Sin(-39*Pi/180), IfElse(IsHelper(1028), Sin(-33*Pi/180), IfElse(IsHelper(1029), Sin(-27*Pi/180), Sin(-21*Pi/180)))))

[State -1]
Type = VelSet
Trigger1 = Time = 0
Trigger1 = IsHelper(1031) || IsHelper(1032) || IsHelper(1033) || IsHelper(1034) || IsHelper(1035)
X = 7.5*IfElse(IsHelper(1031), Cos(75*Pi/180), IfElse(IsHelper(1032), Cos(69*Pi/180), IfElse(IsHelper(1033), Cos(63*Pi/180), IfElse(IsHelper(1034), Cos(57*Pi/180), Cos(51*Pi/180)))))
Y = 7.5*IfElse(IsHelper(1031), Sin(75*Pi/180), IfElse(IsHelper(1032), Sin(69*Pi/180), IfElse(IsHelper(1033), Sin(63*Pi/180), IfElse(IsHelper(1034), Sin(57*Pi/180), Sin(51*Pi/180)))))

[State -1]
Type = VelSet
Trigger1 = Time = 0
Trigger1 = IsHelper(1036) || IsHelper(1037) || IsHelper(1038) || IsHelper(1039) || IsHelper(1040)
X = 7.5*IfElse(IsHelper(1036), Cos(45*Pi/180), IfElse(IsHelper(1037), Cos(39*Pi/180), IfElse(IsHelper(1038), Cos(33*Pi/180), IfElse(IsHelper(1039), Cos(27*Pi/180), Cos(21*Pi/180)))))
Y = 7.5*IfElse(IsHelper(1036), Sin(45*Pi/180), IfElse(IsHelper(1037), Sin(39*Pi/180), IfElse(IsHelper(1038), Sin(33*Pi/180), IfElse(IsHelper(1039), Sin(27*Pi/180), Sin(21*Pi/180)))))


[State -1]
Type = PosFreeze
Trigger1 = Time = [10,187]
Value = 1

[State -1]
Type = Trans
Trigger1 = Time = [10,187]
Trans = AddAlpha
Alpha = 128,128

[State -1]
Type = StateTypeSet
Trigger1 = Time = 188
MoveType = A

[State -1]
Type = ChangeAnim
Trigger1 = Time = 188
Value = 257

[State -1]
Type = Turn
TriggerAll = Time = 10
Trigger1 = IsHelper(1011) || IsHelper(1012) || IsHelper(1013) || IsHelper(1014) || IsHelper(1015)
Trigger2 = IsHelper(1016) || IsHelper(1017) || IsHelper(1018) || IsHelper(1019) || IsHelper(1020)
Persistent = 0

[State -1]
Type = VelSet
TriggerAll = Time = 10
Trigger1 = IsHelper(1011) || IsHelper(1012) || IsHelper(1013) || IsHelper(1014) || IsHelper(1015)
Trigger2 = IsHelper(1016) || IsHelper(1017) || IsHelper(1018) || IsHelper(1019) || IsHelper(1020)
X = Vel X * -1
Persistent = 0

[State -1]
Type = AngleDraw
Trigger1 = 1
Value = ATan (Vel Y / Vel X) * (-180.0 / Pi)

[State -1]
Type = AttackMulSet
Trigger1 = 1
Value = Root,FVar(3)
IgnoreHitPause = 1

[State -1]
Type = HitDef
Trigger1 = Time >= 189 && !MoveContact
Attr = S, SP
HitFlag = MAF
GuardFlag = MA
AnimType = Medium
Damage = 15
PauseTime = 0,0
SparkNo = -1
Guard.SparkNo = s160
SparkXY = 0,0
HitSound = s20, 40
GuardSound = s120,IfElse((root,Var(26)=[2,3]),0,10)
Ground.Type = High
Ground.SlideTime = 14
Ground.HitTime = 16
Air.HitTime = 16
Ground.Velocity = -4,0
Air.Velocity = -4.6,-4.8
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Air.Fall = 1
Fall.RecoverTime = IfElse(Ceil(40*Root,FVar(20)) <= 15, 15, Ceil(40*Root,FVar(20)))
Guard.Kill = 0
GetPower = 40,20
Hitonce = 1
NumHits = 0
SprPriority = 3

[State -1]
Type = HitAdd
Trigger1 = MoveHit && P2MoveType = H && P2StateNo != [120,159]
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ChangeState
Trigger1 = MoveGuarded
Value = 259

[State -1]
Type = DestroySelf
Trigger1 = Time >= 500
Trigger2 = Pos Y >= 50 || ScreenPos Y <= -50
Trigger3 = FrontEdgeBodyDist <= -50 || BackEdgeBodyDist <= -50
;--------------------------------------------------------------------------------
; アンビシャスジャック
[StateDef 1011]
MoveType    = A
Physics     = N
Anim        = 256
SprPriority = 3

[State -1]
Type = parentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),-30-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow
IgnoreHitPause = 1

[State -1]
Type = VelSet
Trigger1 = Time = 0
Trigger1 = IsHelper(1011) || IsHelper(1012) || IsHelper(1013) || IsHelper(1014) || IsHelper(1015)
X = 7.5*IfElse(IsHelper(1011), Cos(-30*Pi/180), IfElse(IsHelper(1012), Cos(-24*Pi/180), IfElse(IsHelper(1013), Cos(-18*Pi/180), IfElse(IsHelper(1014), Cos(-12*Pi/180), Cos(-6*Pi/180)))))
Y = 7.5*IfElse(IsHelper(1011), Sin(-30*Pi/180), IfElse(IsHelper(1012), Sin(-24*Pi/180), IfElse(IsHelper(1013), Sin(-18*Pi/180), IfElse(IsHelper(1014), Sin(-12*Pi/180), Sin(-6*Pi/180)))))

[State -1]
Type = VelSet
Trigger1 = Time = 0
Trigger1 = IsHelper(1016) || IsHelper(1017) || IsHelper(1018) || IsHelper(1019) || IsHelper(1020)
X = 7.5*IfElse(IsHelper(1016), Cos(0*Pi/180), IfElse(IsHelper(1017), Cos(6*Pi/180), IfElse(IsHelper(1018), Cos(12*Pi/180), IfElse(IsHelper(1019), Cos(18*Pi/180), Cos(24*Pi/180)))))
Y = 7.5*IfElse(IsHelper(1016), Sin(0*Pi/180), IfElse(IsHelper(1017), Sin(6*Pi/180), IfElse(IsHelper(1018), Sin(12*Pi/180), IfElse(IsHelper(1019), Sin(18*Pi/180), Sin(24*Pi/180)))))

[State -1]
Type = VarRandom
Trigger1 = 1
V = 10
Range = -90,90

[State -1]
Type = VelSet
Trigger1 = Time%5 = 0 && Time >= 5
X = 7.5*Cos(Var(10)*Pi/180)
Y = 7.5*Sin(Var(10)*Pi/180)

[State -1]
Type = AngleDraw
Trigger1 = 1
Value = ATan (Vel Y / Vel X) * (-180.0 / Pi)

[State -1]
Type = AttackMulSet
Trigger1 = 1
Value = Root,FVar(3)
IgnoreHitPause = 1

[State -1]
Type = HitDef
Trigger1 = !MoveContact
Attr = S, SP
HitFlag = MAF
GuardFlag = MA
AnimType = Medium
Damage = 24
PauseTime = 0,10
Guard.PauseTime = 0,0
SparkNo = -1
Guard.SparkNo = s160
SparkXY = 0,0
HitSound = s20, 40
GuardSound = s120,IfElse((root,Var(26)=[2,3]),0,10)
Ground.Type = High
Ground.SlideTime = 14
Ground.HitTime = 16
Air.HitTime = 16
Ground.Velocity = -5,0
Air.Velocity = -5,-4
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Air.Fall = 1
Fall.RecoverTime = IfElse(Ceil(15*Root,FVar(20)) <= 15, 15, Ceil(15*Root,FVar(20)))
Guard.Kill = 0
GetPower = 40,20
Hitonce = 1
NumHits = 0
SprPriority = 3

[State -1]
Type = HitAdd
Trigger1 = MoveHit && P2MoveType = H && P2StateNo != [120,159]
Value = 1
IgnoreHitPause = 1
Persistent = 0


[State -1]
Type = ChangeState
Trigger1 = MoveGuarded
Value = 259

[State -1]
Type = DestroySelf
Trigger1 = Time >= 500
Trigger2 = Pos Y >= 50 || ScreenPos Y <= -50
Trigger3 = FrontEdgeBodyDist <= -50 || BackEdgeBodyDist <= -50

;--------------------------------------------------------------------------------
; アンビシャスジャック(シールドカウンター)
[StateDef 1012]
MoveType    = A
Physics     = N
Anim        = 256
SprPriority = 3

[State -1]
Type = parentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),-30-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow
IgnoreHitPause = 1

[State -1]
Type = VelSet
Trigger1 = Time = 0
Trigger1 = IsHelper(1011) || IsHelper(1012) || IsHelper(1013) || IsHelper(1014) || IsHelper(1015)
X = 7.5*IfElse(IsHelper(1011), Cos(-30*Pi/180), IfElse(IsHelper(1012), Cos(-24*Pi/180), IfElse(IsHelper(1013), Cos(-18*Pi/180), IfElse(IsHelper(1014), Cos(-12*Pi/180), Cos(-6*Pi/180)))))
Y = 7.5*IfElse(IsHelper(1011), Sin(-30*Pi/180), IfElse(IsHelper(1012), Sin(-24*Pi/180), IfElse(IsHelper(1013), Sin(-18*Pi/180), IfElse(IsHelper(1014), Sin(-12*Pi/180), Sin(-6*Pi/180)))))

[State -1]
Type = VelSet
Trigger1 = Time = 0
Trigger1 = IsHelper(1016) || IsHelper(1017) || IsHelper(1018) || IsHelper(1019) || IsHelper(1020)
X = 7.5*IfElse(IsHelper(1016), Cos(0*Pi/180), IfElse(IsHelper(1017), Cos(6*Pi/180), IfElse(IsHelper(1018), Cos(12*Pi/180), IfElse(IsHelper(1019), Cos(18*Pi/180), Cos(24*Pi/180)))))
Y = 7.5*IfElse(IsHelper(1016), Sin(0*Pi/180), IfElse(IsHelper(1017), Sin(6*Pi/180), IfElse(IsHelper(1018), Sin(12*Pi/180), IfElse(IsHelper(1019), Sin(18*Pi/180), Sin(24*Pi/180)))))

[State -1]
Type = VarRandom
Trigger1 = 1
V = 10
Range = -90,90

[State -1]
Type = VelSet
Trigger1 = Time%5 = 0 && Time >= 5
X = 7.5*Cos(Var(10)*Pi/180)
Y = 7.5*Sin(Var(10)*Pi/180)

[State -1]
Type = AngleDraw
Trigger1 = 1
Value = ATan (Vel Y / Vel X) * (-180.0 / Pi)

[State -1]
Type = AttackMulSet
Trigger1 = 1
Value = Root,FVar(3)
IgnoreHitPause = 1

[State -1]
Type = HitDef
Trigger1 = !MoveContact
Attr = S, SP
HitFlag = MAF
GuardFlag = MA
AnimType = Medium
Damage = 12
PauseTime = 0,10
Guard.PauseTime = 0,0
SparkNo = -1
Guard.SparkNo = s160
SparkXY = 0,0
HitSound = s20, 40
GuardSound = s120,IfElse((root,Var(26)=[2,3]),0,10)
Ground.Type = High
Ground.SlideTime = 14
Ground.HitTime = 16
Air.HitTime = 16
Ground.Velocity = -5,0
Air.Velocity = -5,-4
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Air.Fall = 1
Fall.RecoverTime = IfElse(Ceil(15*Root,FVar(20)) <= 15, 15, Ceil(15*Root,FVar(20)))
Guard.Kill = 0
GetPower = 20,10
Hitonce = 1
NumHits = 0
SprPriority = 3

[State -1]
Type = HitAdd
Trigger1 = MoveHit && P2MoveType = H && P2StateNo != [120,159]
Value = 1
IgnoreHitPause = 1
Persistent = 0


[State -1]
Type = ChangeState
Trigger1 = MoveGuarded
Value = 259

[State -1]
Type = DestroySelf
Trigger1 = Time >= 500
Trigger2 = Pos Y >= 50 || ScreenPos Y <= -50
Trigger3 = FrontEdgeBodyDist <= -50 || BackEdgeBodyDist <= -50

;----------------------------------------------------------------------------
;(HELPER)BBB背景用ヘルパー1
[Statedef 6610]
type = A
ctrl = 0
anim = 27018
velset = 0,0
movetype = I
physics = N
sprpriority = -60

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = ChangeAnim
trigger1 = time = 0
value = 27018
elem = 5

[state a]
type = posset
trigger1 = 1
x = pos x - screenpos x +160
y = pos y - screenpos y +120

[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = animelem = 8,>=0
v = 1
value = 10

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),40+var(1)

[state a]
type = AngleDraw
trigger1 = 1
scale = 1.5+0.05*Time,1.5+0.05*Time

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256


;---------------------------------------------------------------------------
;(HELPER)BBB背景用ヘルパー2
[Statedef 6615]
type = S
ctrl = 0
anim = 9977
velset = 0,0
movetype = I
physics = N
sprpriority = 5

[state a]
type = AssertSpecial
trigger1 = time = 0
flag = invisible

;---------------------[透過]
[state a]
type = BGPalFX
trigger1 = time < 45
time = 1
mul = 0,0,0

[state a]
type = BGPalFX
trigger1 = time = [45,60]
time = 1
mul = 12*(time-45),12*(time-45),12*(time-45)

[state a]
type = BGPalFX
trigger1 = time > 60
time = 1
mul = 256,256,256

;---------------------[エフェクト]
[State explod];エフェクト
type = Explod
trigger1 = time = 0
anim = 27019
id = 6600
sprpriority = -60
postype = back
pos = 0,0
bindtime = -1
removetime = -1
;pausemovetime = 60
supermove = 0
ignorehitpause = 1
under = 0
ownpal = 1

[state a]
type = ModifyExplod
trigger1 = Time >= 45
trans = addalpha
alpha = 256-12*(Time-45),12*(Time-45)

[state a]
type = RemoveExplod
trigger1 = time >= 100

;---------------------[]
[state a]
type = DestroySelf
trigger1 = time >= 100


;---------------------------------------------------------------------------
; 幻符「殺人ドール」 ナイフ 回転
[StateDef 3001]
MoveType = I
Physics = N
Anim = 255
SprPriority = 3

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State -1]
Type = Trans
Trigger1 = 0
Trans = Add

[State -1]
Type = VelSet
TriggerAll = Time = 0
Trigger1 = IsHelper(3001) || IsHelper(3002) || IsHelper(3003) || IsHelper(3004) || IsHelper(3005)
Trigger2 = IsHelper(3006) || IsHelper(3007) || IsHelper(3008) || IsHelper(3009)
X = Root,FVar(31)
Y = Root,FVar(32)

[State -1]
Type = VelSet
TriggerAll = Time = 0
Trigger1 = IsHelper(3010) || IsHelper(3011) || IsHelper(3012) || IsHelper(3013) || IsHelper(3014)
Trigger2 = IsHelper(3015) || IsHelper(3016) || IsHelper(3017) || IsHelper(3018)
X = -Root,FVar(31)
Y = -Root,FVar(32)

[State -1]
Type = VelAdd
Trigger1 = 1
X = -FVar(10)/50
Y = -FVar(11)/50

[State -1]
Type = VarSet
Trigger1 = Time = 0
FV = 10
Value = Vel X

[State -1]
Type = VarSet
Trigger1 = Time = 0
FV = 11
Value = Vel Y

[State -1]
Type = PosAdd
Trigger1 = Time = 0
X = (fvar(10))*10
Y = (fvar(11))*10

[State -1]
Type = ChangeAnim
Trigger1 = Vel X < 0 && Time = 0
Value = 3002

[State -1]
Type = VarAdd
Trigger1 = 1
V = 1
Value = 18

[State -1]
Type = AngleDraw
Trigger1 = 1
Value = ATan (Vel Y / Vel X) * (-180.0 / Pi) + Var(1)
Scale = 1+FVar(0),1

[State -1]
Type = ChangeState
Trigger1 = Time >= 45
Value = 3002

;---------------------------------------------------------------------------
; 幻符「殺人ドール」 ナイフ 相手に向かう
[StateDef 3002]
MoveType = A
Physics = N
SprPriority = 3

[State -1]
Type = parentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),-30-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = VelSet
Trigger1 = Time = 0
X = 2.0*((P2Dist X)/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))
Y = 2.0*((P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = 255

[State -1]
Type = VarSet
Trigger1 = Time = 1
FV = 10
Value = Vel X

[State -1]
Type = VarSet
Trigger1 = Time = 1
FV = 11
Value = Vel Y

[State -1]
Type = VelAdd
Trigger1 = Time >= 1
X = FVar(10)/2.5
Y = FVar(11)/2.5

[State -1]
Type = VarAdd
Trigger1 = 1
FV = 0
Value = 0.5

[State -1]
Type = AngleSet
Trigger1 = (Vel X != 0)
Value = ATan(Vel Y/Vel X)*(-180.0/Pi)+((Vel X<0)*180)
IgnoreHitPause = 1

[State -1]
Type = AngleSet
Trigger1 = (Vel X = 0)
Value = IfElse(Vel Y<0,90,-90)
IgnoreHitPause = 1

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 1+FVar(0),1

[State -1]
Type = AttackMulSet
Trigger1 = 1
Value = Root,FVar(0)
IgnoreHitPause = 1

[State -1]
Type = HitDef
Trigger1 = !MoveContact
Attr = S, HP
HitFlag = MAF
GuardFlag = MA
AnimType = Medium
Damage = 36,2
PauseTime = 0,0
SparkNo = -1
Guard.SparkNo = s160
SparkXY = 0,0
HitSound = s20, 40
GuardSound = s120,IfElse((root,Var(26)=[2,3]),0,10)
Ground.Type = High
Ground.SlideTime = 14
Ground.HitTime = 16
Air.HitTime = 16
Ground.Velocity = -4.6,-3.2
Air.Velocity = -4.6,-5.3
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Fall = 1
Fall.RecoverTime = IfElse(Ceil(60*Root,FVar(20)) <= 15, 15, Ceil(60*Root,FVar(20)))
Guard.Kill = 0
GetPower = 0,20
Hitonce = 1
NumHits = 0

[state -1]
Type = varset
trigger1 = movehit
V = 47
Value = 1

[State -1]
Type = HitAdd
Trigger1 = MoveHit && P2MoveType = H && P2StateNo != [120,159]
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = DestroySelf
Trigger1 = Time >= 200
Trigger2 = Pos Y >= 100 && Vel Y >= 0 || ScreenPos Y <= -100 && Vel Y <= 0
Trigger3 = FrontEdgeBodyDist <= -100 && Vel X >= 0 || BackEdgeBodyDist <= -100 && Vel X <= 0

;---------------------------------------------------------------------------
; 幻葬「夜霧の幻影殺人鬼」 ナイフ 画面外へ
[StateDef 3003]
MoveType = I
Physics = N
Anim = 256
SprPriority = 3

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State -1]
Type = Trans
Trigger1 = Time >= 45
Trans = Add

[State -1]
Type = VelSet
TriggerAll = Time = 0
Trigger1 = IsHelper(3001) || IsHelper(3002) || IsHelper(3003) || IsHelper(3004) || IsHelper(3005)
Trigger2 = IsHelper(3006) || IsHelper(3007) || IsHelper(3008) || IsHelper(3009)
X = Root,FVar(31)
Y = Root,FVar(32)

[State -1]
Type = VelSet
TriggerAll = Time = 0
Trigger1 = IsHelper(3010) || IsHelper(3011) || IsHelper(3012) || IsHelper(3013) || IsHelper(3014)
Trigger2 = IsHelper(3015) || IsHelper(3016) || IsHelper(3017) || IsHelper(3018)
X = -Root,FVar(31)
Y = -Root,FVar(32)

[State -1]
Type = VelAdd
Trigger1 = Time <= 44
X = -FVar(10)/45.0
Y = -FVar(11)/45.0

[State -1]
Type = VelAdd
Trigger1 = Time >= 45 && Time <= 149
X = FVar(10)/9.0
Y = FVar(11)/9.0

[State -1]
Type = VarSet
Trigger1 = Time = 0
FV = 10
Value = Vel X

[State -1]
Type = VarSet
Trigger1 = Time = 0
FV = 11
Value = Vel Y

[State -1]
Type = VarSet
Trigger1 = Time = 0
FV = 12
Value = Root,fvar(33)

[State -1]
Type = PosAdd
Trigger1 = Time = 0
X = (fvar(10))*10
Y = (fvar(11))*10

[State -1]
Type = VelSet
Trigger1 = Time = 155
X = 0
Y = 0

[State -1]
Type = ChangeAnim
Trigger1 = Vel X < 0 && Time = 0
Value = 3004

[State -1]
Type     = VarAdd
Trigger1 = 1
V        = 1
Value    = 18

[State -1]
Type     = VarAdd
Trigger1 = Time = [45,95]
FV       = 0
Value    = 0.3

[State -1]
Type = AngleDraw
Trigger1 = Time <= 44
Value = ATan (Vel Y / Vel X) * (-180.0 / Pi) + Var(1)
Scale = 1,1

[State -1]
Type = AngleDraw
Trigger1 = Time >= 45 && Time <= 149
Value = ATan (Vel Y / Vel X) * (-180.0 / Pi)
Scale = 1+FVar(0),1

[State -1]
Type = AngleDraw
Trigger1 = Time >= 150
Scale = 1,1

[State -1]
Type = ChangeState
Trigger1 = Time >= 160
Trigger1 = IsHelper(3001) || IsHelper(3002) || IsHelper(3003) || IsHelper(3004) || IsHelper(3005)
Trigger2 = Time >= 160
Trigger2 = IsHelper(3006) || IsHelper(3007) || IsHelper(3008) || IsHelper(3009)
Trigger3 = Time >= 211
Trigger3 = IsHelper(3010) || IsHelper(3011) || IsHelper(3012) || IsHelper(3013) || IsHelper(3014)
Trigger4 = Time >= 211
Trigger4 = IsHelper(3015) || IsHelper(3016) || IsHelper(3017) || IsHelper(3018)
Value    = 3004

;---------------------------------------------------------------------------
; 幻葬「夜霧の幻影殺人鬼」 ナイフ 相手に向かう
[StateDef 3004]
MoveType = A
Physics = N
Anim = 3005
SprPriority = 3

[State -1]
Type = parentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -2]
Type = Helper
TriggerAll = MoveHit = 1
Trigger1 = P2MoveType = H
StateNo = 6000
ID = 6001
PosType = P2
Pos = IfElse(MoveType=H,Ceil(P2Dist X/2),0),-30-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
TriggerAll = Time = 0
Trigger1 = IsHelper(3001) || IsHelper(3002) || IsHelper(3003) || IsHelper(3004) || IsHelper(3005)
Trigger2 = IsHelper(3006) || IsHelper(3007) || IsHelper(3008) || IsHelper(3009)
X = P2Dist X+300*Cos(fvar(12)*1.25)
Y = -40+P2Dist Y+300*Sin(fvar(12)*1.25)

[State -1]
Type = PosAdd
TriggerAll = Time = 0
Trigger1 = IsHelper(3010) || IsHelper(3011) || IsHelper(3012) || IsHelper(3013) || IsHelper(3014)
Trigger2 = IsHelper(3015) || IsHelper(3016) || IsHelper(3017) || IsHelper(3018)
X = P2Dist X-300*Cos(fvar(12)*1.25)
Y = -40+P2Dist Y+-300*Sin(fvar(12)*1.25)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = VelSet
Trigger1 = Time = 0
X = 35*((P2Dist X)/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))
Y = 35*((P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))

[State -1]
Type = VelSet
Trigger1 = Vel X = 0 && Time <= 10
X = 0.00001

[State -1]
Type = VarAdd
Trigger1 = 1
FV = 0
Value = 0.05

[State -1]
Type = AngleSet
Trigger1 = (Vel X != 0)
Value = ATan(Vel Y/Vel X)*(-180.0/Pi)+((Vel X<0)*180)
IgnoreHitPause = 1

[State -1]
Type = AngleSet
Trigger1 = (Vel X = 0)
Value = IfElse(Vel Y<0,90,-90)
IgnoreHitPause = 1

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 1+FVar(0),1

[State -1]
Type = AttackMulSet
Trigger1 = 1
Value = Root,FVar(0)
IgnoreHitPause = 1

[State -1]
Type = HitDef
Trigger1 = !MoveContact
Attr = S, HP
HitFlag = MAF
GuardFlag = MA
AnimType = Medium
Damage = 42, 2
PauseTime = 0,0
Guard.PauseTime = 0,0
SparkNo = -1
Guard.SparkNo = s160
SparkXY = 0,0
HitSound = s20, 40
GuardSound = s120,IfElse((root,Var(26)=[2,3]),0,10)
Ground.Type = High
Ground.SlideTime = 14
Ground.HitTime = 16
Air.HitTime = 16
Ground.Velocity = -4.6,-3.2
Air.Velocity = -4.6,-5.3
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Fall = 1
Fall.RecoverTime = IfElse(Ceil(60*Root,FVar(20)) <= 15, 15, Ceil(60*Root,FVar(20)))
Guard.Kill = 0
GetPower = 0,20
Hitonce = 1
NumHits = 0
kill = 0

[State -1]
Type = HitAdd
Trigger1 = MoveHit && P2MoveType = H && P2StateNo != [120,159]
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = DestroySelf
Trigger1 = Time >= 260
Trigger2 = (Vel X > 0 && FrontEdgeBodyDist <= -200) || (Vel X < 0 && BackEdgeBodyDist <= -200)
Trigger3 = (Vel Y > 0 && Pos Y >= 200) || (Vel Y < 0 && ScreenPos Y <= -200)

;---------------------------------------------------------------------------
; 傷符「インスクライブレッドソウル」・傷魂「ソウルスカルプチュア」 斬撃
[StateDef 3021]
Physics = N
Anim = 9999
SprPriority = 4

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 0
Range = 0,1

[State -1]
Type = VarSet
Trigger1 = Time = 0
fvar(10) = IfElse(Var(0)=0,-Random/22.2,Random/22.2)

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Trigger1 = IsHelper(3021) || IsHelper(3022)
Value = IfElse(Var(0) = 0 && IsHelper(3021), 3022, 3023)

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Trigger1 = IsHelper(3023) || IsHelper(3024)
Value = IfElse(Var(0) = 0 && IsHelper(3023), 3024, 3025)

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = VarRandom
Trigger1 = Time = 0
Trigger1 = IsHelper(3021) || IsHelper(3022)
V = 1
Range    = 25,75

[State -1]
Type = VarRandom
Trigger1 = Time = 0
Trigger1 = IsHelper(3023) || IsHelper(3024)
V = 1
Range = 25,215

[State -1]
Type = VarAdd
Trigger1 = Time = 0
fvar(0) = Var(1) / 175.0

[State -1]
Type = VarAdd
Trigger1 = IsHelper(3021) || IsHelper(3022)
fvar(0) = .05

[State -1]
Type = VarAdd
Trigger1 = Time = 0
Trigger1 = IsHelper(3023) || IsHelper(3024)
fvar(0) = .5

[State -1]
Type = VarAdd
Trigger1 = IsHelper(3023) || IsHelper(3024)
fvar(0) = .125

[State -1]
Type = VarRandom
Trigger1 = Time = 0
Trigger1 = IsHelper(3021) || IsHelper(3022)
V = 2
Range = 50,138

[State -1]
Type = VarRandom
Trigger1 = Time = 0
Trigger1 = IsHelper(3023) || IsHelper(3024)
V = 2
Range = 50,138

[State -1]
Type = VarSet
Trigger1 = IsHelper(3021) || IsHelper(3022)
fvar(1) = Var(2) / 250.0

[State -1]
Type = VarSet
Trigger1 = IsHelper(3023) || IsHelper(3024)
fvar(1) = Var(2) / 125.0

[State -1]
Type = PosAdd
Trigger1 = Time = 0
X = 40*Cos(fvar(10)*(Pi/180.0))
Y = -40*Sin(fvar(10)*(Pi/180.0))

[State -1]
Type = VelSet
Trigger1 = Time = 0
X = 2*Cos(fvar(10)*(Pi/180.0))
Y = -2*Sin(fvar(10)*(Pi/180.0))

[State -1]
Type     = AngleDraw
Trigger1 = Time >= 1
Value    = FVar(10)
Scale    = 1+FVar(0),0.5+FVar(1)

[State -1]
Type     = DestroySelf
Trigger1 = Time >= 100
Trigger2 = AnimTime = 0
;---------------------------------------------------------------------------
; 傷魂「ソウルスカルプチュア」 一閃
[StateDef 3022]
Physics = N
Anim = 3026
SprPriority = 5

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = VarAdd
Trigger1 = Time >= 15 && Var(0) >= -252 && IsHelper(3022)
V = 0
Value = -4

[State -1]
Type = VarAdd
Trigger1 = Time >= 5 && Var(0) >= -248 && IsHelper(3200)
V = 0
Value = -8

[State -1]
Type = VarSet
Trigger1 = Time = 0
fvar(10) = -10+(Random/49.95)

[State -1]
Type = PalFx
Trigger1 = IsHelper(3022)
Time = 9999
Mul = 256+Var(0),256+Var(0),256+Var(0)

[State -1]
Type = PalFx
Trigger1 = IsHelper(3200)
Time = 9999
Mul = 256+Var(0),256+Var(0),512+Var(0)*2

[State -1]
Type = VarAdd
Trigger1 = IsHelper(3022)
fvar(0)  = .05

[State -1]
Type = VarAdd
Trigger1 = IsHelper(3200)
fvar(0) = .075

[State -1]
Type = VarAdd
Trigger1 = 1
fvar(1) = -0.02

[State -1]
Type = VelSet
Trigger1 = Time = 0
X = 14*Cos(fvar(10)*(Pi/180.0))
Y = -14*Sin(fvar(10)*(Pi/180.0))*(IsHelper(3022))

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(3022)
Value = FVar(10)
Scale = 1+FVar(0),1+FVar(1)

[State -1]
Type = AngleDraw
Trigger1 = IsHelper(3200)
Scale = 2+FVar(0)*2,1+FVar(1)*2

[State -1]
Type = DestroySelf
Trigger1 = Time >= 50
Trigger2 = AnimTime = 0
Trigger3 = Var(0) <= -248

;---------------------------------------------------------------------------
; 時符「咲夜の世界」  時間停止
[StateDef 3011]
Physics = N
Anim = 9976
SprPriority = 5

[State -1]
Type = BindToRoot
Trigger1 = 1
Time = 999
Facing = 1
Pos = 0,-50

[State -1]
Type = Explod
Trigger1 = Time = 45
Anim = 3013
ID = 3013
Pos = 0,0
PosType = P1
OwnPal = 1
Facing = IfElse(Facing = 1, 1, -1)
BindTime = -1
Scale = 0.75,0.75
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
Anim = 3014
ID = 3014
Pos = 160,160
PosType = Left
Facing = 1
OwnPal = 0
BindTime = -1
Scale = 0.75,0.75
SprPriority = -999
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
Trigger1 = Var(10) = 1
ID = 3014

[State -1]
Type = Explod
Trigger1 = Var(10) = 1
Anim = 3015
ID = 3015
Pos = 160,160
PosType = Left
Facing = 1
OwnPal = 0
BindTime = -1
Scale = 0.75,0.75
SprPriority = -999
SuperMoveTime = 9999
PauseMoveTime = 9999
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Var(10) = 1
V = 1
Value = 10

[State -1]
Type = VarAdd
Trigger1 = Var(10) = 1
V = 2
Value = 10

[State -1]
Type = PalFx
Trigger1 = 1
Time = 5
Mul = 256-Var(1),256-Var(1),256-Var(1)
color = 2

[State -1]
Type = BGPalFx
Trigger1 = 1
Time = 1
Mul = 148,148,148
color = 2+Var(2)

[State -1]
Type = VarSet
Trigger1 = Time = 0
FV = 36
Value = 1
[State -1]
Type = VarSet
Trigger1 = Time >= 250
FV = 36
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time >= 220
V = 10
Value = 1

[State -1]
Type = VarSet
Trigger1 = Time =0
FV = 4
Value = 1000

[State -1]
Type = Varadd
Trigger1 = 1
FV = 4
Value = -4.25

[State -1]
Type = VarSet
Trigger1 = Time = 49
FV = 0
Value = FVar(4)

[State -1]
Type = VarAdd
Trigger1 = Time >= 49
FV = 1
Value = FVar(4)/100

[State -1]
Type = ModifyExplod
Trigger1 = NumExplod(3013) >= 1 && Var(10) = 0
ID = 3013
Scale = FVar(4)/1000,FVar(4)/1000

[State -1]
Type = ModifyExplod
Trigger1 = NumExplod(3013) >= 1 && Var(10) = 1
ID = 3013
Scale = 0,0

[State -1]
Type = RemoveExplod
Trigger1 = Var(10) = 1
Trigger1 = Time >= 250
ID = 3013

[State -1]
Type = RemoveExplod
Trigger1 = Time >= 250
ID = 3015

[State -1]
Type = DestroySelf
Trigger1 = Time >= 250

;---------------------------------------------------------------------------
; 時符「プライベートスクウェア」 時計
[StateDef 3012]
Physics = N
Anim = 3013
SprPriority = 5

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State -1]
Type = VarSet
Trigger1 = Time =0
FV = 4
Value = 1000

[State -1]
Type = Varadd
Trigger1 = 1
FV = 4
Value = -4.00

[State -1]
Type = BindToRoot
Trigger1 = 1
Time = 999
Pos = 0,-50

[State -1]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 256-Var(1),256-Var(1)

[State -1]
Type = VarAdd
Trigger1 = Var(10) = 1
V = 1
Value = 10

[State -1]
Type = VarSet
Trigger1 = Time >= 240
V = 10
Value = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
FV = 36
Value = 2

[State -1]
Type = VarSet
Trigger1 = Time >= 250
FV = 36
Value = 0

[State -1]
Type = VarAdd
Trigger1 = 1
FV = 1
Value = -1

[State -1]
Type = AngleDraw
Trigger1 = 1
Value = FVar(1)
Scale = FVar(4)/1000,FVar(4)/1000

[State -1]
Type = DestroySelf
Trigger1 = Time >= 250
;---------------------------------------------------------------------------
; 時符「プライベートスクウェア」 懐中時計
[StateDef 3013]
Physics = N
Anim = 3014
SprPriority = -99

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State -1]
Type = Trans
Trigger1 = Var(10) = 1
Trans = AddAlpha
Alpha = 256-Var(1),0+Var(1)

[State -1]
Type = VarAdd
Trigger1 = Var(10) = 1
V = 1
Value = 10

[State -1]
Type = VarSet
Trigger1 = Time >= 220
V = 10
Value = 1

[State -1]
Type = PosSet
Trigger1 = 1
X = -80
Y = -160

[State -1]
Type = VarAdd
Trigger1 = 1
FV = 1
Value = 0.2

[State -1]
Type = AngleDraw
Trigger1 = 1
Value = FVar(1)
Scale = 2,2

[State -1]
Type = DestroySelf
Trigger1 = Time >= 250

;---------------------------------------------------------------------------
; 宝石魔術・氷ヘルパー
[Statedef 2504]
Type = A
MoveType = A
Physics = N
SprPriority = 5
Anim = 2500
velset = 10,0

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s1000, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = AfterImage
Trigger1 = Time = 0
Time = 999999
Trans = Add
Length   = 20
TimeGap  = 1
FrameFap = 1
PalBright = 0 , 0 , 0
PalContrast = 50 , 50 , 255
PalAdd = 0 , 0 , 0
PalMul = .5 , .5 , .5
IgnoreHitPause = 1
Peresistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = AfterImageTime
trigger1 = movehit
time = 1
IgnoreHitPause = 1
Peresistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 46
Value = s2500, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = IsHelper
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = animelem = 1
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(25-Parent,Var(4)%2)),Ceil(Parent,FVar(1)*5)
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
HitSound   = s20,IfElse((Parent,Var(26)=[2,3]),0,10)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = VarSet
TriggerAll = TeamMode = Single || TeamMode = Turns
Trigger1 = P2StateNo != [120,159]
Trigger2 = P2StateNo != [5200,5201]
V = 52
Value = P2Life
IgnoreHitPause = 1

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 1))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = MoveHit = 1
Trigger1 = Parent,FVar(1) > 0.50
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State -1]
Type = BGPalFx
Trigger1 = Var(5)   = 31
Trigger1 = MoveHit = 1
Time = 1
Add = 256,-120,-120
InvertAll = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 1))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 37
MoveType = I
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state -1]
Type = ChangeState
Trigger1 = movehit = 1
value = 2505

[State -1]
Type = DestroySelf
Trigger1 = time > 30
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 宝石魔術・氷ヘルパー２
[Statedef 2505]
Type = A
MoveType = A
Physics = N
SprPriority = 5
Anim = 2501
velset = 0,0

[State -1]
Type = PosSet
Trigger1 = time = 0
X = target,pos x

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s1000, 3
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 46
Value = s2500, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = IsHelper
TriggerAll = !IsHelper(2514)
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = Time = 8
Trigger2 = Time = 13
Trigger3 = Time = 18
Trigger4 = Time = 23
Trigger5 = Time = 28
Trigger6 = Time = 33
;Trigger7 = Time = 38
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(10-Parent,Var(4)%2)),Ceil(Parent,FVar(1)*5)
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, -70-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
HitSound   = s20,IfElse((Parent,Var(26)=[2,3]),0,10)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0,Ifelse(Time=38,-5,0)
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = HitDef
TriggerAll = IsHelper
TriggerAll = !IsHelper(2514)
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = Time = 38
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(10-Parent,Var(4)%2)),Ceil(Parent,FVar(1)*5)
AnimType  = back
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, -70-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
HitSound   = s20,IfElse((Parent,Var(26)=[2,3]),0,10)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = -1,-5
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = HitDef
TriggerAll = IsHelper
TriggerAll = IsHelper(2514)
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = Time = 8
Trigger2 = Time = 13
Trigger3 = Time = 18
Trigger4 = Time = 23
Trigger5 = Time = 28
Trigger6 = Time = 33
;Trigger7 = Time = 38
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(30-Parent,Var(4)%2)),Ceil(Parent,FVar(1)*5)
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, -70-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
HitSound   = s20,IfElse((Parent,Var(26)=[2,3]),0,10)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0,Ifelse(Time=38,-5,0)
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = HitDef
TriggerAll = IsHelper
TriggerAll = IsHelper(2514)
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = Time = 38
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(30-Parent,Var(4)%2)),Ceil(Parent,FVar(1)*5)
AnimType  = back
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, -70-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
HitSound   = s20,IfElse((Parent,Var(26)=[2,3]),0,10)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = -1,-5
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = TargetLifeAdd
TriggerAll = P2Life != 0
TriggerAll = Var(52) > P2Life
Trigger1 = Parent,NumExplod(22040) > 0
Value = Floor((Var(52)-P2Life)*0.3)
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = TeamMode = Single || TeamMode = Turns
Trigger1 = P2StateNo != [120,159]
Trigger2 = P2StateNo != [5200,5201]
V = 52
Value = P2Life
IgnoreHitPause = 1

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 1))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 2))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 3))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 4))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 5))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 6))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 7))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 2))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 3))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 4))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 5))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 6))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 7))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ParentVarSet
Trigger1 = Time >= 0
V = 5
Value = Var(5)
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = BGPalFx
Trigger1 = Var(5)   = 31
Trigger1 = MoveHit = 1
Time = 1
Add = 256,-120,-120
InvertAll = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 1))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 2))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 3))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 4))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 5))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 6))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 7))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 37
MoveType = I
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 宝石魔術・火ヘルパー
[Statedef 2506]
Type = A
MoveType = A
Physics = N
SprPriority = 5
Anim = 2502
velset = 10,0

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s1000, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = AfterImage
Trigger1 = Time = 0
Time = 999999
Trans = Add
Length   = 20
TimeGap  = 1
FrameFap = 1
PalBright = 0 , 0 , 0
PalContrast = 50 , 50 , 255
PalAdd = 0 , 0 , 0
PalMul = .5 , .5 , .5
IgnoreHitPause = 1
Peresistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = AfterImageTime
trigger1 = movehit
time = 1
IgnoreHitPause = 1
Peresistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 46
Value = s2500, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = IsHelper
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = animelem = 1
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(25-Parent,Var(4)%2)),Ceil(Parent,FVar(1)*5)
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
;HitSound   = s20,IfElse((Parent,Var(26)=[2,3]),0,10)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = VarSet
TriggerAll = TeamMode = Single || TeamMode = Turns
Trigger1 = P2StateNo != [120,159]
Trigger2 = P2StateNo != [5200,5201]
V = 52
Value = P2Life
IgnoreHitPause = 1

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 1))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = BGPalFx
Trigger1 = Var(5)   = 31
Trigger1 = MoveHit = 1
Time = 1
Add = 256,-120,-120
InvertAll = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 1))
StateNo = 6000
ID = 6002
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 37
MoveType = I
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state -1]
Type = ChangeState
Trigger1 = movehit = 1
value = 2507

[State -1]
Type = DestroySelf
Trigger1 = time > 30
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 宝石魔術・火ヘルパー２
[Statedef 2507]
Type = A
MoveType = A
Physics = N
SprPriority = 5
Anim = 2503
velset = 0,0

[State -1]
Type = PosSet
Trigger1 = time = 0
X = target,pos x
Y = -30


[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s2500, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = IsHelper
TriggerAll = !IsHelper(2515)
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = Time = 0
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(120-Parent,Var(4)%2)),Ceil(Parent,FVar(1)*5)
AnimType  = Hard
HitFlag = MAFD
GuardFlag = 
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, -70-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = High
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
;HitSound   = s2500,1
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0,-5
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Palfx.Time = 20
Palfx.Mul =  255,255,255
Palfx.Add = 100,-120,-120
Palfx.SinAdd = 30,10,10,9
YAccel = .45
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = HitDef
TriggerAll = IsHelper
TriggerAll = IsHelper(2515)
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = Time = 0
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(360-Parent,Var(4)%2)),Ceil(Parent,FVar(1)*5)
AnimType  = Hard
HitFlag = MAFD
GuardFlag = 
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, -70-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = High
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
;HitSound   = s2500,1
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0,-5
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Palfx.Time = 20
Palfx.Mul =  255,255,255
Palfx.Add = 100,-120,-120
Palfx.SinAdd = 30,10,10,9
YAccel = .45
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = TargetLifeAdd
TriggerAll = P2Life != 0
TriggerAll = Var(52) > P2Life
Trigger1 = Parent,NumExplod(22040) > 0
Value = Floor((Var(52)-P2Life)*0.3)
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = TeamMode = Single || TeamMode = Turns
Trigger1 = P2StateNo != [120,159]
Trigger2 = P2StateNo != [5200,5201]
V = 52
Value = P2Life
IgnoreHitPause = 1

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 1))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 2))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 3))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 4))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 5))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 6))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 7))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 2))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 3))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 4))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 5))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 6))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 7))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ParentVarSet
Trigger1 = Time >= 0
V = 5
Value = Var(5)
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = BGPalFx
Trigger1 = Var(5)   = 31
Trigger1 = MoveHit = 1
Time = 1
Add = 256,-120,-120
InvertAll = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 37
MoveType = I
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 宝石魔術・氷ヘルパー
[Statedef 2514]
Type = A
MoveType = A
Physics = A
SprPriority = 5
Anim = 2500
velset = ifelse(IsHelper(2505),3,1),-7

[state -1]
Type = VarSet
Trigger1 = Parent,StateNo = 1090
Trigger1 = Time = 0
V = 49
Value = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s1000, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 105, 1]
type = StateTypeSet
trigger1 = pos y > -50
Physics = N
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 46
Value = s2500, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = AfterImage
Trigger1 = Var(49) = 1
Trigger1 = Time = 0
Time = 999999
Trans = Add
Length   = 20
TimeGap  = 1
FrameFap = 1
PalBright = 0 , 0 , 0
PalContrast = 50 , 50 , 255
PalAdd = 0 , 0 , 0
PalMul = .5 , .5 , .5
IgnoreHitPause = 1
Peresistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = AfterImageTime
Trigger1 = Var(49) = 1
trigger1 = movehit
time = 1
IgnoreHitPause = 1
Peresistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VelSet
Trigger1 = Var(49) = 1
Trigger1 = time <= 20
X = 5.0*((P2Dist X)/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))
Y = 5.0*((P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))

[State -1]
Type = VarSet
Trigger1 = Var(49) = 1
Trigger1 = time <= 20
FV = 10
Value = Vel X

[State -1]
Type = VarSet
Trigger1 = Var(49) = 1
Trigger1 = time <= 20
FV = 11
Value = Vel Y

[State -1]
Type = VelAdd
Trigger1 = Var(49) = 1
Trigger1 = 1;Time >= 1
X = FVar(10)/2.5
Y = FVar(11)/2.5

[State -1]
Type = HitDef
TriggerAll = IsHelper
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = animelem = 1
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(25-Parent,Var(4)%2)),Ceil(Parent,FVar(1)*5)
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
HitSound   = s20,IfElse((Parent,Var(26)=[2,3]),0,10)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = VarSet
TriggerAll = TeamMode = Single || TeamMode = Turns
Trigger1 = P2StateNo != [120,159]
Trigger2 = P2StateNo != [5200,5201]
V = 52
Value = P2Life
IgnoreHitPause = 1

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 1))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = MoveHit = 1
Trigger1 = Parent,FVar(1) > 0.50
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State -1]
Type = BGPalFx
Trigger1 = Var(5)   = 31
Trigger1 = MoveHit = 1
Time = 1
Add = 256,-120,-120
InvertAll = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 1))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[state -1]
Type = ChangeState
Trigger1 = movehit = 1
value = 2505

[state -1]
Type = PosSet
trigger1 = pos y >= -5
y = 0

[state -1]
Type = velSet
trigger1 = pos y >= -5
y = 0
x = 0

[state -1]
Type = ChangeState
Trigger1 = pos y >= -5
value = 2515

[State -1]
Type = DestroySelf
Trigger1 = pos y >= -5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 宝石魔術・氷ヘルパー２
[Statedef 2515]
Type = A
MoveType = A
Physics = N
SprPriority = 5
Anim = 2507
velset = 0,0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s1000, 3
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state -1]
Type = PosSet
trigger1 = pos y > 0
y = 0

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 46
Value = s2500, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = IsHelper
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = Time = 8
Trigger2 = Time = 13
Trigger3 = Time = 18
Trigger4 = Time = 23
Trigger5 = Time = 28
Trigger6 = Time = 33
Trigger7 = Time = 38
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(10-Parent,Var(4)%2)),Ceil(Parent,FVar(1)*5)
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
HitSound   = s20,IfElse((Parent,Var(26)=[2,3]),0,10)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = TargetLifeAdd
TriggerAll = P2Life != 0
TriggerAll = Var(52) > P2Life
Trigger1 = Parent,NumExplod(22040) > 0
Value = Floor((Var(52)-P2Life)*0.3)
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = TeamMode = Single || TeamMode = Turns
Trigger1 = P2StateNo != [120,159]
Trigger2 = P2StateNo != [5200,5201]
V = 52
Value = P2Life
IgnoreHitPause = 1

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 1))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 2))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 3))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 4))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 5))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 6))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 7))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 2))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 3))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 4))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 5))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 6))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 7))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ParentVarSet
Trigger1 = Time >= 0
V = 5
Value = Var(5)
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = BGPalFx
Trigger1 = Var(5)   = 31
Trigger1 = MoveHit = 1
Time = 1
Add = 256,-120,-120
InvertAll = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 1))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 2))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 3))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 4))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 5))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 6))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 7))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 37
MoveType = I
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 宝石魔術・火ヘルパー
[Statedef 2516]
Type = A
MoveType = A
Physics = A
SprPriority = 5
Anim = 2502
velset = ifelse(IsHelper(2505),4,3),-7

[state -1]
Type = VarSet
Trigger1 = Parent,StateNo = 1090
Trigger1 = Time = 0
V = 49
Value = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s1000, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 105, 1]
type = StateTypeSet
trigger1 = pos y > -50
Physics = N
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 46
Value = s2500, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = AfterImage
Trigger1 = Var(49) = 1
Trigger1 = Time = 0
Time = 999999
Trans = Add
Length   = 20
TimeGap  = 1
FrameFap = 1
PalBright = 0 , 0 , 0
PalContrast = 50 , 50 , 255
PalAdd = 0 , 0 , 0
PalMul = .5 , .5 , .5
IgnoreHitPause = 1
Peresistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = AfterImageTime
Trigger1 = Var(49) = 1
trigger1 = movehit
time = 1
IgnoreHitPause = 1
Peresistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VelSet
Trigger1 = Var(49) = 1
Trigger1 = time <= 20
X = 6.0*((P2Dist X)/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))
Y = 1.0*((P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))

[State -1]
Type = VarSet
Trigger1 = Var(49) = 1
Trigger1 = time <= 20
FV = 10
Value = Vel X

[State -1]
Type = VarSet
Trigger1 = Var(49) = 1
Trigger1 = time <= 20
FV = 11
Value = Vel Y

[State -1]
Type = VelAdd
Trigger1 = Var(49) = 1
Trigger1 = 1;Time >= 1
X = FVar(10)/2.5
Y = FVar(11)/2.5

[State -1]
Type = HitDef
TriggerAll = IsHelper
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = animelem = 1
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(25-Parent,Var(4)%2)),Ceil(Parent,FVar(1)*5)
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
;HitSound   = s20,IfElse((Parent,Var(26)=[2,3]),0,10)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = VarSet
TriggerAll = TeamMode = Single || TeamMode = Turns
Trigger1 = P2StateNo != [120,159]
Trigger2 = P2StateNo != [5200,5201]
V = 52
Value = P2Life
IgnoreHitPause = 1

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 1))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = BGPalFx
Trigger1 = Var(5)   = 31
Trigger1 = MoveHit = 1
Time = 1
Add = 256,-120,-120
InvertAll = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 1))
StateNo = 6000
ID = 6002
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 37
MoveType = I
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state -1]
Type = ChangeState
Trigger1 = movehit = 1
value = 2517

[state -1]
Type = PosSet
trigger1 = pos y >= -5
y = 0

[state -1]
Type = velSet
trigger1 = pos y >= -5
y = 0
x = 0

[state -1]
Type = ChangeState
Trigger1 = pos y >= -5
value = 2517

[State -1]
Type = DestroySelf
Trigger1 = pos y >= -5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 宝石魔術・火ヘルパー２
[Statedef 2517]
Type = A
MoveType = A
Physics = N
SprPriority = 5
Anim = 2503
velset = 0,0

[state -1]
Type = PosSet
trigger1 = pos y > 0
y = 0

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s2500, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = IsHelper
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = Time = 0
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(60-Parent,Var(4)%2)),Ceil(Parent,FVar(1)*5)
AnimType  = Hard
HitFlag = MAFD
GuardFlag = MA
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, -70-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = High
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
HitSound   = s-1
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0,-7
Guard.Velocity = -7
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Palfx.Time = 20
Palfx.Mul =  255,255,255
Palfx.Add = 100,-120,-120
Palfx.SinAdd = 30,10,10,9
YAccel = .45
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = TargetLifeAdd
TriggerAll = P2Life != 0
TriggerAll = Var(52) > P2Life
Trigger1 = Parent,NumExplod(22040) > 0
Value = Floor((Var(52)-P2Life)*0.3)
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = TeamMode = Single || TeamMode = Turns
Trigger1 = P2StateNo != [120,159]
Trigger2 = P2StateNo != [5200,5201]
V = 52
Value = P2Life
IgnoreHitPause = 1

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 1))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 2))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 3))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 4))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 5))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 6))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 7))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 2))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 3))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 4))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 5))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 6))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 7))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ParentVarSet
Trigger1 = Time >= 0
V = 5
Value = Var(5)
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = BGPalFx
Trigger1 = Var(5)   = 31
Trigger1 = MoveHit = 1
Time = 1
Add = 256,-120,-120
InvertAll = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 37
MoveType = I
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 宝石魔術・風ヘルパー
[Statedef 2518]
Type = A
MoveType = A
Physics = A
SprPriority = 5
Anim = 2508
velset = 5,-7

[state -1]
Type = VarSet
Trigger1 = Parent,StateNo = 1090
Trigger1 = Time = 0
V = 49
Value = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s1000, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 105, 1]
type = StateTypeSet
trigger1 = pos y > -50
Physics = N
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -2]
Type = AfterImage
Trigger1 = Var(49) = 1
Trigger1 = Time = 0
Time = 999999
Trans = Add
Length   = 20
TimeGap  = 1
FrameFap = 1
PalBright = 0 , 0 , 0
PalContrast = 50 , 50 , 255
PalAdd = 0 , 0 , 0
PalMul = .5 , .5 , .5
IgnoreHitPause = 1
Peresistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = AfterImageTime
Trigger1 = Var(49) = 1
trigger1 = movehit
time = 1
IgnoreHitPause = 1
Peresistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VelSet
Trigger1 = Var(49) = 1
Trigger1 = time <= 30
X = 5.0*((P2Dist X)/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))
Y = 2.0*((P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))

[State -1]
Type = VarSet
Trigger1 = Var(49) = 1
Trigger1 = time <= 30
FV = 10
Value = Vel X

[State -1]
Type = VarSet
Trigger1 = Var(49) = 1
Trigger1 = time <= 30
FV = 11
Value = Vel Y

[State -1]
Type = VelAdd
Trigger1 = Var(49) = 1
Trigger1 = 1;Time >= 1
X = FVar(10)/2.5
Y = FVar(11)/2.5

[State -1]
Type = HitDef
TriggerAll = IsHelper
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = animelem = 1
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(25-Parent,Var(4)%2)),Ceil(Parent,FVar(1)*5)
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, 0-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
;HitSound   = s20,IfElse((Parent,Var(26)=[2,3]),0,10)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0,-3.6
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = VarSet
TriggerAll = TeamMode = Single || TeamMode = Turns
Trigger1 = P2StateNo != [120,159]
Trigger2 = P2StateNo != [5200,5201]
V = 52
Value = P2Life
IgnoreHitPause = 1

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 1))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = BGPalFx
Trigger1 = Var(5)   = 31
Trigger1 = MoveHit = 1
Time = 1
Add = 256,-120,-120
InvertAll = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 1))
StateNo = 6000
ID = 6002
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 37
MoveType = I
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state -1]
Type = ChangeState
Trigger1 = movehit = 1
value = 2519

[state -1]
Type = PosSet
trigger1 = pos y >= -5
y = 0

[state -1]
Type = velSet
trigger1 = pos y >= -5
y = 0
x = 0

[state -1]
Type = ChangeState
Trigger1 = pos y >= -5
value = 2519

[State -1]
Type = DestroySelf
Trigger1 = pos y >= -5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 宝石魔術・風ヘルパー２
[Statedef 2519]
Type = A
MoveType = A
Physics = N
SprPriority = 5
Anim = 2509
velset = 0,0

[state -1]
Type = PosSet
trigger1 = pos y > 0
y = 0

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s1005, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Trigger2 = AnimElem = 5
Trigger3 = AnimElem = 6
Trigger4 = AnimElem = 7
Trigger5 = AnimElem = 8
Trigger6 = AnimElem = 9
Trigger7 = AnimElem = 10
Attr = S, SP
AnimType  = Up
Damage    = Ceil(Parent,FVar(0)*(25-Var(4)%2)),Ceil(Parent,FVar(1)*2)
HitFlag = MAFD
GuardFlag = MA
Priority = 1, Dodge
PauseTime = 1,IfElse(P2StateType=A&&Parent,Var(50)=1,1,0)+IfElse(P2MoveType=A,5,0)+IfElse(Parent,Var(39)/10%10>0,6,0)
Guard.PauseTime = 1,0
SparkXY = -Random%20, -35-Random%20
SparkNo = -1
Guard.SparkNo = s161
HitSound   = s20,IfElse((Parent,Var(26)=[2,3]),0,10)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-10.2
Guard.Velocity = -5
Air.Velocity = IfElse(Parent,Var(50)=1,0,-4),IfElse(Parent,Var(50)=1,-10.2,Parent,FVar(25))
AirGuard.Velocity = -3,-2.8
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
YAccel = .48
SprPriority = 4
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 32
EnvShake.Time = 6
EnvShake.Ampl = 4
EnvShake.Freq = 60
GetPower = 0, 0
GivePower = Ceil(IfElse(Parent,FVar(16)=0,1,Parent,FVar(16))*6), Ceil(IfElse(Parent,FVar(16)=0,1,Parent,FVar(16))*3)

[State -1]
Type = TargetLifeAdd
TriggerAll = P2Life != 0
TriggerAll = FVar(21) > P2Life
TriggerAll = HitCount = 1
Trigger1 = Parent,FVar(22) = 1
Value = Floor((Parent,FVar(0)*(25-Parent,Var(4)%2)/(Enemy,Const(Data.Defence)*0.01)*0.3))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = TargetLifeAdd
TriggerAll = P2Life != 0
TriggerAll = FVar(21) > P2Life
TriggerAll = HitCount = 2
Trigger1 = Parent,FVar(22) = 1
Value = Floor((Parent,FVar(0)*(25-Parent,Var(4)%2)/(Enemy,Const(Data.Defence)*0.01)*0.3))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = TargetLifeAdd
TriggerAll = P2Life != 0
TriggerAll = FVar(21) > P2Life
TriggerAll = HitCount = 3
Trigger1 = Parent,FVar(22) = 1
Value = Floor((Parent,FVar(0)*(25-Parent,Var(4)%2)/(Enemy,Const(Data.Defence)*0.01)*0.3))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = TargetLifeAdd
TriggerAll = P2Life != 0
TriggerAll = FVar(21) > P2Life
TriggerAll = HitCount = 4
Trigger1 = Parent,FVar(22) = 1
Value = Floor((Parent,FVar(0)*(25-Parent,Var(4)%2)/(Enemy,Const(Data.Defence)*0.01)*0.3))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = TargetLifeAdd
TriggerAll = P2Life != 0
TriggerAll = FVar(21) > P2Life
TriggerAll = HitCount = 5
Trigger1 = Parent,FVar(22) = 1
Value = Floor((Parent,FVar(0)*(25-Parent,Var(4)%2)/(Enemy,Const(Data.Defence)*0.01)*0.3))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = TargetLifeAdd
TriggerAll = P2Life != 0
TriggerAll = FVar(21) > P2Life
TriggerAll = HitCount = 6
Trigger1 = Parent,FVar(22) = 1
Value = Floor((Parent,FVar(0)*(25-Parent,Var(4)%2)/(Enemy,Const(Data.Defence)*0.01)*0.3))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = TargetLifeAdd
TriggerAll = P2Life != 0
TriggerAll = FVar(21) > P2Life
TriggerAll = HitCount = 7
Trigger1 = Parent,FVar(22) = 1
Value = Floor((Parent,FVar(0)*(25-Parent,Var(4)%2)/(Enemy,Const(Data.Defence)*0.01)*0.3))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = 1
FV = 21
Value = P2Life
IgnoreHitPause = 1

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit && HitCount = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit && HitCount = 2
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit && HitCount = 3
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit && HitCount = 4
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit && HitCount = 5
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit && HitCount = 6
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit && HitCount = 7
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount = 1))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount = 2))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount = 3))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount = 4))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount = 5))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount = 6))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ParentVarSet
Trigger1 = Time >= 0
V = 5
Value = Var(5)
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = BGPalFx
Trigger1 = Var(5)   = 31
Trigger1 = MoveHit = 1
Time = 1
Add = 256,-120,-120
InvertAll = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = MoveHit && HitCount = 1
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-45
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = MoveHit && HitCount = 2
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-45
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = MoveHit && HitCount = 3
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-45
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = MoveHit && HitCount = 4
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-45
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = MoveHit && HitCount = 5
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-45
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = MoveHit && HitCount = 6
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-45
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = MoveHit && HitCount = 7
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-45
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveContact = 1
Trigger2 = MoveReversed = 1
V = 1
Value = 1
IgnoreHitPause = 0
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = AnimTime = 0
Trigger2 = Parent,StateNo != [120,159]
Trigger2 = Parent,MoveType = H
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; ガンド
[Statedef 3060]
Type = A
MoveType = A
Physics = N
SprPriority = 5
Anim = 3053
velset = 20,0

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -2]
Type = AfterImage
Trigger1 = Time = 0
Time = 999999
Trans = Add
Length   = 20
TimeGap  = 1
FrameFap = 1
PalBright = 0 , 0 , 0
PalContrast = 50 , 50 , 255
PalAdd = 0 , 0 , 0
PalMul = .5 , .5 , .5
IgnoreHitPause = 1
Peresistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = AfterImageTime
trigger1 = movehit
time = 1
IgnoreHitPause = 1
Peresistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = HitDef
TriggerAll = IsHelper
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = animelem = 1
Trigger1 = NumHelper(340001) = 0
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(250-Parent,Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, -70-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
HitSound   = s10,IfElse((Parent,Var(26)=[2,3]),2,12)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = HitDef
TriggerAll = IsHelper
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = animelem = 1
Trigger1 = NumHelper(340001) = 1
Attr = A, SP
Damage = 999999
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, -70-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
HitSound   = s10,IfElse((Parent,Var(26)=[2,3]),2,12)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = VarSet
TriggerAll = TeamMode = Single || TeamMode = Turns
Trigger1 = P2StateNo != [120,159]
Trigger2 = P2StateNo != [5200,5201]
V = 52
Value = P2Life
IgnoreHitPause = 1

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 1))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = BGPalFx
Trigger1 = Var(5)   = 31
Trigger1 = MoveHit = 1
Time = 1
Add = 256,-120,-120
InvertAll = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 1))
StateNo = 6000
ID = 6002
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 37
MoveType = I
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state -1]
Type = destroyself
Trigger1 = movehit = 1
;value = 2505

[State -1]
Type = DestroySelf
Trigger1 = time > 30
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; カッティング・セブンカラーズ
[Statedef 3113]
Type = A
MoveType = A
Physics = N
SprPriority = 5
Anim = 3110
velset = 0,0

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = time = 0
V = 29
Value = enemy,life
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Trans
Trigger1 = 1
Trans = add

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s3100, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
Volume = 255
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;VarSet
Trigger1 = Time = 110
FV = 7
Value = 0
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = Varadd
Trigger1 = Time >= 111
Trigger1 = Fvar(7) < 1
FV = 7
Value = 0.1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type     = AngleDraw
Trigger1 = 1
Scale    = 2,(1-Fvar(7))/1

[State -1]
Type = AngleSet
Trigger1 = 1
Value = -45

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = HitDef
TriggerAll = IsHelper
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = Time%8 = 0
;Trigger1 = NumHelper(340001) = 0
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(25-Parent,Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, 90-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
HitSound   = s10,IfElse((Parent,Var(26)=[2,3]),2,12)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = ifelse(time < 117,0,1)
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
;EnvShake.Time = 8
;EnvShake.Ampl = 6
;EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = null;HitDef
TriggerAll = IsHelper
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = Time%8 = 0
Trigger1 = NumHelper(340001) = 1
Attr = A, SP
Damage = 999999
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, -70-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
HitSound   = s10,IfElse((Parent,Var(26)=[2,3]),2,12)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = ifelse(time < 115,0,1)
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = targetstate
TriggerAll = NumTarget
Trigger1 = MoveHit
Value = 3111

[State -1]
Type = targetstate
TriggerAll = NumTarget
Trigger1 = time >= 117
Value = 3122

[State -1]
Type = null;VarSet
Trigger1 = time = 117
V = 29
Value = Var(29)-enemy,life
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = numtarget > 0
Trigger1 = time = 122
V = 30
Value = target,life
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = time = 122
V = 5
Value = numtarget
IgnoreHitPause = 1
Persistent = 0

[state -1]
Type = targetlifeadd
Trigger1 = var(5) > 0
Trigger1 = time = 122
Trigger1 = NumHelper(340001) = 0
value = -500+(Var(29)-Var(30))
absolute = 1

[state -1]
Type = targetlifeadd
Trigger1 = var(5) > 0
Trigger1 = time = 122
Trigger1 = NumHelper(340001) = 1
value = -99999
absolute = 1

[State -1]
Type = VarSet
TriggerAll = TeamMode = Single || TeamMode = Turns
Trigger1 = P2StateNo != [120,159]
Trigger2 = P2StateNo != [5200,5201]
V = 52
Value = P2Life
IgnoreHitPause = 1

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = BGPalFx
Trigger1 = Var(5)   = 31
Trigger1 = MoveHit = 1
Time = 1
Add = 256,-120,-120
InvertAll = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6000
ID = 6002
PosType = P2
Pos = 0,90-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = time > 123
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 宝石魔術・氷ヘルパー
[Statedef 3114]
Type = A
MoveType = A
Physics = A
SprPriority = 5
Anim = 2500
velset = 3,-7

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s1000, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 105, 1]
type = StateTypeSet
trigger1 = pos y > -50
Physics = N
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = null;HitDef
TriggerAll = IsHelper
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = animelem = 1
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(25-Parent,Var(4)%2)),Ceil(Parent,FVar(1)*5)
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, -70-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
HitSound   = s20,IfElse((Parent,Var(26)=[2,3]),0,10)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = VarSet
TriggerAll = TeamMode = Single || TeamMode = Turns
Trigger1 = P2StateNo != [120,159]
Trigger2 = P2StateNo != [5200,5201]
V = 52
Value = P2Life
IgnoreHitPause = 1

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 1))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarSet
Trigger1 = MoveHit = 1
Trigger1 = Parent,FVar(1) > 0.50
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State -1]
Type = BGPalFx
Trigger1 = Var(5)   = 31
Trigger1 = MoveHit = 1
Time = 1
Add = 256,-120,-120
InvertAll = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 1))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[state -1]
Type = ChangeState
Trigger1 = movehit = 1
value = 2505

[state -1]
Type = PosSet
trigger1 = pos y >= -5
y = 0

[state -1]
Type = velSet
trigger1 = pos y >= -5
y = 0
x = 0

[state -1]
Type = ChangeState
Trigger1 = pos y >= -5
value = 3115

[State -1]
Type = DestroySelf
Trigger1 = pos y >= -5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; 宝石魔術・氷ヘルパー２
[Statedef 3115]
Type = A
MoveType = A
Physics = N
SprPriority = 5
Anim = 3107
velset = 0,0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s1000, 3
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state -1]
Type = PosSet
trigger1 = pos y > 0
y = 0

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = animelem = 21
Value = s2500, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;HitDef
TriggerAll = IsHelper
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = Time = 8
Trigger2 = Time = 13
Trigger3 = Time = 18
Trigger4 = Time = 23
Trigger5 = Time = 28
Trigger6 = Time = 33
Trigger7 = Time = 38
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(10-Parent,Var(4)%2)),Ceil(Parent,FVar(1)*5)
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, -70-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
HitSound   = s20,IfElse((Parent,Var(26)=[2,3]),0,10)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = TargetLifeAdd
TriggerAll = P2Life != 0
TriggerAll = Var(52) > P2Life
Trigger1 = Parent,NumExplod(22040) > 0
Value = Floor((Var(52)-P2Life)*0.3)
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = TeamMode = Single || TeamMode = Turns
Trigger1 = P2StateNo != [120,159]
Trigger2 = P2StateNo != [5200,5201]
V = 52
Value = P2Life
IgnoreHitPause = 1

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 1))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 2))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 3))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 4))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 5))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 6))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ParentVarAdd
Trigger1 = ((MoveHit = 1 && HitCount= 7))
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 2))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 3))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 4))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 5))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 6))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = ((MoveHit && HitCount= 7))
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ParentVarSet
Trigger1 = Time >= 0
V = 5
Value = Var(5)
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = BGPalFx
Trigger1 = Var(5)   = 31
Trigger1 = MoveHit = 1
Time = 1
Add = 256,-120,-120
InvertAll = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 1))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 2))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 3))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 4))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 5))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 6))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = ((MoveHit && HitCount= 7))
StateNo = 6003
ID = 6003
PosType = P2
Pos = 0,-0-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 37
MoveType = I
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; カッティング・セブンカラーズ
[Statedef 3116]
Type = A
MoveType = A
Physics = N
SprPriority = 5
Anim = 3108
velset = 0,0

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = time = 0
V = 29
Value = enemy,life
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Trans
Trigger1 = 1
Trans = add

[State -1]
Type = null;VarSet
Trigger1 = Time = 110
FV = 7
Value = 0
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = null;Varadd
Trigger1 = Time >= 111
Trigger1 = Fvar(7) < 1
FV = 7
Value = 0.1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type     = AngleDraw
Trigger1 = 1
Scale    = 1,1-Fvar(7)

[State -1]
Type = AngleSet
Trigger1 = 1
Value = -45

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = null;HitDef
TriggerAll = IsHelper
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = Time%8 = 0
;Trigger1 = NumHelper(340001) = 0
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(25-Parent,Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, -70-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
HitSound   = s10,IfElse((Parent,Var(26)=[2,3]),2,12)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = ifelse(time < 117,0,1)
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
;EnvShake.Time = 8
;EnvShake.Ampl = 6
;EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = null;HitDef
TriggerAll = IsHelper
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = Time%8 = 0
Trigger1 = NumHelper(340001) = 1
Attr = A, SP
Damage = 999999
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, -70-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
HitSound   = s10,IfElse((Parent,Var(26)=[2,3]),2,12)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = ifelse(time < 115,0,1)
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = null;VarSet
Trigger1 = time = 117
V = 29
Value = Var(29)-enemy,life
IgnoreHitPause = 1
Persistent = 0

[state -1]
Type = targetlifeadd
Trigger1 = numtarget > 0
Trigger1 = time = 122
Trigger1 = NumHelper(340001) = 0
value = -500+(Var(29)-target,life)
absolute = 1

[state -1]
Type = targetlifeadd
Trigger1 = numtarget > 0
Trigger1 = time = 122
Trigger1 = NumHelper(340001) = 1
value = -99999
absolute = 1

[State -1]
Type = VarSet
TriggerAll = TeamMode = Single || TeamMode = Turns
Trigger1 = P2StateNo != [120,159]
Trigger2 = P2StateNo != [5200,5201]
V = 52
Value = P2Life
IgnoreHitPause = 1

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = BGPalFx
Trigger1 = Var(5)   = 31
Trigger1 = MoveHit = 1
Time = 1
Add = 256,-120,-120
InvertAll = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6000
ID = 6002
PosType = P2
Pos = 0,90-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Time = 104
Value = 3111

[State -1]
Type = DestroySelf
Trigger1 = time > 123
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
; カッティング・セブンカラーズ
[Statedef 3117]
Type = A
MoveType = A
Physics = N
SprPriority = 5
Anim = 3112
velset = 0,0

[State -1]
Type = VarSet
Trigger1 = Parent,Var(0)%10 = 1
V = 0
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = time = 0
V = 29
Value = enemy,life
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Trans
Trigger1 = 1
Trans = add

[State -1]
Type = null;VarSet
Trigger1 = Time = 110
FV = 7
Value = 0
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = null;Varadd
Trigger1 = Time >= 111
Trigger1 = Fvar(7) < 1
FV = 7
Value = 0.1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type     = AngleDraw
Trigger1 = 1
Scale    = 1,1-Fvar(7)

[State -1]
Type = AngleSet
Trigger1 = 1
Value = -45

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = -1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = null;HitDef
TriggerAll = IsHelper
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = Time%8 = 0
;Trigger1 = NumHelper(340001) = 0
Attr = A, SP
Damage = Ceil(Parent,FVar(0)*(25-Parent,Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, -70-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
HitSound   = s10,IfElse((Parent,Var(26)=[2,3]),2,12)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = ifelse(time < 117,0,1)
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
;EnvShake.Time = 8
;EnvShake.Ampl = 6
;EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = null;HitDef
TriggerAll = IsHelper
TriggerAll = Parent,Var(25)/10%10 < 3
Trigger1 = Time%8 = 0
Trigger1 = NumHelper(340001) = 1
Attr = A, SP
Damage = 999999
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HL
Priority  = 2, Dodge
PauseTime = 0,IfElse(P2StateType=A&&Parent,Var(50)=1,9,8)+IfElse(P2MoveType=A,4,0)+IfElse(Parent,Var(39)/10%10>0,5,0)
SparkXY = -Random%20, -70-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
HitSound   = s10,IfElse((Parent,Var(26)=[2,3]),2,12)
GuardSound = s120,IfElse((Parent,Var(26)=[2,3]),0,10)
Ground.Velocity = 0
Guard.Velocity = -5
Air.Velocity = -1.2*Parent,Var(50),IfElse(Parent,Var(50)=1,-3.6,Parent,FVar(25))
AirGuard.Velocity = -5,-5
Down.Velocity = -2.4,-2.2
SprPriority = 5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
YAccel = .45
Kill = ifelse(time < 115,0,1)
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 54
EnvShake.Time = 8
EnvShake.Ampl = 6
EnvShake.Freq = 70
GetPower = 0, 0
GivePower = 25, 12

[State -1]
Type = null;VarSet
Trigger1 = time = 117
V = 29
Value = Var(29)-enemy,life
IgnoreHitPause = 1
Persistent = 0

[state -1]
Type = targetlifeadd
Trigger1 = numtarget > 0
Trigger1 = time = 122
Trigger1 = NumHelper(340001) = 0
value = -500+(Var(29)-target,life)
absolute = 1

[state -1]
Type = targetlifeadd
Trigger1 = numtarget > 0
Trigger1 = time = 122
Trigger1 = NumHelper(340001) = 1
value = -99999
absolute = 1

[State -1]
Type = VarSet
TriggerAll = TeamMode = Single || TeamMode = Turns
Trigger1 = P2StateNo != [120,159]
Trigger2 = P2StateNo != [5200,5201]
V = 52
Value = P2Life
IgnoreHitPause = 1

[State -1]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = BGPalFx
Trigger1 = Var(5)   = 31
Trigger1 = MoveHit = 1
Time = 1
Add = 256,-120,-120
InvertAll = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6000
ID = 6002
PosType = P2
Pos = 0,90-Ceil(P2BodyDist Y)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = time > 123
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

