; カンフーマンの入力コマンド定義ファイルです。
; コマンドの入力キーを設定するパートと、技を実行するための条件を設定するパートに分かれています。
;------------------------------------------------------------------------------
;==============================================================================
; 入力キーの設定パート
;==============================================================================
;------------------------------------------------------------------------------
;■設定はこの形が決まり事です。詳細は以下参照。
;
;[Command]
;name = "***"
;command = ###
;time = &&&
;
;■コマンドの名前：「name = "***"」という風に入れます。***に文字を入れてください。
; 　　　　　　　　アルファベットは大文字と小文字でも区別されます。日本語も可能です。
;
;■指定方法：「command = ###」という風に入れます。
;　　　　　　###に下記のキーを組み合わせ入力するコマンドを設定してください。
;
;　　方向キー：　B, DB, D, DF, F, UF, U, UB　（全て大文字で）
;　　　　　　　　B=Back（後）・D=Down（下）・F=Forward（前）・U=Up（上）になっています。
;
;　　ボタン　：　a, b, c, x, y, z, s 　　　　（全て小文字で）
; 
;　※特殊文字
;
;　　スラッシュ（ / ）：ボタンを押しっぱなしにする場合はこれを入れます。
;　　　　　　　　例：command = /F　　　（前キーを押したままにする）
;　　　　　　　　　　command = haruhi-H.cnsB,y　　（後キーを押したままＹボタンを入力）
;
;　　チルダ　　（ ~ ）：ボタンが離される事を認識させる場合はこれを入れます。
;　　　　　　　　例：command = haruhi-H.cnsc　　　（Ｃボタンを離す）
;　　　　　　　　　　command = ~DB,DF,x（斜め後下を離して斜め前下=>Ｘボタンの順番に入力）
;
;　　　　　　　　※数値を追加する事で、ボタンを離すまでの時間、いわゆる『溜め』を設定出来ます。
;　　　　　　　　例：command = ~20z　　（Ｚボタンを押したままにし、２０フレーム後に離す）
;　　　　　　　　　　command = ~40B,F,b（後キーを押したままにし、４０フレーム後に離して前キー=>Ｂボタンの順番に入力）
;
;　　ドル　　　（ $ ）：複数の方向キー要素を入力出来るようにする場合はこれを入れます。
;　　　　　　　　例：command = $U　　　（上・斜め前上・斜め後上のどれからで始めても良い）
;　　　　　　　　　　command = $DF 　　（下・斜め前下・前のどれからで始めても良い）
;
;　　プラス　　（ + ）：ボタンを同時押しする場合はこれを入れます。
;　　　　　　　　例：command = a+b 　　（ＡボタンとＢボタンを同時押しします）
;　　　　　　　　　　command = x+y+z 　（ＸボタンとＹボタンとＺボタンを同時押しします）
;　　　　　　　　　　command = F+c 　　（前キーとＣボタンを同時押しします）
;
;　※これらの特殊文字は、組み合わせて使用する事も可能です。
;　　　　　　　　例：command = ~30$D,a+b
;　　　　　　　　　　　　　（下要素を３０フレーム溜めて離した後にＡボタンとＢボタンを同時押しします）
;
;■入力コマンド受付時間：「time = &&&」という風に入れます。オプションなので省略可能。
;　　　　　　　　　　　　&&&にコマンドを入力出来る時間を入れてください。時間はフレーム数です（１フレーム＝1/60秒）。
;　　　　　　　　例：time = 24　（入力受付時間を２４フレーム（0.4秒）に設定）
;
; 後は実際に登録されているものを参照してください。
;==============================================================================

;-| ボタン配置 |-----------------------------------------------------
;各ボタンの配置を簡単に変更できます。
;このキャラクターのボタン配置を変えたいときなどに使います。
;x = x を x = a に変えれば、xがaに変わります。

[Remap]
x = x
y = y
z = z
a = a
b = b
c = c
s = s

;-| 標準化 |-------------------------------------------------------
[Defaults]
; timeを記述しなかった場合、以下の値が参照されます。最小値は1です。
command.time = 15

; buffer.timeの値です。1～30まで設定できます。
; 普通は1です。
command.buffer.time = 1

;-| CPUアルゴリズム用コマンド |------------------------------
;CPUアルゴリズムを使う際に便利な記述です。
;AIを使わないなら必要ありません。
;これらのコマンドは人間には入力できないものにする必要があります。






[Command]
name = "236by"
command = ~D, DF, F, b+y

[Command]
name = "214by"
command = ~D, DB, B, b+y

[Command]
name = "236yz"
command = ~D, DF, F, y+z

[Command]
name = "214yz"
command = ~D, DB, B, y+z

[Command]
name = "236bc"
command = ~D, DF, F, b+c

[Command]
name = "214bc"
command = ~D, DB, B, b+c

[Command]
name = "41236yz"
command = ~B, DB, D, DF, F, y+z

[Command]
name = "236a"
command = ~D, DF, F, a

[Command]
name = "236b"
command = ~D, DF, F, b

[Command]
name = "236c"
command = ~D, DF, F, c

[Command]
name = "623a"
command = ~F, D, DF, a

[Command]
name = "623b"
command = ~F, D, DF, b

[Command]
name = "623c"
command = ~F, D, DF, c

[Command]
name = "236x"
command = ~D, DF, F, x

[Command]
name = "236y"
command = ~D, DF, F, y

[Command]
name = "236z"
command = ~D, DF, F, z

[Command]
name = "421x"
command = ~B, D, DB, x

[Command]
name = "421y"
command = ~B, D, DB, y

[Command]
name = "421z"
command = ~B, D, DB, z

[Command]
name = "214x"
command = ~D, DB, B, x

[Command]
name = "214y"
command = ~D, DB, B, y

[Command]
name = "214zstart"
command = ~D, DB, B, z+s

[Command]
name = "214z"
command = ~D, DB, B, z

[Command]
name = "623x"
command = ~F, D, DF, x

[Command]
name = "623y"
command = ~F, D, DF, y

[Command]
name = "623z"
command = ~F, D, DF, z

[Command]
name = "214a"
command = ~D, DB, B, a


[Command]
name = "214b"
command = ~D, DB, B, b

[Command]
name = "214c"
command = ~D, DB, B, c

[Command]
name = "22x"
command = ~D, D, x

[Command]
name = "22y"
command = ~D, D, y

[Command]
name = "22z"
command = ~D, D, z

[Command]
name = "22a"
command = ~D, D, a

[Command]
name = "22b"
command = ~D, D, b

[Command]
name = "22c"
command = ~D, D, c

[Command]
name = "2x"
command = /D,x

[Command]
name = "xy"
command =  x+y

[Command]
name = "6x"
command = /F,x

[Command]
name = "6z"
command = /F,z

[Command]
name = "2z"
command = /B,z

[Command]
name = "6y"
command = /F,y

[Command]
name = "4x"
command = /B,x

[Command]
name = "6x"
command = /F,x

[Command]
name = "2z"
command = /D,z

[Command]
name = "2y"
command = /D,y

[Command]
name = "jump"    
command = ~$D,$U
time = 8


[Command]
name = "xz"
command = x+z

[Command]
name = "デバック"
command = ~D, DF, F, start

;---|AI Commands|-----------------------------------------------------------
[Command]
Name = "AI_00"
Command = a, a
Time = 0
[Command]
Name = "AI_01"
Command = a, b
Time = 0
[Command]
Name = "AI_02"
Command = a, c
Time = 0
[Command]
Name = "AI_03"
Command = a, x
Time = 0
[Command]
Name = "AI_04"
Command = a, y
Time = 0
[Command]
Name = "AI_05"
Command = a, z
Time = 0
[Command]
Name = "AI_06"
Command = a, s
Time = 0
[Command]
Name = "AI_07"
Command = b, a
Time = 0
[Command]
Name = "AI_08"
Command = b, b
Time = 0
[Command]
Name = "AI_09"
Command = b, c
Time = 0
[Command]
Name = "AI_10"
Command = b, x
Time = 0
[Command]
Name = "AI_11"
Command = b, y
Time = 0
[Command]
Name = "AI_12"
Command = b, z
Time = 0
[Command]
Name = "AI_13"
Command = b, s
Time = 0
[Command]
Name = "AI_14"
Command = c, a
Time = 0
[Command]
Name = "AI_15"
Command = c, b
Time = 0
[Command]
Name = "AI_16"
Command = c, c
Time = 0
[Command]
Name = "AI_17"
Command = c, x
Time = 0
[Command]
Name = "AI_18"
Command = c, y
Time = 0
[Command]
Name = "AI_19"
Command = c, z
Time = 0
[Command]
Name = "AI_20"
Command = c, s
Time = 0
[Command]
Name = "AI_21"
Command = x, a
Time = 0
[Command]
Name = "AI_22"
Command = x, b
Time = 0
[Command]
Name = "AI_23"
Command = x, c
Time = 0
[Command]
Name = "AI_24"
Command = x, x
Time = 0
[Command]
Name = "AI_25"
Command = x, y
Time = 0
[Command]
Name = "AI_26"
Command = x, z
Time = 0
[Command]
Name = "AI_27"
Command = x, s
Time = 0
[Command]
Name = "AI_28"
Command = y, a
Time = 0
[Command]
Name = "AI_29"
Command = y, b
Time = 0
[Command]
Name = "AI_30"
Command = y, c
Time = 0
[Command]
Name = "AI_31"
Command = y, x
Time = 0
[Command]
Name = "AI_32"
Command = y, y
Time = 0
[Command]
Name = "AI_33"
Command = y, z
Time = 0
[Command]
Name = "AI_34"
Command = y, s
Time = 0
[Command]
Name = "AI_35"
Command = s, a
Time = 0
[Command]
Name = "AI_36"
Command = s, b
Time = 0
[Command]
Name = "AI_37"
Command = s, c
Time = 0
[Command]
Name = "AI_38"
Command = s, x
Time = 0
[Command]
Name = "AI_39"
Command = s, y
Time = 0
[Command]
Name = "AI_40"
Command = s, z
Time = 0
[Command]
Name = "AI_41"
Command = s, s
Time = 0
[Command]
Name = "AI_42"
Command = U, U
Time = 0
[Command]
Name = "AI_43"
Command = U, F
Time = 0
[Command]
Name = "AI_44"
Command = U, D
Time = 0
[Command]
Name = "AI_45"
Command = U, B
Time = 0
[Command]
Name = "AI_46"
Command = F, U
Time = 0
[Command]
Name = "AI_47"
Command = F, F
Time = 0
[Command]
Name = "AI_48"
Command = F, D
Time = 0
[Command]
Name = "AI_49"
Command = F, B
Time = 0
;------------------------------------------------------------------------------
;-| キー２回連続入力 |---------------------------------------------------------
[Command]
name = "FF"     ;要求済み (キーの変更は可能ですが名前を変えたり無効にしてはいけません)
command = F, F
time = 10

[Command]
name = "BB"     ;要求済み (キーの変更は可能ですが名前を変えたり無効にしてはいけません)
command = B, B
time = 10

;------------------------------------------------------------------------------
;-| 同時押し |-----------------------------------------------------------------
[Command]
name = "recovery"   ;要求済み (キーの変更は可能ですが名前を変えたり無効にしてはいけません)
command = x+y
time = 1

[Command]
name = "recovery"   ;要求済み (キーの変更は可能ですが名前を変えたり無効にしてはいけません)
command = a+b
time = 1

[Command]
name = "roll"
command = x+a
time = 1

[Command]
name = "throw"
command = y＋z
time = 1

;------------------------------------------------------------------------------
;-| 方向キー＋ボタン |---------------------------------------------------------
[Command]
name = "down_a"
command = /$D,a
time = 1

[Command]
name = "down_b"
command = /$D,b
time = 1

[Command]
name = "down_z"
command = /$D,z
time = 1



;------------------------------------------------------------------------------
;-| ボタン単発 |---------------------------------------------------------------
[Command]
name = "fwd"
command = F
time = 1

[Command]
name = "back"
command = B
time = 1

[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "start"
command = s
time = 1

;---------------------------
;(パワー溜めステート用にコマンドを追加しています)
[Command]
name = "holdz"
command = /z

[Command]
name = "holdx"
command = /x

[Command]
name = "holda"
command = /a

[Command]
name = "holdc"
command = /c
;------------------------------------------------------------------------------
;-| 方向キー押しっぱなし |-----------------------------------------------------
[Command]
name = "holdfwd"   ;要求済み (キーの変更は可能ですが名前を変えたり無効にしてはいけません)
command = /$F
time = 1

[Command]
name = "holdback"  ;要求済み (キーの変更は可能ですが名前を変えたり無効にしてはいけません)
command = /$B
time = 1

[Command]
name = "holdup"    ;要求済み (キーの変更は可能ですが名前を変えたり無効にしてはいけません)
command = /$U
time = 1

[Command]
name = "holddown"  ;要求済み (キーの変更は可能ですが名前を変えたり無効にしてはいけません)
command = /$D
time = 1

;------------------------------------------------------------------------------
;==============================================================================
; 技を実行するための条件の設定（ステートエントリーパート）
;==============================================================================
;------------------------------------------------------------------------------
; ここから下は「どのコマンドでどの番号のステートをどういう条件で出せるか」を設定する場所です。
;（ステートに関してはCNSファイルを参照）
; 
;■設定は基本的にこの形になります。
;
; [State -1, Label]                  ;「Label」の部分はただのラベルです。何でも良いです。それ以外は変更不可。
; type = ChangeState                 ;「別のステートに変更する」という意味のステートコントローラ
; value = new_state_number           ;出したい技のステート番号を入れます
; trigger1 = command = command_name  ;入力キー設定パートで登録したコマンドの名前をどれか入れます
; . . .  (any additional triggers)   ;trigger（条件を指定するトリガー）を追加出来ます
;
;■triggerに使える基本的な条件（通常は「トリガー」と呼ばれています）
;
;   - StateType    - キャラクターがどの状態の時にそのステートを出せるかどうかを決められます。
;                    S=立った状態・C=座った状態・A=空中にいる状態・L=横に倒れた状態、の４つが決まり事です。
;                    CNSのStatedefの下にある「Type = *」の項目が状態の意味なので、これをこのトリガーで判断します。
;
;   - Ctrl         - コントロールが可能か不可能かどちらかの時にそのステートを出せるかどうかを決められます。
;                    0=コントロール不可能状態・1=コントロール可能状態、ですが通常は Ctrl = 1 ( = 1 省略可能)が基本。
;
;   - StateNo      - 別の番号のステートから出せる事が可能になります。
;                    これを応用してスーパーキャンセルも可能です。
;
;   - MoveContact  - 物理攻撃が相手に当たった時（攻撃がヒットした時、もしくはガードされた時）に、
;                    そのステートを出せるかどうかを決められます。２種類４パターンあります。
;                    MoveContact or MoveContact = 1  （攻撃が当たった時）
;                    !MoveContact or MoveContact = 0 （攻撃が当たってない時）
;                    これを応用してスーパーキャンセルも可能です。
;
;　※上の４つ以外にもありますが、他のトリガーはM.U.G.E.N本体docsフォルダの中の
;　　CNSドキュメンテーションを参照してください。
;
;■ステートエントリーの順序
;
; ChangeStateの登録の順番は重要です。上に来れば来るほどコマンド入力の優先度が高くなります。
;
; 引用になりますが、例えば「波動拳コマンドのChangeState（↓＼→＋パンチ）」を
;「昇龍拳コマンドのChangeState（→↓＼＋パンチ）」よりも上に登録した場合、
; ゲーム中では昇龍拳を出そうとしても波動拳が誤って暴発しやすくなってしまいます。
; 防止するためには、「波動拳のChangeState」を「昇龍拳のChangeState」よりも下に登録しなくてはなりません。
;「レバーを前に入れて出す特殊技」と「投げ技」の関係なども同様です。
;
; 順番をよく考えて登録しましょう。
;
;■AI(CPU)はどう動くのか
;MUGENの標準CPUは相手に近づき適当に攻撃を繰り出すだけなので、AIスイッチによる制御が必要なこともあります。
;
;■[Statedef -1]とは？
;
; この部分はCNSプログラミングの拡張部分の、常時監視ステートになります。
; どのいかなる状態でも設定した記述が常に有効になるステートです（CNSの[Statedef -2]と似たような部分）。
;
; 必要な記述と行なので、絶対に消さないでください。
;
;==============================================================================
[Statedef -1]

;デバック（確認終わったら必ず記述を消すこと）
;[State -1, Stand Light Punch]
;type = ChangeState
;value = 4000
;;triggerall = var(16) = 800
;triggerall = var(58) = 0
;triggerall = var(20) = 0
;triggerall = command = "デバック"
;triggerall = command != "holddown"
;triggerall = statetype = S
;trigger1 = ctrl
;trigger2 = stateno = 426 || stateno = 427 || stateno = 428
;trigger2 = movehit
;trigger2 = time >= 0

;==============================================================================
一撃必殺技
;==============================================================================
;失恋
[State -1, Stand Light Punch]
type = ChangeState
value = 3900
triggerall = fvar(16) = 800
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) != 7
triggerall = command = "236by"
triggerall = command != "holddown"
triggerall = statetype = S
triggerall = var(12) = 1
trigger1 = ctrl
trigger2 = stateno = 426 ;なぎ払い
trigger2 = movecontact
trigger3 = stateno = 1100 || stateno = 1110 || stateno = 1120;スライディングキック
trigger3 = movecontact

;これしかっないのかよっ…！
[State -1, Stand Light Punch]
type = ChangeState
value = 4000
triggerall = fvar(16) = 800
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) != 7
triggerall = command = "214by"
triggerall = command != "holddown"
triggerall = statetype = S
triggerall = var(12) = 1
trigger1 = ctrl


;アンハッピーエンドワールド
[State -1, Stand Light Punch]
type = ChangeState
value = 3950
triggerall = fvar(16) = 800
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) != 7
triggerall = command = "236by"
triggerall = command != "holddown"
triggerall = statetype = S
triggerall = var(12) = 0
triggerall = life >= 400
trigger1 = ctrl
trigger2 = stateno = 426 ;なぎ払い
trigger2 = movecontact
trigger3 = stateno = 1100 || stateno = 1110 || stateno = 1120;スライディングキック
trigger3 = movecontact

;失恋
[State -1, Stand Light Punch]
type = ChangeState
value = 3900
triggerall = fvar(16) = 800
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) != 7
triggerall = command = "236by"
triggerall = command != "holddown"
triggerall = statetype = S
triggerall = var(12) = 0
triggerall = life < 400
trigger1 = ctrl
trigger2 = stateno = 426 ;なぎ払い
trigger2 = movecontact
trigger3 = stateno = 1100 || stateno = 1110 || stateno = 1120;スライディングキック
trigger3 = movecontact
;==============================================================================
超必殺技
;==============================================================================
;感染
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3500
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(12)  = 0
triggerall = power >= 1000 
triggerall = command = "41236yz"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
trigger1 = ctrl

;鉄拳制裁
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3800
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = power >= 1000 
triggerall = command = "236yz"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221;立ち通常攻撃
trigger2 = movecontact
trigger3 = stateno = 426;なぎ払い
trigger3 = movecontact
trigger4 = stateno = 1100 || stateno = 1110 || stateno = 1120;スライディングキック
trigger4 = movecontact
trigger5 = stateno = 1501 || stateno = 1511 ;スコップ連撃
trigger5 = movecontact

;防火シャッター
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3600
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = power >= 1000 
triggerall = command = "214bc"
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(3605) = 0
triggerall = var(40) != 7
triggerall = var(12) = 1
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221;立ち通常攻撃
trigger2 = movecontact
trigger3 = stateno = 426;なぎ払い
trigger3 = movecontact
trigger4 = stateno = 1100 || stateno = 1110 || stateno = 1120;スライディングキック
trigger4 = movecontact
trigger5 = stateno = 1501 || stateno = 1511 ;スコップ連撃
trigger5 = movecontact

;キャンピングカーアタック
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3700
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) != 7
triggerall = var(12) = 1
triggerall = power >= 1000 
triggerall = command = "214yz"
triggerall = movetype != H
triggerall = statetype != A
trigger1 = ctrl

;水鉄砲
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3000
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = power >= 1000 
triggerall = command = "236yz"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 0
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221;立ち通常攻撃
trigger2 = movecontact
trigger3 = stateno = 426;なぎ払い
trigger3 = movecontact
trigger4 = stateno = 1100 || stateno = 1110 || stateno = 1120;スライディングキック
trigger4 = movecontact
trigger5 = stateno = 1501 || stateno = 1511 ;スコップ連撃
trigger5 = movecontact


;カーアタック
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3100
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) != 7
triggerall = var(12) = 0
triggerall = power >= 1000 
triggerall = command = "214yz"
triggerall = movetype != H
triggerall = statetype != A
trigger1 = ctrl

;どうしてだよ！
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3300
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = power >= 1000 
triggerall = command = "236bc"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221;立ち通常攻撃
trigger2 = movecontact
trigger3 = stateno = 426;なぎ払い
trigger3 = movecontact
trigger4 = stateno = 1100 || stateno = 1110 || stateno = 1120;スライディングキック
trigger4 = movecontact
trigger5 = stateno = 1501 || stateno = 1511 ;スコップ連撃
trigger5 = movecontact

;バリケード
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3200
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = power >= 1000 
triggerall = command = "214bc"
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(3205) = 0
triggerall = var(40) != 7
triggerall = var(12) = 0
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221;立ち通常攻撃
trigger2 = movecontact
trigger3 = stateno = 426;なぎ払い
trigger3 = movecontact
trigger4 = stateno = 1100 || stateno = 1110 || stateno = 1120;スライディングキック
trigger4 = movecontact
trigger5 = stateno = 1501 || stateno = 1511 ;スコップ連撃
trigger5 = movecontact




;==============================================================================
必殺技
;==============================================================================
;おやすみなさい
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1200
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "214a"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
trigger1 = ctrl


[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1210
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "214b"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
trigger1 = ctrl

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1220
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "214c"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221;通常攻撃
trigger2 = movecontact
trigger3 = stateno = 426;なぎ払い
trigger3 = movecontact 
trigger4 = stateno = 1501 || stateno = 1511 ;スコップ連撃
trigger4 = movecontact

;おやすみなさい空中
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1230
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "214a"
triggerall = movetype != H
triggerall = statetype != S
triggerall = var(40) != 7
trigger1 = ctrl
trigger2 = stateno = 600 || stateno = 610 || stateno = 620;空中通常
trigger2 = movecontact

;おやすみなさい空中
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1230
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "214b"
triggerall = movetype != H
triggerall = statetype != S
triggerall = var(40) != 7
trigger1 = ctrl
trigger2 = stateno = 600 || stateno = 610 || stateno = 620;空中通常
trigger2 = movecontact

;おやすみなさい空中
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1230
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "214c"
triggerall = movetype != H
triggerall = statetype != S
triggerall = var(40) != 7
trigger1 = ctrl
trigger2 = stateno = 600 || stateno = 610 || stateno = 620;空中通常
trigger2 = movecontact


;------------------------------------------------------------------------------
;超反射神経
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2600
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "421x"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
trigger1 = ctrl

;超反射神経
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2610
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "421y"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
trigger1 = ctrl


;超反射神経
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2620
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "421z"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
trigger1 = ctrl

;スライディングキック
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1100
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "214x"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221;立ち通常攻撃
trigger2 = movecontact
trigger3 = stateno = 426;なぎ払い
trigger3 = movecontact 
trigger4 = stateno = 410 || stateno = 400 || stateno = 420;座り通常
trigger4 = movecontact
trigger5 = stateno = 1511 ;スコップ連撃
trigger5 = movecontact


[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1110
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "214y"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221;立ち通常攻撃
trigger2 = movecontact
trigger3 = stateno = 426;なぎ払い
trigger3 = movecontact 
trigger4 = stateno = 410 || stateno = 400 || stateno = 420;座り通常
trigger4 = movecontact
trigger5 = stateno = 1511 ;スコップ連撃
trigger5 = movecontact


[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1120
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "214z"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221;立ち通常攻撃
trigger2 = movecontact
trigger3 = stateno = 426;なぎ払い
trigger3 = movecontact 
trigger4 = stateno = 410 || stateno = 400 || stateno = 420;座り通常
trigger4 = movecontact
trigger5 = stateno = 1511 ;スコップ連撃
trigger5 = movecontact
------------------------------------------------------
;くるみたいくう！
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1300
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "623x"
triggerall = movetype != H
triggerall = var(40) != 7
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221;立ち通常
trigger2 = movecontact
trigger3 = stateno = 600 || stateno = 610 || stateno = 620;空中通常
trigger3 = movecontact
trigger4 = stateno = 426;なぎ払い
trigger4 = movecontact 
trigger5 = stateno = 211;エリアルレイヴ
trigger5 = movecontact


[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1310
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "623y"
triggerall = movetype != H
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = var(40) != 7
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221;立ち通常
trigger2 = movecontact
trigger3 = stateno = 600 || stateno = 610 || stateno = 620;空中通常
trigger3 = movecontact
trigger4 = stateno = 426;なぎ払い
trigger4 = movecontact 
trigger5 = stateno = 211;エリアルレイヴ
trigger5 = movecontact

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1320
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "623z"
triggerall = movetype != H
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = var(40) != 7
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221;立ち通常
trigger2 = movecontact
trigger3 = stateno = 600 || stateno = 610 || stateno = 620;空中通常
trigger3 = movecontact
trigger4 = stateno = 426;なぎ払い
trigger4 = movecontact 
trigger5 = stateno = 211;エリアルレイヴ
trigger5 = movecontact
;------------------------------------------------------------------------------
;アルノー鳩錦二世
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1000
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236x"
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = numhelper(1025) = 0
triggerall = numhelper(1026) = 0
triggerall = var(40) != 7
triggerall = var(12) = 0
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221;立ち通常
trigger2 = movecontact
trigger3 = stateno = 1100 || stateno = 1110 || stateno = 1120;スライディングキック
trigger3 = movecontact
trigger4 = stateno = 426;なぎ払い
trigger4 = movecontact 
trigger5 = stateno = 211;エリアルレイヴ
trigger5 = movecontact

;アルノー中
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1010
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236y"
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = numhelper(1025) = 0
triggerall = numhelper(1026) = 0
triggerall = var(40) != 7
triggerall = var(12) = 0
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221;立ち通常
trigger2 = movecontact
trigger3 = stateno = 1100 || stateno = 1110 || stateno = 1120;スライディングキック
trigger3 = movecontact
trigger4 = stateno = 426;なぎ払い
trigger4 = movecontact 
trigger5 = stateno = 211;エリアルレイヴ
trigger5 = movecontact


;アルノー強
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1020
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236z"
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = numhelper(1025) = 0
triggerall = numhelper(1026) = 0
triggerall = var(40) != 7
triggerall = var(12) = 0
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221;立ち通常
trigger2 = movecontact
trigger3 = stateno = 1100 || stateno = 1110 || stateno = 1120;スライディングキック
trigger3 = movecontact
trigger4 = stateno = 426;なぎ払い
trigger4 = movecontact 
trigger5 = stateno = 211;エリアルレイヴ
trigger5 = movecontact

;馬鹿力
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2400
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236x"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221;立ち通常
trigger2 = movecontact
trigger3 = stateno = 1100 || stateno = 1110 || stateno = 1120;スライディングキック
trigger3 = movecontact
trigger4 = stateno = 426;なぎ払い
trigger4 = movecontact 
trigger5 = stateno = 211;エリアルレイヴ
trigger5 = movecontact
trigger6 = stateno = 1511 ;スコップ連撃
trigger6 = movecontact

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2410
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236y"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221;立ち通常
trigger2 = movecontact
trigger3 = stateno = 1100 || stateno = 1110 || stateno = 1120;スライディングキック
trigger3 = movecontact
trigger4 = stateno = 426;なぎ払い
trigger4 = movecontact 
trigger5 = stateno = 211;エリアルレイヴ
trigger5 = movecontact
trigger6 = stateno = 1511 ;スコップ連撃
trigger6 = movecontact

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2420
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236z"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221;立ち通常
trigger2 = movecontact
trigger3 = stateno = 1100 || stateno = 1110 || stateno = 1120;スライディングキック
trigger3 = movecontact
trigger4 = stateno = 426;なぎ払い
trigger4 = movecontact 
trigger5 = stateno = 211;エリアルレイヴ
trigger5 = movecontact
trigger6 = stateno = 1511 ;スコップ連撃
trigger6 = movecontact




;------------------------------------------------------------------------------
;スコップ連撃
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1500
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236a"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221
trigger2 = movecontact

;連撃
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1510
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236b"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221
trigger2 = movecontact


;連撃
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1520
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236c"
triggerall = movetype != H
triggerall = var(40) != 7
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221
trigger2 = movecontact
trigger3 = stateno = 600 || stateno = 610 || stateno = 620
trigger2 = movecontact


;------------------------------------------------------------------------------
;ピンポン投擲
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1400
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "22x"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 0
triggerall = numhelper(1400) = 0
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221
trigger2 = movecontact

;ピンポン投擲
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1400
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "22y"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 0
triggerall = numhelper(1400) = 0
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221
trigger2 = movecontact

;ピンポン投擲
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1400
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "22z"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 0
triggerall = numhelper(1400) = 0
trigger1 = ctrl
trigger2 = stateno = 200 || stateno = 210 || stateno = 221
trigger2 = movecontact

;おい、こっちだ！
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2300
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "22x"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
trigger1 = ctrl

;おい、こっちだ！
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2300
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "22y"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
trigger1 = ctrl

;おい、こっちだ！
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2300
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "22z"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
trigger1 = ctrl
;------------------------------------------------------------------------------

;ダッシュ
[State -1, Dash]
type = ChangeState
value = 100
triggerall = var(20) = 0
triggerall = movetype != H
trigger1 = command = "FF"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 2050
trigger2 = movehit
trigger3 = stateno = 2401
Trigger3 = time >= 39
trigger3 = var(40) = 7


;バックステップ
[State -1, Back Step]
type = ChangeState
value = 105
triggerall = var(20) = 0
triggerall = movetype != H
trigger1 = command = "BB"
trigger1 = statetype = S
trigger1 = ctrl

;空中ダッシュ
;ただし空中ダッシュを連続でできないように「stateno != 」を使っています
[State -1, airdashF]

type = ChangeState
value = 103
triggerall = var(20) = 0
triggerall = command = "FF"
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105
triggerall = var(4) != 0    ;ダッシュ残数が0の時はできない
triggerall = vel Y = [-9,9] ;高速落下時ダッシュ不可
triggerall = pos y != [-40,40]
trigger1 = ctrl
trigger1 = stateno != 103   ;空中前ダッシュ中不可
trigger1 = stateno != 108   ;空中後ろダッシュ中不可
trigger2 = stateno = 103
trigger2 = time > 14        ;空中前ダッシュ中でも指定時間が経過すれば可
trigger3 = stateno = 108
trigger3 = time > 14        ;空中後ろダッシュ中でも指定時間が経過すれば可
trigger4 = stateno = 2150
trigger4 = movehit
trigger5 = stateno = 600 || stateno = 610 || stateno = 620
trigger5 = movehit
;trigger6 = time >= 0


[State -1, airdashB]
type = ChangeState
value = 108
triggerall = var(20) = 0
triggerall = command = "BB"
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105
triggerall = var(4) != 0
triggerall = vel Y = [-10,10]
triggerall = pos y != [-40,40]
trigger1 = ctrl
trigger1 = stateno != 103
trigger1 = stateno != 108
trigger2 = stateno = 103
trigger2 = time > 14
trigger3 = stateno = 108
trigger3 = time > 14
trigger4 = stateno = 2150 
trigger4 = movehit
trigger5 = stateno = 600 || stateno = 610 || stateno = 620
trigger5 = movehit



;投げ
[State -1, 0]
type = ChangeState
value = 980
triggerall = var(59) = 0
triggerall = Numhelper(2990) = 0
triggerall = movetype != H
triggerall = command = "6x"
;triggerall = command = "holdfwd" || command = "holdback"
trigger1 = statetype != A
trigger1 = ctrl
trigger1 = stateno != [100,199]
trigger1 = p2bodydist X < 5
trigger1 = (p2statetype = S) || (p2statetype = C)
trigger1 = p2movetype != H
;==============================================================================
;一部CPUに距離制限を設けています。分かりづらいと思いますが、後々重要な意味を持ってきます。
;------------------------------------------------------------------------------
;ガードキャンセル
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2000
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) != 7
triggerall = power >= 1000 
triggerall = command = "4x"
triggerall = statetype != A
trigger1 = stateno = [140,155]

;チャンスメイク
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2100
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) != 7
triggerall = life >= 1
triggerall = power >= 2000 
triggerall = command = "c"
triggerall = var(17) < var(32)
trigger1 = stateno = [5000,5200]


;エリアルレイブ
[State -1, Stand Strong Punch]
type = ChangeState
value = 211
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) != 7
triggerall = command = "6y"
triggerall = command != "holddown"
triggerall = statetype = S
triggerall = movetype != H
trigger1 = ctrl
trigger2 = stateno = 220 || stateno = 200 || stateno = 210 
trigger2 = movecontact
trigger3 = stateno = 400 || stateno = 410 
trigger3 = movecontact
trigger4 = stateno = 1511 ;スコップ連撃
trigger4 = movecontact


;薙ぎ払い
[State -1, Stand Strong Punch]
type = ChangeState
value = 426
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) != 7
triggerall = command = "6z"
triggerall = command != "holddown"
triggerall = statetype = S
triggerall = movetype != H
trigger1 = ctrl
trigger2 = stateno = 220 || stateno = 200 || stateno = 210 
trigger2 = movecontact
trigger3 = stateno = 400 || stateno = 410 
trigger3 = movecontact
trigger4 = stateno = 1511 ;スコップ連撃
trigger4 = movecontact
;挑発
[State -1, Stand Light Punch]
type = ChangeState
value = 654
triggerall = command = "start"
triggerall = command != "holddown"
triggerall = statetype = S
triggerall = movetype != H
trigger1 = ctrl

;うんまい棒チャージ
[State -1, Stand Light Punch]
type = ChangeState
value = 321
triggerall = command = "xz"
triggerall = command != "holddown"
triggerall = statetype = S
triggerall = movetype != H
trigger1 = ctrl

;立ち弱
[State -1, Stand Light Punch]
type = ChangeState
value = 200
triggerall = var(40) != 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "x"
triggerall = command != "holddown"
triggerall = movetype != H
trigger1 = ctrl
trigger1 = statetype != A
trigger2 = stateno = 200
trigger2 = movecontact
trigger3 = stateno = 201
trigger3 = movecontact
trigger4 = stateno = 202 
trigger4 = movecontact
trigger5 = stateno = 400 
trigger5 = movecontact
trigger5 = var(15) = 0

;立ち中
[State -1, Stand Strong Punch]
type = ChangeState
value = 210
triggerall = var(40) != 7
triggerall = var(58) = 0
triggerall = numhelper(3407) = 0
triggerall = var(20) = 0
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = movetype != H
trigger1 = ctrl
trigger1 = statetype != A
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 201
trigger3 = movecontact
trigger4 = stateno = 202 
trigger4 = movecontact
trigger5 = stateno = 400 || stateno = 410 
trigger5 = movecontact
trigger5 = var(15) = 0

;立ち強
[State -1, Standing Strong Kick]
type = ChangeState
value = 221
triggerall = var(40) != 7
triggerall = var(58) = 0
;value = ifelse(P2BodyDist X < 25, 220, 221)
triggerall = var(20) = 0
triggerall = command = "z"
triggerall = command != "holddown"
triggerall = movetype != H
trigger1 = ctrl
trigger1 = statetype != A
trigger2 = stateno = 200 || stateno = 210 
trigger2 = movecontact
trigger3 = stateno = 201 || stateno = 215
trigger3 = movecontact
trigger4 = stateno = 202 || stateno = 216
trigger4 = movecontact
trigger5 = stateno = 400 || stateno = 410 || stateno = 420 
trigger5 = movecontact
trigger5 = var(15) = 0


;------------------------------------------------------------------------------

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;しゃがみ攻撃は、後の比較のためにコマンドファイルでvar(20)による制御をしていません。

;しゃがみ弱
[State -1, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = var(40) != 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "x"
triggerall = command = "holddown"
triggerall = movetype != H
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = stateno = 400
trigger2 = movecontact
trigger3 = stateno = 401
trigger3 = movecontact
trigger4 = stateno = 402
trigger4 = movecontact
trigger5 = stateno = 200
trigger5 = movecontact
trigger5 = var(15) = 0


;しゃがみ中
[State -1, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = var(40) != 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "y"
triggerall = command = "holddown"
triggerall = movetype != H
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = stateno = 400
trigger2 = movecontact
trigger3 = stateno = 401
trigger3 = movecontact
trigger4 = stateno = 402
trigger4 = movecontact
trigger5 = stateno = 200 || stateno = 210 
trigger5 = movecontact
trigger5 = var(15) = 0


;しゃがみ強
[State -1, Crouching Strong Kick]
type = ChangeState
value = 420
triggerall = var(40) != 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "z"
triggerall = command = "holddown"
triggerall = movetype != H
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = stateno = 410
trigger2 = movecontact
trigger3 = stateno = 400
trigger3 = movecontact
trigger4 = stateno = 411
trigger4 = movecontact
trigger5 = stateno = 401
trigger5 = movecontact
trigger6 = stateno = 412
trigger6 = movecontact
trigger7 = stateno = 402
trigger7 = movecontact
trigger8 = stateno = 200 || stateno = 210 || stateno = 221 
trigger8 = movecontact
trigger8 = var(15) = 0



;------------------------------------------------------------------------------
;------------------------------------------------------------------------------

;エリアルスパイク
[State -1, Jump Strong]
type = ChangeState
value = 650
triggerall = var(40) != 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "2z"
triggerall = stateno != 105
triggerall = movetype != H
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600 
trigger2 = movecontact
trigger3 = stateno = 610
trigger3 = movecontact
trigger4 = stateno = 620
trigger4 = movecontact
trigger5 = stateno = 602 || stateno = 612
trigger5 = movecontact
trigger6 = stateno = 622 
trigger6 = movecontact



;空中弱
[State -1, Jump Light]
type = ChangeState
value = 600
triggerall = var(40) != 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "x"
triggerall = movetype != H
triggerall = stateno != 105  ;バックステップ中は禁止
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600
trigger2 = statetime >= 7
trigger3 = stateno = 602 
trigger3 = movecontact

;空中中
[State -1, Jump Middle]
type = ChangeState
value = 610
triggerall = var(40) != 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "y"
triggerall = stateno != 105
triggerall = movetype != H
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600
trigger2 = movecontact
trigger3 = stateno = 602 
trigger3 = movecontact

;空中強
[State -1, Jump Strong]
type = ChangeState
value = 620
triggerall = var(40) != 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "z"
triggerall = stateno != 105
triggerall = movetype != H
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600 || stateno = 610
trigger2 = movecontact
trigger3 = stateno = 602 || stateno = 612
trigger3 = movecontact


;==============================================================================
;ここから12Pカラー用
;==============================================================================
一撃必殺技
;==============================================================================
;失恋
[State -1, Stand Light Punch]
type = ChangeState
value = 3999
triggerall = fvar(16) = 800
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236by"
triggerall = command != "holddown"
triggerall = statetype = S
triggerall = var(12) = 1
trigger1 = ctrl
trigger2 = stateno = 431 ;なぎ払い
trigger2 = movecontact
trigger3 = stateno = 1150 || stateno = 1160 || stateno = 1170;スライディングキック
trigger3 = movecontact

;アンハッピーエンドワールド
[State -1, Stand Light Punch]
type = ChangeState
value = 3998
triggerall = fvar(16) = 800
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236by"
triggerall = command != "holddown"
triggerall = statetype = S
triggerall = var(12) = 0
trigger1 = ctrl
trigger2 = stateno = 431 ;なぎ払い
trigger2 = movecontact
trigger3 = stateno = 1150 || stateno = 1160 || stateno = 1170;スライディングキック
trigger3 = movecontact
;==============================================================================
超必殺技
;==============================================================================
;感染
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3500
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(12)  = 0
triggerall = power >= 1000 
triggerall = command = "41236yz"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
trigger1 = ctrl

;鉄拳制裁
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3850
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = power >= 1000 
triggerall = command = "236yz"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(12) = 1
trigger1 = ctrl
trigger2 = stateno = 205 || stateno = 215 || stateno = 226;立ち通常攻撃
trigger2 = movecontact
trigger3 = stateno = 431;なぎ払い
trigger3 = movecontact
trigger4 = stateno = 1150 || stateno = 1160 || stateno = 1170;スライディングキック
trigger4 = movecontact
trigger5 = stateno = 1551 || stateno = 1561 ;スコップ連撃
trigger5 = movecontact

;カーアタック
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3750
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = var(12) = 1
triggerall = power >= 1000 
triggerall = command = "214yz"
triggerall = movetype != H
triggerall = statetype != A
trigger1 = ctrl

;防火シャッター
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3650
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = var(12) = 1
triggerall = power >= 1000 
triggerall = command = "214bc"
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(3605) = 0
trigger1 = ctrl
trigger2 = stateno = 205 || stateno = 215 || stateno = 226;立ち通常攻撃
trigger2 = movecontact
trigger3 = stateno = 431;なぎ払い
trigger3 = movecontact
trigger4 = stateno = 1100 || stateno = 1110 || stateno = 1120;スライディングキック
trigger4 = movecontact
trigger5 = stateno = 1501 || stateno = 1511 ;スコップ連撃
trigger5 = movecontact

;水鉄砲
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3020
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = power >= 1000 
triggerall = command = "236yz"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(12) = 0
trigger1 = ctrl
trigger2 = stateno = 205 || stateno = 215 || stateno = 226;立ち通常攻撃
trigger2 = movecontact
trigger3 = stateno = 431;なぎ払い
trigger3 = movecontact
trigger4 = stateno = 1150 || stateno = 1160 || stateno = 1170;スライディングキック
trigger4 = movecontact
trigger5 = stateno = 1551 || stateno = 1561 ;スコップ連撃
trigger5 = movecontact


;カーアタック
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3120
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = var(12) = 0
triggerall = power >= 1000 
triggerall = command = "214yz"
triggerall = movetype != H
triggerall = statetype != A
trigger1 = ctrl

;どうしてだよ！
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3320
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = power >= 1000 
triggerall = command = "236bc"
triggerall = movetype != H
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 205 || stateno = 215 || stateno = 226;立ち通常攻撃
trigger2 = movecontact
trigger3 = stateno = 431;なぎ払い
trigger3 = movecontact
trigger4 = stateno = 1150 || stateno = 1160 || stateno = 1170;スライディングキック
trigger4 = movecontact
trigger5 = stateno = 1551 || stateno = 1561 ;スコップ連撃
trigger5 = movecontact

;バリケード
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3220
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = var(12) = 0
triggerall = power >= 1000 
triggerall = command = "214bc"
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(3205) = 0
trigger1 = ctrl
trigger2 = stateno = 205 || stateno = 215 || stateno = 226;立ち通常攻撃
trigger2 = movecontact
trigger3 = stateno = 431;なぎ払い
trigger3 = movecontact
trigger4 = stateno = 1100 || stateno = 1110 || stateno = 1120;スライディングキック
trigger4 = movecontact
trigger5 = stateno = 1501 || stateno = 1511 ;スコップ連撃
trigger5 = movecontact


;==============================================================================
必殺技
;==============================================================================
;おやすみなさい
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1250
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "214a"
triggerall = movetype != H
triggerall = statetype != A
trigger1 = ctrl


[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1260
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "214b"
triggerall = movetype != H
triggerall = statetype != A
trigger1 = ctrl

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1270
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "214c"
triggerall = movetype != H
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 205 || stateno = 215 || stateno = 226;通常攻撃
trigger2 = movecontact
trigger3 = stateno = 431;なぎ払い
trigger3 = movecontact 
trigger4 = stateno = 1551 || stateno = 1561 ;スコップ連撃
trigger4 = movecontact

;おやすみなさい空中
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1280
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "214a"
triggerall = movetype != H
triggerall = statetype != S
triggerall = var(40) = 7
trigger1 = ctrl
trigger2 = stateno = 605 || stateno = 615 || stateno = 625;空中通常
trigger2 = movecontact

;おやすみなさい空中
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1280
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "214b"
triggerall = movetype != H
triggerall = statetype != S
triggerall = var(40) = 7
trigger1 = ctrl
trigger2 = stateno = 605 || stateno = 615 || stateno = 625;空中通常
trigger2 = movecontact

;おやすみなさい空中
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1280
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "214c"
triggerall = movetype != H
triggerall = statetype != S
triggerall = var(40) = 7
trigger1 = ctrl
trigger2 = stateno = 605 || stateno = 615 || stateno = 625;空中通常
trigger2 = movecontact
;------------------------------------------------------------------------------
;超反射神経
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2650
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "421x"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 1
trigger1 = ctrl

;超反射神経
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2660
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "421y"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 1
trigger1 = ctrl


;超反射神経
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2670
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "421z"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 1
trigger1 = ctrl

;スライディングキック
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1150
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "214x"
triggerall = movetype != H
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 205 || stateno = 215 || stateno = 226;立ち通常攻撃
trigger2 = movecontact
trigger3 = stateno = 431;なぎ払い
trigger3 = movecontact 
trigger4 = stateno = 415 || stateno = 405 || stateno = 425;座り通常
trigger4 = movecontact
trigger5 = stateno = 1561 ;スコップ連撃
trigger5 = movecontact


[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1160
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "214y"
triggerall = movetype != H
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 205 || stateno = 215 || stateno = 226;立ち通常攻撃
trigger2 = movecontact
trigger3 = stateno = 431;なぎ払い
trigger3 = movecontact 
trigger4 = stateno = 415 || stateno = 405 || stateno = 425;座り通常
trigger4 = movecontact
trigger5 = stateno = 1561 ;スコップ連撃
trigger5 = movecontact


[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1170
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "214z"
triggerall = movetype != H
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 205 || stateno = 215 || stateno = 226;立ち通常攻撃
trigger2 = movecontact
trigger3 = stateno = 431;なぎ払い
trigger3 = movecontact 
trigger4 = stateno = 415 || stateno = 405 || stateno = 425;座り通常
trigger4 = movecontact
trigger5 = stateno = 1561 ;スコップ連撃
trigger5 = movecontact
------------------------------------------------------
;くるみたいくう！
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1360
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "623x"
triggerall = movetype != H
trigger1 = ctrl
trigger2 = stateno = 226 || stateno = 205 || stateno = 215 
trigger2 = movecontact
trigger3 = stateno = 605 || stateno = 615 || stateno = 625;空中通常
trigger3 = movecontact
trigger4 = stateno = 431;なぎ払い
trigger4 = movecontact 
trigger5 = stateno = 216;エリアルレイヴ
trigger5 = movecontact


[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1370
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "623y"
triggerall = movetype != H
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
trigger1 = ctrl
trigger2 = stateno = 226 || stateno = 205 || stateno = 215 
trigger2 = movecontact
trigger3 = stateno = 605 || stateno = 615 || stateno = 625;空中通常
trigger3 = movecontact
trigger4 = stateno = 431;なぎ払い
trigger4 = movecontact 
trigger5 = stateno = 216;エリアルレイヴ
trigger5 = movecontact

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1380
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "623z"
triggerall = movetype != H
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
trigger1 = ctrl
trigger2 = stateno = 226 || stateno = 205 || stateno = 215 
trigger2 = movecontact
trigger3 = stateno = 605 || stateno = 615 || stateno = 625;空中通常
trigger3 = movecontact
trigger4 = stateno = 431;なぎ払い
trigger4 = movecontact 
trigger5 = stateno = 216;エリアルレイヴ
trigger5 = movecontact
;------------------------------------------------------------------------------
;アルノー鳩錦二世
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1050
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236x"
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = numhelper(1025) = 0
triggerall = numhelper(1026) = 0
triggerall = var(12) = 0
trigger1 = ctrl
trigger2 = stateno = 226 || stateno = 205 || stateno = 215 
trigger2 = movecontact
trigger3 = stateno = 1150 || stateno = 1160 || stateno = 1170;スライディングキック
trigger3 = movecontact
trigger4 = stateno = 431;なぎ払い
trigger4 = movecontact 
trigger5 = stateno = 216;エリアルレイヴ
trigger5 = movecontact

;アルノー中
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1060
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236y"
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = numhelper(1025) = 0
triggerall = numhelper(1026) = 0
triggerall = var(12) = 0
trigger1 = ctrl
trigger2 = stateno = 226 || stateno = 205 || stateno = 215 
trigger2 = movecontact
trigger3 = stateno = 1150 || stateno = 1160 || stateno = 1170;スライディングキック
trigger3 = movecontact
trigger4 = stateno = 431;なぎ払い
trigger4 = movecontact 
trigger5 = stateno = 216;エリアルレイヴ
trigger5 = movecontact


;アルノー強
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1070
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236z"
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = numhelper(1025) = 0
triggerall = numhelper(1026) = 0
triggerall = var(12) = 0
trigger1 = ctrl
trigger2 = stateno = 226 || stateno = 205 || stateno = 215 
trigger2 = movecontact
trigger3 = stateno = 1150 || stateno = 1160 || stateno = 1170;スライディングキック
trigger3 = movecontact
trigger4 = stateno = 431;なぎ払い
trigger4 = movecontact 
trigger5 = stateno = 216;エリアルレイヴ
trigger5 = movecontact

;馬鹿力
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2460
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236x"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(12) = 1
trigger1 = ctrl
trigger2 = stateno = 226 || stateno = 205 || stateno = 215 
trigger2 = movecontact
trigger3 = stateno = 1150 || stateno = 1160 || stateno = 1170;スライディングキック
trigger3 = movecontact
trigger4 = stateno = 431;なぎ払い
trigger4 = movecontact 
trigger5 = stateno = 216;エリアルレイヴ
trigger5 = movecontact

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2470
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236y"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(12) = 1
trigger1 = ctrl
trigger2 = stateno = 226 || stateno = 205 || stateno = 215 
trigger2 = movecontact
trigger3 = stateno = 1150 || stateno = 1160 || stateno = 1170;スライディングキック
trigger3 = movecontact
trigger4 = stateno = 431;なぎ払い
trigger4 = movecontact 
trigger5 = stateno = 216;エリアルレイヴ
trigger5 = movecontact


[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2480
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236z"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(12) = 1
trigger1 = ctrl
trigger2 = stateno = 226 || stateno = 205 || stateno = 215 
trigger2 = movecontact
trigger3 = stateno = 1150 || stateno = 1160 || stateno = 1170;スライディングキック
trigger3 = movecontact
trigger4 = stateno = 431;なぎ払い
trigger4 = movecontact 
trigger5 = stateno = 216;エリアルレイヴ
trigger5 = movecontact
;------------------------------------------------------------------------------
;スコップ連撃
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1550
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236a"
triggerall = movetype != H
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 226 || stateno = 205 || stateno = 215 
trigger2 = movecontact

;連撃
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1560
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236b"
triggerall = movetype != H
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 226 || stateno = 205 || stateno = 215 
trigger2 = movecontact


;連撃
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1570
triggerall = var(40) = 7
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "236c"
triggerall = movetype != H
trigger1 = ctrl
trigger2 = stateno = 226 || stateno = 205 || stateno = 215 
trigger2 = movecontact
trigger3 = stateno = 605 || stateno = 615 || stateno = 625
trigger3 = movehit



;------------------------------------------------------------------------------
;ピンポン投擲
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1450
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = command = "22x"
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1400) = 0
triggerall = var(12) = 0
trigger1 = ctrl
trigger2 = stateno = 226 || stateno = 205 || stateno = 215 
trigger2 = movecontact
trigger3 = stateno = 405 || stateno = 415 
trigger3 = movecontact

;ピンポン投擲
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1450
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = command = "22y"
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1400) = 0
triggerall = var(12) = 0
trigger1 = ctrl
trigger2 = stateno = 226 || stateno = 205 || stateno = 215 
trigger2 = movecontact
trigger3 = stateno = 405 || stateno = 415 
trigger3 = movecontact

;ピンポン投擲
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1450
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = command = "22z"
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1400) = 0
triggerall = var(12) = 0
trigger1 = ctrl
trigger2 = stateno = 226 || stateno = 205 || stateno = 215 
trigger2 = movecontact
trigger3 = stateno = 405 || stateno = 415 
trigger3 = movecontact

;おい、こっちだ！
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2300
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "22x"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 1
trigger1 = ctrl

;おい、こっちだ！
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2300
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "22y"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 1
trigger1 = ctrl

;おい、こっちだ！
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2300
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "22z"
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 1
trigger1 = ctrl

;投げ
[State -1, 0]
type = ChangeState
value = 985
triggerall = var(58) = 0
triggerall = var(40) = 7
triggerall = Numhelper(2990) = 0
triggerall = command = "b"
;triggerall = command = "holdfwd" || command = "holdback"
trigger1 = statetype = S
trigger1 = ctrl
;==============================================================================
;一部CPUに距離制限を設けています。分かりづらいと思いますが、後々重要な意味を持ってきます。
;------------------------------------------------------------------------------
;ガードキャンセル
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2050
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = power >= 1000 
triggerall = command = "4x"
triggerall = statetype != A
trigger1 = stateno = [140,155]

;チャンスメイク
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2150
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = var(17) < var(32)
triggerall = life >= 1
triggerall = power >= 2000 
triggerall = command = "c"
trigger1 = stateno = [5000,5200]


;エリアルレイブ
[State -1, Stand Strong Punch]
type = ChangeState
value = 216
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = command = "6y"
triggerall = command != "holddown"
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 226 || stateno = 205 || stateno = 215 
trigger2 = movecontact
trigger3 = stateno = 405 || stateno = 415 
trigger3 = movecontact
trigger4 = stateno = 1561 ;スコップ連撃
trigger4 = movecontact



;薙ぎ払い
[State -1, Stand Strong Punch]
type = ChangeState
value = 431
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = command = "6z"
triggerall = command != "holddown"
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 226 || stateno = 205 || stateno = 215 
trigger2 = movecontact
trigger3 = stateno = 405 || stateno = 415 
trigger3 = movecontact
trigger4 = stateno = 1561 ;スコップ連撃
trigger4 = movecontact



;立ち弱
[State -1, Stand Light Punch]
type = ChangeState
value = 205
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = command = "x"
triggerall = command != "holddown"
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 205
trigger2 = movecontact
trigger3 = stateno = 405 
trigger3 = movecontact
trigger3 = var(15) = 0


;立ち中
[State -1, Stand Strong Punch]
type = ChangeState
value = 215
triggerall = var(58) = 0
triggerall = var(40) = 7
triggerall = numhelper(3407) = 0
triggerall = var(20) = 0
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 205 && movecontact
trigger3 = stateno = 405 || stateno = 415 
trigger3 = movecontact
trigger3 = var(15) = 0

;立ち強
[State -1, Standing Strong Kick]
type = ChangeState
value = 226
triggerall = var(58) = 0
triggerall = var(40) = 7
;value = ifelse(P2BodyDist X < 25, 220, 221)
triggerall = var(20) = 0
triggerall = command = "z"
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 205 || stateno = 215 
trigger2 = movecontact
trigger3 = stateno = 405 || stateno = 415 || stateno = 425 
trigger3 = movecontact
trigger3 = var(15) = 0



;------------------------------------------------------------------------------

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;しゃがみ攻撃は、後の比較のためにコマンドファイルでvar(20)による制御をしていません。

;しゃがみ弱
[State -1, Crouching Light Punch]
type = ChangeState
value = 405
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = command = "x"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = stateno = 405
trigger2 = movecontact
trigger3 = stateno = 205 
trigger3 = movecontact
trigger3 = var(15) = 0



;しゃがみ中
[State -1, Crouching Strong Punch]
type = ChangeState
value = 415
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = command = "y"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = stateno = 405
trigger2 = movecontact
trigger3 = stateno = 205 || stateno = 215 
trigger3 = movecontact
trigger3 = var(15) = 0



;しゃがみ強
[State -1, Crouching Strong Kick]
type = ChangeState
value = 425
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = command = "z"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = stateno = 415
trigger2 = movecontact
trigger3 = stateno = 405
trigger3 = movecontact
trigger4 = stateno = 205 || stateno = 215 || stateno = 226 
trigger4 = movecontact
trigger4 = var(15) = 0




;------------------------------------------------------------------------------
;------------------------------------------------------------------------------

;エリアルスパイク
[State -1, Jump Strong]
type = ChangeState
value = 655
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = command = "2z"
triggerall = stateno != 105
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = stateno = 605 
trigger2 = movecontact
trigger3 = stateno = 615
trigger3 = movecontact
trigger4 = stateno = 625
trigger4 = movecontact




;空中弱
[State -1, Jump Light]
type = ChangeState
value = 605
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = command = "x"
triggerall = stateno != 105  ;バックステップ中は禁止
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = stateno = 605
trigger2 = statetime >= 4


;空中中
[State -1, Jump Middle]
type = ChangeState
value = 615
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = command = "y"
triggerall = stateno != 105
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = stateno = 605
trigger2 = movecontact


;空中強
[State -1, Jump Strong]
type = ChangeState
value = 625
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = command = "z"
triggerall = stateno != 105
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = stateno = 605 || stateno = 615
trigger2 = movecontact


;------------------------------------------------------------------------------
[State -1, Jump Cancel]
type = ChangeState
value = 40
triggerall = var(58) = 0
triggerall = var(20) = 0
triggerall = command = "holdup"    ;上を押す
triggerall = command != "holddown" ;下を離す
triggerall = statetype != A
trigger1 = stateno = 211
trigger1 = movehit            ;攻撃が当たった時
trigger2 = stateno = 426
trigger2 = movehit            ;攻撃が当たった時
trigger3 = stateno = 213
trigger3 = movehit            ;攻撃が当たった時
trigger4 = stateno = 428
trigger4 = movecontact
trigger5 = stateno = 216
trigger5 = movehit            ;攻撃が当たった時
trigger6 = stateno = 431
trigger6 = movehit
trigger7 = stateno = 2401
Trigger7 = time >= 39




;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;以下AI用

[State -3]
type = varset
triggerall = (StateNo != [4001,4002]) & Anim != 4003
trigger1 = command = "AI_01" || command = "AI_02" || command = "AI_03" || command = "AI_04" || command = "AI_05"
trigger2 = command = "AI_06" || command = "AI_07" || command = "AI_08" || command = "AI_09" || command = "AI_10"
trigger3 = command = "AI_11" || command = "AI_12" || command = "AI_13" || command = "AI_14" || command = "AI_15"
trigger4 = command = "AI_16" || command = "AI_17" || command = "AI_18" || command = "AI_19" || command = "AI_20"
trigger5 = command = "AI_21" || command = "AI_22" || command = "AI_23" || command = "AI_24" || command = "AI_25"
trigger6 = command = "AI_26" || command = "AI_27" || command = "AI_28" || command = "AI_29" || command = "AI_30"
trigger7 = command = "AI_31" || command = "AI_32" || command = "AI_33" || command = "AI_34" || command = "AI_35"
trigger8 = command = "AI_36" || command = "AI_37" || command = "AI_38" || command = "AI_39" || command = "AI_40"
trigger9 = command = "AI_41" || command = "AI_42" || command = "AI_43" || command = "AI_44" || command = "AI_45"
trigger10 = command = "AI_46" || command = "AI_47" || command = "AI_48" || command = "AI_49" || StateNo = 3850
trigger11 = NumHelper(9190) > 0
trigger11 = Helper(9190),Var(59) = 1
trigger12 = NumHelper(9190) > 0
trigger12 = Helper(9190),Var(59) = 2 & TeamSide = 2
trigger13 = NumHelper(9190) > 0
trigger13 = Helper(9190),Var(59) = 2 & TeamSide = 2
trigger14 = NumHelper(9190) > 0
trigger14 = Helper(9190),Var(59) = 3 & PalNo != 6
v = 58
value = 1

;---------------------------------------------------------------------------

;計時器

[State -2, Helper]
type = Helper
trigger1 = NumHelper(9190) = 0
helpertype = normal
name = "AIHelper"
ID = 9190
stateno = 9190
pos = 0,0
postype = back
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999
pausemovetime = 999999
ignorehitpause = 1
persistent = 0

;招式記錄器

[State -2, Helper]
type = Helper
trigger1 = RoundState = 2 & NumHelper(9190) > 0
trigger1 = NumHelper(9180) = 0
helpertype = normal
name = "AIHelper"
ID = 9180
stateno = 9180
pos = 0,0
postype = back
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999
ignorehitpause = 1
persistent = 0

[State -2, Helper]
type = Helper
trigger1 = RoundState = 2 & NumHelper(9190) > 0
trigger1 = NumHelper(9185) = 0
helpertype = normal
name = "AIHelper"
ID = 9185
stateno = 9185
pos = 0,0
postype = back
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
[State -1, VarSet]
type = VarSet
triggerall = NumHelper(9190) > 0 & NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = StateType != A & Facing != EnemyNear(Var(55)),Facing & EnemyNear(Var(55)),StateNo > 199
triggerall = EnemyNear(Var(55)),StateNo >= 200
trigger1 = Helper(9190),FVar(11) = 0
v = 54 
value = 0
ignorehitpause = 1

;反擊距離
;通用
[State -1, VarSet]
type = VarSet
triggerall = NumHelper(9190) > 0 & NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = StateType != A & Facing != EnemyNear(Var(55)),Facing & EnemyNear(Var(55)),StateNo > 199
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(16) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),FVar(19) = 0
triggerall = EnemyNear(Var(55)),Time <= Helper(9190),FVar(11)
trigger1 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger1 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(6)
trigger2 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger2 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(7)
trigger3 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger3 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(8)
trigger4 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger4 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(9)
trigger5 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger5 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(10)
trigger6 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger6 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(6)
trigger7 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger7 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(7)
trigger8 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger8 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(8)
trigger9 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger9 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(9)
trigger10 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger10 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(10)
v = 54 
value = 1000
ignorehitpause = 1

[State -1, VarSet]
type = VarSet
triggerall = NumHelper(9190) > 0 & NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = Helper(9190),FVar(10) > 0 & Helper(9190),FVar(11) > 0 & Helper(9190),FVar(13) != 0
triggerall = StateType != A & Facing != EnemyNear(Var(55)),Facing & EnemyNear(Var(55)),StateNo > 199
triggerall = EnemyNear(Var(55)),Time > Helper(9190),FVar(11)
trigger1 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger1 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(6)
trigger2 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger2 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(7)
trigger3 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger3 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(8)
trigger4 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger4 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(9)
trigger5 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger5 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(10)
trigger6 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger6 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(6)
trigger7 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger7 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(7)
trigger8 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger8 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(8)
trigger9 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger9 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(9)
trigger10 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger10 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(10)
v = 54 
value = 1010
ignorehitpause = 1

[State -1, VarSet]
type = VarSet
triggerall = NumHelper(9190) > 0 & NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
triggerall = Facing != EnemyNear(Var(55)),Facing & EnemyNear(Var(55)),StateType != C & EnemyNear(Var(55)),StateNo > 199
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(16) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),FVar(19) = 0
triggerall = EnemyNear(Var(55)),Time <= Helper(9190),FVar(11)
trigger1 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger1 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(11)
trigger2 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger2 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(12)
trigger3 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger3 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(13)
trigger4 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger4 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(14)
trigger5 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger5 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(15)
trigger6 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger6 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(16)
trigger7 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger7 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(17)
trigger8 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger8 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(18)
trigger9 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger9 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(19)
trigger10 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger10 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(20)
trigger11 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger11 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(21)
trigger12 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger12 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(22)
trigger13 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger13 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(23)
v = 54 
value = 1025
ignorehitpause = 1

[State -1, VarSet]
type = VarSet
triggerall = NumHelper(9190) > 0 & NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
triggerall = Facing != EnemyNear(Var(55)),Facing & EnemyNear(Var(55)),StateType != C & EnemyNear(Var(55)),StateNo > 199
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(16) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),FVar(19) = 0
triggerall = EnemyNear(Var(55)),Time <= Helper(9190),FVar(11)
trigger1 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger1 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(11)
trigger2 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger2 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(12)
trigger3 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger3 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(13)
trigger4 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger4 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(14)
trigger5 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger5 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(15)
trigger6 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger6 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(16)
trigger7 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger7 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(17)
trigger8 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger8 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(18)
trigger9 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger9 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(19)
trigger10 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger10 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(20)
trigger11 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger11 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(21)
trigger12 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger12 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(22)
trigger13 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger13 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(23)
v = 54 
value = 1025
ignorehitpause = 1

[State -1, VarSet]
type = VarSet
triggerall = NumHelper(9190) > 0 & NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = Helper(9190),FVar(10) > 0 & Helper(9190),FVar(11) > 0
triggerall = Facing != EnemyNear(Var(55)),Facing & EnemyNear(Var(55)),StateType != C & EnemyNear(Var(55)),StateNo > 199
triggerall = EnemyNear(Var(55)),Time > Helper(9190),FVar(11)
trigger1 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger1 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(11)
trigger2 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger2 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(12)
trigger3 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger3 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(13)
trigger4 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger4 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(14)
trigger5 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger5 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(15)
trigger6 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger6 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(16)
trigger7 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger7 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(17)
trigger8 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger8 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(18)
trigger9 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger9 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(19)
trigger10 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger10 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(20)
trigger11 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger11 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(21)
trigger12 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger12 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(22)
trigger13 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger13 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(23)
v = 54 
value = 1030
ignorehitpause = 1

[State -1, VarSet]
type = VarSet
triggerall = NumHelper(9190) > 0 & NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = Helper(9190),FVar(10) > 0 & Helper(9190),FVar(11) > 0
triggerall = Facing != EnemyNear(Var(55)),Facing & EnemyNear(Var(55)),StateType != C & EnemyNear(Var(55)),StateNo > 199
triggerall = EnemyNear(Var(55)),Time > Helper(9190),FVar(11)
trigger1 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger1 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(11)
trigger2 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger2 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(12)
trigger3 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger3 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(13)
trigger4 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger4 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(14)
trigger5 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger5 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(15)
trigger6 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger6 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(16)
trigger7 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger7 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(17)
trigger8 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger8 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(18)
trigger9 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger9 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(19)
trigger10 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger10 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(20)
trigger11 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger11 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(21)
trigger12 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger12 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(22)
trigger13 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger13 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(23)
v = 54 
value = 1030
ignorehitpause = 1

[State -1, VarSet]
type = VarSet
triggerall = NumHelper(9190) > 0 & NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = Facing != EnemyNear(Var(55)),Facing & EnemyNear(Var(55)),StateType = C & EnemyNear(Var(55)),StateNo > 199
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(16) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),FVar(19) = 0
triggerall = Helper(9190),FVar(10) > 0 & Helper(9190),FVar(11) > 0
triggerall = EnemyNear(Var(55)),Time <= Helper(9190),FVar(11)
trigger1 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger1 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(11)
trigger2 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger2 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(12)
trigger3 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger3 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(13)
trigger4 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger4 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(14)
trigger5 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger5 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(15)
trigger6 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger6 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(16)
trigger7 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger7 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(17)
trigger8 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger8 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(18)
trigger9 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger9 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(19)
trigger10 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger10 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(20)
trigger11 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger11 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(21)
trigger12 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger12 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(22)
trigger13 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger13 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(23)
v = 54 
value = 1050
ignorehitpause = 1

[State -1, VarSet]
type = VarSet
triggerall = NumHelper(9190) > 0 & NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = Facing != EnemyNear(Var(55)),Facing & EnemyNear(Var(55)),StateType = C & EnemyNear(Var(55)),StateNo > 199
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(16) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),FVar(19) = 0
triggerall = Helper(9190),FVar(10) > 0 & Helper(9190),FVar(11) > 0
triggerall = EnemyNear(Var(55)),Time <= Helper(9190),FVar(11)
trigger1 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger1 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(11)
trigger2 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger2 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(12)
trigger3 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger3 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(13)
trigger4 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger4 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(14)
trigger5 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger5 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(15)
trigger6 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger6 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(16)
trigger7 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger7 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(17)
trigger8 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger8 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(18)
trigger9 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger9 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(19)
trigger10 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger10 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(20)
trigger11 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger11 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(21)
trigger12 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger12 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(22)
trigger13 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger13 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(23)
v = 54 
value = 1050
ignorehitpause = 1

[State -1, VarSet]
type = VarSet
triggerall = NumHelper(9190) > 0 & NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = Helper(9190),FVar(10) > 0 & Helper(9190),FVar(11) > 0
triggerall = Facing != EnemyNear(Var(55)),Facing & EnemyNear(Var(55)),StateType = C & EnemyNear(Var(55)),StateNo > 199
triggerall = EnemyNear(Var(55)),Time > Helper(9190),FVar(11)
trigger1 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger1 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(11)
trigger2 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger2 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(12)
trigger3 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger3 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(13)
trigger4 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger4 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(14)
trigger5 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger5 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(15)
trigger6 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger6 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(16)
trigger7 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger7 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(17)
trigger8 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger8 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(18)
trigger9 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger9 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(19)
trigger10 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger10 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(20)
trigger11 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger11 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(21)
trigger12 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger12 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(22)
trigger13 = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
trigger13 = EnemyNear(Var(55)),StateNo = Helper(9180),Var(23)
v = 54 
value = 1060
ignorehitpause = 1

[State -1, VarSet]
type = VarSet
triggerall = NumHelper(9190) > 0 & NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = Helper(9190),FVar(10) > 0 & Helper(9190),FVar(11) > 0
triggerall = Facing != EnemyNear(Var(55)),Facing & EnemyNear(Var(55)),StateType = C & EnemyNear(Var(55)),StateNo > 199
triggerall = EnemyNear(Var(55)),Time > Helper(9190),FVar(11)
trigger1 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger1 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(11)
trigger2 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger2 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(12)
trigger3 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger3 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(13)
trigger4 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger4 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(14)
trigger5 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger5 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(15)
trigger6 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger6 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(16)
trigger7 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger7 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(17)
trigger8 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger8 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(18)
trigger9 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger9 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(19)
trigger10 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger10 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(20)
trigger11 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger11 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(21)
trigger12 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger12 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(22)
trigger13 = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
trigger13 = EnemyNear(Var(55)),StateNo = Helper(9185),Var(23)
v = 54 
value = 1060
ignorehitpause = 1

;要被抓了
[State -1, VarSet]
type = VarSet
triggerall = Var(54) = 0 || Var(54) = 801
triggerall = NumHelper(9190) > 0 & NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
triggerall = Helper(9190),FVar(17) = 1 || EnemyNear(Var(55)),StateNo = [0, 100]
trigger1 = (P2Dist X = [-15, 5+Floor(Helper(9180),Fvar(24))]) & Helper(9180),Fvar(24) > 0
trigger1 = 1000*(Helper(9180),Fvar(24)-Floor(Helper(9180),Fvar(24))) > 2
trigger2 = (P2Dist X = [-15, 5+Floor(Helper(9180),Fvar(25))]) & Helper(9180),Fvar(25) > 0
trigger2 = 1000*(Helper(9180),Fvar(25)-Floor(Helper(9180),Fvar(25))) > 2
trigger3 = (P2Dist X = [-15, 5+Floor(Helper(9180),Fvar(26))]) & Helper(9180),Fvar(26) > 0
trigger3 = 1000*(Helper(9180),Fvar(26)-Floor(Helper(9180),Fvar(26))) > 2
trigger4 = (P2Dist X = [-15, 5+Floor(Helper(9180),Fvar(27))]) & Helper(9180),Fvar(27) > 0
trigger4 = 1000*(Helper(9180),Fvar(27)-Floor(Helper(9180),Fvar(27))) > 2
trigger5 = (P2Dist X = [-15, 5+Floor(Helper(9180),Fvar(28))]) & Helper(9180),Fvar(28) > 0
trigger5 = 1000*(Helper(9180),Fvar(28)-Floor(Helper(9180),Fvar(28))) > 2
trigger6 = (P2Dist X = [-15, 5+Floor(Helper(9180),Fvar(29))]) & Helper(9180),Fvar(29) > 0
trigger6 = 1000*(Helper(9180),Fvar(29)-Floor(Helper(9180),Fvar(29))) > 2
v = 54
value = 800

[State -1, VarSet]
type = VarSet
triggerall = Var(54) = 0 || Var(54) = 801
triggerall = NumHelper(9190) > 0 & NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
triggerall = Helper(9190),FVar(17) = 1 || EnemyNear(Var(55)),StateNo = [0, 100]
trigger1 = (P2Dist X = [-15, 5+Floor(Helper(9185),Fvar(24))]) & Helper(9185),Fvar(24) > 0
trigger1 = 1000*(Helper(9185),Fvar(24)-Floor(Helper(9185),Fvar(24))) > 2
trigger2 = (P2Dist X = [-15, 5+Floor(Helper(9185),Fvar(25))]) & Helper(9185),Fvar(25) > 0
trigger2 = 1000*(Helper(9185),Fvar(25)-Floor(Helper(9185),Fvar(25))) > 2
trigger3 = (P2Dist X = [-15, 5+Floor(Helper(9185),Fvar(26))]) & Helper(9185),Fvar(26) > 0
trigger3 = 1000*(Helper(9185),Fvar(26)-Floor(Helper(9185),Fvar(26))) > 2
trigger4 = (P2Dist X = [-15, 5+Floor(Helper(9185),Fvar(27))]) & Helper(9185),Fvar(27) > 0
trigger4 = 1000*(Helper(9185),Fvar(27)-Floor(Helper(9185),Fvar(27))) > 2
trigger5 = (P2Dist X = [-15, 5+Floor(Helper(9185),Fvar(28))]) & Helper(9185),Fvar(28) > 0
trigger5 = 1000*(Helper(9185),Fvar(28)-Floor(Helper(9185),Fvar(28))) > 2
trigger6 = (P2Dist X = [-15, 5+Floor(Helper(9185),Fvar(29))]) & Helper(9185),Fvar(29) > 0
trigger6 = 1000*(Helper(9185),Fvar(29)-Floor(Helper(9185),Fvar(29))) > 2
v = 54
value = 800

;1F
[State -1, VarSet]
type = VarSet
triggerall = Var(54) = 0 || Var(54) = 800
triggerall = NumHelper(9190) > 0 & NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = EnemyNear(Var(55)),ID = Helper(9180),Var(59)
triggerall = Helper(9190),FVar(17) = 1 || EnemyNear(Var(55)),StateNo = [0, 100]
trigger1 = (P2Dist X = [-15, 5+Floor(Helper(9180),Fvar(24))]) & Helper(9180),Fvar(24) > 0
trigger1 = 1000*(Helper(9180),Fvar(24)-Floor(Helper(9180),Fvar(24))) = [1,2]
trigger2 = (P2Dist X = [-15, 5+Floor(Helper(9180),Fvar(25))]) & Helper(9180),Fvar(25) > 0
trigger2 = 1000*(Helper(9180),Fvar(25)-Floor(Helper(9180),Fvar(25))) = [1,2]
trigger3 = (P2Dist X = [-15, 5+Floor(Helper(9180),Fvar(26))]) & Helper(9180),Fvar(26) > 0
trigger3 = 1000*(Helper(9180),Fvar(26)-Floor(Helper(9180),Fvar(26))) = [1,2]
trigger4 = (P2Dist X = [-15, 5+Floor(Helper(9180),Fvar(27))]) & Helper(9180),Fvar(27) > 0
trigger4 = 1000*(Helper(9180),Fvar(27)-Floor(Helper(9180),Fvar(27))) = [1,2]
trigger5 = (P2Dist X = [-15, 5+Floor(Helper(9180),Fvar(28))]) & Helper(9180),Fvar(28) > 0
trigger5 = 1000*(Helper(9180),Fvar(28)-Floor(Helper(9180),Fvar(28))) = [1,2]
trigger6 = (P2Dist X = [-15, 5+Floor(Helper(9180),Fvar(29))]) & Helper(9180),Fvar(29) > 0
trigger6 = 1000*(Helper(9180),Fvar(29)-Floor(Helper(9180),Fvar(29))) = [1,2]
v = 54
value = 801

[State -1, VarSet]
type = VarSet
triggerall = Var(54) = 0 || Var(54) = 800
triggerall = NumHelper(9190) > 0 & NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = EnemyNear(Var(55)),ID = Helper(9185),Var(59)
triggerall = Helper(9190),FVar(17) = 1 || EnemyNear(Var(55)),StateNo = [0, 100]
trigger1 = (P2Dist X = [-15, 5+Floor(Helper(9185),Fvar(24))]) & Helper(9185),Fvar(24) > 0
trigger1 = 1000*(Helper(9185),Fvar(24)-Floor(Helper(9185),Fvar(24))) = [1,2]
trigger2 = (P2Dist X = [-15, 5+Floor(Helper(9185),Fvar(25))]) & Helper(9185),Fvar(25) > 0
trigger2 = 1000*(Helper(9185),Fvar(25)-Floor(Helper(9185),Fvar(25))) = [1,2]
trigger3 = (P2Dist X = [-15, 5+Floor(Helper(9185),Fvar(26))]) & Helper(9185),Fvar(26) > 0
trigger3 = 1000*(Helper(9185),Fvar(26)-Floor(Helper(9185),Fvar(26))) = [1,2]
trigger4 = (P2Dist X = [-15, 5+Floor(Helper(9185),Fvar(27))]) & Helper(9185),Fvar(27) > 0
trigger4 = 1000*(Helper(9185),Fvar(27)-Floor(Helper(9185),Fvar(27))) = [1,2]
trigger5 = (P2Dist X = [-15, 5+Floor(Helper(9185),Fvar(28))]) & Helper(9185),Fvar(28) > 0
trigger5 = 1000*(Helper(9185),Fvar(28)-Floor(Helper(9185),Fvar(28))) = [1,2]
trigger6 = (P2Dist X = [-15, 5+Floor(Helper(9185),Fvar(29))]) & Helper(9185),Fvar(29) > 0
trigger6 = 1000*(Helper(9185),Fvar(29)-Floor(Helper(9185),Fvar(29))) = [1,2]
v = 54
value = 801

[State -1, VarSet]
type = VarSet
triggerall = NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = Var(54) = 800 || Var(54) = 801
triggerall = EnemyNear(Var(55)),ID = Helper(9180),Var(59) & EnemyNear(Var(55)),ID != Helper(9185),Var(59)
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9180),Fvar(24))]) & Helper(9180),Fvar(24) > 0
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9180),Fvar(25))])
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9180),Fvar(26))])
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9180),Fvar(27))])
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9180),Fvar(28))])
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9180),Fvar(29))])
trigger2 = EnemyNear(Var(55)),StateNo != [0, 100]
trigger2 = Helper(9190),FVar(17) = 0
v = 54
value = 0

[State -1, VarSet]
type = VarSet
triggerall = NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = Var(54) = 800 || Var(54) = 801
triggerall = EnemyNear(Var(55)),ID = Helper(9185),Var(59) & EnemyNear(Var(55)),ID != Helper(9180),Var(59)
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9185),Fvar(24))]) & Helper(9185),Fvar(24) > 0
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9185),Fvar(25))])
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9185),Fvar(26))])
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9185),Fvar(27))])
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9185),Fvar(28))])
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9185),Fvar(29))])
trigger2 = EnemyNear(Var(55)),StateNo != [0, 100]
trigger2 = Helper(9190),FVar(17) = 0
v = 54
value = 0

[State -1, VarSet]
type = VarSet
triggerall = NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = Var(54) = 800 || Var(54) = 801 
triggerall = EnemyNear(Var(55)),ID = Helper(9180),Var(59) & EnemyNear(Var(55)),ID = Helper(9185),Var(59)
triggerall = P2MoveType != A
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9180),Fvar(24))]) & Helper(9180),Fvar(24) > 0
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9180),Fvar(25))])
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9180),Fvar(26))])
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9180),Fvar(27))])
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9180),Fvar(28))])
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9180),Fvar(29))])
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9185),Fvar(24))])
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9185),Fvar(25))])
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9185),Fvar(26))])
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9185),Fvar(27))])
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9185),Fvar(28))])
trigger1 = (P2Dist X != [-15, 5+Floor(Helper(9185),Fvar(29))])
trigger2 = EnemyNear(Var(55)),StateNo != [0, 100]
trigger2 = Helper(9190),FVar(17) = 0
v = 54
value = 0

[State -1, VarSet]
type = VarSet
trigger1 = P2MoveType = H
v = 54 
value = 0
ignorehitpause = 1

[State -1, VarSet]
type = VarSet
triggerall = Var(54) != 0 & Var(54) != 800 & Var(54) != 801
trigger1 = P2MoveType != A 
v = 54 
value = 0
ignorehitpause = 1
;---------------------------------------------------------------------------

;;;;;;;敵人
[State -2]
type = VarSet
trigger1 = NumEnemy = 1
trigger2 = NumEnemy > 1
trigger2 = EnemyNear(0),Life>0
var(55) = 0
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = NumEnemy > 1
trigger1 = EnemyNear(0),Life <= 0
var(55) = 1
ignorehitpause = 1

;數值分析
[State -2, DEBUG]
type = Null;DisplayToClipboard
trigger1 = 1
text = "PBDX:%f,PBDY:%f,35:%f,38:%f,4:%f"
params = P2BodyDist X,P2BodyDist Y,var(53),Var(56),Fvar(2)
;ignorehitpause =
;persistent =  

;juggle計算
[State -2, AI]
type = Varset
triggerall = Var(58) > 0
trigger1 = StateNo = 4002
v = 57
value = 4002
[State -2, AI]
type = Varset
triggerall = Var(58) > 0 & !(Var(57) = 4002 & P2MoveType != A)
trigger1 = P2MoveType != H & P2StateType != L
trigger2 = P2StateNo = 5120
v = 57
value = 0
persistent = 0
[State -2, AI]
type = Varadd
triggerall = Var(58) > 0
triggerall = MoveHit = 1 & P2MoveType = H
trigger1 = StateNo = 620
trigger2 = StateNo = 650
v = 57
value = 6
persistent = 0
[State -2, AI]
type = Varadd
triggerall = Var(58) > 0
triggerall = MoveHit = 1 & P2MoveType = H
trigger1 = StateNo = 980
trigger2 = StateNo = 1230
v = 57
value = 4
persistent = 0
[State -2, AI]
type = Varadd
triggerall = Var(58) > 0
triggerall = MoveHit = 1 & P2MoveType = H
trigger1 = StateNo = 221
trigger2 = StateNo = 420
trigger3 = StateNo = 426
v = 57
value = 3
persistent = 0
[State -2, AI]
type = Varadd
triggerall = Var(58) > 0
triggerall = MoveHit = 1 & P2MoveType = H
trigger1 = StateNo = 1000
trigger2 = StateNo = 1010
trigger3 = StateNo = 1020
trigger4 = StateNo = 322
trigger5 = StateNo = 210
trigger6 = StateNo = 211
trigger7 = StateNo = 426
trigger8 = StateNo = 410
trigger9 = StateNo = 652
v = 57
value = 2
persistent = 0
[State -2, AI]
type = Varadd
triggerall = Var(58) > 0
triggerall = MoveHit = 1 & P2MoveType = H
trigger1 = StateNo = 1905
trigger2 = StateNo = 200
trigger3 = StateNo = 400
v = 57
value = 1
persistent = 0

;---------------------------------------------------------------------------
;                               情境模擬
;---------------------------------------------------------------------------
;帶入用一覽表
;1:=桌角連
;2:=空連接投
;3:=低空連段落地
;4:=地板動作
;5:=感染搬運
;6:=空接地
;7:=安心信賴壓制
;8:=桌子好朋友
;9:=基本跳起手
;10:=跳飛道
;11:=跳抓
;12:=防住脫離
;13:=角落無限?連
;14:=新J2C追打
;15:=新JC地面追打
;16:=新感染空連
;50:=
;99:=你已經死了
;100:=你已經死了2
;110:=12P平推
;111:=12P地起手空連
;112:=12P角落桌連
;113:=走A
;114:=12P地板動作
;115:=12P 425起手
;116:=12P空接地
;117:=12P水砲前衝
;118:=劇情
;119:=鬼蓄閃避(空中)
;120:=鬼蓄閃避(地面)
;121:=鐵拳無敵
;122:=新431接J2C

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) != 118 & Var(53) != 50
trigger1 = StateNo = 654 || StateNo = 2300
trigger2 = StateNo = 3999 || StateNo = 3998 || StateNo = 3900 || StateNo = 3950
trigger3 = StateNo = 3500
trigger4 = StateType = L ;通用
v = 53
value = 0

[State -1, VarSet]
type = VarSet
trigger1 = Var(53) != 118 & Var(53) != 50
trigger1 = NumEnemy = 1
trigger1 = EnemyNear(Var(55)),Alive = 0
trigger2 = NumEnemy = 2
trigger2 = Enemy(0),Alive = 0 & Enemy(1),Alive = 0
trigger3 = RoundState = 3 & Alive
trigger4 = Alive = 0
v = 53
value = 0

;劇情
[State -1, VarSet]
type = VarSet
triggeral1 = Var(53) != 118
triggerall = var(40) = 7
triggerall = (StateNo = 3020 || StateNo = 3080 || (StateNo = 3220 & NumHelper(3075) > 0) || (StateNo = 3250 & NumHelper(3075) > 0)) & RoundNo > 1
triggerall = Random <= 100+150*(RoundNo = 3)
trigger1 = NumEnemy = 1
trigger1 = EnemyNear(Var(55)),Alive = 0
trigger2 = NumEnemy = 2
trigger2 = Enemy(0),Alive = 0 & Enemy(1),Alive = 0
trigger3 = RoundState = 3 & Alive
v = 53
value = 118



;防卡住
;胡桃與她愉快的夥伴
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3500
triggerall = Var(58) > 0
triggerall = var(12)  = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) 
trigger1 = power >= 1000 & RoundNo > 1
trigger1 = NumEnemy = 1 & Random <= 100
trigger1 = EnemyNear(Var(55)),Alive = 0
trigger2 = power >= 1000 & RoundNo > 1
trigger2 = NumEnemy = 2 & Random <= 100
trigger2 = Enemy(0),Alive = 0 & Enemy(1),Alive = 0
;開幕慈姐
trigger3 = Random <= 2 & PrevStateNo = [190,199]
trigger4 = Random <= 2 & PrevStateNo = 5900
trigger5 = Random <= 2 & PrevStateNo = [1990,1991]

[State -1, Run Fwd]
type = ChangeState
value = IfElse(Var(12)=1,2300,654)
triggerall = Var(58) > 0 & StateType != A & Var(53) != 50 & Anim != 4003
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = NumEnemy = 1
trigger1 = EnemyNear(Var(55)),Alive = 0
trigger2 = NumEnemy = 2
trigger2 = Enemy(0),Alive = 0 & Enemy(1),Alive = 0
trigger3 = RoundState = 3 & Alive
trigger4 = StateNo = 321 & Time > 120 & RoundState = 2

;你已經死了
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0
triggerall = fvar(16) = 800
triggerall = var(40) != 7
trigger1 = StateNo = 420 & MoveHit
trigger1 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -250) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 250) ;版邊
trigger2 = (StateNo = 1110 || StateNo = 1100 || StateNo = 1120) & MoveHit
trigger2 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -250) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 250) ;版邊
trigger3 = StateNo = 420 & MoveHit & NumHelper(1400) > 0
trigger3 = EnemyNear(Var(55)),BackEdgeBodyDist < 5
trigger4 = (StateNo = 1110 || StateNo = 1100 || StateNo = 1120) & MoveHit & NumHelper(1400) > 0
trigger4 = EnemyNear(Var(55)),BackEdgeBodyDist < 5
v = 53
value = 99

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 99
trigger1 = P2StateType != A
trigger2 = P2MoveType != H
trigger3 = StateNo = 3950
v = 53
value = 0


;你已經死了2
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & 0
triggerall = fvar(16) = 800
triggerall = var(40) != 7
trigger1 = StateNo = 426 & MoveHit = 1
trigger1 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -125) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 125) ;版邊
trigger2 = StateNo = 426 & MoveHit = 1 & NumHelper(1400) > 0
trigger2 = EnemyNear(Var(55)),BackEdgeBodyDist < 5
v = 53
value = 100

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 100
trigger1 = P2StateType != A & StateType = A
trigger2 = P2MoveType != H
trigger3 = P2StateType = L
v = 53
value = 0

;鬼蓄閃避(空中)
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) != 120
triggerall = var(40) = 7
triggerall = Helper(9190),Fvar(16) = 0
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = 100 & Time > 10) || (StateNo = [120,140]) || StateNo = 321)
trigger1 = Helper(9190),Fvar(15) = 1 & EnemyNear(Var(55)),AnimTime = [-45,-20]
trigger1 = Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time >= 6 || (Helper(9190),Fvar(11) = 0 & Random <= 250)
trigger2 = (vel Y != [-9,9]) || pos y = [-50,50]
trigger2 = StateNo = 50 & P2MoveType = A & Time >= EnemyNear(Var(55)),Time & P2BodyDist X < 100
trigger3 = StateNo = 5210 & Ctrl & P2MoveType = A & (Time >= EnemyNear(Var(55)),Time || P2StateType = A)
trigger4 = StateNo = 216 & MoveHit & P2MoveType != H
trigger5 = StateNo = 431 & MoveHit & P2MoveType != H & NumTarget > 0
trigger5 = Target,IsHelper
v = 53
value = 119

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0
triggerall = Var(53) = 119
trigger1 = StateNo = 52
trigger2 = StateNo = 1280
trigger3 = StateNo = 625 & MoveHit & P2MoveType = H
trigger4 = StateNo = 655 & MoveHit & P2MoveType = H
v = 53
value = 0

;地轉空
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) = 120
triggerall = var(40) = 7
triggerall = Helper(9190),Fvar(16) = 0
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = 100 & Time > 10) || (StateNo = [120,140]) || StateNo = 321)
trigger1 = EnemyNear(Var(55)),HitDefAttr = SCA,AT
v = 53
value = 119

;鬼蓄閃避(地面)
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) != 119
triggerall = var(40) = 7
triggerall = Helper(9190),Fvar(14) = 0
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = 100 & Time > 10) || (StateNo = [120,140]) || StateNo = 321 || StateNo = 52)
trigger1 = Helper(9190),Fvar(15) = 1
trigger1 = StateType != A
trigger2 = EnemyNear(Var(55)),Time >= 100 & Random <= 250 & StateNo = 100
trigger3 = PrevStateNo = 5120 & P2MoveType = A & EnemyNear(Var(55)),Time >= 5 & InGuardDist
trigger4 = (StateNo = 3220 || StateNo = 3650) & P2MoveType != H & P2StateNo >= 200 & Time >= 46  & Time >= EnemyNear(Var(55)),Time
trigger4 = P2BodyDist X = [0,150]
v = 53
value = 120

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = Var(53) = 120
trigger1 = Helper(9190),Fvar(15) = 0 & Var(56) != 70
trigger2 = P2StateNo < 200
trigger3 = MoveType != I & (StateNo != 3220 & StateNo != 3650) & Var(56) != 70
trigger4 = StateNo >= 200 & StateNo != 321
trigger5 = StateType = A
trigger6 = Helper(9190),Fvar(14) = 1
trigger7 = P2MoveType != A & Helper(9190),Var(31) != [1,4]
trigger8 = P2MoveType = H
trigger9 = StateNo = 105
v = 53
value = 0


;12P平推
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0
triggerall = var(40) = 7
triggerall = P2StateType = S || P2StateType = C
trigger1 = StateNo = 205 & MoveContact
trigger2 = StateNo = 215 & MoveContact
trigger3 = StateNo = 226 & MoveContact
trigger4 = StateNo = 1551 & MoveContact
trigger5 = StateNo = 431 & MoveGuarded & Random <= 100
trigger6 = StateNo = 1561 & MoveContact
v = 53
value = 110

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 110
trigger1 = StateNo = 1060
v = 53
value = 115

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 110
trigger1 = P2StateType = A
trigger2 = P2MoveType != H
trigger3 = StateType = A
trigger4 = MoveGuarded & P2MoveType != H
trigger5 = StateNo = 2470
trigger6 = StateNo = 216
v = 53
value = 0

;新431接J2C
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 
triggerall = var(40) = 7 & Var(13) = 0
trigger1 = StateNo = 431 & MoveHit & Var(53) != 115 & EnemyNear(Var(55)),PrevStateNo != [5020,5071] 
trigger2 = StateNo = 655 & MoveHit & Var(13) < 1 & Var(53) != 115
v = 53
value = 122

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 122
trigger1 = P2StateType != A & StateNo != 431 & StateNo != 1050
trigger2 = P2MoveType != H
trigger3 = P2StateType = L & StateNo != 1150 & StateNo != 1160 & StateNo != 1170
trigger4 = StateNo = 205
trigger5 = StateNo = 3220
v = 53
value = 0


;12P地起手空連
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 
triggerall = var(40) = 7
triggerall = !(StateNo = 205 & MoveHit & Var(12) = 1 & Var(53) = 112)
trigger1 = (StateNo = 205 || StateNo = 215 || StateNo = 226) & P2StateType = A & MoveHit
trigger2 = StateNo = 431 & MoveHit & Var(53) != 115 & Var(13) > 0
v = 53
value = 111

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 111
trigger1 = P2StateType != A & StateNo != 431 & StateNo != 1050
trigger2 = P2MoveType != H
trigger3 = P2StateType = L & StateNo != 1150 & StateNo != 1160 & StateNo != 1170
trigger4 = StateNo = 3220
trigger5 = StateNo = 3650
trigger6 = StateNo = 3120
trigger7 = StateNo = 3750
trigger8 = StateNo = 3320
trigger9 = StateNo = 2470
v = 53
value = 0

;12P桌連
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & var(40) = 7 & Var(53) != 118
trigger1 = StateNo = 2401 & NumTarget > 0 & Var(57) < 21-1*(NumHelper(3605) > 0)+4*(fvar(16) = 800)
trigger2 = (StateNo = 3220 || StateNo = 3250) & P2MoveType = H & P2StateType = A
trigger3 = StateNo = 3650 & P2MoveType = H & P2StateType = A
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2MoveType = H & P2StateNo = [12110,12120]
trigger4 = Var(12) = 1
trigger5 = (StateNo = 2050 & MoveHit) || (StateNo = 100 & PrevStateNo = 2050)
v = 53
value = 112

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 112 & StateNo != 2050 
trigger1 = P2StateType != A
trigger2 = P2MoveType != H
trigger3 = StateNo = 2400
trigger4 = StateNo = 3620 & fvar(16) != 800 & Var(57) >= 15
trigger5 = StateNo = 211
trigger6 = P2StateNo = 5070 & Helper(9190),Var(29)%7 = 0
v = 53
value = 0

;走A
[State -1, VarSet]
type = VarSet
triggerall = Var(40) = 7
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 114) & NumHelper(9190) > 0
triggerall = !(Var(57) >= 35 & NumHelper(1400) > 0)
trigger1 = StateNo = 1160 & PrevStateNo = 425
trigger2 = StateNo = 1170 & PrevStateNo = 425
v = 53
value = 113

[State -1, VarSet]
type = VarSet
triggerall = Var(40) = 7
triggerall = Var(53) = 113 & NumHelper(9190) > 0
trigger1 = StateNo = 205
trigger2 = P2MoveType != H
trigger3 = P2StateType != A & StateNo != 1170 & StateNo != 1160 & StateNo != 1150
v = 53
value = 0

;12P 425起手
[State -1, VarSet]
type = VarSet
triggerall = Var(40) = 7
triggerall = Var(58) > 0 & ((Var(53) = [0,99]) || Var(53) = 114) & NumHelper(9190) > 0
trigger1 = StateNo = 425 & MoveContact
trigger2 = StateNo = 1050 & (PrevStateNo = 1150 || PrevStateNo = 1160 || PrevStateNo = 1170) & P2MoveType = H
v = 53
value = 115

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 115 & StateNo != 425
trigger1 = StateNo = 2470 || StateNo = 1560
trigger2 = P2MoveType != H
trigger3 = P2StateType = L
trigger4 = Var(56) = 40 || StateNo = 3080 || (Power < 1000 & (Var(56) = [20,30]) & StateNo < 200)
v = 53
value = 0

;12P地板動作
[State -1, VarSet]
type = VarSet
triggerall = Var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 0 & NumHelper(9190) > 0
triggerall = !(Var(57) >= 35 & NumHelper(1400) > 0)
triggerall = !(NumHelper(1400) > 0 & Helper(9190),Var(29) %11 = 0)
trigger1 = StateNo = 900 || StateNo = 1201 || StateNo = 1211 || StateNo = 1232 || (StateNo = 3850 & MoveHit & P2MoveType = H & P2StateType = A)
trigger1 = NumTarget > 0
trigger1 = Target,IsHelper = 0 & Target,Alive
trigger2 = ((PrevStateNo = 3316 & StateNo = 52) || (StateNo = 3020 & AnimTime >= -10)) & P2BodyDist X < 120 & P2MoveType = H & P2StateType != S & P2StateType != C
trigger2 = Helper(9190),Var(32) >= 0
trigger3 = ((PrevStateNo = 2110 & StateNo = 52) || (StateNo = 2601 & AnimTime >= -10)) & P2BodyDist X < 120 & P2MoveType = H & P2StateType != S & P2StateType != C
trigger3 = Helper(9190),Var(32) >= 0
v = 53
value = 114

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 114 & NumHelper(9190) > 0
triggerall = !(StateNo = 900 || StateNo = 1201 || StateNo = 1211 || StateNo = 1232) 
trigger1 = P2StateNo != 5120 & (P2StateNo !=  [5200,5219]) & (P2StateNo != [5050,5071])
trigger1 = P2StateType != L & EnemyNear(Var(55)),PrevStateNo !=  [5101,5119]
trigger2 = MoveType = H
trigger3 = P2MoveType = A
trigger4 = P2StateType = S || P2StateType = C
trigger5 = StateNo = 1450
trigger6 = StateNo = 1160 || StateNo = 1170
trigger7 = Var(57) >= 35 & NumHelper(1400) > 0
trigger8 = StateNo = 226 & AnimElem = 5 & MoveContact = 0
trigger9 = StateNo = 425 & AnimElem = 5 & MoveContact = 0
trigger10 = P2StateNo = 5070 & Helper(9190),Var(29)%7 = 0
v = 53
value = 0

;12P空接地
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7) & var(40) = 7
trigger1 = StateNo = 625 & MoveContact & (P2StateType != A || (P2BodyDist Y >= -90 & P2StateType = A))
trigger2 = StateNo = 615 & MoveContact & (P2StateType != A || (P2BodyDist Y >= -90 & P2StateType = A))
trigger3 = EnemyNear(Var(55)),Anim = 5300 & P2MoveType != A & EnemyNear(Var(55)),Ctrl = 0
trigger4 = StateNo = 100 & PrevStateNo = 2621 & NumProjID(111) > 0
trigger5 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger5 = (P2StateNo = [3350,3352]) & P2MoveType = H
v = 53
value = 116

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 116 & !(EnemyNear(Var(55)),Anim = 5300 & P2MoveType != A & EnemyNear(Var(55)),Ctrl = 0)
triggerall = !((P2StateNo = [3350,3352]) & P2MoveType = H)
trigger1 = P2StateType = A & P2BodyDist Y < -90
trigger2 = P2MoveType != H & !(PrevStateNo = 2621 & NumProjID(111) > 0)
trigger3 = MoveType = A & StateType != A
trigger4 = P2StateType = L
trigger5 = StateNo = 1550
trigger6 = PrevStateNo = 2621 & NumProjID(111) = 0 & P2MoveType != H
v = 53
value = 0

;12P水砲前衝
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) != 115 & Var(53) != 118 & Var(53) != 122 & P2BodyDist X <= 200
trigger1 = StateNo = 3020 & P2MoveType = H & P2StateType = A
trigger2 = StateNo = 3080 & P2MoveType != A & P2StateType = A
trigger3 = StateNo = 1561 & MoveHit & P2MoveType = H & P2StateType = A & Var(53) != [111,116]
v = 53
value = 117

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 117
trigger1 = P2StateType != A
trigger2 = P2MoveType != H & Var(56) != 50
trigger3 = MoveType = H
trigger4 = StateNo = 1280
v = 53
value = 0

;鐵拳無敵
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & var(40) = 7 
trigger1 = StateNo = 3850 & MoveHit & P2MoveType = H
v = 53
value = 121

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 121 
trigger1 = P2StateType != A & StateNo != 3850
trigger2 = P2MoveType != H
trigger3 = StateNo = 2401
v = 53
value = 0


;劇情
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0
triggerall = var(40) = 7 & NumHelper(3205) = 0
triggerall = P2StateType != L
triggerall = Power >= 3000
trigger1 = Random <= 410-400*P2StateType = A
trigger1 = Helper(9190),Var(32)%3 != 0 ;非鋼體
trigger1 = StateNo = 3020 & Time > 110
trigger2 = Random <= 500-450*P2StateType = A
trigger2 = StateNo = 3080 & Time < 30 & P2MoveType != H
trigger3 = StateNo = 3020 & (Time = [100,106]) & P2MoveType = H & EnemyNear(Var(55)),Life < 200 & EnemyNear(Var(55)),Alive & RoundNo > 1
trigger3 = P2BodyDist X < 95 & Random <= 5
v = 53
value = 118

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 118
trigger1 = StateNo = 3500
trigger2 = MoveType = H
trigger3 = StateNo = [200,2999]
v = 53
value = 0

;角落無限?連
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0
triggerall = fvar(16) <= 750
triggerall = var(40) != 7 & P2MoveType = H & P2StateType != L
triggerall = Helper(9190),Var(29)%19 != 0
triggerall = Var(53) != 14
trigger1 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -250) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 250) ;版邊
trigger1 = (StateNo = 200 || StateNo = 205 || StateNo = 210) & MoveHit
trigger1 = EnemyNear(Var(55)),BackEdgeBodyDist < 5
trigger2 = NumHelper(1400) > 0
trigger2 = (StateNo = 200 || StateNo = 205 || StateNo = 210) & MoveHit
trigger2 = EnemyNear(Var(55)),BackEdgeBodyDist < 5 & P2BodyDist X <= 50
trigger3 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -250) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 250) ;版邊
trigger3 = (StateNo = 240 || StateNo = 221) & PrevStateNo != 420 & MoveHit = 1 & EnemyNear(Var(55)),Pos Y >= -50
trigger3 = EnemyNear(Var(55)),BackEdgeBodyDist < 5 & P2BodyDist X <= 55
trigger4 = NumHelper(1400) > 0
trigger4 = (StateNo = 240 || StateNo = 221) & PrevStateNo != 420 & MoveHit = 1 & EnemyNear(Var(55)),Pos Y >= -50
trigger4 = EnemyNear(Var(55)),BackEdgeBodyDist < 5 & P2BodyDist X <= 55
trigger5 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -250) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 250) ;版邊
trigger5 = (StateNo = 1500 || StateNo = 1510) & MoveHit
trigger5 = EnemyNear(Var(55)),BackEdgeBodyDist < 5 & P2BodyDist X <= 70 & P2StateType = A
trigger6 = (StateNo = 1500 || StateNo = 1510) & MoveHit & NumHelper(1400) > 0
trigger6 = EnemyNear(Var(55)),BackEdgeBodyDist < 5 & P2BodyDist X <= 70 & P2StateType = A
v = 53
value = 13

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 13
trigger1 = StateNo >= 3000
trigger2 = MoveType = H
trigger3 = P2MoveType != H
trigger3 = Var(56) >= 20 & P2StateType != A
trigger4 = StateNo = [2400,2420]
trigger5 = StateNo = 211
v = 53
value = 0

;桌角連
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 0 & var(40) != 7
trigger1 = StateNo = 3200 & P2MoveType = H & P2StateNo = [12110,12120]
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2MoveType = H & P2StateNo = [12110,12120]
trigger2 = Var(12) = 0 & PrevStateNo != [2400,2420]
v = 53
value = 1

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 1
triggerall = !((StateNo = 420 || StateNo = 1110) & P2StateType != S & P2StateType != C)
trigger1 = P2StateType != A
trigger2 = P2MoveType != H
trigger3 = StateNo = 1000 || StateNo = 1120
trigger4 = StateNo = 420 & AnimElem = 5 & MoveContact = 0
v = 53
value = 0

;空連接投
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 1 || Var(53) = 4) & var(40) != 7
trigger1 = StateNo = 211 & MoveHit & P2MoveType = H & P2StateType = A
trigger2 = StateNo = 600 & MoveHit & P2MoveType = H & P2StateType = A
trigger3 = StateNo = 600 & Time < 4 & P2MoveType = H & P2StateType = A & PrevStateNo = 600
v = 53
value = 2

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 2
trigger1 = P2StateType != A
trigger2 = P2MoveType != H
trigger3 = MoveType = H
trigger4 = StateNo = 1230
v = 53
value = 0

;新J2C追打
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & var(40) != 7
trigger1 = StateNo = 650 & MoveHit & P2MoveType = H & P2StateNo = 12210
trigger2 = StateNo = 52 & PrevStateNo = 650 & P2StateNo = 12210
v = 53
value = 14

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 14
trigger1 = P2StateType != A & P2StateNo != 12210 & P2StateNo != 12211
trigger2 = P2MoveType != H & P2StateNo != 12210 & P2StateNo != 12211
trigger3 = MoveType = H
trigger4 = StateNo = 1230
trigger5 = StateNo = 1400
trigger6 = StateNo = 1120
trigger7 = StateNo = 1220
trigger8 = StateNo = 2410
trigger9 = StateNo = 3200
v = 53
value = 0

;新JC地面追打
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0
triggerall = var(40) != 7
triggerall = P2StateType = S
trigger1 = StateNo = 620 & MoveContact & P2MoveType = H
trigger1 = (Pos Y+0*23+Const(movement.yaccel)*276) < 0
trigger2 = StateNo = 620 & MoveContact & P2MoveType = H
trigger2 = (Pos Y+0*13+Const(movement.yaccel)*78) < 0
trigger2 = (Pos Y+0*19+Const(movement.yaccel)*190) >= 0
v = 53
value = 15

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 15
trigger1 = StateNo = 620 & Var(4) = 0
v = 53
value = 6

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 15
trigger1 = MoveType = H
trigger2 = StateType != A
trigger3 = StateNo = 650
trigger4 = MoveType = A & P2StateType = A
v = 53
value = 0



;低空連段落地
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 2) & var(40) != 7
trigger1 = StateNo = 620 & MoveHit = 1 & P2MoveType = H & P2StateType = A
trigger1 = (Pos Y+Vel Y*7+Const(movement.yaccel)*28) > 0
v = 53
value = 3

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 3
trigger1 = P2StateType != A
trigger2 = P2MoveType != H
trigger3 = MoveType = H
trigger4 = StateNo = 1320
trigger5 = StateNo = 650
v = 53
value = 0

;地板動作
[State -1, VarSet]
type = VarSet
triggerall = Var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 0 & NumHelper(9190) > 0
triggerall = !(Var(57) >= 35 & NumHelper(1400) > 0)
triggerall = !(NumHelper(1400) > 0 & Helper(9190),Var(29) %11 = 0)
triggerall = !(Var(53) = 14 & Var(56) = 34)
trigger1 = StateNo = 900 || StateNo = 1201 || StateNo = 1211 || StateNo = 1232
trigger1 = NumTarget > 0
trigger1 = Target,IsHelper = 0 & Target,Alive
trigger2 = (PrevStateNo = 3316 & StateNo = 52) & P2BodyDist X < 90 & P2MoveType = H & P2StateType != S & P2StateType != C
trigger2 = Helper(9190),Var(32) >= 0
v = 53
value = 4

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 4 & NumHelper(9190) > 0
triggerall = !(StateNo = 900 || StateNo = 1201 || StateNo = 1211 || StateNo = 12632) 
trigger1 = P2StateNo != 5120 & (P2StateNo !=  [5200,5219]) & (P2StateNo != [5050,5071])
trigger1 = P2StateType != L & EnemyNear(Var(55)),PrevStateNo !=  [5101,5119]
trigger2 = MoveType = H
trigger3 = P2MoveType = A
trigger4 = P2StateType = S || P2StateType = C
trigger5 = StateNo = 1110
trigger6 = StateNo = 1400
trigger7 = Var(57) >= 35 & NumHelper(1400) > 0
trigger8 = StateNo = 221 & AnimElem = 5 & MoveContact = 0
trigger9 = StateNo = 420 & AnimElem = 5 & MoveContact = 0
trigger10 = P2StateNo = 5070 & Helper(9190),Var(29)%7 = 0
v = 53
value = 0

;新感染空連
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 1 || Var(53) = 5) & var(40) != 7
trigger1 = StateNo = 2401 & P2StateNo = 12100 & Time = [36,46]
trigger1 = BackEdgeBodyDist < 35
trigger2 = StateNo = 2401 & P2StateNo = 12110 & Time <= 50
trigger2 = P2BodyDist X <= 111
v = 53
value = 16

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 16
trigger1 = P2StateType != A & P2StateNo != 12210 & P2StateNo != 12211 & P2StateNo != 12100 & P2StateNo != [12100,12120]
trigger2 = P2MoveType != H & P2StateNo != [12100,12120]
trigger3 = StateNo = 211
trigger4 = StateNo = 650
v = 53
value = 0

;感染搬運
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 1) & var(40) != 7
trigger1 = StateNo = 2401 & NumTarget > 0 & Var(57) < 21-1*(NumHelper(3605) > 0)+4*(fvar(16) = 800)
trigger2 = (StateNo = 3200 || StateNo = 3250) & P2MoveType = H & P2StateType = A
trigger2 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) < -200) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) > 200) ;非版邊
trigger3 = StateNo = 3200 & P2MoveType = H & P2StateType = A
trigger3 = EnemyNear(Var(55)),Facing = Facing
trigger4 = (StateNo = 3600 || StateNo = 3200 || StateNo = 3250) & fvar(16) = 800 & P2MoveType = H
trigger5 = StateNo = 3600 & (PrevStateNo < 200 || PrevStateNo = 321)
trigger6 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2MoveType = H & P2StateNo = [12110,12120]
trigger6 = Var(12) = 1
v = 53
value = 5

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 5
trigger1 = P2StateType != A
trigger2 = P2MoveType != H
trigger3 = StateNo = 2400 || StateNo = 2410
trigger4 = StateNo = 3600 & fvar(16) != 800 & Var(57) >= 15
trigger5 = StateNo = 211
trigger6 = StateNo = 3900
trigger7 = P2StateNo = 5070 & Helper(9190),Var(29)%7 = 0
v = 53
value = 0

;空接地
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7) & var(40) != 7
trigger1 = StateNo = 620 & MoveHit & P2MoveType = H
trigger2 = EnemyNear(Var(55)),Anim = 5300 & P2MoveType != A & EnemyNear(Var(55)),Ctrl = 0
trigger3 = StateNo = 100 & PrevStateNo = 2621 & NumProjID(111) > 0
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger4 = (P2StateNo = [3350,3352]) & P2MoveType = H
trigger5 = (PrevStateNo = 610 || PrevStateNo = 620) & StateNo = 52 & P2MoveType = H
v = 53
value = 6

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 6
triggerall = !((P2StateNo = [3350,3352]) & P2MoveType = H)
trigger1 = !(EnemyNear(Var(55)),Anim = 5300 & P2MoveType != A & EnemyNear(Var(55)),Ctrl = 0)
trigger1 = P2StateType = A
trigger2 = P2MoveType = A & !(PrevStateNo = 2621 & NumProjID(111) > 0)
trigger3 = MoveType = A & StateType != A & StateNo != [600,620]
trigger4 = PrevStateNo = 2621 & NumProjID(111) = 0 & P2MoveType != H
v = 53
value = 0

;安心信賴壓制
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & (Var(53) = 0 || (Var(53) = 1 & (StateNo = 1000 || StateNo = 1010)) || Var(53) = 8)
triggerall = P2BodyDist X < 115+15*Var(12) = 1
triggerall = NumHelper(9190) > 0
triggerall = !(Helper(9190),Fvar(15) = 0 & Var(40) = 7)
triggerall = Helper(9190),Fvar(16) = 0
trigger1 = PrevStateNo = 1400 & P2StateType = L
trigger2 = P2StateNo = 5120 & EnemyNear(Var(55)),AnimTime >= -12 & Helper(9190),Var(30) = 1
trigger3 = (EnemyNear(Var(55)),PrevStateNo = [5101,5119]) & (P2StateNo != [5101,5119]) & P2MoveType != H & Helper(9190),Var(30) = 1
trigger4 = Helper(9190),Var(30) = 1 & Random <= 200
trigger5 = Helper(9190),Var(30) > 0 & (StateNo = 1000 || StateNo = 1010)
trigger6 = EnemyNear(Var(55)),Facing = Facing & NumHelper(1400) > 0 & P2BodyDist X <= 150 & Random <= 200
trigger7 = (StateNo < 200 || StateNo = 321) & Random <= 60
trigger7 = P2StateType = L || ((EnemyNear(Var(55)),PrevStateNo = [5030,5071]) & (P2StateNo != [5030,5071]))
v = 53
value = 7

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 7
trigger1 = StateNo = 620
trigger2 = P2MoveType = H
trigger3 = MoveType = H
trigger4 = MoveType = A & StateType != A & StateNo != 1000
trigger5 = StateNo = 52
trigger6 = NumHelper(9190) > 0
trigger6 = Helper(9190),Fvar(16) = 1
trigger7 = StateNo = 321 & Time > 10
v = 53
value = 0

;桌子好朋友
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 0 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = !(Helper(9190),Fvar(15) = 0 & Var(40) = 7)
triggerall = StateType != A & StateNo != 100 
triggerall = PrevStateNo > 200 & P2MoveType = H
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
triggerall = !(EnemyNear(Var(55)),Facing = Facing & NumHelper(1400) > 0)
trigger1 = NumHelper(3205) > 0
trigger1 = Helper(9190),Var(30) = 0 & Helper(3205),Facing = Facing & Helper(3205),RootDist X > 40 & Helper(3205),BackEdgeBodyDist > 0 & Helper(3205),FrontEdgeBodyDist > 0
trigger2 = NumHelper(3205) > 0
trigger2 = Helper(9190),Var(30) = 0 & Helper(3205),Facing != Facing & Helper(3205),RootDist X < -40 & Helper(3205),BackEdgeBodyDist > 0 & Helper(3205),FrontEdgeBodyDist > 0
trigger3 = NumHelper(3605) > 0
trigger3 = Helper(9190),Var(30) = 0 & Helper(3605),Facing = Facing & Helper(3605),RootDist X > 35 & Helper(3605),BackEdgeBodyDist > 0 & Helper(3605),FrontEdgeBodyDist > 0
trigger4 = NumHelper(3605) > 0
trigger4 = Helper(9190),Var(30) = 0 & Helper(3605),Facing != Facing & Helper(3605),RootDist X < -55 & Helper(3605),BackEdgeBodyDist > 0 & Helper(3605),FrontEdgeBodyDist > 0

trigger5 = NumHelper(3205) > 0
trigger5 = Helper(9190),Var(30) = 0 & Helper(3205),Facing = Facing & Helper(3205),RootDist X < -40 & Helper(3205),BackEdgeBodyDist > 0 & Helper(3205),FrontEdgeBodyDist > 0
trigger6 = NumHelper(3205) > 0
trigger6 = Helper(9190),Var(30) = 0 & Helper(3205),Facing != Facing & Helper(3205),RootDist X > 40 & Helper(3205),BackEdgeBodyDist > 0 & Helper(3205),FrontEdgeBodyDist > 0
trigger7 = NumHelper(3605) > 0
trigger7 = Helper(9190),Var(30) = 0 & Helper(3605),Facing = Facing & Helper(3605),RootDist X < -70 & Helper(3605),BackEdgeBodyDist > 0 & Helper(3605),FrontEdgeBodyDist > 0
trigger8 = NumHelper(3605) > 0
trigger8 = Helper(9190),Var(30) = 0 & Helper(3605),Facing != Facing & Helper(3605),RootDist X > 30 & Helper(3605),BackEdgeBodyDist > 0 & Helper(3605),FrontEdgeBodyDist > 0
v = 53
value = 8

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 8 & ((StateNo != 21 & StateNo != 22 & StateNo != 100) || (StateNo = 100 & P2MoveType = A) || (StateNo = 100 & P2BodyDist X <= 100))
trigger1 = Helper(9190),Var(30) = 1
trigger2 = P2MoveType = A
trigger3 = EnemyNear(Var(55)),Facing = Facing
trigger4 = NumHelper(3205) > 0
trigger4 = Helper(3205),StateNo = 3208 || Helper(3205),Var(9) >= 3
trigger5 = NumHelper(3605) > 0
trigger5 = Helper(3605),StateNo = 3208 || Helper(3605),Var(9) >= 3
trigger6 = NumHelper(3205) = 0 & NumHelper(3605) = 0
v = 53
value = 0

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 8 & (StateNo = 22 || StateNo = 100) & Time > 20 & StateNo < 200
trigger1 = Helper(9190),Var(30) = 1
trigger2 = P2MoveType = A
trigger3 = EnemyNear(Var(55)),Facing = Facing
trigger4 = NumHelper(3205) > 0
trigger4 = Helper(3205),StateNo = 3208 || Helper(3205),Var(9) >= 3
trigger5 = NumHelper(3605) > 0
trigger5 = Helper(3605),StateNo = 3208 || Helper(3605),Var(9) >= 3
trigger6 = NumHelper(3205) = 0 & NumHelper(3605) = 0
trigger7 = MoveType = H
v = 53
value = 0

;基本跳起手

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = !(Helper(9190),Fvar(15) = 0 & Var(40) = 7)
triggerall = StateType != A
triggerall = Helper(9190),Fvar(16) = 0
trigger1 = (StateNo = [41,43]) & P2MoveType = A & P2StateType != A & P2StateType != L
v = 53
value = 9

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = StateType != A & StateNo != 100 
triggerall = StateNo < 200 & P2StateType != A & P2StateType != L
triggerall = Helper(9190),Fvar(16) = 0
triggerall = ((Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) || StateNo = 100)
triggerall = P2BodyDist X = [100+50*(StateNo=100),130+50*(StateNo=100)] 
trigger1 = EnemyNear(Var(55)),Facing != Facing & NumHelper(1400) > 0 ;對手打球
trigger1 = P2MoveType = A & Helper(1400),P2BodyDist X < P2BodyDist X & (P2StateType = C || (P2StateType = S & Helper(1400),P2BodyDist X >= 60))
trigger2 = Helper(9190),Var(30) > 0
trigger2 = P2StateType != A & P2StateType != L & P2BodyDist X >= 100 & Random <= 125
v = 53
value = 9

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 9
trigger1 = StateNo = 620
trigger2 = P2MoveType = H
trigger3 = MoveType = H
trigger4 = MoveType = A & StateType != A & StateNo != 1000
trigger5 = StateNo = 52
trigger6 = (P2BodyDist X >= 120 & StateNo != 100) || (P2BodyDist X >= 150 & StateNo = 100)
trigger7 = NumHelper(9190) > 0
trigger7 = Helper(9190),Fvar(16) = 1
v = 53
value = 0

;跳飛道
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = StateType != A & StateNo != 100 & var(40) != 7
triggerall = ((Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) || StateNo = 100)
triggerall = Helper(9190),FVar(15) = 0
triggerall = Helper(9190),FVar(16) = 0
triggerall = Helper(9190),FVar(19) = 1 || (P2BodyDist X >= 115 & Helper(9180),Var(31) = [2,4])
triggerall = Helper(9180),Var(31) != 1
triggerall = Helper(9190),Var(37) != -1 ;非遠程法師
triggerall = P2StateType != A || (P2StateType = A & IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X <= 0)
trigger1 = P2MoveType != H & P2BodyDist X >= 125
trigger1 = IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X <= 0 & Helper(9180),Var(31) = 4 & Random <= 150
trigger2 = P2MoveType != H & P2BodyDist X >= 125
trigger2 = (Helper(9180),Var(31) = 0 || Helper(9180),Var(31) = 5 || P2StateNo < 100 || (EnemyNear(Var(55)),Time = 1 & IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X <= 0 & EnemyNear(Var(55)),AnimTime >= -32))
trigger2 = IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X <= 0
trigger3 = P2MoveType != H & P2BodyDist X >= 125
trigger3 = Helper(9180),Var(31) = [1,4]
trigger3 = IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X <= 0 & PrevStateNo = [150,154]
v = 53
value = 10

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = StateType != A & StateNo != 100 & var(40) != 7
triggerall = ((Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) || StateNo = 100)
triggerall = Helper(9190),FVar(15) = 0
triggerall = Helper(9190),FVar(16) = 0
triggerall = Helper(9190),FVar(19) = 1 || (P2BodyDist X >= 115 & Helper(9180),Var(31) = [2,4])
triggerall = helper(9180),var(31) != 1
triggerall = Helper(9190),Var(37) = -1 ;法師
triggerall = P2StateType != A || (P2StateType = A & IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X <= 0)
trigger1 = P2MoveType != H & P2BodyDist X >= 100
trigger1 = IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X <= 0 & Helper(9180),Var(31) = 4 & Random <= 450
trigger2 = P2MoveType != H & P2BodyDist X >= 100
trigger2 = (Helper(9180),Var(31) = 0 || Helper(9180),Var(31) = 5 || P2StateNo < 100 || (EnemyNear(Var(55)),Time = 1 & IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X <= 0 & EnemyNear(Var(55)),AnimTime >= -32))
trigger2 = IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X <= 0
trigger3 = P2MoveType != H & P2BodyDist X >= 100
trigger3 = Helper(9180),Var(31) = [1,4]
trigger3 = IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X <= 0 & PrevStateNo = [150,154]
v = 53
value = 10

[State -1, VarSet]
type = VarSet
triggerall = Var(53) = 10
trigger1 = MoveType != I
trigger2 = P2MoveType = H
trigger3 = helper(9180),var(31) = 0 & P2MoveType != A
trigger4 = StateNo = 52
v = 53
value = 0

;跳抓

;防住脫離
[State -1, VarSet]
type = VarSet
triggerall = Var(40) != 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & NumHelper(9180) > 0 
triggerall = P2MoveType = A & (EnemyNear(Var(55)),PrevStateNo = [5000,5999]) & (EnemyNear(Var(55)),PrevStateNo != [5120,5121]) & P2StateType != L
trigger1 = StateNo = [120, 153]
v = 53
value = 12

[State -1, VarSet]
type = VarSet
triggerall = Var(40) != 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = P2MoveType = A & (EnemyNear(Var(55)),PrevStateNo = [150,153]) & P2StateType != L
trigger1 = StateNo = [120, 153]
v = 53
value = 12

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = Var(53) = 12
trigger1 = MoveType = H & (StateNo != [120, 153])
trigger2 = P2MoveType = H
trigger3 = P2StateNo < 200
v = 53
value = 0

;;;;;;;;;;;;計分板
;歸零
[State -2, VarSet]
type = VarSet
triggerall = Var(58) > 0 & StateNo != 654 & (StateNo != [120, 155])
triggerall = Var(56) != 120 & Var(56) != 130 & Var(56) != 131
trigger1 = Var(56) > 0 & EnemyNear(Var(55)),MoveType != H & EnemyNear(Var(55)),StateNo != 5120 & EnemyNear(Var(55)),StateNo != 5300
trigger2 = Var(56) >= 100
trigger3 = Var(53) = 0 & Var(56) != [1,12]
v = 56
value = 0

;起身
[State 9185]
type = VarSet
trigger1 = Var(53) = 0
trigger1 = StateNo = 5120
v = 56
value = 12
ignorehitpause = 1

[State 9185]
type = VarAdd
trigger1 = Var(53) = 0
trigger1 = StateType != L & Var(56) = [1,12]
v = 56
value = -1
ignorehitpause = 1

;防禦檢測

[State -2, VarSet]
type = VarSet
triggerall = Var(56) = 120 || Var(56) = 130 || Var(56) = 131
trigger1 = MoveType = A
trigger2 = StateNo != [120, 155]
trigger2 = PrevStateNo != [120, 155]
trigger3 = StateNo = [0,105]
v = 56
value = 0

[State -2, VarSet]
type = VarSet
trigger1 = StateType = A & StateNo = [120, 155]
v = 56
value = 120

[State -2, VarSet]
type = VarSet
triggerall = MoveType = H 
triggerall = (StateType = S & StateNo = [120,153]) || (PrevStateNo = [120,153]) 
trigger1 = Anim = 130
trigger2 = Anim = 140
trigger3 = Anim = 150
v = 56
value = 130+1*(StateType = C)

[State -2, VarSet]
type = VarSet
triggerall = MoveType = H
triggerall = (StateType = C & StateNo = [120,153]) || (PrevStateNo = [120,153])  
trigger1 = Anim = 131
trigger2 = Anim = 141
trigger3 = Anim = 151
v = 56
value = 131-1*(StateType = S)

;12P地起手空連
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 111
trigger1 = StateNo = 431 & PrevStateNo = [1500,1599]
v = 56
value = 20

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 111
trigger1 = StateNo = 1150 || StateNo = 1160 || StateNo = 1170
v = 56
value = 30

;12P 425起手

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 115
trigger1 = StateNo = 1160 || StateNo = 1170
v = 56
value = 20

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 115
trigger1 = StateNo = 3020 & Time = 30
v = 56
value = 30

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 115
trigger1 = StateNo = 3020 & Time = 20 & Var(56) = 30
v = 56
value = 40

;轉換用
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 112
trigger1 = StateNo = 205
v = 56
value = 30

;12P地板動作
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 114 
trigger1 = StateNo = 900
trigger2 = ((PrevStateNo = 3316 & StateNo = 52) || (StateNo = 3020 & AnimTime >= -10) || StateNo = 3850)
v = 56
value = 30

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 114 & NumHelper(9190) > 0
trigger1 = Helper(9190),Var(29) %11 = 0
v = 56
value = 50

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 114
trigger1 = StateNo = 1232
v = 56
value = 66




;鬼蓄閃避(地面)
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 120
trigger1 = PrevStateNo = 5120 & P2MoveType = A & EnemyNear(Var(55)),Time >= 5 & InGuardDist
trigger2 = (StateNo = 3220 || StateNo = 3650) & P2MoveType != H & P2StateNo >= 200 & Time >= 46  & Time >= EnemyNear(Var(55)),Time
trigger2 = P2BodyDist X = [0,150]
v = 56
value = 70

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 120 & Var(56) = 70
trigger1 = StateNo = 100 & EnemyNear(Var(55)),AnimTime = 0 & Helper(9190),Var(31) != [1,4]
trigger2 = NumHelper(3205) > 0
trigger2 = Helper(3205),MoveContact
trigger3 = NumHelper(3605) > 0
trigger3 = Helper(3605),MoveContact
v = 56
value = 0

;空連接投
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 2
trigger1 = StateNo = 211 & PrevStateNo = 420
v = 56
value = 20

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 2 & Var(56) = 20
trigger1 = StateNo = 45 || PrevStateNo = 45
v = 56
value = 30

;地板動作
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 4
trigger1 = StateNo = 1232
v = 56
value = 66

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 4 & 0
trigger1 = StateNo = 900 || PrevStateNo = 900
trigger2 = StateNo = 1211 || PrevStateNo = 1211
v = 56
value = 50

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 4 & NumHelper(9190) > 0 & 0
trigger1 = Helper(9190),Var(29) %11 = 0
trigger2 = ((PrevStateNo = 3316 & StateNo = 52) || (StateNo = 3000 & AnimTime >= -10))
v = 56
value = 50

;感染搬運
;太近
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 5
trigger1 = StateNo = 2401 & Time < 57 & NumHelper(3605) = 0
trigger1 = P2StateNo = 12120
v = 56
value = 30

;桌角沒有角(感染搬運)
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 5
trigger1 = (StateNo = 3200 || StateNo = 3250) & P2MoveType = H & P2StateType = A
trigger1 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) < -200) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) > 200) ;非版邊
trigger2 = (StateNo = 3200 || StateNo = 3250) & P2MoveType = H & P2StateType = A & EnemyNear(Var(55)),Facing = Facing
v = 56
value = 20

;空接地

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 6
trigger1 = StateNo = 620 & Time < 21-2*Vel X < 0
trigger1 = (Pos Y+Vel Y*3+Const(movement.yaccel)*6) > 0
v = 56
value = 20

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 6
trigger1 = StateNo = 52 & P2BodyDist X > 66 & Power >= 1000 & NumHelper(3205) = 0 & NumHelper(3605) = 0
trigger2 = StateNo = 52 & P2BodyDist X > 66 & Power >= 2000
v = 56
value = 30

;安心信賴壓制 TH145 Style
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 7 & Var(56) != 30
trigger1 = StateNo < 40 & Random <= 70 & EnemyNear(Var(55)),Vel X <= 0
v = 56
value = 20

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 7
trigger1 = StateNo < 40 & (PrevStateNo = 1000 || PrevStateNo = 1010)
trigger2 = EnemyNear(Var(55)),Facing = Facing & NumHelper(1400) > 0
v = 56
value = 30

;防住脫離
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 12
trigger1 = EnemyNear(Var(55)),MoveContact
trigger2 = EnemyNear(Var(55)),MoveReversed
trigger3 = Time > 15 & StateNo = [120,140]
trigger4 = Time > 10 & StateNo = 321
v = 56
value = 30

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
;露骨當身
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2670
triggerall = Var(58) > 0 & NumHelper(9180) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 1
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
triggerall = !(EnemyNear(Var(55)),Facing = Facing & NumHelper(1400) > 0 & (PrevStateNo != [5000,5019]))
triggerall = P2BodyDist X >= 0
triggerall = Helper(9190),Var(31) = 1 || Helper(9190),Var(31) = 2 ;一次性戰術
triggerall = !((Var(53) = [99,110]) & P2MoveType = H)
triggerall = Var(54) != 1000 & Var(54) != 1025 & Var(54) != 1050
triggerall = EnemyNear(Var(55)),HitDefAttr != SCA,AA,AT
triggerall = Helper(9190),Fvar(14) = 0
trigger1 = P2BodyDist X >= 100 & P2MoveType != H & P2StateType != L
trigger1 = P2StateNo > 200
trigger2 = (Helper(9180),Var(31) = [1,4]) || Helper(9190),Fvar(19) = 1
trigger2 = P2MoveType != H

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2620
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10) & NumHelper(9180) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
triggerall = !(EnemyNear(Var(55)),Facing = Facing & NumHelper(1400) > 0 & (PrevStateNo != [5000,5019]))
triggerall = P2BodyDist X >= 0
triggerall = Helper(9190),Var(31) = 1 || Helper(9190),Var(31) = 2 ;一次性戰術
triggerall = !((Var(53) = [99,110]) & P2MoveType = H)
triggerall = Var(54) != 1000 & Var(54) != 1025 & Var(54) != 1050
triggerall = EnemyNear(Var(55)),HitDefAttr != SCA,AA,AT
triggerall = Helper(9190),Fvar(14) = 0
trigger1 = P2BodyDist X >= 100 & P2MoveType != H & P2StateType != L
trigger1 = P2StateNo > 200
trigger2 = (Helper(9180),Var(31) = [1,4]) || Helper(9190),Fvar(19) = 1
trigger2 = P2MoveType != H

;---------------------------------------------------------------------------

;鬼蓄閃避
[State -1, Jump Light]
type = ChangeState
value = 105
triggerall = var(40) = 7 & Var(53) = 119
triggerall = Var(58) > 0
triggerall = movetype != H
triggerall = stateno != 105
trigger1 = stateno = 100 & EnemyNear(Var(55)),HitDefAttr = SCA,AT & EnemyNear(Var(55)),AnimTime >= -25 & BackEdgeBodyDist > 25

[State -1, 1]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 119
trigger1 = P2BodyDist X >= 100
trigger2 = StateNo = 100
sysvar(1) = 1

[State -1, 1]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 119
trigger1 = statetype != A & P2BodyDist X < 100 & StateNo != 100
trigger1 = EnemyNear(Var(55)), Vel X > 0
sysvar(1) = -1

[State -1, Jump Cancel]
type = ChangeState
value = IfElse(StateNo = 100,43,41)
triggerall = Var(58) > 0 & Var(53) = 119
triggerall = statetype != A
trigger1 = StateNo = 216 & MoveHit
trigger2 = StateNo = 431 & MoveHit
trigger3 = EnemyNear(Var(55)),HitDefAttr = SCA,AT

[State -1, Jump Strong]
type = ChangeState
value = 625
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 119
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
trigger1 = StateNo = 605 & MoveContact & Vel Y >= 0
trigger2 = StateNo = 605 & MoveContact & P2Dist Y > 57

[State -1, Jump Light]
type = ChangeState
value = 655
triggerall = var(40) = 7 & Var(53) = 119
triggerall = Var(58) > 0
triggerall = movetype != H
triggerall = stateno != 105
trigger1 = stateno = 605 & MoveHit & Vel Y > 0 & P2MoveType = H
trigger2 = StateNo = 625 & MoveContact > 2

[State -1, Jump Light]
type = ChangeState
value = 605
triggerall = var(40) = 7 & Var(53) = 119
triggerall = Var(58) > 0
triggerall = movetype != H & StateType = A
triggerall = stateno != 105
trigger1 = stateno = 605 & statetime >= 4 & !(MoveHit & P2MoveType = H & P2BodyDist Y < 35)
trigger2 = stateno = 605 & statetime >= 4 & (P2StateType != A & Vel Y <= 1)
trigger3 = Ctrl || StateNo = [120,155]

[State -1, Jump Light]
type = ChangeState
value = 625
triggerall = var(40) = 7 & Var(53) = 119
triggerall = Var(58) > 0
triggerall = movetype != H
triggerall = stateno != 105
trigger1 = stateno = 615 & MoveContact & Vel X > 0
trigger2 = stateno = 605 & MoveHit & P2MoveType = H & P2StateType = A

[State -1, Jump Light]
type = ChangeState
value = 625
triggerall = var(40) = 7 & Var(53) = 119
triggerall = Var(58) > 0
triggerall = movetype != H
triggerall = stateno != 105
trigger1 = stateno = 615 & MoveContact

[State -1, Jump Light]
type = ChangeState
value = 655
triggerall = var(40) = 7 & Var(53) = 119
triggerall = Var(58) > 0
triggerall = movetype != H
triggerall = stateno != 105
trigger1 = stateno = 625 & MoveGuarded
trigger2 = stateno = 625 & MoveContact & P2MoveType != H & P2StateType != A

[State -1, Jump Light]
type = ChangeState
value = 1360
triggerall = var(40) = 7 & Var(53) = 119
triggerall = Var(58) > 0
triggerall = movetype != H
triggerall = stateno != 105
triggerall = stateno = 625 & MoveContact & P2StateType = A
trigger1 = ((Pos Y+Vel Y*10+Const(movement.yaccel)*55) < 0) & P2MoveType = H & MoveHit
trigger2 = P2MoveType = A

[State -1, Jump Light]
type = ChangeState
value = 1570
triggerall = var(40) = 7 & Var(53) = 119
triggerall = Var(58) > 0
triggerall = movetype != H
triggerall = stateno != 105
triggerall = stateno = 625 & MoveContact
trigger1 = Helper(9190),Fvar(14) = 1 & EnemyNear(Var(55)),Time <= 2

;---------------------------------------------------------------------------

;高優先度
[State -1]
type = ChangeState
value = 1280
triggerall = Var(58) > 0 & StateType != A & NumHelper(9190) > 0 & Var(53) != 111
triggerall = var(40) = 7
triggerall = StateType = A & P2StateType = A
triggerall = PrevStateNo != 103 & PrevStateNo != 108
trigger1 = (StateNo = 605 || StateNo = 615 || StateNo = 625) & MoveContact & (P2BodyDist X+Vel X*6-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6) = [0,80]
trigger1 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21-Vel Y*6-Const(movement.yaccel)*21) = [-80,80]
trigger2 = StateNo = 625 & MoveHit
trigger2 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21-Vel Y*6-Const(movement.yaccel)*21) < 0
trigger3 = StateNo = 615 & MoveHit
trigger3 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21-Vel Y*6-Const(movement.yaccel)*21) < -20
trigger4 = StateNo = 625 & MoveHit & PrevStateNo = 605 & P2StateType = A

[State -1]
type = ChangeState
value = 1280
triggerall = Var(58) > 0 & StateType != A & NumHelper(9190) > 0 & Var(53) != 111
triggerall = var(40) = 7
triggerall = StateType = A & P2StateType = A
triggerall = PrevStateNo = 103 || PrevStateNo = 108
trigger1 = (StateNo = 605 || StateNo = 615 || StateNo = 625) & MoveContact & (P2BodyDist X+Vel X*6-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6) = [0,80]
trigger1 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21-0*6-Const(movement.yaccel)*21) = [-80,80]
trigger2 = StateNo = 625 & MoveHit
trigger2 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21-0*6-Const(movement.yaccel)*21) < 0
trigger3 = StateNo = 615 & MoveHit
trigger3 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21-0*6-Const(movement.yaccel)*21) < -20

;鋼體投測試
[State -1]
type = ChangeState
value = 3020
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) = 0
triggerall = movetype != H & Power >= 1000 & Var(12) = 0
triggerall = statetype != A
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Var(32)%3 = 0 & Helper(9190),Var(32)%7 = 0 ;鋼體
trigger1 = StateNo = 1551 & MoveContact & P2MoveType != H & P2StateType != A & P2StateType != L

[State -1]
type = ChangeState
value = 1270
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Var(32)%3 = 0 & Helper(9190),Var(32)%7 != 0 ;鋼體
trigger1 = StateNo = 205 & MoveContact & P2MoveType != H & P2StateType != L & P2BodyDist X < 63
trigger2 = StateNo = 215 & MoveContact & P2MoveType != H & P2StateType != L & P2BodyDist X < 63
trigger3 = StateNo = 1561 & MoveContact & P2MoveType != H & P2StateType != L & P2BodyDist X < 63

[State -1]
type = ChangeState
value = 3320
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) = 0
triggerall = movetype != H & Power >= 1000
triggerall = statetype != A
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Var(32)%3 = 0 & Helper(9190),Var(32)%7 != 0 ;鋼體
trigger1 = StateNo = 1551 & MoveContact & P2MoveType != H & P2StateType != A & P2StateType != L

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 205
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = Helper(9190),Fvar(16) = 0
trigger1 = StateNo = 205 & MoveContact & P2MoveType != H & P2StateType != L & P2BodyDist X < 48
trigger2 = StateNo = 100 & PrevStateNo = 2050 & P2StateType != A & P2MoveType != H & EnemyNear(Var(55)),PrevStateNo != [5000,5999]
trigger3 = StateNo = 100 & P2MoveType = I & P2StateNo > 200 & EnemyNear(Var(55)),Ctrl = 0 & EnemyNear(Var(55)),Time > 20 & P2BodyDist X <= 10
trigger4 = StateNo = 100 & P2MoveType = I & P2StateNo > 200 & EnemyNear(Var(55)),Ctrl = 0 & P2BodyDist X <= 40
trigger4 = Helper(9190),Var(32)%3 = 0 ;鋼體

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 226
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = Helper(9190),Fvar(16) = 0
trigger1 = StateNo = 215 & MoveContact & P2MoveType != H & P2StateType != L & EnemyNear(Var(55)),PrevStateNo != [5000,5999]
trigger2 = StateNo = 205 & MoveContact & P2MoveType != H & P2StateType != L & P2BodyDist X >= 48

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1550
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = Helper(9190),Fvar(16) = 0
trigger1 = StateNo = 226 & MoveContact & P2MoveType != H & P2StateType != L & EnemyNear(Var(55)),PrevStateNo != [5000,5999]

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1560
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = Helper(9190),Fvar(16) = 0
trigger1 = StateNo = 1551 & MoveContact & P2MoveType != H & P2StateType != L & EnemyNear(Var(55)),PrevStateNo != [5000,5999]

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 216
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = Helper(9190),Fvar(16) = 0
trigger1 = StateNo = 1561 & Time >= 3 & MoveContact & P2MoveType != H & P2StateType != L & EnemyNear(Var(55)),PrevStateNo != [5000,5999]
trigger1 = (EnemyNear(Var(55)),AnimTime = [-120,-40]) & Random <= 500
trigger1 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*9 <= 75
trigger2 = StateNo = 1561 & Time >= 3 & MoveContact & P2MoveType != H & P2StateType != L & EnemyNear(Var(55)),PrevStateNo != [5000,5999]
trigger2 = NumTarget > 0
trigger2 = Target,IsHelper
trigger3 = StateNo = 1161 & Time >= 3
trigger3 = MoveContact & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*15 = [-10,70]

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse((Var(12) = 1 || Power < 1000),1270,3320)
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(20) = 0 & Power >= 1000
triggerall = movetype != H
triggerall = statetype != A
triggerall = Helper(9190),Fvar(16) = 0
trigger1 = StateNo = 1561 & Time >= 5 & MoveContact & P2MoveType != H & P2StateType != L & EnemyNear(Var(55)),PrevStateNo != [5000,5999]

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3020
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(20) = 0 & Var(12) = 0
triggerall = Power >= 1000
triggerall = movetype != H
triggerall = statetype != A
triggerall = Helper(9190),Var(32)%3 = 0 || (MoveHit & P2MoveType != H) ;鋼體
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2StateType != A & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*15 > 120
trigger1 = Random <= 70
trigger2 = StateNo = 431 || StateNo = 1150 || StateNo = 1151 || StateNo = 1160 || StateNo = 1161 || StateNo = 1170 || StateNo = 1171
trigger2 = MoveContact & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*15 > 70

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3020
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(20) = 0 & Var(12) = 0
triggerall = Power >= 1000
triggerall = movetype != H
triggerall = statetype != A
triggerall = Helper(9190),Var(32)%3 = 0 ;鋼體
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = PrevStateNo = 3080 & Random <= 333 & P2MoveType != H & P2StateNo != [120,154]

;果斷
[State -1, Stand Light Punch]
type = ChangeState
value = IfElse(Var(12) = 1,3999,3998)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) != 120
triggerall = var(40) = 7
triggerall = var(12) = 0
triggerall = StateType != A
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Var(34) = 0 || (Helper(9190),Var(34) = 1 & EnemyNear(Var(55)),MoveContact = 0)
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 = [-50,90]
triggerall = P2StateType != A || (P2StateType = A & (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21) = [-70,-1])
triggerall = Helper(9190),Var(32)%3 != 0 ;非鋼體
triggerall = Helper(9190),Var(32)%3 != 0 ;非鋼體
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = A & EnemyNear(Var(55)),MoveContact & EnemyNear(Var(55)),AnimTime = [-14,-7]
trigger2 = StateNo = 1150  || StateNo = 1160 || StateNo = 1170
trigger2 = MoveContact & P2MoveType = A & EnemyNear(Var(55)),AnimTime <= -6
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = [120,140]) || StateNo = 321)
trigger3 = Helper(9190),Fvar(15) = 0
trigger3 = P2MoveType != H & P2StateNo > 200 & P2StateNo != [5000,5299]
trigger3 = (EnemyNear(Var(55)),AnimTime <= -7 & EnemyNear(Var(55)),Time <= 5) || Helper(9190),Var(30) > 0

;對手脫離 防反 12P
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3320
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(20) = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = (P2MoveType != H & (EnemyNear(Var(55)),PrevStateNo = [5000,5999]) & (P2StateNo != [5000,5999])) || ((EnemyNear(Var(55)),PrevStateNo = [12110,12130]) & P2MoveType = A)
triggerall = EnemyNear(Var(55)),PrevStateNo != 5120 & P2StateType != L
triggerall = P2BodyDist X <= 600
triggerall = PrevStateNo > 200 || StateNo >= 200
triggerall = Helper(9190),Var(32)%3 != 0 ;非鋼體
triggerall = Helper(9190),Var(32)%3 != 0 ;非鋼體
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = EnemyNear(Var(55)),Ctrl = 0 & P2StateNo >= 200
trigger2 = StateNo = 205 || StateNo = 215 || StateNo = 226 || StateNo = 431 || (StateNo = 1151 & Time >= 2) || (StateNo = 1161 & Time >= 3) || StateNo = 1170
trigger2 = MoveContact & !(MoveHit & P2MoveType != H)

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3020
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(20) = 0 & Var(12) = 0
triggerall = Power >= 1000
triggerall = movetype != H
triggerall = statetype != A
triggerall = (P2MoveType != H & (EnemyNear(Var(55)),PrevStateNo = [5000,5999]) & (P2StateNo != [5000,5999])) || ((EnemyNear(Var(55)),PrevStateNo = [12110,12130]) & P2MoveType = A)
triggerall = EnemyNear(Var(55)),PrevStateNo != 5120 & P2StateType != L
triggerall = P2BodyDist X > 200 & EnemyNear(Var(55)),Vel Y >= 0
triggerall = PrevStateNo > 200 || StateNo >= 200
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = EnemyNear(Var(55)),Ctrl = 0 & P2StateNo >= 200
trigger2 = StateNo = 205 || StateNo = 215 || StateNo = 226 || StateNo = 431 || StateNo = 1150 || (StateNo = 1151 & Time >= 2) || (StateNo = 1161 & Time >= 3) || StateNo = 1161 || StateNo = 1170
trigger2 = MoveContact

[State 1100]
type = ChangeState
triggerall = Var(58) > 0
triggerall = StateNo = 3020 & time >= 107
triggerall = power >= 500
trigger1 = P2BodyDist X <= 200 & P2MoveType != H
trigger2 = P2BodyDist X <= 200 & P2MoveType = H & P2StateNo <= 200
value = 3080

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1570
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(20) = 0
triggerall = movetype != H
triggerall = statetype = A
triggerall = (P2MoveType != H & (EnemyNear(Var(55)),PrevStateNo = [5000,5999]) & (P2StateNo != [5000,5999])) || ((EnemyNear(Var(55)),PrevStateNo = [12110,12130]) & P2MoveType = A)
triggerall = EnemyNear(Var(55)),PrevStateNo != 5120 & P2StateType != L
triggerall = P2BodyDist X <= 200 & P2BodyDist Y >= -90 & EnemyNear(Var(55)),Vel Y >= 0
triggerall = PrevStateNo > 200 || StateNo >= 200
trigger1 = StateNo = 605 || StateNo = 615 || StateNo = 625 || StateNo = 655
trigger1 = MoveContact

;殘餘應力
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1550
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(20) = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = P2MoveType = H & P2StateType != L & Helper(9180),Var(31) = [1,4]
triggerall = InGuardDist || (P2BodyDist X <= 0 && P2MoveType = A) || Helper(9190),InGuardDist || Helper(9190),Var(46) = 1
triggerall = P2BodyDist X <= 250 & P2BodyDist Y >= -90 & EnemyNear(Var(55)),Vel Y >= 0
triggerall = Helper(9190),Var(32)%3 != 0 ;非鋼體
trigger1 = StateNo = 205 || StateNo = 215 || StateNo = 226
trigger1 = MoveContact

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1550
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(20) = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = P2MoveType = H & P2StateType != L & Helper(9180),Var(31) = [1,4]
triggerall = (Helper(9180),Var(31) = 4 & P2StateNo >= 200 & (P2StateNo != [5000,5999])  & P2MoveType != H) || (Helper(9180),Var(31) = 5  & P2MoveType = A)
triggerall = P2BodyDist X <= 250 & P2BodyDist Y >= -90 & EnemyNear(Var(55)),Vel Y >= 0
triggerall = Helper(9190),Var(32)%3 != 0 ;非鋼體
trigger1 = StateNo = 205 || StateNo = 215 || StateNo = 226
trigger1 = MoveContact

[State -1, Stand Light Punch]
type = ChangeState
value = IfElse(Var(12) = 1,3999,3998)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = var(12) = 0
triggerall = P2MoveType = H & P2StateType != L & Helper(9180),Var(31) = [1,4]
triggerall = InGuardDist || (P2BodyDist X <= 0 && P2MoveType = A) || Helper(9190),InGuardDist || Helper(9190),Var(46) = 1
triggerall = P2StateType != L & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 = [-50,85]
triggerall = StateNo = 431 || StateNo = 1551 || StateNo = 1561
triggerall = MoveContact
trigger1 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21) = [-60,-1]
trigger1 = P2StateType = A
trigger2 = P2StateType != A & P2StateType != L

[State -1, Stand Light Punch]
type = ChangeState
value = IfElse(Var(12) = 1,3999,3998)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = var(12) = 0
triggerall = P2MoveType = H & P2StateType != L & Helper(9180),Var(31) = [1,4]
triggerall = (Helper(9180),Var(31) = 4 & P2StateNo >= 200 & (P2StateNo != [5000,5999])  & P2MoveType != H) || (Helper(9180),Var(31) = 5  & P2MoveType = A)
triggerall = P2StateType != L & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 = [-50,85]
triggerall = StateNo = 431 || StateNo = 1551 || StateNo = 1561
triggerall = MoveContact
trigger1 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21) = [-60,-1]
trigger1 = P2StateType = A
trigger2 = P2StateType != A & P2StateType != L

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3320
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(20) = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = P2MoveType = H & P2StateType != L & Helper(9180),Var(31) = [1,4]
triggerall = InGuardDist || (P2BodyDist X <= 0 && P2MoveType = A) || Helper(9190),InGuardDist || Helper(9190),Var(46) = 1
triggerall = P2BodyDist X <= 600
trigger1 = StateNo = 205 || StateNo = 215 || StateNo = 226 || StateNo = 431 || StateNo = 1150 || StateNo = 1151 || StateNo = 1160 || StateNo = 1161 || StateNo = 1170 || StateNo = 1171
trigger1 = MoveContact & !(MoveHit & P2MoveType != H)

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3320
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(20) = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = P2MoveType = H & P2StateType != L & Helper(9180),Var(31) = [1,4]
triggerall = (Helper(9180),Var(31) = 4 & P2StateNo >= 200 & (P2StateNo != [5000,5999])  & P2MoveType != H) || (Helper(9180),Var(31) = 5  & P2MoveType = A)
triggerall = P2BodyDist X <= 600
trigger1 = StateNo = 205 || StateNo = 215 || StateNo = 226 || StateNo = 431 || StateNo = 1150 || StateNo = 1151 || StateNo = 1160 || StateNo = 1161 || StateNo = 1170 || StateNo = 1171
trigger1 = MoveContact & !(MoveHit & P2MoveType != H)


[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse(Var(12) = 1,3750,3120)
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(20) = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = P2MoveType = H & P2StateType != L & Helper(9180),Var(31) = [1,4]
triggerall = InGuardDist || (P2BodyDist X <= 0 && P2MoveType = A) || Helper(9190),InGuardDist || Helper(9190),Var(46) = 1
triggerall = P2BodyDist Y >= -90
triggerall = Helper(9190),Var(31) != 1 & Helper(9190),Var(31) != 2 ;高P不用
triggerall = Helper(9190),Var(32)%3 != 0 ;非鋼體
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+Helper(9180),Fvar(0)*55) < 0

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse(Var(12) = 1,3750,3120)
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(20) = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = P2MoveType = H & P2StateType != L & Helper(9180),Var(31) = [1,4]
triggerall = (Helper(9180),Var(31) = 4 & P2StateNo >= 200 & (P2StateNo != [5000,5999])  & P2MoveType != H) || (Helper(9180),Var(31) = 5  & P2MoveType = A)
triggerall = P2BodyDist Y >= -90
triggerall = Helper(9190),Var(31) != 1 & Helper(9190),Var(31) != 2 ;高P不用
triggerall = Helper(9190),Var(32)%3 != 0 ;非鋼體
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+Helper(9180),Fvar(0)*55) < 0

;---------------------------------------------------------------------------
;12P耍腦用

;12P雙打起手
[State -1, Stand Strong Punch]
type = ChangeState
value = 205
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*5 <= 15
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*5+Helper(9180),Fvar(0)*15) = [-30,-1]
triggerall = NumPartner > 0
triggerall = Partner,Alive
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2StateType != A & P2StateType != L & InGuardDist = 0
trigger1 = P2MoveType = H & Partner,MoveType = A

;Hold住全場
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3320
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) = 0
triggerall = var(40) = 7
triggerall = power >= 1000
triggerall = movetype != H
triggerall = statetype != A
triggerall = NumPartner > 0
triggerall = Partner,Alive
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2BodyDist X >= 200 & Random <= 200
trigger2 = P2BodyDist X >= 100 & Facing = EnemyNear(Var(55)),Facing & P2MoveType = A & Partner,MoveType = H

;秋名山上的86(雙打用)
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse(Var(12) = 1,3750,3120)
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) != 12
triggerall = var(40) = 7
triggerall = power >= 1000
triggerall = movetype != H
triggerall = statetype != A & P2StateType != L
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
triggerall = Helper(9190),Var(31) != 1 & Helper(9190),Var(31) != 2 ;高P不用
triggerall = Helper(9190),Var(32)%3 != 0 ;非鋼體
triggerall = !(Helper(9190),Var(32)%3 = 0 & Helper(9190),Fvar(15) = 1)
triggerall = NumPartner > 0
triggerall = Partner,Alive
trigger1 = Partner,MoveType = H & P2StateType != A & P2StateType != L & Random <= P2BodyDist X*0.8

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse(Var(12) = 1,3750,3120)
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(40) = 7
triggerall = power >= 1000
triggerall = movetype != H
triggerall = statetype != A
triggerall = NumPartner > 0
triggerall = Partner,Alive
trigger1 = StateNo = 3102
trigger1 = (P2MoveType = A & Random <= 333) || (P2MoveType = A & EnemyNear(Var(55)),P2BodyDist X > 0) || ((Helper(9190),Var(31) = [1,4]) & P2MoveType != H)
trigger1 = Random <= 250

;雙打支援
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3020
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9180) > 0 & NumHelper(9190) > 0
triggerall = power >= 2000
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 0 & NumPartner > 0
triggerall = Partner,Alive
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = EnemyNear(Var(55)),Facing = Facing & Partner,P2BodyDist X+30 < P2BodyDist X
trigger1 = P2MoveType = A & P2BodyDist X >= 175 & P2StateNo >= 200 & Random <= 175

[State -1, Stand Strong Punch]
type = ChangeState
value = 1550
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*7 <= 150
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*12+Helper(9180),Fvar(0)*78) = [-80,-30]
triggerall = NumPartner > 0
triggerall = Partner,Alive
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2MoveType = H & P2StateType = A
trigger1 = EnemyNear(Var(55)),Alive & Partner,MoveType = A

;一閃
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse(Var(12) = 1,3750,3120)
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) != 12 & Var(53) != 120
triggerall = var(40) = 7
triggerall = power >= 1000
triggerall = movetype != H
triggerall = statetype != A & P2StateType != L
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
triggerall = Helper(9190),Var(31) != 1 & Helper(9190),Var(31) != 2 ;高P不用
triggerall = Helper(9190),Var(32)%3 != 0 ;非鋼體
trigger1 = P2MoveType = A & P2BodyDist X <= Helper(9190),Fvar(12) & EnemyNear(Var(55)),AnimTime <= -20
trigger2 = P2MoveType = A & Helper(9190),Fvar(18) > 0 & (EnemyNear(Var(55)),AnimTime <= -20 || (EnemyNear(Var(55)),Time > 20 & EnemyNear(Var(55)),AnimTime <= -20))
trigger3 = P2MoveType = A & PrevStateNo = 5120 & EnemyNear(Var(55)),Time >= 12
trigger3 = !(P2StateType = A & P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+Helper(9180),Fvar(0)*55 >= 0)
trigger4 = P2MoveType = A & EnemyNear(Var(55)),AnimTime <= -20 & EnemyNear(Var(55)),PrevStateNo = [5000,5999]
trigger4 = EnemyNear(Var(55)),MoveContact = 0
trigger5 = PrevStateNo = 2621 & (Random <= 200 || (P2BodyDist X >= 75 & Random <= P2BodyDist X))
trigger5 = !(EnemyNear(Var(55)),Pos Y < -50 & EnemyNear(Var(55)),Vel X = 0)
trigger6 = P2MoveType = H & P2StateType != A & P2StateType != L & StateNo = 321 & Time > 19 & Var(53) = 0
trigger7 = PrevStateNo = 52 & P2MoveType = A & EnemyNear(Var(55)),AnimTime <= -20 & Random <= 130 & Power >= 2000 
trigger8 = PrevStateNo = 3080 & P2MoveType = H & P2StateType = A & (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21) >= -90 & Random <= 250
trigger8 = !(StateNo = 100 & Time > 2)

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse(Var(12) = 1,3750,3120)
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) != 12 & Var(53) = 120
triggerall = var(40) = 7
triggerall = power >= 1000
triggerall = movetype != H
triggerall = statetype != A & P2StateType != L
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = A & Helper(9190),Fvar(15) = 1 & StateNo != 100 & PrevStateNo = 100

;胡桃與她愉快的夥伴

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3500
triggerall = Var(58) > 0 & NumHelper(9190) & NumHelper(9180)
triggerall = var(12)  = 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & Life < 600
trigger1 = EnemyNear(Var(55)),HitDefAttr = SCA,AT & P2BodyDist X < Helper(9190),Fvar(12)
trigger2 = P2MoveType = A & P2BodyDist X <= Helper(9190),Fvar(12) & EnemyNear(Var(55)),AnimTime <= -30 & (EnemyNear(Var(55)),Power = 0 || Random <= 70)
trigger3 = P2MoveType = A & (PrevStateNo = [140,154]) & EnemyNear(Var(55)),MoveContact = 0
trigger4 = (Helper(9180),Var(31) = [1,4]) & InGuardDist & EnemyNear(Var(55)),NumHelper + EnemyNear(Var(55)),NumProj > 15
trigger5 = PrevStateNo = 5120 & P2MoveType = A & EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime >= 90 & EnemyNear(Var(55)),Time > 32
trigger6 = Helper(9190),Var(37) = -1
trigger7 = P2MoveType = A & EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime > 90 & EnemyNear(Var(55)),Time <= 32
trigger8 = P2MoveType != H & Random <= 5+250*Helper(9190),Var(37) = -1
trigger9 = RoundNo = 3 & Fvar(16) = 800 & Random <= 100+750*(Life < 100)
trigger9 = (Life <= 200 & EnemyNear(Var(55)),Life > 350) || (Life >= 990 & EnemyNear(Var(55)),Life > 900)

;神助攻
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3500
triggerall = Var(58) > 0 & NumHelper(9190) & NumHelper(9180)
triggerall = var(12)  = 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = Life < 750
trigger1 = StateNo = 3103 & ((P2MoveType = A & EnemyNear(Var(55)),P2BodyDist X > 0) || ((Helper(9190),Var(31) = [1,4]) & P2MoveType != H))
trigger1 = Random <= 125
trigger2 = StateNo = 1550 & Var(53) = 0
trigger2 = Random <= 5

;各種不科學
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse(Var(12) = 1,3750,3120)
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) != 12
triggerall = var(40) = 7
triggerall = power >= 1000
triggerall = movetype != H
triggerall = statetype != A & P2StateType != L
trigger1 = StateNo = 3103 
trigger1 = (P2MoveType = A & Random <= 333) || (P2MoveType = A & EnemyNear(Var(55)),P2BodyDist X > 0) || ((Helper(9190),Var(31) = [1,4]) & P2MoveType != H)
trigger1 = Random <= 150+250*(Var(12)=1)+900*(Life<450)

;跳背了
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1570
triggerall = Var(58) > 0 & statetype != A & NumHelper(9190) > 0 & (Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10)
triggerall = movetype != H
triggerall = var(40) = 7
triggerall = Helper(9190),FVar(16) = 0
triggerall = Helper(9190),FVar(17) = 0
triggerall = P2BodyDist X <= 45
trigger1 = Facing != EnemyNear(Var(55)),Facing
trigger1 = StateType = A & Ctrl & P2BodyDist Y = [65,135]
trigger1 = P2BodyDist X <= 45 & P2BodyDist Y = [65,135]
trigger1 = P2MoveType = A & P2StateType != C & EnemyNear(Var(55)),Time <= 2 & Time > 2
trigger2 = StateType = A & Ctrl
trigger2 = Helper(9190),FVar(14) = 1 & P2StateType = A & P2BodyDist Y > 0 & Random <= 50
trigger3 = StateType = A & Ctrl & StateNo = 120
trigger3 = P2BodyDist X <= 60-Pos Y & P2MoveType = A & Random <= 100

;---------------------------------------------------------------------------
;新431接J2C

;果斷
[State -1, Stand Light Punch]
type = ChangeState
value = IfElse(Var(12) = 1,3999,3998)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & NumHelper(9180) > 0 & Var(53) = 122 & Var(56) >= 26
triggerall = var(40) = 7
triggerall = StateType != A
triggerall = P2MoveType = H & P2StateType != L & Helper(9180),Var(31) = [1,4]
triggerall = (Helper(9180),Var(31) = 4 & P2StateNo >= 200 & (P2StateNo != [5000,5999])  & P2MoveType != H) || (Helper(9180),Var(31) = 5  & P2MoveType = A)
triggerall = P2StateType != L & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 = [-50,85]
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21) = [-60,-1]
trigger1 = P2StateType = A
trigger2 = P2StateType != A & P2StateType != L

;可能太遠
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3220
triggerall = Var(58) > 0 & Var(53) = 122 & NumHelper(9190) > 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A & Var(12)=0 & NumHelper(3205) = 0
triggerall = var(40) = 7
triggerall = !(Helper(9190),Fvar(14) = 1 & Helper(9190),Fvar(15) = 1)
trigger1 = StateNo = 431 & MoveContact & P2BodyDist X >= 55

;很近
[State -1, 1]
type = VarSet
triggerall = Var(53) = 122
trigger1 = StateNo = 40 & P2BodyDist X <= 40
var(56) = 23

[State -1, 1]
type = VarSet
triggerall = Var(53) = 122
trigger1 = StateNo = 655 & MoveHit
var(56) = 26

[State -1, 1]
type = VarSet
triggerall = Var(53) = 122 & Var(56) = 26
trigger1 = StateNo = 100 & Time > 3
var(56) = 33

[State -1, 1]
type = VarSet
triggerall = Var(53) = 122
trigger1 = StateNo = 3020
var(56) = 40

[State -1, 1]
type = VarSet
triggerall = Var(53) = 122
trigger1 = StateNo = 1561
var(56) = 45

[State -1, 1]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 122
trigger1 = 1
sysvar(1) = 1

[State -1, Jump Cancel]
type = ChangeState
value = IfElse(StateNo = 100,43,41)
triggerall = Var(58) > 0 & Var(53) = 122
triggerall = statetype != A
trigger1 = StateNo = 431 & MoveContact

[State -1, airdashF]
type = ChangeState
value = 103
triggerall = Var(58) > 0 & Var(53) = 122 & Var(56) != 23
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105 & stateno != 103 & stateno != 108 &  stateno != 110
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)

[State -1, Jump Strong]
type = ChangeState
value = 625
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 122
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
trigger1 = StateNo = 605 & MoveContact & Vel Y >= 0 & Var(56) = 23
trigger2 = StateNo = 605 & MoveContact & P2Dist Y > 57 & Var(56) = 23

[State -1, Jump Strong]
type = ChangeState
value = 605
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 122
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
trigger1 = StateNo = 103 & Ctrl
trigger2 = StateNo = 605 & StateTime >= 4 & MoveContact = 0 
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger3 = Var(56) = 23
trigger4 = StateNo = 605 & MoveContact & Time >= 4 & Vel Y < 0 & Var(56) = 23

[State -1, Jump Strong]
type = ChangeState
value = 655
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 122
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
trigger1 = StateNo = 605 & MoveContact & Var(56) != 23
trigger2 = StateNo = 625 & MoveContact > 2

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3020
triggerall = Var(58) > 0 & Var(53) = 122 & NumHelper(9190) > 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = Var(12)=0
triggerall = var(40) = 7
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = Var(56) = 26

[State 1100]
type = ChangeState
triggerall = Var(58) > 0
triggerall = StateNo = 3020 & time >= 107
triggerall = power >= 500
trigger1 = P2BodyDist X <= 150 & P2MoveType != H || EnemyNear(Var(55)),Life <= 250
trigger2 = P2BodyDist X <= 150 & P2MoveType = H & P2StateNo <= 200
trigger3 = P2BodyDist X <= 50
value = 3080

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 100
triggerall = Var(58) > 0 & Var(53) = 122 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = StateNo != 100
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = (Var(56) = 26 || Var(56) = 33 || Var(56) = 40 || Var(56) = 45) & !(P2Dist X < 5 & EnemyNear(Var(55)),Vel Y >= 0)

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1550
triggerall = Var(58) > 0 & Var(53) = 122 & NumHelper(9190) > 0 & Var(56) = 40
triggerall = var(40) = 7
triggerall = movetype != H
triggerall = statetype != A
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*7 <= 105
trigger1 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*7+Helper(9180),Fvar(0)*28) = [-110,-1]

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1560
triggerall = Var(58) > 0 & Var(53) = 122 & NumHelper(9190) > 0 & Var(56) = 40
triggerall = var(40) = 7
triggerall = movetype != H
triggerall = statetype != A
trigger1 = StateNo = 1551 & MoveContact & P2MoveType != H & P2StateType != L

[State -1, Stand Strong Punch]
type = ChangeState
value = 205
triggerall = Var(58) > 0 & Var(53) = 122 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) 
triggerall = StateNo = 100 || Var(56) = 33 || Var(56) = 40 || Var(56) = 45
trigger1 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*4 <= 40
trigger1 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*4+Helper(9180),Fvar(0)*10) = [-60,-1]

;---------------------------------------------------------------------------
;12P平推
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1550
triggerall = Var(58) > 0 & Var(53) = 110 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = StateNo != 100
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = 1

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = Ifelse(Var(12) = 1,3999,3998)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & Var(53) = 110 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = P2BodyDist X-EnemyNear(Var(55)),Vel X*6 <= 95
triggerall = P2MoveType = H & P2StateNo != [0,199]
trigger1 = ((StateNo = 100 & Time > 2) || (StateNo != 100 & Ctrl))

[State -1, Stand Strong Punch]
type = ChangeState
value = 1250
triggerall = Var(58) > 0 & Var(53) = 110 & NumHelper(9190) > 0
triggerall = var(40) = 7
triggerall = numhelper(3407) = 0
triggerall = statetype = S
trigger1 = ((StateNo = 100 & Time > 2) || (StateNo != 100 & Ctrl)) & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 <= 50
trigger1 = Random <= 200 & P2MoveType != A & P2StateNo != [5000,5999]

[State -1, Stand Strong Punch]
type = ChangeState
value = 215
triggerall = Var(58) > 0 & Var(53) = 110 & NumHelper(9190) > 0
triggerall = var(40) = 7
triggerall = numhelper(3407) = 0
triggerall = statetype = S
trigger1 = ((StateNo = 100 & Time > 2) || (StateNo != 100 & Ctrl)) & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 <= 50
trigger2 = stateno = 205 & MoveContact

[State -1, Standing Strong Kick]
type = ChangeState
value = 226
triggerall = Var(58) > 0 & Var(53) = 110 & NumHelper(9190) > 0
triggerall = var(40) = 7
triggerall = var(20) = 0
triggerall = statetype = S
trigger1 = stateno = 215 & MoveContact & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*9 <= 80

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1550
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 110 & NumHelper(9190) > 0
triggerall = var(20) = 0
triggerall = movetype != H
triggerall = statetype != A
trigger1 = stateno = 215 & MoveContact & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*9 > 80
trigger2 = stateno = 226 & MoveContact

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1560
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 110 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
trigger1 = StateNo = 1551 & MoveContact & (Time >= 4 || P2MoveType = H)
trigger2 = StateNo = 1552

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2470
triggerall = Var(58) > 0 & Var(53) = 110
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 1
trigger1 = StateNo = 1561 & MoveContact & (Time >= 4 || P2MoveType = H)
trigger2 = StateNo = 1562

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1170
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 110 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
trigger1 = StateNo = 1561 & MoveGuarded & (Time >= 4 || P2MoveType = H)
trigger2 = StateNo = 1562 & P2StateNo = [120,155]

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 431
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 110 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
trigger1 = StateNo = 1561 & MoveContact & (Time >= 4 || P2MoveType = H)
trigger2 = StateNo = 1562

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1060
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 110
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = numhelper(1025) = 0
triggerall = numhelper(1026) = 0
triggerall = var(12) = 0
trigger1 = stateno = 431
trigger1 = movecontact

;---------------------------------------------------------------------------
;12P地起手空連
[State -1, Stand Light Punch]
type = ChangeState
value = IfElse(Var(12) = 1,3999,3998)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & Var(53) = 111
triggerall = var(40) = 7
triggerall = var(12) = 0
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = PrevStateNo = 52 & StateType != A
trigger1 = P2StateType != L & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 = [-50,95]
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger2 = PrevStateNo = 431 || (StateNo = 1150 & MoveHit) || (StateNo = 1160 & MoveHit) || (StateNo = 1170 & MoveHit)
trigger2 = P2StateType != L & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 = [-50,95]
trigger2 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21) = [-60,-1]
trigger3 = (StateNo = 431 & MoveHit & EnemyNear(Var(55)),BackEdgeBodyDist < 10)
trigger3 = P2StateType != L & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 = [-50,95]
trigger3 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21) = [-60,-1]

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3020
triggerall = Var(58) > 0 & Var(53) = 111 & NumHelper(9190) > 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = Var(12)=0
triggerall = var(40) = 7
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = (PrevStateNo = 431 & NumHelper(3205) > 0) || PrevStateNo = 1050
trigger2 = stateno = 431 & MoveHit = 1 
trigger3 = stateno = 431 & MoveContact & PrevStateNo < 200
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger4 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) < -200) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) > 200) ;非版邊
trigger4 = (PrevStateNo = 1160 || PrevStateNo = 1170) & P2BodyDist X >= 80

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse(Var(12) = 1,3750,3120)
triggerall = Var(58) > 0 & Var(53) = 111 & NumHelper(9190) > 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = (NumHelper(3205) > 0 & Var(12)=0) || (NumHelper(3605) > 0 & Var(12)=1) || (EnemyNear(Var(55)),Life < 300 & EnemyNear(Var(55)),Alive)
triggerall = var(40) = 7
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = PrevStateNo = 431
trigger2 = PrevStateNo = 3020 || PrevStateNo = 3080

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse(Var(12) = 1,3650,3220)
triggerall = Var(58) > 0 & Var(53) = 111 & NumHelper(9190) > 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = (numhelper(3205) = 0 & Var(12)=0) || (numhelper(3605) = 0 & Var(12)=1)
triggerall = var(40) = 7
trigger1 = StateNo = 431 & MoveContact & (Var(56) > 0  || Var(12)=1)
trigger2 = StateNo = 431 & MoveGuarded

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2470
triggerall = Var(58) > 0 & Var(53) = 111 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 1
trigger1 = StateNo = 431 & MoveContact & Time > 12
trigger1 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -200) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 200) ;版邊
trigger1 = Helper(9180),Time > 300
trigger2 = stateno = 431 & MoveContact = 1 & Var(56) = 0 & PrevStateNo = 425
trigger3 = StateNo = 1561 & MoveContact & (Time >= 5 || P2MoveType = H) & P2Dist Y >= -50
trigger4 = StateNo = 1562  & P2Dist Y >= -50

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1170
triggerall = Var(58) > 0 & Var(53) = 111 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
trigger1 = StateNo = 431 & MoveContact & Time > 12
trigger1 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) < -125) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) > 125) ;非版邊
trigger1 = Helper(9180),Time > 300
trigger2 = stateno = 431 & MoveContact = 1 & Var(56) = 0 & PrevStateNo = 425

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1050
triggerall = var(40) = 7 
triggerall = Var(58) > 0 & Var(53) = 111 & NumHelper(9190) > 0 
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = numhelper(1025) = 0
triggerall = numhelper(1026) = 0
triggerall = var(12) = 0
trigger1 = stateno = 431 & MoveContact & PrevStateNo < 200 & Power < 1000

[State -1, Stand Strong Punch]
type = ChangeState
value = 205
triggerall = Var(58) > 0 & Var(53) = 111 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) 
trigger1 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*4 <= 40
trigger2 = EnemyNear(Var(55)),BackEdgeBodyDist < 10 & P2BodyDist X <= 45

[State -1, Stand Strong Punch]
type = ChangeState
value = 425
triggerall = Var(58) > 0 & Var(53) = 111 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*9 <= 100
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) 
trigger1 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*4+Helper(9180),Fvar(0)*10) <= 0

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1550
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 111 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
trigger1 = stateno = 205 & MoveContact 
trigger2 = stateno = 215 & MoveContact
trigger3 = stateno = 226 & MoveContact

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1560
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 111 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
trigger1 = StateNo = 1551 & MoveContact & (Time >= 4 || P2MoveType = H)
trigger2 = StateNo = 1552

[State -1, Stand Strong Punch]
type = ChangeState
value = 431
triggerall = Var(58) > 0 & Var(53) = 111 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
trigger1 = StateNo = 1561 & MoveContact & (Time >= 5 || P2MoveType = H)
trigger2 = StateNo = 1562

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 100
triggerall = Var(58) > 0 & Var(53) = 111 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = StateNo != 100
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = PrevStateNo = 52
trigger2 = Var(56) > 0

[State -1, 1]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 111
trigger1 = 1
sysvar(1) = 1

[State -1, Jump Cancel]
type = ChangeState
value = IfElse(StateNo=100,43,41)
triggerall = Var(58) > 0 & Var(53) = 111
triggerall = statetype != A
triggerall = stateno = 431 & MoveHit = 1 & Var(56) = 0 & PrevStateNo != 425
trigger1 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -125) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 125) ;版邊
trigger2 = P2BodyDist X <= 50

[State -1, airdashF]
type = ChangeState
value = 1570
triggerall = Var(58) > 0 & Var(53) = 111
triggerall = statetype = A
triggerall = movetype != H
triggerall = var(40) = 7
trigger1 = Ctrl & StateType = A & Var(56) > 0

[State -1, airdashF]
type = ChangeState
value = 103
triggerall = Var(58) > 0 & Var(53) = 111
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105 & stateno != 103 & stateno != 108 &  stateno != 110
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
trigger1 = Ctrl

[State -1, Jump Strong]
type = ChangeState
value = 605
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 111
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
trigger1 = (StateNo = 103 || StateNo = 108 || (StateNo = 50 & Vel X = 0) || (StateNo = [120,140])) & Ctrl
trigger1 = P2BodyDist X <= 60
trigger2 = StateNo = 605 & StateTime >= 4 & MoveContact = 0 

[State -1, Jump Strong]
type = ChangeState
value = 615
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 111
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
trigger1 = StateNo = 605 & MoveHit

[State -1, Jump Strong]
type = ChangeState
value = 625
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 111
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
trigger1 = StateNo = 615 & MoveContact

;---------------------------------------------------------------------------

;12P桌連

[State -1, Stand Light Punch]
type = ChangeState
value = IfElse(Var(12) = 1,3999,3998)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & Var(53) = 112
triggerall = var(40) = 7
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (P2BodyDist X = [-50,80])
trigger1 = ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+0.5*21) = [-70,-1]) & ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+0.5*55) > 0)
trigger1 = P2StateNo != 12100
trigger2 = StateNo = 1551 & MoveContact
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger3 = (PrevStateNo = 1150 || PrevStateNo = 1160 || PrevStateNo = 1170) & (P2BodyDist X = [-50,80]) & P2MoveType = H

[State -1, Stand Light Punch]
type = ChangeState
value = 205
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 112
triggerall = statetype = S
triggerall = movetype != H
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2BodyDist X <= 48
trigger1 = ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*4+0.5*10) = [-40,-1]) & ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+0.5*21) > 0)
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2BodyDist X <= 43
trigger2 = ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*4+0.5*10) = [-38,-1]) & ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+0.5*21) > 0)
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2BodyDist X <= 38 
trigger3 = ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*4+0.5*10) = [-35,-1]) & ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+0.5*21) > 0)

[State -1, Crouching Strong Kick]
type = ChangeState
value = 321
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 112
triggerall = movetype != H & StateType != A
trigger1 = StateNo = 100
trigger1 = (P2BodyDist X < 40 & P2StateNo != 12120) || (P2StateNo = 12120 & P2BodyDist X < 10)

[State -1, Crouching Strong Kick]
type = ChangeState
value = 100
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 112
triggerall = movetype != H & StateType != A & StateNo != 100
triggerall = !(StateNo = 321 & Time < 1)
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 40 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = (P2BodyDist X >= 75 & P2StateNo != 12120) || (P2StateNo = 12120 & P2BodyDist X >= 30)

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1150
triggerall = Var(58) > 0 & Var(53) = 112 
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
trigger1 = Var(56) = 30 & P2BodyDist X <= 125
trigger1 = StateNo = 425 & MoveHit 
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 40 || (StateNo = [120,140]) || StateNo = 321)
trigger2 = fvar(16) = 800 & (P2BodyDist X = [45,95]) & P2StateNo = 12120 & Var(12) = 0

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2470
triggerall = Var(58) > 0 & Var(53) = 112
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 1
triggerall = MoveHit & P2MoveType = H
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*4 <= 45
trigger1 = stateno = 205 & Var(57) < 20

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1550
triggerall = Var(58) > 0 & Var(53) = 112
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 1
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 205 & NumHelper(3605) = 0
trigger2 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*4 > 45
trigger2 = stateno = 205

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1560
triggerall = Var(58) > 0 & Var(53) = 112
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 1551 
trigger2 = stateno = 1552

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3650
triggerall = Var(58) > 0 & Var(53) = 112
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(3605) = 0
triggerall = var(40) = 7
triggerall = var(12) = 1
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 1511 
trigger2 = stateno = 1512
trigger3 = Ctrl & PrevStateNo = 1150

;---------------------------------------------------------------------------
;走A

[State -1, Crouching Strong Kick]
type = ChangeState
value = 321
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 113
triggerall = movetype != H & StateType != A
trigger1 = StateNo = 100
trigger1 = P2BodyDist X < 40

[State -1, Stand Light Punch]
type = ChangeState
value = IfElse(Var(12) = 1,3999,3998)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & Var(53) = 113
triggerall = var(40) = 7
triggerall = var(12) = 0 & StateType != A
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2StateType != L & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 = [-50,95]
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger2 = P2StateType != L & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 = [-50,95]
trigger2 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21) = [-60,-1]

[State -1, Stand Strong Punch]
type = ChangeState
value = 205
triggerall = Var(58) > 0 & Var(53) = 113 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) 
trigger1 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*4 <= 40
trigger2 = EnemyNear(Var(55)),BackEdgeBodyDist < 10 & P2BodyDist X <= 45
 
[State -1, Stand Light Punch]
type = ChangeState
value = 1150
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 113
triggerall = statetype = S
triggerall = movetype != H
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36) > 0 & P2BodyDist X > 70
trigger2 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*9+Helper(9180),Fvar(0)*45) > 0 & P2BodyDist X > 82
trigger3 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+Helper(9180),Fvar(0)*55) > 0 & P2BodyDist X > 94
trigger4 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*11+Helper(9180),Fvar(0)*66) > 0 & P2BodyDist X > 106
trigger5 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*12+Helper(9180),Fvar(0)*78) > 0 & P2BodyDist X > 118
trigger6 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*13+Helper(9180),Fvar(0)*91) > 0 & P2BodyDist X > 130

[State -1, Crouching Strong Kick]
type = ChangeState
value = 100
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 113
triggerall = movetype != H & StateType != A & StateNo != 100
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2BodyDist X >= 100

;---------------------------------------------------------------------------
;12P 425起手

[State -1, Stand Strong Punch]
type = ChangeState
value = 431
triggerall = Var(58) > 0 & Var(53) = 115
triggerall = var(40) = 7
triggerall = movetype != H
triggerall = MoveContact 
trigger1 = stateno = 425

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1060
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 115
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = numhelper(1025) = 0
triggerall = numhelper(1026) = 0
triggerall = var(12) = 0
trigger1 = stateno = 431
trigger1 = movecontact

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2470
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 115
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(12) = 1
trigger1 = stateno = 431
trigger1 = movecontact

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1550
triggerall = Var(58) > 0 & Var(53) = 115  
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 0
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = H & Var(53) != 30 & P2BodyDist X <= 150

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3020
triggerall = Var(58) > 0 & Var(53) = 115  
triggerall = var(20) = 0
triggerall = var(40) = 7
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(12) = 0
trigger1 = stateno = 1551 & MoveContact
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger2 = Var(56) = 20 || Var(56) = 30
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger3 = P2MoveType = H & Var(53) != 30 & P2BodyDist X > 150

[State 1100]
type = ChangeState
triggerall = Var(58) > 0 & Var(53) = 115 
triggerall = StateNo = 3020 & time >= 107
triggerall = power >= 500
trigger1 = P2MoveType != H
value = 3080

;---------------------------------------------------------------------------
;12P地板動作
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1450
triggerall = Var(58) > 0 & Var(53) = 114  
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 0
triggerall = numhelper(1400) = 0
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (Var(57) >= 32 || (PrevStateNo = 1232 & Var(57) >= 10))
trigger2 = NumHelper(3205) > 0
trigger2 = Helper(3205),Time < 180
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & Helper(9190),Var(29)%11 = 0

[State -1, Crouching Strong Kick]
type = ChangeState
value = 100
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 114 & Var(57) < 35 
triggerall = movetype != H & StateType != A & StateNo != 100
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & Var(56) = 30 
trigger1 = P2BodyDist X >= 35

[State -1, Crouching Strong Kick]
type = ChangeState
value = 425
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 114 & Var(57) < 35 
triggerall = movetype != H
triggerall = P2StateNo != 5120 || !((P2StateNo != [5100,5119]) & (EnemyNear(Var(55)),PrevStateNo = [5100,5119]))
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & Var(56) != 30
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (PrevStateNo = 1232 || Var(56) = 66) 

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1170
triggerall = Var(58) > 0 & Var(53) = 114
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = MoveHit & Helper(9190),Var(29)%2 !=0
trigger1 = stateno = 425 & Var(56) = 30
trigger2 = stateno = 425 & Var(56) != 30
trigger2 = numhelper(3205) = 0 & var(12) = 0
trigger2 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -250) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 250) ;版邊

[State -1, Stand Strong Punch]
type = ChangeState
value = 431
triggerall = Var(58) > 0 & Var(53) = 114
triggerall = var(40) = 7
triggerall = movetype != H
triggerall = MoveContact 
trigger1 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*9 <= 85
trigger1 = stateno = 425
trigger2 = stateno = 425 & Var(56) != 30

;---------------------------------------------------------------------------
;12P安心信賴壓制

[State -1, Crouching Strong Kick]
type = ChangeState
value = 100
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 7 & Var(56) = 20
triggerall = movetype != H & StateType != A & StateNo != 100
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = [120,140]) || StateNo = 321) & P2StateType = L & P2StateNo != 5120
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = [120,140]) || StateNo = 321) & P2BodyDist X >= 115

[State -1, 1]
type = VarSet
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 7
trigger1 = statetype = A
sysvar(1) = 0

[State -1, 1]
type = VarSet
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 7
trigger1 = statetype != A & Var(56) = 20
trigger2 = statetype != A & Var(56) != 20 & EnemyNear(Var(55)),Vel X < 0 & P2MoveType != H
trigger3 = StateNo = 100
sysvar(1) = 1

[State -1, 1]
type = VarSet
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 7
trigger1 = statetype != A & Var(56) != 20 & P2BodyDist X < 135 & StateNo != 100
sysvar(1) = -1

[State -1, Jump Cancel]
type = ChangeState
value = IfElse(StateNo = 100,43,41)
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 7
triggerall = statetype != A
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo = 5120 & EnemyNear(Var(55)),AnimTime >= -14
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (EnemyNear(Var(55)),PrevStateNo = [5101,5119]) & (P2StateNo != [5101,5119])
trigger2 = P2MoveType != H & EnemyNear(Var(55)),AnimTime >= -14
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & P2StateType != L & P2BodyDist X <= 350

[State -1, Jump Cancel]
type = ChangeState
value = 42
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 7 & NumHelper(9190) > 0
triggerall = sysvar(1) = 1 & Helper(9190),Var(27) > 0
triggerall = (Pos Y+Vel Y*12+Const(movement.yaccel)*78) > 0
triggerall = stateno = 50 & Time > 2
trigger1 = P2StateNo = 5120 & EnemyNear(Var(55)),AnimTime <= -10
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (EnemyNear(Var(55)),PrevStateNo = [5101,5119]) & (P2StateNo != [5101,5119])
trigger2 = P2MoveType != H & EnemyNear(Var(55)),AnimTime <= -10
trigger3 = !((vel Y = [-9,9]) & (pos y != [-50,50]))

[State -1, airdashF]
type = ChangeState
value = 108
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 7
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 103 & stateno != 105 & stateno != 108
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo != [5101,5119]
trigger1 = EnemyNear(Var(55)),AnimTime <= -8 & P2BodyDist X < -30
trigger2 = EnemyNear(Var(55)),AnimTime <= -4 & P2BodyDist X <= -15
trigger3 = P2StateType != A & P2StateType != L & P2BodyDist X <= -15 & (Pos Y+0*14+Const(movement.yaccel)*105) >= 0

[State -1, airdashF]
type = ChangeState
value = 103
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 7
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105 & stateno != 103 & stateno != 108 &  stateno != 110
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo != [5101,5119]
trigger1 = EnemyNear(Var(55)),AnimTime <= -10
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (Pos Y+0*14+Const(movement.yaccel)*105) >= 0 & P2BodyDist X > 0
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & P2StateType != L & (Pos Y+0*14+Const(movement.yaccel)*105) >= 0

[State -1, Jump Strong]
type = ChangeState
value = 615
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 7 & NumHelper(9190) > 0
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (Pos Y+0*14+Const(movement.yaccel)*105) < 0
triggerall = P2BodyDist X+Vel X*14-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*14 <= 60 || P2BodyDist X = [-35,20]
triggerall = (StateNo = 103 || StateNo = 108 || (StateNo = 50 & Vel X = 0) || (StateNo = [120,140])) & Ctrl
trigger1 = P2MoveType != H & EnemyNear(Var(55)),AnimTime <= -13 & P2StateNo != [5101,5119]
trigger2 = P2StateType != L
trigger3 = Helper(9190),Var(30) > 0

[State -1, Jump Strong]
type = ChangeState
value = 625
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 7 & NumHelper(9190) > 0
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (Pos Y+0*14+Const(movement.yaccel)*105) < 0
triggerall = P2BodyDist X = [-35,0]
triggerall = (StateNo = 103 || StateNo = 108 || (StateNo = 50 & Vel X = 0) || (StateNo = [120,140])) & Ctrl
trigger1 = P2MoveType != H & EnemyNear(Var(55)),AnimTime <= -13 & P2StateNo != [5101,5119]
trigger2 = P2StateType != L
trigger3 = Helper(9190),Var(30) > 0

;---------------------------------------------------------------------------

;防反 脫離
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2050
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(40) = 7
triggerall = power >= 1000
triggerall = statetype != A
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (Helper(9190),Var(34) = 1 & EnemyNear(Var(55)),MoveContact = 0) || Helper(9190),Var(34) = 0 || (Helper(9190),Fvar(19) = 1 & Helper(9190),Fvar(15) = 0)
trigger1 = (stateno = [151,155]) & Random <= 500+999*(EnemyNear(Var(55)),PrevStateNo = [5000,5999])+999*(EnemyNear(Var(55)),PrevStateNo = [150,155])
trigger1 = P2StateType != L & P2MoveType = A & P2BodyDist Y >= -70 & P2BodyDist X = [0,120]
trigger1 = EnemyNear(Var(55)),AnimTime <= -2 || P2StateType = A 

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2150
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(40) = 7
triggerall = life >= 1
triggerall = power >= 2000 
triggerall = Helper(9190),Fvar(15) = 0 || Random <= 1
triggerall = Helper(9190),Fvar(16) = 0
triggerall = !(P2MoveType = I & P2StateNo >= 200 & IfElse(Facing != EnemyNear(Var(50)),Facing,1,-1)*EnemyNear(Var(50)),Vel X > 2) ;翻滾OR無敵位移
triggerall = (StateNo != [5100,5111]) & StateType != L
trigger1 = (stateno = [5000,5030]) || ((stateno = [5000,5200]) & EnemyNear(Var(55)),Time < 10)
trigger1 = EnemyNear(Var(55)),AnimTime <= -5 & P2StateNo > 200 & P2MoveType = A & P2BodyDist X = [-100,100]
trigger1 = (P2BodyDist Y = [-70,70])
trigger1 = (Life < 500 & GetHitVar(hitcount) >= 5) || (Life < 700 & GetHitVar(hitcount) >= 10) || (Life < 1000 & GetHitVar(hitcount) >= 16) || Random <= 150
trigger1 = Random <= 150+350*(EnemyNear(Var(55)),MoveContact = 0)-130*(Helper(9190),Fvar(15) = 1)
trigger2 = stateno = [5000,5200]
trigger2 = Random <= 1 & StateType != L & Time < 3
;---------------------------------------------------------------------------
;12P空接地
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = Ifelse(Var(12) = 1,3999,3998)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & Var(53) = 116
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 = [-50,90]
triggerall = P2MoveType = H & P2StateNo != [120,154]
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = [120,140]) || StateNo = 321)
trigger2 = StateNo = [40,41]

[State -1, Stand Light Punch]
type = ChangeState
value = 1250
triggerall = var(40) = 7 & Var(53) = 116
triggerall = var(58) > 0
triggerall = statetype = S
triggerall = movetype != H & Random <= 333 & P2StateNo = [120,154]
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2BodyDist X < 40
trigger2 = StateNo = 100 & Time > 1 & P2BodyDist X > 45 & P2StateType != A

[State -1, Stand Light Punch]
type = ChangeState
value = IfElse((StateNo = 100 & Time > 1),215,205)
triggerall = var(40) = 7 & Var(53) = 116
triggerall = var(58) > 0
triggerall = statetype = S
triggerall = movetype != H
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2BodyDist X < 40
trigger2 = StateNo = 100 & Time > 1 & P2BodyDist X > 45 & P2StateType != A

[State -1, Crouching Strong Kick]
type = ChangeState
value = 100
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 116
triggerall = movetype != H & StateType != A & StateNo != 100
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = [120,140]) || StateNo = 321) & P2BodyDist X >= 30

[State -1, Stand Light Punch]
type = ChangeState
value = 1550
triggerall = var(40) = 7 & Var(53) = 116
triggerall = var(58) > 0
triggerall = statetype = S
triggerall = movetype != H
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2BodyDist X < 40
trigger2 = StateNo = 100 & Time > 1 & P2BodyDist X <= 95 & P2StateType = A
trigger3 = StateNo = 100 & Time > 1 & PrevStateNo = 2621 & NumProjID(111) = 0 & P2BodyDist X <= 95 
;--------------------------------------------------------------------------
;12P水砲前衝

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 117
trigger1 = StateNo = 1561 & MoveHit
v = 56
value = 30

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 117 & Var(56) = 30
trigger1 = StateNo = 3080
trigger2 = StateNo = 3020 & Power < 500
trigger3 = StateNo = 3750
v = 56
value = 0

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 117
triggerall = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) < -200) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) > 200) ;非版邊
trigger1 = StateNo = 3080 & Time > 10 & P2StateType = A
v = 56
value = 50

[State -1, VarSet]
type = VarSet
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & Var(53) = 117
triggerall = var(40) = 7
triggerall = (P2StateType = A & ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21) < 0)) || P2StateType != A
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = [120,140]) || StateNo = 321 || (StateNo = 1551 & MoveHit) || (StateNo = 1561 & MoveHit))
trigger1 = (PrevStateNo = 52 ||  StateNo = 100) & StateType != A
trigger1 = P2StateType != L & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 = [-50,85]
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger2 = PrevStateNo = 431 || PrevStateNo = 1160 || PrevStateNo = 1170
trigger2 = P2StateType != L & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 = [-50,85]
trigger2 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21) < 0
trigger3 = (StateNo = 431 & MoveHit & EnemyNear(Var(55)),BackEdgeBodyDist < 10)
trigger3 = P2StateType != L & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 = [-50,85]
trigger3 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21) < 0
trigger4 = (StateNo = 1551 & MoveHit) || (StateNo = 1561 & MoveHit)
trigger4 = P2StateType != L & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 = [-50,85]
trigger4 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21) < 0
v = 56
value = 70


[State -1, 1]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 117
trigger1 = 1
sysvar(1) = 1

[State -1, Jump Cancel]
type = ChangeState
value = IfElse(StateNo=100,43,41)
triggerall = Var(58) > 0 & Var(53) = 117  & Var(56) = 50
triggerall = statetype != A
trigger1 = StateNo = 100 & P2BodyDist X <= 100

[State -1]
type = ChangeState
value = 1280
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) = 117 & Var(56) = 50
triggerall = var(40) = 7
triggerall = StateType = A & P2StateType = A
trigger1 = Ctrl

[State -1, Stand Light Punch]
type = ChangeState
value = IfElse(Var(12) = 1,3999,3998)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & Var(53) = 117 & StateType != A
triggerall = var(40) = 7
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = [120,140]) || StateNo = 321 || (StateNo = 1551 & MoveHit) || (StateNo = 1561 & MoveHit))
trigger1 = P2StateType != A & P2StateType != L
trigger1 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 = [-50,85]
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger2 = P2StateType = A & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 = [-50,85]
trigger2 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21) = [-60,-1]
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger3 = P2StateType = A & P2BodyDist X = [-50,85]
trigger3 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21) = [-60,-1]
trigger3 = EnemyNear(Var(55)),BackEdgeBodyDist < 35

[State -1, Crouching Strong Kick]
type = ChangeState
value = 1070
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 117 & Var(56) != 70
triggerall = movetype != H & StateType != A
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = numhelper(1025) = 0
triggerall = numhelper(1026) = 0
trigger1 = StateNo = 100
trigger1 = (P2BodyDist X < 35 & P2StateNo != 12120) || (P2StateNo = 12120 & P2BodyDist X < 10)
trigger1 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*26+Helper(9180),Fvar(0)*351) < 0

[State -1, Crouching Strong Kick]
type = ChangeState
value = 321
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 117 
triggerall = movetype != H & StateType != A
trigger1 = StateNo = 100
trigger1 = (P2BodyDist X < 30 & P2StateNo != 12120) || (P2StateNo = 12120 & P2BodyDist X < 10)

[State -1, Crouching Strong Kick]
type = ChangeState
value = 100
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 117
triggerall = movetype != H & StateType != A & StateNo != 100
triggerall = !(StateNo = 321 & Time < 1)
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = 40 & Var(56) != 50) || (StateNo = [120,140]) || StateNo = 321)
trigger1 = (P2BodyDist X >= 75 & P2StateNo != 12120) || (P2StateNo = 12120 & P2BodyDist X >= 30) || (PrevStateNo = 1562 & P2BodyDist X >= 85)

[State -1, Stand Strong Punch]
type = ChangeState
value = 205
triggerall = Var(58) > 0 & Var(53) = 117 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) 
triggerall = ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*4+Helper(9180),Fvar(0)*10) = [-40,-1]) 
trigger1 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*4 <= 40
trigger2 = EnemyNear(Var(55)),BackEdgeBodyDist < 25 & P2BodyDist X <= 35

[State -1, Stand Strong Punch]
type = ChangeState
value = 1550
triggerall = Var(58) > 0 & Var(53) = 117 & NumHelper(9190) > 0 & NumHelper(9180) > 0 & Var(56) != 70
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
trigger1 = StateNo = 205 & MoveContact
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger2 = Var(56) = 30 & P2BodyDist X < 130 & fvar(16) != 800
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger3 = Var(56) = 30 & fvar(16) = 800
trigger3 = (P2BodyDist X < 130 & StateNo = 100 & Time > 2) || P2BodyDist X <= 80

[State -1, Stand Strong Punch]
type = ChangeState
value = 1560
triggerall = Var(58) > 0 & Var(53) = 117 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
trigger1 = StateNo = 1551 & MoveContact & Var(56) = 30 & P2BodyDist X < 130

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3020
triggerall = var(40) = 7 & Var(53) = 117
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(12) = 0
triggerall = Power >= 1000
triggerall = movetype != H
triggerall = statetype != A
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = Var(56) = 30 & (P2BodyDist X >= 130 || PrevStateNo = 1552)
trigger2 = StateNo = 1551 & MoveContact & P2BodyDist X >= 130
trigger3 = StateNo = 1561 & MoveContact & P2BodyDist X >= 130

[State 1100]
type = ChangeState
triggerall = Var(58) > 0 & var(40) = 7 & Var(53) = 117
triggerall = StateNo = 3020 & time >= 107
triggerall = power >= 500
trigger1 = Var(56) = 30
trigger2 = P2MoveType != H
trigger3 = P2BodyDist X <= 150 & EnemyNear(Var(55)),Life <= 250
value = 3080

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3750
triggerall = var(40) = 7 & Var(53) = 117
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(12) = 1
triggerall = Power >= 1000
triggerall = movetype != H
triggerall = statetype != A
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = Var(56) = 30 & (P2BodyDist X >= 130 || PrevStateNo = 1552)
trigger2 = StateNo = 1551 & MoveContact & P2BodyDist X >= 130
trigger3 = StateNo = 1561 & MoveContact & P2BodyDist X >= 130

;---------------------------------------------------------------------------
;鐵拳無敵


[State -1, Stand Light Punch]
type = ChangeState
value = IfElse(Var(12) = 1,3999,3998)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & Var(53) = 121
triggerall = var(40) = 7
triggerall = var(12) = 0
triggerall = (P2StateType = A & ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21) = [-50,-1])) || P2StateType != A
trigger1 = Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = [120,140]) || StateNo = 321
trigger1 = P2StateType = A & P2MoveType = H & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 = [-50,85]
trigger1 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21) = [-60,-1]

[State -1, Crouching Strong Kick]
type = ChangeState
value = 100
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 121
triggerall = movetype != H & StateType != A & StateNo != 100
triggerall = !(StateNo = 321 & Time < 1)
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = 40 & Var(56) != 50) || (StateNo = [120,140]) || StateNo = 321)
trigger1 = (P2BodyDist X >= 75 & P2StateNo != 12120) || (P2StateNo = 12120 & P2BodyDist X >= 30) || (PrevStateNo = 1562 & P2BodyDist X >= 85)

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3850
triggerall = Var(58) > 0 & Var(53) = 121 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7 & power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(12) = 1
triggerall = P2BodyDist X = [0,240]
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*5+Helper(9180),Fvar(0)*15) = [-90,-1]
triggerall = Helper(9190),Fvar(15) = 0 
triggerall = Helper(9190),Fvar(16) = 0 
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = StateNo = 100 & Time > 2

[State -1, Stand Strong Punch]
type = ChangeState
value = 205
triggerall = Var(58) > 0 & Var(53) = 121 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) 
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*4+Helper(9180),Fvar(0)*10) = [-40,-1]
trigger1 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*4 <= 40
trigger2 = EnemyNear(Var(55)),BackEdgeBodyDist < 10 & P2BodyDist X <= 45

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2470
triggerall = Var(58) > 0 & Var(53) = 121
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 1
triggerall = MoveHit & P2MoveType = H
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*4 <= 45
trigger1 = stateno = 205 & Var(57) < 20

[State -1, Crouching Strong Kick]
type = ChangeState
value = 321
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 121
triggerall = movetype != H & StateType != A
trigger1 = StateNo = 100
trigger1 = P2BodyDist X < 5

;---------------------------------------------------------------------------
;劇情

[State 1100]
type = ChangeState
triggerall = Var(58) > 0 & var(40) = 7 & Var(53) = 118
triggerall = StateNo = 3020 & time >= 107
trigger1 = 1
value = 3080

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3220
triggerall = Var(58) > 0 & Var(53) = 118
triggerall = movetype != H
triggerall = statetype != A & Var(12) = 0
triggerall = var(40) = 7
trigger1 = StateNo = 3080 & AnimTime = [-2,0]
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)

;補血用
[State -1]
type = ChangeState
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) = 118
triggerall = var(40) = 7
triggerall = StateNo = 3220 & Time >= 56
trigger1 = 1
value = 3250

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3500
triggerall = Var(58) > 0 & Var(53) = 118
triggerall = var(12)  = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
trigger1 = StateNo = 3250 & Time >= 60
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger2 = PrevStateNo = 3250

;---------------------------------------------------------------------------

;看起來自然
[State 21, 1]
type = Turn
triggerall = var(40) = 7
trigger1 = Var(58) > 0 & P2dist X < 0 & NumHelper(9190) > 0
trigger1 = StateNo = 100 & Time = 1 & (Helper(9190),Fvar(15) = 1  || InGuardDist || P2MoveType = A || (Helper(9190),Var(31) = [1,4]))
trigger1 = P2MoveType != H

;無敵沒了
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2670
triggerall = Var(58) > 0 & NumHelper(9180) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 1
triggerall = Var(53) = 120 & (Helper(9190),Var(31) = [1,4])
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
triggerall = !(EnemyNear(Var(55)),Facing = Facing & NumHelper(1400) > 0 & (PrevStateNo != [5000,5019]))
triggerall = !(P2MoveType = A & P2BodyDist X-EnemyNear(Var(55)),Vel X*12 < 0) 
triggerall = !(P2StateNo < 200 & P2BodyDist X <= 0) 
triggerall = Random <= 1000-200*(Helper(9190),Var(31) <= -2)-100*(Helper(9190),Var(31) <= -4)-100*(Helper(9190),Var(31) <= -8)-100*(Helper(9190),Var(31) <= -16)
trigger1 = InGuardDist || Helper(9190),InGuardDist || (P2BodyDist X <= Helper(9190),Fvar(12))
trigger1 = Helper(9180),Var(31) = 4 & P2MoveType = A & (Var(54) != [1000,1060])
trigger2 = PlayerIDExist(Helper(9190),var(45))
trigger2 = Helper(9180),Var(31) = 3 & PlayerID(Helper(9190),Var(45)),Vel X > 0 & PlayerID(Helper(9190),Var(45)),HitDefAttr != SCA,AA,AT
trigger3 = PlayerIDExist(Helper(9190),var(45))
trigger3 = Helper(9180),Var(31) = 1 & P2MoveType = A & PlayerID(Helper(9190),Var(45)),Vel Y >= 0 & PlayerID(Helper(9190),Var(45)),HitDefAttr != SCA,AA,AT
trigger4 = PlayerIDExist(Helper(9190),var(45))
trigger4 = Helper(9180),Var(31) = 2 & P2MoveType = A & P2StateType != A & PlayerID(Helper(9190),Var(45)),Vel X > 0 & PlayerID(Helper(9190),Var(45)),HitDefAttr != SCA,AT
trigger5 = PlayerIDExist(Helper(9190),var(45))
trigger5 = (Helper(9180),Var(31) = [1,4]) & P2MoveType = A & P2StateType != A & PlayerID(Helper(9190),Var(45)),HitDefAttr != SCA,AA,AT
trigger5 = Helper(9190),Fvar(19) = 1 & (EnemyNear(Var(55)),AnimTime <= -30 || (EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime >= 100 & EnemyNear(Var(55)),AnimTime < -10))
trigger6 = PlayerIDExist(Helper(9190),var(45))
trigger6 = (Helper(9180),Var(31) = [1,4]) & PlayerID(Helper(9190),Var(45)),HitDefAttr != SCA,AA,AT
trigger6 = PlayerID(Helper(9190),Var(45)),P2BodyDist X-PlayerID(Helper(9190),Var(45)),Vel X <= 50
trigger7 = Helper(9190),Fvar(19) = 1 & P2MoveType = A & ((P2BodyDist X <= Helper(9190),Fvar(12) & P2BodyDist X >= 90) || Helper(9190),Var(37) = -1)


[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 100
triggerall = var(40) = 7 & P2MoveType != H
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = InGuardDist || (P2BodyDist X <= 0 && P2MoveType = A) || Helper(9190),InGuardDist || Helper(9190),Var(46) = 1
trigger1 = stateno = 100 & Time >= 14 & Random <= 333+666*(Var(54) = 800)+666*(Var(54) = 801)+800*(Helper(9190),Var(31) = [1,4])
trigger2 = (stateno = [120,140]) & Helper(9190),Fvar(18) > 0
trigger3 = (stateno = [120,140]) & Helper(9190),Fvar(14) > 0
trigger4 = stateno = 321 & P2MoveType = A & EnemyNear(Var(55)),P2BodyDist X >= 0
trigger5 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger5 = PrevStateNo = 5120 & P2MoveType = A

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 100
triggerall = var(40) = 7 & P2MoveType != H
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = (Helper(9180),Var(31) = 4 & P2StateNo >= 200 & (P2StateNo != [5000,5999])  & P2MoveType != H) || (Helper(9180),Var(31) = 5  & P2MoveType = A)
trigger1 = stateno = 100 & Time >= 14 & Random <= 333+666*(Var(54) = 800)+666*(Var(54) = 801)+800*(Helper(9190),Var(31) = [1,4])
trigger2 = (stateno = [120,140]) & Helper(9190),Fvar(18) > 0
trigger3 = (stateno = [120,140]) & Helper(9190),Fvar(14) > 0
trigger4 = stateno = 321 & P2MoveType = A & EnemyNear(Var(55)),P2BodyDist X >= 0
trigger5 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger5 = PrevStateNo = 5120 & P2MoveType = A

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 100
triggerall = var(40) = 7 & P2MoveType != H
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A 
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = 100 & Time >= 14) || (StateNo = [120,140]) || StateNo = 321)
trigger1 = Helper(9190),Fvar(15) = 1 & Helper(9190),Fvar(14) = 0
trigger2 = Var(53) = 120 & StateNo = 100 & Time = 10
trigger3 = Helper(9190),Fvar(18) = 1 & StateNo != 100 

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 105
triggerall = var(40) = 7 & P2MoveType != H
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A 
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = Helper(9190),Fvar(15) = 1 & Helper(9190),Fvar(14) = 1
trigger2 = EnemyNear(Var(55)),HitDefAttr = SCA,AT & Var(53) = 120

;無敵了
[State -1, Run Fwd]
type = ChangeState
value = 100
triggerall = var(40) = 7 & P2MoveType != H
triggerall = Var(58) > 0 & (Var(53) = 0 || P2MoveType != H || P2StateType = L) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = StateNo != 100 & StateType != A
triggerall = !(P2StateType = S & StateType = C & EnemyNear(Var(55)),MoveContact = 0 & P2BodyDist X < 100);身高優勢
triggerall = P2StateType != L & !((EnemyNear(Var(55)),PrevStateNo = [5030,5071]) & (P2StateNo != [5030,5071]))
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = A & P2BodyDist X > 0 & EnemyNear(Var(55)),MoveContact = 0 
trigger2 = P2MoveType = I & P2BodyDist X < 100 & Random <= 150
trigger3 = PrevStateNo = 425 & P2MoveType != H

[State -1, airdashF]
type = ChangeState
value = 103
triggerall = var(40) = 7 & P2MoveType != H
triggerall = Var(58) > 0
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105 & stateno != 103 & stateno != 108 &  stateno != 110
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
trigger1 = Ctrl & P2MoveType = A & Time >= EnemyNear(Var(55)),Time & EnemyNear(Var(55)),Time < 8
trigger1 = !(P2BodyDist X <= 100 & (P2BodyDist Y = [-30,30]) & P2StateType = A)
trigger2 = Ctrl & P2MoveType = A & P2BodyDist X > 0 & Random <= 100
trigger3 = P2MoveType = A & Helper(9190),Var(31) = [1,4]
trigger3 = Ctrl & Random <= 100
trigger4 = Ctrl & P2BodyDist X >= 125 & Random <= 250

[State -1, airdashF]
type = ChangeState
value = 108
triggerall = var(40) = 7 & P2MoveType != H
triggerall = Var(58) > 0
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105 & stateno != 103 & stateno != 108 &  stateno != 110
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
trigger1 = Ctrl & P2MoveType = A & Time >= EnemyNear(Var(55)),Time  & EnemyNear(Var(55)),Time < 8
trigger1 = (P2BodyDist X <= 100 & (P2BodyDist Y = [-30,30]) & P2StateType = A)
trigger2 = Ctrl & P2MoveType = A & P2BodyDist X < 0 & Random <= 100
trigger3 = Ctrl & P2BodyDist X < -30 & Random <= 333

;---------------------------------------------------------------------------

;12P抓技專用
[State -1,555]
type = ChangeState
value = 2480
triggerall = Var(58) > 0 & StateType != A & NumHelper(9190) > 0
triggerall = var(40) = 7 & Var(12) = 1
triggerall = !(PrevStateNo = 5120 & Time < 11) ;起身對投無敵
triggerall = EnemyNear(Var(55)),HitDefAttr = SCA,AT || (Var(54) = 800 & EnemyNear(Var(55)),MoveContact = 0 & Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time <= 10)
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = I & P2StateType != A &P2StateType != L & Random <= 100
trigger1 = Var(54) = 800 || Var(54) = 801
trigger2 = Helper(9190),Fvar(14) = 1 & EnemyNear(Var(55)),AnimTime = [-16,-22]
trigger2 = P2BodyDist X <= 150
trigger3 = Var(53) = 0 & P2MoveType != H & P2StateType = A & Random <= 150
trigger3 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*20+Helper(9180),Fvar(0)*210) >= 0 & (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*15+Helper(9180),Fvar(0)*120) < 0
trigger3 = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*20) = [40,80]
[State -1,555]
type = ChangeState
value = 2480
triggerall = Var(58) > 0 & StateType != A & NumHelper(9190) > 0
triggerall = var(40) = 7 & Var(12) = 1
triggerall = !(PrevStateNo = 5120 & Time < 11) ;起身對投無敵
triggerall = (Var(54) = 801 & EnemyNear(Var(55)),Time <= 1) || (Var(54) = 801 & P2StateNo < 200) || (Var(54) = 802 & Var(53) != 4) || (Helper(9190),FVar(14) = 1 & P2BodyDist X <= 20)
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = I & P2StateType != A &P2StateType != L & Random <= 100
trigger1 = Var(54) = 800 || Var(54) = 801
trigger2 = Helper(9190),Fvar(14) = 1 & EnemyNear(Var(55)),AnimTime = [-16,-22]
trigger2 = P2BodyDist X <= 150
trigger3 = Var(53) = 0 & P2MoveType != H & P2StateType = A & Random <= 150
trigger3 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*20+Helper(9180),Fvar(0)*210) >= 0 & (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*15+Helper(9180),Fvar(0)*120) < 0
trigger3 = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*20) = [40,80]

[State -1]
type = ChangeState
value = 1260
triggerall = Var(58) > 0 & StateType != A & NumHelper(9190) > 0
triggerall = var(40) = 7
triggerall = !(PrevStateNo = 5120 & Time < 11) ;起身對投無敵
triggerall = EnemyNear(Var(55)),HitDefAttr = SCA,AT || (Var(54) = 800 & EnemyNear(Var(55)),MoveContact = 0 & Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time <= 10)
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = A & P2BodyDist X <= 75 & EnemyNear(Var(55)),AnimTime >= -12 & Random <= 200
trigger2 = Helper(9190),Fvar(14) = 1
trigger2 = P2MoveType = A
trigger3 = NumHelper(1400) > 0 & P2MoveType = A & EnemyNear(Var(55)),Facing = Facing & P2BodyDist X <= 75
[State -1]
type = ChangeState
value = 1260
triggerall = Var(58) > 0 & StateType != A & NumHelper(9190) > 0
triggerall = var(40) = 7
triggerall = !(PrevStateNo = 5120 & Time < 11) ;起身對投無敵
triggerall = (Var(54) = 801 & EnemyNear(Var(55)),Time <= 1) || (Var(54) = 801 & P2StateNo < 200) || (Var(54) = 802 & Var(53) != 4) || (Helper(9190),FVar(14) = 1 & P2BodyDist X <= 20)
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = A & P2BodyDist X <= 75 & EnemyNear(Var(55)),AnimTime >= -12 & Random <= 200
trigger2 = Helper(9190),Fvar(14) = 1
trigger2 = P2MoveType = A
trigger3 = NumHelper(1400) > 0 & P2MoveType = A & EnemyNear(Var(55)),Facing = Facing & P2BodyDist X <= 75

[State -1]
type = ChangeState
value = 1550
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(40) = 7 & StateType != A
triggerall = !(PrevStateNo = 5120 & Time < 11) ;起身對投無敵
triggerall = EnemyNear(Var(55)),HitDefAttr = SCA,AT || (Var(54) = 800 & EnemyNear(Var(55)),MoveContact = 0 & Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time <= 10)
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
triggerall = P2BodyDist Y <= -80 
trigger1 = P2MoveType = A & P2BodyDist X <= 120 & EnemyNear(Var(55)),AnimTime <= -7 & Random <= 500+999*(PrevStateNo = 5120)
trigger2 = Helper(9190),Fvar(14) = 1
trigger2 = P2MoveType = A
[State -1]
type = ChangeState
value = 1550
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(40) = 7 & StateType != A
triggerall = !(PrevStateNo = 5120 & Time < 11) ;起身對投無敵
triggerall = (Var(54) = 801 & EnemyNear(Var(55)),Time <= 1) || (Var(54) = 801 & P2StateNo < 200) || (Var(54) = 802 & Var(53) != 4) || (Helper(9190),FVar(14) = 1 & P2BodyDist X <= 20)
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
triggerall = P2BodyDist Y <= -80 
trigger1 = P2MoveType = A & P2BodyDist X <= 120 & EnemyNear(Var(55)),AnimTime <= -7 & Random <= 500+999*(PrevStateNo = 5120)
trigger2 = Helper(9190),Fvar(14) = 1
trigger2 = P2MoveType = A

[State -1]
type = ChangeState
value = 105
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8) & StateType != A & NumHelper(9190) > 0
triggerall = P2StateType != A & Var(53) != 14
triggerall = !(PrevStateNo = 5120 & Time < 11) ;起身對投無敵
triggerall = EnemyNear(Var(55)),HitDefAttr = SCA,AT || (Var(54) = 800 & EnemyNear(Var(55)),MoveContact = 0 & Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time <= 10)
triggerall = Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time <= 8 || (Helper(9190),Fvar(11) = 0 & EnemyNear(Var(55)),Time <= 4)
triggerall = (BackEdgeBodyDist >= 30 & EnemyNear(Var(55)),AnimTime <= -15) || EnemyNear(Var(55)),AnimTime <= -20
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = A & P2BodyDist X <= 75
[State -1]
type = ChangeState
value = 105
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8) & StateType != A & NumHelper(9190) > 0
triggerall = P2StateType != A & Var(53) != 14
triggerall = !(PrevStateNo = 5120 & Time < 11) ;起身對投無敵
triggerall = (Var(54) = 801 & EnemyNear(Var(55)),Time <= 1) || (Var(54) = 801 & P2StateNo < 200) || (Var(54) = 802 & Var(53) != 4) || (Helper(9190),FVar(14) = 1 & P2BodyDist X <= 20)
triggerall = Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time <= 8 || (Helper(9190),Fvar(11) = 0 & EnemyNear(Var(55)),Time <= 4)
triggerall = (BackEdgeBodyDist >= 30 & EnemyNear(Var(55)),AnimTime <= -15) || EnemyNear(Var(55)),AnimTime <= -20
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = A & P2BodyDist X <= 75

[State -1]
type = ChangeState
value = 1280
triggerall = Var(58) > 0 & StateType != A & NumHelper(9190) > 0
triggerall = var(40) = 7
triggerall = Ctrl & StateType = A & P2StateType = A
trigger1 = P2MoveType != H & (P2BodyDist X+Vel X*6-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6) = [0,80]
trigger1 = P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21 = [-80,80]
trigger2 = Helper(9190),Fvar(14) = 1
trigger2 = P2MoveType = A & P2StateType = A


[State -1]
type = ChangeState
value = 1570
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(40) = 7
triggerall = !(PrevStateNo = 5120 & Time < 11) ;起身對投無敵
triggerall = EnemyNear(Var(55)),HitDefAttr = SCA,AT || (Var(54) = 800 & EnemyNear(Var(55)),MoveContact = 0 & Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time <= 10)
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
triggerall = P2BodyDist Y <= -80 
trigger1 = P2MoveType = A & P2StateType != C & Time <= EnemyNear(Var(55)),Time & EnemyNear(Var(55)),Time <= 5
trigger1 = StateType = A & P2BodyDist X <= 100
[State -1]
type = ChangeState
value = 1570
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(40) = 7
triggerall = !(PrevStateNo = 5120 & Time < 11) ;起身對投無敵
triggerall = (Var(54) = 801 & EnemyNear(Var(55)),Time <= 1) || (Var(54) = 801 & P2StateNo < 200) || (Var(54) = 802 & Var(53) != 4) || (Helper(9190),FVar(14) = 1 & P2BodyDist X <= 20)
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
triggerall = P2BodyDist Y <= -80 
trigger1 = P2MoveType = A & P2StateType != C & Time <= EnemyNear(Var(55)),Time & EnemyNear(Var(55)),Time <= 5
trigger1 = StateType = A & P2BodyDist X <= 100

;無腦技
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3320
triggerall = var(40) = 7 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10)
triggerall = power >= 1000 
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = P2BodyDist X <= 600
triggerall = Helper(9190),Fvar(16) = 0 
triggerall = Helper(9190),Fvar(15) = 0 || (Helper(9190),Fvar(15) = 1 & EnemyNear(Var(55)),AnimTime >= -6) || (Helper(9190),Fvar(15) = 1 & Random <= 150 & P2BodyDist X > 200 & P2BodyDist X < Helper(9190),Fvar(12))
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2StateType = A & P2MoveType = H & P2StateNo > 200
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger2 =  P2MoveType = A & P2BodyDist X >= 200 & Random <= 200

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3850
triggerall = var(40) = 7 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10)
triggerall = power >= 1000 
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(12) = 1
triggerall = P2BodyDist X = [0,240]
triggerall = Helper(9190),Fvar(15) = 0 
triggerall = Helper(9190),Fvar(16) = 0 
trigger1 = Helper(9190),Var(32)%3 != 0 & Helper(9190),Var(32)%7 != 0 ;非鋼體
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = A & P2StateNo > 200 & Random <= 135

;主修技
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3220
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10) & NumHelper(9190) > 0 & P2BodyDist X > -30
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A & Var(12)=0 & NumHelper(3205) = 0
triggerall = var(40) = 7
triggerall = Helper(9190),Fvar(16) = 0
triggerall = !(Helper(9190),Fvar(14) = 1 & Helper(9190),Fvar(15) = 1)
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) = [5,340]
trigger1 = EnemyNear(Var(55)),AnimTime < -8 & EnemyNear(Var(55)),MoveContact = 0 & Random <= 333
trigger1 = !((Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & EnemyNear(Var(55)),PrevStateNo = [5000,5999])
trigger2 = P2StateType = A & P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) <= 340
trigger2 = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) > 10
trigger2 = P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36 < -5
trigger3 = P2MoveType = A & MoveGuarded
trigger3 = (stateno = 200 || stateno = 210 || stateno = 221 || stateno = 1100 || stateno = 1110 || stateno = 1120 || stateno = 1501 || stateno = 1511)
trigger4 = ((PrevStateNo = 5120 & EnemyNear(Var(55)),Time > Time) || (StateNo = [120,140])) &  BackEdgeBodyDist < 20
trigger4 = P2MoveType = A & P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36 < -5
trigger5 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8 <= 340
trigger5 = P2MoveType != H & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),PrevStateNo < 200 & EnemyNear(Var(55)),AnimTime < -8 
trigger5 = EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime <= 40 & Random <= 150
trigger6 = PrevStateNo = 216 & P2MoveType = H
trigger7 = P2StateNo < 200 & P2BodyDist X < 340 & EnemyNear(Var(55)),Vel X = 0 & Helper(9190),Time < 1200

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3220
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10) & NumHelper(9190) > 0 & P2BodyDist X > -30
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A & Var(12)=0 & NumHelper(3205) = 0
triggerall = var(40) = 7
triggerall = Helper(9190),Fvar(16) = 0
triggerall = !(Helper(9190),Fvar(14) = 1 & Helper(9190),Fvar(15) = 1)
triggerall = MoveContact
triggerall = (stateno = 200 || stateno = 210 || stateno = 221 || stateno = 426 || stateno = 211)
trigger1 = P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) = [5,340]
trigger1 = EnemyNear(Var(55)),AnimTime < -8 & EnemyNear(Var(55)),MoveContact = 0 & Random <= 333
trigger1 = !((Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & EnemyNear(Var(55)),PrevStateNo = [5000,5999])
trigger2 = P2StateType = A & P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) <= 340
trigger2 = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) > 10
trigger2 = P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36 < -5
trigger3 = P2MoveType = A & MoveGuarded 
trigger3 = (stateno = 200 || stateno = 210 || stateno = 221 || stateno = 1100 || stateno = 1110 || stateno = 1120 || stateno = 1501 || stateno = 1511)
trigger4 = ((PrevStateNo = 5120 & EnemyNear(Var(55)),Time > Time) || (StateNo = [120,140])) &  BackEdgeBodyDist < 20
trigger4 = P2MoveType = A & P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36 < -5
trigger5 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8 <= 340
trigger5 = P2MoveType != H & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),PrevStateNo < 200 & EnemyNear(Var(55)),AnimTime < -8 
trigger5 = EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime <= 40 & Random <= 150
trigger6 = PrevStateNo = 216 & P2MoveType = H
trigger7 = P2StateNo < 200 & P2BodyDist X < 340 & EnemyNear(Var(55)),Vel X = 0 & Helper(9190),Time < 1200

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3220
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10) & NumHelper(9190) > 0 & P2BodyDist X > -30
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A & Var(12)=0 & NumHelper(3205) = 0
triggerall = var(40) = 7
triggerall = Helper(9190),Fvar(16) = 0
triggerall = !(Helper(9190),Fvar(14) = 1 & Helper(9190),Fvar(15) = 1)
triggerall = MoveContact
triggerall = (stateno = 1100 || stateno = 1110 || stateno = 1120 || stateno = 1501 || stateno = 1511)
trigger1 = P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) = [5,340]
trigger1 = EnemyNear(Var(55)),AnimTime < -8 & EnemyNear(Var(55)),MoveContact = 0 & Random <= 333
trigger1 = !((Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & EnemyNear(Var(55)),PrevStateNo = [5000,5999])
trigger2 = P2StateType = A & P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) <= 340
trigger2 = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) > 10
trigger2 = P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36 < -5
trigger3 = P2MoveType = A & MoveGuarded 
trigger3 = (stateno = 200 || stateno = 210 || stateno = 221 || stateno = 1100 || stateno = 1110 || stateno = 1120 || stateno = 1501 || stateno = 1511)
trigger4 = ((PrevStateNo = 5120 & EnemyNear(Var(55)),Time > Time) || (StateNo = [120,140])) &  BackEdgeBodyDist < 20
trigger4 = P2MoveType = A & P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36 < -5
trigger5 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8 <= 340
trigger5 = P2MoveType != H & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),PrevStateNo < 200 & EnemyNear(Var(55)),AnimTime < -8 
trigger5 = EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime <= 40 & Random <= 150
trigger6 = PrevStateNo = 216 & P2MoveType = H
trigger7 = P2StateNo < 200 & P2BodyDist X < 340 & EnemyNear(Var(55)),Vel X = 0 & Helper(9190),Time < 1200

;補血用
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3220
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A & Var(12)=0 & NumHelper(3205) = 0
triggerall = var(40) = 7
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Life < 400 & Power >= 1500
triggerall = Helper(9190),Var(0) != 0
triggerall = !(P2StateNo = 5120 & EnemyNear(Var(55)),AnimTime >= -5)
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) 
trigger1 = P2MoveType != H
trigger2 = P2StateType = L

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3320
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8) & NumHelper(9190) > 0 & P2BodyDist X > -30
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A & Var(12)=1
triggerall = var(40) = 7
triggerall = (Helper(9190),Fvar(15) = 0 || (Helper(9190),Fvar(15) = 1 & EnemyNear(Var(55)),AnimTime >= -20))
triggerall = Helper(9190),Fvar(16) = 0
triggerall = !(Helper(9190),Fvar(14) = 1 & Helper(9190),Fvar(15) = 1)
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) 
trigger1 = P2MoveType = A & (Helper(9190),Var(30) > 0 || (PrevStateNo = 3650 & P2MoveType != H))
trigger1 = NumHelper(3605) > 0 
trigger1 = Helper(3605),Time < 60

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3650
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8) & NumHelper(9190) > 0 & P2BodyDist X > -30
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A & Var(12)=1 & NumHelper(3605) = 0
triggerall = var(40) = 7
triggerall = (Helper(9190),Fvar(15) = 0 || (Helper(9190),Fvar(15) = 1 & EnemyNear(Var(55)),AnimTime >= -10))
triggerall = Helper(9190),Fvar(16) = 0
triggerall = !(Helper(9190),Fvar(14) = 1 & Helper(9190),Fvar(15) = 1)
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) 
trigger1 = P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) = [15,400]
trigger1 = EnemyNear(Var(55)),AnimTime < -10 & EnemyNear(Var(55)),MoveContact = 0 & Random <= 500
trigger1 = !((Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & EnemyNear(Var(55)),PrevStateNo = [5000,5999])
trigger2 = P2StateType = A & P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) <= 400
trigger2 = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) > 10
trigger2 = P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+Helper(9180),Fvar(0)*55 < -20
trigger3 = P2MoveType = A & MoveGuarded
trigger3 = (stateno = 200 || stateno = 210 || stateno = 221 || stateno = 1100 || stateno = 1110 || stateno = 1120 || stateno = 1501 || stateno = 1511)
trigger4 = ((PrevStateNo = 5120 & EnemyNear(Var(55)),Time > Time) || (StateNo = [120,140])) &  BackEdgeBodyDist < 20
trigger4 = P2MoveType = A & P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+Helper(9180),Fvar(0)*55 < -20
trigger5 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10 = [10,400]
trigger5 = P2MoveType != H & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),PrevStateNo < 200 & EnemyNear(Var(55)),AnimTime < -10
trigger5 = EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime <= 40 & Random <= 150
trigger6 = PrevStateNo = 216 & P2MoveType = H
trigger7 = P2StateNo < 200 & P2BodyDist X < 400 & EnemyNear(Var(55)),Vel X = 0 & Helper(9190),Time < 1200

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3650
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8) & NumHelper(9190) > 0 & P2BodyDist X > -30
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A & Var(12)=1 & NumHelper(3605) = 0
triggerall = var(40) = 7
triggerall = (Helper(9190),Fvar(15) = 0 || (Helper(9190),Fvar(15) = 1 & EnemyNear(Var(55)),AnimTime >= -10))
triggerall = Helper(9190),Fvar(16) = 0
triggerall = !(Helper(9190),Fvar(14) = 1 & Helper(9190),Fvar(15) = 1)
triggerall = MoveContact
triggerall = (stateno = 1100 || stateno = 1110 || stateno = 1120 || stateno = 1501 || stateno = 1511)
trigger1 = P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) = [15,400]
trigger1 = EnemyNear(Var(55)),AnimTime < -10 & EnemyNear(Var(55)),MoveContact = 0 & Random <= 500
trigger1 = !((Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & EnemyNear(Var(55)),PrevStateNo = [5000,5999])
trigger2 = P2StateType = A & P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) <= 400
trigger2 = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) > 10
trigger2 = P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+Helper(9180),Fvar(0)*55 < -20
trigger3 = P2MoveType = A & MoveGuarded
trigger3 = (stateno = 200 || stateno = 210 || stateno = 221 || stateno = 1100 || stateno = 1110 || stateno = 1120 || stateno = 1501 || stateno = 1511)
trigger4 = ((PrevStateNo = 5120 & EnemyNear(Var(55)),Time > Time) || (StateNo = [120,140])) &  BackEdgeBodyDist < 20
trigger4 = P2MoveType = A & P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+Helper(9180),Fvar(0)*55 < -20
trigger5 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10 = [10,400]
trigger5 = P2MoveType != H & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),PrevStateNo < 200 & EnemyNear(Var(55)),AnimTime < -10
trigger5 = EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime <= 40 & Random <= 150
trigger6 = PrevStateNo = 216 & P2MoveType = H
trigger7 = P2StateNo < 200 & P2BodyDist X < 400 & EnemyNear(Var(55)),Vel X = 0 & Helper(9190),Time < 1200

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3650
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8) & NumHelper(9190) > 0 & P2BodyDist X > -30
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A & Var(12)=1 & NumHelper(3605) = 0
triggerall = var(40) = 7
triggerall = (Helper(9190),Fvar(15) = 0 || (Helper(9190),Fvar(15) = 1 & EnemyNear(Var(55)),AnimTime >= -10))
triggerall = Helper(9190),Fvar(16) = 0
triggerall = !(Helper(9190),Fvar(14) = 1 & Helper(9190),Fvar(15) = 1)
triggerall = MoveContact
triggerall = (stateno = 200 || stateno = 210 || stateno = 221 || stateno = 426 || stateno = 211)
trigger1 = P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) = [15,400]
trigger1 = EnemyNear(Var(55)),AnimTime < -10 & EnemyNear(Var(55)),MoveContact = 0 & Random <= 500
trigger1 = !((Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & EnemyNear(Var(55)),PrevStateNo = [5000,5999])
trigger2 = P2StateType = A & P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) <= 400
trigger2 = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) > 10
trigger2 = P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+Helper(9180),Fvar(0)*55 < -20
trigger3 = P2MoveType = A & MoveGuarded
trigger3 = (stateno = 200 || stateno = 210 || stateno = 221 || stateno = 1100 || stateno = 1110 || stateno = 1120 || stateno = 1501 || stateno = 1511)
trigger4 = ((PrevStateNo = 5120 & EnemyNear(Var(55)),Time > Time) || (StateNo = [120,140])) &  BackEdgeBodyDist < 20
trigger4 = P2MoveType = A & P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+Helper(9180),Fvar(0)*55 < -20
trigger5 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10 = [10,400]
trigger5 = P2MoveType != H & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),PrevStateNo < 200 & EnemyNear(Var(55)),AnimTime < -10
trigger5 = EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime <= 40 & Random <= 150
trigger6 = PrevStateNo = 216 & P2MoveType = H
trigger7 = P2StateNo < 200 & P2BodyDist X < 90 & EnemyNear(Var(55)),Vel X = 0 & Helper(9190),Time < 1200

;12P桌子補血
[State -1]
type = ChangeState
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(40) = 7 & Power >= 500
triggerall = StateNo = 3220 & Time >= 56
triggerall = Helper(9190),Var(0) != 0
trigger1 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) < -350) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) > 350) ;非版邊
trigger1 = P2MoveType = H & (P2StateNo != [120,199]) & NumHelper(3260) = 0
trigger2 = P2StateType = L
trigger3 = P2MoveType != H & Life <= 400
value = 3250

;12P主動(對空)
[State -1, Stand Strong Punch]
type = ChangeState
value = 1550
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & Var(53) != 120 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*7 <= 150
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*7+Helper(9180),Fvar(0)*28) = [-80,-30]
triggerall = Random <= 150
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2MoveType = H & P2StateNo = [5030,5071]
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2MoveType != H
trigger3 = StateNo = 215 & MoveContact & P2StateType = A
trigger4 = StateNo = 226 & MoveContact & P2StateType = A


;12P主動
[State -1]
type = ChangeState
value = 1270
triggerall = Var(58) > 0 & StateType != A & NumHelper(9190) > 0 & Var(53) != 120
triggerall = var(40) = 7
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8 = [0,50]
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36) = [-50,20]
trigger1 = Helper(9190),Fvar(16) = 1 & P2StateType = A

[State -1, 0]
type = ChangeState
value = 985
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8 || Var(53) = 9) & Var(53) != 120
triggerall = var(40) = 7 & StateType != A
triggerall = Numhelper(2990) = 0
triggerall = P2MoveType != H & EnemyNear(Var(55)),Vel Y = 0
triggerall = (P2StateType = S & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X = [0,46]) || (P2StateType = C & P2BodyDist X = [0,46]) || (P2BodyDist X < 46 & BackEdgeBodyDist < 20) 
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = Helper(9190),Fvar(16) = 1 & P2StateType != A

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1370
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) != 120
triggerall = movetype != H
triggerall = var(40) = 7
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),var(30) = 0
;跳背用
trigger1 = StateType = A & Ctrl & P2BodyDist X <= 100 & P2MoveType = A & Helper(9190),Fvar(19) = 1 & EnemyNear(Var(55)),Time > 30 & EnemyNear(Var(55)),AnimTime <= -20
trigger2 = StateType = A & Ctrl & P2BodyDist X <= 100 & P2MoveType = A & Helper(9190),Fvar(19) = 1 & EnemyNear(Var(55)),Time > 60 & Random <= 75
trigger2 = StateNo = 103 & Time > 7

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1360
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) != 120
triggerall = movetype != H
triggerall = var(40) = 7
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),var(30) = 0
trigger1 = StateNo = 5210 & Ctrl & P2BodyDist X <= 85 & P2MoveType = A & P2BodyDist Y <= 45
trigger2 = StateNo = 5040 & Ctrl & P2BodyDist X <= 85 & P2MoveType = A & P2BodyDist Y <= 45

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3020
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) != 120 & P2BodyDist X > -30
triggerall = var(20) = 0 & var(12) = 0
triggerall = Power >= 1000
triggerall = movetype != H
triggerall = statetype != A
triggerall = Helper(9190),Fvar(15) = 0 || EnemyNear(Var(55)),AnimTime >= -8
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = Helper(9190),Fvar(16) = 1 & P2BodyDist X <= 200 & Random <= 150 & EnemyNear(Var(55)),AnimTime <= -10
trigger2 = PrevStateNo = 3020 & P2BodyDist Y >= -65 & P2StateType = A & Var(53) != 117
trigger3 = Helper(9190),Fvar(15) = 1 & P2BodyDist Y >= -100 & EnemyNear(Var(55)),AnimTime = [-50,-10]
trigger4 = Helper(9190),Fvar(14) = 1 & EnemyNear(Var(55)),AnimTime <= -10 & Random <= 150
trigger5 = Helper(9190),Fvar(19) = 1 & EnemyNear(Var(55)),AnimTime <= -10 & P2BodyDist X <= 150 & P2BodyDist Y >= -100 & Random <= 200

[State -1, Stand Strong Punch]
type = ChangeState
value = 3020
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8 || Var(53) = 9) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(20) = 0 & var(12) = 0 & P2BodyDist X > -30
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9190),Var(30) > 0
triggerall = Helper(9190),Fvar(15) = 0 || EnemyNear(Var(55)),AnimTime >= -8
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = A & P2StateType != A & P2StateType != L & Random <= 100

[State -1, Stand Strong Punch]
type = ChangeState
value = 1550
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8 || Var(53) = 9 || Var(53) = 116) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*7 <= 150
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo < 200 & P2StateType != A & P2MoveType != A 
trigger1 = NumHelper(1400) > 0 & Random <= 50
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing != EnemyNear(Var(55)),Facing
trigger2 = NumHelper(1400) > 0 & Random <= 50
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing = EnemyNear(Var(55)),Facing
trigger3 = NumHelper(1400) > 0 & P2MoveType = A
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo < 200 & P2StateType != A & P2MoveType != A 
trigger4 = NumHelper(1400) = 0 & P2MoveType != A & P2StateType != A & P2StateType != L & P2BodyDist X <= 60 & Random <= 50
trigger5 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo < 200 & P2StateType != A & P2MoveType != A 
trigger5 = NumHelper(1400) = 0 & P2MoveType = A & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),AnimTime = [-12,-8] 
trigger6 = StateNo = 100 & EnemyNear(Var(55)),Time >= 7 & EnemyNear(Var(55)),AnimTime = [-18,-8]
trigger6 = P2MoveType = A & P2StateType != A & Random <= 100
trigger7 = StateNo = 100 & Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time < 0 & EnemyNear(Var(55)),AnimTime <= -7
trigger7 = P2MoveType = A & P2StateType != A & Random <= 100
trigger8 = StateNo = 100 & P2StateNo < 200 & Var(54) = 801
trigger8 = P2StateType != A & Random <= 100
trigger9 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger9 = PrevStateNo = 2050 & P2MoveType = A & EnemyNear(Var(55)),Time > 10
trigger10 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger10 = PrevStateNo = 216 & P2StateType = A 
trigger11 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger11 = P2MoveType = A & P2BodyDist X <= 30 & EnemyNear(Var(55)),Time >= Time & (StateNo != 100 || (StateNo = 100 & Random <= 75) || EnemyNear(Var(55)),AnimTime = [-12,-8] )
trigger11 = EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime < 90
trigger12 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger12 = NumProjID(111) > 0 & P2MoveType = H & P2BodyDist Y >= -90

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1450
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9180) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 0
triggerall = numhelper(1400) = 0
triggerall = Helper(9180),Var(31) = 0
triggerall = Helper(9190),Fvar(15) = 0
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = PrevStateNo = 420 
trigger1 = P2StateType = L & P2StateNo != 5120 || (P2StateType != L & (EnemyNear(Var(55)),PrevStateNo = [5101,5119]) & (P2StateNo != [5101,5119]))
trigger2 = StateNo = 200 & MoveGuarded & Random <= 20 & P2BodyDist X > 30
trigger3 = StateNo = 210 & MoveGuarded & Random <= 50
trigger4 = StateNo = 220 & MoveGuarded & Random <= 70
trigger5 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || StateNo = 321) & ((PrevStateNo = 52) || (PrevStateNo = 3000)) & P2BodyDist X > 90 & P2MoveType = H & P2StateType != S & P2StateType != C
trigger6 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger6 = ((EnemyNear(Var(55)),PrevStateNo = [5030,5071]) & (P2StateNo != [5030,5071]))
trigger7 = StateNo = 321 & Time > 10 & Random <= 75
trigger8 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger8 = (P2StateNo = [5030,5071]) & P2BodyDist X >= 120

[State -1, Stand Strong Punch]
type = ChangeState
value = 415
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 116) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 <= 32
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo < 200 & P2StateType != A & P2MoveType != A 
trigger1 = NumHelper(1400) > 0 & Random <= 20
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing != EnemyNear(Var(55)),Facing
trigger2 = NumHelper(1400) > 0 & Random <= 50
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing = EnemyNear(Var(55)),Facing
trigger3 = NumHelper(1400) > 0 & P2MoveType = A
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo < 200 & P2StateType != A & P2MoveType != A 
trigger4 = NumHelper(1400) = 0 & P2MoveType != A & P2StateType != A & P2StateType != L & P2BodyDist X <= 60 & Random <= 50
trigger5 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger5 = NumHelper(1400) = 0 & P2MoveType = A & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),AnimTime = [-12,-76] 
trigger6 = StateNo = 100 & EnemyNear(Var(55)),Time >= 6 & EnemyNear(Var(55)),AnimTime = [-12,-6]
trigger6 = P2MoveType = A & P2StateType != A & Random <= 100
trigger7 = StateNo = 100 & EnemyNear(Var(55)),AnimTime = [-9,-6] 
trigger7 = P2MoveType = A & P2StateType != A & Random <= 100

[State -1, Stand Strong Punch]
type = ChangeState
value = 215
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 116) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 <= 60
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo < 200 & P2StateType != A & P2MoveType != A 
trigger1 = NumHelper(1400) > 0 & Random <= 50
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing != EnemyNear(Var(55)),Facing
trigger2 = NumHelper(1400) > 0 & Random <= 50
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing = EnemyNear(Var(55)),Facing
trigger3 = NumHelper(1400) > 0 & P2MoveType = A
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo < 200 & P2StateType != A & P2MoveType != A 
trigger4 = NumHelper(1400) = 0 & P2MoveType != A & P2StateType != A & P2StateType != L & P2BodyDist X <= 60 & Random <= 50
trigger5 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger5 = NumHelper(1400) = 0 & P2MoveType = A & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),AnimTime = [-14,-7] 
trigger6 = StateNo = 100 & EnemyNear(Var(55)),Time >= 6 & EnemyNear(Var(55)),AnimTime = [-14,-7]
trigger6 = P2MoveType = A & P2StateType != A & Random <= 100
trigger7 = StateNo = 100 & EnemyNear(Var(55)),AnimTime = [-10,-7] 
trigger7 = P2MoveType = A & P2StateType != A & Random <= 100
trigger8 = StateNo = 100 & P2StateNo < 200 & Var(54) = 801
trigger8 = P2StateType != A & Random <= 100
trigger9 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger9 = P2StateType = A & P2MoveType = A & (EnemyNear(Var(55)),MoveContact || EnemyNear(Var(55)),MoveReversed || EnemyNear(Var(55)),P2BodyDist X < 0)
trigger9 = (EnemyNear(Var(55)),Pos Y+EnemyNear(Var(55)),Vel Y*6+Helper(9180),Fvar(0)*21) >= 0

[State -1, Stand Strong Punch]
type = ChangeState
value = 215
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 116) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 <= 60
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = NumHelper(3205) > 0
trigger1 = Helper(3205),StateNo = 3207 & P2MoveType = A & EnemyNear(Var(55)),MoveReversed
trigger2 = NumHelper(3605) > 0
trigger2 = Helper(3605),StateNo = 3607 & P2MoveType = A & EnemyNear(Var(55)),MoveReversed
trigger3 = NumHelper(3605) > 0
trigger3 = P2MoveType = H & EnemyNear(Var(55)),MoveHit

[State -1, Stand Strong Punch]
type = ChangeState
value = 205
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 116) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*4 <= 47
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo < 200 & P2StateType != A & P2MoveType != A 
trigger1 = NumHelper(1400) > 0 & Random <= 333
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing != EnemyNear(Var(55)),Facing
trigger2 = NumHelper(1400) > 0 & Random <= 150
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing = EnemyNear(Var(55)),Facing
trigger3 = NumHelper(1400) > 0 & P2MoveType = A
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo < 200 & P2StateType != A & P2MoveType != A 
trigger4 = NumHelper(1400) = 0 & P2MoveType != A & P2StateType != A & P2StateType != L & P2BodyDist X <= 50 & Random <= 150
trigger5 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger5 = NumHelper(1400) = 0 & P2MoveType = A & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),AnimTime = [-10,-4] 
trigger6 = StateNo = 100 & EnemyNear(Var(55)),Time >= 5 & EnemyNear(Var(55)),AnimTime = [-10,-4]
trigger6 = P2MoveType = A & P2StateType != A & Random <= 200
trigger7 = StateNo = 100 & Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time < 0 & EnemyNear(Var(55)),AnimTime <= -5
trigger7 = P2MoveType = A & P2StateType != A & Random <= 200
trigger8 = StateNo = 100 & P2StateNo < 200 & Var(54) = 801
trigger8 = P2StateType != A & Random <= 200
trigger9 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger9 = P2StateType = A & P2MoveType = A & (EnemyNear(Var(55)),MoveContact || EnemyNear(Var(55)),MoveReversed || EnemyNear(Var(55)),P2BodyDist X < 0)
trigger9 = (EnemyNear(Var(55)),Pos Y+EnemyNear(Var(55)),Vel Y*4+Helper(9180),Fvar(0)*10) >= 0

[State -1, Stand Strong Punch]
type = ChangeState
value = 205
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 116) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*4 <= 47
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = NumHelper(3205) > 0
trigger1 = Helper(3205),StateNo = 3207 & P2MoveType = A & EnemyNear(Var(55)),MoveReversed
trigger2 = NumHelper(3605) > 0
trigger2 = Helper(3605),StateNo = 3607 & P2MoveType = A & EnemyNear(Var(55)),MoveReversed
trigger3 = NumHelper(3605) > 0
trigger3 = P2MoveType = H & EnemyNear(Var(55)),MoveHit

[State -1, Stand Strong Punch]
type = ChangeState
value = 431
triggerall = Var(58) > 0 & Var(53) = 0 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*9 = [30,110]
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo < 200 & P2StateType != A & P2MoveType != A 
trigger1 = NumHelper(1400) > 0 & Facing != EnemyNear(Var(55)),Facing & Random <= 200
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing != EnemyNear(Var(55)),Facing
trigger2 = NumHelper(1400) > 0 & Random <= 50
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A
trigger3 = P2MoveType = A & Helper(9190),Fvar(11)-Helper(9190),Time = [-9,9]
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType = A
trigger4 = P2MoveType != H & (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*9+Helper(9180),Fvar(0)*45) = [-90,-1]
trigger4 = Random <= 50+150*P2MoveType = A
trigger5 = StateNo = 100 & EnemyNear(Var(55)),Time >= 7 & EnemyNear(Var(55)),AnimTime = [-14,-9]
trigger5 = P2MoveType = A & P2StateType != A & Random <= 100
trigger6 = StateNo = 100 & Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time < 0 & EnemyNear(Var(55)),AnimTime <= -9
trigger6 = P2MoveType = A & P2StateType != A & Random <= 100

[State -1, Stand Strong Punch]
type = ChangeState
value = 425
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*9 = [40,105]
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo < 200 & P2StateType != A & P2MoveType != A 
trigger1 = NumHelper(1400) > 0 & Random <= 80-70*PrevStateNo = 420
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing != EnemyNear(Var(55)),Facing
trigger2 = NumHelper(1400) > 0 & Random <= 100-70*PrevStateNo = 420+300*StateNo=100
trigger3 = PlayerIDExist(Helper(9190),var(45))
trigger3 = PlayerID(Helper(9190),Var(45)),Vel Y <= 0 & PlayerID(Helper(9190),Var(45)),Vel X > 1 & PlayerID(Helper(9190),Var(45)),MoveType = A & PlayerID(Helper(9190),Var(45)),MoveContact = 0
trigger3 = PlayerID(Helper(9190),Var(45)),Facing != Facing & PlayerID(Helper(9190),Var(45)),Pos Y < -30 & PlayerID(Helper(9190),Var(45)),Time < EnemyNear(Var(55)),Time
trigger3 = P2StateNo > 200 & P2MoveType != H & P2StateType != A & EnemyNear(Var(55)),AnimTime <= -10
trigger4 = StateNo = 100 & EnemyNear(Var(55)),Time >= 7 & EnemyNear(Var(55)),AnimTime = [-14,-9]
trigger4 = P2MoveType = A & P2StateType != A & Random <= 100
trigger5 = StateNo = 100 & Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time < 0 & EnemyNear(Var(55)),AnimTime <= -9
trigger5 = P2MoveType = A & P2StateType != A & Random <= 100

[State -1, 0]
type = ChangeState
value = 985
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8)
triggerall = var(40) = 7 & StateType != A
triggerall = Numhelper(2990) = 0
triggerall = P2MoveType != H & EnemyNear(Var(55)),Vel Y = 0
triggerall = (P2StateType = S & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X = [0,46]) || (P2StateType = C & P2BodyDist X = [0,46]) || (P2BodyDist X < 46 & BackEdgeBodyDist < 20) 
triggerall = P2StateNo != [5000,5020]
triggerall = P2StateNo != [5200,5211]
triggerall = P2StateNo != [140, 153]
triggerall = Helper(9190),Fvar(14) = 0
triggerall = Helper(9190),Fvar(15) = 0
triggerall = !(EnemyNear(Var(55)),Time < 2 & EnemyNear(Var(55)),PrevStateNo = [140, 154])
triggerall = (P2StateNo != [105,106]) & (P2StateNo != [140,153]) & !(P2MoveType = A & PrevStateNo = [5000,5199]) & !(P2MoveType = I & P2StateType != A & P2StateNo >= 200 & IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X > 3) ;會抓空的
triggerall = !(P2MoveType = I & P2StateType != A & P2StateNo >= 200 & IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X > 3) ;翻滾OR無敵位移
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = EnemyNear(Var(55)),AnimTime = [-10,-4]
trigger1 = EnemyNear(Var(55)),StateNo >= 200 & Random <= 150+250*EnemyNear(Var(55)),MoveContact
trigger2 = P2MoveType = I & ((EnemyNear(Var(55)),Ctrl = 0 & P2StateNo > 200 & Random <= 70) || (EnemyNear(Var(55)),StateNo < 199 & Random <= 100) || (EnemyNear(Var(55)),StateNo = 52 & Random <= 175))
trigger3 = Facing = EnemyNear(Var(55)),Facing & NumHelper(1400) > 0 & P2MoveType != A

[State -1, Stand Strong Punch]
type = ChangeState
value = 1170
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) = 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*20 <= 210
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2StateType != A & P2StateType != L
trigger1 = Random <= 15+75*(P2BodyDist X >= 80)+75*(P2StateNo < 200)

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1250
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10 || (Var(53) = 12 & Var(56) = 30))
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*6 = [0,50]
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2StateType != A & P2StateType != L
trigger1 = ((EnemyNear(Var(55)),PrevStateNo = [5030,5071]) & (P2StateNo != [5030,5071]))
trigger1 = EnemyNear(Var(55)),AnimTime >= -10 & Random <= 150
trigger2 = P2StateNo = 5120
trigger2 = EnemyNear(Var(55)),AnimTime >= -1 & Random <= 150

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1260
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10 || (Var(53) = 12 & Var(56) = 30))
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*12 = [0,75]
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2StateType != A & P2StateType != L
trigger1 = ((EnemyNear(Var(55)),PrevStateNo = [5030,5071]) & (P2StateNo != [5030,5071]))
trigger1 = EnemyNear(Var(55)),Time <= 10 & EnemyNear(Var(55)),AnimTime >= -30 & Random <= 200
trigger2 = P2StateNo = 5120
trigger2 = EnemyNear(Var(55)),AnimTime >= -7 & Random <= 100
trigger3 = (PrevStateNo = [200,499]) || (PrevStateNo = [1500,1599])
trigger3 = P2MoveType != H & P2StateType != A & P2StateType != L & Random <= 200

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1270
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10 || (Var(53) = 12 & Var(56) = 30))
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8 = [0,75]
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2StateType = A & P2MoveType = A
trigger1 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36) = [-90,-1]
trigger1 = Random <= 399

;12P當身一擊
[State -1, Strong Kung Fu Palm]
type = Null;ChangeState
value = 4000
triggerall = Var(58) > 0 & NumHelper(9180) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 1
triggerall = fvar(16) = 800
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & Helper(9190),Var(30) = 0
triggerall = !(EnemyNear(Var(55)),Facing = Facing & NumHelper(1400) > 0 & (PrevStateNo != [5000,5019]))
triggerall = EnemyNear(Var(55)),HitDefAttr != SCA,HA
triggerall = EnemyNear(Var(55)),HitDefAttr != SCA,AP,AT
triggerall = Helper(9190),Fvar(19) = 0
triggerall = EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime < 36
trigger1 = P2BodyDist X <= 90 || P2BodyDist X < Helper(9190),Fvar(12)
trigger1 = P2MoveType = A & P2StateType != C & EnemyNear(Var(55)),PrevStateNo = [120,154]
trigger2 = (P2BodyDist X <= 90 || P2BodyDist X < Helper(9190),Fvar(12)) & Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time = [0,30]
trigger2 = P2BodyDist X <= Helper(9190),Fvar(12) & ((P2StateType != C & Var(54) != 1050) || (P2StateType = C & Var(54) = 1025))
trigger2 = P2MoveType = A & Random <= 250+250*Life<500+999*Life<333
trigger3 = (Helper(9190),Fvar(18) > 0 & Helper(9190),Fvar(19) = 0 & P2StateType = S)
trigger3 = Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time = [0,30]
trigger4 = (PrevStateNo = [140,154]) & P2MoveType = A & P2StateType != C & EnemyNear(Var(55)),MoveContact = 0
trigger4 = P2BodyDist X < Helper(9190),Fvar(12) || Random <= 125+999*(Life<450)
;直接猜
trigger5 = (Life >= 900 || Life < 400 || PrevStateNo = 5120 || (PrevStateNo = [1110,1120])) & P2MoveType = A & P2StateType = S & EnemyNear(Var(55)),MoveContact = 0
trigger5 = P2BodyDist X < Helper(9190),Fvar(12) || (P2BodyDist X <= 155 & Helper(9190),Fvar(12) = 0)


;當身神技

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2670
triggerall = Var(58) > 0 & (Var(53) != [111,118]) & NumHelper(9180) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7
triggerall = var(12) = 1
triggerall = Var(53) != 120 || (Var(53) = 120 & (Helper(9190),Var(31) = [1,4]))
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & Helper(9190),Var(30) = 0 & (Helper(9190),FVar(19) = 1 || (Helper(9180),Var(31) = [1,4]))
triggerall = !(EnemyNear(Var(55)),Facing = Facing & NumHelper(1400) > 0 & (PrevStateNo != [5000,5019]))
triggerall = !(P2MoveType = A & P2BodyDist X-EnemyNear(Var(55)),Vel X*12 < 0) 
triggerall = !(P2StateNo < 200 & P2BodyDist X <= 70) 
triggerall = Random <= 1000-200*(Helper(9190),Var(31) <= -2)-100*(Helper(9190),Var(31) <= -4)-100*(Helper(9190),Var(31) <= -8)-100*(Helper(9190),Var(31) <= -16)
trigger1 = InGuardDist || Helper(9190),InGuardDist || (P2BodyDist X <= Helper(9190),Fvar(12))
trigger1 = Helper(9180),Var(31) = 4 & P2MoveType = A & (Var(54) != [1000,1060])
trigger2 = PlayerIDExist(Helper(9190),var(45))
trigger2 = Helper(9180),Var(31) = 3 & PlayerID(Helper(9190),Var(45)),Vel X > 0 & PlayerID(Helper(9190),Var(45)),HitDefAttr != SCA,AA,AT
trigger3 = PlayerIDExist(Helper(9190),var(45))
trigger3 = Helper(9180),Var(31) = 1 & P2MoveType = A & PlayerID(Helper(9190),Var(45)),Vel Y >= 0 & PlayerID(Helper(9190),Var(45)),HitDefAttr != SCA,AA,AT
trigger4 = PlayerIDExist(Helper(9190),var(45))
trigger4 = Helper(9180),Var(31) = 2 & P2MoveType = A & P2StateType != A & PlayerID(Helper(9190),Var(45)),Vel X > 0 & PlayerID(Helper(9190),Var(45)),HitDefAttr != SCA,AT
trigger5 = PlayerIDExist(Helper(9190),var(45))
trigger5 = (Helper(9180),Var(31) = [1,4]) & P2MoveType = A & P2StateType != A & PlayerID(Helper(9190),Var(45)),HitDefAttr != SCA,AA,AT
trigger5 = Helper(9190),Fvar(19) = 1 & (EnemyNear(Var(55)),AnimTime <= -30 || (EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime >= 100 & EnemyNear(Var(55)),AnimTime < -10))
trigger6 = PlayerIDExist(Helper(9190),var(45))
trigger6 = (Helper(9180),Var(31) = [1,4]) & PlayerID(Helper(9190),Var(45)),HitDefAttr != SCA,AA,AT
trigger6 = PlayerID(Helper(9190),Var(45)),P2BodyDist X-PlayerID(Helper(9190),Var(45)),Vel X <= 50
trigger7 = Helper(9190),Fvar(19) = 1 & P2MoveType = A & ((P2BodyDist X <= Helper(9190),Fvar(12) & P2BodyDist X >= 90) || Helper(9190),Var(37) = -1)
trigger8 = Life < 20 & Helper(9180),Var(31) = [1,4]
trigger9 = PrevStateNo = 5120 & P2StateNo > 200 & Helper(9180),Var(31) = [1,4]
trigger10 = Helper(9190),Var(37) = -1 & P2MoveType != H & (P2StateNo > 200 || (Helper(9180),Var(31) = [1,4])) & Random <= 200
trigger10 = (P2BodyDist X >= 150 || P2BodyDist X <= Helper(9190),Fvar(12)) & P2BodyDist Y >= -50
trigger10 = Var(54) != 800 & Var(54) != 801 & Var(54) != 1000 & Var(54) != 1025 & Var(54) != 1050

;12P防禦線

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3020
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(20) = 0 & var(12) = 0
triggerall = Power >= 1000
triggerall = movetype != H
triggerall = statetype != A
triggerall = P2MoveType = A & Random <= 100
trigger1 = stateno = 1150 || stateno = 1160 || stateno = 1170
trigger1 = movecontact
trigger2 = stateno = 1551 || stateno = 1561
trigger2 = movecontact

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3320
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(20) = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = P2BodyDist X <= 250 & P2BodyDist Y >= -90 & EnemyNear(Var(55)),Vel Y >= 0
triggerall = Helper(9190),Var(32)%3 != 0 ;非鋼體
trigger1 = StateNo = 1150 || StateNo = 1151 || StateNo = 1160 || StateNo = 1161 || StateNo = 1170 || StateNo = 1171
trigger1 = (MoveHit & P2MoveType != H) || (MoveGuarded & P2MoveType != H)

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse(Var(12) = 1,3650,3220)
triggerall = Var(58) > 0  & NumHelper(9190) > 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7 & ((Var(12) = 0 & NumHelper(3205) = 0) || (Var(12) = 1 & NumHelper(3605) = 0))
triggerall = Helper(9190),Fvar(16) = 0 & P2BodyDist X = [0+15*(Var(12)=1),320+40*(Var(12)=1)]
triggerall = P2BodyDist Y >= -90
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = StateNo = 205 || StateNo = 215 || StateNo = 226 || StateNo = 431 || PrevStateNo = [200,499]
trigger1 = (MoveHit & P2MoveType != H) || (MoveGuarded & P2MoveType != H) || (P2MoveType != H & (EnemyNear(Var(55)),PrevStateNo = [120,169]))

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse(Var(12) = 1,3650,3220)
triggerall = Var(58) > 0  & NumHelper(9190) > 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7 & ((Var(12) = 0 & NumHelper(3205) = 0) || (Var(12) = 1 & NumHelper(3605) = 0))
triggerall = Helper(9190),Fvar(16) = 0 & P2BodyDist X = [0+15*(Var(12)=1),320+40*(Var(12)=1)]
triggerall = P2BodyDist Y >= -90
triggerall = MoveContact
triggerall = (stateno = 200 || stateno = 210 || stateno = 221 || stateno = 426 || stateno = 211)
trigger1 = StateNo = 205 || StateNo = 215 || StateNo = 226 || StateNo = 431 || PrevStateNo = [200,499]
trigger1 = (MoveHit & P2MoveType != H) || (MoveGuarded & P2MoveType != H) || (P2MoveType != H & (EnemyNear(Var(55)),PrevStateNo = [120,169]))
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse(Var(12) = 1,3650,3220)
triggerall = Var(58) > 0  & NumHelper(9190) > 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7 & ((Var(12) = 0 & NumHelper(3205) = 0) || (Var(12) = 1 & NumHelper(3605) = 0))
triggerall = Helper(9190),Fvar(16) = 0 & P2BodyDist X = [0+15*(Var(12)=1),320+40*(Var(12)=1)]
triggerall = P2BodyDist Y >= -90
triggerall = MoveContact
triggerall = (stateno = 1100 || stateno = 1110 || stateno = 1120 || stateno = 1501 || stateno = 1511)
trigger1 = StateNo = 205 || StateNo = 215 || StateNo = 226 || StateNo = 431 || PrevStateNo = [200,499]
trigger1 = (MoveHit & P2MoveType != H) || (MoveGuarded & P2MoveType != H) || (P2MoveType != H & (EnemyNear(Var(55)),PrevStateNo = [120,169]))

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse(Var(12) = 1,3650,3220)
triggerall = Var(58) > 0  & NumHelper(9190) > 0 & Var(53) = 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) = 7 & ((Var(12) = 0 & NumHelper(3205) = 0) || (Var(12) = 1 & NumHelper(3605) = 0))
triggerall = Helper(9190),Fvar(16) = 0 & P2BodyDist X = [0+15*(Var(12)=1),320+40*(Var(12)=1)]
trigger1 = stateno = 1150 || stateno = 1160 || stateno = 1170
trigger1 = MoveHit

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1560
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(20) = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = P2BodyDist X <= 250 & P2BodyDist Y >= -100 & EnemyNear(Var(55)),Vel Y >= 0
trigger1 = (StateNo = 1551 & P2MoveType = H & (Time >= 4 || P2MoveType = H)) || StateNo = 1152
trigger1 = P2MoveType = A || (P2MoveType = H & P2StateType = A & (Var(53) != [110,117]))
trigger1 = !(Var(53) = 115 & Power >= 1000)
trigger2 = StateNo = 1551|| StateNo = 1152
trigger2 = MoveReversed

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1170
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = P2BodyDist X <= 250 & P2BodyDist Y >= -90 & EnemyNear(Var(55)),Vel Y >= 0
trigger1 = (StateNo = 1551 || StateNo = 1561) & MoveGuarded & P2StateType != A & P2StateType != L
trigger1 = P2MoveType = H
trigger2 = (StateNo = 1552 || StateNo = 1562) & (P2StateNo = [120,159]) & P2StateType != A & P2StateType != L
trigger2 = P2MoveType = H

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1160
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(20) = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = P2BodyDist X <= 250 & P2BodyDist Y >= -90 & EnemyNear(Var(55)),Vel Y >= 0
trigger1 = StateNo = 1561 & (Time >= 5 || P2MoveType = H) & MoveContact & P2StateType != A
trigger1 = P2MoveType = A || EnemyNear(Var(55)),Ctrl = 1

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1170
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(20) = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = P2BodyDist X <= 250 & P2BodyDist Y >= -90 & EnemyNear(Var(55)),Vel Y >= 0
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = (PrevStateNo = 2610 || PrevStateNo = 2611) & P2MoveType = H

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1150
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = P2BodyDist X <= 250 & P2BodyDist Y >= -90 & EnemyNear(Var(55)),Vel Y >= 0
trigger1 = StateNo = 1561 & (Time >= 5 || P2MoveType = H) & (MoveContact = 0 || P2StateType != A)
trigger1 = P2MoveType = A

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1570
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = P2BodyDist X <= 250 & P2BodyDist Y >= -90 & EnemyNear(Var(55)),Vel Y >= 0
trigger1 = (StateNo = 1561 & (Time >= 5 || P2MoveType = H)) || StateNo = 1162
trigger1 = MoveReversed

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 425
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
trigger1 = StateNo = 415
trigger1 = MoveContact

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 216
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
trigger1 = StateNo = 425 & Var(53) < 110
trigger1 = MoveContact

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 205
triggerall = var(40) = 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
trigger1 = StateNo = 405
trigger1 = MoveContact

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1050
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 0
triggerall = var(20) = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = numhelper(1025) = 0
triggerall = numhelper(1026) = 0
triggerall = var(12) = 0
trigger1 = stateno = 1150 || stateno = 1160 || stateno = 1170
trigger1 = MoveContact & P2BodyDist X <= 75

;12P通常空連

[State -1, Jump Light]
type = ChangeState
value = 605
triggerall = var(40) = 7
triggerall = Var(58) > 0
triggerall = movetype != H
triggerall = stateno != 105
trigger1 = stateno = 605 & statetime >= 4 & MoveContact & P2MoveType != H
trigger2 = stateno = 605 & statetime >= 4 & MoveContact & Vel Y < 0 & P2StateType = A & P2MoveType = H
trigger3 = stateno = 605 & statetime >= 5

[State -1, Jump Strong]
type = ChangeState
value = 615
triggerall = var(40) = 7 & Var(53) != [110,119]
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = stateno != 105
triggerall = !(Var(4) != 0 & Vel X < 0)
triggerall = movetype != H & StateType = A
triggerall = Helper(9190),Fvar(15) = 0 || P2StateType = C
triggerall = Helper(9190),Fvar(16) = 0
triggerall = P2BodyDist X+Vel X*4-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*4 <= 40 || P2BodyDist X = [-10,10]
triggerall = (StateNo = 103 || StateNo = 108 || StateNo = 50 || (StateNo = [120,140])) & Ctrl
triggerall = P2StateType != L 
triggerall = ((Pos Y+Vel Y*4+Const(movement.yaccel)*10) < 0 & (Pos Y+Vel Y*7+Const(movement.yaccel)*28) >= 0) || ((StateNo = 103 || StateNo = 108) & (Pos Y+0*4+Const(movement.yaccel)*10) < 0 & (Pos Y+0*7+Const(movement.yaccel)*28) >= 0)
trigger1 = P2MoveType = I & Random <= 200+225*P2StateNo=40 & P2StateType != A
trigger2 = Helper(9190),Fvar(19) = 1
trigger3 = Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time < 0 & P2StateType != A
trigger4 = Helper(9190),Fvar(14) = 1 & Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time > 4 & P2StateType != A
trigger5 = P2StateType = C
trigger6 = NumHelper(3605) > 0
trigger6 = Helper(3605),MoveContact || (MoveType != H & EnemyNear(Var(55)),MoveContact)
trigger7 = NumHelper(3205) > 0
trigger7 = Helper(3205),StateNo = 3207 & P2MoveType = A & EnemyNear(Var(55)),MoveReversed
trigger8 = NumHelper(3605) > 0
trigger8 = Helper(3605),StateNo = 3607 & P2MoveType = A & EnemyNear(Var(55)),MoveReversed
trigger9 = Helper(9190),Var(30) > 0
trigger10 = Time >= 10 & Pos Y >= -90

[State -1, Jump Strong]
type = ChangeState
value = 615
triggerall = var(40) = 7 & Var(53) != [110,119]
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = stateno != 105
triggerall = !(Var(4) != 0 & Vel X < 0)
triggerall = movetype != H & StateType = A
triggerall = Helper(9190),Fvar(16) = 0
triggerall = P2BodyDist X+Vel X*4-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*4 <= 40 || P2BodyDist X = [-10,10]
triggerall = ((Pos Y+Vel Y*4+Const(movement.yaccel)*10) < 0 & (Pos Y+Vel Y*7+Const(movement.yaccel)*28) >= 0) || ((StateNo = 103 || StateNo = 108) & (Pos Y+0*4+Const(movement.yaccel)*10) < 0 & (Pos Y+0*7+Const(movement.yaccel)*28) >= 0)
trigger1 = stateno = 605 & MoveContact & (Vel Y >= 0 || P2StateType != A || PrevStateNo = 103 || statetime >= 6)

[State -1, Jump Strong]
type = ChangeState
value = 625
triggerall = var(40) = 7
triggerall = Var(58) > 0 
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
triggerall = Helper(9190),Fvar(16) = 0
trigger1 = StateNo = 615 & MoveContact
trigger2 = StateNo = 103 & Ctrl & Time = 18
trigger3 = stateno = 605 & MoveContact & (Vel Y >= 0 || PrevStateNo = 103)
trigger3 = P2BodyDist X+Vel X*4-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*4 > 40
trigger4 = Ctrl & (StateNo != 103 || StateNo = 108) & Vel Y > 0 & Pos Y = [-79,-70]

[State -1, Jump Strong]
type = ChangeState
value = 655
triggerall = var(40) = 7
triggerall = Var(58) > 0
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
trigger1 = StateNo = 625 & MoveHit & (P2MoveType != H || (P2StateNo = [120,155])) & (Pos Y+Vel Y*9+Const(movement.yaccel)*45) < 0
trigger2 = StateNo = 625 & MoveGuarded & (P2MoveType != H || (P2StateNo = [120,155]))
trigger3 = StateNo = 108 & Ctrl & Time = 18

[State -1, Jump Light]
type = ChangeState
value = 605
triggerall = var(40) = 7 & Var(53) != [110,118]
triggerall = Var(58) > 0
triggerall = movetype != H
triggerall = stateno != 105
triggerall = Helper(9190),Fvar(16) = 0
trigger1 = statetype = A & Ctrl & StateNo != 103 & P2StateType = A & (Vel X > 0 || EnemyNear(Var(55)),Vel X > 0) 
trigger1 = (Time = [3,5]) & (P2BodyDist X = [0,55]) & P2BodyDist Y = [-5,50]
trigger2 = statetype = A & Ctrl & StateNo != 103 & P2StateType = A & (Vel X > 0 || EnemyNear(Var(55)),Vel X > 0) 
trigger2 = Time <= 4 & Time <= EnemyNear(Var(55)),Time & (P2BodyDist X = [0,55]) & P2BodyDist Y = [-5,50]
trigger3 = stateno = 605 & statetime >= 4 & (P2BodyDist X = [0,55]) & P2BodyDist Y = [-5,50]
trigger3 = Vel Y <= 0

;不小心跳到低P狀況
[State -1, Jump Strong]
type = ChangeState
value = 615
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 7 & NumHelper(9190) > 0
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (Pos Y+Vel Y*13+Const(movement.yaccel)*78) < 0
triggerall = P2BodyDist X+Vel X*4-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*4 <= 40 || P2BodyDist X = [-10,10]
triggerall = ((Pos Y+Vel Y*4+Const(movement.yaccel)*10) < 0 & (Pos Y+Vel Y*7+Const(movement.yaccel)*28) >= 0) || ((StateNo = 103 || StateNo = 108) & (Pos Y+0*4+Const(movement.yaccel)*10) < 0 & (Pos Y+0*7+Const(movement.yaccel)*28) >= 0)
triggerall = (StateNo = 103 || StateNo = 108 || (StateNo = 50 & Vel X = 0) || (StateNo = [120,140])) & Ctrl
trigger1 = P2MoveType != H & EnemyNear(Var(55)),AnimTime <= -2 & P2StateNo != [5101,5119]
trigger2 = P2StateType != A & P2StateType != L
trigger3 = Helper(9190),Var(30) > 0

[State -1, Jump Strong]
type = ChangeState
value = 615
triggerall = var(40) = 7
triggerall = Var(58) > 0 & Var(53) = 9 & NumHelper(9190) > 0
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
triggerall = Helper(9190),Fvar(16) = 0
triggerall = !(Var(4) != 0 & Vel X < 0)
triggerall = (Pos Y+Vel Y*13+Const(movement.yaccel)*78) < 0
triggerall = P2BodyDist X+Vel X*4-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*4 <= 40 || P2BodyDist X = [-10,10]
triggerall = ((Pos Y+Vel Y*4+Const(movement.yaccel)*10) < 0 & (Pos Y+Vel Y*7+Const(movement.yaccel)*28) >= 0) || ((StateNo = 103 || StateNo = 108) & (Pos Y+0*4+Const(movement.yaccel)*10) < 0 & (Pos Y+0*7+Const(movement.yaccel)*28) >= 0)
triggerall = (StateNo = 103 || StateNo = 108 || (StateNo = 50 & Vel X = 0) || (StateNo = [120,140])) & Ctrl
trigger1 = P2MoveType != H & EnemyNear(Var(55)),AnimTime <= -2 & P2StateNo != [5101,5119]
trigger2 = P2StateType != A & P2StateType != L
trigger3 = Helper(9190),Var(30) > 0

;---------------------------------------------------------------------------
;胡桃的日常

;雙打卡人
[State -1, Stand Strong Punch]
type = ChangeState
value = 200
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*5 <= 15
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*5+Helper(9180),Fvar(0)*15) = [-30,-1]
triggerall = NumPartner > 0
triggerall = Partner,Alive
trigger1 = StateNo = 200 & MoveHit & P2StateType != A & P2StateType != L
trigger1 = P2MoveType = H & Partner,MoveType = A

;雙打棒球
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = Ifelse((life < 400 || Var(12) = 1),3900,3950)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & Var(53) = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = (MoveHit & P2MoveType = H)
triggerall = NumPartner > 0
triggerall = Partner,Alive
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*12 = [-40,70]
triggerall = Power < 3000 || (Power >= 3000 & Random <= 250)
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = H & P2StateType = A & EnemyNear(Var(55)),Vel Y = 0 & P2StateNo != [5000,5999]
trigger1 = P2BodyDist Y >= -45
;果斷用
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = Ifelse((life < 400 || Var(12) = 1),3900,3950)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & Var(53) = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = (MoveHit & P2MoveType = H)
triggerall = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -125) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 125) ;版邊

trigger1 = stateno = 1110 & MoveHit = 1 & P2StateType = A
trigger2 = stateno = 1110 & MoveHit = 1 & PrevStateNo = 420
trigger3 = stateno = 1120 & MoveHit = 1 & P2StateType = A
trigger4 = stateno = 1120 & MoveHit = 1 & PrevStateNo = 420

[State -1, Stand Strong Punch]
type = ChangeState
value = 426
triggerall = Var(58) > 0
triggerall = var(40) != 7
triggerall = statetype = S
triggerall = movetype != H
triggerall = numhelper(3205) = 0
triggerall = MoveHit & P2MoveType = H
triggerall = fvar(16) = 800
triggerall = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -125) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 125) ;版邊
triggerall = P2BodyDist X-EnemyNear(Var(55)),Vel X*15 <= 95
trigger1 = stateno = 200 & MoveHit & P2StateType = A & P2MoveType = H
trigger2 = P2BodyDist X-EnemyNear(Var(55)),Vel X*15 <= 45
trigger2 = stateno = 210 & MoveHit & P2StateType = A & P2MoveType = H

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 100
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & Var(53) = 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0 & StateNo != 100
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & EnemyNear(Var(55)),Ctrl = 0
triggerall = P2BodyDist X+10*(12-EnemyNear(Var(55)),AnimTime)-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*(12-EnemyNear(Var(55)),AnimTime) <= 70
trigger1 = Helper(9190),Var(30) > 0 & P2MoveType = A & EnemyNear(Var(55)),AnimTime <= -12
trigger1 = (P2StateType != A & P2StateType != L) || P2StateType = A & (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*12+Helper(9180),Fvar(0)*78) = [-70,-1]
trigger2 = Helper(9190),Var(30) > 0 & P2MoveType = A & EnemyNear(Var(55)),AnimTime <= -12 & EnemyNear(Var(55)),MoveContact
trigger2 = (P2StateType != A & P2StateType != L) || P2StateType = A & (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*12+Helper(9180),Fvar(0)*78) = [-70,-1]
trigger2 = Helper(9190),var(34) = 0

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = Ifelse((life < 400 || Var(12) = 1),3900,3950)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8 || Var(53) = 9)
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & EnemyNear(Var(55)),Ctrl = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*12 = [-40,70]
triggerall = Helper(9190),Var(32)%3 != 0 ;非鋼體
trigger1 = Helper(9190),Var(30) > 0 & P2MoveType = A & EnemyNear(Var(55)),AnimTime <= -12
trigger1 = (P2StateType != A & P2StateType != L) || P2StateType = A & (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*12+Helper(9180),Fvar(0)*78) = [-70,-1]
trigger2 = P2MoveType = A & EnemyNear(Var(55)),AnimTime <= -12 & EnemyNear(Var(55)),MoveContact
trigger2 = (P2StateType != A & P2StateType != L) || P2StateType = A & (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*12+Helper(9180),Fvar(0)*78) = [-70,-1]
trigger2 = Helper(9190),var(34) = 0
trigger3 = Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time >= 12 & P2MoveType = A & EnemyNear(Var(55)),AnimTime <= -12 & var(40) = 6
trigger3 = P2StateType = A & (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*12+Helper(9180),Fvar(0)*78) = [-70,-1]
trigger3 = Random <= 1000-300*(Power >=4000)-200*(Power >=3000)-100*(Power >=1000)
trigger4 = NumHelper(3605) > 0
trigger4 = Helper(9190),Var(30) > 0 & (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*12+Helper(9180),Fvar(0)*78) = [-70,-1]
trigger4 = P2MoveType = A & EnemyNear(Var(55)),MoveContact = 0
trigger5 = NumHelper(3205) > 0
trigger5 = Helper(9190),Var(30) > 0 & (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*12+Helper(9180),Fvar(0)*78) = [-70,-1]
trigger5 = P2MoveType = A & EnemyNear(Var(55)),MoveContact = 0 & Random <= 300+600*(Power<1000)

;鋼體投測試
[State -1]
type = ChangeState
value = 1220
triggerall = var(40) != 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Var(32)%3 = 0 & Helper(9190),Var(32)%7 != 0 ;鋼體
trigger1 = StateNo = 200 & MoveContact & P2MoveType != H & P2StateType != L & P2BodyDist X < 50
trigger2 = StateNo = 205 & MoveContact & P2MoveType != H & P2StateType != L & P2BodyDist X < 50
trigger3 = StateNo = 1511 & MoveContact & P2MoveType != H & P2StateType != L & P2BodyDist X < 50

;凹技

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3200
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10 || (MoveHit & P2MoveType != H)) & NumHelper(9190) > 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A & Var(12)=0
triggerall = (numhelper(3205) = 0 & Var(12)=0) || (numhelper(3605) = 0 & Var(12)=1)
triggerall = var(40) != 7
triggerall = Helper(9190),Fvar(16) = 0
triggerall = !(Helper(9190),Fvar(14) = 1 & Helper(9190),Fvar(15) = 1)
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) = [5,100]
trigger1 = EnemyNear(Var(55)),AnimTime < -8 & EnemyNear(Var(55)),MoveContact = 0 & Random <= 333
trigger1 = !((Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & EnemyNear(Var(55)),PrevStateNo = [5000,5999])
trigger2 = P2StateType = A & P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) <= 110
trigger2 = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) > 10
trigger2 = P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36 < -5
trigger3 = P2MoveType = A & MoveGuarded 
trigger3 = (stateno = 200 || stateno = 210 || stateno = 221 || stateno = 1100 || stateno = 1110 || stateno = 1120 || stateno = 1501 || stateno = 1511)
trigger4 = ((PrevStateNo = 5120 & EnemyNear(Var(55)),Time > Time) || (StateNo = [120,140])) &  BackEdgeBodyDist < 20
trigger4 = P2MoveType = A & P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36 < -5
trigger5 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8 <= 90
trigger5 = P2MoveType != H & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),PrevStateNo < 200 & EnemyNear(Var(55)),AnimTime < -8 
trigger5 = EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime <= 40 & Random <= 150
trigger6 = MoveHit & P2MoveType != H & P2StateNo >= 200 & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8 <= 90
;持續壓制
trigger7 = P2StateType != A &  P2StateType != L & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) = [0,80]
trigger7 = P2StateNo < 200 & EnemyNear(Var(55)),PrevStateNo = 5120 & Random <= 75
trigger8 = P2StateType != A & P2StateType != L & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) = [0,80]
trigger8 = P2StateNo >= 200 & EnemyNear(Var(55)),AnimTime >= -2 & (EnemyNear(Var(55)),PrevStateNo = [5030,5050]) & Random <= 75

[State -1, Strong Kung Fu Palm3]
type = ChangeState
value = 3200
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10 || (MoveHit & P2MoveType != H)) & NumHelper(9190) > 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A & Var(12)=0
triggerall = (numhelper(3205) = 0 & Var(12)=0) || (numhelper(3605) = 0 & Var(12)=1)
triggerall = var(40) != 7
triggerall = Helper(9190),Fvar(16) = 0
triggerall = !(Helper(9190),Fvar(14) = 1 & Helper(9190),Fvar(15) = 1)
triggerall = MoveContact & (stateno = 200 || stateno = 210 || stateno = 221 || stateno = 426 || stateno = 211 || stateno = 1100 || stateno = 1110 || stateno = 1120 || stateno = 1501 || stateno = 1511)
trigger1 = P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) = [5,100]
trigger1 = EnemyNear(Var(55)),AnimTime < -8 & EnemyNear(Var(55)),MoveContact = 0 & Random <= 333
trigger1 = !((Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & EnemyNear(Var(55)),PrevStateNo = [5000,5999])
trigger2 = P2StateType = A & P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) <= 110
trigger2 = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) > 10
trigger2 = P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36 < -5
trigger3 = P2MoveType = A & MoveGuarded 
trigger3 = (stateno = 200 || stateno = 210 || stateno = 221 || stateno = 1100 || stateno = 1110 || stateno = 1120 || stateno = 1501 || stateno = 1511)
trigger4 = ((PrevStateNo = 5120 & EnemyNear(Var(55)),Time > Time) || (StateNo = [120,140])) &  BackEdgeBodyDist < 20
trigger4 = P2MoveType = A & P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36 < -5
trigger5 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8 <= 90
trigger5 = P2MoveType != H & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),PrevStateNo < 200 & EnemyNear(Var(55)),AnimTime < -8 
trigger5 = EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime <= 40 & Random <= 150
trigger6 = MoveHit & P2MoveType != H & P2StateNo >= 200 & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8 <= 90

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3600
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (MoveHit & P2MoveType != H)) & NumHelper(9190) > 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A & Var(12)=1
triggerall = (numhelper(3205) = 0 & Var(12)=0) || (numhelper(3605) = 0 & Var(12)=1)
triggerall = var(40) != 7
triggerall = Helper(9190),Fvar(16) = 0
triggerall = !(Helper(9190),Fvar(14) = 1 & Helper(9190),Fvar(15) = 1)
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) 
trigger1 = P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) = [15,135]
trigger1 = EnemyNear(Var(55)),AnimTime < -10 & EnemyNear(Var(55)),MoveContact = 0 & Random <= 500
trigger1 = !((Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & EnemyNear(Var(55)),PrevStateNo = [5000,5999])
trigger2 = P2StateType = A & P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) <= 135
trigger2 = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) > 10
trigger2 = P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+Helper(9180),Fvar(0)*55 < -20
trigger3 = P2MoveType = A & MoveGuarded 
trigger3 = (stateno = 200 || stateno = 210 || stateno = 221 || stateno = 1100 || stateno = 1110 || stateno = 1120 || stateno = 1501 || stateno = 1511)
trigger4 = ((PrevStateNo = 5120 & EnemyNear(Var(55)),Time > Time) || (StateNo = [120,140])) &  BackEdgeBodyDist < 20
trigger4 = P2MoveType = A & P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+Helper(9180),Fvar(0)*55 < -20
trigger5 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10 = [10,115]
trigger5 = P2MoveType != H & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),PrevStateNo < 200 & EnemyNear(Var(55)),AnimTime < -10
trigger5 = EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime <= 40 & Random <= 150
trigger6 = MoveHit & P2MoveType != H & P2StateNo >= 200 & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10 = [10,115]
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3600
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (MoveHit & P2MoveType != H)) & NumHelper(9190) > 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A & Var(12)=1
triggerall = (numhelper(3205) = 0 & Var(12)=0) || (numhelper(3605) = 0 & Var(12)=1)
triggerall = var(40) != 7
triggerall = Helper(9190),Fvar(16) = 0
triggerall = !(Helper(9190),Fvar(14) = 1 & Helper(9190),Fvar(15) = 1)
triggerall = MoveContact & (stateno = 200 || stateno = 210 || stateno = 221 || stateno = 426 || stateno = 211 || stateno = 1100 || stateno = 1110 || stateno = 1120 || stateno = 1501 || stateno = 1511)
trigger1 = P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) = [15,135]
trigger1 = EnemyNear(Var(55)),AnimTime < -10 & EnemyNear(Var(55)),MoveContact = 0 & Random <= 500
trigger1 = !((Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & EnemyNear(Var(55)),PrevStateNo = [5000,5999])
trigger2 = P2StateType = A & P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) <= 135
trigger2 = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) > 10
trigger2 = P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+Helper(9180),Fvar(0)*55 < -20
trigger3 = P2MoveType = A & MoveGuarded 
trigger3 = (stateno = 200 || stateno = 210 || stateno = 221 || stateno = 1100 || stateno = 1110 || stateno = 1120 || stateno = 1501 || stateno = 1511)
trigger4 = ((PrevStateNo = 5120 & EnemyNear(Var(55)),Time > Time) || (StateNo = [120,140])) &  BackEdgeBodyDist < 20
trigger4 = P2MoveType = A & P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+Helper(9180),Fvar(0)*55 < -20
trigger5 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10 = [10,115]
trigger5 = P2MoveType != H & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),PrevStateNo < 200 & EnemyNear(Var(55)),AnimTime < -10
trigger5 = EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime <= 40 & Random <= 150
trigger6 = MoveHit & P2MoveType != H & P2StateNo >= 200 & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10 = [10,115]

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3300
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10 || (MoveHit & P2MoveType != H)) & NumHelper(9190) > 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = Helper(9190),Fvar(15) = 0 & P2StateType != L
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
triggerall = !(P2StateNo > 1000 & EnemyNear(Var(55)),AnimTime <= -55 & P2MoveType != H & EnemyNear(Var(55)),PrevStateNo != [5000,5999]) ;這招不單純
triggerall = !(Helper(9190),Var(30) > 0 & P2MoveType = A & EnemyNear(Var(55)),HitDefAttr != SCA,AT) ;桌內
triggerall = !(NumHelper(1400) > 0 & P2MoveType = A & EnemyNear(Var(55)),Facing = Facing) ;背對
trigger1 = P2MoveType = A & P2StateType != A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) = [-20,100]
trigger1 = EnemyNear(Var(55)),AnimTime < -10 & EnemyNear(Var(55)),MoveContact = 0 & Random <= 250
trigger1 = !((Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & EnemyNear(Var(55)),PrevStateNo = [5000,5999])
trigger2 = P2StateType = A & P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) <= 100
trigger2 = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) > 10
trigger2 = P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36 >= -20
trigger3 = MoveHit & P2MoveType != H & P2StateNo >= 200 & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10 <= 100

[State -1, Strong Kung Fu Palm2]
type = ChangeState
value = 1300
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || Var(53) = 7 || Var(53) = 9 || Var(53) = 10) & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = var(40) != 7
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),var(30) = 0
triggerall = Helper(9190),var(34) = 0 || (Helper(9190),var(34) = 1 & EnemyNear(Var(55)),MoveContact = 0)
triggerall = Random <= 1000-500*(Helper(9190),Var(29)%13 = 0)-450*(Helper(9190),Var(29)%17 = 0 & StateType != A)-250*(Helper(9190),Var(29)%17 = 0 & StateType = A)
triggerall = Random <= 500-50*(Power >= 1000 & NumHelper(3205) = 0 & Var(12) = 0)-50*(Power >= 1000 & NumHelper(3605) = 0 & Var(12) = 1) || Random > 500
triggerall = !(NumHelper(1400) > 0 & EnemyNear(Var(55)),Facing = Facing)
triggerall = !(NumHelper(1400) > 0 & P2MoveType = A & EnemyNear(Var(55)),HitDefAttr = SCA,AT)
triggerall = !(P2StateNo > 1000 & EnemyNear(Var(55)),AnimTime <= -55 & P2MoveType != H & EnemyNear(Var(55)),PrevStateNo != [5000,5999]) ;這招不單純
triggerall = !(Helper(9190),Var(30) > 0 & P2MoveType = A & EnemyNear(Var(55)),HitDefAttr != SCA,AT) ;桌內
triggerall = !(NumHelper(1400) > 0 & P2MoveType = A & EnemyNear(Var(55)),Facing = Facing) ;背對
triggerall = !(P2BodyDist Y >= 60 & StateType = A & P2StateType != A)
triggerall = Helper(9190),Var(32)%3 != 0 ;非鋼體
trigger1 = StateType != A || (StateType = A & P2StateType != C & P2StateType != L)
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2MoveType = A & P2StateType != A & P2StateType != L
trigger1 = EnemyNear(Var(55)),AnimTime < -8 & EnemyNear(Var(55)),MoveContact = 0 & Random <= 200+800*(Helper(9190),Fvar(11)-Helper(9190),Time >=7)+300*(P2StateType = A)
trigger1 = P2BodyDist X <= 85-5*(P2StateType = A)-15*(P2StateType = C)-15*(EnemyNear(Var(55)),Vel X < 0) & P2BodyDist X > 0
trigger2 = stateno = 200 || stateno = 210 || stateno = 221 || stateno = 426 || stateno = 211
trigger2 = (MoveHit & P2MoveType = I & P2StateNo > 200 & Random <= 70) || (MoveHit & P2MoveType = A) || (MoveGuarded & P2MoveType = A & EnemyNear(Var(55)),AnimTime < -7) || (MoveHit & P2MoveType = I & StateType = A & EnemyNear(Var(55)),AnimTime < -7)
trigger2 = P2BodyDist X <= 70-15*P2StateType = C-15*(EnemyNear(Var(55)),Vel X < 0) & P2BodyDist X > 0
trigger3 = stateno = 600 || stateno = 610 || stateno = 620
trigger3 = MoveContact & P2MoveType = A & P2StateType = A
trigger3 = (P2BodyDist X+Vel X *8-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) = [0,70]
trigger3 = !((Pos Y+Vel Y*8+Const(movement.yaccel)*36) > 0 & EnemyNear(Var(55)),Vel Y > Vel Y) ;對手可能先落地
trigger3 = !((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*28-Vel Y*8-Const(movement.yaccel)*28) < -95)
trigger4 = P2MoveType = A & MoveGuarded
trigger4 = (stateno = 200 || stateno = 210 || stateno = 221 || stateno = 1100 || stateno = 1110 || stateno = 1120 || stateno = 1501 || stateno = 1511)
trigger4 = EnemyNear(Var(55)),AnimTime < -7 & Power < 1000 & Random <= 200
trigger4 = (P2BodyDist X+Vel X *8-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) = [0,70]
trigger5 = StateNo = 5210 & P2StateType = A & P2MoveType = A & P2BodyDist X < 30
trigger5 = P2BodyDist Y = [-55,55]
;脫離
trigger6 = EnemyNear(Var(55)),AnimTime < -7 & (P2StateNo != [5000,5300]) & EnemyNear(Var(55)),PrevStateNo = [5000,5999]
trigger6 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger6 = P2StateNo >= 200 & P2StateType = A & P2MoveType != H

;---------------------------------------------------------------------------
;桌角連

[State -1, Stand Strong Punch]
type = ChangeState
value = 210
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 1
triggerall = Var(12) = 0
triggerall = statetype = S
triggerall = movetype != H
triggerall = P2StateNo = 12120
triggerall = FrontEdgeBodyDist < 120 & P2StateType != L
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*9+Helper(9180),Fvar(0)*45 = [-25,1]) || (EnemyNear(Var(55)),Pos Y >= -30 & EnemyNear(Var(55)),Vel Y = 0)
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)

[State -1, Stand Strong Punch]
type = ChangeState
value = 420
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 1
triggerall = statetype = S
triggerall = movetype != H
triggerall = P2StateNo = 12120
triggerall = FrontEdgeBodyDist = [120,180]
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)

[State -1, Stand Strong Punch]
type = ChangeState
value = 1000
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 1
triggerall = Var(12) = 0
triggerall = statetype = S
triggerall = movetype != H
triggerall = P2StateNo = 12120
triggerall = FrontEdgeBodyDist > 180
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1500
triggerall = Var(58) > 0 & Var(53) = 1
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = MoveHit = 1 & P2MoveType = H
trigger1 = stateno = 210 & P2BodyDist X <= 52

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1510
triggerall = Var(58) > 0 & Var(53) = 1
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 1501
trigger2 = stateno = 1502

[State -1, Stand Strong Punch]
type = ChangeState
value = 211
triggerall = Var(58) > 0 & Var(53) = 1
triggerall = var(40) != 7
triggerall = statetype = S
triggerall = movetype != H
triggerall = MoveHit & P2MoveType = H
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*14 <= 54
trigger1 = stateno = 200
trigger2 = stateno = 210
trigger3 = stateno = 1511

[State -1, Stand Strong Punch]
type = ChangeState
value = 426
triggerall = Var(58) > 0 & Var(53) = 1
triggerall = var(40) != 7
triggerall = statetype = S
triggerall = movetype != H
triggerall = MoveHit & P2MoveType = H
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*14 > 58
trigger1 = stateno = 200
trigger2 = stateno = 210
trigger3 = stateno = 1511

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1120
triggerall = Var(58) > 0 & Var(53) = 1
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = MoveHit 
trigger1 = stateno = 420 & Helper(9190),Var(29)%3 !=0 
trigger2 = stateno = 426 & PrevStateNo = 1511 & MoveHit >= 7 & Helper(9190),Var(29)%2 !=0 

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1000
triggerall = Var(58) > 0 & Var(53) = 1
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = numhelper(1025) = 0
triggerall = numhelper(1026) = 0
triggerall = var(40) != 7
triggerall = var(12) = 0
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 1100 || stateno = 1110 || stateno = 1120

;---------------------------------------------------------------------------
;新JC地面追打

;JBJC版
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 15 & var(4) != 0
trigger1 = (Pos Y+0*23+Const(movement.yaccel)*276) < 0
v = 56
value = 27

[State -1, airdashF]
type = ChangeState
value = 103
triggerall = Var(58) > 0 & Var(53) = 15
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105 & stateno != 103 & stateno != 108 &  stateno != 110
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 620

[State -1, Jump Middle]
type = ChangeState
value = 600
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 15 & Var(56) != 27
triggerall = var(20) = 0
triggerall = stateno != 105
triggerall = movetype != H
trigger1 = StateNo = 103 & Ctrl

[State -1, Jump Middle]
type = ChangeState
value = 610
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 15
triggerall = var(20) = 0
triggerall = stateno != 105
triggerall = movetype != H
trigger1 = StateNo = 600 & MoveContact

[State -1, Jump Middle]
type = ChangeState
value = 610
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 15 & Var(56) = 27
triggerall = var(20) = 0
triggerall = stateno != 105
triggerall = movetype != H
trigger1 = StateNo = 103 & Ctrl

[State -1, Jump Middle]
type = ChangeState
value = 620
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 15 & Var(56) = 27
triggerall = var(20) = 0
triggerall = stateno != 105
triggerall = movetype != H
trigger1 = StateNo = 610 & MoveContact


;---------------------------------------------------------------------------
;新J2C追打


[State -1, Stand Light Punch]
type = ChangeState
value = Ifelse((life < 400 || Var(12) = 1),3900,3950)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & Var(53) = 14
triggerall = var(40) != 7
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*12+Helper(9180),Fvar(0)*78) = [-45,-1]
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*12 = [-40,70]
triggerall = StateType != A
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)

;JBJC版
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 14
trigger1 = P2StateNo = 12211
v = 56
value = 27

;接一擊
[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 14
triggerall = fvar(16) = 800
triggerall = var(40) != 7
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*12+Helper(9180),Fvar(0)*78) <= -1
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*12 = [-40,70]
trigger1 = P2StateNo = 12210
v = 56
value = 88

[State -1, Crouching Strong Kick]
type = ChangeState
value = 100
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 14
triggerall = movetype != H & StateType != A & StateNo != 100
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2BodyDist X > 5

[State -1, Stand Strong Punch]
type = ChangeState
value = 211
triggerall = Var(58) > 0 & Var(53) = 14 & Var(56) != 27 & Var(56) != 88
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*14 <= 55) || (EnemyNear(Var(55)),BackEdgeBodyDist < 35 & P2BodyDist X  <= 55)
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*14+Helper(9180),Fvar(0)*105) = [-35,-1]
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)

[State -1, Stand Light Punch]
type = ChangeState
value = 200
triggerall = Var(58) > 0 & Var(53) = 14 & Var(56) != 88
triggerall = var(40) != 7
triggerall = statetype != A
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) 
trigger1 = P2BodyDist X <= 40
trigger1 = ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+0.5*21) = [-40,-1])

;;;;;;Round2
[State -1, Stand Light Punch]
type = ChangeState
value = 211
triggerall = Var(58) > 0 & Var(53) = 14 & Var(56) != 27
triggerall = var(40) != 7
triggerall = statetype != A
trigger1 = stateno = 200 & MoveContact

[State -1, 1]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 14
trigger1 = 1
sysvar(1) = 1

[State -1, Jump Cancel]
type = ChangeState
value = IfElse(StateNo=100,43,41)
triggerall = Var(58) > 0 & Var(53) = 14
triggerall = statetype != A
trigger1 = stateno = 211
trigger1 = movehit

[State -1, Jump Light]
type = ChangeState
value = 600
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 14
triggerall = movetype != H
triggerall = stateno != 105
trigger1 = statetype = A & (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateNo != 103
trigger1 = Time > 3 || (StateNo = [120,140]) || (PrevStateNo = 45 & Time >= 1) || EnemyNear(Var(55)),Vel Y >= 0
trigger2 = stateno = 600 & statetime >= 7 & StateNo != 103 & Var(56) != 20
trigger3 = stateno = 602 & movecontact & StateNo != 103 & Var(56) != 20

[State -1, Jump Light]
type = ChangeState
value = 610
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 14
triggerall = movetype != H
triggerall = stateno != 105
trigger1 = statetype = A & (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateNo != 103
trigger1 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36) = [-32,-1]
trigger2 = stateno = 600 & MoveContact

[State -1, Jump Strong]
type = ChangeState
value = 620
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 14
triggerall = stateno != 105
triggerall = movetype != H
trigger1 = stateno = 610 & MoveContact > 2

[State -1, Jump Strong]
type = ChangeState
value = 650
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 14
triggerall = stateno != 105
triggerall = movetype != H
trigger1 = stateno = 620 & MoveContact > 3
trigger2 = stateno = 620 & MoveContact
trigger2 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*13+Helper(9180),Fvar(0)*78) > 0

;;;;;;;收尾
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1500
triggerall = Var(58) > 0 & Var(53) = 14
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = MoveContact
trigger1 = stateno = 200
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) 
trigger2 = P2BodyDist X = [40,80]
trigger2 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*11+0.5*66) = [-60,-1]

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1510
triggerall = Var(58) > 0 & Var(53) = 14
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = MoveContact
trigger1 = stateno = 1501
trigger2 = stateno = 1502

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2410
triggerall = Var(58) > 0 & Var(53) = 14
triggerall = var(12) = 1
triggerall = statetype != A
trigger1 = StateNo = 1511 & MoveContact

[State -1]
type = ChangeState
value = 3200
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 14
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = (numhelper(3205) = 0 & Var(12)=0) || (numhelper(3605) = 0 & Var(12)=1)
trigger1 = StateNo = 1511 & MoveContact

[State -1]
type = ChangeState
value = 1220
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 14
triggerall = movetype != H
triggerall = statetype != A
trigger1 = StateNo = 1511 & MoveContact

[State -1, Crouching Strong Kick]
type = ChangeState
value = 321
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 14 & Var(56) != 24 & Var(56) != 34
triggerall = movetype != H & StateType != A & StateNo != 100
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2BodyDist X < 0

;---------------------------------------------------------------------------
;空連接投

[State -1, 1]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 2
trigger1 = 1
sysvar(1) = 1

[State -1, Jump Cancel]
type = ChangeState
value = IfElse(StateNo=100,43,41)
triggerall = Var(58) > 0 & Var(53) = 2
triggerall = sysvar(1) = 1
triggerall = statetype != A
trigger1 = stateno = 211
trigger1 = movehit

[State -1, Jump Cancel]
type = ChangeState
value = 42
triggerall = Var(58) > 0 & Var(53) = 2 & NumHelper(9190) > 0
triggerall = sysvar(1) = 1 & Helper(9190),Var(27) > 0
trigger1 = stateno = 50 & Var(56) = 20 & Time > 2

[State -1, Jump Strong]
type = ChangeState
value = 650
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 2
triggerall = stateno != 105
triggerall = movetype != H
triggerall = MoveHit || (StateNo = 50 & Ctrl & Time > 10)  || (StateNo = [120,140])
triggerall = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -250) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 250) ;版邊
triggerall = (Pos Y+Vel Y*12+Const(movement.yaccel)*78) < 0
triggerall = P2BodyDist Y-Vel Y*8-Const(movement.yaccel)*36+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36 >= -48
trigger1 = stateno = 610 & (PrevStateNo = 103 || (Pos Y+Vel Y*14+Const(movement.yaccel)*325) > 0)
trigger2 = StateNo = 620 & Vel Y <= 0
trigger3 = StateNo = 103 & Ctrl & var(13) = 0 & PrevStateNo != 600
trigger4 = stateno = 600 & Vel Y > 0 & Var(4) = 0 & (Pos Y+Vel Y*19+Const(movement.yaccel)*190) >= 0
trigger5 = stateno = 600 & PrevStateNo = 103 & (Pos Y+Vel Y*19+Const(movement.yaccel)*190) >= 0
trigger6 = stateno = 600 & PrevStateNo = 600 & Vel Y > 0 & P2Dist Y <= 0

[State -1, Jump Strong]
type = ChangeState
value = 650
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 2
triggerall = stateno != 105
triggerall = movetype != H
triggerall = MoveHit || (StateNo = 50 & Ctrl & Time > 10)  || (StateNo = [120,140])
triggerall = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -250) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 250) ;版邊
triggerall = (Pos Y+Vel Y*12+Const(movement.yaccel)*78) < 0
trigger1 = StateNo = 103 & Ctrl & var(13) = 0 & PrevStateNo = 620

[State -1, airdashF]
type = ChangeState
value = 103
triggerall = Var(58) > 0 & Var(53) = 2
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105 & stateno != 103 & stateno != 108 &  stateno != 110
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 620 & P2BodyDist Y > -30
trigger2 = stateno = 600 & EnemyNear(Var(55)),BackEdgeBodyDist >= 20
trigger2 = P2BodyDist X-Vel X*8-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8 > 45

[State -1, Jump Light]
type = ChangeState
value = 600
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 2
triggerall = movetype != H
triggerall = stateno != 105
trigger1 = statetype = A & (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateNo != 103
trigger1 = Time > 3 || (StateNo = [120,140]) || (PrevStateNo = 45 & Time >= 1) || EnemyNear(Var(55)),Vel Y >= 0
trigger2 = stateno = 600 & statetime >= 7 & StateNo != 103 & Var(56) != 20
trigger3 = stateno = 602 & movecontact & StateNo != 103 & Var(56) != 20
trigger4 = StateNo = 103 & Ctrl & PrevStateNo = 600 & Var(56) != 20

[State -1, Jump Middle]
type = ChangeState
value = 610
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 2
triggerall = var(20) = 0
triggerall = stateno != 105
triggerall = movetype != H
triggerall = ((MoveHit & P2MoveType = H) || (StateNo = 103 & Ctrl))
trigger1 = stateno = 600 & P2BodyDist X+Vel X*8-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8 <= 45 & !(var(4) = 0 & P2BodyDist Y < 0)
trigger2 = stateno = 602
trigger3 = StateNo = 103 & Ctrl & (P2BodyDist Y-Vel Y*8-Const(movement.yaccel)*36+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36) >= -10

[State -1, Jump Middle]
type = ChangeState
value = 650
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 2
triggerall = var(20) = 0
triggerall = stateno != 105
triggerall = movetype != H
triggerall = ((MoveHit & P2MoveType = H) || (StateNo = 103 & Ctrl))
trigger1 = StateNo = 103 & Ctrl & (P2BodyDist Y-Vel Y*12-Const(movement.yaccel)*78+EnemyNear(Var(55)),Vel Y*12+Helper(9180),Fvar(0)*78) >= -40
trigger2 = (P2BodyDist Y-Vel Y*8-Const(movement.yaccel)*36+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36) < -10

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1230
triggerall = Var(58) > 0 & Var(53) = 2
triggerall = movetype != H
triggerall = statetype != S
triggerall = var(40) != 7
triggerall = (MoveHit & P2MoveType = H) || (StateNo = 50 & Ctrl & Time > 10)
trigger1 = stateno = 610 & PrevStateNo = 103 & P2BodyDist Y < 25
trigger2 = stateno = 620 & (Var(4) = 0 || MoveContact > 3)
trigger3 = StateNo = 103 & Ctrl & (PrevStateNo = [600,699]) & P2BodyDist Y-Vel Y*8-Const(movement.yaccel)*36+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36 < -25
trigger4 = StateNo = 50 & Ctrl & Time > 10 & P2StateType = A & P2BodyDist Y-Vel Y*8-Const(movement.yaccel)*36+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36 < -25

[State -1, Jump Strong]
type = ChangeState
value = 620
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 2
triggerall = stateno != 105
triggerall = movetype != H
triggerall = ((MoveHit & P2MoveType = H) || (StateNo = 103 & Ctrl))
trigger1 = stateno = 610
trigger2 = stateno = 612
trigger3 = stateno = 600 & var(4) = 0 & P2BodyDist Y < 0

;---------------------------------------------------------------------------
;低空連段落地
[State -1, Stand Strong Punch]
type = ChangeState
value = 211
triggerall = Var(58) > 0 & Var(53) = 3
triggerall = var(40) != 7
triggerall = statetype = S
triggerall = movetype != H
triggerall = P2MoveType = H & P2StateType = A
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*14 <= 54


[State -1, 1]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 3
trigger1 = 1
sysvar(1) = 1

[State -1, Jump Cancel]
type = ChangeState
value = IfElse(StateNo=100,43,41)
triggerall = Var(58) > 0 & Var(53) = 3
triggerall = sysvar(1) = 1
triggerall = statetype != A
trigger1 = stateno = 211
trigger1 = movehit

[State -1, Jump Strong]
type = ChangeState
value = 650
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 3
triggerall = stateno != 105
triggerall = movetype != H
triggerall = (Pos Y+Vel Y*12+Const(movement.yaccel)*78) < 0
triggerall = StateType = A
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & Ctrl & P2BodyDist X >= 40


[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1320
triggerall = Var(58) > 0 & Var(53) = 3
triggerall = movetype != H
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = var(40) != 7 & StateType != A
triggerall = P2MoveType = H & P2StateType = A 
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*14 > 58
trigger2 = stateno = 211 & movehit

;---------------------------------------------------------------------------
;地板動作
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse(NumHelper(1400) > 0,1020,1400)
triggerall = Var(58) > 0 & Var(53) = 4  
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 0
triggerall = !(P2BodyDist X < 20 & Helper(9190),Var(30) = 0 & PrevStateNo = 420)
triggerall = numhelper(1400) = 0 & P2BodyDist X >= 125 
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (Var(57) >= 32 || (PrevStateNo = 1232 & Var(57) >= 10))
trigger2 = NumHelper(3205) > 0
trigger2 = Helper(3205),Time < 180
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & Helper(9190),Var(29)%11 = 0

[State -1, Stand Strong Punch]
type = ChangeState
value = 1210
triggerall = Var(58) > 0 & Var(53) = 4
triggerall = var(40) != 7
triggerall = movetype != H
triggerall = P2BodyDist X <= 50
triggerall = P2StateNo != 5120 || ((P2StateNo != [5100,5119]) & (EnemyNear(Var(55)),PrevStateNo = [5100,5119]))
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = EnemyNear(Var(55)),AnimTime >= -10 & Random <= 70+150*(BackEdgeBodyDist < 25)

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 105
triggerall = Var(58) > 0 & Var(53) = 4  
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 0
triggerall = (P2BodyDist X < 20 & Helper(9190),Var(30) = 0 & PrevStateNo = 420)
triggerall = numhelper(1400) = 0
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (Var(57) >= 32 || (PrevStateNo = 1232 & Var(57) >= 10))
trigger2 = NumHelper(3205) > 0
trigger2 = Helper(3205),Time < 180
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & Helper(9190),Var(29)%11 = 0 

[State -1, Crouching Strong Kick]
type = ChangeState
value = 420
triggerall = var(40) != 7 & NumHelper(9190) > 0 
triggerall = Var(58) > 0 & Var(53) = 4 & Var(57) < 35 
triggerall = movetype != H
triggerall = Helper(9190),Var(29)%11 != 0
triggerall = P2StateNo != 5120 || !((P2StateNo != [5100,5119]) & (EnemyNear(Var(55)),PrevStateNo = [5100,5119]))
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & Var(56) != 30 & 0
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (PrevStateNo = 1232 || Var(56) = 66) 

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1120
triggerall = Var(58) > 0 & Var(53) = 4
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = MoveHit & (Helper(9190),Var(29)%2 !=0 || fvar(16) = 800)
trigger1 = stateno = 420 & Var(56) = 30
trigger2 = stateno = 420 & Var(56) != 30
trigger2 = numhelper(3205) = 0 & var(12) = 0 & power >= 1000 
trigger2 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -250) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 250) ;版邊

trigger3 = stateno = 420 & Var(56) != 30
trigger3 = numhelper(3205) = 0 & fvar(16) = 800
trigger3 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -125) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 125) ;版邊

trigger4 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -125) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 125) ;版邊

trigger4 = stateno = 420 & fvar(16) = 800
trigger5 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo = 5120 & EnemyNear(Var(55)),AnimTime = [-23,-11]
trigger5 = Random <= 75
trigger6 = Random <= 125
trigger6 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & Var(56) = 30

[State -1, Stand Strong Punch]
type = ChangeState
value = 211
triggerall = Var(58) > 0 & Var(53) = 4
triggerall = var(40) != 7
triggerall = movetype != H
triggerall = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -250) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 250) ;版邊
triggerall = MoveHit & P2MoveType = H
triggerall = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*14 <= 45) || (P2BodyDist X <= 45 & EnemyNear(Var(55)),BackEdgeBodyDist < 25)
trigger1 = stateno = 420

[State -1, Stand Strong Punch]
type = ChangeState
value = 1120
triggerall = Var(58) > 0 & Var(53) = 4
triggerall = var(40) != 7
triggerall = movetype != H
triggerall = MoveHit & P2MoveType = H
trigger1 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) < -250) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) > 250) ;非版邊
trigger1 = stateno = 420
trigger2 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -250) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 250) ;版邊
trigger2 = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*14 > 45) || (P2BodyDist X > 45 & EnemyNear(Var(55)),BackEdgeBodyDist < 25)
trigger2 = stateno = 420

[State -1, Crouching Strong Kick]
type = ChangeState
value = 22
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 4 & Var(57) < 35 
triggerall = movetype != H & StateType != A & StateNo != 100
trigger1 = P2BodyDist X < 40
trigger1 = (Ctrl || StateNo = 21 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)

[State -1, Crouching Strong Kick]
type = ChangeState
value = 321
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 4
triggerall = movetype != H & StateType != A
trigger1 = P2BodyDist X > 100
trigger1 = StateNo = 22

;---------------------------------------------------------------------------
;新感染空連

[State -1, 1]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 16
trigger1 = 1
sysvar(1) = 1

[State -1, Jump Cancel]
type = ChangeState
value = IfElse(StateNo=100,43,41)
triggerall = Var(58) > 0 & Var(53) = 16
triggerall = sysvar(1) = 1
triggerall = statetype != A
trigger1 = stateno = 2401
Trigger1 = time >= 39

[State -1, Jump Light]
type = ChangeState
value = 610
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 16
triggerall = movetype != H
triggerall = stateno != 105
trigger1 = statetype = A & (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateNo != 103
trigger1 = Time > 1 || (StateNo = [120,140]) || (PrevStateNo = 45 & Time >= 1) || EnemyNear(Var(55)),Vel Y >= 0
trigger2 = statetype = A & Ctrl & StateNo = 103

[State -1, Jump Light]
type = ChangeState
value = 620
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 16
triggerall = movetype != H
trigger1 = statetype = A
trigger1 = StateNo = 610 & MoveContact

[State -1, airdashF]
type = ChangeState
value = 650
triggerall = Var(58) > 0 & Var(53) = 16
triggerall = statetype = A
triggerall = movetype != H
triggerall = MoveHit
trigger1 = stateno = 620 & MoveContact > 1

[State -1, airdashF]
type = ChangeState
value = 103
triggerall = Var(58) > 0 & Var(53) = 16 & 0
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105 & stateno != 103 & stateno != 108 &  stateno != 110
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 620

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 16 & P2StateType = A
trigger1 = StateNo = 52
v = 56
value = 30

[State -1, Stand Strong Punch]
type = ChangeState
value = 200
triggerall = Var(58) > 0 & Var(53) = 16
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*5 <= 35
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*5+Helper(9180),Fvar(0)*15) = [-30,-1]
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = Var(56) = 30

[State -1, Stand Strong Punch]
type = ChangeState
value = 210
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 16
triggerall = statetype = S
triggerall = movetype != H
trigger1 = StateNo = 200 & MoveContact

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1500
triggerall = Var(58) > 0 & Var(53) = 16
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall =  stateno = 210 || (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*12+Helper(9180),Fvar(0)*78) = [-60,-1]
trigger1 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8 > 35
trigger1 = stateno = 210 & P2StateType = A
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger2 = Var(56) = 30
trigger3 = stateno = 210 & P2StateType = A & Var(56) = 30

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1510
triggerall = Var(58) > 0 & Var(53) = 16
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 1501
trigger2 = stateno = 1502

[State -1, Stand Strong Punch]
type = ChangeState
value = 211
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 16
triggerall = statetype = S
triggerall = movetype != H
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 1511 & P2StateType = A
trigger1 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*4+Helper(9180),Fvar(0)*10) >= -80

;---------------------------------------------------------------------------
;感染搬運

[State -1, Stand Light Punch]
type = ChangeState
value = Ifelse((life < 400 || Var(12) = 1),3900,3950)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & Var(53) = 5
triggerall = var(40) != 7
triggerall = statetype = S
triggerall = P2StateNo != 12100
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (P2BodyDist X = [0,68]) 
trigger1 =((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*9+0.5*45) = [-70,-1]) & ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+0.5*55) > 0)
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (P2BodyDist X = [0,68])
trigger2 =((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*9+0.5*45) = [-70,-1]) & ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+0.5*55) > 0)
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (P2BodyDist X = [0,68]) 
trigger3 =((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*9+0.5*45) = [-70,-1]) & ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+0.5*55) > 0)
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (P2BodyDist X = [-30,0]) 
trigger4 =((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*9+0.5*45) = [-30,-1]) & ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+0.5*55) > 0)
trigger5 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (P2BodyDist X = [-30,0])
trigger5 =((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*9+0.5*45) = [-30,-1]) & ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+0.5*55) > 0)
trigger6 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (P2BodyDist X = [-30,0]) 
trigger6 =((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*9+0.5*45) = [-30,-1]) & ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+0.5*55) > 0)
trigger7 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (P2BodyDist X = [0,68]) 
trigger7 = P2BodyDist Y <= 55 & (P2BodyDist X = [0,68]) & P2StateNo != 12110

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1120
triggerall = Var(58) > 0 & Var(53) = 5 
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & Var(56) = 30 & P2BodyDist X <= 125
trigger1 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -150) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 150) ;版邊


[State -1, Stand Light Punch]
type = ChangeState
value = 200
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 5
triggerall = statetype = S
triggerall = movetype != H
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2BodyDist X <= 48-10*(Var(12) = 0)
trigger1 = ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*5+0.5*15) = [-35,-1]) & ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*7+0.5*28) > 0)
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2BodyDist X <= 43-10*(Var(12) = 0)
trigger2 = ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*5+0.5*15) = [-33,-1]) & ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*7+0.5*28) > 0)
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2BodyDist X <= 38-10*(Var(12) = 0)
trigger3 = ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*5+0.5*15) = [-30,-1]) & ((P2BodyDist Y+EnemyNear(Var(55)),Vel Y*7+0.5*28) > 0)

[State -1, Crouching Strong Kick]
type = ChangeState
value = 100
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 5
triggerall = movetype != H & StateType != A & StateNo != 100
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 40 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = !(P2StateNo = 12100 & EnemyNear(Var(55)),Pos Y <= -35 & P2BodyDist X <= 25)
trigger1 = P2BodyDist X > 15

[State -1, Crouching Strong Kick]
type = ChangeState
value = 321
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 5
triggerall = movetype != H & StateType != A & StateNo = 100
triggerall = !(Var(12) = 0 & Time < 5 & P2StateNo != [12120,12130])
trigger1 = (P2StateNo = 12100 & EnemyNear(Var(55)),Pos Y <= -35 & P2BodyDist X <= 25) 
trigger2 = FrontEdgeBodyDist < 10 
trigger3 = P2BodyDist X <= 15

[State -1, Crouching Strong Kick]
type = ChangeState
value = 420
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 5
triggerall = movetype != H & StateType != A & P2StateNo != 12110
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (P2BodyDist X = [71,89]) & (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+0.5*36) > 0
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (P2BodyDist X = [61,69]) & (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+0.5*36) > 0
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (P2BodyDist X = [51,59]) & (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*7+0.5*28) > 0
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (P2BodyDist X = [41,49]) & (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*6+0.5*21) > 0
trigger5 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2BodyDist X <= 40 & (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*5+0.5*15) > 0

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1120
triggerall = Var(58) > 0 & Var(53) = 5 
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
trigger1 = Var(56) = 30 & P2BodyDist X <= 125
trigger1 = StateNo = 420 & MoveHit 

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 210
triggerall = Var(58) > 0 & Var(53) = 5
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 200 & P2StateType = A

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2410
triggerall = Var(58) > 0 & Var(53) = 5
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 210 & Var(57) < 20

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2400
triggerall = Var(58) > 0 & Var(53) = 5
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
triggerall = MoveHit & P2MoveType = H
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8 <= 35
trigger1 = stateno = 200 & Var(57) < 20

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1500
triggerall = Var(58) > 0 & Var(53) = 5
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 200 & NumHelper(3605) = 0
trigger2 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8 > 35
trigger2 = stateno = 200 & Var(57) < 20
trigger3 = stateno = 210 & NumHelper(3605) = 0

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3600
triggerall = Var(58) > 0 & Var(53) = 5
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(3605) = 0
triggerall = var(40) != 7
triggerall = var(12) = 1
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 1511 
trigger2 = stateno = 1512
trigger3 = stateno = 1100 || stateno = 1110 
trigger4 = stateno = 1501 & Var(57) < 20
trigger5 = stateno = 1502 & Var(57) < 20

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1510
triggerall = Var(58) > 0 & Var(53) = 5
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 1501 & Var(57) >= 20
trigger2 = stateno = 1502 & Var(57) >= 20
trigger3 = stateno = 1502 & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*16 <= 65

[State -1, Stand Strong Punch]
type = ChangeState
value = 211
triggerall = Var(58) > 0 & Var(53) = 5 & (Var(56) = 20 || Var(12) = 0)
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = var(12) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*14 <= 54
trigger1 = MoveHit & P2MoveType = H
trigger1 = stateno = 200

;---------------------------------------------------------------------------
;空接地
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = Ifelse((life < 400 || Var(12) = 1),3900,3950)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & Var(53) = 6
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10 = [-40,68]
triggerall = P2MoveType != A
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = [120,140]) || StateNo = 321)
trigger2 = StateNo = [40,41]

[State -1, Crouching Strong Kick]
type = ChangeState
value = 100
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 6 & (Var(56) != 30 || (Var(56) = 30 & Power < 1000))
triggerall = movetype != H & StateType != A & StateNo != 100
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = [120,140]) || StateNo = 321) & P2BodyDist X >= 25

[State -1, Stand Light Punch]
type = ChangeState
value = IfElse(Var(56) = 20,210,200)
triggerall = var(40) != 7 & Var(53) = 6
triggerall = var(58) > 0
triggerall = movetype != H
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2BodyDist X < 35

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3000
triggerall = Var(58) > 0 & Var(53) = 6 & Var(56) = 30
triggerall = power >= 2000
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 0
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3200
triggerall = Var(58) > 0 & Var(53) = 6 & Var(56) = 30
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(3205) = 0
triggerall = var(40) != 7
triggerall = var(12) = 0
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3600
triggerall = Var(58) > 0 & Var(53) = 6 & Var(56) = 30
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(3205) = 0
triggerall = var(40) != 7
triggerall = var(12) = 1
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)

;---------------------------------------------------------------------------
;你已經死了
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1110
triggerall = Var(58) > 0 & Var(53) = 99
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = MoveHit
trigger1 = stateno = 426 & MoveHit >= 7 & Helper(9190),Var(29)%2 !=0
trigger2 = stateno = 420 & Helper(9190),Var(29)%3 !=0

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1120
triggerall = Var(58) > 0 & Var(53) = 99
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = MoveHit
trigger1 = stateno = 426 & MoveHit >= 7 & Helper(9190),Var(29)%2 =0
trigger2 = stateno = 420 & Helper(9190),Var(29)%3 =0

[State -1, Stand Light Punch]
type = ChangeState
value = Ifelse((life < 400 || Var(12) = 1),3900,3950)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & Var(53) = 99
triggerall = var(40) != 7
trigger1 = stateno = 1100 || stateno = 1110 || stateno = 1120
trigger1 = MoveHit

;---------------------------------------------------------------------------
;你已經死了2
[State -1, 1]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 100
trigger1 = 1
sysvar(1) = 1

[State -1, Jump Cancel]
type = ChangeState
value = IfElse(StateNo=100,43,41)
triggerall = Var(58) > 0 & Var(53) = 100
triggerall = statetype != A
trigger1 = stateno = 426
trigger1 = movehit 

[State -1, airdashF]
type = ChangeState
value = 103
triggerall = Var(58) > 0 & Var(53) = 100
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105 & stateno != 103 & stateno != 108 &  stateno != 110
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
trigger1 = Ctrl

[State -1, Jump Strong]
type = ChangeState
value = 600
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 100
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
triggerall = (StateNo = 103 || StateNo = 108 || (StateNo = 50 & Vel X = 0) || (StateNo = [120,140])) & Ctrl
trigger1 = 1

[State -1, Jump Strong]
type = ChangeState
value = 620
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 100
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
triggerall = StateNo = 600 & MoveContact & PrevStateNo != 103
trigger1 = 1

[State -1, Stand Light Punch]
type = ChangeState
value = Ifelse((life < 400 || Var(12) = 1),3900,3950)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & Var(53) = 100
triggerall = var(40) != 7
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = PrevStateNo = 52 & StateType != A
trigger1 = P2StateType != L & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*12 = [-40,70]

;---------------------------------------------------------------------------
;安心信賴壓制

[State -1, Crouching Strong Kick]
type = ChangeState
value = 100
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 7 & Var(56) = 20
triggerall = movetype != H & StateType != A & StateNo != 100
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = [120,140]) || StateNo = 321) & P2StateType = L & P2StateNo != 5120
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = [120,140]) || StateNo = 321) & P2BodyDist X >= 115

[State -1, 1]
type = VarSet
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 7
trigger1 = statetype = A
sysvar(1) = 0

[State -1, 1]
type = VarSet
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 7
trigger1 = statetype != A & Var(56) = 20
trigger2 = statetype != A & Var(56) != 20 & EnemyNear(Var(55)),Vel X < 0 & P2MoveType != H
trigger3 = StateNo = 100
sysvar(1) = 1

[State -1, 1]
type = VarSet
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 7
trigger1 = statetype != A & Var(56) != 20 & P2BodyDist X < 90 & StateNo != 100
sysvar(1) = -1

[State -1, Jump Cancel]
type = ChangeState
value = IfElse(StateNo = 100,43,41)
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 7
triggerall = statetype != A
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo = 5120 & EnemyNear(Var(55)),AnimTime >= -23
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (EnemyNear(Var(55)),PrevStateNo = [5101,5119]) & (P2StateNo != [5101,5119])
trigger2 = P2MoveType != H & EnemyNear(Var(55)),AnimTime >= -23
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & P2StateType != L & P2BodyDist X <= 150


[State -1, Jump Cancel]
type = ChangeState
value = 42
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 7 & NumHelper(9190) > 0
triggerall = sysvar(1) = 1 & Helper(9190),Var(27) > 0
triggerall = (Pos Y+Vel Y*13+Const(movement.yaccel)*78) > 0
triggerall = stateno = 50 & Time > 2
trigger1 = P2StateNo = 5120 & EnemyNear(Var(55)),AnimTime <= -18
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (EnemyNear(Var(55)),PrevStateNo = [5101,5119]) & (P2StateNo != [5101,5119])
trigger2 = P2MoveType != H & EnemyNear(Var(55)),AnimTime <= -18
trigger3 = !((vel Y = [-9,9]) & (pos y != [-50,50]))

[State -1, airdashF]
type = ChangeState
value = 108
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 7
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 103 & stateno != 105 & stateno != 108
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo != [5101,5119]
trigger1 = EnemyNear(Var(55)),AnimTime <= -13 & P2BodyDist X < -30
trigger2 = EnemyNear(Var(55)),AnimTime <= -8 & P2BodyDist X <= -15
trigger3 = P2StateType != A & P2StateType != L & P2BodyDist X <= -15 & (Pos Y+0*14+Const(movement.yaccel)*105) >= 0

[State -1, airdashF]
type = ChangeState
value = 103
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 7
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105 & stateno != 103 & stateno != 108 &  stateno != 110
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo != [5101,5119]
trigger1 = EnemyNear(Var(55)),AnimTime <= -10
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (Pos Y+0*13+Const(movement.yaccel)*78) >= 0 & P2BodyDist X > 0
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & P2StateType != L & (Pos Y+0*14+Const(movement.yaccel)*105) >= 0

[State -1, Jump Strong]
type = ChangeState
value = 620
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 7 & NumHelper(9190) > 0
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (Pos Y+Vel Y*13+Const(movement.yaccel)*78) < 0 || ((Pos Y = [-87,-80]) & Vel Y > 0)
triggerall = P2BodyDist X+Vel X*13-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*13 <= 90 || P2BodyDist X = [-35,20]
triggerall = (StateNo = 103 || StateNo = 108 || (StateNo = 50 & Vel X = 0) || (StateNo = [120,140])) & Ctrl
trigger1 = P2MoveType != H & EnemyNear(Var(55)),AnimTime <= -13 & P2StateNo != [5101,5119]
trigger2 = P2StateType != A & P2StateType != L
trigger3 = Helper(9190),Var(30) > 0

;---------------------------------------------------------------------------
;基本跳起手

[State -1, Jump Strong]
type = ChangeState
value = 620
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 9 & NumHelper(9190) > 0
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
triggerall = !(Var(4) != 0 & Vel X < 0)
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (Pos Y+Vel Y*13+Const(movement.yaccel)*78) < 0 || ((Pos Y = [-87,-80]) & Vel Y > 0)
triggerall = P2BodyDist X+Vel X*13-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*13 <= 70 || P2BodyDist X = [-35,10]
triggerall = (StateNo = 103 || StateNo = 108 || StateNo = 50 || (StateNo = [120,140])) & Ctrl
trigger1 = P2StateType != A & P2StateType != L
trigger2 = Helper(9190),Var(30) > 0
trigger3 = Facing = EnemyNear(Var(55)),Facing

[State -1, 1]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 9
trigger1 = statetype != A & P2BodyDist X >= 100
trigger2 = StateNo = 100
sysvar(1) = 1

[State -1, 1]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 9
trigger1 = statetype != A & P2BodyDist X < 100 & StateNo != 100
sysvar(1) = -1

[State -1, Jump Cancel]
type = ChangeState
value = IfElse(StateNo = 100,43,41)
triggerall = Var(58) > 0 & Var(53) = 9
triggerall = statetype != A
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & P2StateType != L & P2BodyDist X <= 120+30*StateNo=100

[State -1, airdashF]
type = ChangeState
value = 103
triggerall = Var(58) > 0 & Var(53) = 9
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105 & stateno != 103 & stateno != 108 &  stateno != 110
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (Pos Y+0*13+Const(movement.yaccel)*78) >= 0 & P2BodyDist X > 0
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & P2StateType != L & (Pos Y+0*14+Const(movement.yaccel)*105) >= 0

;---------------------------------------------------------------------------
;跳飛道

[State -1, Jump Strong]
type = ChangeState
value = 620
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 10 & NumHelper(9190) > 0
triggerall = stateno != 105
triggerall = !(Var(4) != 0 & Vel X < 0)
triggerall = movetype != H & StateType = A
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (Pos Y+Vel Y*13+Const(movement.yaccel)*78) < 0 || ((Pos Y = [-87,-80]) & Vel Y > 0)
triggerall = P2BodyDist X+Vel X*13-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*13 <= 70 || P2BodyDist X = [-35,10]
triggerall = (StateNo = 103 || StateNo = 108 || StateNo = 50  || (StateNo = [120,140])) & Ctrl
trigger1 = P2StateType != A & P2StateType != L
trigger2 = Helper(9190),Var(30) > 0
trigger3 = Facing = EnemyNear(Var(55)),Facing

[State -1, 1]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 10
trigger1 = 1
sysvar(1) = 1

[State -1, Jump Cancel]
type = ChangeState
value = IfElse(StateNo = 100,43,41)
triggerall = Var(58) > 0 & Var(53) = 10
triggerall = statetype != A
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & P2StateType != L

[State -1, airdashF]
type = ChangeState
value = 108
triggerall = Var(58) > 0 & Var(53) = 10
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 103 & stateno != 105 & stateno != 108
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo != [5101,5119]
trigger1 = P2StateType != A & P2StateType != L & P2BodyDist X <= 0 & (Pos Y+0*14+Const(movement.yaccel)*105) >= 0 

;---------------------------------------------------------------------------
;桌子好朋友

[State -1, Run Fwd]
type = ChangeState
value = 100
triggerall = Var(58) > 0 & Var(53) = 8 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = StateType != A & StateNo != 22 & StateNo != 100 
triggerall = P2StateType != L
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = NumHelper(3205) > 0
trigger1 = Helper(9190),Var(30) = 0 & Helper(3205),Facing = Facing & Helper(3205),RootDist X < -40
trigger2 = NumHelper(3205) > 0
trigger2 = Helper(9190),Var(30) = 0 & Helper(3205),Facing != Facing & Helper(3205),RootDist X > 40
trigger3 = NumHelper(3605) > 0
trigger3 = Helper(9190),Var(30) = 0 & Helper(3605),Facing = Facing & Helper(3605),RootDist X < -70
trigger4 = NumHelper(3605) > 0
trigger4 = Helper(9190),Var(30) = 0 & Helper(3605),Facing != Facing & Helper(3605),RootDist X > 30

[State -1, Run Fwd]
type = ChangeState
value = IfElse(Var(40) = 7,105,22)
triggerall = Var(58) > 0 & Var(53) = 8 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = StateType != A & StateNo != 22 & StateNo != 100 
triggerall = P2StateType != L
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = NumHelper(3205) > 0
trigger1 = Helper(9190),Var(30) = 0 & Helper(3205),Facing = Facing & Helper(3205),RootDist X > 40
trigger2 = NumHelper(3205) > 0
trigger2 = Helper(9190),Var(30) = 0 & Helper(3205),Facing != Facing & Helper(3205),RootDist X < -40
trigger3 = NumHelper(3605) > 0
trigger3 = Helper(9190),Var(30) = 0 & Helper(3605),Facing = Facing & Helper(3605),RootDist X > 35
trigger4 = NumHelper(3605) > 0
trigger4 = Helper(9190),Var(30) = 0 & Helper(3605),Facing != Facing & Helper(3605),RootDist X < -55

[State -1, Run Fwd]
type = ChangeState
value = IfElse(StateNo = 100,101,0)
triggerall = Var(58) > 0 & Var(53) = 8 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = StateType != A
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = Helper(9190),Var(30) = 1
trigger2 = P2MoveType = A
trigger3 = EnemyNear(Var(55)),Facing = Facing
trigger4 = NumHelper(3205) > 0
trigger4 = Helper(3205),StateNo = 3208 || Helper(3205),Var(9) >= 3
trigger5 = NumHelper(3605) > 0
trigger5 = Helper(3605),StateNo = 3208 || Helper(3605),Var(9) >= 3
trigger6 = NumHelper(3205) = 0 & NumHelper(3605) = 0
ctrl = 1

[State -1, Run Fwd]
type = ChangeState
value = IfElse(StateNo = 100,101,0)
triggerall = Var(58) > 0 & Var(53) = 0 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = StateType != A
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) 
trigger1 = StateNo = 22 & Time > 20
trigger2 = StateNo = 100 & Time > 20 & P2MoveType != H
ctrl = 1


;---------------------------------------------------------------------------
;角落無限?連

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 13 & Var(56) < 20
trigger1 = P2StateType = A
v = 56
value = 20

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 13 & P2StateType = A
trigger1 = StateNo = 610
v = 56
value = 25

[State -1, VarSet]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 13 & P2StateType = A
trigger1 = StateNo = 52
v = 56
value = 30

[State -1, Stand Light Punch]
type = ChangeState
value = Ifelse((life < 400 || Var(12) = 1),3900,3950)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & Var(53) = 13
triggerall = var(40) != 7
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*12+Helper(9180),Fvar(0)*78) = [-45,-1]
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*12 = [-40,70]
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = PrevStateNo = 620

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3200
triggerall = Var(58) > 0 & Var(53) = 13
triggerall = fvar(16) >= 750 || (EnemyNear(Var(55)),Pos Y >= -20 & MoveContact=1 & StateNo = 1511)
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(3205) = 0
triggerall = var(40) != 7
triggerall = var(12) = 0
triggerall = MoveContact & P2MoveType = H
trigger1 = StateNo = 426 & MoveContact
trigger2 = stateno = 1501 || stateno = 1511

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3600
triggerall = Var(58) > 0 & Var(53) = 13
triggerall = fvar(16) >= 750
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(3605) = 0
triggerall = var(40) != 7
triggerall = var(12) = 1
triggerall = MoveContact & P2MoveType = H
trigger1 = StateNo = 426 & MoveContact
trigger2 = stateno = 1501 || stateno = 1511

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2410
triggerall = Var(58) > 0 & Var(53) = 13
triggerall = fvar(16) >= 760
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(3205) = 0
triggerall = var(40) != 7
triggerall = var(12) = 1
triggerall = MoveContact & P2MoveType = H
trigger1 = stateno = 1501 || stateno = 1511

[State -1, Stand Strong Punch]
type = ChangeState
value = 210
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 13
triggerall = statetype = S
triggerall = movetype != H
trigger1 = StateNo = 200 & MoveContact

[State -1, Stand Strong Punch]
type = ChangeState
value = 221
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 13
triggerall = statetype = S
triggerall = movetype != H
trigger1 = StateNo = 210 & MoveContact & P2StateType != A

[State -1, Stand Strong Punch]
type = ChangeState
value = 211
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 13
triggerall = statetype = S
triggerall = movetype != H
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 1511 & P2StateType = A
trigger1 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*4+Helper(9180),Fvar(0)*10) >= -80

[State -1, Stand Strong Punch]
type = ChangeState
value = 426
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 13
triggerall = statetype = S
triggerall = movetype != H
triggerall = MoveHit & P2MoveType = H
trigger1 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*11+Helper(9180),Fvar(0)*66) >= -80
trigger1 = stateno = 221
trigger2 = stateno = 1511
trigger2 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*4+Helper(9180),Fvar(0)*10) >= -80

[State -1, 1]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 13
trigger1 = 1
sysvar(1) = 1

[State -1, Jump Cancel]
type = ChangeState
value = IfElse(StateNo = 100,43,41)
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 13
triggerall = statetype != A
trigger1 = stateno = 426 & MoveContact

[State -1, Jump Middle]
type = ChangeState
value = 610
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 13
triggerall = var(20) = 0
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
trigger1 = (Ctrl || (StateNo = [120,140])) & (Pos Y <= -50 || Var(56) >= 30 || EnemyNear(Var(55)),Vel Y >= -0.5)
trigger2 = StateNo = 103 & Ctrl & P2BodyDist Y >= -25
trigger3 = Ctrl & Time > 8

[State -1, Jump Middle]
type = ChangeState
value = 620
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 13
triggerall = var(20) = 0
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
trigger1 = StateNo = 103 & Ctrl & P2BodyDist Y < -25

[State -1, airdashF]
type = ChangeState
value = 103
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 13
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105 & stateno != 103 & stateno != 108 &  stateno != 110
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
trigger1 = StateNo = 610 & MoveContact

[State -1, Jump Strong]
type = ChangeState
value = 620
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 13
triggerall = stateno != 105
triggerall = movetype != H
trigger1 = stateno = 610 & MoveContact

[State -1, Stand Strong Punch]
type = ChangeState
value = 200
triggerall = Var(58) > 0 & Var(53) = 13
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*5 <= 35
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*5+Helper(9180),Fvar(0)*15) = [-30,-1]
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = Var(56) = 30

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1500
triggerall = Var(58) > 0 & Var(53) = 13
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall =  stateno = 210 || (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*12+Helper(9180),Fvar(0)*78) = [-60,-1]
trigger1 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8 > 35
trigger1 = stateno = 210 & P2StateType = A
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger2 = Var(56) = 30
trigger3 = stateno = 210 & P2StateType = A & Var(56) = 30

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1510
triggerall = Var(58) > 0 & Var(53) = 13
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 1501
trigger2 = stateno = 1502



;---------------------------------------------------------------------------
;防住脫離
[State -1, Jump Cancel]
type = ChangeState
value = IfElse(StateNo = 100,43,41)
triggerall = Var(58) > 0 & Var(53) = 12 & Var(56) = 30
triggerall = statetype != A
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType = A
trigger1 = P2BodyDist X > 110

[State -1, 1]
type = VarSet
triggerall = Var(58) > 0 & Var(53) = 12 & Var(56) = 30
trigger1 = 1
sysvar(1) = 1

[State -1, Jump Cancel]
type = ChangeState
value = IfElse(StateNo = 100,43,41)
triggerall = Var(58) > 0 & Var(53) = 12 & Var(56) = 30
triggerall = statetype != A
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType = A & P2BodyDist X <= 110

[State -1, Jump Light]
type = ChangeState
value = 600
triggerall = var(40) != 7
triggerall = Var(58) > 0 & Var(53) = 12 & Var(56) = 30
triggerall = movetype != H
triggerall = stateno != 105
trigger1 = statetype = A & (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateNo != 103
trigger1 = Time > 3 || (StateNo = [120,140]) || (PrevStateNo = 45 & Time >= 1)
trigger2 = stateno = 600 & statetime >= 7 & StateNo != 103

;---------------------------------------------------------------------------
;防反 脫離
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2000
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(40) != 7
triggerall = power >= 3000 -1000*(Life <= 500) -1000*(Life <= 300)
triggerall = statetype != A
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (Helper(9190),Var(34) = 1 & EnemyNear(Var(55)),MoveContact = 0) || Helper(9190),Var(34) = 0 || (Helper(9190),Fvar(19) = 1 & Helper(9190),Fvar(15) = 0)
triggerall = Helper(9190),Var(30) = 0
trigger1 = (stateno = [151,155]) & Random <= 200-100*(P2StateType = A)-80*(EnemyNear(Var(55)),Vel Y < 0)
trigger1 = P2StateType != L & P2MoveType = A & P2BodyDist Y >= -70 & P2BodyDist X = [0,95]
trigger1 = EnemyNear(Var(55)),AnimTime <= -2

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2100
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(40) != 7
triggerall = life >= 1
triggerall = power >= 2000 
triggerall = Helper(9190),Fvar(15) = 0 || Random <= 1
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (StateNo != [5100,5111]) & StateType != L
trigger1 = stateno = [5000,5200]
trigger1 = EnemyNear(Var(55)),AnimTime <= -10 & P2BodyDist X = [-75,75]
trigger1 = (Life < 200 & GetHitVar(hitcount) >= 5) || (Life < 500 & GetHitVar(hitcount) >= 15) || (Life < 1000 & GetHitVar(hitcount) >= 32)
trigger1 = Random <= 150+350*(EnemyNear(Var(55)),MoveContact = 0 & StateType != A)-150*(Helper(9190),Fvar(15) = 1)
trigger2 = stateno = [5000,5200]
trigger2 = Random <= 1 & StateType != L & Time < 3
;---------------------------------------------------------------------------
;耍腦用

;桌子補血
[State -1]
type = ChangeState
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = StateNo = 3200 & Time >= 66 & Power >= 500
triggerall = Helper(9190),Var(0) != 0
triggerall = !(P2BodyDist X <= 100 & P2StateNo < 200)
trigger1 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) < -125) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) > 125) ;非版邊
trigger1 = var(40) != 7  & Life < 500 & fvar(16) != 800
trigger1 = P2MoveType = H & (P2StateNo != [120,199]) & P2StateType = A & NumHelper(3260) = 0
trigger2 = var(40) != 7  & Life < 500 & fvar(16) != 800
trigger2 = P2MoveType = I & P2StateType = A & (P2BodyDist Y <= -175 || P2BodyDist X > 225) & NumHelper(3260) = 0
trigger3 = var(40) != 7  & Life < 500 & (fvar(16) != 800 || P2BodyDist X > 225 || P2StateType = L)
trigger3 = NumHelper(3260) = 0 & (P2MoveType != H || P2StateType = L)
value = 3250

;一閃
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse(Var(12) = 1,3700,3100)
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) != 12
triggerall = var(40) != 7
triggerall = power >= 1000
triggerall = movetype != H
triggerall = statetype != A & P2StateType != L
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = A & P2BodyDist X <= Helper(9190),Fvar(12) & EnemyNear(Var(55)),AnimTime <= -60
trigger2 = P2MoveType = A & Helper(9190),Fvar(18) > 0 & (EnemyNear(Var(55)),AnimTime <= -50 || (EnemyNear(Var(55)),Time > 30 & EnemyNear(Var(55)),AnimTime <= -20))
trigger3 = P2MoveType = A & PrevStateNo = 5120 & EnemyNear(Var(55)),Time >= 25
trigger3 = !(P2StateType = A & P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+Helper(9180),Fvar(0)*55 >= 0)
trigger4 = P2MoveType = A & EnemyNear(Var(55)),AnimTime <= -20 & EnemyNear(Var(55)),PrevStateNo = [5000,5999]
trigger4 = EnemyNear(Var(55)),MoveContact = 0
trigger5 = PrevStateNo = 2621 & ((P2MoveType = A & Random <= 100) || (P2BodyDist X >= 100 & Random <= P2BodyDist X))
trigger5 = !(EnemyNear(Var(55)),Pos Y < -50 & EnemyNear(Var(55)),Vel X = 0)
trigger6 = P2MoveType = H & P2StateType != A & P2StateType != L & StateNo = 321 & Time > 19 & Var(53) = 0
trigger7 = PrevStateNo = 52 & P2MoveType = A & EnemyNear(Var(55)),AnimTime <= -20 & Random <= 70 & Power >= 2000 
trigger8 = P2MoveType = A & (Helper(9180),Var(18) = [1,4]) & EnemyNear(Var(55)),AnimTime <= -30 & P2StateType = A & P2BodyDist X >= 200 & Random <= P2BodyDist X

;胡桃與她愉快的夥伴
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3500
triggerall = Var(58) > 0
triggerall = var(12)  = 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & RoundNo > 1
trigger1 = NumEnemy = 1
trigger1 = EnemyNear(Var(55)),Alive = 0
trigger2 = NumEnemy = 2
trigger2 = Enemy(0),Alive = 0 & Enemy(1),Alive = 0

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3500
triggerall = Var(58) > 0 & NumHelper(9190) & NumHelper(9180)
triggerall = var(12)  = 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & Life < 400
trigger1 = EnemyNear(Var(55)),HitDefAttr = SCA,AT & P2BodyDist X < Helper(9190),Fvar(12)
trigger2 = P2MoveType = A & P2BodyDist X <= Helper(9190),Fvar(12) & EnemyNear(Var(55)),AnimTime <= -30 & (EnemyNear(Var(55)),Power = 0 || Random <= 70)
trigger3 = P2MoveType = A & (PrevStateNo = [140,154]) & EnemyNear(Var(55)),MoveContact = 0
trigger4 = (Helper(9180),Var(31) = [1,4]) & InGuardDist & EnemyNear(Var(55)),NumHelper + EnemyNear(Var(55)),NumProj > 10
trigger5 = PrevStateNo = 5120 & P2MoveType = A & EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime >= 90 & EnemyNear(Var(55)),Time > 32
trigger6 = Helper(9190),Var(37) = -1
trigger7 = P2MoveType = A & EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime > 90 & EnemyNear(Var(55)),Time <= 32
trigger8 = P2MoveType != H & Random <= 5+250*Helper(9190),Var(37) = -1
trigger9 = RoundNo = 3 & Fvar(16) = 800 & Random <= 100
trigger9 = (Life <= 200 & EnemyNear(Var(55)),Life > 350) || (Life >= 990 & EnemyNear(Var(55)),Life > 900)

;跳背了
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1520
triggerall = Var(58) > 0 & statetype != A & NumHelper(9190) > 0 & (Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10)
triggerall = movetype != H
triggerall = var(40) != 7
triggerall = Helper(9190),FVar(16) = 0
triggerall = Helper(9190),FVar(17) = 0
triggerall = P2BodyDist X <= 45
trigger1 = Facing != EnemyNear(Var(55)),Facing
trigger1 = StateType = A & Ctrl & P2BodyDist Y = [65,135]
trigger1 = P2BodyDist X <= 45 & P2BodyDist Y = [65,135]
trigger1 = P2MoveType = A & P2StateType != C & EnemyNear(Var(55)),Time <= 2 & Time > 2
trigger2 = StateType = A & Ctrl
trigger2 = Helper(9190),FVar(14) = 1 & P2StateType = A & P2BodyDist Y > 0 & Random <= 50

;---------------------------------------------------------------------------
;雙打情況

;雙打撿頭
[State -1]
type = ChangeState
value = Ifelse((life < 400 || Var(12) = 1),3900,3950)
triggerall = fvar(16) = 800 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30))
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = NumPartner > 0
triggerall = Partner,Alive
triggerall = P2StateType != L & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*12 = [-40,60]
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = H & Partner,MoveType = A & Partner,MoveHit
trigger1 = P2StateType != A & P2StateNo != [120,155]

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3000
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9180) > 0 & NumHelper(9190) > 0
triggerall = power >= 2000 || (EnemyNear(Var(55)),Life < 300 & power >= 1000)
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7 & P2BodyDist X <= 450
triggerall = var(12) = 0 & NumPartner > 0
triggerall = Partner,Alive
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = EnemyNear(Var(55)),Facing = Facing & Partner,P2BodyDist X+30 < P2BodyDist X
trigger1 = P2MoveType = A & P2BodyDist X >= 175 & P2StateNo >= 200 & Random <= 175

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse(Var(12) = 1,3700,3100)
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & (Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10 || (Var(53) = 12 & Var(56) = 30))
triggerall = var(40) != 7
triggerall = power >= 1000
triggerall = movetype != H
triggerall = statetype != A & P2StateType != L
triggerall = Helper(9190),Var(32)%3 != 0 ;非鋼體
triggerall = NumPartner > 0
triggerall = Partner,Alive
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = A & P2StateType != A & EnemyNear(Var(55)),MoveContact & Partner,MoveType = H
trigger2 = EnemyNear(Var(55)),Facing = Facing & Partner,P2BodyDist X+30 < P2BodyDist X
trigger2 = P2MoveType = I & P2BodyDist X >= 125 & Random <= 175
trigger3 = EnemyNear(Var(55)),Facing = Facing & Partner,P2BodyDist X+30 < P2BodyDist X
trigger3 = P2MoveType = A & P2BodyDist X >= 175 & P2StateNo >= 200 & Var(12) = 1 & Random <= 100
trigger4 = P2MoveType = H & P2StateType = A & EnemyNear(Var(55)),Vel Y = 0 & (P2StateNo != [5000,5999]) & P2BodyDist X >= 175 & P2StateNo >= 200 & Var(12) = 0 & Random <= 200
trigger4 = Partner,MoveType = A & P2BodyDist Y >= -45

[State -1, Stand Strong Punch]
type = ChangeState
value = 210
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 6 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9180) > 0
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*9 <= 60
triggerall = NumPartner > 0
triggerall = Partner,Alive
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing = EnemyNear(Var(55)),Facing
trigger1 = P2MoveType = A & P2StateType != A & Partner,MoveType = H

[State -1, Stand Strong Punch]
type = ChangeState
value = 200
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*5 <= 35
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*5+Helper(9180),Fvar(0)*15) = [-30,-1]
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A
trigger1 = P2MoveType = H & P2StateType != A & Partner,MoveType = A

;---------------------------------------------------------------------------

;跳下段

[State -1, 1]
type = VarSet
triggerall = Var(58) > 0 & statetype != A & (Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10)
triggerall = P2MoveType != H & Var(54) != 1000 & P2StateNo != 105
triggerall = ((Helper(9180),Var(31) = 0 || Helper(9180),Var(31) = 5) & Helper(9190),FVar(19) = 0)
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(16) = 0
triggerall = Helper(9190),FVar(17) = 0
trigger1 = P2StateType = S
trigger1 = (P2BodyDist X = [30,180])
trigger2 = P2StateType = C
trigger2 = (P2BodyDist X = [30,180])
sysvar(1) = 1

[State -1]
type = ChangeState
value = IfElse(StateNo=100,43,41)
triggerall = Var(58) > 0 & statetype != A & (Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10)
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
triggerall = (Helper(9180),Var(31) = 0 || Helper(9180),Var(31) = 5)
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(15) = 0
triggerall = Helper(9190),FVar(16) = 0
triggerall = Helper(9190),FVar(17) = 0
triggerall = Helper(9190),FVar(19) = 0
triggerall = Helper(9190),Var(33) = 0
triggerall = P2MoveType = I || (P2MoveType = A & Var(54) = 1010) || (P2MoveType = A & EnemyNear(Var(55)),Time < 8 & Helper(9190),Fvar(11) > 8)
trigger1 = P2StateType = S & (PrevStateNo < 200 || PrevStateNo = 321) & P2MoveType != H
trigger1 = P2BodyDist X <= 180 & Random <= 20 & EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime < 32
trigger2 = P2StateType = C & (PrevStateNo < 200 || PrevStateNo = 321) & P2MoveType != H
trigger2 = P2BodyDist X <= 180 & Random <= 100

;抓技專用
[State -1]
type = ChangeState
value = 1210
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8) & StateType != A & NumHelper(9190) > 0
triggerall = var(40) != 7
triggerall = !(PrevStateNo = 5120 & Time < 11) ;起身對投無敵
triggerall = EnemyNear(Var(55)),HitDefAttr = SCA,AT || (Var(54) = 800 & EnemyNear(Var(55)),MoveContact = 0 & Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time <= 10)
triggerall = !(EnemyNear(Var(55)),Facing = Facing & EnemyNear(Var(55)),P2Dist X < 0);對手背對
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = A & P2BodyDist X <= 50 & EnemyNear(Var(55)),AnimTime >= -13 & Random <= 200
trigger2 = Helper(9190),Fvar(14) = 1
trigger2 = P2MoveType = A & Helper(9190),var(30) > 0
trigger3 = NumHelper(1400) > 0 & P2MoveType = A & EnemyNear(Var(55)),Facing = Facing & P2BodyDist X <= 50
[State -1]
type = ChangeState
value = 1210
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8) & StateType != A & NumHelper(9190) > 0
triggerall = var(40) != 7
triggerall = !(PrevStateNo = 5120 & Time < 11) ;起身對投無敵
triggerall = (Var(54) = 801 & EnemyNear(Var(55)),Time <= 1) || (Var(54) = 801 & P2StateNo < 200) || (Var(54) = 802 & Var(53) != 4) || (Helper(9190),FVar(14) = 1 & P2BodyDist X <= 20)
triggerall = !(EnemyNear(Var(55)),Facing = Facing & EnemyNear(Var(55)),P2Dist X < 0);對手背對
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = A & P2BodyDist X <= 50 & EnemyNear(Var(55)),AnimTime >= -13 & Random <= 200
trigger2 = Helper(9190),Fvar(14) = 1
trigger2 = P2MoveType = A & Helper(9190),var(30) > 0
trigger3 = NumHelper(1400) > 0 & P2MoveType = A & EnemyNear(Var(55)),Facing = Facing & P2BodyDist X <= 50

[State -1]
type = ChangeState
value = 1300
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8) & NumHelper(9190) > 0
triggerall = var(40) != 7
triggerall = !(PrevStateNo = 5120 & Time < 11) ;起身對投無敵
triggerall = EnemyNear(Var(55)),HitDefAttr = SCA,AT || (Var(54) = 800 & EnemyNear(Var(55)),MoveContact = 0 & Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time <= 10)
triggerall = !(EnemyNear(Var(55)),Facing = Facing & EnemyNear(Var(55)),P2Dist X < 0);對手背對
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
triggerall = P2BodyDist Y <= 50 
trigger1 = P2MoveType = A & P2BodyDist X <= 50 & EnemyNear(Var(55)),AnimTime <= -7 & Random <= 333+999*(PrevStateNo = 5120)
trigger2 = Helper(9190),Fvar(14) = 1
trigger2 = P2MoveType = A & Helper(9190),var(30) > 0
[State -1]
type = ChangeState
value = 1300
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8) & NumHelper(9190) > 0
triggerall = var(40) != 7
triggerall = !(PrevStateNo = 5120 & Time < 11) ;起身對投無敵
triggerall = (Var(54) = 801 & EnemyNear(Var(55)),Time <= 1) || (Var(54) = 801 & P2StateNo < 200) || (Var(54) = 802 & Var(53) != 4) || (Helper(9190),FVar(14) = 1 & P2BodyDist X <= 20)
triggerall = !(EnemyNear(Var(55)),Facing = Facing & EnemyNear(Var(55)),P2Dist X < 0);對手背對
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
triggerall = P2BodyDist Y <= 50 
trigger1 = P2MoveType = A & P2BodyDist X <= 50 & EnemyNear(Var(55)),AnimTime <= -7 & Random <= 333+999*(PrevStateNo = 5120)
trigger2 = Helper(9190),Fvar(14) = 1
trigger2 = P2MoveType = A & Helper(9190),var(30) > 0

[State -1]
type = ChangeState
value = 105
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8) & StateType != A & NumHelper(9190) > 0
triggerall = P2StateType != A & Var(53) != 14
triggerall = !(PrevStateNo = 5120 & Time < 11) ;起身對投無敵
triggerall = EnemyNear(Var(55)),HitDefAttr = SCA,AT || (Var(54) = 800 & EnemyNear(Var(55)),MoveContact = 0 & Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time <= 10)
triggerall = Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time <= 8 || (Helper(9190),Fvar(11) = 0 & EnemyNear(Var(55)),Time <= 4)
triggerall = (BackEdgeBodyDist >= 30 & EnemyNear(Var(55)),AnimTime <= -5) || EnemyNear(Var(55)),AnimTime <= -20
triggerall = !(EnemyNear(Var(55)),Facing = Facing & EnemyNear(Var(55)),P2Dist X < 0);對手背對
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = A & Vel X <= 0 & P2BodyDist X <= 75
[State -1]
type = ChangeState
value = 105
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8) & StateType != A & NumHelper(9190) > 0
triggerall = P2StateType != A & Var(53) != 14
triggerall = !(PrevStateNo = 5120 & Time < 11) ;起身對投無敵
triggerall = (Var(54) = 801 & EnemyNear(Var(55)),Time <= 1) || (Var(54) = 801 & P2StateNo < 200) || (Var(54) = 802 & Var(53) != 4) || (Helper(9190),FVar(14) = 1 & P2BodyDist X <= 20)
triggerall = Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time <= 8 || (Helper(9190),Fvar(11) = 0 & EnemyNear(Var(55)),Time <= 4)
triggerall = (BackEdgeBodyDist >= 30 & EnemyNear(Var(55)),AnimTime <= -5) || EnemyNear(Var(55)),AnimTime <= -20
triggerall = !(EnemyNear(Var(55)),Facing = Facing & EnemyNear(Var(55)),P2Dist X < 0);對手背對
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2MoveType = A & Vel X <= 0 & P2BodyDist X <= 75

;冷戰

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1400
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10 || (Var(53) = 12 & Var(56) = 30))
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 0
triggerall = numhelper(1400) = 0
triggerall = (Helper(9180),Var(31) = 0 || Helper(9180),Var(31) = 5)
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(15) = 0
triggerall = Helper(9190),FVar(16) = 0
triggerall = Helper(9190),FVar(17) = 0
triggerall = Helper(9190),FVar(19) = 0
trigger1 = (stateno = 130 || stateno = 131) & Random <= 100
trigger1 = Time > 13 & (PrevStateNo != [150,153]) & P2BodyDist X = [30,200]
trigger1 = EnemyNear(Var(55)),Vel X = 0 & EnemyNear(Var(55)),StateType != A & EnemyNear(Var(55)),MoveType = A
trigger1 = EnemyNear(Var(55)),PrevStateNo >= 200

;當身一擊
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 4000
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10) & NumHelper(9180) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
triggerall = fvar(16) = 800
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & Helper(9190),Var(30) = 0
triggerall = !(EnemyNear(Var(55)),Facing = Facing & NumHelper(1400) > 0 & (PrevStateNo != [5000,5019]))
triggerall = EnemyNear(Var(55)),HitDefAttr != SCA,HA
triggerall = EnemyNear(Var(55)),HitDefAttr != SCA,AP,AT
triggerall = Helper(9190),Fvar(19) = 0
triggerall = EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime < 36
trigger1 = P2BodyDist X <= 90 || P2BodyDist X < Helper(9190),Fvar(12)
trigger1 = P2MoveType = A & P2StateType != C & EnemyNear(Var(55)),PrevStateNo = [120,154]
trigger2 = (P2BodyDist X <= 90 || P2BodyDist X < Helper(9190),Fvar(12)) & Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time = [0,30]
trigger2 = P2BodyDist X <= Helper(9190),Fvar(12) & ((P2StateType != C & Var(54) != 1050) || (P2StateType = C & Var(54) = 1025))
trigger2 = P2MoveType = A & Random <= 250+250*Life<500+999*Life<333
trigger3 = (Helper(9190),Fvar(18) > 0 & Helper(9190),Fvar(19) = 0 & P2StateType = S)
trigger3 = Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time = [0,30]
trigger4 = (PrevStateNo = [140,154]) & P2MoveType = A & P2StateType != C & EnemyNear(Var(55)),MoveContact = 0
trigger4 = P2BodyDist X < Helper(9190),Fvar(12) || Random <= 125+999*Life<333
;直接猜
trigger5 = (Life >= 995 || Life < 200 || PrevStateNo = 5120 || (PrevStateNo = [1110,1120])) & P2MoveType = A & P2StateType = S & EnemyNear(Var(55)),MoveContact = 0
trigger5 = P2BodyDist X < Helper(9190),Fvar(12) || (P2BodyDist X <= 125 & Helper(9190),Fvar(12) = 0)

;主動(對空)
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1210
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10 || (Var(53) = 12 & Var(56) = 30))
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = (EnemyNear(Var(55)),Pos Y+EnemyNear(Var(55)),Vel Y*13+Helper(9180),Fvar(0)*91) > 0 & (EnemyNear(Var(55)),Pos Y+EnemyNear(Var(55)),Vel Y*10+Helper(9180),Fvar(0)*55) < 0
triggerall = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*13) = [0,40]
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = !(P2StateNo > 200 & P2MoveType = I) & !(P2StateNo != 50 & EnemyNear(Var(55)),Vel Y = 0)
trigger1 = P2StateType = A & P2MoveType != H & Random <= 333

[State -1, Stand Strong Punch]
type = ChangeState
value = 211
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*14 <= 70
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*14+Helper(9180),Fvar(0)*105) = [-35,-1]
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = S & P2MoveType = H & P2StateNo = [5030,5071]

[State -1, Stand Strong Punch]
type = ChangeState
value = 200
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*5 <= 35
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*5+Helper(9180),Fvar(0)*15) = [-30,-1]
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = S & P2MoveType = H & P2StateNo = [5030,5071]
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = S & P2MoveType != H & Random <= 70
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger3 = NumProjID(111) > 0 & P2MoveType = H

[State -1, Stand Strong Punch]
type = ChangeState
value = 1500
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*12 = [35,90]
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*12+Helper(9180),Fvar(0)*78) = [-60,-1]
triggerall = Random <= 125
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2MoveType = H & P2StateNo = [5030,5071]
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2MoveType != H
trigger3 = StateNo = 210 & MoveHit & P2StateType = A
trigger4 = StateNo = 221 & MoveHit & P2StateType = A & P2BodyDist X <= 55

;吊反擊
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1200
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10 || (Var(53) = 12 & Var(56) = 30))
triggerall = movetype != H & NumHelper(9190) > 0 & NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = Helper(9180),Var(31) = 0
triggerall = Helper(9190),FVar(15) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),FVar(19) = 0
triggerall = Helper(9190),FVar(23) = 0
triggerall = Helper(9180),Var(40) > 0 || Helper(9185),Var(40) > 0
triggerall = P2BodyDist X = [0,50]
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2StateNo < 200 & EnemyNear(Var(55)),Vel X = 0 & P2MoveType = I & P2StateType != A & P2StateType != L & Random <= 300
trigger2 = P2StateNo >= 200 & EnemyNear(Var(55)),Vel X = 0 & P2MoveType = I & P2StateType != A & P2StateType != L & Random <= 100

;主動
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3000
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9180) > 0 & NumHelper(9190) > 0
triggerall = power >= 2000 || (EnemyNear(Var(55)),Life < 300 & power >= 1000)
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 0 & P2BodyDist X <= 450
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = NumHelper(1400) > 0
trigger1 = P2MoveType = A & P2BodyDist X >= 175 & EnemyNear(Var(55)),AnimTime <= -18 & Random <= 100
trigger2 = Helper(9190),Var(30) > 0
trigger2 = P2MoveType != H & P2StateType != A & P2StateType != L & P2BodyDist X >= 175 & Random <= 50
trigger3 = P2MoveType != H & P2StateType != A & P2StateType != L & P2BodyDist X >= 150 & Random <= 20+50*(P2MoveType = A)+200*(PrevStateNo = [140,154])
trigger3 = !(P2StateNo < 200 & PrevStateNo != [120,154])
trigger3 = ((PrevStateNo != [140,154]) & (Helper(9180),Var(31) = [1,4])) || ((PrevStateNo = [140,154]) & (Helper(9180),Var(31) != [1,4]))

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1210
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10 || (Var(53) = 12 & Var(56) = 30))
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*13 = [0,50]
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2StateType != A & P2StateType != L
trigger1 = ((EnemyNear(Var(55)),PrevStateNo = [5030,5071]) & (P2StateNo != [5030,5071]))
trigger1 = EnemyNear(Var(55)),AnimTime >= -13 & Random <= 70-50*(Helper(9190),Var(32)=5)
trigger2 = P2StateNo = 5120
trigger2 = EnemyNear(Var(55)),AnimTime >= -13 & Random <= 70-50*(Helper(9190),Var(32)=5)
trigger3 = NumProjID(111) > 0 & P2MoveType != H & P2StateType != A & P2StateType != L

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1400
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9180) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 0
triggerall = numhelper(1400) = 0
triggerall = Helper(9180),Var(31) = 0
triggerall = !(P2StateType = A & EnemyNear(Var(55)),Vel X > 0 && P2StateNo != [5000,5999])
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = PrevStateNo = 420 
trigger1 = P2StateType = L & P2StateNo != 5120 || (P2StateType != L & (EnemyNear(Var(55)),PrevStateNo = [5101,5119]) & (P2StateNo != [5101,5119]))
trigger2 = StateNo = 220 & MoveGuarded & Random <= 70
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || StateNo = 321) & ((PrevStateNo = 52) || (PrevStateNo = 3000)) & P2BodyDist X > 90 & P2MoveType = H & P2StateType != S & P2StateType != C
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger4 = ((EnemyNear(Var(55)),PrevStateNo = [5030,5071]) & (P2StateNo != [5030,5071]))
trigger5 = StateNo = 321 & Time > 10 & Random <= 75
trigger6 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || StateNo = 321) & P2StateNo < 200 & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*20 >= 175
trigger6 = Random <= 50+225*(P2BodyDist X >= 130 & EnemyNear(Var(55)),Vel X<=0)
trigger7 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger7 = (P2StateNo = [5030,5071]) & P2BodyDist X >= 150

[State -1, 0]
type = ChangeState
value = 980
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30))
triggerall = var(40) != 7 & StateType != A
triggerall = Numhelper(2990) = 0
triggerall = P2MoveType != H & EnemyNear(Var(55)),Vel Y = 0
triggerall = (P2StateType = S & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X = [0,35]) || (P2StateType = C & P2BodyDist X = [0,35]) || (P2BodyDist X < 35 & BackEdgeBodyDist < 20) 
triggerall = P2StateNo != [5000,5020]
triggerall = P2StateNo != [5200,5211]
triggerall = P2StateNo != [140, 153]
triggerall = Helper(9190),Fvar(14) = 0
triggerall = Helper(9190),Fvar(15) = 0
triggerall = !(EnemyNear(Var(55)),Time < 2 & EnemyNear(Var(55)),PrevStateNo = [140, 154])
triggerall = (P2StateNo != [105,106]) & (P2StateNo != [140,153]) & !(P2MoveType = A & PrevStateNo = [5000,5199]) & !(P2MoveType = I & P2StateType != A & P2StateNo >= 200 & IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X > 3) ;會抓空的
triggerall = !(P2MoveType = I & P2StateType != A & P2StateNo >= 200 & IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X > 3) ;翻滾OR無敵位移
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
triggerall = Helper(9190),Var(32)%3 != 0 ;非鋼體
trigger1 = EnemyNear(Var(55)),AnimTime = [-10,-7]
trigger1 = EnemyNear(Var(55)),StateNo >= 200 & Random <= 25+300*EnemyNear(Var(55)),MoveContact
trigger2 = P2MoveType = I & ((EnemyNear(Var(55)),Ctrl = 0 & P2StateNo > 200 & Random <= 70) || (EnemyNear(Var(55)),StateNo < 199 & Random <= 50) || (EnemyNear(Var(55)),StateNo = 52 & Random <= 125))
trigger3 = Helper(9190),Fvar(16) = 1
trigger4 = Facing = EnemyNear(Var(55)),Facing & NumHelper(1400) > 0 & P2MoveType != A

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1200
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
trigger1 = (P2StateNo = [120, 153]) & P2MoveType = H
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (StateNo = 52 || PrevStateNo = 52) & P2BodyDist X <= 40
trigger2 = Helper(9190),Var(30) > 0 & (P2StateNo < 200 || P2MoveType = I)
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & (StateNo = 52 || PrevStateNo = 52) & P2BodyDist X <= 40
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing = EnemyNear(Var(55)),Facing & P2BodyDist X <= 45
trigger3 = NumHelper(1400) > 0 & P2MoveType = I
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing != EnemyNear(Var(55)),Facing & P2BodyDist X <= 40
trigger4 = NumHelper(1400) > 0 & P2MoveType = I & Random <= 200-150*(P2StateNo < 200)

[State -1, Stand Strong Punch]
type = ChangeState
value = 420
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*14 = [50,95]
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo < 200 & P2StateType != A & P2MoveType != A 
trigger1 = NumHelper(1400) > 0 & Random <= 80-70*PrevStateNo = 420
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing != EnemyNear(Var(55)),Facing
trigger2 = NumHelper(1400) > 0 & Random <= 100-70*PrevStateNo = 420+300*StateNo=100
trigger3 = PlayerIDExist(Helper(9190),var(45))
trigger3 = PlayerID(Helper(9190),Var(45)),Vel Y <= 0 & PlayerID(Helper(9190),Var(45)),Vel X > 1 & PlayerID(Helper(9190),Var(45)),MoveType = A & PlayerID(Helper(9190),Var(45)),MoveContact = 0
trigger3 = PlayerID(Helper(9190),Var(45)),Facing != Facing & PlayerID(Helper(9190),Var(45)),Pos Y < -30 & PlayerID(Helper(9190),Var(45)),Time < EnemyNear(Var(55)),Time
trigger3 = P2StateNo > 200 & P2MoveType != H & P2StateType != A & EnemyNear(Var(55)),AnimTime <= -10
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger4 = NumProjID(111) > 0 & P2MoveType = H & P2StateType != A

[State -1, Stand Strong Punch]
type = ChangeState
value = 410
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 6 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9180) > 0
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*9 <= 30
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo < 200 & P2StateType != A & P2MoveType != A 
trigger1 = NumHelper(1400) > 0 & Random <= 80+300*StateNo=100
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing != EnemyNear(Var(55)),Facing
trigger2 = NumHelper(1400) > 0 & Random <= 200+300*StateNo=100
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing = EnemyNear(Var(55)),Facing
trigger3 = NumHelper(1400) > 0 & P2MoveType = A
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger4 = NumHelper(1400) = 0 & P2MoveType = A & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),MoveContact & EnemyNear(Var(55)),AnimTime = [-13,-9] 

[State -1, Stand Strong Punch]
type = ChangeState
value = 210
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 6 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9180) > 0
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*9 <= 60
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo < 200 & P2StateType != A & P2MoveType != A 
trigger1 = NumHelper(1400) > 0 & Random <= 80+300*StateNo=100
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing != EnemyNear(Var(55)),Facing
trigger2 = NumHelper(1400) > 0 & Random <= 200+300*StateNo=100
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing = EnemyNear(Var(55)),Facing
trigger3 = NumHelper(1400) > 0 & P2MoveType = A
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger4 = P2StateType = A & P2MoveType = A & (EnemyNear(Var(55)),MoveContact || EnemyNear(Var(55)),MoveReversed || EnemyNear(Var(55)),P2BodyDist X < 0)
trigger4 = (EnemyNear(Var(55)),Pos Y+EnemyNear(Var(55)),Vel Y*9+Helper(9180),Fvar(0)*45) >= 0
trigger5 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger5 = NumProjID(111) > 0 & P2MoveType = H & P2StateType != A
trigger6 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger6 = NumHelper(1400) = 0 & P2MoveType = A & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),MoveContact & EnemyNear(Var(55)),AnimTime = [-16,-9] 

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1120
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & EnemyNear(Var(55)),Vel X = 0 
triggerall = Helper(9180),var(31) != [3,4]
trigger1 = NumHelper(1400) > 0 & Helper(9190),Var(36) = -1 & P2BodyDist X = [100,200]
trigger2 = P2StateType != A & P2MoveType = I & Power >= 1000 & Random <= 125
trigger2 = P2BodyDist X = [90,185]

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1100
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & EnemyNear(Var(55)),Vel X = 0 
triggerall = Helper(9180),var(31) != [3,4]
trigger1 = P2StateType = S & P2MoveType = A & EnemyNear(Var(55)),AnimTime <= -16 & (P2BodyDist X = [90,120]) & Random <= 60-30*Var(12) = 1
trigger2 = NumHelper(1400) > 0 & Helper(9190),Var(36) = -1 & P2BodyDist X = [70,130]
trigger3 = PlayerIDExist(Helper(9190),var(45)) & Random <= 55-30*Var(12) = 1
trigger3 = PlayerID(Helper(9190),Var(45)),Vel Y <= 0 & PlayerID(Helper(9190),Var(45)),Vel X > 1 & PlayerID(Helper(9190),Var(45)),MoveType = A & PlayerID(Helper(9190),Var(45)),MoveContact = 0
trigger3 = PlayerID(Helper(9190),Var(45)),Facing != Facing & PlayerID(Helper(9190),Var(45)),Pos Y < -30 & PlayerID(Helper(9190),Var(45)),Time < EnemyNear(Var(55)),Time
trigger3 = P2StateNo > 200 & P2MoveType != H & P2StateType != A & EnemyNear(Var(55)),AnimTime <= -17 & P2BodyDist X = [90,120]
trigger4 = P2StateType != A & P2MoveType = I & Power >= 1000 & NumHelper(3205) = 0 & NumHelper(3605) = 0 & Random <= 33
trigger4 = P2BodyDist X = [100,120]

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1110
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & EnemyNear(Var(55)),Vel X = 0 
triggerall = Helper(9180),var(31) != [3,4]
trigger1 = P2StateType = S & P2MoveType = A & EnemyNear(Var(55)),AnimTime <= -20 & (P2BodyDist X = [165,195]) & Random <= 30-20*Var(12) = 1
trigger2 = NumHelper(1400) > 0 & Helper(9190),Var(36) = -1 & P2BodyDist X = [100,200]
trigger3 = PlayerIDExist(Helper(9190),var(45)) & Random <= 40-20*Var(12) = 1
trigger3 = PlayerID(Helper(9190),Var(45)),Vel Y <= 0 & PlayerID(Helper(9190),Var(45)),Vel X > 1 & PlayerID(Helper(9190),Var(45)),MoveType = A & PlayerID(Helper(9190),Var(45)),MoveContact = 0
trigger3 = PlayerID(Helper(9190),Var(45)),Facing != Facing & PlayerID(Helper(9190),Var(45)),Pos Y < -30 & PlayerID(Helper(9190),Var(45)),Time < EnemyNear(Var(55)),Time
trigger3 = P2StateNo > 200 & P2MoveType != H & P2StateType != A & EnemyNear(Var(55)),AnimTime <= -20 & P2BodyDist X = [130,195]
trigger4 = P2StateType != A & P2MoveType = I & Power >= 1000 & NumHelper(3205) = 0 & NumHelper(3605) = 0 & Random <= 33
trigger4 = P2BodyDist X = [150,190]

[State -1, Stand Strong Punch]
type = ChangeState
value = 200
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 6 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*5 <= 30
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo < 200 & P2StateType != A & P2MoveType != A 
trigger1 = NumHelper(1400) > 0 & Random <= 250
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing != EnemyNear(Var(55)),Facing
trigger2 = NumHelper(1400) > 0 & Random <= 75
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != A & Facing = EnemyNear(Var(55)),Facing
trigger3 = NumHelper(1400) > 0 & P2MoveType = A
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateNo < 200 & P2StateType != A & P2MoveType != A 
trigger4 = NumHelper(1400) = 0 & P2MoveType != A & P2StateType != A & P2StateType != L & P2BodyDist X <= 40 & Random <= 75
trigger5 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger5 = NumHelper(1400) = 0 & P2MoveType = A & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),MoveContact & EnemyNear(Var(55)),AnimTime = [-10,-6] 
trigger6 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger6 = P2StateType = A & P2MoveType = A & (EnemyNear(Var(55)),MoveContact || EnemyNear(Var(55)),MoveReversed || EnemyNear(Var(55)),P2BodyDist X < 0)
trigger6 = (EnemyNear(Var(55)),Pos Y+EnemyNear(Var(55)),Vel Y*5+Helper(9180),Fvar(0)*15) >= 0
trigger7 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger7 = P2StateType = A & P2MoveType = I & Random <= 200
trigger7 = (EnemyNear(Var(55)),Pos Y+EnemyNear(Var(55)),Vel Y*5+Helper(9180),Fvar(0)*15) >= 0
trigger8 = StateNo = 100 & Time > 6 & P2BodyDist X <= 20 & P2StateType != A
;空接地
trigger9 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & P2StateType != S & P2StateType != C
trigger9 = P2MoveType = H & PrevStateNo = [600,620]


[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1020
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (Var(53) = 12 & Var(56) = 30)) & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = numhelper(1025) = 0
triggerall = numhelper(1026) = 0
triggerall = Var(12) = 0
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & EnemyNear(Var(55)),Vel X = 0 
triggerall = Helper(9180),var(31) != [3,4]
triggerall = EnemyNear(Var(55)), Vel X < 4.5
trigger1 = P2StateType != A & P2MoveType = I & Random <= 25
trigger1 = P2BodyDist X = [150,250]

;被動反擊

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = Ifelse((life < 400 || Var(12) = 1),3900,3950)
triggerall = fvar(16) = 800
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 3 || Var(53) = 7 || Var(53) = 8)
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = Helper(9190),Fvar(15) = 0 || Helper(9190),var(30) > 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*12 = [-40,70]
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
triggerall = EnemyNear(Var(55)),AnimTime <= -12
trigger1 = NumHelper(3205) > 0
trigger1 = Helper(3205),StateNo = 3207 & P2MoveType = A & EnemyNear(Var(55)),MoveReversed
trigger2 = NumHelper(3605) > 0
trigger2 = Helper(3605),StateNo = 3607 & P2MoveType = A & EnemyNear(Var(55)),MoveReversed
trigger3 = Helper(9190),var(30) > 0 & P2MoveType = A & P2StateType != A & P2StateType != L
trigger3 = EnemyNear(Var(55)),MoveContact = 0 & EnemyNear(Var(55)),AnimTime = [-36,-12]

;打到桌子了
[State -1, Run Fwd]
type = ChangeState
value = 100
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 3 || Var(53) = 7 || Var(53) = 8) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || (StateNo = [120,140]) || StateNo = 321) 
triggerall = P2BodyDist X <= 200 & StateType != A & StateNo != 100
trigger1 = NumHelper(3205) > 0
trigger1 = Helper(3205),StateNo = 3207 & P2MoveType = A & EnemyNear(Var(55)),MoveReversed
trigger2 = NumHelper(3605) > 0
trigger2 = Helper(3605),StateNo = 3607 & P2MoveType = A & EnemyNear(Var(55)),MoveReversed
trigger3 = NumHelper(3605) > 0
trigger3 = P2MoveType = H & EnemyNear(Var(55)),MoveHit

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2400
triggerall = Var(58) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
triggerall = MoveHit & P2MoveType = H
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8 <= 35
trigger1 = P2StateType = A & EnemyNear(Var(55)),Pos Y >= -30 & NumHelper(3605) > 0
trigger1 = P2MoveType = H & EnemyNear(Var(55)),MoveHit

[State -1, Stand Strong Punch]
type = ChangeState
value = 1500
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0 || Helper(9190),var(30) > 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*12 <= 99
trigger1 = Helper(9190),Fvar(14) = 0
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = S & P2MoveType = A & Helper(9190),var(30) = 2

[State -1, Stand Strong Punch]
type = ChangeState
value = 200
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0 || Helper(9190),var(30) > 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*5 <= 35
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = S & P2MoveType = A & EnemyNear(Var(55)),PrevStateNo > 200 & PrevStateNo = [5000,5019]
trigger1 = P2StateType = S & EnemyNear(Var(55)),MoveContact = 0 & EnemyNear(Var(55)),AnimTime = [-9,-5]
trigger1 = Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time != [0,5]
trigger2 = Helper(9190),Fvar(14) = 0
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = S & Helper(9190),var(30) > 0 
trigger2 = (P2MoveType = A || (P2MoveType != A & Random <= 222))
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = S & Random <= 75
trigger3 = EnemyNear(Var(55)),MoveContact & Helper(9190),Var(34) = 0 & P2MoveType = A & EnemyNear(Var(55)),AnimTime = [-9,-6]
trigger4 = NumHelper(3605) > 0
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = S & P2MoveType = H & EnemyNear(Var(55)),MoveHit
trigger5 = NumHelper(3205) > 0
trigger5 = Helper(3205),StateNo = 3207 & P2MoveType = A & EnemyNear(Var(55)),MoveReversed
trigger5 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger6 = NumHelper(3605) > 0
trigger6 = Helper(3605),StateNo = 3607 & P2MoveType = A & EnemyNear(Var(55)),MoveReversed
trigger6 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)

[State -1, Stand Strong Punch]
type = ChangeState
value = 210
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0 || Helper(9190),var(30) > 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*9 <= 60
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = S & P2MoveType = A & EnemyNear(Var(55)),PrevStateNo > 200 & PrevStateNo = [5000,5019]
trigger1 = P2StateType = S & EnemyNear(Var(55)),MoveContact = 0 & EnemyNear(Var(55)),AnimTime = [-15,-9]
trigger1 = Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time != [0,9]
trigger2 = Helper(9190),Fvar(14) = 0
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = S & Helper(9190),var(30) > 0
trigger2 = (P2MoveType = A || (P2MoveType != A & Random <= 222))
trigger3 = NumHelper(3605) > 0
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = S & P2MoveType = H & EnemyNear(Var(55)),MoveHit
trigger4 = NumHelper(3205) > 0
trigger4 = Helper(3205),StateNo = 3207 & P2MoveType = A & EnemyNear(Var(55)),MoveReversed
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger5 = NumHelper(3605) > 0
trigger5 = Helper(3605),StateNo = 3607 & P2MoveType = A & EnemyNear(Var(55)),MoveReversed
trigger5 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)

[State -1, Stand Strong Punch]
type = ChangeState
value = 400
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*5 <= 35
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = C & P2MoveType = A
trigger1 = P2StateType = S & EnemyNear(Var(55)),MoveContact = 0 & EnemyNear(Var(55)),AnimTime = [-9,-5]
trigger2 = Helper(9190),Fvar(14) = 0
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = C & Helper(9190),var(30) > 0
trigger2 = (P2MoveType = A || (P2MoveType != A & Random <= 222))
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = C & Random <= 100
trigger3 = EnemyNear(Var(55)),MoveContact & Helper(9190),Var(34) = 0 & P2MoveType = A & EnemyNear(Var(55)),AnimTime = [-9,-6]
trigger4 = NumHelper(3605) > 0
trigger4 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = C & P2MoveType = H & P2StateType != A  & EnemyNear(Var(55)),MoveHit

[State -1, Stand Strong Punch]
type = ChangeState
value = 420
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*14 = [36,95]
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = C & P2MoveType = A
trigger1 = P2StateType = S & EnemyNear(Var(55)),MoveContact = 0 & EnemyNear(Var(55)),AnimTime = [-25,-14]
trigger2 = NumHelper(3605) > 0
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = C & P2MoveType = H & P2StateType != A & EnemyNear(Var(55)),MoveHit

[State -1, Stand Strong Punch]
type = ChangeState
value = 1200
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = Helper(9180),Var(31) != [1,4]
triggerall = Helper(9190),Fvar(15) = 0 || Helper(9190),var(30) > 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10 <= 40
trigger1 = Helper(9190),Fvar(14) = 0
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = S & Helper(9190),var(30) > 0
trigger2 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = S & Random <= 66
trigger2 = EnemyNear(Var(55)),MoveContact & Helper(9190),Var(34) = 0 & P2MoveType = A & EnemyNear(Var(55)),AnimTime = [-13,-10]
trigger3 = NumHelper(3605) > 0
trigger3 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & StateType = C & P2MoveType = H & EnemyNear(Var(55)),MoveHit

;當身神技

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2600
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10) & NumHelper(9180) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & Helper(9190),Var(30) = 0
triggerall = !(EnemyNear(Var(55)),Facing = Facing & NumHelper(1400) > 0 & (PrevStateNo != [5000,5019]))
triggerall = EnemyNear(Var(55)),HitDefAttr != SCA,HA
triggerall = EnemyNear(Var(55)),HitDefAttr != SCA,AP,AT
triggerall = EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime < 32
trigger1 = P2BodyDist X <= 90 || P2BodyDist X < Helper(9190),Fvar(12)
trigger1 = P2MoveType = A & P2StateType != C & EnemyNear(Var(55)),PrevStateNo = [120,154]
trigger2 = (P2BodyDist X <= 90 || P2BodyDist X < Helper(9190),Fvar(12)) & Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time = [0,6]
trigger2 = P2BodyDist X <= Helper(9190),Fvar(12) & ((P2StateType != C & Var(54) != 1050) || (P2StateType = C & Var(54) = 1025))
trigger2 = P2MoveType = A & Random <= 250+250*Life<500+400*Life<333
trigger3 = (Helper(9190),Fvar(18) > 0 & Helper(9190),Fvar(19) = 0 & P2StateType = S)
trigger3 = Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time = [0,6]
trigger4 = (PrevStateNo = [150,154]) & P2MoveType = A & P2StateType != C & EnemyNear(Var(55)),MoveContact = 0
trigger4 = P2BodyDist X < Helper(9190),Fvar(12) || Random <= 125

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2610
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10) & NumHelper(9180) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & Helper(9190),Var(30) = 0
triggerall = !(EnemyNear(Var(55)),Facing = Facing & NumHelper(1400) > 0 & (PrevStateNo != [5000,5019]))
triggerall = EnemyNear(Var(55)),HitDefAttr != SCA,HA
triggerall = EnemyNear(Var(55)),HitDefAttr != SCA,AP,AT
triggerall = EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime < 32
trigger1 = P2BodyDist X <= 90
trigger1 = P2MoveType = A & P2StateType = C & EnemyNear(Var(55)),PrevStateNo = [120,154]
trigger2 = P2BodyDist X <= 90 & Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time = [0,6]
trigger2 = P2BodyDist X <= Helper(9190),Fvar(12) & ((P2StateType = C & Var(54) != 1025 & Var(54) != 1050) || (P2StateType != C & Var(54) = 1050))
trigger2 = P2MoveType = A & Random <= 150+200*Life<500+450*Life<333
trigger3 = (Helper(9190),Fvar(18) > 0 & Helper(9190),Fvar(19) = 0 & P2StateType = C)
trigger3 = Helper(9190),Fvar(11)-EnemyNear(Var(55)),Time = [0,6]
trigger4 = (PrevStateNo = [150,154]) & P2MoveType = A & P2StateType = C & EnemyNear(Var(55)),MoveContact = 0
trigger4 = P2BodyDist X < Helper(9190),Fvar(12) || Random <= 125

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2620
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10) & NumHelper(9180) > 0 & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & Helper(9190),Var(30) = 0 & (Helper(9190),FVar(19) = 1 || (Helper(9180),Var(31) = [1,4]))
triggerall = !(EnemyNear(Var(55)),Facing = Facing & NumHelper(1400) > 0 & (PrevStateNo != [5000,5019]))
triggerall = !(P2MoveType = A & P2BodyDist X-EnemyNear(Var(55)),Vel X*12 < 0) 
triggerall = !(P2StateNo < 200 & P2BodyDist X <= 70 & Helper(9190),Var(37) != -1) 
triggerall = Random <= 1000-200*(Helper(9190),Var(31) <= -2)-200*(Helper(9190),Var(31) <= -4)-200*(Helper(9190),Var(31) <= -8)-200*(Helper(9190),Var(31) <= -16)
trigger1 = InGuardDist || Helper(9190),InGuardDist || (P2BodyDist X <= Helper(9190),Fvar(12))
trigger1 = Helper(9180),Var(31) = 4 & P2MoveType = A & (Var(54) != [1000,1060])
trigger2 = PlayerIDExist(Helper(9190),var(45))
trigger2 = Helper(9180),Var(31) = 3 & PlayerID(Helper(9190),Var(45)),Vel X > 0 & PlayerID(Helper(9190),Var(45)),HitDefAttr != SCA,AA,AT
trigger3 = PlayerIDExist(Helper(9190),var(45))
trigger3 = Helper(9180),Var(31) = 1 & P2MoveType = A & PlayerID(Helper(9190),Var(45)),Vel Y >= 0 & PlayerID(Helper(9190),Var(45)),HitDefAttr != SCA,AA,AT
trigger4 = PlayerIDExist(Helper(9190),var(45))
trigger4 = Helper(9180),Var(31) = 2 & P2MoveType = A & P2StateType != A & PlayerID(Helper(9190),Var(45)),Vel X > 0 & PlayerID(Helper(9190),Var(45)),HitDefAttr != SCA,AT
trigger5 = PlayerIDExist(Helper(9190),var(45))
trigger5 = (Helper(9180),Var(31) = [1,4]) & P2MoveType = A & P2StateType != A & PlayerID(Helper(9190),Var(45)),HitDefAttr != SCA,AA,AT
trigger5 = Helper(9190),Fvar(19) = 1 & (EnemyNear(Var(55)),AnimTime <= -30 || (EnemyNear(Var(55)),Time-EnemyNear(Var(55)),AnimTime >= 100 & EnemyNear(Var(55)),AnimTime < -10))
trigger6 = PlayerIDExist(Helper(9190),var(45))
trigger6 = (Helper(9180),Var(31) = [1,4]) & PlayerID(Helper(9190),Var(45)),HitDefAttr != SCA,AA,AT
trigger6 = PlayerID(Helper(9190),Var(45)),P2BodyDist X-PlayerID(Helper(9190),Var(45)),Vel X <= 50
trigger7 = Helper(9190),Fvar(19) = 1 & P2MoveType = A & ((P2BodyDist X <= Helper(9190),Fvar(12) & P2BodyDist X >= 90) || Helper(9190),Var(37) = -1)
trigger8 = Life < 20 & Helper(9180),Var(31) = [1,4]
trigger9 = PrevStateNo = 5120 & P2StateNo > 200 & Helper(9180),Var(31) = [1,4]
trigger10 = Helper(9190),Var(37) = -1 & P2MoveType != H & (P2StateNo > 200 || (Helper(9180),Var(31) = [1,4]))
trigger10 = (P2BodyDist X >= 150 || P2BodyDist X <= Helper(9190),Fvar(12)) & P2BodyDist Y >= -50
trigger10 = Var(54) != 800 & Var(54) != 801 & Var(54) != 1000 & Var(54) != 1025 & Var(54) != 1050

;---------------------------------------------------------------------------

;上車了
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse(Var(12) = 1,3700,3100)
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = var(40) != 7
triggerall = power >= 2000 || (power >= 1000 & EnemyNear(Var(55)),Life < 400)
triggerall = movetype != H
triggerall = statetype != A
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321) & Random <= 80
triggerall = !(Helper(9190),Fvar(15) = 1 & EnemyNear(Var(55)),AnimTime <= -30)
triggerall = !(EnemyNear(Var(55)),Pos Y < -50 & EnemyNear(Var(55)),Vel X = 0)
triggerall = Helper(9190),Var(32)%3 != 0 ;非鋼體
trigger1 = P2MoveType != H & P2StateType = A & P2StateNo = [5200,5211]
trigger2 = P2MoveType != H & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),AnimTime >= -20 & P2StateNo = [5200,5211]
trigger3 = P2MoveType = I & P2StateType != A & P2StateType != L & EnemyNear(Var(55)),AnimTime >= -20 & EnemyNear(Var(55)),PrevStateNo = [5050,5071]
trigger3 = P2StateNo > 200

;帶入一擊
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1110
triggerall = fvar(16) = 800 
triggerall = Var(58) > 0 & NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -150) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 150) ;版邊
triggerall = P2StateType != A & P2StateType != L & P2MoveType != A
trigger1 = stateno = 1501 & MoveHit
trigger2 = stateno = 1502 & P2MoveType = H
trigger3 = stateno = 1511 & MoveHit
trigger4 = stateno = 1512 & P2MoveType = H
trigger5 = stateno = 210 & MoveHit
trigger6 = stateno = 221 & MoveHit
trigger7 = stateno = 410 & MoveHit

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1100
triggerall = fvar(16) = 800 
triggerall = Var(58) > 0 & NumHelper(9180) > 0 & NumHelper(9185) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -150) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 150) ;版邊
triggerall = P2MoveType = H & P2MoveType != A
trigger1 = stateno = 420 & MoveHit

[State -1, Strong Kung Fu Palm3]
type = ChangeState
value = 3200
triggerall = fvar(16) >= 700 
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10 || (MoveHit & P2MoveType != H)) & NumHelper(9190) > 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A & Var(12)=0
triggerall = (numhelper(3205) = 0 & Var(12)=0) || (numhelper(3605) = 0 & Var(12)=1)
triggerall = var(40) != 7
triggerall = Helper(9190),Fvar(16) = 0
triggerall = MoveContact & (stateno = 200 || stateno = 210 || stateno = 221 || stateno = 426 || stateno = 211 || stateno = 1501 || stateno = 1511)
trigger1 = P2StateType = A & P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) <= 110
trigger1 = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*8) > 10
trigger1 = P2BodyDist Y+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36 < -5

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3600
triggerall = fvar(16) >= 700 
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || (MoveHit & P2MoveType != H)) & NumHelper(9190) > 0
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A & Var(12)=1
triggerall = (numhelper(3205) = 0 & Var(12)=0) || (numhelper(3605) = 0 & Var(12)=1)
triggerall = var(40) != 7
triggerall = Helper(9190),Fvar(16) = 0
triggerall = !(Helper(9190),Fvar(14) = 1 & Helper(9190),Fvar(15) = 1)
triggerall = MoveContact & (stateno = 200 || stateno = 210 || stateno = 221 || stateno = 426 || stateno = 211 || stateno = 1501 || stateno = 1511)
trigger1 = P2StateType = A & P2MoveType = A & (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) <= 135
trigger1 = (P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10) > 10
trigger1 = P2BodyDist Y+EnemyNear(Var(55)),Vel Y*10+Helper(9180),Fvar(0)*55 < -20

;新版5A收尾
[State -1, Stand Strong Punch]
type = ChangeState
value = 1500
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8)
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) < -150) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) > 150) ;非版邊
trigger1 = MoveHit & P2MoveType = H
trigger1 = stateno = 200 & P2StateType = A

;帶入空連
[State -1, Stand Strong Punch]
type = ChangeState
value = 211
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8)
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*14 <= 50-14*(P2StateType = A)
trigger1 = MoveHit & P2MoveType = H & power < 1000 
trigger1 = stateno = 1511

[State -1, Stand Strong Punch]
type = ChangeState
value = 211
triggerall = var(40) != 7
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8)
triggerall = numhelper(3407) = 0
triggerall = movetype != H
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 200 & P2StateType != A & P2BodyDist X >= 30
trigger2 = stateno = 210 & P2StateType != A & P2BodyDist X >= 43
trigger3 = stateno = 420 & P2StateType != A & P2BodyDist X <= 20
trigger4 = stateno = 221 & P2StateType != A & (P2BodyDist X = [27,54]) & EnemyNear(Var(55)),BackEdgeBodyDist < 15
trigger5 = stateno = 221 & P2StateType = A & P2BodyDist X <= 54 & EnemyNear(Var(55)),BackEdgeBodyDist < 15

;太遠了
[State -1, Stand Strong Punch]
type = ChangeState
value = 1500
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8)
triggerall = var(40) != 7
triggerall = statetype != A
triggerall = movetype != H
triggerall = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*14 > 54-14*(P2StateType = A)
trigger1 = MoveHit & P2MoveType = H
trigger1 = stateno = 200 & P2StateType = A

;感染版
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3600
triggerall = var(58) > 0
triggerall = power >= 1000 & numhelper(3605) = 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 1100 || stateno = 1110 || stateno = 1120
trigger2 = stateno = 211 & P2StateType = A

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2420
triggerall = var(58) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 1511 & EnemyNear(Var(55)),BackEdgeBodyDist >= 20
trigger2 = stateno = 1110 || stateno = 1120
trigger2 = EnemyNear(Var(55)),BackEdgeBodyDist >= 20

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2410
triggerall = var(58) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 1
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 1100 || stateno = 1110 || stateno = 1120
trigger1 = EnemyNear(Var(55)),BackEdgeBodyDist < 20
trigger2 = stateno = 1100 
trigger2 = EnemyNear(Var(55)),BackEdgeBodyDist >= 20
trigger3 = stateno = 221 & P2BodyDist X >= 50 & P2StateType != A  & P2StateType != L
trigger4 = stateno = 1120
trigger4 = P2BodyDist X = [0,20]

;桌子
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1500
triggerall = Var(58) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = MoveHit = 1 & P2MoveType = H
trigger1 = stateno = 221 & P2BodyDist X <= 60
trigger2 = stateno = 210 & P2BodyDist X <= 70 & P2StateType = A

[State -1, Stand Strong Punch]
type = ChangeState
value = 426
triggerall = Var(58) > 0
triggerall = var(40) != 7
triggerall = statetype = S
triggerall = movetype != H
triggerall = numhelper(3205) = 0
triggerall = MoveHit & P2MoveType = H & power >= 1000 
triggerall = P2BodyDist X-EnemyNear(Var(55)),Vel X*15 <= 95
trigger1 = stateno = 221 & time >= 6
trigger2 = stateno = 1511
trigger2 = movecontact
trigger2 = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*4+Helper(9180),Fvar(0)*10) >= -80

[State -1, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = var(40) != 7
triggerall = var(58) > 0
triggerall = movetype != H
triggerall = MoveHit & P2MoveType = H & power >= 1000
triggerall = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -265) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 265) ;版邊
triggerall = numhelper(3205) = 0
trigger1 = stateno = 400

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1110
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8)
triggerall = movetype != H
triggerall = statetype != A & power >= 1000
triggerall = var(40) != 7
triggerall = MoveHit
triggerall = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -265) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 265) ;版邊
trigger1 = stateno = 426 & MoveHit >= 7 & Helper(9190),Var(29)%2 !=0
trigger2 = stateno = 420 & Helper(9190),Var(29)%3 !=0

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3200
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8)
triggerall = power >= 1000 
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(3205) = 0
triggerall = var(40) != 7
triggerall = var(12) = 0
triggerall = MoveHit & P2MoveType = H
triggerall = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -250) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 250) ;版邊

trigger1 = (stateno = 1501 & P2BodyDist X-EnemyNear(Var(55)),Vel X*16 > 65) || stateno = 1511
trigger1 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -125) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 125) ;版邊

trigger2 = stateno = 426 & (PrevStateNo != 420 || Helper(9190),Var(29)%2 =0)
trigger2 = P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*7 <= 80
trigger3 = stateno = 1110 & MoveHit = 1 & P2StateType = A
trigger4 = stateno = 1110 & MoveHit = 1 & PrevStateNo = 420

;普通連

[State -1, Crouching Strong Kick]
type = ChangeState
value = 420
triggerall = var(40) != 7
triggerall = var(58) > 0
triggerall = movetype != H
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 400
trigger2 = stateno = 410

[State -1, Stand Strong Punch]
type = ChangeState
value = 210
triggerall = var(40) != 7
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8)
triggerall = numhelper(3407) = 0
triggerall = statetype = S
triggerall = movetype != H
triggerall = MoveHit & P2MoveType = H & P2StateType != A
trigger1 = stateno = 200
trigger2 = stateno = 201
trigger3 = stateno = 202 
trigger4 = stateno = 410 & PrevStateNo != 210

[State -1, Standing Strong Kick]
type = ChangeState
value = 221
triggerall = var(40) != 7
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8)
triggerall = MoveHit & P2MoveType = H 
trigger1 = stateno = 210 & P2StateType != A
trigger2 = stateno = 420 & P2BodyDist X <= 76
trigger2 = var(15) = 0

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1500
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8)
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 221 & P2BodyDist X <= 20

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 211
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8)
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 221 & P2BodyDist X = [20,40]

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1120
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8)
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = MoveHit & P2MoveType = H
triggerall = P2StateType != A
trigger1 = stateno = 221 & P2BodyDist X > 40

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3300
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 7 || Var(53) = 8)
triggerall = power >= 2000 || (EnemyNear(Var(55)),Life < 300 & power >= 1000)
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = MoveHit & P2MoveType = H
triggerall = Helper(9190),Var(32)%3 != 0 ;非鋼體
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*15+Helper(9180),Fvar(0)*120) = [-60,-1]
trigger1 = (stateno = 1501 & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*16 > 65) || stateno = 1511
trigger2 = stateno = 426 & PrevStateNo != 420 & Helper(9190),Var(29)%5 !=0
trigger2 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) < -265) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) > 265) ;版邊

trigger3 = stateno = 426 & PrevStateNo != 420 & Helper(9190),Var(29)%5 !=0 & Helper(9190),Var(29)%2 =0

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1220
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8)
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = MoveHit & P2MoveType = H & P2BodyDist X-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*14 <= 50
trigger1 = stateno = 1511

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1510
triggerall = Var(58) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
trigger1 = stateno = 1501 & MoveContact
trigger2 = stateno = 1502

[State -1, Crouching Strong Kick]
type = ChangeState
value = 1110
triggerall = var(40) != 7 & (Var(53) = 0 || Var(53) = 8)
triggerall = var(58) > 0
triggerall = movetype != H
triggerall = MoveHit = 3 & P2MoveType = H
trigger1 = stateno = 420

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1120
triggerall = Var(58) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = ((MoveHit & P2MoveType = H) || MoveReversed)
triggerall = stateno = 1511 || stateno = 1512
triggerall = P2StateType != A
trigger1 = P2BodyDist X >= 40 & P2StateNo < 200

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1110
triggerall = Var(58) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = ((MoveHit & P2MoveType = H) || MoveReversed)
triggerall = stateno = 1511 || stateno = 1512
triggerall = P2StateType != A
trigger1 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -200) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 200) ;版邊
trigger2 = P2StateType = C

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1520
triggerall = Var(58) > 0 & Var(53) != 13
triggerall = movetype != H
triggerall = var(40) != 7
triggerall = ((MoveHit & P2MoveType = H) || MoveReversed)
trigger1 = stateno = 1511
trigger2 = stateno = 1512

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = IfElse(EnemyNear(Var(55)),Vel Y > 0 & P2BodyDist X > 50,1020,1010)
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8)
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = numhelper(1025) = 0
triggerall = numhelper(1026) = 0
triggerall = var(40) != 7
triggerall = var(12) = 0
trigger1 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) < -265) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) > 265) ;非版邊
trigger1 = MoveHit >= 2 & P2MoveType = H
trigger1 = stateno = 426
trigger2 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) < -250) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) > 250) ;非版邊
trigger2 = MoveContact & P2StateType = A & P2MoveType = H
trigger2 = stateno = 211

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1000
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8)
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = numhelper(1025) = 0
triggerall = numhelper(1026) = 0
triggerall = var(40) != 7
triggerall = var(12) = 0
trigger1 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) >= -250) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) <= 250) ;版邊
trigger1 = MoveContact & P2StateType = A & P2MoveType = H
trigger1 = stateno = 211 & P2BodyDist X <= 105

;通常空對空

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1230
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 6 || Var(53) = 7 || Var(53) = 8) & NumHelper(9190) > 0
triggerall = movetype != H
triggerall = statetype = A
triggerall = var(40) != 7
triggerall = (P2BodyDist X-Vel X*11-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*11) = [-5,40]
triggerall = Ctrl & P2StateType = A
trigger1 = (EnemyNear(Var(55)),Pos Y+EnemyNear(Var(55)),Vel Y*11+Helper(9180),Fvar(0)*66-Vel Y*11-Const(movement.yaccel)*66) = [5,-40]
trigger1 = StateNo != 103 & StateNo != 108
trigger2 = (EnemyNear(Var(55)),Pos Y+EnemyNear(Var(55)),Vel Y*11+Helper(9180),Fvar(0)*66-Const(movement.yaccel)*66) = [5,-40]
trigger2 = StateNo = 103 || StateNo = 108


[State -1, Jump Strong]
type = ChangeState
value = 600
triggerall = var(40) != 7
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 6 || Var(53) = 8) & NumHelper(9190) > 0
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X+Vel X*5-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*5 <= 35
triggerall = (StateNo = 103 || StateNo = 108 || StateNo = 50 || (StateNo = [120,140])) & Ctrl
triggerall = P2StateType = A
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*5+Helper(9180),Fvar(0)*15-Vel Y*5-Const(movement.yaccel)*15) = [-40,30]
trigger1 = P2MoveType = I & Random <= 200

[State -1, Jump Strong]
type = ChangeState
value = 600
triggerall = var(40) != 7
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 6 || Var(53) = 8) & NumHelper(9190) > 0
triggerall = stateno != 105
triggerall = movetype != H & StateType = A
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = Helper(9190),Fvar(19) = 0
triggerall = P2BodyDist X+Vel X*5-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*5 <= 35
triggerall = P2StateType = A
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*5+Helper(9180),Fvar(0)*15-Vel Y*5-Const(movement.yaccel)*15) = [-40,30]
trigger1 = StateNo = 600 & MoveContact & P2MoveType != A & Random <= 200
trigger2 = StateNo = 600 & Time >= 7 & P2MoveType != A & Random <= 200

[State -1, airdashF]
type = ChangeState
value = 108
triggerall = Var(58) > 0 & Var(53) != 2 & Var(53) != 14 & Var(53) != 15
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105 & stateno != 103 & stateno != 108 &  stateno != 110
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
triggerall = P2StateType = A
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*5+Helper(9180),Fvar(0)*15-Vel Y*5-Const(movement.yaccel)*15) != [-40,30]
triggerall = BackEdgeBodyDist >= 15
triggerall = !(P2MoveType = H & MoveHit)
trigger1 = StateNo = 600 & MoveContact & P2MoveType != H & Random <= 150
trigger2 = StateNo = 610 & MoveGuarded & P2MoveType != A & FrontEdgeBodyDist <= 20 & Random <= 150

[State -1, airdashF]
type = ChangeState
value = 103
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 6 || Var(53) = 8)
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105 & stateno != 103 & stateno != 108 &  stateno != 110
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
triggerall = P2StateType = A
triggerall = (P2BodyDist Y+EnemyNear(Var(55)),Vel Y*5+Helper(9180),Fvar(0)*15-Vel Y*5-Const(movement.yaccel)*15) != [-40,30]
triggerall = FrontEdgeBodyDist >= 15
trigger1 = StateNo = 610 & MoveGuarded & P2MoveType != A & BackEdgeBodyDist <= 20 & Random <= 150

[State -1, Jump Strong]
type = ChangeState
value = 620
triggerall = var(40) != 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = stateno != 105
triggerall = !(Var(4) != 0 & Vel X < 0)
triggerall = movetype != H & StateType = A
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = P2BodyDist X+Vel X*13-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*13 <= 70 || P2BodyDist X = [-35,10]
triggerall = (StateNo = 103 || StateNo = 108 || StateNo = 50 || (StateNo = [120,140])) & Ctrl
triggerall = P2StateType != L & (Pos Y+Vel Y*13+Const(movement.yaccel)*78) < 0
trigger1 = StateNo = 103 & Ctrl & P2MoveType != A

[State -1, Jump Strong]
type = ChangeState
value = 1520
triggerall = var(40) != 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = stateno != 105
triggerall = !(Var(4) != 0 & Vel X < 0)
triggerall = movetype != H & StateType = A
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (StateNo = 103 || StateNo = 108 || StateNo = 50 || (StateNo = [120,140])) & Ctrl
trigger1 = P2MoveType = A & EnemyNear(Var(55)),Time < 19 & FrontEdgeBodyDist >= 15
trigger1 = StateNo = 103 & Ctrl & P2MoveType != A & Time = 19
trigger2 = P2BodyDist X+Vel X*13-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*13 <= 30 & FrontEdgeBodyDist >= 15
trigger2 = StateNo = 103 & Ctrl & P2MoveType != A & Time = 19

[State -1, Jump Strong]
type = ChangeState
value = 620
triggerall = var(40) != 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = stateno != 105
triggerall = !(Var(4) != 0 & Vel X < 0)
triggerall = movetype != H & StateType = A
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (StateNo = 103 || StateNo = 108 || StateNo = 50 || (StateNo = [120,140])) & Ctrl
trigger1 = P2BodyDist X+Vel X*13-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*13 <= 70 || P2BodyDist X = [-35,10]
trigger1 = StateNo = 103 & Ctrl & P2StateType != L & Time = 19

[State -1, Jump Strong]
type = ChangeState
value = 650
triggerall = var(40) != 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = stateno != 105
triggerall = !(Var(4) != 0 & Vel X < 0)
triggerall = movetype != H & StateType = A
triggerall = Helper(9190),Fvar(15) = 0
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (StateNo = 103 || StateNo = 108 || StateNo = 50 || (StateNo = [120,140])) & Ctrl
trigger1 = StateNo = 108 & Ctrl & P2StateType != L & Time = 19

;通常空連
[State -1, Jump Light]
type = ChangeState
value = 600
triggerall = var(40) != 7
triggerall = Var(58) > 0
triggerall = movetype != H
triggerall = stateno != 105
trigger1 = stateno = 600 & statetime >= 7 & MoveContact & P2MoveType != H

[State -1, Jump Strong]
type = ChangeState
value = 620
triggerall = var(40) != 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = stateno != 105
triggerall = !(Var(4) != 0 & Vel X < 0)
triggerall = movetype != H & StateType = A
triggerall = Helper(9190),Fvar(15) = 0 || P2StateType = C
triggerall = Helper(9190),Fvar(16) = 0
triggerall = P2BodyDist X+Vel X*13-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*13 <= 70 || P2BodyDist X = [-35,10]
triggerall = (StateNo = 103 || StateNo = 108 || StateNo = 50 || (StateNo = [120,140])) & Ctrl
triggerall = P2StateType != L 
triggerall = ((Pos Y+Vel Y*13+Const(movement.yaccel)*78) < 0 & (Pos Y+Vel Y*17+Const(movement.yaccel)*143) >= 0) || ((StateNo = 103 || StateNo = 108) & (Pos Y+0*13+Const(movement.yaccel)*78) < 0 & (Pos Y+0*17+Const(movement.yaccel)*143) >= 0)
trigger1 = P2MoveType = I & Random <= 200+225*P2StateNo=40 & P2StateType != A
trigger2 = Helper(9190),Fvar(19) = 1
trigger3 = Helper(9190),Fvar(14) = 1 & EnemyNear(Var(55)),Time > Time & P2StateType != A
trigger4 = P2StateType = C
trigger5 = NumHelper(3605) > 0
trigger5 = Helper(3605),MoveContact || (MoveType != H & EnemyNear(Var(55)),MoveContact)
trigger6 = NumHelper(3205) > 0
trigger6 = Helper(3205),StateNo = 3207 & P2MoveType = A & EnemyNear(Var(55)),MoveReversed
trigger7 = NumHelper(3605) > 0
trigger7 = Helper(3605),StateNo = 3607 & P2MoveType = A & EnemyNear(Var(55)),MoveReversed
trigger8 = Vel Y > 0 & Pos Y = [-86,-80]
trigger8 = P2StateType != A & P2StateType != L & P2StateNo != [120,154]
trigger8 = EnemyNear(Var(55)),Anim != [120,154]

[State -1, Jump Strong]
type = ChangeState
value = 650
triggerall = var(40) != 7
triggerall = var(58) > 0
triggerall = stateno != 105
triggerall = movetype != H
triggerall = MoveHit & P2MoveType != A
trigger1 = P2StateType != A & P2StateType != L & var(4) = 0
trigger1 = StateNo = 620 & (Pos Y+Vel Y*15+Const(movement.yaccel)*120) < 0
trigger2 = StateNo = 620 & P2StateType = A
trigger3 = StateNo = 600 & P2BodyDist X >= 40-10*(Vel Y >= 0)

[State -1, airdashF]
type = ChangeState
value = 103
triggerall = Var(58) > 0 & Var(53) != 14 & Var(53) != 15
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105 & stateno != 103 & stateno != 108 &  stateno != 110
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
triggerall = (Pos Y+0*13+Const(movement.yaccel)*78) < 0
triggerall = P2BodyDist X <= 170
triggerall = P2StateType != A & P2StateType != L
trigger1 = Ctrl
trigger1 = Helper(9190),Fvar(14) = 1 & EnemyNear(Var(55)),Time > Time & (Var(53) = 0 || Var(53) = 8)
trigger2 = Ctrl
trigger2 = P2MoveType = A & P2StateType = C & EnemyNear(Var(55)),Time > Time & (Var(53) = 0 || Var(53) = 8)
trigger3 = StateNo = 620 & MoveContact & P2MoveType= H & (Pos Y+Vel Y*14+Const(movement.yaccel)*105) < 0
trigger4 = NumHelper(3605) > 0 & (Pos Y+0*18+Const(movement.yaccel)*171) >= 0
trigger4 = Helper(3605),MoveContact || (MoveType != H & EnemyNear(Var(55)),MoveContact)
trigger5 = NumHelper(3205) > 0 & (Pos Y+0*18+Const(movement.yaccel)*171) >= 0
trigger5 = Helper(3205),StateNo = 3207 & P2MoveType = A & EnemyNear(Var(55)),MoveReversed
trigger6 = NumHelper(3605) > 0 & (Pos Y+0*18+Const(movement.yaccel)*171) >= 0
trigger6 = Helper(3605),StateNo = 3607 & P2MoveType = A & EnemyNear(Var(55)),MoveReversed

;無法防禦
[State -1, Jump Strong]
type = ChangeState
value = 1230
triggerall = var(40) != 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H & StateType = A
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (StateNo = 103 || StateNo = 108 || StateNo = 50 || (StateNo = [120,140])) & Ctrl
triggerall = P2StateType = A & P2BodyDist X+Vel X*13-IfElse(Facing != EnemyNear(Var(55)),Facing,1,-1)*EnemyNear(Var(55)),Vel X*10 <= 22
trigger1 = StateNo = 103 & Time >= 19
trigger2 = StateNo = 108 & Time >= 19

[State -1, Jump Strong]
type = ChangeState
value = IfElse(P2StateType = A,650,620)
triggerall = var(40) != 7
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = movetype != H & StateType = A
triggerall = Helper(9190),Fvar(16) = 0
triggerall = (StateNo = 103 || StateNo = 108 || StateNo = 50 || (StateNo = [120,140])) & Ctrl
triggerall = P2StateType != L 
trigger1 = StateNo = 103 & Time >= 19
trigger2 = StateNo = 108 & Time >= 19

;通常空中閃避
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1520
triggerall = Var(58) > 0 & NumHelper(9190) > 0
triggerall = statetype = A
triggerall = movetype != H
triggerall = P2BodyDist X <= 150
triggerall = P2StateType != A & P2StateType != L
triggerall = Helper(9190),Var(30) = 0
triggerall = BackEdgeBodyDist < 15
trigger1 = (StateNo = 5210 || PrevStateNo = 5210) & Ctrl & Random <= 450
trigger1 = P2BodyDist X <= 100 & P2MoveType != H & P2StateType = A & Time <= EnemyNear(Var(55)),Time

[State -1, airdashF]
type = ChangeState
value = 103
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & Var(53) != 14 & Var(53) != 15
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105 & stateno != 103 & stateno != 108 &  stateno != 110
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
triggerall = P2StateType != A & P2StateType != L
triggerall = Helper(9190),Var(30) = 0
triggerall = BackEdgeBodyDist < 15
trigger1 = (StateNo = 5210 || PrevStateNo = 5210) & Ctrl & Random <= 450
trigger1 = P2BodyDist X <= 100 & P2MoveType != H & P2StateType != L & P2StateType != A

[State -1, airdashF]
type = ChangeState
value = 108
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || Var(53) = 9) & NumHelper(9190) > 0
triggerall = statetype = A
triggerall = movetype != H
triggerall = stateno != 105 & stateno != 103 & stateno != 108 &  stateno != 110
triggerall = var(4) != 0
triggerall = vel Y = [-9,9]
triggerall = pos y != [-40,40]
triggerall = P2BodyDist X <= 150
triggerall = P2StateType != A & P2StateType != L
triggerall = Helper(9190),Var(30) = 0
triggerall = BackEdgeBodyDist >= 15
trigger1 = Ctrl & Random <= 450
trigger1 = P2MoveType = A & (P2StateType != A || EnemyNear(Var(55)),Vel X = 0) & EnemyNear(Var(55)),Time <= 1 & EnemyNear(Var(55)),PrevStateNo < 200

[State -1, 1]
type = VarSet
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || Var(53) = 9) & NumHelper(9190) > 0
triggerall = Helper(9190),Var(30) = 0
trigger1 = Ctrl & StateNo = 50
trigger1 = P2MoveType = A & P2StateType = A & EnemyNear(Var(55)),Time < 5 & EnemyNear(Var(55)),Pos Y >= -50
trigger1 = EnemyNear(Var(55)),Vel Y < 0 & EnemyNear(Var(55)),Vel X >= 0
sysvar(1) = -1

[State -1, Jump Cancel]
type = ChangeState
value = 42
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8 || Var(53) = 9) & NumHelper(9190) > 0
triggerall = Helper(9190),Var(30) = 0
trigger1 = Ctrl & StateNo = 50
trigger1 = P2MoveType = A & P2StateType = A & EnemyNear(Var(55)),Time < 5 & EnemyNear(Var(55)),Pos Y >= -50
trigger1 = EnemyNear(Var(55)),Vel Y < 0 & EnemyNear(Var(55)),Vel X >= 0 & Random <= 450

;滑行通常收尾
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 3000
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8)
triggerall = power >= 2000 || (EnemyNear(Var(55)),Life < 300 & power >= 1000)
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = var(12) = 0 & P2BodyDist X <= 450
triggerall = MoveHit & P2MoveType = H
trigger1 = stateno = 1100 || stateno = 1110 || stateno = 1120
trigger2 = stateno = 426 & PrevStateNo != 420 & Helper(9190),Var(29)%5 =0
trigger2 = (((Facing = 1 & TeamSide = 1) || (Facing = -1 & TeamSide = 2)) & Helper(9180),Var(0) < -265) || (((Facing = -1 & TeamSide = 1) || (Facing = 1 & TeamSide = 2)) & Helper(9185),Var(0) > 265) ;版邊

trigger3 = stateno = 426 & PrevStateNo != 420 & Helper(9190),Var(29)%5 =0
trigger4 = stateno = 221 & P2StateType = A & P2BodyDist X >= 40

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1020
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8)
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = numhelper(1025) = 0
triggerall = numhelper(1026) = 0
triggerall = var(40) != 7
triggerall = var(12) = 0
triggerall = MoveHit > 2 & P2MoveType = H
triggerall = EnemyNear(Var(55)),BackEdgeBodyDist < 25 & P2BodyDist X >= 60
trigger1 = stateno = 1100 || stateno = 1110 || stateno = 1120

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1010
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8)
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = numhelper(1025) = 0
triggerall = numhelper(1026) = 0
triggerall = var(40) != 7
triggerall = var(12) = 0
triggerall = MoveHit > 2 & P2MoveType = H
trigger1 = stateno = 1100 || stateno = 1110 || stateno = 1120

;420起手
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1110
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8) 
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
trigger1 = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = StateNo = 420 & MoveHit & (PrevStateNo < 200 || PrevStateNo = 321)

;防禦線
[State -1, Jump Strong]
type = ChangeState
value = 650
triggerall = var(40) != 7
triggerall = var(58) > 0
triggerall = stateno != 105
triggerall = movetype != H
triggerall = MoveGuarded & P2MoveType != A
trigger1 = stateno = 610 || stateno = 620
trigger1 = P2StateType != A & P2StateType != L

[State -1, Jump Strong]
type = ChangeState
value = 600
triggerall = var(40) != 7
triggerall = var(58) > 0
triggerall = stateno != 105
triggerall = movetype != H
triggerall = MoveGuarded & P2MoveType != A
trigger1 = stateno = 600 & Vel Y <= 0
trigger1 = P2StateType != A & P2StateType != L

[State -1, Jump Strong]
type = ChangeState
value = 610
triggerall = var(40) != 7
triggerall = var(58) > 0
triggerall = stateno != 105
triggerall = movetype != H
triggerall = MoveGuarded = 1 & P2MoveType != A
trigger1 = stateno = 600 & Vel Y > 0 & P2BodyDist Y >= 0 & Random <= 200+400*(PrevStateNo = 600)

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1230
triggerall = Var(58) > 0
triggerall = movetype != H
triggerall = statetype != S
triggerall = var(40) != 7
triggerall = MoveGuarded & P2MoveType = H
triggerall = P2BodyDist X <= 50 & P2BodyDist Y <= 10
trigger1 = stateno = 610
trigger2 = stateno = 620

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1220
triggerall = Var(58) > 0
triggerall = movetype != H
triggerall = statetype != S
triggerall = var(40) != 7
triggerall = MoveHit & P2MoveType != H & P2BodyDist X <= 50 & EnemyNear(Var(55)),AnimTime <= -14 & EnemyNear(Var(55)),PrevStateNo != [5000,5999]
trigger1 = stateno = 210
trigger2 = stateno = 221
trigger3 = stateno = 1501
trigger4 = stateno = 1511

[State -1, Stand Light Punch]
type = ChangeState
value = 200
triggerall = var(40) != 7
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8)
triggerall = movetype != H
trigger1 = StateNo = 200 & MoveGuarded = 1
trigger1 = P2BodyDist X <= 35 & Random <= 500+500*Power >= 1000
trigger2 = StateNo = 200 & MoveHit
trigger2 = P2BodyDist X <= 35 & P2MoveType != H & P2StateType != L & EnemyNear(Var(55)),PrevStateNo != [5000,5999]

[State -1, Stand Light Punch]
type = ChangeState
value = 210
triggerall = var(40) != 7
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8)
triggerall = movetype != H
trigger1 = StateNo = 200 & MoveGuarded & P2MoveType = H & EnemyNear(Var(55)),Ctrl = 0
trigger1 = P2BodyDist X > 35

[State -1, Stand Light Punch]
type = ChangeState
value = 221
triggerall = var(40) != 7
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 8)
triggerall = movetype != H
trigger1 = StateNo = 210 & MoveGuarded & P2MoveType = H & EnemyNear(Var(55)),Ctrl = 0
trigger1 = Random <= 50+150*Power >= 1000

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1120
triggerall = Var(58) > 0 
triggerall = movetype != H
triggerall = var(40) != 7
triggerall = MoveGuarded
trigger1 = StateNo = 200 || StateNo = 210 || StateNo = 220 || StateNo = 420
trigger1 = MoveGuarded & EnemyNear(Var(55)),Facing = Facing & P2BodyDist X <= 115
trigger2 = StateNo = 200 || StateNo = 210 || StateNo = 220 || StateNo = 420
trigger2 = MoveGuarded & P2BodyDist X >= 40 & Random <= 88

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1110+10*(Random <= 500 || Power < 1000)
triggerall = Var(58) > 0 
triggerall = movetype != H
triggerall = var(40) != 7
triggerall = MoveGuarded
trigger1 = StateNo = 221 || StateNo = 426 || StateNo = 420
trigger1 = P2BodyDist X <= 190 & P2MoveType = H & (Var(53) = 0 || Var(53) = 8)
trigger1 = Power >= 1000 & NumHelper(3205) = 0 & NumHelper(3605) = 0
trigger2 = StateNo = 210 & MoveGuarded & P2StateType != A & Random <= 70
trigger2 = NumHelper(1005) = 0 & NumHelper(1006) = 0 & NumHelper(1015) = 0 & NumHelper(1025) = 0 & NumHelper(1026) = 0

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1000
triggerall = Var(58) > 0 
triggerall = movetype != H
triggerall = statetype != A
triggerall = numhelper(1005) = 0
triggerall = numhelper(1006) = 0
triggerall = numhelper(1015) = 0
triggerall = numhelper(1025) = 0
triggerall = numhelper(1026) = 0
triggerall = var(40) != 7
triggerall = var(12) = 0
trigger1 = StateNo = 1110 & MoveGuarded

[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1510
triggerall = Var(58) > 0
triggerall = movetype != H
triggerall = statetype != A
triggerall = var(40) != 7
triggerall = MoveGuarded & P2StateType = A
trigger1 = stateno = 1501
trigger2 = stateno = 1502

;衝衝衝

[State -1, Run Fwd]
type = ChangeState
value = 100
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 3 || Var(53) = 8) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = StateNo != 100 & StateType != A
triggerall = P2StateNo != 52 & P2StateType != L
triggerall = Helper(9180),Var(31) = 0 || Helper(9180),Var(31) = 5
triggerall = Helper(9190),FVar(15) = 0
triggerall = Helper(9190),FVar(19) = 0
triggerall = EnemyNear(Var(55)),Time > Helper(9190),Fvar(11) || P2MoveType != A
triggerall = !(P2StateType = S & StateType = C & EnemyNear(Var(55)),MoveContact = 0 & P2BodyDist X < 100);身高優勢
triggerall = !(Helper(9190),Var(30) = 2 & StateNo = 101 & P2MoveType = A & EnemyNear(Var(55)),MoveContact = 0)
triggerall = P2StateType != L & !((EnemyNear(Var(55)),PrevStateNo = [5030,5071]) & (P2StateNo != [5030,5071]))
triggerall = P2BodyDist X >= 5
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || (StateNo = [120,140]) || StateNo = 321)
trigger1 = P2BodyDist X >= 35 & EnemyNear(Var(55)),Facing = Facing & NumHelper(1400) > 0
trigger1 = P2MoveType != H & P2StateType != A & Helper(1400),StateNo = 1407
trigger2 = Helper(9190),Var(30) = 1 & P2BodyDist X <= 200 & P2StateNo >= 200
trigger2 = P2MoveType = I & P2StateType != A
trigger3 = Helper(9190),Var(30) = 1 & P2BodyDist X <= 250 & P2StateNo >= 200
trigger3 = P2MoveType = A & P2StateType != A
trigger4 = NumHelper(3205) > 0 & P2BodyDist X <= 250
trigger4 = Helper(3205),StateNo = 3207
trigger5 = NumHelper(3605) > 0 & P2BodyDist X <= 250
trigger5 = Helper(3605),StateNo = 3607
trigger6 = PlayerIDExist(Helper(9190),var(45))
trigger6 = PlayerID(Helper(9190),Var(45)),Vel Y <= 0 & PlayerID(Helper(9190),Var(45)),Vel X >= 0 & PlayerID(Helper(9190),Var(45)),MoveType = A & PlayerID(Helper(9190),Var(45)),MoveContact = 0
trigger6 = PlayerID(Helper(9190),Var(45)),Facing != Facing & PlayerID(Helper(9190),Var(45)),Time < EnemyNear(Var(55)),Time
trigger6 = PlayerID(Helper(9190),Var(45)),RootDist X > P2BodyDist X
trigger6 = P2StateNo > 200 & P2MoveType != H & P2StateType != A & EnemyNear(Var(55)),AnimTime <= -10
trigger7 = (P2StateNo = [5030,5071]) & P2MoveType = H & P2BodyDist X >= 20

trigger8 = EnemyNear(Var(55)),Facing != Facing & NumHelper(1400) > 0 ;對手打球
trigger8 = P2MoveType = A & Helper(1400),P2BodyDist X < P2BodyDist X & Helper(1400),StateNo = 1407
trigger9 = StateNo = 321 & Time > 30 & P2MoveType != H & InGuardDist = 0 & P2BodyDist X > 100

trigger10 = P2StateType = A & P2MoveType = A & (EnemyNear(Var(55)),MoveContact || EnemyNear(Var(55)),MoveReversed || EnemyNear(Var(55)),P2BodyDist X < -30)
trigger10 = (EnemyNear(Var(55)),Pos Y+EnemyNear(Var(55)),Vel Y*11+Helper(9180),Fvar(0)*66) >= 0 & P2BodyDist X < 150
trigger10 = (EnemyNear(Var(55)),Pos Y+EnemyNear(Var(55)),Vel Y*8+Helper(9180),Fvar(0)*36) < 0

trigger11 = P2StateType = A & P2MoveType = A & (EnemyNear(Var(55)),MoveContact || EnemyNear(Var(55)),MoveReversed || EnemyNear(Var(55)),P2BodyDist X < 0)
trigger11 = (EnemyNear(Var(55)),Pos Y+EnemyNear(Var(55)),Vel Y*16+Helper(9180),Fvar(0)*136) >= 0 & P2BodyDist X < 200
trigger11 = (EnemyNear(Var(55)),Pos Y+EnemyNear(Var(55)),Vel Y*11+Helper(9180),Fvar(0)*66) < 0

[State -1, Back Step]
type = ChangeState
value = 105
triggerall = Var(58) > 0 & Var(53) = 0 & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = movetype != H
trigger1 = StateNo = 100 & P2StateNo = 5120 & P2BodyDist X <= 15
trigger2 = StateNo = 100 & P2BodyDist X <= 15 & P2MoveType != H
trigger2 = ((EnemyNear(Var(55)),PrevStateNo = [5030,5071]) & (P2StateNo != [5030,5071]))


[State -1, Run Fwd]
type = ChangeState
value = 321
triggerall = Var(58) > 0 & (Var(53) = 0 || Var(53) = 3 || Var(53) = 8) & NumHelper(9190) > 0 & NumHelper(9180) > 0
triggerall = StateNo = 100 & P2BodyDist X >= 0
triggerall = (PrevStateNo != [2700,2799]) & PrevStateNo != 2050
triggerall = !(Var(40) = 7 & Helper(9190),Fvar(15) = 1)
trigger1 = Helper(9190),Var(30) = 2 & P2MoveType = A & EnemyNear(Var(55)),MoveContact = 0
trigger2 = (P2StateNo = [5030,5071]) & P2MoveType = H & P2BodyDist X < 10
trigger3 = ((EnemyNear(Var(55)),PrevStateNo = [5030,5071]) & (P2StateNo != [5030,5071]))
trigger4 = P2StateType = L & P2BodyDist X < 50 
trigger5 = P2BodyDist X < 0 & Time > 2 & P2MoveType != H

;-|防禦|--------------------------------------------------------

[State -1]
type = ChangeState
triggerall = NumHelper(9180) > 0 & NumHelper(9185) > 0 & NumHelper(9190) > 0
triggerall = Var(58) > 0
triggerall = (StateNo != [130,131]) & (StateNo != [40,43])
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || StateNo = 321) & Statetype != A
triggerall = InGuardDist || (P2BodyDist X <= 0 && P2MoveType = A) || Helper(9190),InGuardDist || Helper(9190),Var(46) = 1
triggerall = Helper(9190),Fvar(20) != 1
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),Var(30) = 0 || (PrevStateNo = [5000,5020])
triggerall = !(StateNo = 100 & P2MoveType = H & (helper(9180),var(31) != [1,4]))
triggerall = !(StateNo = 100 & Var(40) = 7 & Time <= 14) & !(StateNo = 100 & Time < EnemyNear(Var(55)),Time)
triggerall = StateNo != 100 || (StateNo = 100 & NumHelper(1400) = 0) || (StateNo = 100 & Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10)
trigger1 = ((P2StateType != A & Helper(9180),Var(31) != 1) || (P2StateType = C & P2MoveType = A & Var(54) != 1060))
trigger2 = Var(54) = 1025
trigger3 = Var(54) = 1050
trigger4 = Helper(9190),FVar(15) = 1
trigger5 = Helper(9190),FVar(16) = 1
trigger6 = Helper(9190),FVar(18) >= 1
trigger7 = Helper(9190),FVar(19) = 1
trigger8 = Helper(9190),FVar(20) = -1
trigger9 = Helper(9180),Var(31) = 2 & P2StateType != A
trigger10 = Helper(9180),Var(31) = 3 & !(P2StateType = A & P2MoveType = A & Var(54) != 1010)
trigger11 = Helper(9180),Var(31) = 4 & P2StateType != A
value = IfElse(((P2StateType = A & Helper(9190),FVar(20) != -1) || Helper(9190),FVar(18) >= 1),130,131)

[State -1]
type = ChangeState
triggerall = NumHelper(9180) > 0 & NumHelper(9185) > 0 & NumHelper(9190) > 0
triggerall = Var(58) > 0
triggerall = (StateNo != [130,131]) & (StateNo != [40,43])
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || StateNo = 321) & Statetype != A
triggerall = (Helper(9180),Var(31) = 4 & P2StateNo >= 200 & (P2StateNo != [5000,5999])  & P2MoveType != H) || (Helper(9180),Var(31) = 5  & P2MoveType = A)
triggerall = Helper(9190),Fvar(20) != 1
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),Var(30) = 0 || (PrevStateNo = [5000,5020])
triggerall = !(StateNo = 100 & P2MoveType = H & (helper(9180),var(31) != [1,4]))
triggerall = !(StateNo = 100 & Var(40) = 7 & Time <= 14) & !(StateNo = 100 & Time < EnemyNear(Var(55)),Time)
triggerall = StateNo != 100 || (StateNo = 100 & NumHelper(1400) = 0) || (StateNo = 100 & Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10)
trigger1 = ((P2StateType != A & Helper(9180),Var(31) != 1) || (P2StateType = C & P2MoveType = A & Var(54) != 1060))
trigger2 = Var(54) = 1025
trigger3 = Var(54) = 1050
trigger4 = Helper(9190),FVar(15) = 1
trigger5 = Helper(9190),FVar(16) = 1
trigger6 = Helper(9190),FVar(18) >= 1
trigger7 = Helper(9190),FVar(19) = 1
trigger8 = Helper(9190),FVar(20) = -1
trigger9 = Helper(9180),Var(31) = 2 & P2StateType != A
trigger10 = Helper(9180),Var(31) = 3 & !(P2StateType = A & P2MoveType = A & Var(54) != 1010)
trigger11 = Helper(9180),Var(31) = 4 & P2StateType != A
value = IfElse(((P2StateType = A & Helper(9190),FVar(20) != -1) || Helper(9190),FVar(18) >= 1),130,131)

[State -1]
type = ChangeState
triggerall = NumHelper(9180) > 0 & NumHelper(9185) > 0 & NumHelper(9190) > 0
triggerall = Var(58) > 0
triggerall = (StateNo != [130,131]) & (StateNo != [40,43])
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || StateNo = 321) & Statetype != A
triggerall = InGuardDist || (P2BodyDist X <= 0 && P2MoveType = A) || Helper(9190),InGuardDist || Helper(9190),Var(46) = 1
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),Fvar(20) != 1
triggerall = Helper(9190),Var(30) = 0 || (PrevStateNo = [5000,5020])
triggerall = !(StateNo = 100 & P2MoveType = H & (helper(9180),var(31) != [1,4]))
triggerall = !(StateNo = 100 & Var(40) = 7 & Time <= 14) & !(StateNo = 100 & Time < EnemyNear(Var(55)),Time)
triggerall = StateNo != 100 || (StateNo = 100 & NumHelper(1400) = 0) || (StateNo = 100 & Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10)
trigger1 = Helper(9190),Fvar(20) = -1
trigger2 = P2StateType = C
trigger3 = Helper(9180),Var(31) = 2 & P2StateType != A
trigger4 = Helper(9180),Var(31) = 3 & !(P2StateType = A & P2MoveType = A & Var(54) != 1010)
trigger5 = Helper(9180),Var(31) = 4 & P2StateType != A
value = 131

[State -1]
type = ChangeState
triggerall = NumHelper(9180) > 0 & NumHelper(9185) > 0 & NumHelper(9190) > 0
triggerall = Var(58) > 0
triggerall = (StateNo != [130,131]) & (StateNo != [40,43])
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || StateNo = 321) & Statetype != A
triggerall = (Helper(9180),Var(31) = 4 & P2StateNo >= 200 & (P2StateNo != [5000,5999])  & P2MoveType != H) || (Helper(9180),Var(31) = 5  & P2MoveType = A)
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),Fvar(20) != 1
triggerall = Helper(9190),Var(30) = 0 || (PrevStateNo = [5000,5020])
triggerall = !(StateNo = 100 & P2MoveType = H & (helper(9180),var(31) != [1,4]))
triggerall = !(StateNo = 100 & Var(40) = 7 & Time <= 14) & !(StateNo = 100 & Time < EnemyNear(Var(55)),Time)
triggerall = StateNo != 100 || (StateNo = 100 & NumHelper(1400) = 0) || (StateNo = 100 & Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10)
trigger1 = Helper(9190),Fvar(20) = -1
trigger2 = P2StateType = C
trigger3 = Helper(9180),Var(31) = 2 & P2StateType != A
trigger4 = Helper(9180),Var(31) = 3 & !(P2StateType = A & P2MoveType = A & Var(54) != 1010)
trigger5 = Helper(9180),Var(31) = 4 & P2StateType != A
value = 131

[State -1]
type = ChangeState
triggerall = Var(58) > 0
triggerall = (StateNo != [130,131]) & (StateNo != [40,43])
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || StateNo = 321) & Statetype != A
triggerall = InGuardDist || (P2BodyDist X <= 0 && P2MoveType = A) || Helper(9190),InGuardDist || Helper(9190),Var(46) = 1
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),FVar(20) != -1
triggerall = Helper(9190),Var(30) = 0 || (PrevStateNo = [5000,5020])
triggerall = !(StateNo = 100 & P2MoveType = H & (helper(9180),var(31) != [1,4]))
triggerall = !(StateNo = 100 & Var(40) = 7 & Time <= 14) & !(StateNo = 100 & Time < EnemyNear(Var(55)),Time)
triggerall = StateNo != 100 || (StateNo = 100 & NumHelper(1400) = 0) || (StateNo = 100 & Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10)
trigger1 = Helper(9190),Fvar(20) = 1
trigger2 = ((P2StateType != C & Helper(9180),Var(31) != 3) || (P2StateType != C & P2MoveType = A & Var(54) != 1010))
trigger3 = Var(54) = 1000
trigger4 = Helper(9180),Var(31) = 1 & !(P2StateType = C & P2MoveType = A & Var(54) != 1060)
trigger5 = Helper(9180),Var(31) = 2 & P2StateType != C
trigger6 = Helper(9180),Var(31) = 4 & P2StateType != C
value = 130

[State -1]
type = ChangeState
triggerall = Var(58) > 0
triggerall = (StateNo != [130,131]) & (StateNo != [40,43])
triggerall = (Ctrl || StateNo = 21 || StateNo = 22 || StateNo = 100 || StateNo = 321) & Statetype != A
triggerall = (Helper(9180),Var(31) = 4 & P2StateNo >= 200 & (P2StateNo != [5000,5999])  & P2MoveType != H) || (Helper(9180),Var(31) = 5  & P2MoveType = A)
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),FVar(20) != -1
triggerall = Helper(9190),Var(30) = 0 || (PrevStateNo = [5000,5020])
triggerall = !(StateNo = 100 & P2MoveType = H & (helper(9180),var(31) != [1,4]))
triggerall = !(StateNo = 100 & Var(40) = 7 & Time <= 14) & !(StateNo = 100 & Time < EnemyNear(Var(55)),Time)
triggerall = StateNo != 100 || (StateNo = 100 & NumHelper(1400) = 0) || (StateNo = 100 & Var(53) = 0 || Var(53) = 8 || Var(53) = 9 || Var(53) = 10)
trigger1 = Helper(9190),Fvar(20) = 1
trigger2 = ((P2StateType != C & Helper(9180),Var(31) != 3) || (P2StateType != C & P2MoveType = A & Var(54) != 1010))
trigger3 = Var(54) = 1000
trigger4 = Helper(9180),Var(31) = 1 & !(P2StateType = C & P2MoveType = A & Var(54) != 1060)
trigger5 = Helper(9180),Var(31) = 2 & P2StateType != C
trigger6 = Helper(9180),Var(31) = 4 & P2StateType != C
value = 130

[State -1]
type = ChangeState
triggerall = Var(58) > 0
triggerall = Statetype = A
triggerall = StateNo != [130,131]
triggerall = Ctrl
triggerall = InGuardDist || (P2BodyDist X <= 0 && P2MoveType = A) || Helper(9190),InGuardDist || Helper(9190),Var(46) = 1
trigger1 = 1
value = 120

[State -1]
type = ChangeState
triggerall = Var(58) > 0
triggerall = Statetype = A
triggerall = StateNo != [130,131]
triggerall = Ctrl
triggerall = (Helper(9180),Var(31) = 4 & P2StateNo >= 200 & (P2StateNo != [5000,5999])  & P2MoveType != H) || (Helper(9180),Var(31) = 5  & P2MoveType = A)
trigger1 = 1
value = 120

[State -1]
type = ChangeState
triggerall = Var(58) > 0 & (StateNo = [150,151]) & Statetype != A
triggerall = InGuardDist || (P2BodyDist X <= 0 && P2MoveType = A) || Helper(9190),InGuardDist || Helper(9190),Var(46) = 1
triggerall = StateNo != [130,131]
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),FVar(20) != -1
triggerall = HitOver
triggerall = Helper(9190),Var(30) = 0
triggerall = !(StateNo = 100 & P2MoveType = H & (helper(9180),var(31) != [1,4]))
triggerall = !(StateNo = 100 & Var(40) = 7 & Time <= 14) & !(StateNo = 100 & Time < EnemyNear(Var(55)),Time)
triggerall = StateNo != 100 || (StateNo = 100 & NumHelper(1400) = 0) || (StateNo = 100 & Var(53) = 0 || Var(53) = 8)
trigger1 = ((P2StateType = C & Helper(9180),Var(31) != 1) || (P2StateType = C & P2MoveType = A & Var(54) != 1060))
trigger1 = Helper(9190),Fvar(20) = 0
trigger2 = Helper(9190),Fvar(20) = -1
trigger3 = Helper(9180),Var(31) = 2 & P2StateType != A
trigger4 = Helper(9180),Var(31) = 3 & !(P2StateType = A & P2MoveType = A & Var(54) != 1010)
trigger5 = Helper(9180),Var(31) = 4 & P2StateType != A
value = 131

[State -1]
type = ChangeState
triggerall = Var(58) > 0 & (StateNo = [150,151]) & Statetype != A
triggerall = (Helper(9180),Var(31) = 4 & P2StateNo >= 200 & (P2StateNo != [5000,5999])  & P2MoveType != H) || (Helper(9180),Var(31) = 5  & P2MoveType = A)
triggerall = StateNo != [130,131]
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),FVar(20) != -1
triggerall = HitOver
triggerall = Helper(9190),Var(30) = 0
triggerall = !(StateNo = 100 & P2MoveType = H & (helper(9180),var(31) != [1,4]))
triggerall = !(StateNo = 100 & Var(40) = 7 & Time <= 14) & !(StateNo = 100 & Time < EnemyNear(Var(55)),Time)
triggerall = StateNo != 100 || (StateNo = 100 & NumHelper(1400) = 0) || (StateNo = 100 & Var(53) = 0 || Var(53) = 8)
trigger1 = ((P2StateType = C & Helper(9180),Var(31) != 1) || (P2StateType = C & P2MoveType = A & Var(54) != 1060))
trigger1 = Helper(9190),Fvar(20) = 0
trigger2 = Helper(9190),Fvar(20) = -1
trigger3 = Helper(9180),Var(31) = 2 & P2StateType != A
trigger4 = Helper(9180),Var(31) = 3 & !(P2StateType = A & P2MoveType = A & Var(54) != 1010)
trigger5 = Helper(9180),Var(31) = 4 & P2StateType != A
value = 131

[State -1]
type = ChangeState
triggerall = Var(58) > 0 & (StateNo = [152,153]) & Statetype != A
triggerall = InGuardDist || (P2BodyDist X <= 0 && P2MoveType = A) || Helper(9190),InGuardDist || Helper(9190),Var(46) = 1
triggerall = StateNo != [130,131]
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),FVar(20) != -1
triggerall = HitOver
triggerall = Helper(9190),Var(30) = 0
triggerall = !(StateNo = 100 & P2MoveType = H & (helper(9180),var(31) != [1,4]))
triggerall = !(StateNo = 100 & Var(40) = 7 & Time <= 14) & !(StateNo = 100 & Time < EnemyNear(Var(55)),Time)
triggerall = StateNo != 100 || (StateNo = 100 & NumHelper(1400) = 0) || (StateNo = 100 & Var(53) = 0 || Var(53) = 8)
trigger1 = ((P2StateType != C & Helper(9180),Var(31) != 3) || (P2StateType = A & P2MoveType = A & Var(54) != 1010))
trigger1 = Helper(9190),Fvar(20) != -1
trigger2 = Helper(9190),Fvar(20) = 1
trigger3 = Helper(9180),Var(31) = 1 & !(P2StateType = C & P2MoveType = A & Var(54) != 1060)
trigger4 = Helper(9180),Var(31) = 2 & P2StateType = A
trigger5 = Helper(9180),Var(31) = 4 & P2StateType = A
value = 130

[State -1]
type = ChangeState
triggerall = Var(58) > 0 & (StateNo = [152,153]) & Statetype != A
triggerall = (Helper(9180),Var(31) = 4 & P2StateNo >= 200 & (P2StateNo != [5000,5999])  & P2MoveType != H) || (Helper(9180),Var(31) = 5  & P2MoveType = A)
triggerall = StateNo != [130,131]
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),FVar(20) != -1
triggerall = HitOver
triggerall = Helper(9190),Var(30) = 0
triggerall = !(StateNo = 100 & P2MoveType = H & (helper(9180),var(31) != [1,4]))
triggerall = !(StateNo = 100 & Var(40) = 7 & Time <= 14) & !(StateNo = 100 & Time < EnemyNear(Var(55)),Time)
triggerall = StateNo != 100 || (StateNo = 100 & NumHelper(1400) = 0) || (StateNo = 100 & Var(53) = 0 || Var(53) = 8)
trigger1 = ((P2StateType != C & Helper(9180),Var(31) != 3) || (P2StateType = A & P2MoveType = A & Var(54) != 1010))
trigger1 = Helper(9190),Fvar(20) != -1
trigger2 = Helper(9190),Fvar(20) = 1
trigger3 = Helper(9180),Var(31) = 1 & !(P2StateType = C & P2MoveType = A & Var(54) != 1060)
trigger4 = Helper(9180),Var(31) = 2 & P2StateType = A
trigger5 = Helper(9180),Var(31) = 4 & P2StateType = A
value = 130

[State -1]
type = ChangeState
triggerall = Var(58) > 0 & (StateNo = [150,151]) & Statetype != A
triggerall = InGuardDist || (P2BodyDist X <= 0 && P2MoveType = A) || Helper(9190),InGuardDist || Helper(9190),Var(46) = 1
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),FVar(20) != -1
triggerall = HitOver = 0 & HitShakeOver
trigger1 = ((P2StateType != A & Helper(9180),Var(31) != 1) || (P2StateType = C & P2MoveType = A & Var(54) != 1060))
trigger1 = Helper(9190),Fvar(20) = 0
trigger2 = Helper(9190),Fvar(20) = -1
trigger3 = Helper(9180),Var(31) = 2 & P2StateType != A & Helper(9190),Fvar(20) != 1 & P2StateType != A
trigger4 = Helper(9180),Var(31) = 3 & !(P2StateType = A & P2MoveType = A & Var(54) != 1010)
trigger5 = Helper(9180),Var(31) = 4 & P2StateType != A & Helper(9190),Fvar(20) != 1 & P2StateType != A
value = 153

[State -1]
type = ChangeState
triggerall = Var(58) > 0 & (StateNo = [150,151]) & Statetype != A
triggerall = (Helper(9180),Var(31) = 4 & P2StateNo >= 200 & (P2StateNo != [5000,5999])  & P2MoveType != H) || (Helper(9180),Var(31) = 5  & P2MoveType = A)
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),FVar(20) != -1
triggerall = HitOver = 0 & HitShakeOver
trigger1 = ((P2StateType != A & Helper(9180),Var(31) != 1) || (P2StateType = C & P2MoveType = A & Var(54) != 1060))
trigger1 = Helper(9190),Fvar(20) = 0
trigger2 = Helper(9190),Fvar(20) = -1
trigger3 = Helper(9180),Var(31) = 2 & P2StateType != A & Helper(9190),Fvar(20) != 1 & P2StateType != A
trigger4 = Helper(9180),Var(31) = 3 & !(P2StateType = A & P2MoveType = A & Var(54) != 1010)
trigger5 = Helper(9180),Var(31) = 4 & P2StateType != A & Helper(9190),Fvar(20) != 1 & P2StateType != A
value = 153

[State -1]
type = ChangeState
triggerall = Var(58) > 0 & (StateNo = [152,153]) & Statetype != A
triggerall = InGuardDist || (P2BodyDist X <= 0 && P2MoveType = A) || Helper(9190),InGuardDist || Helper(9190),Var(46) = 1
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),FVar(20) != -1
triggerall = HitOver = 0 & HitShakeOver
trigger1 = ((P2StateType = A & Helper(9180),Var(31) != 3) || (P2StateType = A & P2MoveType = A & Var(54) != 1010))
trigger1 = Helper(9190),Fvar(20) != -1
trigger2 = Helper(9190),Fvar(20) = 1
trigger3 = Helper(9180),Var(31) = 1 & !(P2StateType = C & P2MoveType = A & Var(54) != 1060) 
trigger4 = Helper(9180),Var(31) = 2 & P2StateType = A & Helper(9190),Fvar(20) != -1 & P2StateType != C
trigger5 = Helper(9180),Var(31) = 4 & P2StateType = A & Helper(9190),Fvar(20) != -1 & P2StateType != C
value = 151

[State -1]
type = ChangeState
triggerall = Var(58) > 0 & (StateNo = [152,153]) & Statetype != A
triggerall = (Helper(9180),Var(31) = 4 & P2StateNo >= 200 & (P2StateNo != [5000,5999])  & P2MoveType != H) || (Helper(9180),Var(31) = 5  & P2MoveType = A)
triggerall = Helper(9190),FVar(14) = 0
triggerall = Helper(9190),FVar(18) = 0
triggerall = Helper(9190),FVar(20) != -1
triggerall = HitOver = 0 & HitShakeOver
trigger1 = ((P2StateType = A & Helper(9180),Var(31) != 3) || (P2StateType = A & P2MoveType = A & Var(54) != 1010))
trigger1 = Helper(9190),Fvar(20) != -1
trigger2 = Helper(9190),Fvar(20) = 1
trigger3 = Helper(9180),Var(31) = 1 & !(P2StateType = C & P2MoveType = A & Var(54) != 1060) 
trigger4 = Helper(9180),Var(31) = 2 & P2StateType = A & Helper(9190),Fvar(20) != -1 & P2StateType != C
trigger5 = Helper(9180),Var(31) = 4 & P2StateType = A & Helper(9190),Fvar(20) != -1 & P2StateType != C
value = 151

;-| Walk |--------------------------------------------------------

[State -1, Run Fwd]
type = ChangeState
value = 0
triggerall = Var(58) > 0
triggerall = StateNo = 321 & P2BodyDist X < 0
trigger1 = statetype != A & P2MoveType != H
ctrl = 1


[State -1, Run Fwd]
type = ChangeState
value = 321
triggerall = Var(58) > 0
triggerall = StateNo = 0 & Ctrl & Time >= 2 & Random <= 200 & P2BodyDist X >= 0
trigger1 = statetype != A

[State -1, Run Fwd]
type = ChangeState
value = 21
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & StateType != A & Var(53) = 0
triggerall = StateNo != [120, 153]
triggerall = FrontEdgeBodyDist >= 25 & P2BodyDist X >= 75
triggerall = StateNo != 100 & StateNo != 101 & P2StateType != L & P2StateNo != 5120 
triggerall = P2StateType != A || (P2StateType = A & MoveType != A)
triggerall = !(P2StateType = L & P2BodyDist X < 125) & !(P2MoveType = A & P2BodyDist X < 125)
triggerall = Helper(9190),Var(46) = 0 ;強制防禦檢測
triggerall = (P2StateNo != [5200,5210]) ;避免貼對手
triggerall = NumHelper(1400) = 0 & Helper(9190),Var(30) > 0
trigger1 = (Ctrl || StateNo = 321)
trigger1 = StateNo != 22 & P2StateNo != 100 & P2BodyDist X >= 150 & P2MoveType != H
trigger2 = Var(53) = 0 & StateNo = 22 & (BackEdgeBodyDist <= 10 || Time > 12)
trigger2 = P2StateNo != 100 & P2BodyDist X >= 400 & P2MoveType != H
trigger3 = StateNo = 22 & P2BodyDist X >= 200 & P2MoveType != H

[State -1, Run Back]
type = ChangeState
value = 22
triggerall = Var(58) > 0 & NumHelper(9190) > 0 & StateType != A & Var(53) = 0
triggerall = StateNo != [120, 153]
triggerall = BackEdgeBodyDist >= 25
triggerall = P2StateType != A|| (P2StateType = A & MoveType != A)
triggerall = (Ctrl || StateNo = 321)
triggerall = P2MoveType != H 
triggerall = Helper(9190),Var(46) = 0 ;強制防禦檢測
triggerall = NumHelper(1400) = 0 & Helper(9190),Var(30) > 0
trigger1 = P2StateNo = 100
trigger2 = statetype != A
trigger2 = StateNo = 21
trigger2 = (P2BodyDist X <= 200 & P2StateType = L)
trigger3 = StateNo = 40 & PrevStateNo = 0
trigger4 = P2StateNo = [5200,5210]
trigger4 = P2BodyDist X <= 90
trigger5 = (P2StateNo = [5200,5210]) & P2BodyDist X < 90 & Var(53) = 0
trigger6 = P2MoveType = H & P2StateType = A & Var(53) = 0 & P2BodyDist X < 60