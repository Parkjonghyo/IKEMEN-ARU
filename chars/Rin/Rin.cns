; これは遠坂凛のＣＮＳファイルです。
; コメントを参考にしてＣＮＳを理解してください

;Var(0) = コンフィグ
;Var(1) = 音声
;Var(2) = キャンセル
;Var(3) = ハイジャンプ
;Var(4) = ヒット数補正
;Var(5) = クリティカルヒット判定
;Var(6) = 近接超反応用
;Var(7) = 
;Var(8) = 
;Var(9) = 特殊コマンド制限用
;Var(10) = ジャンプキャンセル回数
;Var(11) = 2段ジャンプ、空中ダッシュ回数、ローアルト判定
;Var(12) = リバーサルアタック
;Var(13) = HEAT&BLOODHEAT
;Var(14) = HEAT強制開放
;Var(15) = MAX表示/UNLIMITEDモード/CIRCUITBREAKモード
;Var(16) = ダッシュ慣性付き垂直ジャンプ判定
;Var(17)〜Var(19) = スーパーアーマー
;Var(20) = 弱攻撃コンボ制限
;Var(21) = 中攻撃コンボ制限
;Var(22) = 強攻撃コンボ制限
;Var(23) = コンボ制限;覚醒設定
;Var(24) = 特殊KO演出用
;Var(25) = ループコンボ制限
;Var(26) = ゲージ選択
;Var(27) = EX-キャンセル用
;Var(28) = ダメージカウンター
;Var(29) = ダメージカウンター
;Var(30) = インバリッド判定
;Var(31) = 特定攻撃のコンボ補正
;Var(32)〜Var(35) = ヴァイタルソース
;Var(36) = 特殊コマンド制限用
;Var(37) = サーキットブレイク時パワー記憶
;Var(38) = カウンター判定
;Var(39) = HighCounterとLowCounter判別用
;Var(40) = リバースビート/シールドキャンセルカウント
;Var(41) = ヒットポーズ計算用
;Var(42) = スタイルチェンジと覚醒設定
;Var(43) = ＥＸエッジゲージ補正カウント
;Var(44) = 暗転時間カウント
;Var(45) = ガードキャンセルバンカーキャンセル用
;Var(46) = タイムカウント
;Var(47) = 一撃必殺カウント用
;Var(48) = ファーストアタック判定
;Var(49) = パワー増加無効化
;Var(50) = ダウン追い討ち判定
;Var(51) = サーキットブレイク判定
;Var(52) = レデュースダメージ判定
;Var(53) = レデュースダメージ判定
;Var(54) = 特殊KOBGM設定
;Var(55) = 性能
;Var(56) = 開幕行動前用
;Var(57) = AIEnemyNear切り替え用
;Var(58) = AIランダム
;Var(59) = AI

;FVar(0) = コンボ補正
;FVar(1) = 特定攻撃のコンボ補正
;FVar(2) = ヒット数補正
;FVar(3) = クリティカルヒット補正
;FVar(4)&FVar(5) = 状態ダメージ補正
;FVar(6) = 
;FVar(7) = defencemulバグ用
;FVar(8)〜FVar(9) = ヴァイタルソース
;FVar(10) = ガード削りKO用
;FVar(11) = リバースビート/シールドキャンセルダメージ補正
;FVar(12) = ＥＸキャンセル補正
;FVar(13) = 根性値補正
;FVar(14) = MBキャラ判定
;FVar(16) = ＥＸエッジゲージ補正
;FVar(20) = レデュースダメージ判定
;FVar(21) = レデュースダメージ判定
;FVar(22) = レデュースダメージヘルパー用
;FVar(23) = レデュースダメージAI用
;FVar(25) = ダウン追い討ちY方向ベクトル
;FVar(26) = アークドライブゲージ補正
;FVar(27) = レデュースダメージエフェクト用
;FVar(28) =
;FVar(29) =
;FVar(30) =
;FVar(31) =
;FVar(32) =
;FVar(33) =
;FVar(34) =
;FVar(35) = 
;FVar(36) =
;FVar(39) = やられモーションのアニメ変更用

; これは有間都古の定数と状態のファイルです。
; 絶対記入し、削除はしないでください。
[Data]
  ;体力ゲージの初期値
Life = 1000
  ;攻撃力（これ以上に設定すると強くなる）
Attack = 100
  ;防御力（これ以上に設定すると強くなる）
Defence = 100
  ;コンボをくらっている時にあがる防御力
Fall.Defence_Up = 50
  ;倒れてから起上がるまでのフレーム数
Liedown.Time = 60
  ;空中でどれだけコンボが繋がるか（高くすると無限コンボになるので注意）
AirJuggle = 15
  ;hitdefで設定していない時の基本ヒットスパークナンバー
SparkNo = 2
  ;設定してない時のガードナンバー
Guard.SparkNo = 40
  ;KOした時に声にエコーをかけるか（１でＯＮ）
KO.Echo = 0
 Volume = 100
  IntPersistIndex = 13
FloatPersistIndex = 40

[Size]
xscale = 1           ;水平方向の縮尺（通常１）
yscale = 1           ;垂直方向の縮尺（通常１）
ground.back = 13     ;キャラの幅(後方,地上)
ground.front = 14    ;キャラの幅(前方,地上)
air.back = 13        ;キャラの幅(後方,空中)
air.front = 14       ;キャラの幅(前方,空中)
height = 45          ;キャラの高さ
attack.dist = 160    ;攻撃をした時相手がガード体制に入る最低距離
proj.attack.dist = 90;攻撃をした時相手がガード体制に入る最低距離（飛び道具）
proj.doscale = 0     ;上で設定した縮尺を飛び道具にも適用するか（１でＯＮ）   
head.pos = -5, -70   ;頭の大体の座標
mid.pos = -5, -40    ;体の中心の大体の座標
shadowoffset = 0     ;影の垂直方向のオフセット
draw.offset = 0,0    ;使用しない

[Velocity]
walk.fwd  = 2.0      ;前進の速度
walk.back = -2.0     ;後退の速度
run.fwd  = 4.6, 0    ;前ダッシュの速度（ホップする時はyを-にする）
run.back = -4.5,-3.8 ;後ダッシュの速度（ホップする時はyを-にする）
jump.neu = 0,-9.5    ;垂直ジャンプの速度
jump.back = -1.8    ;後ジャンプの速度
jump.fwd = 2.4       ;前ジャンプの速度
runjump.back = -2.7,-9.5 ;後ダッシュしながらのジャンプ速度(オプション)
runjump.fwd = 2.7,-9.5     ;前ダッシュしながらのジャンプ速度(オプション)
airjump.neu = 0,-8.7      ;２段ジャンプ以降の垂直ジャンプの速度(オプション)
airjump.back = -1.8      ;２段ジャンプ以降の後ジャンプの速度(オプション)
airjump.fwd = 2.4         ;２段ジャンプ以降の前ジャンプの速度

[Movement]
airjump.num = 0      ;空中でジャンプする回数
airjump.height = 35  ;空中でジャンプする最低限の高さ
yaccel = .52         ;重力
stand.friction = .85  ;立ち状態の摩擦係数
crouch.friction = .82 ;屈み状態の摩擦係数

;---------------------------------------------------------------------------
; ステイトの解説
; [Statedef STATENO]
; type = ?      S/C/A/L  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｌ：ダウン
; movetype = ?  I/A/H    Ｉ：通常状態/Ａ：攻撃状態/Ｈ：ダメージをくらってる状態
; physics = ?   S/C/A/N  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｎ：無し
; juggle = ?             その攻撃に使うジャグル数
;

;---------------------------------------------------------------------------
; タイムオーバーで負けた時
[Statedef 170]
Type = S
Ctrl = 0
Anim = 170
VelSet = 0,0

[State 170, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 100
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作 -分岐-
[Statedef 180]
Type = S

[State -1]
Type = ChangeState
TriggerAll = numHelper(15006) = 1
Trigger1 = 1
Value = 184

[State -1]
Type = ChangeState
TriggerAll = numExplod(6500) != 0
Trigger1 = 1
Value = 186

[State -1] 
Type = ChangeState
Triggerall = Var(1) = 100
Trigger1 = Time = 0
Value = 184

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = ChangeState
;Triggerall = Var(1) = 0
TriggerAll = !MatchOver
Trigger1 = Time = 0
Value = 181

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = ChangeState
;Triggerall = Var(1) = 1
TriggerAll = MatchOver
Trigger1 = Time = 0
Value = 182

[State -1] 
Type = null;ChangeState
Triggerall = Var(1) = 2
Trigger1 = Time = 0
Value = 183

;---------------------------------------------------------------------------
; 勝った動作１
[Statedef 181]
Type = S
Ctrl = 0
Anim = Ifelse(var(1) = 0,181,182)
VelSet = 0,0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s180, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s180, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Var(1) = 0
Trigger1 = Time <= 120
Trigger2 = Var(1) = 1
Trigger2 = Time <= 120
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作１
[Statedef 182]
Type = S
Ctrl = 0
Anim = 183+var(1)
VelSet = 0,0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s181, var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
TriggerAll = Time >= 0
Trigger1 = Time <= 300
Trigger2 = Var(1) = 1
Trigger2 = Time <= 430
Trigger3 = Var(1) = 2
Trigger3 = Time <= 570
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作２
[Statedef 183]
Type = S
Ctrl = 0
Anim = 184
VelSet = 0,0

[State -1]
Type = Explod
Trigger1 = AnimElem = 5
ID = 184
PosType = P1
Pos = 0,15
Anim = 10990
Ownpal = 1
scale = 0.5,0.5
SprPriority = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 14
ID = 184
PosType = P1
Pos = -40,36
Scale = 0.5,0.5
Anim = 935
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 15
ID = 184
PosType = P1
Pos = 0,10
Anim = 1005
Ownpal = 1
SprPriority = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 24
ID = 184
PosType = P1
Pos = 0,0
Anim = 15100
Ownpal = 1
SprPriority = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = EnvShake
Trigger1 = AnimElem = 5
Time  = 8
Ampl  = 5
Freq  = 90

[State -1]
Type = EnvShake
Trigger1 = AnimElem = 16
Time  = 10
Ampl  = 7
Freq  = 95

[State -1]
Type = EnvShake
Trigger1 = AnimElem = 24
Time  = 13
Ampl  = 9
Freq  = 100

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 5
Value = s930, 0
Channel = 4

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1000, 1
Channel = 3

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 9
Value = s925, 0
Channel = 1

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 14
Value = s30, 2
Channel = 3

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 23
Value = s41, 10
Channel = 2

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 24
Value = s925, 1
Channel = 4

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 33
Value = s180, 1
Channel = 4

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 180
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作１
[Statedef 184]
Type = S
Ctrl = 0
Anim = 186
VelSet = 0,0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s182, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 480
Flag = RoundNotOver

;---------------------------------------------------------------------------
;勝利（リオン）
[Statedef 185]
type = S
ctrl = 0
anim = 185
velset = 0,0
sprpriority = 0

[State 181, Sound]
type = PlaySnd
trigger1 = AnimElem = 17, 18
value = 195, 6
channel = 10

[State 181, 1]
type = AssertSpecial
trigger1 = time < 270
flag = roundnotover

[State 181, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; 勝った動作(アストラル)
[Statedef 186]
Type = S
Ctrl = 0
Anim = 184
VelSet = 0,0

[State -1]
Type = Explod
Trigger1 = AnimElem = 5
ID = 184
PosType = P1
Pos = 0,15
Anim = 10990
Ownpal = 1
scale = 0.5,0.5
SprPriority = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 14
ID = 184
PosType = P1
Pos = -40,36
Scale = 0.5,0.5
Anim = 935
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 15
ID = 184
PosType = P1
Pos = 0,10
Anim = 1005
Ownpal = 1
SprPriority = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 24
ID = 184
PosType = P1
Pos = 0,0
Anim = 15100
Ownpal = 1
SprPriority = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = EnvShake
Trigger1 = AnimElem = 5
Time  = 8
Ampl  = 5
Freq  = 90

[State -1]
Type = EnvShake
Trigger1 = AnimElem = 16
Time  = 10
Ampl  = 7
Freq  = 95

[State -1]
Type = EnvShake
Trigger1 = AnimElem = 24
Time  = 13
Ampl  = 9
Freq  = 100

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 5
Value = s930, 0
Channel = 4

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1000, 1
Channel = 3

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 9
Value = s925, 0
Channel = 1

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 14
Value = s30, 2
Channel = 3

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 23
Value = s41, 10
Channel = 2

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 24
Value = s925, 1
Channel = 4

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 33
Value = s3200, 7
Channel = 4

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 550
Flag = RoundNotOver



;---------------------------------------------------------------------------
; 開始前の動作 1
[Statedef 190]
Type = S
Ctrl = 0
Anim = 190
VelSet = 0,0

[state -2]
type = nothitby
trigger1 = 1
value = SCA

[state -2]
type = changestate
trigger3 = var(23) = 1
trigger2 = palNo = 12
trigger1 = roundno = 3
triggerAll = roundstate = 0
triggerAll = time = 0
value = 194

[State -1] 
Type = null;ChangeState
TriggerAll = Time = 0
Trigger1 = TeamSide = 1
Trigger1 = Enemy,Name = "Arima_Miyako"
Value = 193

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State -1] 
Type = ChangeState
Triggerall = Var(1) = 0
Trigger1 = Time = 0
Value = 191

[State -1] 
Type = ChangeState
Triggerall = Var(1) = [1,2]
Trigger1 = Time = 0
Value = 192

;---------------------------------------------------------------------------
; 開始前の動作 1
[Statedef 191]
Type = S
Ctrl = 0
Anim = 190
VelSet = 0,0

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s190, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 17
Value = s30, IfElse((Var(26)=[2,3]),1,11)
Channel = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerSet
Trigger1 = RoundNo = 1
Trigger1 = Time = 0
Value = 1000
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; 開始前の動作 2
[Statedef 192]
Type = S
Ctrl = 0
Anim = ifelse(var(1) = 1,191,192)
VelSet = 0,0

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s190, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s190, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerSet
Trigger1 = RoundNo = 1
Trigger1 = Time = 0
Value = 1000
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; 開始前の動作(vs.都古用)
[Statedef 193]
Type = S
Ctrl = 0
Anim = 0
VelSet = 0,0

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 0
Trigger1 = Time = 90
Value = 191

[State -1]
Type = PlaySnd
Trigger1 = Anim = 191
Trigger1 = AnimElem = 1
Value = s191, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerSet
Trigger1 = RoundNo = 1
Trigger1 = Time = 0
Value = 1000
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = ChangeState
Trigger1 = Anim = 191
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; 開始前の動作 4 -覚醒-
[Statedef 194]
Type = S
Ctrl = 0
Anim = 194
VelSet = 0,0

[State -1]
Type = PlaySnd
Trigger1 = time = 0
Value = s5, 2
Volume = 255
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = time = 0
StateNo = 6025
;ID = 10003
Name = "EX_Effect"
Pos = 0,-50
PosType = P1
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = time = 0
StateNo = 6020;IfElse(Var(26)=3,6015,6010)
;ID = 10000
Name = "EX_Effect"
Pos = 0,-50
PosType = P1
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3000, Superpause]
type = SuperPause
trigger1 = roundstate = 2
trigger1 = Time = 4
time = 400
movetime = 400
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State 100]
type = AssertSpecial
Trigger1 = 1
flag = nobg
flag2 = intro
flag3 = noFG
[State -2]
type = AssertSpecial
Trigger1 = 1
flag = nobardisplay
flag2 = nomusic

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 1
Value = s3000, 1
Volume = 255
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s3005, 0
Channel = 3

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s3005, 1
Channel = 4

[State -1]
Type = Explod
Trigger1 = AnimElem = 5
ID = 3005
PosType = P1
Pos = 0,0
Anim = 3005
Scale = IfElse(Var(7)=0,0.5,0.75),IfElse(Var(7)=0,0.5,0.75)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = EnvShake
Trigger1 = AnimElem = 5
Time  = 40
Ampl  = 5
Freq  = 90

[state -1]
type = null;Trans
trigger1 = time <= 120
trigger1 = time > 100
trans = addalpha
alpha = 240-6*(time-100),256

[state -1]
type = null;Trans
trigger1 = time <= 300
trigger1 = time > 120
trans = addalpha
alpha = 120,256

[State -2]
type = null;Helper
trigger1 = time = 120
stateno = 196
ownpal = 1
pausemovetime = 9999999999999
supermovetime = 9999999999999
ID = 196

[State -1]
Type = null;PlaySnd
Trigger1 = time = 160
Value = s5, 1
Volume = 255
;Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;PlaySnd
trigger1 = time = 200
Value = s190, 6
Volume = 500
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 20
Value = s190, 3
;Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 130
Value = s190, 4
;Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state -1]
type = null;Trans
trigger1 = time <= 380
trigger1 = time > 300
trans = addalpha
alpha = 120+6*(time-300),256

[State -1] 
Type = ChangeState
trigger1 = time > 150
Value = 197

;---------------------------------------------------------------------------
; 開始前の動作 4 -覚醒-
[Statedef 196]
Type = S
Ctrl = 0
Anim = 2
VelSet = 0,0


[state -1]
type = Trans
;trigger1 = time <= 
trigger1 = time <= 40
trigger1 = time >= 0
trans = addalpha
alpha = 16+6*time,256

[state -1]
type = Trans
trigger1 = time <= 340
trigger1 = time > 200
trans = addalpha
alpha = 240-6*(time-200),256

[State -1] 
Type = destroyself
trigger1 = time > 340

;--------------------------------------------------------------------------
[Statedef 197]
Type     = S
MoveType = A
Physics  = S
Anim     = 198
Ctrl     = 0
VelSet = 0,0
PowerAdd = 0
Facep2 = 1

[state -2]
type = powerset
Trigger1 = Time = 19
value = powermax

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State 100]
type = AssertSpecial
Trigger1 = 1
flag = nobg
flag2 = intro
flag3 = noFG
[State -2]
type = AssertSpecial
Trigger1 = 1
flag = nobardisplay
flag2 = nomusic

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 20

[State -1]
Type = EnvShake
Trigger1 = Time = 15
Time  = 24
Ampl  = 5
Freq  = 90

[State -1]
Type = Explod
Trigger1 = Time = 15
Anim = 10950
ID = 10950
Pos = 0,0
PosType = P1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 20
Value = s950, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 15
StateNo = 10990
ID = 10990
Pos = 0,15
PosType = P1
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 15
StateNo = 10991
ID = 10991
Pos = -5,-80
PosType = P1
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 1
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s190,7 
Volume = 500
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 15
Value = sIfElse((Var(26)=[2,3]),990,950), IfElse((Var(26)=[2,3]),1,0)
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFX
Trigger1 = Time >= 12
Time = 16
Add = 255-Var(8),255-Var(8),255-Var(8)
IgnoreHitPause = 0
Peresistent = 1

[State -1]
Type = VarAdd
Trigger1 = Time >= 16
Trigger1 = Time <= 28
V = 8
Value = 20

[State -1]
Type = VarSet
;Trigger1 = RoundState <= 2
;Trigger1 = Var(13) = 1
Trigger1 = Time = 0;19
V = 13
Value = -1

[State -1]
Type = VarSet
Trigger1 = RoundState <= 2
Trigger1 = Var(13) = 0
Trigger1 = Time = 19
V = 13;14
Value = -1

[State -1]
Type = VarSet
TriggerAll = Time = 19
Trigger1 = Var(14) = 1
V = 46
Value = 30
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
TriggerAll = Time = 19
Trigger1 = Var(13) = -1
V = 46
Value = 60
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
TriggerAll = Time = 19
Trigger1 = Var(13) = -1
Trigger2 = Var(14) = 1
V = 49
Value = (Power)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
TriggerAll = Var(51) = 0
TriggerAll = Var(0)/1000%10 = 0
TriggerAll = NumExplod(25200) = 0
Trigger1 = Time = 19
Anim = 25200
PosType = Left
Pos = 160, 30
BindTime = -1
RemoveTime = -2
Ownpal = 1
OnTop = 1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25200
Persistent = 0

[State -1]
Type = null;AfterImage
Trigger1 = Var(13) = -1
Trigger1 = Time = 19
Time = 99999
Trans = Add
Length   = 10
TimeGap  = 1
FrameFap = 1
PalBright = 0 , 0 , 0
PalContrast = 150 , 150 , 150
PalAdd = 100 , 100 , 0
PalMul = .5 , .5 , .5
IgnoreHitPause = 1
Peresistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;AfterImage
Trigger1 = Var(13) = 0
Trigger1 = Time = 19
Time = 999999
Trans = Add
Length   = 10
TimeGap  = 1
FrameFap = 1
PalBright = 0 , 0 , 0
PalContrast = 50 , 50 , 255
PalAdd = 0 , 0 , 0
PalMul = .5 , .5 , .5
IgnoreHitPause = 1
Peresistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = AnimTime = 0
V = 8
Value = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 1
Trigger1 = Time = 19
Attr = S, NA
Damage = Ceil(FVar(0)*(10-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
Priority = 4, Hit
PauseTime = 1, 1+Var(41)
SparkNo = -1
Guard.SparkNo = -1
SparkXY = -Random%20, -50-Random%20
HitSound = s10, IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = High
Air.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -5
Air.Velocity = -3,-3.2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
P2Facing = 1
Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = 0
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*11)
P2StateNo = 5600
ID = 5600
EnvShake.Time = 15
EnvShake.Ampl = 5
EnvShake.Freq = 90

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 2
Trigger1 = Time = 19
Attr = S, NA
Damage = Ceil(FVar(0)*(10-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
Priority = 4, Hit
PauseTime = 1, 1+Var(41)
SparkNo = -1
Guard.SparkNo = -1
SparkXY = -Random%20, -50-Random%20
HitSound = s10, IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = High
Air.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -5
Air.Velocity = -3*Var(50),IfElse(Var(50)=1,-3.2,FVar(25))
Down.Velocity = -6,-2.5
Ground.CornerPush.VelOff = -6
Air.CornerPush.VelOff = -4*Var(50)
Down.CornerPush.VelOff = -8
YAccel = .48
Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = 0
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*11)
ID = 5600
EnvShake.Time = 15
EnvShake.Ampl = 5
EnvShake.Freq = 90

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 30
Persistent = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;--------------------------------------------------------------------------
; 開始前の動作 4 -覚醒状態的-
[Statedef 198]
Type = S
Ctrl = 0
Anim = 196
VelSet = 0,0

[State 100]
type = null;AssertSpecial
Trigger1 = 1
flag = nobg
flag2 = intro
flag3 = noFG

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State -1]
Type = VarRandom
Trigger1 = time = 0
V = 1
Range = 1,5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = var(1) = 1
Trigger1 = Time = 10
Value = s190, 8
Channel = 1
Volume = 999
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = var(1) = 2
Trigger1 = Time = 10
Value = s190, 9
Channel = 1
Volume = 999
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = var(1) = 3
Trigger1 = Time = 10
Value = s190, 10
Channel = 1
Volume = 999
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = var(1) = 4
Trigger1 = Time = 10
Value = s190, 11
Channel = 1
Volume = 999
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = var(1) = 5
Trigger1 = Time = 10
Value = s190, 12
Channel = 1
Volume = 999
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerSet
Trigger1 = RoundNo = 1
Trigger1 = Time = 0
Value = 1000
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = Changeanim
Trigger1 = var(1) = 1
Trigger1 = time = 430
Value = 197

[State -1] 
Type = Changeanim
Trigger1 = var(1) = 2
Trigger1 = time = 320
Value = 197

[State -1] 
Type = Changeanim
Trigger1 = var(1) = 3
Trigger1 = time = 470
Value = 197

[State -1] 
Type = Changeanim
Trigger1 = var(1) = 4
Trigger1 = time = 320
Value = 197

[State -1] 
Type = Changeanim
Trigger1 = var(1) = 5
Trigger1 = time = 240
Value = 197

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; 挑発の動作
[Statedef 195]
Type = S
Ctrl = 0
Anim = 195
MoveType = I
Physics = S
Sprpriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, IfElse((Var(26)=[2,3]),1,11)
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s195, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 5
Anim = 196
ID = 196
PosType = P1
Pos = 0,0
Ownpal = 1
BindTime = -1
RemoveTime = 60
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = CtrlSet
Trigger1 = AnimElem = 8
Value = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 立ち弱
[Statedef 200]
Type    = S                      
MoveType= A                      
Physics = S                      
Juggle  = 0                      
;Commonly-used controllers:
Ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
Anim = 200                       ;このステートで表示するスプライトステート番号(0で変化無し)
SprPriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, IfElse((Var(26)=[2,3]),0,10)
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.72
FV = 1
Value = 0.72
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = S, NA                                             ;立ち状態で、通常の攻撃(ｓは立ち、ｎは通常、aは攻撃を表す)
Damage = Ceil(FVar(0)*(30-Var(4)%2))                     ;ダメージ量（左が当たった時、右はガードした時）
AnimType = Light                                         ;当てた時の相手のポーズ（light/midium/hard/back）から選択
GuardFlag = M                                            ;ガードできる状態（ｍaは全ての状態でガード可能）
HitFlag = MAFD                                           ;当てる事のできる条件
Priority = 1, Hit                                        ;攻撃の優先権（0弱い　4通常　7強い
PauseTime = 6, 6+Var(41)                                 ;攻撃が当たった時の硬直時間（左が自分、右が相手）
Guard.PauseTime = 6, 6
HitSound = s10, IfElse(Var(26)=2,0,IfElse(Var(26)=3,20,10));ヒットした時の音（ｓ*,*にすると自分の音を使う）
GuardSound = s120, IfElse((Var(26)=[2,3]),0,10)          ;ガードした時の音（同上）
SparkXY = -Random%20, -40-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = High                                       ;相手のくらった場所（High：頭、体, Low：足, Trip：足払い）
Ground.SlideTime = 10                                    ;相手が後にすべる時間
Ground.HitTime  = 10                                     ;コンボが繋がる時間（高くしすぎない事）
Ground.Velocity = -2.8                                   ;地上で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
Down.Velocity = -2.4,-2.5
Air.Type = High                                          ;空中で相手がくらった場所（上と同じ）
Air.Velocity = -1.8*Var(50),IfElse(Var(50)=1,-5.8,FVar(25));空中で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
Ground.CornerPush.VelOff = -3.6
Air.CornerPush.VelOff = -2.8*Var(50)
Down.CornerPush.VelOff = -5.6
YAccel = .48
ID = 200
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 18
GetPower = Ceil(FVar(16)*30), Ceil(0.85*FVar(16)*30)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*9), Ceil(IfElse(FVar(16)=0,1,FVar(16))*4)

[State -1]
Type = VarSet
Trigger1 = 1
Trigger1 = Var(20)%10 = 0
V = 20
Value = Var(20)+1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;立ち中
[Statedef 210]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 210
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Helper
Trigger1 = Time = 2
StateNo = 9000
ID = 9000
PosType = P1
Ownpal = 1
SprPriority = 5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 2
Trigger2 = AnimElem = 3
Trigger3 = AnimElem = 4
X = 6

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, IfElse((Var(26)=[2,3]),1,11)
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = S, NA
AnimType  = Midium
Damage    = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
Priority = 2, Hit
PauseTime = 8,8+Var(41)
Guard.PauseTime = 8,8
HitSound   = s10,IfElse(Var(26)=2,1,IfElse(Var(26)=3,21,11))
GuardSound = s120,IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -30-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -5
Air.Velocity = -1.5*Var(50),IfElse(Var(50)=1,-6.8,FVar(25))
Down.Velocity = -3,-2.5
Ground.CornerPush.VelOff = -6
Air.CornerPush.VelOff = -2.5*Var(50)
Down.CornerPush.VelOff = -5
YAccel = .48
Kill = 1
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 22
GetPower = Ceil(FVar(16)*70), Ceil(0.85*FVar(16)*70)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*21), Ceil(IfElse(FVar(16)=0,1,FVar(16))*10)

[State -1]
Type = VarSet
Trigger1 = 1
Trigger1 = Var(21)%10 = 0
V = 21
Value = Var(21)+1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; クラックソウル
[Statedef 215]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 216
SprPriority = 1
Facep2 = 1
VelSet = IfElse(PrevStateNo != 101, 0, Vel X),0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State 215,~素振り~]
Type     = PlaySnd
Trigger1 = AnimElem = 8
Value    = 30,0
Channel  = -1

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 7
ID = 217
PosType = P1
Pos = 25,-55
Anim = 217
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type      = StateTypeSet
Trigger1  = AnimElem = 3
StateType = A
Physics   = N
[State -1]
Type      = StateTypeSet
Trigger1  = Vel Y >= 0.1 && Pos Y >= 0 || Anim = 218
StateType = S
Physics   = S

[State -1]
Type     = VelSet
Trigger1 = AnimElem = 3
X        = 6.0
Y        = -4.5
[State -1]
Type     = VelMul
Trigger1 = AnimElem = 3,>= 1
X        = 0.94

[State -1]
Type     = VelAdd
Trigger1 = StateType = A
Y        = 0.3

[State -1]
Type     = ChangeAnim
Trigger1 = Vel Y >= 0.1 && Pos Y >= 0 && Anim != 218
Value    = 218

[State -1]
Type     = PosSet
Trigger1 = Vel Y >= 0.1 && Pos Y >= 0 || Anim = 218
Y        = 0
[State -1]
Type     = VelSet
Trigger1 = Vel Y >= 0.1 && Pos Y >= 0 || Anim = 218
Y        = 0

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.55
FV = 1
Value = 0.55
IgnoreHitPause = 1

[State -1]
type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 9
Attr = A, NA
AnimType  = Herd
Damage    = Ceil(FVar(0)*(95-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = 2, Hit
PauseTime = 10,10+Var(41)
HitSound   = s10,IfElse(Var(26)=2,1,IfElse(Var(26)=3,21,11))
GuardSound = s120,IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -6.5
Guard.Velocity = -7.5
Air.Velocity = -2*Var(50),IfElse(Var(50)=1,-7,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -7.5
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -6
YAccel = .48
Kill = 1
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 23
GetPower = Ceil(FVar(16)*80), Ceil(0.85*FVar(16)*80)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*24), Ceil(IfElse(FVar(16)=0,1,FVar(16))*12)

[State -1]
Type = VarSet
Trigger1 = 1
Trigger1 = Var(21)%10 = 0
V = 21
Value = Var(21)+1

[State -1]
Type = VarRandom
Trigger1 = Time = 1
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = Time = 1
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;立ち強
[Statedef 220]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 220
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VelSet
Trigger1 = AnimElem = 1
X = 5

[State -1]
Type = VelSet
Trigger1 = AnimElem = 4
X = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, IfElse((Var(26)=[2,3]),1,11)
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = AnimElem = 4
Trigger1 = P2StateType = A
Trigger1 = Var(50) = 1
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(1)*10)
HitFlag = MAFD
GuardFlag = M
Priority = 3, Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
GuardSound = s120,IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -40-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9
Air.Velocity = -2*Var(50),IfElse(Var(50)=1,-5.4,FVar(25))
Down.Velocity = -6,-2.5
Ground.CornerPush.VelOff = -10
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -7
P2StateNo = 5600
ID = 5600
P2Facing = 1
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = Ceil(FVar(16)*100), Ceil(0.85*FVar(16)*100)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*30), Ceil(IfElse(FVar(16)=0,1,FVar(16))*15)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = AnimElem = 4
Trigger1 = Var(50) = 2
Trigger2 = P2StateType != A
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(1)*10)
HitFlag = MAFD
GuardFlag = M
Priority = 3, Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
GuardSound = s120,IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -40-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9
Air.Velocity = -2*Var(50),IfElse(Var(50)=1,-5.2,FVar(25))
Down.Velocity = -6,-2.5
Ground.CornerPush.VelOff = -10
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -7
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 25
GetPower = Ceil(FVar(16)*100), Ceil(0.85*FVar(16)*100)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*30), Ceil(IfElse(FVar(16)=0,1,FVar(16))*15)

[State -1]
Type = VarSet
Trigger1 = 1
Trigger1 = Var(22)%10 = 0
V = 22
Value = Var(22)+1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;6中
[Statedef 230]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 230
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Helper
Trigger1 = Time = 7
StateNo = 9000
ID = 9003
PosType = P1
Ownpal = 1
SprPriority = 5

[State -1]
Type = Helper
Trigger1 = Time = 12
StateNo = 9000
ID = 9004
PosType = P1
Ownpal = 1
SprPriority = 5

[State -1]
Type = VelSet
Trigger1 = Time = [0,12]
X = 3

[State -1]
Type = VelSet
Trigger1 = Time = 13
X = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s230, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, IfElse((Var(26)=[2,3]),1,11)
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = S, NA
AnimType  = Midium
Damage    = Ceil(FVar(0)*(55-Var(4)%2)),Ceil(FVar(1)*5)
HitFlag = MAFD
GuardFlag = M
Priority = 2, Hit
PauseTime = 8,8+Var(41)
Guard.PauseTime = 8,8
HitSound   = s10,IfElse(Var(26)=2,1,IfElse(Var(26)=3,21,11))
GuardSound = s120,IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -30-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -5.6
Air.Velocity = -1.5*Var(50),IfElse(Var(50)=1,-6.8,FVar(25))
Down.Velocity = -5.6,-2.5
Ground.CornerPush.VelOff = -6.6
Air.CornerPush.VelOff = -2.5*Var(50)
Down.CornerPush.VelOff = -6.6
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 22
GetPower = Ceil(FVar(16)*55), Ceil(0.85*FVar(16)*55)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*16), Ceil(IfElse(FVar(16)=0,1,FVar(16))*8)

[State -1]
Type = VarSet
Trigger1 = 1
Trigger1 = Var(23)%10 = 0
V = 23
Value = Var(23)+1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;6強
[Statedef 240]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 240
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Helper
Trigger1 = Time = 1
StateNo = 9000
ID = 9005
PosType = P1
Ownpal = 1
SprPriority = 5

[State -1]
Type = VelSet
Trigger1 = Time = [5,8]
X = 4

[State -1]
Type = VelSet
Trigger1 = Time = 0
Trigger2 = Time = 9
X = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s240, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, IfElse((Var(26)=[2,3]),1,11)
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.70*FVar(1)
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 7
Attr = S, NA
AnimType  = Up
Damage    = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(1)*10)
HitFlag = MAFD
GuardFlag = M
Priority = 3, Hit
PauseTime = 15,15+Var(41)
Guard.PauseTime = 15,15
HitSound   = s10,IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
GuardSound = s120,IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -55-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-11.4
Guard.Velocity = -8
Air.Velocity = IfElse(Var(50)=1,0,-6),IfElse(Var(50)=1,-11,FVar(25))
Down.Velocity = -6,-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -9
Air.CornerPush.VelOff = IfElse(Var(50)=1,0,-7)
Down.CornerPush.VelOff = -7
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 40
GetPower = Ceil(FVar(16)*100), Ceil(0.85*FVar(16)*100)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*30), Ceil(IfElse(FVar(16)=0,1,FVar(16))*15)

[State -1]
Type = VarSet
Trigger1 = 1
Trigger1 = Var(23)/10%10 = 0
V = 23
Value = Var(23)+1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;屈み弱
[Statedef 400]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 400
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, IfElse((Var(26)=[2,3]),0,10)
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.70
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = C, NA
Damage = Ceil(FVar(0)*(30-Var(4)%2))
Priority  = 1, Hit
AnimType  = Light
HitFlag = MAFD
GuardFlag = L
PauseTime = 6,6+Var(41)
Guard.PauseTime = 6,6
HitSound   = s10,IfElse(Var(26)=2,0,IfElse(Var(26)=3,20,10))
GuardSound = s120,IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -3.2
Air.Velocity = -1.8*Var(50),IfElse(Var(50)=1,-5.6,FVar(25))
Down.Velocity = -3.6,-2.5
Ground.CornerPush.VelOff = -3.8
Air.CornerPush.VelOff = -2.8*Var(50)
Down.CornerPush.VelOff = -5.6
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 20
GetPower = Ceil(FVar(16)*20), Ceil(0.85*FVar(16)*20)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*6), Ceil(IfElse(FVar(16)=0,1,FVar(16))*3)

[State -1]
Type = VarSet
Trigger1 = 1
Trigger1 = Var(20)/10%10 = 0
V = 20
Value = Var(20)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;屈み中
[Statedef 410]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 410
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Helper
Trigger1 = Time = 1
StateNo = 9000
ID = 9005
PosType = P1
Ownpal = 1
SprPriority = 5

[State -1]
Type = Helper
Trigger1 = Time = 4
StateNo = 9000
ID = 9006
PosType = P1
Ownpal = 1
SprPriority = 5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 3
X = 15

[State -1]
Type = PlaySnd
Trigger1 = Time = 6
Value = s30, IfElse((Var(26)=[2,3]),0,10)
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 3
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = Time = 3
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5
Attr = C, NA
Damage    = Ceil(FVar(0)*(50-Var(4)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = L
Priority  = 1, Hit
PauseTime = 8,8+Var(41)
Guard.PauseTime = 8,8
HitSound   = s10,IfElse(Var(26)=2,1,IfElse(Var(26)=3,21,11))
GuardSound = s120,IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -10-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -4.8
Air.Velocity = -2*Var(50),IfElse(Var(50)=1,-6.6,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -5.8
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -6
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 23
GetPower = Ceil(FVar(16)*50), Ceil(0.85*FVar(16)*50)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*15), Ceil(IfElse(FVar(16)=0,1,FVar(16))*7)

[State -1]
Type = VarSet
Trigger1 = 1
Trigger1 = Var(21)/10%10 = 0
V = 21
Value = Var(21)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;屈み強
[Statedef 420]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 420
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 3
X = 10

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, IfElse((Var(26)=[2,3]),1,11)
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.60
FV = 1
Value = 0.60
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = C, NA
Damage    = Ceil(FVar(0)*(90-Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = L
Priority  = 2, Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,IfElse(Var(26)=2,5,IfElse(Var(26)=3,25,15))
SparkXY = -Random%20, -Random%20
SparkNo = -1
Guard.SparkNo = s160
GuardSound = s120,IfElse((Var(26)=[2,3]),0,10)
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-3
Guard.Velocity = -10
Air.Velocity = IfElse(Var(50)=1,0,-5),IfElse(Var(50)=1,-2.6,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -12
Air.CornerPush.VelOff = IfElse(Var(50)=1,0,-6)
Down.CornerPush.VelOff = -6
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(16)*100), Ceil(0.85*FVar(16)*100)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*30), Ceil(IfElse(FVar(16)=0,1,FVar(16))*15)

[State -1]
Type = VarSet
Trigger1 = 1
Trigger1 = Var(22)/10%10 = 0
V = 22
Value = Var(22)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;空中弱
[Statedef 600]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 600
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, IfElse((Var(26)=[2,3]),0,10)
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.78
FV = 1
Value = 0.78
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = A, NA
Damage  = Ceil(FVar(0)*(30-Var(4)%2))
HitFlag = MAFD
GuardFlag = MA
Priority = 2, Hit
PauseTime = 6,6+Var(41)
Guard.PauseTime = 6,6
HitSound   = s10,IfElse(Var(26)=2,0,IfElse(Var(26)=3,20,10))
GuardSound = s120,IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -30-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = High
Ground.SlideTime = 11
Ground.HitTime  = 11
Ground.Velocity = -3
Air.Velocity = -1.5*Var(50),IfElse(Var(50)=1,-6,FVar(25))
AirGuard.Velocity = -3,-2.8
Down.Velocity = -3,-2.5
Ground.CornerPush.VelOff = -4
Air.CornerPush.VelOff = -2.5*Var(50)
Down.CornerPush.VelOff = -4
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 23
GetPower = Ceil(FVar(16)*30), Ceil(0.85*FVar(16)*30)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*9), Ceil(IfElse(FVar(16)=0,1,FVar(16))*4)

[State -1]
Type = VarSet
Trigger1 = 1
Trigger1 = Var(20)/100 = 0
V = 20
Value = Var(20)+100

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

;---------------------------------------------------------------------------
;空中中
[Statedef 610]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 610
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, IfElse((Var(26)=[2,3]),1,11)
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = A, NA
Damage = Ceil(FVar(0)*(70-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = 3, Hit
PauseTime = 8,8+Var(41)
Guard.PauseTime = 8,8
HitSound   = s10,IfElse(Var(26)=2,1,IfElse(Var(26)=3,21,11))
GuardSound = s120,IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -55-Random%20
SparkNo = -1
Guard.SparkNo = s160
AnimType = Med
Ground.Type = High
Ground.SlideTime = 11
Ground.HitTime  = 11
Ground.Velocity = -4
Guard.Velocity = -4.8
Air.Velocity = -1.8*Var(50),IfElse(Var(50)=1,-7.2,FVar(25))
AirGuard.Velocity = -4,-2.8
Down.Velocity = -4.8,-2.5
Ground.CornerPush.VelOff = -5.8
Air.CornerPush.VelOff = -2.8*Var(50)
Down.CornerPush.VelOff = -5.8
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 25
GetPower = Ceil(FVar(16)*70), Ceil(0.85*FVar(16)*70)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*21), Ceil(IfElse(FVar(16)=0,1,FVar(16))*10)

[State -1]
Type = VarSet
Trigger1 = 1
Trigger1 = Var(21)/100 = 0
V = 21
Value = Var(21)+100

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

;---------------------------------------------------------------------------
;空中強
[Statedef 620]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 620
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Helper
Trigger1 = Time = 5
StateNo = 9000
ID = 9002
PosType = P1
Ownpal = 1
SprPriority = 5

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, IfElse((Var(26)=[2,3]),1,11)
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.90*FVar(1)
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5
Attr = A, NA
Damage = Ceil(FVar(0)*(90-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = 3, Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
GuardSound = s120,IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = s160
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Ground.Velocity = -5
Air.Velocity = -2*Var(50),IfElse(Var(50)=1,-7.2,FVar(25))
AirGuard.Velocity = -4,-2.8
Down.Velocity = -5,-2.5
Ground.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -6
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 27
GetPower = Ceil(FVar(16)*100), Ceil(0.85*FVar(16)*100)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*30), Ceil(IfElse(FVar(16)=0,1,FVar(16))*15)

[State -1]
Type = VarSet
Trigger1 = 1
Trigger1 = Var(22)/100 = 0
V = 22
Value = Var(22)+100

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

;---------------------------------------------------------------------------
; 空中強溜め
[Statedef 621]
Type      = A
MoveType  = A
Physics   = A
Ctrl      = 0
Anim      = 621

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
Trigger1 = Command != "C溜め"
Trigger1 = Time = [0,15]
V = 7
Value = 1

[State -1]
Type = VarSet
Trigger1 = Time = 16
V = 7
Value = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 16
Value = s630, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 16
Value = s700, IfElse((Var(26)=[2,3]),0,10)

[State -1]
Type = Explod
Trigger1 = Time = 16
Anim = 700
ID = 700
PosType = P1
Pos = -36,-74
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
BindTime = 8
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
TriggerAll = Var(7) = 1
Trigger1 = Time = [5,15]
Value = 620

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 630

;---------------------------------------------------------------------------
;空中強溜め
[Statedef 630]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 630
SprPriority = 2

[State -1]
Type = Explod
Trigger1 = Time = 1
ID = 635
PosType = P1
Pos = 0,0
Anim = 625
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 3
Value = s30, IfElse((Var(26)=[2,3]),2,12)
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.50
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 1
Trigger1 = AnimElem = 3
Attr = A, NA
Damage = Ceil(FVar(0)*(210-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = 3, Hit
PauseTime = 8,8+Var(41)
HitSound   = s10,IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
GuardSound = s120,IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -10-Random%20
SparkNo = -1
Guard.SparkNo = s160
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Ground.Velocity = -6
AirGuard.Velocity = -7
AirGuard.CornerPush.VelOff = -8
P2StateNo = 5700
ID = 5700
P2Facing = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(16)*160), Ceil(0.85*FVar(16)*160)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*48), Ceil(IfElse(FVar(16)=0,1,FVar(16))*24)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 2
Trigger1 = P2StateType = A
Trigger1 = AnimElem = 3
Attr = A, NA
Damage = Ceil(FVar(0)*(210-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = 3, Hit
PauseTime = 8,8+Var(41)
HitSound   = s10,IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
GuardSound = s120,IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -10-Random%20
SparkNo = -1
Guard.SparkNo = s160
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Ground.Velocity = -6
Air.Velocity = -8,IfElse(Var(50)=1,6,FVar(25))
AirGuard.Velocity = -4,-4.5
Down.Velocity = -6,-2.5
Ground.CornerPush.VelOff = -7
Air.CornerPush.VelOff = -8
Down.CornerPush.VelOff = -7
YAccel = .48
ID = 5700
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(16)*160), Ceil(0.85*FVar(16)*160)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*48), Ceil(IfElse(FVar(16)=0,1,FVar(16))*24)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

;---------------------------------------------------------------------------
;避け
[Statedef 750]
Type    = S
Physics = S
Ctrl = 0
Anim = 750
SprPriority = -1

[State -1] 
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PalFX
Trigger1 = Time = [1,23]
Time = 1
Add = 200-Var(8),200-Var(8),200-Var(8)
IgnoreHitPause = 0
Peresistent = 0

[State -1]
Type = VarAdd
Trigger1 = Time = [4,23]
V = 8
Value = 10

[State -1]
Type = VarSet
Trigger1 = Time = 23
V = 8
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s750, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ReversalDef
Trigger1 = Time = 1
Reversal.Attr = SCA, NA,SA,HA
NumHits = 0
Pausetime = 0,0
SparkNo = -1
SparkXY = 0,0
SprPriority = -1
GetPower = 0,0

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time >= 1
StateNo = 755
ID = 755
Ownpal = 1
Keyctrl = 0
SprPriority = -5
IgnoreHitPause = 0
Persistent = 3

[State -1]
Type = NotHitBy
Trigger1 = Time = [1,26]
Value = , NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = StateTypeSet
Trigger1 = Time = 26
MoveType = A
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;投げ・発動
;     
;     投げのステートは少し複雑ですが順序良くならべればなんてことありません。
;     800：投げの発生と失敗した時
;     810：投げが成功した時の自分の動き
;     811：投げが成功した瞬間の相手の状態
;     812：投げが成功した時の相手の飛んでいく状態
;     とこんな具合です、投げは自分の他に相手の分も記述しなくてはなりません
;     でもそれだけです。

[Statedef 800]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 800
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) = 0
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Time = 2
Attr = S, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
HitFlag = M-          ;コンボの途中から投げが入らないよう設定してある
Priority = 1, Miss    ;１は優先順位が低いので技がでないかミスするという設定
SparkNo = -1          ;-をつければスパークエフェクトは無い
Guard.SparkNo = s160
SprPriority = 1       ;２Ｐより上にカンフーマンが表示される
P1Facing = ifelse (command = "holdfwd", 1, -1) ;前を押したらターンする設定
P2Facing = 1          ;？
P1StateNo = 810       ;投げが成功した場合の移動する１Ｐのステート
P2StateNo = 811       ;投げが成功した場合の移動する２Ｐのステート
Fall = 1
Fall.Recover = 0

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) != 0
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Time = 2
Attr = S, NT
HitFlag = M-
Priority = 1, Miss
SparkNo = -1
Guard.SparkNo = s160
SprPriority = 1
P1Facing = ifelse (FrontEdgeDist<BackEdgeDist, 1, -1)
P2Facing = 1
P1StateNo = 810
P2StateNo = 811
Fall = 1
Fall.Recover = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 4
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 4
Value = s800, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 4
Value = s800, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;投げ・投げている自分
;     このステートでは相手を設定した場所に固定した後、相手を飛ばしています
;     ここで相手の動きを制御しているのはtype = TargetBindというステートです
;     これを一定時間事にやっていくと綺麗に投げ飛ばされているように見えます。
;     そしてここにはHitDefが無いのでダメージはtype = TargetLifeAddで
;     ダメージを減らしています

[Statedef 810]
Type    = S
MoveType= A
Physics = N
VelSet = 0,0
SprPriority = -5
Anim = 810

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s10, IfElse(Var(26)=2,0,IfElse(Var(26)=3,20,10))
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = SprPriority
Trigger1 = AnimElem = 1
Value = 2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 14
Value = s10, IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 3
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 3
Value = s810, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 3
Value = s810, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 1
Pos = 20, 0

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 4
Pos = 20, 0

[State -1]
Type = Width
Trigger1 = 1
Edge = 30,0

[State -1]
Type = Helper
Trigger1 = AnimElem = 14
StateNo = 6000
ID = 6002
PosType = P2
Pos = -10,-60
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 6
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 12
Value = s820, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetLifeAdd
Trigger1 = AnimElem = 14
Value = -Ceil(FVar(1)*150)

[State -1]
Type = TargetPowerAdd
Trigger1 = AnimElem = 14
Value = Ceil(IfElse(FVar(16)=0,1,FVar(16))*11)

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 14
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 14
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.40*FVar(1)
IgnoreHitPause = 1

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 8
statetype = A
Physics = A
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Posadd
Trigger1 = AnimElem = 9
X = 15
Y = 45
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VelSet
Trigger1 = AnimElem = 8
X = 4
Y = -11
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Velset
Trigger1 = AnimElem = 14
X = -2.5
Y = -7
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Veladd
Trigger1 = time > 50
Y = -0.1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = TargetState
Trigger1 = Time <= 16
Value = 811
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetState
Trigger1 = Time = 17
Value = 812

[State -1]
Type = TargetState
Trigger1 = animelem = 14
Value = 832

[State -1]
Type = ChangeState
Trigger1 = (Vel Y > 0) && (Pos Y >= 0)
Value = 52
Ctrl = 0

;---------------------------------------------------------------------------
;投げ・投げられている相手
; 
;     ここは投げられた瞬間の相手のステートです
;     たいしたことは書いてありませんがtypeがAになっている事です。
;     相手が投げれて空中にいる事を設定して次の821ステートに移動します

[Statedef 811]
Type    = S
MoveType= H
Physics = S
VelSet = 0,0

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = 5010

[State -1] 
Type = SelfState
Trigger1 = Time >= 10
Trigger1 = P2MoveType != A
Value = 5010

;---------------------------------------------------------------------------
;投げ・相手の空中の状態
;     
;     これは投げられている相手の状態ととれる行動を設定しています
;     type = SelfStateは相手のリカバー状態を設定する物でこの状態ならこれ。
;     と言うように地上近く、空中、叩きつけられた時と３つ設定しています。

[Statedef 812]
Type    = S
MoveType= H
Physics = S
VelSet = -2,-9

[State -1]
Type = HitFallSet
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5012)
Trigger1 = Time = 0
Value = 5002

[State -1]
Type = ChangeAnim
TriggerAll = Anim = 5002
TriggerAll = AnimTime = 0
Trigger1 = Time >= 10
Value = 5007

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 50
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 0
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050

[State -1]
Type = Velset
Trigger1 = 1
X = -2
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = Veladd
Trigger1 = time > 10
Y = 0.55
IgnoreHitPause = 1
Persistent = 1

[State -1] 
Type = SelfState
Trigger1 = Time >= 30
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;空中投げ
[Statedef 820]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 820
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = Time = 0
Value = s200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = Time = 0
Value = s630, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) = 0
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 1
Trigger1 = P2StateNo != [154,155]
Attr = A, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
HitFlag = MAF         ;コンボの途中から投げが入らないよう設定してある
Priority = 1, Miss    ;１は優先順位が低いので技がでないかミスするという設定
SparkNo = -1          ;-をつければスパークエフェクトは無い
Guard.SparkNo = s160
SprPriority = 1       ;２Ｐより上にカンフーマンが表示される
P1Facing = ifelse (command = "holdfwd", 1, -1) ;前を押したらターンする設定
P2Facing = 1          ;？
P1StateNo = 830       ;投げが成功した場合の移動する１Ｐのステート
P2StateNo = 831       ;投げが成功した場合の移動する２Ｐのステート
Air.Fall = 1
Fall.Recover = 1

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) != 0
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 1
Trigger1 = P2StateNo != [154,155]
Attr = A, NT
HitFlag = MAF
Priority = 1, Miss
SparkNo = -1
Guard.SparkNo = s160
SprPriority = 1
P1Facing = ifelse (FrontEdgeDist<BackEdgeDist, 1, -1)
P2Facing = 1
P1StateNo = 830
P2StateNo = 831
Air.Fall = 1
Fall.Recover = 1

[State -1]
Type = ChangeState
TriggerAll = Var(0)/100%10 = 0
TriggerAll = AnimElem = 2
TriggerAll = Var(20)/100 = 0
Trigger1 = Command = "A溜め" || Command = "Z溜め"
Trigger2 = Var(59) > 0
Value = 600

[State -1]
Type = ChangeState
TriggerAll = AnimElem = 2
Trigger1 = Var(0)/100%10 = 0
Trigger1 = Command != "A溜め" && Command != "Z溜め"
Trigger2 = Var(0)/100%10 = 0
Trigger2 = Var(20)/100 != 0
Trigger2 = Command = "A溜め" || Command = "Z溜め"
Trigger3 = Var(0)/100%10 = 0
Trigger3 = Var(20)/100 != 0
Trigger3 = Var(59) > 0
Trigger4 = Var(0)/100%10 = 1
Trigger4 = Var(22)/100 != 0
Value = 920

[State -1]
Type = ChangeState
TriggerAll = Var(0)/100%10 = 1
TriggerAll = Var(22)/100 = 0
Trigger1 = AnimElem = 2
Value = 620

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

;---------------------------------------------------------------------------
;空中投げ
[Statedef 830]
Type    = A
MoveType= A
Physics = N
Anim = 830

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s10, IfElse(Var(26)=2,0,IfElse(Var(26)=3,20,10))
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s820, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s10, IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VelSet
Trigger1 = Time = 0
X = 0
Y = 0

[State -1]
Type = Width
Trigger1 = 1
Edge = 40,0

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 1
Pos = 20, -10

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 2
Pos = 20, -10

[State -1]
Type = Helper
Trigger1 = AnimElem = 3
StateNo = 6000
ID = 6002
PosType = P1
Pos = 35,-60
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VelSet
Trigger1 = AnimElem = 3
X = -1.6
Y = -5

[State -1]
Type = VelAdd
Trigger1 = Time >= 21
Y = .32

[State -1]
Type = TargetLifeAdd
Trigger1 = AnimElem = 3
Value = -Ceil(FVar(0)/(1.00-(0.08*FVar(4)))*(120-Var(4)%2))

[State -1]
Type = TargetPowerAdd
Trigger1 = AnimElem = 3
Value = Ceil(IfElse(FVar(16)=0,1,FVar(16))*11)

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 3
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = TargetState
Trigger1 = AnimElem = 3
Value = 832

[State -1]
Type = ChangeState
Trigger1 = (Vel Y > 0) && (Pos Y >= 0)
Value = 52
Ctrl = 0

;---------------------------------------------------------------------------
;投げ・投げられている相手
[Statedef 831]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State -1] 
Type = HitFallSet
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeAnim2
Trigger1 = Time = 0
Value = 831

[State -1] 
Type = SelfState
Trigger1 = Time >= 30
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;投げ・相手の空中の状態
[Statedef 832]
Type    = A
MoveType= H
Physics = N
VelSet = -7,10

[State -1] 
Type = HitFallSet
Trigger1 = 1
Value = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 20
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 0
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050

[State -1] 
Type = SelfState
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
Value = 5100

;---------------------------------------------------------------------------
;大ジャンプ
[Statedef 850]
Type    = U
Physics = U

[State -1] 
Type = VarSet
Trigger1 = Time = 0
V = 3
Value = 1

[State -1, AI] 
Type = ChangeState
TriggerAll = Var(59) > 0
Trigger1 = Var(3) = 1
Trigger1 = StateType != A
Value = 39

[State -1] 
Type = ChangeState
TriggerAll = Var(59) <= 0
Trigger1 = Var(3) = 1
Trigger1 = StateType != A
Value = 40

[State -1] 
Type = ChangeState
Trigger1 = Var(3) = 1
Trigger1 = StateType = A
Value = 45

;---------------------------------------------------------------------------
; 立ち　EX-シールド
[Statedef 900]
Type    = S
Physics = S
Anim    = 900
Ctrl    = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = Time = [0,4]
Attr = SCA, NP, SP, HP
StateNo = 903
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s900, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s900, IfElse((Var(26)=[2,3]),0,10)
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = MoveHit = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = ReversalDef
Trigger1 = P2StateNo != [400,409]
Trigger1 =! MoveContact
Reversal.Attr = SA, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 13,17
HitSound = S901,IfElse((Var(26)=[2,3]),0,10)+Random%2
SparkNo = -1
Guard.SparkNo = -1
SparkXY = 0,0
GetPower = IfElse(FVar(16)=0,0,50),0

[State -1]
Type = ReversalDef
Trigger1 = P2StateNo = [400,409]
Trigger1 =! MoveContact
Reversal.Attr = C, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 13,17
HitSound = S901,IfElse((Var(26)=[2,3]),0,10)+Random%2
SparkNo = -1
Guard.SparkNo = -1
SparkXY = 0,0
GetPower = IfElse(FVar(16)=0,0,50),0

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 955
ID = 955
Pos = 35,-70
PosType = P1
Facing = IfElse(Random%2=0,1,-1)
Ownpal = 1
Keyctrl = 0
SprPriority = 5
BindTime = -1
IgnoreHitPause = 1

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 960
ID = 960
Pos = 35,-70
PosType = P1
Ownpal = 1
Keyctrl = 0
SprPriority = 4
BindTime = -1
RemoveTime = -1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 901
ID = 901
Name = "Helper"
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = MoveHit
StateNo = 957
ID = 957
PosType = P1
Pos = 35,-70
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = ChangeState
TriggerAll = MoveHit = [1,2]
Trigger1 = Command = "236z"
Value = 905

[State -1] 
Type = ChangeState
TriggerAll = Var(59) <= 0
TriggerAll =! MoveHit
Trigger1 = Command != "A溜め"
Trigger1 = Command != "B溜め"
Trigger1 = Command != "C溜め"
Trigger1 = Command = "Z溜め"
Trigger1 = Time = 5
Trigger1 = Power > 0
Value = 902

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

[State -1]
Type = targetState
Trigger1 = Var(13) <= -1
Trigger1 = MoveHit = 2
Value = 0


[State -1]
Type = ChangeState
Trigger1 = Var(13) <= -1
Trigger1 = MoveHit = 2
Value = 3100

;---------------------------------------------------------------------------
; 立ち　シールド
[Statedef 902]
Type    = S
Physics = S
Anim    = 902
Ctrl    = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PowerAdd
Trigger1 = Var(13) = 0
Trigger1 = Var(14) = 0
Trigger1 = Anim = 902
Value = -12

[State -1]
Type = NotHitBy
Trigger1 = MoveHit = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = Anim = 902
Attr = SCA, NP, SP, HP
StateNo = 904
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ReversalDef
Trigger1 = P2StateNo != [400,409]
Trigger1 = Anim = 902
Trigger1 =! MoveContact
Reversal.Attr = SA, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 13,13
HitSound = S901,IfElse((Var(26)=[2,3]),0,10)+Random%2
SparkNo = -1
Guard.SparkNo = s160
SparkXY = 0,0
GetPower = IfElse(FVar(16)=0,0,50),0

[State -1]
Type = ReversalDef
Trigger1 = P2StateNo = [400,409]
Trigger1 = Anim = 902
Trigger1 =! MoveContact
Reversal.Attr = C, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 13,13
HitSound = S901,IfElse((Var(26)=[2,3]),0,10)+Random%2
SparkNo = -1
Guard.SparkNo = s160
SparkXY = 0,0
GetPower = IfElse(FVar(16)=0,0,50),0

[State -1]
Type = Helper
Trigger1 = MoveHit
StateNo = 957
ID = 958
PosType = P1
Pos = 35,-70
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = ChangeAnim
TriggerAll = Anim = 902
Trigger1 = Command != "Z溜め"
Trigger2 = MoveHit
Trigger3 = Time = 90
Trigger4 = Power = 0 && Var(13) = 0
Trigger5 = Command = "a"
Trigger6 = Command = "b"
Trigger7 = Command = "c"
Value = 903

[State -1] 
Type = ChangeState
Trigger1 = Anim = 903
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;立ち　EX-シールド2
[Statedef 903]
Type    = S
MoveType= I
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = IfElse(FVar(16)=0,0,50)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 15
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(13) != 4
Trigger1 = Time = 0
Value = s902, 0+Random%5
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Time = 1
Value = 903

[State -1]
Type = Helper
Trigger1 = time = 0
StateNo = 957
ID = 957
PosType = P1
Pos = 35,-70
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = VarSet
Trigger1 = 1
V = 2
Value = 302
IgnoreHitPause = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 13
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 1
Time = 4
MoveTime = 4
IgnoreHitPause = 1
Persistent = 0

[State -1] 
Type = ChangeState
TriggerAll = time = 1
Trigger1 = Command = "236z"
Value = 905

[State -1]
Type = ChangeState
Trigger1 = Time = 1
Trigger1 = Var(13) <= -1
Value = 3100
Ctrl = 1

[State -1]
Type = ChangeState
Trigger1 = Time = 19
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;立ち　シールド2
[Statedef 904]
Type    = S
MoveType= I
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = IfElse(FVar(16)=0,0,50)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 15
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(13) != 4
Trigger1 = Time = 0
Value = s902, 0+Random%5
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Time = 1
Value = 903

[State -1]
Type = Helper
Trigger1 = time = 0
StateNo = 957
ID = 958
PosType = P1
Pos = 35,-70
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = 1
V = 2
Value = 302
IgnoreHitPause = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 13
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 1
Time = 4
MoveTime = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ChangeState
Trigger1 = Time = 19
Value = 0
Ctrl = 1


;---------------------------------------------------------------------------
; 立ち　シールド カウンター
[Statedef 905]
Type    = S
MoveType = A
Physics = S
Anim    = 905
Ctrl    = 0
VelSet  = 0,0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 1
Value = s750, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 1
Value = s905, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 1
Anim = -1
Time = 36
MoveTime = 36
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 1
V = 44
Value = 36

[State -1]
Type = Helper
Trigger1 = AnimElem = 2
StateNo = IfElse(Var(26)=3,6015,6010)
ID = 10001
Name = "EX_Effect"
Pos = 3,-54
PosType = P1
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Width
Trigger1 = Time = [0,39]
Player = 5,0

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 2
Trigger2 = AnimElem = 3
X = 5

[State -1]
Type = VelSet
Trigger1 = AnimElem = 5
X = 30

[State -1]
Type = VelSet
Trigger1 = AnimElem = 6
X = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, IfElse((Var(26)=[2,3]),1,11)
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = AnimElem = 6
Trigger1 = Var(50) = 1
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(1)*10)
HitFlag = MAFD
GuardFlag = M
Priority = 3, Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
GuardSound = s120,IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -40-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9
Air.Velocity = -2*Var(50),IfElse(Var(50)=1,-7.2,FVar(25))
Down.Velocity = -7,-2.5
Ground.CornerPush.VelOff = -10
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -8
P2StateNo = 5600
ID = 5600
P2Facing = 1
Kill = 1
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = Ceil(FVar(16)*43), Ceil(0.85*FVar(16)*43)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*12), Ceil(IfElse(FVar(16)=0,1,FVar(16))*6)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = AnimElem = 6
Trigger1 = Var(50) = 2
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(1)*10)
HitFlag = MAFD
GuardFlag = M
Priority = 3, Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
GuardSound = s120,IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -40-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9
Air.Velocity = -2*Var(50),IfElse(Var(50)=1,-7.2,FVar(25))
Down.Velocity = -7,-2.5
Ground.CornerPush.VelOff = -10
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -8
YAccel = .48
Kill = 1
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 27
GetPower = Ceil(FVar(16)*43), Ceil(0.85*FVar(16)*43)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*12), Ceil(IfElse(FVar(16)=0,1,FVar(16))*6)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; しゃがみ　EX-シールド
[Statedef 910]
Type    = C
Physics = C
Anim    = 910
Ctrl    = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Trigger1 = Var(1) = 0
Value = s910, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Trigger1 = Var(1) = 1
Value = s910, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s900, IfElse((Var(26)=[2,3]),0,10)
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = MoveHit = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = Time = [0,4]
Attr = SCA, NP, SP, HP
StateNo = 913
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ReversalDef
Trigger1 = (P2StateNo != [200,209]) && (P2StateNo != [600,609])
Trigger1 =! MoveContact
Reversal.Attr = C, NA,SA,HA,NP,SP,HP
Pausetime = 13,17
HitSound = S901,IfElse((Var(26)=[2,3]),0,10)+Random%2
SparkNo = -1
Guard.SparkNo = -1
NumHits = 0
SparkXY = 0,0
GetPower = IfElse(FVar(16)=0,0,50),0

[State -1]
Type = ReversalDef
Trigger1 = (P2StateNo = [200,209]) || (P2StateNo = [600,609])
Trigger1 =! MoveContact
Reversal.Attr = SA, NA,SA,HA,NP,SP,HP
Pausetime = 13,17
HitSound = S901,IfElse((Var(26)=[2,3]),0,10)+Random%2
SparkNo = -1
Guard.SparkNo = -1
NumHits = 0
SparkXY = 0,0
GetPower = IfElse(FVar(16)=0,0,50),0

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 955
ID = 955
Pos = 39,-38
PosType = P1
Facing = IfElse(Random%2=0,1,-1)
Ownpal = 1
Keyctrl = 0
SprPriority = 5
BindTime = -1
IgnoreHitPause = 1

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 960
ID = 960
Pos = 39,-38
PosType = P1
Ownpal = 1
Keyctrl = 0
SprPriority = 4
BindTime = -1
RemoveTime = -1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 901
ID = 911
Name = "Helper"
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = MoveHit
StateNo = 957
ID = 957
PosType = P1
Pos = 39,-38
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = ChangeState
TriggerAll = Var(59) <= 0
TriggerAll =! MoveHit
Trigger1 = Command != "A溜め"
Trigger1 = Command != "B溜め"
Trigger1 = Command != "C溜め"
Trigger1 = Command = "Z溜め"
Trigger1 = Time = 5
Trigger1 = Power > 0
Value = 912

[State -1] 
Type = ChangeState
TriggerAll = MoveHit = [1,2]
Trigger1 = Command = "236z"
Value = 915

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

[State -1]
Type = targetState
Trigger1 = Var(13) <= -1
Trigger1 = MoveHit = 2
Value = 0

[State -1]
Type = ChangeState
Trigger1 = Var(13) <= -1
Trigger1 = MoveHit = 2
Value = 3100

;---------------------------------------------------------------------------
; しゃがみ　シールド
[Statedef 912]
Type    = C
Physics = C
Anim    = 912
Ctrl    = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PowerAdd
Trigger1 = Var(13) = 0
Trigger1 = Var(14) = 0
Trigger1 = Anim = 912
Value = -12

[State -1]
Type = NotHitBy
Trigger1 = MoveHit = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = Anim = 912
Attr = SCA, NP, SP, HP
StateNo = 914
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ReversalDef
Trigger1 = (P2StateNo != [200,209]) && (P2StateNo != [600,609])
Trigger1 = Anim = 912
Trigger1 =! MoveContact
Reversal.Attr = C, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 13,13
HitSound = S901,IfElse((Var(26)=[2,3]),0,10)+Random%2
SparkNo = -1
Guard.SparkNo = s160
SparkXY = 0,0
GetPower = IfElse(FVar(16)=0,0,50),0

[State -1]
Type = ReversalDef
Trigger1 = (P2StateNo = [200,209]) || (P2StateNo = [600,609])
Trigger1 = Anim = 912
Trigger1 =! MoveContact
Reversal.Attr = SA, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 13,13
HitSound = S901,IfElse((Var(26)=[2,3]),0,10)+Random%2
SparkNo = -1
Guard.SparkNo = s160
SparkXY = 0,0
GetPower = IfElse(FVar(16)=0,0,50),0

[State -1]
Type = Helper
Trigger1 = MoveHit
StateNo = 957
ID = 958
PosType = P1
Pos = 39,-38
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = ChangeAnim
TriggerAll = Anim = 912
Trigger1 = Command != "Z溜め"
Trigger2 = MoveHit
Trigger3 = Time = 90
Trigger4 = Power = 0 && Var(13) = 0
Trigger5 = Command = "a"
Trigger6 = Command = "b"
Trigger7 = Command = "c"
Value = 913

[State -1] 
Type = ChangeState
Trigger1 = Anim = 913
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ　EX-シールド2
[Statedef 913]
Type    = S
MoveType= I
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = IfElse(FVar(16)=0,0,50)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 15
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(13) != 4
Trigger1 = Time = 0
Value = s902, 0+Random%5
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Time = 1
Value = 913

[State -1]
Type = Helper
Trigger1 = time = 0
StateNo = 957
ID = 957
PosType = P1
Pos = 39,-38
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = VarSet
Trigger1 = 1
V = 2
Value = 302
IgnoreHitPause = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 13
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 1
Time = 4
MoveTime = 4
IgnoreHitPause = 1
Persistent = 0

[State -1] 
Type = ChangeState
TriggerAll = time = 1
Trigger1 = Command = "236z"
Value = 915

[State -1]
Type = ChangeState
Trigger1 = Time = 1
Trigger1 = Var(13) <= -1
Value = 3100
Ctrl = 1

[State -1]
Type = ChangeState
Trigger1 = Time = 19
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ　シールド2
[Statedef 914]
Type    = S
MoveType= I
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = IfElse(FVar(16)=0,0,50)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 15
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(13) != 4
Trigger1 = Time = 0
Value = s902, 0+Random%5
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Time = 1
Value = 913

[State -1]
Type = Helper
Trigger1 = time = 0
StateNo = 957
ID = 958
PosType = P1
Pos = 39,-38
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = VarSet
Trigger1 = 1
V = 2
Value = 302
IgnoreHitPause = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 13
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 1
Time = 4
MoveTime = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ChangeState
Trigger1 = Time = 19
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
; しゃがみ　シールド カウンター
[Statedef 915]
Type    = S
Physics = S
Anim    = 915
Ctrl    = 0
VelSet  = 0,0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 1
Anim = -1
Time = 35
MoveTime = 35
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 1
V = 44
Value = 35

[State -1]
Type = Helper
Trigger1 = AnimElem = 1
StateNo = IfElse(Var(26)=3,6015,6010)
ID = 10001
Name = "EX_Effect"
Pos = 5,-46
PosType = P1
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 1
Value = s750, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 1
Value = s905, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s110, 0

[State -1]
Type = Helper
Trigger1 = Time = [37,45]
StateNo = 8600
ID = 8600
Postype = P1
Pos = 18,0
Ownpal = 1
Keyctrl = 0
SprPriority = 5
Persistent = 1

[State -1]
Type = VelSet
Trigger1 = Time = [35,57]
X = 6.2

[State 101, 1]
type = VelSet
trigger1 = Time >= 58
x = 5

[State 101, 1]
type = VelSet
trigger1 = Time >= 60
x = 3

[State 101, 1]
type = VelSet
trigger1 = Time >= 62
x = 1

[State 100, 1]
type = VelSet
trigger1 = Time = 64
x = 0

[State -1]
Type = PlayerPush
Trigger1 = Time <= 64
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 100, 4]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 空中　EX-シールド
[Statedef 920]
Type    = A
Physics = A
Anim    = 920
Ctrl    = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s900, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s900, IfElse((Var(26)=[2,3]),0,10)
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = MoveHit = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = Time = [0,4]
Attr = SCA, NP, SP, HP
StateNo = 923
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ReversalDef
Trigger1 =! MoveContact
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
Pausetime = 13,17
HitSound = S901,IfElse((Var(26)=[2,3]),0,10)+Random%2
SparkNo = -1
Guard.SparkNo = -1
NumHits = 0
SparkXY = 0,0
GetPower = IfElse(FVar(16)=0,0,50),0

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 955
ID = 955
Pos = 24,-58
PosType = P1
Facing = IfElse(Random%2=0,1,-1)
Ownpal = 1
Keyctrl = 0
SprPriority = 5
BindTime = -1
IgnoreHitPause = 1

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 960
ID = 960
Pos = 24,-58
PosTyp = P1
Ownpal = 1
Keyctrl = 0
SprPriority = 4
BindTime = -1
RemoveTime = -1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 901
ID = 921
Name = "Helper"
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = MoveHit
StateNo = 957
ID = 957
PosType = P1
Pos = 24,-58
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = ChangeState
Trigger1 = MoveHit = [1,2]
Trigger1 = Command = "236z"
Value = 925

[State -1] 
Type = ChangeState
TriggerAll = Var(59) <= 0
TriggerAll =! MoveHit
Trigger1 = Command != "A溜め"
Trigger1 = Command != "B溜め"
Trigger1 = Command != "C溜め"
Trigger1 = Command = "Z溜め"
Trigger1 = Time = 5
Trigger1 = Power > 0
Value = 922

;---------------------------------------------------------------------------
; 空中　シールド
[Statedef 922]
Type    = A
Physics = A
Anim    = 922
Ctrl    = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PowerAdd
Trigger1 = Var(13) = 0
Trigger1 = Var(14) = 0
Trigger1 = Anim = 922
Value = -12

[State -1]
Type = NotHitBy
Trigger1 = MoveHit = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = Anim = 922
Attr = SCA, NP, SP, HP
StateNo = 924
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ReversalDef
Trigger1 = Anim = 922
Trigger1 =! MoveContact
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 13,13
HitSound = S901,IfElse((Var(26)=[2,3]),0,10)+Random%2
SparkNo = -1
Guard.SparkNo = s160
SparkXY = 0,0
GetPower = IfElse(FVar(16)=0,0,50),0

[State -1]
Type = Helper
Trigger1 = MoveHit
StateNo = 957
ID = 958
PosType = P1
Pos = 24,-58
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = ChangeAnim
TriggerAll = Anim = 922
Trigger1 = Command != "Z溜め"
Trigger2 = MoveHit
Trigger3 = Time = 90
Trigger4 = Power = 0 && Var(13) = 0
Trigger5 = Command = "a"
Trigger6 = Command = "b"
Trigger7 = Command = "c"
Value = 923

;---------------------------------------------------------------------------
;空中　EX-シールド2
[Statedef 923]
Type    = A
MoveType= I
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = IfElse(FVar(16)=0,0,50)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 15
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(13) != 4
Trigger1 = Time = 0
Value = s902, 0+Random%5
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Time = 1
Value = 913

[State -1]
Type = Helper
Trigger1 = time = 0
StateNo = 957
ID = 957
PosType = P1
Pos = 24,-58
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = VarSet
Trigger1 = 1
V = 2
Value = 302
IgnoreHitPause = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 13
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 1
Time = 4
MoveTime = 4
IgnoreHitPause = 1
Persistent = 0

[State -1] 
Type = ChangeState
TriggerAll = time = 1
Trigger1 = Command = "236z"
Value = 925

;---------------------------------------------------------------------------
;空中　シールド2
[Statedef 924]
Type    = A
MoveType= I
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = IfElse(FVar(16)=0,0,50)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 15
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(13) != 4
Trigger1 = Time = 0
Value = s902, 0+Random%5
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Time = 1
Value = 913

[State -1]
Type = Helper
Trigger1 = time = 0
StateNo = 957
ID = 958
PosType = P1
Pos = 24,-58
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = VarSet
Trigger1 = 1
V = 2
Value = 302
IgnoreHitPause = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 13
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 1
Time = 4
MoveTime = 4
IgnoreHitPause = 1
Persistent = 0

;---------------------------------------------------------------------------
; 空中　シールド カウンター
[Statedef 925]
Type      = A
Movetype  = A
Physics   = N
Ctrl      = 0
Anim      = 2350
VelSet    = 0,0
PowerAdd  = 0

[State -1]
Type = NotHitBy
Trigger1 = Time = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 38

[State -1]
Type = SuperPause
Trigger1 = Time = 1
Anim = -1
Time = 35
MoveTime = 35
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 44
Value = 35

[State -1]
Type = Helper
Trigger1 = Time = 1
StateNo = IfElse(Var(26)=3,6015,6010)
ID = 10001
Name = "EX_Effect"
Pos = 3,-38
PosType = P1
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 2350
Trigger1 = AnimElem = 1
Value = s750, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 2350
Trigger1 = AnimElem = 5
Value = s1300, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = StateTypeSet
Trigger1 = Anim = 2355
StateType = S
Physics = S

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 2350
Trigger1 = (Vel Y > 0) && (Pos Y >= 0)
Value = 2355

[State -1]
Type = VelSet
Trigger1 = Anim = 2350
Trigger1 = AnimElem = 2
X = 1.8
Y = -6

[State -1]
Type = VelAdd
Trigger1 = Anim = 2350
Trigger1 = Vel Y <= 7.5
Trigger1 = Time >= 37
Y = .34

[State -1]
Type = VelSet
Trigger1 = Anim = 2355
X = 0
Y = 0

[State -1]
Type = PosSet
Trigger1 = Anim = 2355
Y = 0

[State -1]
Type = PlaySnd
TriggerAll = Anim = 2350
Trigger1 = AnimElem = 2
Trigger2 = AnimElem = 5
Value = s41, IfElse((Var(26)=[2,3]),0,10)

[State -1]
Type = PlaySnd
TriggerAll = Anim = 2350
Trigger1 = AnimElem = 2
Trigger2 = AnimElem = 5
Value = s30, IfElse((Var(26)=[2,3]),1,11)

[State -1]
Type = Explod
Trigger1 = Anim = 2350
Trigger1 = AnimElem = 2
ID = 925
PosType = P1
Pos = 0,0
Anim = 1305
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = Anim = 2350
Trigger1 = AnimElem = 5
ID = 926
PosType = P1
Pos = 0,0
Anim = 1306
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = Anim = 2355
Trigger1 = AnimElem = 2
Value = s41, IfElse((Var(26)=[2,3]),1,11)

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = MoveHit
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 2350
Trigger1 = AnimElem = 3
Attr = S, SA
Damage = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(1)*10)
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = 3, Hit
PauseTime = 15, 15+Var(41)
Guard.PauseTime = 15,15
HitSound = s10, IfElse(Var(26)=2,5,IfElse(Var(26)=3,25,15))
GuardSound = s120, IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -40-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = Low
Ground.SlideTime = 15
Ground.HitTime  = 15
Ground.Velocity = -1,-7.8
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-7.8,FVar(25))
AirGuard.Velocity = -2,IfElse(Var(50)=1,-2.8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -2
Air.CornerPush.VelOff = -2*Var(50)
Down.CornerPush.VelOff = -5
Guard.CornerPush.VelOff = -9
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 30
GetPower = 0, 0
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*11), Ceil(IfElse(FVar(16)=0,1,FVar(16))*5)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 2350
Trigger1 = AnimElem = 6
Attr = S, SA
Damage = Ceil(FVar(0)*(150-Var(4)%2)),Ceil(FVar(1)*15)
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = 3, Hit
PauseTime = 15, 15+Var(41)
Guard.PauseTime = 15,15
HitSound = s10, IfElse(Var(26)=2,5,IfElse(Var(26)=3,25,15))
GuardSound = s120, IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = Low
Ground.SlideTime = 15
Ground.HitTime  = 15
Ground.Velocity = -1,-6.8
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-6.8,FVar(25))
AirGuard.Velocity = -2,IfElse(Var(50)=1,-2.8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -2
Air.CornerPush.VelOff = -2*Var(50)
Down.CornerPush.VelOff = -5
Guard.CornerPush.VelOff = -9
P2StateNo = 5600
ID = 5600
P2Facing = 1
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = 0, 0
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*11), Ceil(IfElse(FVar(16)=0,1,FVar(16))*5)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = Anim = 2355
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; シールドバンカー
[Statedef 930]
Type      = S
Physics   = S
Ctrl      = 0
Anim      = 930
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VelSet
Trigger1 = Time = 0
Trigger1 = PrevStateNo = [150,153]
X = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PowerAdd
Trigger1 = Var(13) = 0
Trigger1 = Var(14) = 0
Trigger1 = Time = 0
Trigger1 = PrevStateNo = [150,153]
Value = -500

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(45) = 0
TriggerAll = Command = "jump"
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 151 || PrevStateNo = 153
V = 45
Value = 850

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(45) = 0
TriggerAll = Command = "FF" || Command = "holdfwd" && Command = "ab" && Command != "holddown" && Command != "holdup"
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 151 || PrevStateNo = 153
V = 45
Value = 100

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(45) = 0
TriggerAll = Command = "BB" || Command = "holdback" && Command = "ab" && Command != "holddown" && Command != "holdup"
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 151 || PrevStateNo = 153
V = 45
Value = 105

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(0)/100%10 = 1
TriggerAll = Command = "222z"
TriggerAll = Var(45) = 0
TriggerAll = Time = 0
TriggerAll = PrevStateNo = 151 || PrevStateNo = 153
Trigger1 = Var(13) = 1
Trigger2 = Power >= 1000
Trigger2 = Var(13) = 0
Trigger2 = Var(14) = 0
V = 45
Value = 990

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(0)/100%10 = 0
TriggerAll = Command = "abc" || Command = "x" && Command != "holddown" && Command != "holdfwd" && Command != "holdback"
TriggerAll = Var(45) = 0
TriggerAll = Time = 0
TriggerAll = PrevStateNo = 151 || PrevStateNo = 153
Trigger1 = Var(13) = 1
Trigger2 = Power >= 1000
Trigger2 = Var(13) = 0
Trigger2 = Var(14) = 0
V = 45
Value = 990

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Command = "41236c"
TriggerAll = Var(45) = 0
TriggerAll = Time = 0
TriggerAll = PrevStateNo = 151 || PrevStateNo = 153
Trigger1 = Var(13) = 1 || Var(14) = 1
Trigger2 = Var(13) = -1
V = 45
Value = 3000

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Command = "623a" || Command = "623b"
TriggerAll = Var(45) = 0
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 151 || PrevStateNo = 153
V = 45
Value = IfElse(Command = "623a",1300,1310)

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Command = "623c"
TriggerAll = Var(45) = 0
TriggerAll = Time = 0
TriggerAll = PrevStateNo = 151 || PrevStateNo = 153
Trigger1 = Power >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = 1 || Var(13) = -1 || Var(14) = 1
V = 45
Value = 2300

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = (Command = "236a" && numhelper(2505) = 0) || Command = "236b"
TriggerAll = Var(45) = 0
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 151 || PrevStateNo = 153
V = 45
Value = IfElse(Command = "236a",1200,1250)

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Command = "236c"
TriggerAll = Var(45) = 0
TriggerAll = Time = 0
TriggerAll = PrevStateNo = 151 || PrevStateNo = 153
Trigger1 = Power >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = 1 || Var(13) = -1 || Var(14) = 1
V = 45
Value = 2200

[State -1]
Type = VarSet
TriggerAll = numhelper(2505) = 0
TriggerAll = Var(59) <= 0
TriggerAll = Var(45) = 0
TriggerAll = Command = "22a" || Command = "22b"
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 151 || PrevStateNo = 153
V = 45
Value = IfElse(Command = "22a",1000,1050)

[State -1]
Type = VarSet
TriggerAll = numhelper(2505) = 0
TriggerAll = Var(59) <= 0
TriggerAll = Command = "22c"
TriggerAll = Var(45) = 0
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 151 || PrevStateNo = 153
V = 45
Value = 1060

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(45) = 0
TriggerAll = Command = "214a" || Command = "214b"
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 151 || PrevStateNo = 153
V = 45
Value = IfElse(Command = "214a",1100,1150)

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Command = "214c"
TriggerAll = Var(45) = 0
TriggerAll = Time = 0
TriggerAll = PrevStateNo = 151 || PrevStateNo = 153
Trigger1 = Power >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = 1 || Var(13) = -1 || Var(14) = 1
V = 45
Value = 2100

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(45) = 0
TriggerAll = Command = "holddown"
TriggerAll = Command != "holdfwd" && Command != "holdback"
TriggerAll = Command = "ab" || Command = "x"
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 151 || PrevStateNo = 153
V = 45
Value = 750

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(0)/100%10 = 1
TriggerAll = Var(45) = 0
TriggerAll = Command = "c"
TriggerAll = Time = 0
TriggerAll = PrevStateNo = 151 || PrevStateNo = 153
Trigger1 = Command = "holdfwd"
Trigger1 = P2BodyDist X < 4
Trigger1 = (P2StateType = S) || (P2StateType = C)
Trigger1 = P2MoveType != H
Trigger2 = Command = "holdback"
Trigger2 = P2BodyDist X < 5
Trigger2 = (P2StateType = S) || (P2StateType = C)
Trigger2 = P2MoveType != H
V = 45
Value = 800

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(0)/100%10 = 0
TriggerAll = Var(45) = 0
TriggerAll = Command = "az" || Command = "x" && Command != "holddown"
TriggerAll = Time = 0
TriggerAll = PrevStateNo = 151 || PrevStateNo = 153
Trigger1 = Command = "holdfwd"
Trigger2 = Command = "holdback"
V = 45
Value = 800

[State -3, AI]
Type = VarRandom
TriggerAll = Var(59) = 4
TriggerAll = Var(45) = 0
TriggerAll = Time = 0
Trigger1 = PrevStateNo = [150,153]
V = 58
Range = 0,99
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;VarSet
TriggerAll = Var(59) = 4
TriggerAll = Var(45) = 0
TriggerAll = Time = 0
TriggerAll = PrevStateNo = [150,153]
TriggerAll = FVar(9) > Life+100
TriggerAll = (100*Life/Const(Data.Life)) <= 30
TriggerAll = P2BodyDist X+Ceil(Vel X)-Ceil(EnemyNear,Vel X) = [-35,35]
Trigger1 = Var(13) = 1
Trigger2 = Power >= 1000
Trigger2 = Var(13) = 0
Trigger2 = Var(14) = 0
V = 45
Value = 990

[State -1]
Type = VarSet
TriggerAll = Var(59) = 4
TriggerAll = Var(45) = 0
TriggerAll = Time = 0
TriggerAll = PrevStateNo = [150,153]
Trigger1 = P2BodyDist X+Ceil(Vel X)-Ceil(EnemyNear,Vel X) = [-25,25]
Trigger1 = Var(58) = [0,49]
V = 45
Value = 800

[State -1]
Type = VarSet
TriggerAll = Var(59) = 4
TriggerAll = PalNo = 12
TriggerAll = Var(45) = 0
TriggerAll = Time = 0
TriggerAll = PrevStateNo = [150,153]
TriggerAll = P2BodyDist X+Ceil(Vel X)-Ceil(EnemyNear,Vel X) = [-20,20]
TriggerAll = Var(58) = [50,89]
Trigger1 = Power >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = 1 || Var(13) = -1 || Var(14) = 1
V = 45
Value = 2300

[State -1]
Type = VarSet
TriggerAll = Var(59) = 4
TriggerAll = Var(45) = 0
TriggerAll = Time = 0
TriggerAll = PrevStateNo = [150,153]
TriggerAll = P2BodyDist X+Ceil(Vel X)-Ceil(EnemyNear,Vel X) = [-20,20]
TriggerAll = Var(58) = [50,89]
Trigger1 = Power < 1000
Trigger1 = Var(13) = 0
V = 45
Value = 1300

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = NumHelper(7640) = 0
TriggerAll = Var(45) >= 1
Trigger1 = Time = 0
StateNo = 7600
PosType = P1
Pos = 0, (Const(Size.Mid.Pos.Y)+Const(Size.Head.Pos.Y))/2
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
SprPriority = 5
ID = 7640

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = NumHelper(7641) = 0
TriggerAll = Var(45) >= 1
Trigger1 = Time = 0
StateNo = 7600
PosType = P1
Pos = 0, (Const(Size.Mid.Pos.Y)+Const(Size.Head.Pos.Y))/2
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
SprPriority = 5
ID = 7641

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = NumHelper(7642) = 0
TriggerAll = Var(45) >= 1
Trigger1 = Time = 0
StateNo = 7600
PosType = P1
Pos = 0, (Const(Size.Mid.Pos.Y)+Const(Size.Head.Pos.Y))/2
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
SprPriority = 5
ID = 7642

[State -1]
Type = ChangeState
TriggerAll = Var(45) >= 1
Trigger1 = Time = 0
Value = Var(45)

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = NumHelper(7610) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
StateNo = 7600
PosType = P1
Pos = 0, (Const(Size.Mid.Pos.Y)+Const(Size.Head.Pos.Y))/2
Ownpal = 1
IgnoreHitPause = 1
SprPriority = 5
ID = 7610

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = NumHelper(7611) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
StateNo = 7600
PosType = P1
Pos = 0, (Const(Size.Mid.Pos.Y)+Const(Size.Head.Pos.Y))/2
Ownpal = 1
IgnoreHitPause = 1
SprPriority = 5
ID = 7611

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = NumHelper(7612) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
StateNo = 7600
PosType = P1
Pos = 0, (Const(Size.Mid.Pos.Y)+Const(Size.Head.Pos.Y))/2
Ownpal = 1
IgnoreHitPause = 1
SprPriority = 5
ID = 7612

[State -1]
Type = ReversalDef
Trigger1 = AnimElem = 1
Reversal.Attr =  SCA, NA,SA,HA,NP,SP,HP
Pausetime = 10,10
HitSound = S901,IfElse((Var(26)=[2,3]),0,10)+Random%2
NumHits = 0
SparkNo = -1
Guard.SparkNo = -1
SparkXY = 0,0
GetPower = IfElse(FVar(16)=0,0,20),0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s900, IfElse((Var(26)=[2,3]),0,10)

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 955
ID = 955
Pos = -4,-35
PosType = P1
Facing = IfElse(Random%2=0,1,-1)
Ownpal = 1
Keyctrl = 0
SprPriority = 5
BindTime = -1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 901
ID = 931
Name = "Helper"
Pos = 0,0
PosType = P1
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = MoveHit
StateNo = 956
ID = 957
PosType = P1
Pos = 0,-35
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 932
Ctrl = 0

[State -1]
Type = ChangeState
Trigger1 = MoveHit = 1
Value = 933
Ctrl = 0

;---------------------------------------------------------------------------
;シールドバンカー
[Statedef 932]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 932
PowerAdd  = 0

[State -1]
Type = VelSet
Trigger1 = Time = [0,5]
X = 3

[State -1]
Type = VelSet
Trigger1 = Time = 6
X = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s930, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, IfElse((Var(26)=[2,3]),1,11)
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.45
FV = 1
Value = 0.45
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = S, NA
AnimType  = Up
Damage    = Ceil(FVar(0)*(50-Var(4)%2)),Ceil(FVar(1)*5)
HitFlag = MAFD
GuardFlag = MA
Priority = 3, Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
GuardSound = s120,IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -55-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-10.4
Guard.Velocity = -8
Air.Velocity = IfElse(Var(50)=1,0,-6),IfElse(Var(50)=1,-10.2,FVar(25))
AirGuard.Velocity = -3,-2.8
Down.Velocity = -6,-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -9
Air.CornerPush.VelOff = IfElse(Var(50)=1,0,-7)
Down.CornerPush.VelOff = -7
YAccel = .48
Kill = 1
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 40
GetPower = Ceil(FVar(16)*100), Ceil(0.85*FVar(16)*100)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*30), Ceil(IfElse(FVar(16)=0,1,FVar(16))*15)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;シールド成立版シールドバンカー
[Statedef 933]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 932
PowerAdd  = 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VelSet
Trigger1 = Time = [0,5]
X = 3

[State -1]
Type = VelSet
Trigger1 = Time = 6
X = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s930, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, IfElse((Var(26)=[2,3]),1,11)
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.45
FV = 1
Value = 0.45
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = S, NA
AnimType  = Up
Damage    = Ceil(FVar(0)*(50-Var(4)%2)),Ceil(FVar(1)*5)
HitFlag = MAFD
GuardFlag = MA
Priority = 3, Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
GuardSound = s120,IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -55-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-10.4
Guard.Velocity = -8
Air.Velocity = IfElse(Var(50)=1,0,-6),IfElse(Var(50)=1,-10.2,FVar(25))
AirGuard.Velocity = -3,-2.8
Down.Velocity = -6,-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -9
Air.CornerPush.VelOff = IfElse(Var(50)=1,0,-7)
Down.CornerPush.VelOff = -7
YAccel = .48
Kill = 1
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 40
GetPower = Ceil(FVar(16)*100), Ceil(0.85*FVar(16)*100)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*30), Ceil(IfElse(FVar(16)=0,1,FVar(16))*15)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; アイスグレネード
[Statedef 1000]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1000
SprPriority = 2
Facep2 = 1

[State -1]
Type = ChangeState
Trigger1 = Time = 0
Trigger1 = PalNo = 12
Trigger1 = Helper(5901),Var(49) = 1
Value = 1070

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = -5
y = -7

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1000, 4+Random%2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 2
Channel = 3

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
StateNo = 2514
ID = 2505
PosType = P1
Pos = 0,-70
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
;SuperMoveTime = 9999
;PauseMoveTime = 9999

[State -2]
type = RemoveExplod
Trigger1 = AnimElem = 5
Trigger1 = Floor(Fvar(38))%10 = 0
ID = 2530
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = RemoveExplod
Trigger1 = AnimElem = 5
Trigger1 = Floor(Fvar(38)) != 0
ID = 2540
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Varadd
Trigger1 = AnimElem = 5
Trigger1 = Fvar(38) != 0
FV = 38
Value = -1
IgnoreHitPause = 1
Persistent = 0

[State -2]
Type = Explod
TriggerAll = Var(13) != -1
Trigger1 = NumExplod(2530) = 0
Anim = 2530+Floor(Fvar(38)/10)
PosType = Left
Pos = IfElse(TeamSide=1,22,302), 211-Floor(Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = IfElse(Var(26)=3,6,7)
ID = 2530

[State -2]
Type = Explod
TriggerAll = Var(13) != -1
Trigger1 = NumExplod(2540) = 0
Anim = 2530+Floor(Fvar(38))%10
PosType = Left
Pos = IfElse(TeamSide=1,28,308), 211-Floor(Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = IfElse(Var(26)=3,6,7)
ID = 2540

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; スタングレネード
[Statedef 1050]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1000
SprPriority = 2
Facep2 = 1

[State -1]
Type = ChangeState
Trigger1 = Time = 0
Trigger1 = PalNo = 12
Trigger1 = Helper(5901),Var(49) = 1
Value = 1080

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = -5
y = -7

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1000, 6+Random%3
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 2
Channel = 3

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
StateNo = 2516
ID = 2505
PosType = P1
Pos = 0,-70
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
;SuperMoveTime = 9999
;PauseMoveTime = 9999

[State -2]
type = RemoveExplod
Trigger1 = AnimElem = 5
Trigger1 = Floor(Fvar(38))%10 = 0
ID = 2530
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = RemoveExplod
Trigger1 = AnimElem = 5
Trigger1 = Floor(Fvar(38)) != 0
ID = 2540
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Varadd
Trigger1 = AnimElem = 5
Trigger1 = Fvar(38) != 0
FV = 38
Value = -1
IgnoreHitPause = 1
Persistent = 0

[State -2]
Type = Explod
TriggerAll = Var(13) != -1
Trigger1 = NumExplod(2530) = 0
Anim = 2530+Floor(Fvar(38)/10)
PosType = Left
Pos = IfElse(TeamSide=1,22,302), 211-Floor(Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = IfElse(Var(26)=3,6,7)
ID = 2530

[State -2]
Type = Explod
TriggerAll = Var(13) != -1
Trigger1 = NumExplod(2540) = 0
Anim = 2530+Floor(Fvar(38))%10
PosType = Left
Pos = IfElse(TeamSide=1,28,308), 211-Floor(Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = IfElse(Var(26)=3,6,7)
ID = 2540

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; エアグレネード
[Statedef 1060]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1000
SprPriority = 2
Facep2 = 1

[State -1]
Type = ChangeState
Trigger1 = Time = 0
Trigger1 = PalNo = 12
Trigger1 = Helper(5901),Var(49) = 1
Value = 1090

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = -5
y = -7

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1000, 9+Random%2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 2
Channel = 3

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
StateNo = 2518
ID = 2505
PosType = P1
Pos = 0,-70
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
;SuperMoveTime = 9999
;PauseMoveTime = 9999

[State -2]
type = RemoveExplod
Trigger1 = AnimElem = 5
Trigger1 = Floor(Fvar(38))%10 = 0
ID = 2530
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = RemoveExplod
Trigger1 = AnimElem = 5
Trigger1 = Floor(Fvar(38)) != 0
ID = 2540
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Varadd
Trigger1 = AnimElem = 5
Trigger1 = Fvar(38) != 0
FV = 38
Value = -1
IgnoreHitPause = 1
Persistent = 0

[State -2]
Type = Explod
TriggerAll = Var(13) != -1
Trigger1 = NumExplod(2530) = 0
Anim = 2530+Floor(Fvar(38)/10)
PosType = Left
Pos = IfElse(TeamSide=1,22,302), 211-Floor(Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = IfElse(Var(26)=3,6,7)
ID = 2530

[State -2]
Type = Explod
TriggerAll = Var(13) != -1
Trigger1 = NumExplod(2540) = 0
Anim = 2530+Floor(Fvar(38))%10
PosType = Left
Pos = IfElse(TeamSide=1,28,308), 211-Floor(Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = IfElse(Var(26)=3,6,7)
ID = 2540

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 全部もってけ！！
[Statedef 1070]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1000
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = -5
y = -7

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1000, 10+Random%2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 2
Channel = 3

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
StateNo = 2514
ID = 2515
PosType = P1
Pos = 0,-70
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
;SuperMoveTime = 9999
;PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
StateNo = 2516
ID = 2515
PosType = P1
Pos = 0,-70
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
;SuperMoveTime = 9999
;PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
StateNo = 2518
ID = 2515
PosType = P1
Pos = 0,-70
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
;SuperMoveTime = 9999
;PauseMoveTime = 9999
s
[State -2]
type = RemoveExplod
Trigger1 = AnimElem = 5
Trigger1 = Floor(Fvar(38))%10 = 0
ID = 2530
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = RemoveExplod
Trigger1 = AnimElem = 5
Trigger1 = Floor(Fvar(38)) != 0
ID = 2540
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Varadd
Trigger1 = AnimElem = 5
Trigger1 = Fvar(38) != 0
FV = 38
Value = -1
IgnoreHitPause = 1
Persistent = 0

[State -2]
Type = Explod
TriggerAll = Var(13) != -1
Trigger1 = NumExplod(2530) = 0
Anim = 2530+Floor(Fvar(38)/10)
PosType = Left
Pos = IfElse(TeamSide=1,22,302), 211-Floor(Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = IfElse(Var(26)=3,6,7)
ID = 2530

[State -2]
Type = Explod
TriggerAll = Var(13) != -1
Trigger1 = NumExplod(2540) = 0
Anim = 2530+Floor(Fvar(38))%10
PosType = Left
Pos = IfElse(TeamSide=1,28,308), 211-Floor(Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = IfElse(Var(26)=3,6,7)
ID = 2540

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 全部もってけ！！
[Statedef 1080]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1000
SprPriority = 2
Facep2 = 1

[State -1]
Type = Turn
Trigger1 = Time = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = -5
y = -7

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1000, 10+Random%2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 2
Channel = 3

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
StateNo = 2514
ID = 2515
PosType = P1
Pos = 0,-70
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
;SuperMoveTime = 9999
;PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
StateNo = 2516
ID = 2515
PosType = P1
Pos = 0,-70
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
;SuperMoveTime = 9999
;PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
StateNo = 2518
ID = 2515
PosType = P1
Pos = 0,-70
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
;SuperMoveTime = 9999
;PauseMoveTime = 9999
s
[State -2]
type = RemoveExplod
Trigger1 = AnimElem = 5
Trigger1 = Floor(Fvar(38))%10 = 0
ID = 2530
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = RemoveExplod
Trigger1 = AnimElem = 5
Trigger1 = Floor(Fvar(38)) != 0
ID = 2540
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Varadd
Trigger1 = AnimElem = 5
Trigger1 = Fvar(38) != 0
FV = 38
Value = -1
IgnoreHitPause = 1
Persistent = 0

[State -2]
Type = Explod
TriggerAll = Var(13) != -1
Trigger1 = NumExplod(2530) = 0
Anim = 2530+Floor(Fvar(38)/10)
PosType = Left
Pos = IfElse(TeamSide=1,22,302), 211-Floor(Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = IfElse(Var(26)=3,6,7)
ID = 2530

[State -2]
Type = Explod
TriggerAll = Var(13) != -1
Trigger1 = NumExplod(2540) = 0
Anim = 2530+Floor(Fvar(38))%10
PosType = Left
Pos = IfElse(TeamSide=1,28,308), 211-Floor(Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = IfElse(Var(26)=3,6,7)
ID = 2540

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 全部もってけ！！
[Statedef 1090]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1000
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = -5
y = -7

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1000, 10+Random%2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 2
Channel = 3

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
StateNo = 2514
ID = 2515
PosType = P1
Pos = 0,-70
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
;SuperMoveTime = 9999
;PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
StateNo = 2516
ID = 2515
PosType = P1
Pos = 0,-70
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
;SuperMoveTime = 9999
;PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
StateNo = 2518
ID = 2515
PosType = P1
Pos = 0,-70
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
;SuperMoveTime = 9999
;PauseMoveTime = 9999
s
[State -2]
type = RemoveExplod
Trigger1 = AnimElem = 5
Trigger1 = Floor(Fvar(38))%10 = 0
ID = 2530
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = RemoveExplod
Trigger1 = AnimElem = 5
Trigger1 = Floor(Fvar(38)) != 0
ID = 2540
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Varadd
Trigger1 = AnimElem = 5
Trigger1 = Fvar(38) != 0
FV = 38
Value = -1
IgnoreHitPause = 1
Persistent = 0

[State -2]
Type = Explod
TriggerAll = Var(13) != -1
Trigger1 = NumExplod(2530) = 0
Anim = 2530+Floor(Fvar(38)/10)
PosType = Left
Pos = IfElse(TeamSide=1,22,302), 211-Floor(Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = IfElse(Var(26)=3,6,7)
ID = 2530

[State -2]
Type = Explod
TriggerAll = Var(13) != -1
Trigger1 = NumExplod(2540) = 0
Anim = 2530+Floor(Fvar(38))%10
PosType = Left
Pos = IfElse(TeamSide=1,28,308), 211-Floor(Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = IfElse(Var(26)=3,6,7)
ID = 2540

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
スーパーアーマー
[Statedef 7000]
Type = S
MoveType = H
Physics = S
Ctrl = 0

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 7500
PosType = P1
Pos = Const(Size.Mid.Pos.X), Const(Size.Mid.Pos.Y)
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 5
ID = 7500
Persistent = 0

[State -1]
Type = PalFX
Trigger1 = Alive
Time = 1
Add = 100,20,20
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosFreeze
Trigger1 = Alive
Value = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = 1
V = 17
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ChangeState
Trigger1 = Alive
Trigger1 = Time = 1
Value = 1001
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = !Alive
Trigger1 = Time = 1
Value = 5050
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; 崩拳弱
[Statedef 1100]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1100
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Helper
Trigger1 = Time = 7
StateNo = 9000
ID = 9008
PosType = P1
Ownpal = 1
SprPriority = 5

[State -1]
Type = Helper
Trigger1 = Time = 8
StateNo = 9000
ID = 9009
PosType = P1
Ownpal = 1
SprPriority = 5


[State -1]
Type = VelSet
Trigger1 = Time = [7,11]
X = 9.5

[State -1]
Type = VelSet
Trigger1 = Time = 12
X = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1100, 0+Random%2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 10
Value = s110, 0
Channel = 3

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 11
Value = s30, IfElse((Var(26)=[2,3]),2,12)
Channel = 2

[State -1]
Type = Explod
Trigger1 = AnimElem = 11
ID = 1105
PosType = P1
Pos = 5,-5
Anim = 1105
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = EnvShake
Trigger1 = AnimElem = 10
Time  = 8
Ampl  = 5
Freq  = 90

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.70
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = AnimElem = 12
Trigger1 = P2StateType = A
Trigger1 = Var(50) = 1
Attr = S, SA
Damage = Ceil(FVar(0)*(80-Var(4)%2)),Ceil(FVar(1)*8)
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = 2, Hit
PauseTime = 10, 10+Var(41)
Guard.PauseTime = 10,10
HitSound = s10, IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
GuardSound = s120, IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -30-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -1,-6.6
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-6.2,FVar(25))
AirGuard.Velocity = -2,IfElse(Var(50)=1,-2.8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -2
Air.CornerPush.VelOff = -2*Var(50)
Down.CornerPush.VelOff = -5
Guard.CornerPush.VelOff = -9
P2StateNo = 5600
ID = 5600
P2Facing = 1
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = Ceil(FVar(16)*100), Ceil(0.85*FVar(16)*100)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*30), Ceil(IfElse(FVar(16)=0,1,FVar(16))*15)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = AnimElem = 12
Trigger1 = Var(50) = 2
Trigger2 = P2StateType != A
Attr = S, SA
Damage = Ceil(FVar(0)*(80-Var(4)%2)),Ceil(FVar(1)*8)
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = 2, Hit
PauseTime = 10, 10+Var(41)
Guard.PauseTime = 10,10
HitSound = s10, IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
GuardSound = s120, IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -30-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Air.HitTime = 12
Ground.Velocity = -1,-7.6
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-6.2,FVar(25))
AirGuard.Velocity = -2,IfElse(Var(50)=1,-2.8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -2
Air.CornerPush.VelOff = -2*Var(50)
Down.CornerPush.VelOff = -5
Guard.CornerPush.VelOff = -9
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 30
GetPower = Ceil(FVar(16)*100), Ceil(0.85*FVar(16)*100)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*30), Ceil(IfElse(FVar(16)=0,1,FVar(16))*15)

[State -1]
Type = Explod
Trigger1 = MoveHit
ID = 1106
PosType = P1
Pos = 0,0
Anim = 1106
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 崩拳中
[Statedef 1150]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1150
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VelSet
Trigger1 = Time = [20,24]
X = 12

[State -1]
Type = VelSet
Trigger1 = Time = 25
X = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1100, 0+Random%2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 10
Value = s110, 0
Channel = 3

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 11
Value = s30, IfElse((Var(26)=[2,3]),2,12)
Channel = 2

[State -1]
Type = Explod
Trigger1 = AnimElem = 11
ID = 1105
PosType = P1
Pos = 5,-5
Anim = 1105
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = EnvShake
Trigger1 = AnimElem = 10
Time  = 8
Ampl  = 5
Freq  = 90

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.70
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = AnimElem = 12
Trigger1 = P2StateType = A
Trigger1 = Var(50) = 1
Attr = S, SA
Damage = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(1)*10)
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = 2, Hit
PauseTime = 10, 10+Var(41)
Guard.PauseTime = 10,10
HitSound = s10, IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
GuardSound = s120, IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -30-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Air.HitTime = 12
Ground.Velocity = -1,-6.6
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-6.2,FVar(25))
AirGuard.Velocity = -2,IfElse(Var(50)=1,-2.8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -2
Air.CornerPush.VelOff = -2*Var(50)
Down.CornerPush.VelOff = -5
Guard.CornerPush.VelOff = -9
P2StateNo = 5600
ID = 5600
P2Facing = 1
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = Ceil(FVar(16)*100), Ceil(0.85*FVar(16)*100)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*30), Ceil(IfElse(FVar(16)=0,1,FVar(16))*15)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = AnimElem = 12
Trigger1 = Var(50) = 2
Trigger2 = P2StateType != A
Attr = S, SA
Damage = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(1)*10)
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = 2, Hit
PauseTime = 10, 10+Var(41)
Guard.PauseTime = 10,10
HitSound = s10, IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
GuardSound = s120, IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -30-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Air.HitTime = 12
Ground.Velocity = -1,-7.6
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-6.2,FVar(25))
AirGuard.Velocity = -2,IfElse(Var(50)=1,-2.8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -2
Air.CornerPush.VelOff = -2*Var(50)
Down.CornerPush.VelOff = -5
Guard.CornerPush.VelOff = -9
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 30
GetPower = Ceil(FVar(16)*100), Ceil(0.85*FVar(16)*100)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*30), Ceil(IfElse(FVar(16)=0,1,FVar(16))*15)

[State -1]
Type = Explod
Trigger1 = MoveHit
ID = 1106
PosType = P1
Pos = 0,0
Anim = 1106
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 宝石魔術弱
[Statedef 1200]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1200
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = MoveContact
Trigger2 = MoveReversed
V = 7
Value = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = Time = 4
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 2

[State -1]
Type = Helper
Trigger1 = Time = 10
StateNo = 9000
ID = 9006
PosType = P1
Ownpal = 1
SprPriority = 5

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1200, 0+var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;PlaySnd
Trigger1 = AnimElem = 3
Value = s41, IfElse((Var(26)=[2,3]),0,10)
Channel = 3

[State -1]
Type = Helper
Trigger1 = AnimElem = 3
StateNo = 2504
ID = 2504
PosType = P1
Pos = 35,-70
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
;SuperMoveTime = 9999
;PauseMoveTime = 9999

[State -2]
type = RemoveExplod
Trigger1 = AnimElem = 3
Trigger1 = Floor(Fvar(38))%10 = 0
ID = 2530
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = RemoveExplod
Trigger1 = AnimElem = 3
Trigger1 = Floor(Fvar(38)) != 0
ID = 2540
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Varadd
Trigger1 = AnimElem = 3
Trigger1 = Fvar(38) != 0
FV = 38
Value = -1
IgnoreHitPause = 1
Persistent = 0

[State -2]
Type = Explod
TriggerAll = Var(13) != -1
Trigger1 = NumExplod(2530) = 0
Anim = 2530+Floor(Fvar(38)/10)
PosType = Left
Pos = IfElse(TeamSide=1,22,302), 211-Floor(Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = IfElse(Var(26)=3,6,7)
ID = 2530

[State -2]
Type = Explod
TriggerAll = Var(13) != -1
Trigger1 = NumExplod(2540) = 0
Anim = 2530+Floor(Fvar(38))%10
PosType = Left
Pos = IfElse(TeamSide=1,28,308), 211-Floor(Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = IfElse(Var(26)=3,6,7)
ID = 2540

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 6
Attr = S, SA
Damage = Ceil(FVar(0)*(70-Var(4)%2)),Ceil(FVar(1)*7)
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = 2, Hit
PauseTime = 10, 10+Var(41)
Guard.PauseTime = 10,10
HitSound = s10, IfElse(Var(26)=2,2,IfElse(Var(26)=3,22,12))
GuardSound = s120, IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -30-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-7.2,FVar(25))
AirGuard.Velocity = -2,IfElse(Var(50)=1,-2.8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = -2*Var(50)
Down.CornerPush.VelOff = -5
Guard.CornerPush.VelOff = -9
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 30
GetPower = Ceil(FVar(16)*80), Ceil(0.85*FVar(16)*80)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*24), Ceil(IfElse(FVar(16)=0,1,FVar(16))*12)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 宝石魔術中
[Statedef 1250]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1250
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = PrevStateNo = 1250
Trigger1 = FVar(1) > 0.50
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveContact
Trigger2 = MoveReversed
V = 7
Value = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = Time = 11
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 3

[State -1]
Type = Helper
Trigger1 = Time = 23
StateNo = 9000
ID = 9006
PosType = P1
Ownpal = 1
SprPriority = 5

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1200, 2+Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = null;PlaySnd
Trigger1 = AnimElem = 3
Value = s41, IfElse((Var(26)=[2,3]),0,10)
Channel = 3

[State -1]
Type = Helper
Trigger1 = AnimElem = 3
StateNo = 2506
ID = 2505
PosType = P1
Pos = 35,-70
Ownpal = 1
Keyctrl = 0
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
;SuperMoveTime = 9999
;PauseMoveTime = 9999

[State -2]
type = RemoveExplod
Trigger1 = AnimElem = 3
Trigger1 = Floor(Fvar(38))%10 = 0
ID = 2530
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = RemoveExplod
Trigger1 = AnimElem = 3
Trigger1 = Floor(Fvar(38)) != 0
ID = 2540
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Varadd
Trigger1 = AnimElem = 3
Trigger1 = Fvar(38) != 0
FV = 38
Value = -1
IgnoreHitPause = 1
Persistent = 0

[State -2]
Type = Explod
TriggerAll = Var(13) != -1
Trigger1 = NumExplod(2530) = 0
Anim = 2530+Floor(Fvar(38)/10)
PosType = Left
Pos = IfElse(TeamSide=1,22,302), 211-Floor(Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = IfElse(Var(26)=3,6,7)
ID = 2530

[State -2]
Type = Explod
TriggerAll = Var(13) != -1
Trigger1 = NumExplod(2540) = 0
Anim = 2530+Floor(Fvar(38))%10
PosType = Left
Pos = IfElse(TeamSide=1,28,308), 211-Floor(Var(0)/100000)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = IfElse(Var(26)=3,6,7)
ID = 2540

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 連環腿弱
[Statedef 1300]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1300
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 5

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 3
StateType = A
Physics = N

[State -1]
Type = VelSet
Trigger1 = AnimElem = 3
X = 1.5
Y = -7

[State -1]
Type = VelAdd
Trigger1 = Vel Y <= 6
Trigger1 = Time = [3,44]
Y = .32

[State -1]
Type = VelSet
Trigger1 = AnimElem = 17
X = 0
Y = 0

[State -1]
Type = PosSet
Trigger1 = AnimElem = 17
Y = 0

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 17
StateType = S
Physics = S

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1300, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Trigger2 = AnimElem = 7
Value = s41, IfElse((Var(26)=[2,3]),0,10)

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Trigger2 = AnimElem = 7
Value = s30, IfElse((Var(26)=[2,3]),1,11)

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 1305
PosType = P1
Pos = 0,0
Anim = 1305
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 7
ID = 1306
PosType = P1
Pos = 0,0
Anim = 1306
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 17
Value = s41, IfElse((Var(26)=[2,3]),1,11)

[State -1]
Type = Helper
Trigger1 = Time = 5
StateNo = 9500
ID = 9500
Ownpal = 1
Keyctrl = 0

[State -1]
Type = PosSet
TriggerAll = NumHelper(9500) > 0
TriggerAll = Time = [6,7]
Trigger1 = Facing = 1
Trigger1 = Pos X > Helper(9500),Pos X
Trigger2 = Facing = -1
Trigger2 = Pos X < Helper(9500),Pos X
X = Ceil(Helper(9500),Pos X)

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = MoveHit
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = S, SA
Damage = Ceil(FVar(0)*(60-Var(4)%2)),Ceil(FVar(1)*6)
AnimType = Hard
HitFlag = MAFD
GuardFlag = M
Priority = 3, Hit
PauseTime = 10, 10+Var(41)
Guard.PauseTime = 10,10
HitSound = s10, IfElse(Var(26)=2,5,IfElse(Var(26)=3,25,15))
GuardSound = s120, IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -40-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-7.8
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-7.8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -2
Air.CornerPush.VelOff = -2*Var(50)
Down.CornerPush.VelOff = -5
Guard.CornerPush.VelOff = -9
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 30
GetPower = Ceil(FVar(16)*50), Ceil(0.85*FVar(16)*50)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*15), Ceil(IfElse(FVar(16)=0,1,FVar(16))*7)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 8
Attr = S, SA
Damage = Ceil(FVar(0)*(90-Var(4)%2)),Ceil(FVar(1)*9)
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = 3, Hit
PauseTime = 10, 10+Var(41)
Guard.PauseTime = 10,10
HitSound = s10, IfElse(Var(26)=2,5,IfElse(Var(26)=3,25,15))
GuardSound = s120, IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-7.8
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-7.8,FVar(25))
AirGuard.Velocity = -2,IfElse(Var(50)=1,-2.8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -2
Air.CornerPush.VelOff = -2*Var(50)
Down.CornerPush.VelOff = -5
Guard.CornerPush.VelOff = -9
YAccel = .48
ID = 1300
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 30
GetPower = Ceil(FVar(16)*80), Ceil(0.85*FVar(16)*80)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*24), Ceil(IfElse(FVar(16)=0,1,FVar(16))*12)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 連環腿中
[Statedef 1310]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1310
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 3
Physics = N

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 8
StateType = A

[State -1]
Type = VelSet
Trigger1 = AnimElem = 3
X = 4.6

[State -1]
Type = VelSet
Trigger1 = AnimElem = 8
Y = -3.4

[State -1]
Type = VelAdd
Trigger1 = Vel Y <= 5
Trigger1 = Time = [32,57]
Y = .25

[State -1]
Type = VelSet
Trigger1 = AnimElem = 15
X = 0
Y = 0

[State -1]
Type = PosSet
Trigger1 = AnimElem = 15
Y = 0

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 16
StateType = S
Physics = S

[State -1]
Type = CtrlSet
Trigger1 = AnimElem = 16
Value = 1

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s100, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s1300, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s110, 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 8
Trigger2 = AnimElem = 11
Value = s41, IfElse((Var(26)=[2,3]),0,10)

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 8
Trigger2 = AnimElem = 11
Value = s30, IfElse((Var(26)=[2,3]),1,11)

[State -1]
Type = Explod
Trigger1 = AnimElem = 8
ID = 1315
PosType = P1
Pos = 0,0
Anim = 1305
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 11
ID = 1316
PosType = P1
Pos = 0,0
Anim = 1306
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 16
Value = s41, IfElse((Var(26)=[2,3]),1,11)

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = MoveHit
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = NumTarget(1310) > 0
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.50
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 7
Attr = S, SA
Damage = Ceil(FVar(0)*(50-Var(4)%2)),Ceil(FVar(1)*5)
AnimType = Hard
HitFlag = MAFD
GuardFlag = HA
Priority = 3, Hit
PauseTime = 6, 6+Var(41)
Guard.PauseTime = 6,6
HitSound = s10, IfElse(Var(26)=2,5,IfElse(Var(26)=3,25,15))
GuardSound = s120, IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -5
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-6.8,FVar(25))
AirGuard.Velocity = -2,IfElse(Var(50)=1,-2.8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -6
Air.CornerPush.VelOff = -2*Var(50)
Down.CornerPush.VelOff = -5
Guard.CornerPush.VelOff = -9
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 30
GetPower = Ceil(FVar(16)*50), Ceil(0.85*FVar(16)*50)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*15), Ceil(IfElse(FVar(16)=0,1,FVar(16))*7)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 9
Attr = S, SA
Damage = Ceil(FVar(0)*(50-Var(4)%2)),Ceil(FVar(1)*5)
AnimType = Hard
HitFlag = MAFD
GuardFlag = HA
Priority = 3, Hit
PauseTime = 10, 10+Var(41)
Guard.PauseTime = 10,10
HitSound = s10, IfElse(Var(26)=2,5,IfElse(Var(26)=3,25,15))
GuardSound = s120, IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -40-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-7.2
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-7.2,FVar(25))
AirGuard.Velocity = -2,IfElse(Var(50)=1,-2.8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -2
Air.CornerPush.VelOff = -2*Var(50)
Down.CornerPush.VelOff = -5
Guard.CornerPush.VelOff = -9
YAccel = .48
ID = 1310
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 30
GetPower = Ceil(FVar(16)*50), Ceil(0.85*FVar(16)*50)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*15), Ceil(IfElse(FVar(16)=0,1,FVar(16))*7)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 12
Attr = S, SA
Damage = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(1)*10)
AnimType = Hard
HitFlag = MAFD
GuardFlag = HA
Priority = 3, Hit
PauseTime = 10, 10+Var(41)
Guard.PauseTime = 10,10
HitSound = s10, IfElse(Var(26)=2,5,IfElse(Var(26)=3,25,15))
GuardSound = s120, IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-7.8
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-7.8,FVar(25))
AirGuard.Velocity = -2,IfElse(Var(50)=1,-2.8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -2
Air.CornerPush.VelOff = -2*Var(50)
Down.CornerPush.VelOff = -5
Guard.CornerPush.VelOff = -9
YAccel = .48
ID = 1310
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 30
GetPower = Ceil(FVar(16)*100), Ceil(0.85*FVar(16)*100)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*30), Ceil(IfElse(FVar(16)=0,1,FVar(16))*15)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 空中連環腿弱
[Statedef 1350]
Type    = A
MoveType= A
Physics = N
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1350
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = StateTypeSet
Trigger1 = Anim = 1355
StateType = S
Physics = S

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 1350
Trigger1 = (Vel Y > 0) && (Pos Y >= 0)
Value = 1355

[State -1]
Type = VelSet
Trigger1 = Anim = 1350
Trigger1 = AnimElem = 1
X = 1
Y = -5.2

[State -1]
Type = VelAdd
Trigger1 = Anim = 1350
Trigger1 = Vel Y <= 7.5
Trigger1 = Time >= 1
Y = .34

[State -1]
Type = VelSet
Trigger1 = Anim = 1355
X = 0
Y = 0

[State -1]
Type = PosSet
Trigger1 = Anim = 1355
Y = 0

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1350
Trigger1 = Time = 1
Value = s1300, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
TriggerAll = Anim = 1350
Trigger1 = AnimElem = 1
Trigger2 = AnimElem = 4
Value = s41, IfElse((Var(26)=[2,3]),0,10)

[State -1]
Type = PlaySnd
TriggerAll = Anim = 1350
Trigger1 = AnimElem = 1
Trigger2 = AnimElem = 4
Value = s30, IfElse((Var(26)=[2,3]),1,11)

[State -1]
Type = Explod
Trigger1 = Anim = 1350
Trigger1 = AnimElem = 1
ID = 1355
PosType = P1
Pos = 0,0
Anim = 1305
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = Anim = 1350
Trigger1 = AnimElem = 4
ID = 1356
PosType = P1
Pos = 0,0
Anim = 1306
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1355
Trigger1 = AnimElem = 1
Value = s41, IfElse((Var(26)=[2,3]),1,11)

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = MoveHit
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 1350
Trigger1 = AnimElem = 2
Attr = S, SA
Damage = Ceil(FVar(0)*(50-Var(4)%2)),Ceil(FVar(1)*5)
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = 3, Hit
PauseTime = 10, 10+Var(41)
Guard.PauseTime = 10,10
HitSound = s10, IfElse(Var(26)=2,5,IfElse(Var(26)=3,25,15))
GuardSound = s120, IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -40-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = Low
Ground.SlideTime = 15
Ground.HitTime  = 15
Ground.Velocity = -1,-7.8
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-7.8,FVar(25))
AirGuard.Velocity = -2,IfElse(Var(50)=1,-2.8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -2
Air.CornerPush.VelOff = -2*Var(50)
Down.CornerPush.VelOff = -5
Guard.CornerPush.VelOff = -9
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 30
GetPower = Ceil(FVar(16)*50), Ceil(0.85*FVar(16)*50)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*15), Ceil(IfElse(FVar(16)=0,1,FVar(16))*7)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 1350
Trigger1 = AnimElem = 5
Attr = S, SA
Damage = Ceil(FVar(0)*(70-Var(4)%2)),Ceil(FVar(1)*7)
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = 3, Hit
PauseTime = 10, 10+Var(41)
Guard.PauseTime = 10,10
HitSound = s10, IfElse(Var(26)=2,5,IfElse(Var(26)=3,25,15))
GuardSound = s120, IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = Low
Ground.SlideTime = 15
Ground.HitTime  = 15
Ground.Velocity = -1,-7.8
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-7.8,FVar(25))
AirGuard.Velocity = -2,IfElse(Var(50)=1,-2.8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -2
Air.CornerPush.VelOff = -2*Var(50)
Down.CornerPush.VelOff = -5
Guard.CornerPush.VelOff = -9
YAccel = .48
ID = 1350
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 30
GetPower = Ceil(FVar(16)*70), Ceil(0.85*FVar(16)*70)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*21), Ceil(IfElse(FVar(16)=0,1,FVar(16))*10)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = Anim = 1355
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 空中連環腿中
[Statedef 1360]
Type    = A
MoveType= A
Physics = N
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1360
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = StateTypeSet
Trigger1 = Anim = 1365
StateType = S
Physics = S

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 1360
Trigger1 = (Vel Y > 0) && (Pos Y >= 0)
Value = 1365

[State -1]
Type = VelSet
Trigger1 = Anim = 1360
Trigger1 = AnimElem = 1
X = 1.8
Y = -5.5

[State -1]
Type = VelAdd
Trigger1 = Anim = 1360
Trigger1 = Vel Y <= 7.5
Trigger1 = Time >= 1
Y = .34

[State -1]
Type = VelSet
Trigger1 = Anim = 1365
X = 0
Y = 0

[State -1]
Type = PosSet
Trigger1 = Anim = 1365
Y = 0

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1360
Trigger1 = Time = 1
Value = s1300, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
TriggerAll = Anim = 1360
Trigger1 = AnimElem = 1
Trigger2 = AnimElem = 5
Value = s41, IfElse((Var(26)=[2,3]),0,10)

[State -1]
Type = PlaySnd
TriggerAll = Anim = 1360
Trigger1 = AnimElem = 1
Trigger2 = AnimElem = 5
Value = s30, IfElse((Var(26)=[2,3]),1,11)

[State -1]
Type = Explod
Trigger1 = Anim = 1360
Trigger1 = AnimElem = 1
ID = 1365
PosType = P1
Pos = 0,0
Anim = 1305
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = Anim = 1360
Trigger1 = AnimElem = 5
ID = 1366
PosType = P1
Pos = 0,0
Anim = 1306
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1365
Trigger1 = AnimElem = 1
Value = s41, IfElse((Var(26)=[2,3]),1,11)

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = MoveHit
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 1360
Trigger1 = AnimElem = 2
Attr = S, SA
Damage = Ceil(FVar(0)*(50-Var(4)%2)),Ceil(FVar(1)*5)
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = 3, Hit
PauseTime = 10, 10+Var(41)
Guard.PauseTime = 10,10
HitSound = s10, IfElse(Var(26)=2,5,IfElse(Var(26)=3,25,15))
GuardSound = s120, IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -40-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = Low
Ground.SlideTime = 15
Ground.HitTime  = 15
Ground.Velocity = -1,-7.8
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-7.8,FVar(25))
AirGuard.Velocity = -2,IfElse(Var(50)=1,-2.8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -2
Air.CornerPush.VelOff = -2*Var(50)
Down.CornerPush.VelOff = -5
Guard.CornerPush.VelOff = -9
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 30
GetPower = Ceil(FVar(16)*50), Ceil(0.85*FVar(16)*50)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*15), Ceil(IfElse(FVar(16)=0,1,FVar(16))*7)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 1360
Trigger1 = AnimElem = 6
Attr = S, SA
Damage = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(1)*10)
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = 3, Hit
PauseTime = 10, 10+Var(41)
Guard.PauseTime = 10,10
HitSound = s10, IfElse(Var(26)=2,5,IfElse(Var(26)=3,25,15))
GuardSound = s120, IfElse((Var(26)=[2,3]),0,10)
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s161
Ground.Type = Low
Air.Type = Low
Ground.SlideTime = 15
Ground.HitTime  = 15
Ground.Velocity = -1,-7.8
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-7.8,FVar(25))
AirGuard.Velocity = -2,IfElse(Var(50)=1,-2.8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -2
Air.CornerPush.VelOff = -2*Var(50)
Down.CornerPush.VelOff = -5
Guard.CornerPush.VelOff = -9
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = 30
GetPower = Ceil(FVar(16)*100), Ceil(0.85*FVar(16)*100)
GivePower = Ceil(IfElse(FVar(16)=0,1,FVar(16))*30), Ceil(IfElse(FVar(16)=0,1,FVar(16))*15)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = Anim = 1365
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;=================================================================================================
;		勝利イントロ(十七分割)
;=================================================================================================
[Statedef 183]
type = S
ctrl = 0
anim = 9977
velset = 0,0

[State win!];対策済み
type = null;Helper
triggerall = TeamMode = Single
TriggerAll = Fvar(12) = 1
trigger1 = animelemtime(3) = 0
trigger1 = MatchOver = 1
name = "super"
stateno = 8051
pos = 2,-92
ownpal = 1
supermovetime = 78
[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
;triggerall = animelemtime(3) = 0
;trigger1 = MatchOver = 0
;Trigger2 = Fvar(12) = 0.5
;Trigger2 = MatchOver = 1
value = 190, 3
channel = 2
volume = 9999
[State 181, 0]
type = AssertSpecial
trigger1 = Time = [0,420]
flag = RoundNotOver
[State 181, 1]
type = null;NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;スタイル選択
[Statedef 6180]
type = S
movetype = I
physics = N
anim = 6999
ctrl = 0

[State 6100, P1]
type = ChangeState
triggerall = TeamSide = 1
trigger1 = numpartner
trigger1 = root,ID<partner,ID
trigger2 = !numpartner
value = 6181

[State 6100, P2]
type = ChangeState
triggerall = TeamSide = 2
trigger1 = numpartner
trigger1 = root,ID<partner,ID
trigger2 = !numpartner
value = 6182

[State 6100, P3]
type = ChangeState
triggerall = TeamSide = 1
trigger1 = numpartner
trigger1 = root,ID>partner,ID
value = 6183

[State 6100, P4]
type = ChangeState
triggerall = TeamSide = 2
trigger1 = numpartner
trigger1 = root,ID>partner,ID
value = 6184
;---------------------------------------------------------------------------
;1P
[Statedef 6181]
type = S
movetype = I
physics = N
anim = 6999
ctrl = 0

[State 6000, VarSet]
type = ParentVarSet
trigger1 = prevstateno != 6181
trigger1 = Time = 0
var(42) = 1

[State 6000, VarSet]
type = ParentVarAdd
trigger1 = Time = 0
var(42) = (root,command = "down") - (root,command = "up")

[State 6000, VarSet]
type = ParentVarSet
trigger1 = Time = 0
trigger1 = root,var(42) =-1
var(42) = 0

[State 6000, VarSet]
type = ParentVarSet
trigger1 = Time = 0
trigger1 = root,var(42) = 2
var(42) = 1

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 6180

[State 6000, Explod]
type = Explod
trigger1 = Time = 0
anim = 6180+root,var(42)
ID = 6180
postype = left
pos = 40,210
ownpal = 1
bindtime = -1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = roundstate > 1
trigger2 = root,command = "a" || root,command = "b" || root,command = "c" || root,command = "x" || root,command = "y" || root,command = "z"
ID = 6180

[State 6000, Explod]
type = Explod
trigger1 = prevstateno != 6181
trigger1 = Time = 0
anim = 6190
ID = 6190
postype = left
pos = 40,218
ownpal = 1
bindtime = -1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, Explod]
type = Explod
trigger1 = root,command = "down"
trigger1 = time > 6
anim = 6191
ID = 6190
postype = left
pos = 40, 218
vel = 0, .25
ownpal = 1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, Explod]
type = Explod
trigger1 = prevstateno != 6181
trigger1 = Time = 0
anim = 6195
ID = 6190
postype = left
pos = 40, 202
ownpal = 1
bindtime = -1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, Explod]
type = Explod
trigger1 = root,command = "up"
trigger1 = time > 6
anim = 6196
ID = 6190
postype = left
pos = 40, 202
vel = 0, -.25
ownpal = 1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = roundstate > 1
trigger2 = root,command = "a" || root,command = "b" || root,command = "c" || root,command = "x" || root,command = "y" || root,command = "z"
ID = 6190

[State 6000, Sound]
type = PlaySnd
trigger1 = root,command = "down" || root,command = "up"
trigger1 = time > 6
value = 0, 100
channel = 10

[State 6000, Sound]
type = PlaySnd
trigger1 = roundstate > 1
trigger2 = root,command = "a" || root,command = "b" || root,command = "c" || root,command = "x" || root,command = "y" || root,command = "z"
value = 0, 101
channel = 10

[State 6000, ChangeState]
type = ChangeState
trigger1 = root,command = "down" || root,command = "up"
trigger1 = time > 6
value = 6181

[State 6000, DestroySelf]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = root,command = "a" || root,command = "b" || root,command = "c" || root,command = "x" || root,command = "y" || root,command = "z"
;---------------------------------------------------------------------------
;2P
[Statedef 6182]
type = S
movetype = I
physics = N
anim = 6999
ctrl = 0

[State 6000, VarSet]
type = ParentVarSet
trigger1 = prevstateno != 6182
trigger1 = Time = 0
var(42) = 1

[State 6000, VarSet]
type = ParentVarAdd
trigger1 = Time = 0
var(42) = (root,command = "down") - (root,command = "up")

[State 6000, VarSet]
type = ParentVarSet
trigger1 = Time = 0
trigger1 = root,var(42) = -1
var(42) = 0

[State 6000, VarSet]
type = ParentVarSet
trigger1 = Time = 0
trigger1 = root,var(42) = 2
var(42) = 1

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 6180

[State 6000, Explod]
type = Explod
trigger1 = Time = 0
anim = 6180+root,var(42)
ID = 6180
postype = left
pos = 280,210
ownpal = 1
bindtime = -1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = roundstate > 1
trigger2 = root,command = "a" || root,command = "b" || root,command = "c" || root,command = "x" || root,command = "y" || root,command = "z"
ID = 6180

[State 6000, Explod]
type = Explod
trigger1 = prevstateno != 6182
trigger1 = Time = 0
anim = 6190
ID = 6190
postype = left
pos = 280,218
ownpal = 1
bindtime = -1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, Explod]
type = Explod
trigger1 = root,command = "down"
trigger1 = time > 6
anim = 6191
ID = 6190
postype = left
pos = 280, 218
vel = 0, .25
ownpal = 1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, Explod]
type = Explod
trigger1 = prevstateno != 6182
trigger1 = Time = 0
anim = 6195
ID = 6190
postype = left
pos = 280, 202
ownpal = 1
bindtime = -1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, Explod]
type = Explod
trigger1 = root,command = "up"
trigger1 = time > 6
anim = 6196
ID = 6190
postype = left
pos = 280, 202
vel = 0, -.25
ownpal = 1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = roundstate > 1
trigger2 = root,command = "a" || root,command = "b" || root,command = "c" || root,command = "x" || root,command = "y" || root,command = "z"
ID = 6190

[State 6000, Sound]
type = PlaySnd
trigger1 = root,command = "down" || root,command = "up"
trigger1 = time > 6
value = 0, 100
channel = 10

[State 6000, Sound]
type = PlaySnd
trigger1 = roundstate > 1
trigger2 = root,command = "a" || root,command = "b" || root,command = "c" || root,command = "x" || root,command = "y" || root,command = "z"
value = 0, 101
channel = 10

[State 6000, ChangeState]
type = ChangeState
trigger1 = root,command = "down" || root,command = "up"
trigger1 = time > 6
value = 6182

[State 6000, DestroySelf]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = root,command = "a" || root,command = "b" || root,command = "c" || root,command = "x" || root,command = "y" || root,command = "z"
;---------------------------------------------------------------------------
;3P
[Statedef 6183]
type = S
movetype = I
physics = N
anim = 6999
ctrl = 0

[State 6000, VarSet]
type = ParentVarSet
trigger1 = prevstateno != 6183
trigger1 = Time = 0
var(42) = 1

[State 6000, VarSet]
type = ParentVarAdd
trigger1 = Time = 0
var(42) = (root,command = "down") - (root,command = "up")

[State 6000, VarSet]
type = ParentVarSet
trigger1 = Time = 0
trigger1 = root,var(42) = -1
var(42) = 0

[State 6000, VarSet]
type = ParentVarSet
trigger1 = Time = 0
trigger1 = root,var(42) = 2
var(42) = 1

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 6180

[State 6000, Explod]
type = Explod
trigger1 = Time = 0
anim = 6180+root,var(42)
ID = 6180
postype = left
pos = 120,210
ownpal = 1
bindtime = -1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = roundstate > 1
trigger2 = root,command = "a" || root,command = "b" || root,command = "c" || root,command = "x" || root,command = "y" || root,command = "z"
ID = 6180

[State 6000, Explod]
type = Explod
trigger1 = prevstateno != 6183
trigger1 = Time = 0
anim = 6190
ID = 6190
postype = left
pos = 120,218
ownpal = 1
bindtime = -1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, Explod]
type = Explod
trigger1 = root,command = "down"
trigger1 = time > 6
anim = 6191
ID = 6190
postype = left
pos = 120, 218
vel = 0, .25
ownpal = 1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, Explod]
type = Explod
trigger1 = prevstateno != 6183
trigger1 = Time = 0
anim = 6195
ID = 6190
postype = left
pos = 120, 202
ownpal = 1
bindtime = -1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, Explod]
type = Explod
trigger1 = root,command = "up"
trigger1 = time > 6
anim = 6196
ID = 6190
postype = left
pos = 120, 202
vel = 0, -.25
ownpal = 1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = roundstate > 1
trigger2 = root,command = "a" || root,command = "b" || root,command = "c" || root,command = "x" || root,command = "y" || root,command = "z"
ID = 6190

[State 6000, Sound]
type = PlaySnd
trigger1 = root,command = "down" || root,command = "up"
trigger1 = time > 6
value = 0, 100
channel = 10

[State 6000, Sound]
type = PlaySnd
trigger1 = roundstate > 1
trigger2 = root,command = "a" || root,command = "b" || root,command = "c" || root,command = "x" || root,command = "y" || root,command = "z"
value = 0, 101
channel = 10

[State 6000, ChangeState]
type = ChangeState
trigger1 = root,command = "down" || root,command = "up"
trigger1 = time > 6
value = 6183

[State 6000, DestroySelf]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = root,command = "a" || root,command = "b" || root,command = "c" || root,command = "x" || root,command = "y" || root,command = "z"
;---------------------------------------------------------------------------
;4P
[Statedef 6184]
type = S
movetype = I
physics = N
anim = 6999
ctrl = 0

[State 6000, VarSet]
type = ParentVarSet
trigger1 = prevstateno != 6184
trigger1 = Time = 0
var(42) = 1

[State 6000, VarSet]
type = ParentVarAdd
trigger1 = Time = 0
var(42) = (root,command = "down") - (root,command = "up")

[State 6000, VarSet]
type = ParentVarSet
trigger1 = Time = 0
trigger1 = root,var(42) = -1
var(42) = 0

[State 6000, VarSet]
type = ParentVarSet
trigger1 = Time = 0
trigger1 = root,var(42) = 2
var(42) = 1

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 6180

[State 6000, Explod]
type = Explod
trigger1 = Time = 0
anim = 6180+root,var(42)
ID = 6180
postype = left
pos = 200,210
ownpal = 1
bindtime = -1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = roundstate > 1
trigger2 = root,command = "a" || root,command = "b" || root,command = "c" || root,command = "x" || root,command = "y" || root,command = "z"
ID = 6180

[State 6000, Explod]
type = Explod
trigger1 = prevstateno != 6184
trigger1 = Time = 0
anim = 6190
ID = 6190
postype = left
pos = 200,218
ownpal = 1
bindtime = -1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, Explod]
type = Explod
trigger1 = root,command = "down"
trigger1 = time > 6
anim = 6191
ID = 6190
postype = left
pos = 200, 218
vel = 0, .25
ownpal = 1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, Explod]
type = Explod
trigger1 = prevstateno != 6184
trigger1 = Time = 0
anim = 6195
ID = 6190
postype = left
pos = 200, 202
ownpal = 1
bindtime = -1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, Explod]
type = Explod
trigger1 = root,command = "up"
trigger1 = time > 6
anim = 6196
ID = 6190
postype = left
pos = 200, 202
vel = 0, -.25
ownpal = 1
pausemovetime = -1
supermovetime = -1
ontop = 1
scale = .5,.5

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = roundstate > 1
trigger2 = root,command = "a" || root,command = "b" || root,command = "c" || root,command = "x" || root,command = "y" || root,command = "z"
ID = 6190

[State 6000, Sound]
type = PlaySnd
trigger1 = root,command = "down" || root,command = "up"
trigger1 = time > 6
value = 0, 100
channel = 10

[State 6000, Sound]
type = PlaySnd
trigger1 = roundstate > 1
trigger2 = root,command = "a" || root,command = "b" || root,command = "c" || root,command = "x" || root,command = "y" || root,command = "z"
value = 0, 101
channel = 10

[State 6000, ChangeState]
type = ChangeState
trigger1 = root,command = "down" || root,command = "up"
trigger1 = time > 6
value = 6184

[State 6000, DestroySelf]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = root,command = "a" || root,command = "b" || root,command = "c" || root,command = "x" || root,command = "y" || root,command = "z"