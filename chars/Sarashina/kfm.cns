; サンプルキャラク??『カンフ??ン』のコンス?ンツとステ?トのフ?イルです。
;===========================================================================
; コンス?ンツ（定数）
;===========================================================================
;---------------------------------------------------------------------------
; ここがキャラの心臓部とも言うべき場所。
; １キャラ単位のライフや大きさなど、標?のステ??スを?め決めておく部分。
; このコ?ナ?自体省略出来ません。
;---------------------------------------------------------------------------
; 基?デ??
;---------------------------------------------------------------------------
[Data]
life              = 1000   ;ライフ（体力ゲ?ジ）最大値
power             = 2000   ;パワ?ゲ?ジ最大値（オプション・デフォルトは3000=Lv.3）
attack            = 110    ;攻撃力（デフォルトは１００％）
defence           = 100    ;防御力（デフォルトは１００％）
fall.defence_up   = 50     ;横に?れている時に一時的に加える防御力（％）
liedown.time      = 60     ;横に?れている時間（フレ??）
airjuggle         = 1500     ;ジャグル?イント限界値（「小ネ?.txt」参照）
sparkno           = 2      ;デフォルトのヒットスパ?ク（fightfxから）
guard.sparkno     = 40     ;デフォルトのガ?ドスパ?ク（fightfxから）
KO.echo           = 0      ;ＫＯ時の音声（11,0）にエコ?を?けるか否か（0=?けない,1=?ける）
volume            = -35      ;キャラの標?の音量（最小-255・最大255）
IntPersistIndex   = 50     ;次のラウンドへ持ち越せる「Var」のアドレスの範囲を決める（※１）
FloatPersistIndex = 40     ;次のラウンドへ持ち越せる「FVar」のアドレスの範囲を決める（※１）

;---------------------------------------------------------------------------
; ※１：変数のラウンド持ち越し方?
;
; ?変数を次のラウンドへ持ち越したい場合は、↑の
; ?「IntPersistIndex」と「FloatPersistIndex」を使う。
; ?そのやり方はM.U.G.E.Nの説明書にすら載ってないので、ここで例を元に解説。
;
; ??IntPersistIndex = 23?（Var(23)?Var(59)までを全て次のラウンドへ持ち越せる）
; ?②FloatPersistIndex = 18（FVar(18)?FVar(39)までを全て次のラウンドへ持ち越せる）
;
; ?つまり「Var(**)（Fvar(**)）以?全ての変数を持ち越す」という命令になる。
; ?それ以前のアドレスの変数は全て持ち越さなくなる。
;
; ?全ての変数を持ち越さない場合は、
; ?IntPersistIndexは60以上、FloatPersistIndexは40以上にしておこう。
;
; ??これは?メ?
; ???IntPersistIndex = 10,15,20,25?（15,20,25の部分は意味無し）
; ??②FloatPersistIndex = 4,16 ???（16の部分は意味無し）
; ??これらは最初の数字以外全て無効。
; 
;---------------------------------------------------------------------------
; 改訂前の和訳ＫＦＭではPersistIndexの解釈が無茶苦茶間違ってました。
; 大変失礼致しました。(人・ω・｀)ごめんなさい
; 今回はちゃんと調べて正確な情報を載せてるんで安心してください（苦笑
;---------------------------------------------------------------------------
; サイズ
;---------------------------------------------------------------------------
[Size]
xscale           = 1       ;キャラの横の大きさ（絶対値・float）
yscale           = 1       ;キャラの縦の大きさ（絶対値・float）
ground.back      = 15      ;地上にいる時の「後方の物理的な幅」
ground.front     = 16      ;地上にいる時の「前方の物理的な幅」
air.back         = 12      ;空中にいる時の「後方の物理的な幅」
air.front        = 12      ;空中にいる時の「前方の物理的な幅」
height           = 60      ;キャラの物理的な高さ（高いほど相手は飛び越しにくくなる）
attack.dist      = 320     ;相手がガ?ド態勢に入る最低の距離
proj.attack.dist = 320      ;自分の「Projectile」に対して相手がガ?ド態勢に入る最低の距離
proj.doscale     = 0       ;xscaleとyscaleを「Projectile」にも影響させるか否か（0=させない・1=させる）
head.pos         = -5,-60  ;キャラの標?の頭の座標（Bind系で適用される）
mid.pos          = -5,-31  ;キャラの標?の体中心の座標（Bind系で適用される）
shadowoffset     = 0       ;影のＹ軸方向の位置座標
draw.offset      = 0,0     ;キャラの?示座標（Ｘ軸,Ｙ軸）

;---------------------------------------------------------------------------
; 移動速度
;---------------------------------------------------------------------------
[Velocity]
walk.fwd     = 2.9         ;前進速度（Ｘ軸・[Statedef 20]に適用される）
walk.back    = -2.7        ;後退速度（Ｘ軸・[Statedef 20]に適用される）
run.fwd      = 7,0       ;前方に走る速度（Ｘ軸,Ｙ軸・[Statedef 100]に適用される）
run.back     = -6,-3.5  ;後方に走る速度（Ｘ軸,Ｙ軸・[Statedef 105]に適用される）
jump.neu     = 0,-10      ;垂直ジャンプの速度（Ｘ軸,Ｙ軸・[Statedef 40]に適用される）
jump.back    = -2.5       ;後方ジャンプの速度（Ｘ軸・[Statedef 40]に適用される）
jump.fwd     = 2.5         ;前方ジャンプの速度（Ｘ軸・[Statedef 40]に適用される）
runjump.back = -2.55,-8.1  ;後方に走ってからのジャンプ速度（Ｘ軸,Ｙ軸・[Statedef 40]に適用される）
runjump.fwd  = 4,-8.1      ;前方に走ってからのジャンプ速度（Ｘ軸,Ｙ軸・[Statedef 40]に適用される）
airjump.neu  = 0,-8.1      ;空中垂直ジャンプ速度（Ｘ軸,Ｙ軸・[Statedef 45]に適用される）
airjump.back = -2.55       ;空中後方ジャンプ速度（Ｘ軸・[Statedef 45]に適用される）
airjump.fwd  = 2.5         ;空中前方ジャンプ速度（Ｘ軸・[Statedef 45]に適用される）

;---------------------------------------------------------------------------
; ?動関係
;---------------------------------------------------------------------------
[Movement]
airjump.num     = 0        ;空中ジャンプが出来る回数
airjump.height  = 35       ;空中ジャンプが出来る最低の高度（Ｙ軸）
yaccel          = .44      ;Ｙ軸加速度（重力）
stand.friction  = .85      ;立っている時の?擦係数（ステ?トのPhysicsが「S」の時）
crouch.friction = .82      ;しゃがんでいる時の?擦係数（ステ?トのPhysicsが「C」の時）

;===========================================================================
; ステ?ト
;===========================================================================
;---------------------------------------------------------------------------
; ここからはキャラのそれぞれの行動（ステ?ト）を設定する。
; 番号（ステ?トナンバ?）に気を付ければ良いだけで、
; 行動の決め方もステ?トの数も作りたいキャラによって自由。
;
; ?来ステ?トは別のフ?イルとして扱っているものだけど、
; このようにコンス?ンツフ?イルと一緒にまとめる事も可?。
;
; ステ?トの基?的な設定はおまけフォル?の「テンプレ?ト.txt」を参照。
;===========================================================================
; 基?行動
;===========================================================================
;---------------------------------------------------------------------------
[Statedef 5900]
type = S

[State -2]
Type = varset
Trigger1 = var(59)>0
var(57)=ifelse((!enemynear,alive&&numenemy=2),1,0)

[State 5900, 3] ;Intro for round 1
type = ChangeState
trigger1 = roundno = 1
value = 190

[Statedef 21]
type = S
physics = S
sprpriority = 1
anim = 20
ctrl = 0

[State 20,]
type = Turn
trigger1 = P2dist X < 0

[State 20,]
type = VelSet
trigger1 = 1
x = const(velocity.walk.fwd.x)

[State 20,]
type = changestate
trigger1 = roundstate != 2
trigger2 = p2bodydist X <= 15
trigger3 = inguarddist
trigger3 = random <= var(59)*100
value = 0
ctrl = 1

[Statedef 22]
type = S
physics = S
sprpriority = 1
anim = 21
ctrl = 0

[State 22, 1]
type = Turn
trigger1 = P2dist X < 0

[State 22, 2]
type = VelSet
trigger1 = 1
x = const(velocity.walk.back.x)

[State 22, 5]
type = changestate
trigger1 = roundstate != 2
trigger2 = p2bodydist x >= 240
trigger3 = inguarddist
trigger3 = random <= var(59)*100
value = 0
ctrl = 1

[StateDef 20]
Type = S
Physics = S
SprPriority = 0

[State changestate]
Type = ChangeState
TriggerAll = Var(59) != 0
Trigger1 = time = 0
Value = 0
Ctrl = 1
IgnoreHitPause = 1

[State 20, VelSet]
Type = VelSet
Trigger1 = 1
X = IfElse((Command="holdback"), Const(Velocity.Walk.Back.X), Const(Velocity.Walk.Fwd.X))

[State 20, ChangeAnim]
Type = ChangeAnim
TriggerAll = Vel X > 0
Trigger1 = Anim != 20
Value = 20

[State 20, ChangeAnim]
Type = ChangeAnim
TriggerAll = Vel X < 0
Trigger1 = Anim != 21
Value = 21

[State 20, ChangeAnim]
Type = ChangeAnim
Trigger1 = Vel X = 0
Trigger1 = Anim != 0
Value = 0



[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State changestate]
Type = ChangeState
TriggerAll = Var(59) != 0
Trigger1 = time = 0
Value = 0
Ctrl = 1
IgnoreHitPause = 1

[State 40, 2]
type = VarSet
Trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
Trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(4) = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)


[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[Statedef 41]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, 2]
type = VarSet
Trigger1 = var(59)>0
Trigger1 = enemyNear(var(57)),StateType != L || P2BodyDist X >= 30
Trigger1 = enemyNear(var(57)),MoveType = H || Random <= 333 || enemyNear(var(57)),StateType = L
sysvar(1) = 1

[State 40, 3]
type = VarSet
Trigger1 = var(59)>0
Trigger1 = enemyNear(var(57)),StateType != L
Trigger1 = enemyNear(var(57)),MoveType != H
Trigger1 = BackEdgeBodyDist>60
Trigger1 = Random <= 500
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)


[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

; GUARD (start)
[Statedef 120]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged

[State 120, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 120 + (statetype = C) + (statetype = A)*2

[State 120, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 120, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 120, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, Hi to Lo]
type = StateTypeSet
triggerall = statetype = S
trigger1 = !var(59)
trigger1 = command = "holddown"
trigger2 = var(59)
trigger2 = enemyNear(var(57)),statetype != A
trigger2 = Random <= var(59)*180
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
triggerall = statetype = C
trigger1 = !var(59)
trigger1 = command != "holddown"
trigger2 = var(59)
trigger2 = enemyNear(var(57)),statetype = A
trigger2 = Random <= var(59)*180
statetype = S
physics = S

[State 120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 130 + (statetype = C) + (statetype = A)*2

[State 120, Stop Guarding]
type = ChangeState
;triggerall = !var(25)
trigger1 = !var(59)
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
;STAND GUARD (guarding)
[Statedef 130]
type    = S
physics = S

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 130
value = 130

[State 130, Hi to Lo]
type = ChangeState
;triggerall = var(25)
trigger1 = !var(59)
trigger1 = command = "holdback"
trigger1 = command = "holddown"
trigger2 = var(59)
trigger2 = enemyNear(var(57)),statetype != A
trigger2 = Random <= var(59)*180
value = 131

[State 130, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
;CROUCH GUARD (guarding)
[Statedef 131]
type    = C
physics = C

[State 131, 1]
type = ChangeAnim
trigger1 = Anim != 131
value = 131

[State 131, Lo to Hi]
type = ChangeState
;triggerall = var(25)
trigger1 = !var(59)
trigger1 = command  = "holdback"
trigger1 = command != "holddown"
trigger2 = var(59)
trigger2 = enemyNear(var(57)),statetype = A
trigger2 = Random <= var(59)*180
value = 130

[State 131, Stop Guarding]
type = ChangeState
;triggerall = !var(25)
trigger1 = !var(59)
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140
;---------------------------------------------------------------------------
;AIR GUARD (guarding)
[Statedef 132]
type    = A
physics = N

[State 132, 1]
type = ChangeAnim
trigger1 = Anim != 132
value = 132

[State 132, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 132, 3]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 132, 4]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 132, 5]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 132, 6]
type = ChangeState
triggerall = sysvar(0)
trigger1 = !var(59)
trigger1 = command = "holdback"
trigger1 = inguarddist
trigger2 = var(59)
trigger2 = inguarddist
value = 130

[State 132, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

[State 132, Stop Guarding]
type = ChangeState
;triggerall = !var(25)
trigger1 = var(59) <= 0
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140


;---------------------------------------------------------------------------
;GUARD (end)
[Statedef 140]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged
ctrl = 1

[State 140, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 140 + (statetype = C) + (statetype = A)*2

[State 140, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 140, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 140, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 140, Hi to Lo]
type = StateTypeSet
triggerall = statetype = S
trigger1 = !var(59)
trigger1 = command = "holddown"
trigger2 = var(59)
trigger2 = enemyNear(var(57)),statetype != A
trigger2 = Random <= var(59)*180
statetype = C
physics = C

[State 140, Lo to Hi]
type = StateTypeSet
triggerall = statetype = C
trigger1 = !var(59)
trigger1 = command != "holddown"
trigger2 = var(59)
trigger2 = enemyNear(var(57)),statetype = A
trigger2 = Random <= var(59)*180
statetype = S
physics = S

;[State 140, 5] ;Implemented within engine
;type = ChangeState
;trigger1 = AnimTime = 0
;value = (statetype = C)*11 + (statetype = A)*51

;---------------------------------------------------------------------------
;SGUARDHIT (shaking)
[Statedef 150]
type    = S
movetype= H
physics = N
velset = 0,0

[State 150, 1]
type = ChangeAnim
trigger1 = 1
value = 150

[State 150, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*ifelse(var(59)=0,(command = "holddown"),(enemyNear(var(57)),statetype=A))

[State 150, Hi to Lo]
type = StateTypeSet
triggerall = statetype = S
trigger1 = !var(59)
trigger1 = command = "holddown"
trigger2 = var(59)
trigger2 = enemyNear(var(57)),statetype != A
trigger2 = Random <= var(59)*180
statetype = C
physics = C

[State 150, Lo to Hi]
type = StateTypeSet
triggerall = statetype = C
trigger1 = !var(59)
trigger1 = command != "holddown"
trigger2 = var(59)
trigger2 = enemyNear(var(57)),statetype = A
trigger2 = Random <= var(59)*180
statetype = S
physics = S

[State 150, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 3

;---------------------------------------------------------------------------
;SGUARDHIT2 (knocked back)
[Statedef 151]
type    = S
movetype= H
physics = S
anim = 150

[State 151, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 151, Hi to Lo]
type = StateTypeSet
triggerall = statetype = S
trigger1 = !var(59)
trigger1 = command = "holddown"
trigger2 = var(59)
trigger2 = enemyNear(var(57)),statetype != A
trigger2 = Random <= var(59)*180
statetype = C
physics = C

[State 151, Lo to Hi]
type = StateTypeSet
triggerall = statetype = C
trigger1 = !var(59)
trigger1 = command != "holddown"
trigger2 = var(59)
trigger2 = enemyNear(var(57)),statetype = A
trigger2 = Random <= var(59)*180
statetype = S
physics = S

[State 151, 4]
type = ChangeState
trigger1 = HitOver
value = 130
ctrl = 1

;---------------------------------------------------------------------------
;CGUARDHIT (shaking)
[Statedef 152]
type    = C
movetype= H
physics = N
velset = 0,0

[State 152, 1]
type = ChangeAnim
trigger1 = 1
value = 151

[State 152, 3]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*ifelse(var(59)=0,(command = "holddown"),(enemyNear(var(57)),statetype=A))

[State 152, Hi to Lo]
type = StateTypeSet
triggerall = statetype = S
trigger1 = !var(59)
trigger1 = command = "holddown"
trigger2 = var(59)
trigger2 = enemyNear(var(57)),statetype != A
trigger2 = Random <= var(59)*180
statetype = C
physics = C

[State 152, Lo to Hi]
type = StateTypeSet
triggerall = statetype = C
trigger1 = !var(59)
trigger1 = command != "holddown"
trigger2 = var(59)
trigger2 = enemyNear(var(57)),statetype = A
trigger2 = Random <= var(59)*180
statetype = S
physics = S

[State 152, 4]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
;CGUARDHIT2 (knocked back)
[Statedef 153]
type    = C
movetype= H
physics = C
anim = 151

[State 153, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 153, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 153, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 153, Hi to Lo]
type = StateTypeSet
triggerall = statetype = S
trigger1 = !var(59)
trigger1 = command = "holddown"
trigger2 = var(59)
trigger2 = enemyNear(var(57)),statetype != A
trigger2 = Random <= var(59)*180
statetype = C
physics = C

[State 153, Lo to Hi]
type = StateTypeSet
triggerall = statetype = C
trigger1 = !var(59)
trigger1 = command != "holddown"
trigger2 = var(59)
trigger2 = enemyNear(var(57)),statetype = A
trigger2 = Random <= var(59)*180
statetype = S
physics = S

[State 153, 4]
type = ChangeState
trigger1 = HitOver
value = 131
ctrl = 1

;---------------------------------------------------------------------------
;AGUARDHIT (shaking)
[Statedef 154]
type    = A
movetype= H
physics = N
velset = 0,0

[State 154, 1]
type = ChangeAnim
trigger1 = 1
value = 152

[State 154, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 155 ;AGUARDHIT2

[State 154, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
;AGUARDHIT2 (knocked away)
[Statedef 155]
type    = A
movetype= H
physics = N
anim = 152

[State 155, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 155, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 155, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 155, 4]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 155, 5]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = ChangeState
triggerall = sysvar(0)
trigger1 = !var(59)
trigger1 = command = "holdback"
trigger1 = inguarddist
;trigger2 = var(25)
;trigger2 = var(28) = 0
trigger2 = var(59)
trigger2 = inguarddist
value = 130


[State 155, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = var(59) <= 0
trigger1 = Command = "recovery" || command = "z" || command = "a"|| command = "b"|| command = "c"|| command = "x"|| command = "y"
trigger2 = var(59)>0&&Random<var(59)*101
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = var(59) <= 0
trigger1 = Command = "recovery" || command = "z" || command = "a"|| command = "b"|| command = "c"|| command = "x"|| command = "y"
trigger2 = var(59)>0&&Random<var(59)*101
value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE

[Statedef 100]
type = S
physics = S
anim = 100
ctrl = 0
sprpriority = 1

[State 100, 1]
Type = CtrlSet
Trigger1 = palno = 12
Value = 1

[State 100, 2]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 3]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn
flag2 = NoWalk

[State 100, 効果音]
type = PlaySnd
Trigger1 = animelem = 3
Trigger2 = animelem = 7
value = S40, 0

[State 100, 6]
type = ChangeState
triggerall = Var(59) = 0
trigger1 = command != "holdfwd"
trigger1 = time >= 5
trigger2 = time >= 30
value = 101

[State 100,ﾀﾞ??ﾃｯﾌﾟ DashStop]
type = ChangeState
TriggerAll=var(59)>0
TriggerAll = time = [5,30]
Trigger1 = inguarddist
Trigger2 = enemyNear(var(57)),MoveType!=H
Trigger2 = P2BodyDist X<=85
;Trigger2 = P2BodyDist Y>=-120
Trigger3 = P2BodyDist X<=30
Trigger4 = enemyNear(var(57)),StateType = L
Trigger5 = time >= 25
value = 101
ctrl = 0

[Statedef 101];仮ブレ?キ
type = S
physics = S
anim = 101
sprpriority = 1
ctrl = 0

[State 100, 1]
Type = CtrlSet
Trigger1 = palno = 12
Value = 1

[State 101, 追加]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;?イ?オ?バ?（負けた時）
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 無敵]
type = NotHitBy
trigger1 = 1 ;トリガ?を何も書かず「1」にする事により、『無条件で常に実行させる命令』になる。
value = SCA
time = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;勝利??ズ分岐（common1.cnsには無いけど、これもコモンステ?ト）
[Statedef 180]
type = S

[State 180, ステ?ト変更]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
;勝利??ズ（礼をする）
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;イントロ（試合開始前の登場演出アクション）
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 191]
type = PlaySnd
trigger1 = animelem = 4
value = S1010,2
freqmul = 0.75

[State 191, アニメ変更];バトル画面に切り替わった瞬間のフェ?ドインの時、アニメを固定している
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, 特殊効果];試合が開始するまではこのコントロ?ラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 191, ステ?ト変更];アニメ?ションが終われば「通常立ち」のステ?トに変更する
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; ※２：AssertSpecial
;
; ?他のコントロ?ラでは設定出来ない『特殊な効果』を指定する命令。
; ?設定したトリガ?が有効になってる間だけ一時的に適用される。
;
; ?適用出来るパラメ??はこのコントロ?ラを一つ設置する場合、最大３つまで。
; ?書式としては「flag」「flag2」「flag3」を順に加えていく?。
; ?flag2とflag3はオプション。ではその特殊効果を全て紹介。
;
; ?Intro          = イントロ（試合開始前の登場演出アクション）の状態になる。イントロステ?ト専用。
; ?Invisible      = 自分の姿を消す。しかし残像（AfterImage）は消せない。
; ?RoundNotOver   = 現在のラウンドを過ぎない。勝利??ズ専用。
; ?NoBarDisplay   = ライフバ?を非?示にする。
; ?NoBG           = ステ?ジの奥の画像を非?示にし、「?っ黒の背景」にする。
; ?NoFG           = ステ?ジの手前の画像を非?示にする。
; ?NoStandGuard   = 立ちガ?ドが出来なくなる。
; ?NoCrouchGuard  = しゃがみガ?ドが出来なくなる。
; ?NoAirGuard     = 空中ガ?ドが出来なくなる。
; ?NoAutoTurn     = 自動で振り向かない。
; ?NoJuggleCheck  = ジャグルを?ェックしない。（ジャグル?イントが減らなくなる）
; ?NoKOSnd        = ＫＯ時の音声（11,0）を鳴らさないようにする。画面中に存在する全員に有効なので注意。
; ?NoKOSlow       = ＫＯ時のスロ?モ?ションを無効にする。（ＫＯ直前に有効にしないといけない）
; ?NoShadow       = 自分の影を消す。
; ?GlobalNoShadow = 画面中に存在する全てのプレイヤ?（ヘルパ?とProjectileも含む）の影を消す。
; ?NoMusic        = 演奏しているＢＧＭを?める。（プラグインによってはＢＧＭがバグるので要注意）
; ?NoWalk         = 歩かない。（前か後ろのキ?を入力中コントロ?ルが可?の時に勝手に[Statedef 20]にならない）
; ?TimerFreeze    = ?イ?カウント（制限時間）を停?する。
; ?UnGuardable    = 自分の全ての攻撃が『ガ?ド不可』になる。
;
;---------------------------------------------------------------------------
;挑発
[Statedef 195]
type = S
movetype = I
physics = S
ctrl = 0
anim = 195
velset = 0,0
sprpriority = 2

[State 195, コントロ?ル]
type = CtrlSet
trigger1 = Time = 40 ;このステ?トが４０フレ??になったら
value = 1            ;キ?コントロ?ルが可?になる。

[State 195, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 2000]
type = A
physics = N
anim = 2000
sprpriority = 2
velset = 0,0
ctrl = 0

[State -3,]
type = Varadd
trigger1 = var(9) >= 25
trigger1 = time = 0
v = 9
value = -25

[State 221]
type = playerpush
trigger1 = 1
value = 0

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = 10
Trans          = Add
Length         = 10
TimeGap        = 1
FrameGap       = 1
PalBright      = 120 , 120 , 120
PalContrast    = 90 , 140 , 235
PalAdd         = 0 , 0 , 0
PalMul      = .70,.70,.70

[State 103, ストップ]
type = PosFreeze
trigger1 = AnimElemTime(2) < 1

[State 103, 効果音]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 0

[State 103, 効果音]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 1

[State 2590, 上方]
type = Helper
trigger1 = AnimElemTime(2) = 1
stateno = 2020
ID = 2020
pos = 0,-20
ownpal = 0
ignorehitpause = 1
persistent = 0

[State 2590, 上方]
type = Helper
trigger1 = AnimElemTime(2) = 1
stateno = 2030
ID = 2030
pos = 0,-20
ownpal = 0
ignorehitpause = 1
persistent = 0
size.xscale = 0.075
size.Yscale = 0.75

[State 103, 移動]
type = veladd
trigger1 = AnimElemTime(2) = 1
x = 25
y = 0

[State 195, ステ?ト変更]
type = ChangeState
trigger1 = Time >= 6
value = 2010

[State a]
type = Explod
trigger1 = 1
anim = 6800
sprpriority = 16
postype = p1
pos = 20 - (random%10),-40 + (random%20)
scale = 0.3,0.3 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
;ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State a]
type = Explod
trigger1 = 1
anim = 6800
sprpriority = 16
postype = p1
pos = 20 - (random%10),-40 + (random%20)
scale = 0.2,0.2 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
;ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[Statedef 2001]
type = A
physics = N
anim = 2000
sprpriority = 2
velset = 0,0
ctrl = 0

[State -3,]
type = Varadd
trigger1 = var(9) >= 25
trigger1 = time = 0
v = 9
value = -25

[State 221]
type = playerpush
trigger1 = 1
value = 0

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = 10
Trans          = Add
Length         = 10
TimeGap        = 1
FrameGap       = 1
PalBright      = 120 , 120 , 120
PalContrast    = 90 , 140 , 235
PalAdd         = 0 , 0 , 0
PalMul      = .70,.70,.70

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = time = 1
Value = 30

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = time = 0
Value = 0

[State 103, ストップ]
type = PosFreeze
trigger1 = AnimElemTime(2) < 1

[State 103, 効果音]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 0

[State 103, 効果音]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 1

[State 2590, 上方]
type = Helper
trigger1 = AnimElemTime(2) = 1
stateno = 2021
ID = 2021
pos = 20,-30
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 2590, 上方]
type = Helper
trigger1 = AnimElemTime(2) = 1
stateno = 2031
ID = 2031
pos = 20,-30
ownpal = 0
ignorehitpause = 1
persistent = 0
size.xscale = 0.075
size.Yscale = 0.75

[State 103, 移動]
type = velset
trigger1 = AnimElemTime(2) > 1
x = 15.5
y = -9.5

[State 195, ステ?ト変更]
type = ChangeState
trigger1 = Time >= 6
value = 2010

[State a]
type = Explod
trigger1 = 1
anim = 6800
sprpriority = 16
postype = p1
pos = 20 - (random%10),-40 + (random%20)
scale = 0.3,0.3 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
;ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State a]
type = Explod
trigger1 = 1
anim = 6800
sprpriority = 16
postype = p1
pos = 20 - (random%10),-40 + (random%20)
scale = 0.2,0.2 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
;ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[Statedef 2002]
type = A
physics = N
anim = 2000
sprpriority = 2
velset = 0,0
ctrl = 0

[State -3,]
type = Varadd
trigger1 = var(9) >= 25
trigger1 = time = 0
v = 9
value = -25

[State 221]
type = playerpush
trigger1 = 1
value = 0

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = 10
Trans          = Add
Length         = 10
TimeGap        = 1
FrameGap       = 1
PalBright      = 120 , 120 , 120
PalContrast    = 90 , 140 , 235
PalAdd         = 0 , 0 , 0
PalMul      = .70,.70,.70

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = time = 1
Value = -30

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = time = 0
Value = 0

[State 103, ストップ]
type = PosFreeze
trigger1 = AnimElemTime(2) < 1

[State 103, 効果音]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 0

[State 103, 効果音]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 1

[State 2590, 上方]
type = Helper
trigger1 = AnimElemTime(2) = 1
stateno = 2022
ID = 2022
pos = 30,-30
ownpal = 0
ignorehitpause = 1
persistent = 0

[State 2590, 上方]
type = Helper
trigger1 = AnimElemTime(2) = 1
stateno = 2032
ID = 2032
pos = 30,-30
ownpal = 0
ignorehitpause = 1
persistent = 0
size.xscale = 0.075
size.Yscale = 0.75

[State 103, 移動]
type = velset
trigger1 = AnimElemTime(2) > 1
x = 15.5
y = 9.5

[State 195, ステ?ト変更]
type = ChangeState
trigger1 = Time >= 6
value = 2010

[State 605, 着地]
Type = ChangeState
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
Value = 52

[State a]
type = Explod
trigger1 = 1
anim = 6800
sprpriority = 16
postype = p1
pos = 20 - (random%10),-40 + (random%20)
scale = 0.3,0.3 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
;ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State a]
type = Explod
trigger1 = 1
anim = 6800
sprpriority = 16
postype = p1
pos = 20 - (random%10),-40 + (random%20)
scale = 0.2,0.2 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
;ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[Statedef 2003]
type = A
physics = N
anim = 2001
sprpriority = 2
velset = 0,0
ctrl = 0

[State -3,]
type = Varadd
trigger1 = var(9) >= 25
trigger1 = time = 0
v = 9
value = -25

[State 221]
type = playerpush
trigger1 = 1
value = 0

[State 2590, 上方]
type = Helper
trigger1 = AnimElemTime(2) = 1
stateno = 2023
ID = 2023
pos = 0,-20
ownpal = 0
ignorehitpause = 1
persistent = 0

[State 2590, 上方]
type = Helper
trigger1 = AnimElemTime(2) = 1
stateno = 2033
ID = 2033
pos = 0,-20
ownpal = 0
ignorehitpause = 1
persistent = 0
size.xscale = 0.075
size.Yscale = 0.75

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = 10
Trans          = Add
Length         = 10
TimeGap        = 1
FrameGap       = 1
PalBright      = 120 , 120 , 120
PalContrast    = 90 , 140 , 235
PalAdd         = 0 , 0 , 0
PalMul      = .70,.70,.70

[State 103, ストップ]
type = PosFreeze
trigger1 = AnimElemTime(2) < 1

[State 103, 効果音]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 0

[State 103, 効果音]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 1

[State 103, 移動]
type = velset
trigger1 = AnimElemTime(2) > 1
x = -25
y = 0

[State 195, ステ?ト変更]
type = ChangeState
trigger1 = Time >= 6
value = 2011

[State a]
type = Explod
trigger1 = 1
anim = 6800
sprpriority = 16
postype = p1
pos = 20 - (random%10),-40 + (random%20)
scale = 0.3,0.3 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
;ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State a]
type = Explod
trigger1 = 1
anim = 6800
sprpriority = 16
postype = p1
pos = 20 - (random%10),-40 + (random%20)
scale = 0.2,0.2 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
;ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[Statedef 2004]
type = A
physics = N
anim = 2001
sprpriority = 2
velset = 0,0
ctrl = 0

[State -3,]
type = Varadd
trigger1 = var(9) >= 25
trigger1 = time = 0
v = 9
value = -25

[State 221]
type = playerpush
trigger1 = 1
value = 0

[State 2590, 上方]
type = Helper
trigger1 = AnimElemTime(2) = 1
stateno = 2024
ID = 2024
pos = -20,-60
ownpal = 0
ignorehitpause = 1
persistent = 0

[State 2590, 上方]
type = Helper
trigger1 = AnimElemTime(2) = 1
stateno = 2034
ID = 2034
pos = -20,-60
ownpal = 0
ignorehitpause = 1
persistent = 0
size.xscale = 0.075
size.Yscale = 0.75

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = 10
Trans          = Add
Length         = 10
TimeGap        = 1
FrameGap       = 1
PalBright      = 120 , 120 , 120
PalContrast    = 90 , 140 , 235
PalAdd         = 0 , 0 , 0
PalMul      = .70,.70,.70

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = time = 1
Value = -30

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = time = 0
Value = 0

[State 103, ストップ]
type = PosFreeze
trigger1 = AnimElemTime(2) < 1

[State 103, 効果音]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 0

[State 103, 効果音]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 1

[State 103, 移動]
type = velset
trigger1 = AnimElemTime(2) > 1
x = -15.5
y = -9.5

[State 195, ステ?ト変更]
type = ChangeState
trigger1 = Time >= 6
value = 2011

[State a]
type = Explod
trigger1 = 1
anim = 6800
sprpriority = 16
postype = p1
pos = 20 - (random%10),-40 + (random%20)
scale = 0.3,0.3 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
;ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State a]
type = Explod
trigger1 = 1
anim = 6800
sprpriority = 16
postype = p1
pos = 20 - (random%10),-40 + (random%20)
scale = 0.2,0.2 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
;ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[Statedef 2005]
type = A
physics = N
anim = 2001
sprpriority = 2
velset = 0,0
ctrl = 0

[State -3,]
type = Varadd
trigger1 = var(9) >= 25
trigger1 = time = 0
v = 9
value = -25

[State 221]
type = playerpush
trigger1 = 1
value = 0

[State 2590, 上方]
type = Helper
trigger1 = AnimElemTime(2) = 1
stateno = 2025
ID = 2025
pos = -20,-30
ownpal = 0
ignorehitpause = 1
persistent = 0

[State 2590, 上方]
type = Helper
trigger1 = AnimElemTime(2) = 1
stateno = 2035
ID = 2035
pos = -20,-30
ownpal = 0
ignorehitpause = 1
persistent = 0
size.xscale = 0.075
size.Yscale = 0.75

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = 10
Trans          = Add
Length         = 10
TimeGap        = 1
FrameGap       = 1
PalBright      = 120 , 120 , 120
PalContrast    = 90 , 140 , 235
PalAdd         = 0 , 0 , 0
PalMul      = .70,.70,.70

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = time = 1
Value = 30

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = time = 0
Value = 0

[State 103, ストップ]
type = PosFreeze
trigger1 = AnimElemTime(2) < 1

[State 103, 効果音]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 0

[State 103, 効果音]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 1

[State 103, 移動]
type = velset
trigger1 = AnimElemTime(2) > 1
x = -15.5
y = 9.5

[State 195, ステ?ト変更]
type = ChangeState
trigger1 = Time >= 6
value = 2011

[State 605, 着地]
Type = ChangeState
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
Value = 52

[State a]
type = Explod
trigger1 = 1
anim = 6800
sprpriority = 16
postype = p1
pos = 20 - (random%10),-40 + (random%20)
scale = 0.3,0.3 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
;ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State a]
type = Explod
trigger1 = 1
anim = 6800
sprpriority = 16
postype = p1
pos = 20 - (random%10),-40 + (random%20)
scale = 0.2,0.2 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
;ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[Statedef 2006]
type = A
physics = N
anim = 2002
sprpriority = 2
velset = 0,0
ctrl = 0

[State -3,]
type = Varadd
trigger1 = var(9) >= 25
trigger1 = time = 0
v = 9
value = -25

[State 221]
type = playerpush
trigger1 = 1
value = 0

[State 2590, 上方]
type = Helper
trigger1 = AnimElemTime(2) = 1
stateno = 2026
ID = 2026
pos = 0,-40
ownpal = 0
ignorehitpause = 1
persistent = 0

[State 2590, 上方]
type = Helper
trigger1 = AnimElemTime(2) = 1
stateno = 2036
ID = 2036
pos = 0,-40
ownpal = 0
ignorehitpause = 1
persistent = 0
size.xscale = 0.075
size.Yscale = 0.75

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = 10
Trans          = Add
Length         = 10
TimeGap        = 1
FrameGap       = 1
PalBright      = 120 , 120 , 120
PalContrast    = 90 , 140 , 235
PalAdd         = 0 , 0 , 0
PalMul      = .70,.70,.70

[State 103, ストップ]
type = PosFreeze
trigger1 = AnimElemTime(2) < 1

[State 103, 効果音]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 0

[State 103, 効果音]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 1

[State 103, 移動]
type = velset
trigger1 = AnimElemTime(2) > 1
x = 0
y = -23

[State 195, ステ?ト変更]
type = ChangeState
trigger1 = Time >= 6
value = 2012

[State a]
type = Explod
trigger1 = 1
anim = 6800
sprpriority = 16
postype = p1
pos = 5 - (random%10),-40 + (random%20)
scale = 0.3,0.3 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
;ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State a]
type = Explod
trigger1 = 1
anim = 6800
sprpriority = 16
postype = p1
pos = 5 - (random%10),-40 + (random%20)
scale = 0.2,0.2 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
;ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[Statedef 2007]
type = A
physics = N
anim = 2002
sprpriority = 2
velset = 0,0
ctrl = 0

[State -3,]
type = Varadd
trigger1 = var(9) >= 25
trigger1 = time = 0
v = 9
value = -25

[State 221]
type = playerpush
trigger1 = 1
value = 0

[State 2590, 上方]
type = Helper
trigger1 = AnimElemTime(2) = 1
stateno = 2027
ID = 2027
pos = 0,-70
ownpal = 0
ignorehitpause = 1
persistent = 0

[State 2590, 上方]
type = Helper
trigger1 = AnimElemTime(2) = 1
stateno = 2037
ID = 2037
pos = 30,-70
ownpal = 0
ignorehitpause = 1
persistent = 0
size.xscale = 0.075
size.Yscale = 0.75

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = 10
Trans          = Add
Length         = 10
TimeGap        = 1
FrameGap       = 1
PalBright      = 120 , 120 , 120
PalContrast    = 90 , 140 , 235
PalAdd         = 0 , 0 , 0
PalMul      = .70,.70,.70

[State 103, ストップ]
type = PosFreeze
trigger1 = AnimElemTime(2) < 1

[State 103, 効果音]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 0

[State 103, 効果音]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 1

[State 103, 移動]
type = Velset
trigger1 = AnimElemTime(2) > 1
x = 0
y = 25

[State 195, ステ?ト変更]
type = ChangeState
trigger1 = Time >= 6
value = 2013

[State a]
type = Explod
trigger1 = 1
anim = 6800
sprpriority = 16
postype = p1
pos = 0 - (random%10),-50 + (random%30)
scale = 0.3,0.3 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
;ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State a]
type = Explod
trigger1 = 1
anim = 6800
sprpriority = 16
postype = p1
pos = 0 - (random%10),-50 + (random%30)
scale = 0.2,0.2 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
;ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[Statedef 2010]
type = A
physics = A
anim = 2010
sprpriority = 2
ctrl = 0

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = 1
Value = 0

[State 6670, AngleDraw]
Type = ctrlset
trigger1 = AnimElemTime(2) > 1
value = 1

[State 103, 移動]
type = Veladd
trigger1 = AnimElemTime(2) < 1
trigger1 = prevstateno = 2000
x = -3.4

[State 103, 移動]
type = Veladd
trigger1 = AnimElemTime(2) < 1
trigger1 = prevstateno = 2001
x = -2
Y = 1

[State 103, 移動]
type = Veladd
trigger1 = AnimElemTime(2) < 1
trigger1 = prevstateno = 2002
x = -2
Y = -1

[Statedef 2011]
type = A
physics = A
anim = 2011
sprpriority = 2
ctrl = 0

[State 6670, AngleDraw]
Type = ctrlset
trigger1 = AnimElem = 2
value = 1

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = 1
Value = 0

[State 103, 移動]
type = Veladd
trigger1 = AnimElemTime(2) < 1
trigger1 = prevstateno = 2003
x = 3.4

[State 103, 移動]
type = Veladd
trigger1 = AnimElemTime(2) < 1
trigger1 = prevstateno = 2004
x = 2
Y = 1

[State 103, 移動]
type = Veladd
trigger1 = AnimElemTime(2) < 1
trigger1 = prevstateno = 2005
x = 2
Y = -1

[Statedef 2012]
type = A
physics = A
anim = 2012
sprpriority = 2
ctrl = 0

[State 6670, AngleDraw]
Type = ctrlset
trigger1 = AnimElemTime(2) > 1
value = 1

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = 1
Value = 0

[State 103, 移動]
type = Veladd
trigger1 = AnimElemTime(2) < 1
Y = 2.7

[Statedef 2013]
type = A
physics = A
anim = 2013
sprpriority = 2
ctrl = 0

[State 6670, AngleDraw]
Type = ctrlset
trigger1 = AnimElemTime(2) > 1
value = 1

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = 1
Value = 0

[State 103, 移動]
type = Veladd
trigger1 = AnimElemTime(2) < 1
Y = -4


[Statedef 2020]
type = A
physics = N
anim = 6950
sprpriority = 2
velset = 0,0
ctrl = 0

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999


[State 6670, AngleDraw]
Type = trans
Trigger1 = 1
trans = add

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = 10
Trans          = Add
Length         = 10
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 140 , 140 , 155
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State 2593, 自己消滅]
type = DestroySelf
trigger1 = animTime = 0

[Statedef 2021]
type = A
physics = N
anim = 6950
sprpriority = 2
velset = 0,0
ctrl = 0

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999


[State 6670, AngleDraw]
Type = trans
Trigger1 = 1
trans = add

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = time = 1
Value = 30

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = 10
Trans          = Add
Length         = 10
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 140 , 140 , 155
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State 2593, 自己消滅]
type = DestroySelf
trigger1 = animTime = 0

[Statedef 2022]
type = A
physics = N
anim = 6950
sprpriority = 2
velset = 0,0
ctrl = 0

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999


[State 6670, AngleDraw]
Type = trans
Trigger1 = 1
trans = add

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = time = 1
Value = -30

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = 10
Trans          = Add
Length         = 10
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 140 , 140 , 155
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State 2593, 自己消滅]
type = DestroySelf
trigger1 = animTime = 0

[Statedef 2023]
type = A
physics = N
anim = 6951
sprpriority = 2
velset = 0,0
ctrl = 0

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999


[State 6670, AngleDraw]
Type = trans
Trigger1 = 1
trans = add

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = 10
Trans          = Add
Length         = 10
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 140 , 140 , 155
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State 2593, 自己消滅]
type = DestroySelf
trigger1 = animTime = 0

[Statedef 2024]
type = A
physics = N
anim = 6951
sprpriority = 2
velset = 0,0
ctrl = 0

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999


[State 6670, AngleDraw]
Type = trans
Trigger1 = 1
trans = add

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = time = 1
Value = -30

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = 10
Trans          = Add
Length         = 10
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 140 , 140 , 155
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State 2593, 自己消滅]
type = DestroySelf
trigger1 = animTime = 0

[Statedef 2025]
type = A
physics = N
anim = 6951
sprpriority = 2
velset = 0,0
ctrl = 0

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999


[State 6670, AngleDraw]
Type = trans
Trigger1 = 1
trans = add

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = time = 1
Value = 30

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = 10
Trans          = Add
Length         = 10
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 140 , 140 , 155
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State 2593, 自己消滅]
type = DestroySelf
trigger1 = animTime = 0

[Statedef 2026]
type = A
physics = N
anim = 6950
sprpriority = 2
velset = 0,0
ctrl = 0

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999


[State 6670, AngleDraw]
Type = trans
Trigger1 = 1
trans = add

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = time = 1
Value = 90

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = 10
Trans          = Add
Length         = 10
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 140 , 140 , 155
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State 2593, 自己消滅]
type = DestroySelf
trigger1 = animTime = 0

[Statedef 2027]
type = A
physics = N
anim = 6950
sprpriority = 2
velset = 0,0
ctrl = 0

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999


[State 6670, AngleDraw]
Type = trans
Trigger1 = 1
trans = add

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = time = 1
Value = -90

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = 10
Trans          = Add
Length         = 10
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 140 , 140 , 155
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State 2593, 自己消滅]
type = DestroySelf
trigger1 = animTime = 0

[Statedef 2030]
SprPriority = 3
velset = -2.5,0

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = add
Length         = 8
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 160 , 200 , 250
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State -2,Explod]
type = changeanim
trigger1 = time = 0
value = 7605

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 30000, Trans]
Type = Trans
Trigger1 = 1
Trans = add

[State 30000, VarSet] 
Type = VarSet
Trigger1 = Time = 0
V = 12
Value = 250

[State 30000, VarAdd] 
Type = VarAdd
Trigger1 = time > 5
V = 12
Value = -20

[State 30000, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(12), Var(12), Var(12)

[State 7224]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -2, AfterImage]
Type = destroyself
Trigger1 = time >= 25

[Statedef 2031]
SprPriority = 3
velset = -1.55,0.95

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = add
Length         = 8
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 160 , 200 , 250
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State -2,Explod]
type = changeanim
trigger1 = time = 0
value = 7605

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = time = 1
Value = 30

[State 30000, Trans]
Type = Trans
Trigger1 = 1
Trans = add

[State 30000, VarSet] 
Type = VarSet
Trigger1 = Time = 0
V = 12
Value = 250

[State 30000, VarAdd] 
Type = VarAdd
Trigger1 = time > 5
V = 12
Value = -20

[State 30000, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(12), Var(12), Var(12)

[State 7224]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -2, AfterImage]
Type = destroyself
Trigger1 = time >= 25

[Statedef 2032]
SprPriority = 3
velset = -1.55,-0.95

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = add
Length         = 8
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 160 , 200 , 250
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State -2,Explod]
type = changeanim
trigger1 = time = 0
value = 7605

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = time = 1
Value = -30

[State 30000, Trans]
Type = Trans
Trigger1 = 1
Trans = add

[State 30000, VarSet] 
Type = VarSet
Trigger1 = Time = 0
V = 12
Value = 250

[State 30000, VarAdd] 
Type = VarAdd
Trigger1 = time > 5
V = 12
Value = -20

[State 30000, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(12), Var(12), Var(12)

[State 7224]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -2, AfterImage]
Type = destroyself
Trigger1 = time >= 25

[Statedef 2033]
SprPriority = 3
velset = 2.5,0

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = add
Length         = 8
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 160 , 200 , 250
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State -2,Explod]
type = changeanim
trigger1 = time = 0
value = 7605

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 30000, Trans]
Type = Trans
Trigger1 = 1
Trans = add

[State 30000, VarSet] 
Type = VarSet
Trigger1 = Time = 0
V = 12
Value = 250

[State 30000, VarAdd] 
Type = VarAdd
Trigger1 = time > 5
V = 12
Value = -20

[State 30000, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(12), Var(12), Var(12)

[State 7224]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -2, AfterImage]
Type = destroyself
Trigger1 = time >= 25


[Statedef 2034]
SprPriority = 3
velset = 1.55,0.95

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = add
Length         = 8
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 160 , 200 , 250
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State -2,Explod]
type = changeanim
trigger1 = time = 0
value = 7605

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = time = 1
Value = -30

[State 30000, Trans]
Type = Trans
Trigger1 = 1
Trans = add

[State 30000, VarSet] 
Type = VarSet
Trigger1 = Time = 0
V = 12
Value = 250

[State 30000, VarAdd] 
Type = VarAdd
Trigger1 = time > 5
V = 12
Value = -20

[State 30000, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(12), Var(12), Var(12)

[State 7224]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -2, AfterImage]
Type = destroyself
Trigger1 = time >= 25

[Statedef 2035]
SprPriority = 3
velset = 1.55,-0.95

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = add
Length         = 8
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 160 , 200 , 250
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State -2,Explod]
type = changeanim
trigger1 = time = 0
value = 7605

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = time = 1
Value = 30

[State 30000, Trans]
Type = Trans
Trigger1 = 1
Trans = add

[State 30000, VarSet] 
Type = VarSet
Trigger1 = Time = 0
V = 12
Value = 250

[State 30000, VarAdd] 
Type = VarAdd
Trigger1 = time > 5
V = 12
Value = -20

[State 30000, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(12), Var(12), Var(12)

[State 7224]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -2, AfterImage]
Type = destroyself
Trigger1 = time >= 25



[Statedef 2036]
SprPriority = 3
velset = 0,2.5

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = add
Length         = 8
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 160 , 200 , 250
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State -2,Explod]
type = changeanim
trigger1 = time = 0
value = 7605

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = time = 1
Value = 90

[State 30000, Trans]
Type = Trans
Trigger1 = 1
Trans = add

[State 30000, VarSet] 
Type = VarSet
Trigger1 = Time = 0
V = 12
Value = 250

[State 30000, VarAdd] 
Type = VarAdd
Trigger1 = time > 5
V = 12
Value = -20

[State 30000, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(12), Var(12), Var(12)

[State 7224]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -2, AfterImage]
Type = destroyself
Trigger1 = time >= 25

[Statedef 2037]
SprPriority = 3
velset = 0,-2.5

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = add
Length         = 8
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 160 , 200 , 250
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State -2,Explod]
type = changeanim
trigger1 = time = 0
value = 7605

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = time = 1
Value = -90

[State 30000, Trans]
Type = Trans
Trigger1 = 1
Trans = add

[State 30000, VarSet] 
Type = VarSet
Trigger1 = Time = 0
V = 12
Value = 250

[State 30000, VarAdd] 
Type = VarAdd
Trigger1 = time > 5
V = 12
Value = -20

[State 30000, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(12), Var(12), Var(12)

[State 7224]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -2, AfterImage]
Type = destroyself
Trigger1 = time >= 25


;===========================================================================
; 通常攻撃技
;===========================================================================
;---------------------------------------------------------------------------
; 通常技はそんなに難しいテクニックは使ってないから、
; テンプレ?トを見ながら確認すれば覚えやすいと思う。
; 基?忘るべからず。
;
; ステ?トナンバ?は、立ち技が２００?２９９、しゃがみ技が４００?４９９、
; ジャンプ技が６００?６９９の間で決めて作るのが一般的。
; しかし強制じゃないので自由に作っちゃってＯＫ。
;---------------------------------------------------------------------------
;立ち弱パン?
[Statedef 200]
type    = S
movetype= A
physics = S
poweradd= 3
ctrl = 0
anim = 200
sprpriority = 2

[State 200, 減速]
type = null;velset
trigger1 = Time = 0 && prevstateno != 100
x = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 2
value = 0, 0

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 15, 0
animtype = Light
guardflag = M
hitflag = MAF
getpower = 10,5
givepower = 5,0
priority = 8, Hit
pausetime = 7, 7
sparkno = S8100
guard.sparkno = S8300
sparkxy = -15, -30
hitsound = S5, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 7
ground.hittime  = 14
ground.velocity = -2
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -0.8,-1.7
fall.recovertime = 18
air.hittime = 0
air.fall = 1
yaccel = .44

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 200, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State 440,ジャンプキャンセル]
type = ChangeState
value = 40
triggerall = command = "holdup"
TriggerAll=var(59) = 0
trigger1 = movecontact

[Statedef 210]
type    = S
movetype= A
physics = S
poweradd= 5
ctrl = 0
anim = 210
sprpriority = 2

[State 210, 減速]
type = null;velset
trigger1 = Time = 0 && prevstateno != 100
x = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 1

[State 210, ヒット定?]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 23, 0
animtype = medium
guardflag = M
hitflag = MAF
priority = 6, Hit
pausetime = 7, 7
getpower = 15,3
givepower = 5,0
sparkno = S8100
guard.sparkno = S8300
sparkxy = -15, -30
hitsound = S5, 2
guardsound = S120, 0
ground.type = High
ground.slidetime = 9
ground.hittime  = 16
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-4
fall.recovertime = 20
air.hittime = 17
air.fall = 1
yaccel = .44

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 210, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State 440,ジャンプキャンセル]
type = ChangeState
value = 40
triggerall = command = "holdup"
TriggerAll=var(59) = 0
trigger1 = movecontact

[Statedef 215]
type    = S
movetype= A
physics = S
poweradd= 10
ctrl = 0
anim = 215
sprpriority = 2

[State 215, 減速]
type = null;velset
trigger1 = Time = 0 && prevstateno != 100
x = 0

[State 215, 減速]
type = velset
trigger1 = Time < 15 && prevstateno != 100
x = 1

[State 215, 前進]
type = posadd
trigger1 = animelem = 8
x = 28

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 2

[State 215, ヒット定?]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 45, 0
animtype = medium
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 10, 8
getpower = 10,2
givepower = 5,0
sparkno = S8100
guard.sparkno = S8300
sparkxy = -15, -60
hitsound = S5, 2
guardsound = S120, 0
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -8
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -6,-4
fall.recovertime = 20
air.hittime = 17
air.fall = 1
yaccel = .44

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 215, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State 440,ジャンプキャンセル]
type = ChangeState
value = 40
triggerall = command = "holdup"
TriggerAll=var(59) = 0
trigger1 = movecontact

[Statedef 220]
type    = S
movetype= A
physics = S
poweradd= 8
ctrl = 0
anim = 220
sprpriority = 2

[State 100, 4]
type           = Explod
trigger1 = animelem = 1
anim           = 6901
sprpriority    = 4
postype        = p1
pos            = 66,-24
scale          = 1,1 
bindtime       = 1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 3

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 1
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = medium
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 7
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -4,-3
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 10
trigger1 = time = 1
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = medium
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 7
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -4,-3
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
p2stateno = 702

[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = EnemyNear,stateno = 702
trigger1 = var(20) = 10
trigger1 = movehit
value = -30
absolute = 1
persistent = 0

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
trigger1 = EnemyNear,stateno = 702
trigger1 = var(20) = 10
trigger1 = movehit
Stateno  = 705
ID       = 705
pos = 0,0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 215, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 651, ステ?ト変更]
Type = ChangeState
triggerall = PalNo != 12
trigger1 = var(22) <= 0
Value = 711

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[Statedef 225]
type    = S
movetype= A
physics = S
poweradd= 8
ctrl = 0
anim = 225
sprpriority = 2

[State 100, 4]
type           = Explod
trigger1 = animelem = 3
anim           = 6903
sprpriority    = 4
postype        = p1
pos            = 72,-33
scale          = 1,1 
bindtime       = 1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 3

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 1
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 7
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -4,-3
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 10
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 7
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -4,-3
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
p2stateno = 702

[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = EnemyNear,stateno = 702
trigger1 = var(20) = 10
trigger1 = movehit
value = -30
absolute = 1
persistent = 0

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
trigger1 = EnemyNear,stateno = 702
trigger1 = var(20) = 10
trigger1 = movehit
Stateno  = 705
ID       = 705
pos = 0,0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 215, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 651, ステ?ト変更]
Type = ChangeState
triggerall = PalNo != 12
trigger1 = var(22) <= 0
Value = 711

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

;---------------------------------------------------------------------------
;立ち弱キック
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 8
ctrl = 0
;velset = 0,0
anim = 230
sprpriority = 2

[State 100, 4]
type           = Explod
trigger1 = animelem = 2
anim           = 6902
sprpriority    = 4
postype        = p1
pos            = 37,-63
scale          = 1,1 
bindtime       = 1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add

[State 230, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 3

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 1
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = medium
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 7
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -4,-3
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 10
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = medium
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 7
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -4,-3
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
p2stateno = 700

[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = EnemyNear,stateno = 700
trigger1 = var(20) = 10
trigger1 = movehit
value = -30
absolute = 1
persistent = 0


[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
trigger1 = EnemyNear,stateno = 700
trigger1 = var(20) = 10
trigger1 = movehit
Stateno  = 705
ID       = 705
pos = 0,0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 230, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 651, ステ?ト変更]
Type = ChangeState
triggerall = PalNo != 12
trigger1 = var(22) <= 0
Value = 711

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[Statedef 235]
type    = S
movetype= A
physics = S
poweradd= 8
ctrl = 0
anim = 235
sprpriority = 2

[State 100, 4]
type           = Explod
trigger1 = animelem = 3 
anim           = 6600
sprpriority    = 4
postype        = p1
pos            = 50,0
;scale          = 0.5,0.5 
bindtime       = 1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 3

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 1
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 7
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -3,-2
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 1
trigger1 = animelem = 5
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 8,8
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -3,-4
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 10
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 7
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -4,-3
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
p2stateno = 701

[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = EnemyNear,stateno = 701
trigger1 = var(20) = 10
trigger1 = movehit
value = -30
absolute = 1
persistent = 0

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
trigger1 = animelemtime(4) <= 0
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
trigger1 = animelemtime(4) >= 0
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
trigger1 = EnemyNear,stateno = 701
trigger1 = var(20) = 10
trigger1 = movehit
Stateno  = 705
ID       = 705
pos = 0,0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999

[State -3,]
type = Varadd
trigger1 = movehit
trigger1 = animelemtime(4) >= 0
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
trigger1 = movehit
trigger1 = animelemtime(4) <= 0
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 215, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 651, ステ?ト変更]
Type = ChangeState
triggerall = PalNo != 12
trigger1 = var(22) <= 0
Value = 711

[State -3,]
type = Varadd
trigger1 = moveguarded
trigger1 = animelemtime(4) >= 0
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
trigger1 = moveguarded
trigger1 = animelemtime(4) <= 0
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

;===========================================================================
;---------------------------------------------------------------------------
; ２Ｄ格ゲ?でのしゃがみ通常攻撃は空中ガ?ドが不可な作品が結?多い。
; カンフ??ンも例外ではなかったみたい。
; ↓のしゃがみ弱パン?のguardflagが「L」のみになってるのに注目。
; 意味は「Low」。相手はこのしゃがみ弱パン?をガ?ドする場合、
; 「しゃがみガ?ドだけしか出来ない」という事になる。
;
; それ以外は簡単。
;---------------------------------------------------------------------------
;しゃがみ弱パン?
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 3
ctrl = 0
anim = 400
sprpriority = 2
facep2 = 1

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 15, 0
animtype = Light
guardflag = M
hitflag = MAF
getpower = 10,5
givepower = 5,0
priority = 8, Hit
pausetime = 7, 7
sparkno = S8100
guard.sparkno = S8300
sparkxy = -15, -30
hitsound = S5, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 7
ground.hittime  = 14
ground.velocity = -2
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -0.8,-1.7
fall.recovertime = 18
air.hittime = 15
air.fall = 1
yaccel = .44
fall.recover = 1

[State 400, コントロ?ル]
type = null;CtrlSet
trigger1 = Time = 5
value = 1

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 400, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11 ;しゃがむステ?トへ（コモンステ?ト）
ctrl = 1

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State 440,ジャンプキャンセル]
type = ChangeState
value = 40
triggerall = command = "holdup"
TriggerAll=var(59) = 0
trigger1 = movecontact

;---------------------------------------------------------------------------
; 効果の違う攻撃を連続でヒットさせる場合は、複数のHitDefが必要。
; ↓のしゃがみ強パン?のguardflagの効果がそれぞれ別々（MとMA）なように、
; パラメ??が数値じゃなければ特に。こればかりはどうしようもない。
;---------------------------------------------------------------------------
;しゃがみ強パン?
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 5
ctrl = 0
anim = 410
sprpriority = 2

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 1

[State 210, ヒット定?]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 23, 0
animtype = medium
guardflag = L
hitflag = MA
priority = 6, Hit
pausetime = 7, 7
getpower = 15,3
givepower = 5,0
sparkno = S8100
guard.sparkno = S8300
sparkxy = -15, -30
hitsound = S5, 2
guardsound = S120, 0
ground.type = High
ground.slidetime = 9
ground.hittime  = 16
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-4
fall.recovertime = 20
air.hittime = 17
air.fall = 1
yaccel = .44
fall.recover = 1

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 410, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State 440,ジャンプキャンセル]
type = ChangeState
value = 40
triggerall = command = "holdup"
TriggerAll=var(59) = 0
trigger1 = movecontact

;---------------------------------------------------------------------------
;しゃがみ弱キック
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 8
ctrl = 0
anim = 420
sprpriority = 2

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 3

[State 100, 4]
type           = Explod
trigger1 = animelem = 1
anim           = 6906
sprpriority    = 4
postype        = p1
pos            = 10,-30
scale          = 1,1 
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 1
trigger1 = time = 0
attr = C, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = medium
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 7
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -4,-3
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
yaccel = .24

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 10
trigger1 = time = 0
attr = C, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = medium
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 7
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -1,-10
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
p2stateno = 701

[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = EnemyNear,stateno = 701
trigger1 = var(20) = 10
trigger1 = movehit
value = -30
absolute = 1
persistent = 0

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
trigger1 = EnemyNear,stateno = 701
trigger1 = var(20) = 10
trigger1 = movehit
Stateno  = 705
ID       = 705
pos = 0,0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 430, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 651, ステ?ト変更]
Type = ChangeState
triggerall = PalNo != 12
trigger1 = var(22) <= 0
Value = 711

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0


;しゃがみ強キック（足払い攻撃）
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 8
ctrl = 0
anim = 430
sprpriority = 2

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 3

[State 320, 減速]
type = veladd
trigger1 = animelem = 4
x = 25

[State 320, 減速]
type = velset
trigger1 = animelemtime(6) = 5
x = 6

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 1
trigger1 = time = 0
attr = C, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = medium
guardflag = L
hitflag = MAF
priority = 7, Hit
pausetime = 7, 7
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -5,-3
airguard.velocity = -2.4,-1.2
air.type = Low
air.velocity = 0,-2
fall.recovertime = 22
guard.velocity = -3
air.hittime = 19
fall = 1
fall.recover = 1

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 10
trigger1 = time = 0
attr = C, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = medium
guardflag = L
hitflag = MAF
priority = 7, Hit
pausetime = 7, 7
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -5,-3
airguard.velocity = -2.4,-1.2
air.type = Low
air.velocity = 0,-2
fall.recovertime = 22
guard.velocity = -3
air.hittime = 19
fall = 1
fall.recover = 1
p2stateno = 702

[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = EnemyNear,stateno = 702
trigger1 = var(20) = 10
trigger1 = movehit
value = -30
absolute = 1
persistent = 0

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
trigger1 = EnemyNear,stateno = 702
trigger1 = var(20) = 10
trigger1 = movehit
Stateno  = 705
ID       = 705
pos = 0,0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 440, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 651, ステ?ト変更]
Type = ChangeState
triggerall = PalNo != 12
trigger1 = var(22) <= 0
Value = 711

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0


;===========================================================================
;---------------------------------------------------------------------------
; ジャンプ通常攻撃にChangeStateのコントロ?ラが無いのは、
; Physicsを「A」にしているから。
; おまけフォル?の「小ネ?.txt」を参照。（Physicsの仕組み）
;
; しゃがみ通常技とは逆に、ジャンプ通常技は基?的に「中段属性」の攻撃。
; しゃがみガ?ドが出来ないのが普通なので、guardflagを「HA」にしておくのが定石。
;「立ちガ?ドの需要性」と「空対地のガ?ドの揺さぶりによる駆け引き」を
; プレイヤ?に楽しんでもらうための先人達の知恵だね。
;---------------------------------------------------------------------------
;ジャンプ弱パン?
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 3
ctrl = 0
anim = 600
sprpriority = 2

[State 900]
Type = Velset
Trigger1 = vel x >= 5
x = 4

[State 900]
Type = Velset
Trigger1 = vel x <= -5
x = -4

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = animelemtime(3) = 2
value = 0, 1

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 15, 0
animtype = Light
guardflag = HA
hitflag = MAF
getpower = 10,5
givepower = 5,0
priority = 8, Hit
pausetime = 5, 5
sparkno = S8100
guard.sparkno = S8300
sparkxy = -15, -30
hitsound = S5, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 7
ground.hittime  = 14
ground.velocity = -2
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,-2
fall.recovertime = 18
air.hittime = 15
air.fall = 1
yaccel = .44
fall.recover = 1

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 600, コントロ?ル]
type = CtrlSet
trigger1 = Time = 10
value = 1

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State 600,ジャンプキャンセル]
type = ChangeState
value = 510
triggerall = command = "aircombofwd"
triggerall = var(7) <= 0
TriggerAll=var(59) = 0
trigger1 = movecontact

[State 600,ジャンプキャンセル]
type = ChangeState
value = 515
triggerall = command = "aircombo"
triggerall = var(7) <= 0
TriggerAll=var(59) = 0
trigger1 = movecontact

[State 600,ジャンプキャンセル]
type = ChangeState
value = 520
triggerall = command = "aircomboback"
triggerall = var(7) <= 0
TriggerAll=var(59) = 0
trigger1 = movecontact

;---------------------------------------------------------------------------
;ジャンプ強パン?
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 5
ctrl = 0
anim = 610
sprpriority = 2

[State 900]
Type = Velset
Trigger1 = vel x >= 5
x = 4

[State 900]
Type = Velset
Trigger1 = vel x <= -5
x = -4

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = animelemtime(3) = 1
value = 0, 1

[State 215, ヒット定?]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 15, 0
animtype = medium
guardflag = HA
hitflag = MAF
priority = 6, Hit
pausetime = 7, 9
getpower = 20,4
givepower = 5,0
sparkno = S8100
guard.sparkno = S8300
sparkxy = -15, -60
hitsound = S5, 2
guardsound = S120, 0
ground.type = High
ground.slidetime = 9
ground.hittime  = 16
ground.velocity = -8
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -4,-4
fall.recovertime = 20
air.hittime = 17
air.fall = 1
yaccel = .44
fall.recover = 1

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 600, コントロ?ル]
type = CtrlSet
trigger1 = animelemTime(9) >= 0
value = 1

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State 600,ジャンプキャンセル]
type = ChangeState
value = 510
triggerall = command = "aircombofwd"
triggerall = var(7) <= 0
TriggerAll=var(59) = 0
trigger1 = movecontact

[State 600,ジャンプキャンセル]
type = ChangeState
value = 515
triggerall = command = "aircombo"
triggerall = var(7) <= 0
TriggerAll=var(59) = 0
trigger1 = movecontact

[State 600,ジャンプキャンセル]
type = ChangeState
value = 520
triggerall = command = "aircomboback"
triggerall = var(7) <= 0
TriggerAll=var(59) = 0
trigger1 = movecontact

;---------------------------------------------------------------------------
;ジャンプ弱キック
[Statedef 620]
type    = A
movetype= A
physics = A
poweradd= 8
ctrl = 0
anim = 620
sprpriority = 2

[State 900]
Type = Velset
Trigger1 = vel x >= 5
x = 4

[State 900]
Type = Velset
Trigger1 = vel x <= -5
x = -4

[State 100, 4]
type           = Explod
trigger1 = animelem = 1
anim           = 6904
sprpriority    = 4
postype        = p1
pos            = 40,-45
scale          = 1,1 
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add

[State 900]
Type = VelSet
Trigger1 = Time = 0
Y = -6

[State 900]
Type = Veladd
Trigger1 = Time = 0
x = 1.5

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 3

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 1
trigger1 = time = 0
attr = A, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = medium
guardflag = HA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 6
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-9.5
fall.recovertime = 22
air.hittime = 15
air.fall = 1
fall.recover = 1

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 10
trigger1 = time = 0
attr = A, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = medium
guardflag = HA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 6
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-11
fall.recovertime = 22
air.hittime = 15
air.fall = 1
fall.recover = 1
p2stateno = 700

[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = EnemyNear,stateno = 700
trigger1 = var(20) = 10
trigger1 = movehit
value = -30
absolute = 1
persistent = 0

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
trigger1 = EnemyNear,stateno = 700
trigger1 = var(20) = 10
trigger1 = movehit
Stateno  = 705
ID       = 705
pos = 0,0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 600, コントロ?ル]
type = CtrlSet
trigger1 = animelemTime(9) >= 0
value = 1

[State 651, ステ?ト変更]
Type = ChangeState
triggerall = PalNo != 12
trigger1 = var(22) <= 0
Value = 710

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State 600,ジャンプキャンセル]
type = ChangeState
value = 510
triggerall = command = "aircombofwd"
triggerall = var(7) <= 0
TriggerAll=var(59) = 0
trigger1 = movecontact

[State 600,ジャンプキャンセル]
type = ChangeState
value = 515
triggerall = command = "aircombo"
triggerall = var(7) <= 0
TriggerAll=var(59) = 0
trigger1 = movecontact

[State 600,ジャンプキャンセル]
type = ChangeState
value = 520
triggerall = command = "aircomboback"
triggerall = var(7) <= 0
TriggerAll=var(59) = 0
trigger1 = movecontact

;---------------------------------------------------------------------------
;ジャンプ強キック
[Statedef 630]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 8
ctrl = 0
anim = 630
sprpriority = 2

[State 100, 4]
type           = Explod
trigger1 = animelem = 1
anim           = 6905
sprpriority    = 4
postype        = p1
pos            = 10,-20
scale          = 1,1 
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add

[State 900]
Type = Gravity
Trigger1 = 1

[State 900]
Type = VelSet
Trigger1 = prevstateno = [620,630]
Trigger1 = Time = 0
X = (Vel X)/16.0
Y = (Vel Y)/20.0

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 3

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 1
trigger1 = time = 0
attr = A, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = medium
guardflag = HA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 7
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -4,10
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 10
trigger1 = time = 0
attr = A, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = medium
guardflag = HA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 7
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -4,10
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
p2stateno = 701

[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = EnemyNear,stateno = 701
trigger1 = var(20) = 10
trigger1 = movehit
value = -30
absolute = 1
persistent = 0

[State -2]
Type     = Helper
trigger1 = EnemyNear,stateno = 701
trigger1 = var(20) = 10
trigger1 = movehit
Stateno  = 705
ID       = 705
pos = 0,0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 600, コントロ?ル]
type = CtrlSet
trigger1 = animelemTime(8) >= 0
value = 1

[State 651, ステ?ト変更]
Type = ChangeState
Trigger1 = Pos Y >= 0 && Vel Y > 0
Value = 52

[State 651, ステ?ト変更]
Type = ChangeState
triggerall = PalNo != 12
trigger1 = var(22) <= 0
Value = 710

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State 600,ジャンプキャンセル]
type = ChangeState
value = 510
triggerall = command = "aircombofwd"
triggerall = var(7) <= 0
TriggerAll=var(59) = 0
trigger1 = movecontact

[State 600,ジャンプキャンセル]
type = ChangeState
value = 515
triggerall = command = "aircombo"
triggerall = var(7) <= 0
TriggerAll=var(59) = 0
trigger1 = movecontact

[State 600,ジャンプキャンセル]
type = ChangeState
value = 520
triggerall = command = "aircomboback"
triggerall = var(7) <= 0
TriggerAll=var(59) = 0
trigger1 = movecontact


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;空中前ジャンプ

[Statedef 510]
type    = A
movetype= I
physics = A
velset = 2.5,-10
anim = 42
sprpriority = 1
ctrl = 0

[State 510, 4]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 510,]
type = Varadd
trigger1 = Time = 0
v = 7
value = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;空中垂直ジャンプ

[Statedef 515]
type    = A
movetype= I
physics = A
velset = 0,-10
anim = 41
sprpriority = 1
ctrl = 0

[State 515, 4]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 515,]
type = Varadd
trigger1 = Time = 0
v = 7
value = 1

;---------------------------------------------------------------------------
;空中後ろジャンプ

[Statedef 520]
type    = A
movetype= I
physics = A
velset = -2.5,-10
anim = 43
sprpriority = 1
ctrl = 0

[State 520, 4]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 520,]
type = Varadd
trigger1 = Time = 0
v = 7
value = 1






[Statedef 700]

type    = A
movetype= H
physics = N
velset = -5,-15
facep2 = 1

[State 602, nothitby]
type = nothitby
Trigger1 = 1
value = SCA,AA,AT,AP
time = 2

[State 1030, 速度加算]
type = VelAdd
trigger1 = 1
y = .42

[State 1030, アニメ変更]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1030, アニメ変更] ;キリモ?吹っ飛び
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052) ;airフ?イルに[Begin Action 5052]のアニメが存在しているかを確認します
value = 5052

[State 1030, 相手ステ?トに戻す]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

[Statedef 701]
type    = A
movetype= H
physics = N
velset = -10,12
facep2 = 1

[State 602, nothitby]
type = nothitby
Trigger1 = 1
value = SCA,AA,AT,AP
time = 2

[State 1030, アニメ変更]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1030, 相手ステ?トに戻す]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

[Statedef 702];相手吹っ飛び
type     = A                     ;キャラの状態を指定（S=立ち・C=しゃがみ・A=空中・L=横に?れている・U=前のステ?トの状態を引き継ぐ）
movetype = H                     ;キャラの行動内容を指定（I=何もしない・A=攻撃している・H=攻撃を食らっている）
physics  = N                     ;キャラの物理的な体勢（S=立ち・C=しゃがみ・A=空中・N=重力や?擦の影響を受けない・U=前のステ?トの体勢を引き継ぐ）
juggle   = 0                     ;攻撃を当てた時に溜まるジャグル?イントの設定
ctrl     = 0                     ;コントロ?ルの可否（0=キ??作不可・1=キ??作可?）
poweradd = 0                   ;パワ?ゲ?ジの増加量を設定
velset = 0,0
sprpriority = 0                  ;画像?示優先度?数値が多いと手前に、少ないと奥に優先されます
facep2 = 1

[State 221]
type = nothitby
trigger1 = 1
value = SCA,AA,AT,AP
time = 2

[State 221]
type = changeanim2
trigger1 = 1
value = 5035

[State 221]
type = velset
trigger1 = time > 10
x = -25

[State 221]
type = playerpush
trigger1 = time > 30
value = 0

[State 221, ステ?ト変更]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 5
trigger1 = time > 10
trigger2 = time > 110
value = 703

[Statedef 703]
type    = A
movetype= H
physics = N
velset = 0,0

[State 222]
type = nothitby
trigger1 = 1
value = SCA,AA,AT,AP
time = 2

[State 222]
type = changeanim
Trigger1 = SelfAnimExist(5061)
trigger1 = time = 0
value = 5061

[State 222]
type = changeanim
Trigger1 = !SelfAnimExist(5061)
trigger1 = time = 0
value = 5050

[state 6500,1]
type = EnvShake
trigger1 = Time = 0
time = 10
ampl = -18
freq = 95
phase = 95

[State 222]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 222]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 222, スクロ?ル]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 222]
type = null;Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor(screenpos y) - 50 ;（※５）
postype = back
sprpriority = 3

[State 222, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 222, 速度]
type = velset
trigger1 = Time = 10
x = 0.7
y = -6

[State 222, 速度]
type = veladd
trigger1 = Time > 10
y = .6

[State 222, 相手ステ?トに戻す]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

[Statedef 705]
type    = A
movetype= I
physics = N
anim = 9999

[state 6500,1]
type = EnvShake
trigger1 = Time = 0
time = 20
ampl = -25
freq = 95
phase = 95

[State 1001,]
type = Pause
trigger1 = time = 1
time = 30

[State 222, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = S1,6

[State 222, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = S1,7

[State 100, 4]
type           = Explod
trigger1 = Time = 0
anim           = 6700
sprpriority    = 999
postype        = left
scale          = 1,1 
pos = 0,0
ontop = 1
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time >= 30



[Statedef 710]
type    = A
movetype= H
physics = N
velset = -4,-8
facep2 = 1

[State -2]
Type     = Helper
trigger1 = time = 0
Stateno  = 705
ID       = 705
pos = 0,0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999

[State 1030, 速度加算]
type = VelAdd
trigger1 = 1
y = .42

[State 1030, アニメ変更]
type = ChangeAnim
trigger1 = Time = 0
value = 5050


[State 1030, 相手ステ?トに戻す]
type = changeState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

[Statedef 711]
type    = S
movetype= H
physics = S
facep2 = 1
velset = 0,0

[State -2]
Type     = Helper
trigger1 = time = 0
Stateno  = 705
ID       = 705
pos = 0,0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999

[State 1030, 速度加算]
type = Velset
trigger1 = animelem = 1
x = -13


[State 1030, 速度加算]
type = Velset
trigger1 = time = 5
x = -5

[State 1030, 速度加算]
type = Velset
trigger1 = time = 9
x = 0

[State 1030, アニメ変更]
type = ChangeAnim
trigger1 = Time = 0
value = 5300


[State 1030, 相手ステ?トに戻す]
type = changeState
trigger1 = time >= 40
value = 0
ctrl = 1

;===========================================================================
; 投げ技
;===========================================================================
;---------------------------------------------------------------------------
; エレクバイトが「作るのが退屈と感じる時もあるよ」って言ってるけど、
; 作り出したら意外とハ?って楽しくなる投げ技。
; 投げる相手の正確な座標取りは面?臭いけどね（コラ
; 投げ用のHitDefはテンプレ?トと見比べて確認すればわかるはず。
;---------------------------------------------------------------------------
;カンフ?スル?：掴み
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, ヒット定?（投げ用）]
type = HitDef
trigger1 = Time = 0
attr = S, NT ;立ち通常投げ（Standing, Normal Throw）
hitflag = M-  ;?イナスが付加されてるので相手が食らい中の時は掴めない
priority = 1, Miss
sparkno = -1  ;-1だからヒットスパ?クは?示しない
p1sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 810
p2stateno = 820
guard.dist = 0 ;相手のガ?ド態勢に入る距離を０にしてるので、ガ?ド不可
fall = 1

[State 800, ステ?ト変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;カンフ?スル?：成功（放り投げる）
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810
poweradd = 60

[State 810, 変数];「holdfwd」のコ?ンドが入力されているかどうかを判断する
type = VarSet
trigger1 = Time = 0
var(2) = command = "holdfwd"

[State 810, 音を鳴らす];掴み用
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 1

[State 810, 音を鳴らす];放り投げ用
type = PlaySnd
trigger1 = AnimElem = 7
value = 800, 0

[State 810, 掴んだ相手の位置１];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 28, 0  ;自分の軸位置から相手の軸をX=28・Y=0の位置にする

[State 810, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(12) < 0
edge = 60,0 ;画面?を押す幅を変える（オレンジの線）

[State 810, 掴んだ相手の位置２]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(5) < 0
pos = 58, 0

[State 810, 掴んだ相手の位置３]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = 47, 0

[State 810, 振り返る];Var(2)が有効な時
type = Turn
trigger1 = var(2)
trigger1 = AnimElem = 6

[State 810, 軸位置移動];Var(2)が有効な時
type = PosAdd
trigger1 = var(2)
trigger1 = AnimElem = 6
x = -37

[State 810, 掴んだ相手の向き];Var(2)が有効な時
type = TargetFacing
trigger1 = var(2)
trigger1 = AnimElem = 6
value = -1

[State 810, 掴んだ相手の位置４]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
pos = 41, -60

[State 810, 掴んだ相手の位置５]
type = TargetBind
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
pos = 25, -75

[State 810, 掴んだ相手の位置６]
type = TargetBind
trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(9) < 0
pos = 15, -90

[State 810, 掴んだ相手の位置７]
type = TargetBind
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
pos = -5, -96

[State 810, 掴んだ相手の位置８]
type = TargetBind
trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
pos = -14, -90

[State 810, 掴んだ相手の位置９]
type = TargetBind
trigger1 = AnimElem = 11
pos = -50, -50

;相手が食らい状態の時のみ??するTarget系コントロ?ラ
[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = AnimElem = 11
value = -78

[State 810, 掴んだ相手のステ?ト変更]
type = TargetState
trigger1 = AnimElem = 11
value = 821

[State 810, 振り返る]
type = Turn
trigger1 = AnimElem = 12

[State 810, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 15
x = -10

[State 810, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; こっちは制御を奪った相手の食らいステ?ト。
; 相手の制御を解く場合、「ChangeState」のコントロ?ラにしてしまうと
;「相手が制御を奪われた状態のままになるバグ」が発生してしまう。
; なので必ず『SelfState』で相手のステ?トに戻し、制御を解除しないといけない。
; そこさえ注意しておけば、自由に相手の食らいモ?ションを設定出来る。
;
; デバッグ?示中に相手の情報の一部の文字が黄色になったら、それが
; P2StateNoやTargetStateで制御を奪われた状態の証。
; 投げが成功したらCtrl+Dで相手側の情報を確認だ！m9っ｀Д´)
;---------------------------------------------------------------------------
;カンフ?スル?：相手側１（掴まれて放り投げられるまで）
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 相手のアニメ変更]
type = ChangeAnim2
trigger1 = Time = 0
value = 820

[State 820, 相手ステ?トに戻す]
type = SelfState
trigger1 = !GetHitVar(IsBound) ;（※３）
value = 5050

;---------------------------------------------------------------------------
; ※３：GetHitVar
;
; ?食らってしまった『相手の攻撃の効果』を
; ?自分側が「特殊な変数」に変換して判断するトリガ?。
;?「GetHitVar(**)」の『**』に該当する、?め決められているパラメ??を全て紹介。
;
; ?大概「相手のHitDefとProjectileのパラメ??」から引き出すので、かなり多い（苦笑
;
;
; ?XVelAdd             = 自分が負けて吹っ飛んだ時の「Ｘ軸方向の加速度(float)」を計測する
; ?YVelAdd             = 自分が負けて吹っ飛んだ時の「Ｙ軸方向の加速度(float)」を計測する
; ?Type                = 自分の「食らいアニメの種類」。（0=None・1=High・2=Low・3=Trip）
; ?AnimType            = 相手のHitDefに設定されている「animtype」を判断する
;                        （0=Light・1=Medium・2=Hard・3=Back・4=Up・5=DiagUp）
; ?GroundType          = 相手のHitDefに設定されている「ground.type」を判断する
; ?AirType             = 相手のHitDefに設定されている「air.type」を判断する
;
; ?Damage              = 相手から食らってしまった「?メ?ジ量」を計測する
; ?HitCount            = 相手の「現在のヒット数」を計測する
; ?FallCount           = 自分が「地面に激突した回数」を判断する
; ?HitShakeTime        = 自分の「ヒット硬直時間」を計測する
; ?HitTime             = 自分の「食らい時間」を計測する
; ?SlideTime           = 相手のHitDefに設定されている「slidetime」を判断する
; ?CtrlTime            = 相手のHitDefに設定されている「(air)guard.ctrltime」を判断する
; ?RecoverTime         = 横に?れている時の「起き上がるまでの時間」を判断する
;
; ?XOff                = 相手のHitDefに設定されている「"snap"のＸ軸」を判断する（非推奨）
; ?YOff                = 相手のHitDefに設定されている「"snap"のＹ軸」を判断する（非推奨）
; ?ZOff                = 相手のHitDefに設定されている「"snap"のＺ軸」を判断する？（存在しないので無意味）
;
; ?XVel                = 相手のHitDefに設定されている「Ｘ軸の食らい状態の移動速度」を判断する
; ?YVel                = 相手のHitDefに設定されている「Ｙ軸の食らい状態の移動速度」を判断する
; ?YAccel              = 相手のHitDefに設定されている「yaccel」を判断する
; ?chainID             = 相手のHitDefに設定されている「chainID」を判断する
; ?Guarded             =「相手のコン?での最後の攻撃をガ?ドした場合」を判断する
; ?IsBound             =「TargetBindで掴まれてる状態」を判断する
;
; ?Fall                = 相手のHitDefに設定されている「fall」を判断する
; ?Fall.Damage         = 相手のHitDefに設定されている「fall.damage」を判断する
; ?Fall.XVel           = 相手のHitDefに設定されている「fall.xvelocity」を判断する
; ?Fall.YVel           = 相手のHitDefに設定されている「fall.yvelocity」を判断する
; ?Fall.Recover        = 相手のHitDefに設定されている「fall.recover」を判断する
; ?Fall.RecoverTime    = 相手のHitDefに設定されている「fall.recovertime」を判断する
; ?Fall.Kill           = 相手のHitDefに設定されている「fall.kill」を判断する
; ?Fall.EnvShake.Time  = 相手のHitDefに設定されている「fall.envshake.time」を判断する
; ?Fall.EnvShake.Freq  = 相手のHitDefに設定されている「fall.envshake.freq」を判断する
; ?Fall.EnvShake.Ampl  = 相手のHitDefに設定されている「fall.envshake.ampl」を判断する
; ?Fall.EnvShake.Phase = 相手のHitDefに設定されている「fall.envshake.phase」を判断する
;
;---------------------------------------------------------------------------
;カンフ?スル?：相手側２（放り投げられた）
[Statedef 821]
type    = A
movetype= H
physics = N
velset = 2.8,-7
poweradd = 40

[State 821, 速度加算];重力
type = VelAdd
trigger1 = 1
y = .4 ;現在のＹ軸方向の移動速度を「0.4?イント」ずつ増やしていく

[State 821, ステ?ト変更]
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive      ;生きている時
triggerall = CanRecover ;空中受け身が可?な時
trigger1 = Command = "recovery"
value = 5200

[State 821, 相手ステ?トに戻す]
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210

[State 821, 相手ステ?トに戻す]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;===========================================================================
; 必殺技
;===========================================================================
;---------------------------------------------------------------------------
; カンフ??ンを代?する必殺技『カンフ?突き手』。
; 最初に公開されたM.U.G.E.N（1999/1/1当時のMS-DOS版）では
; この技と超必殺技の『三烈カンフ?突き手』しか持ってなかった。
;
;「P2BodyDist」は「自分から相手までの距離」を測るトリガ?。
; Bodyの記述が無い「P2Dist」の場合は、
;「自分の軸位置から相手の軸位置との距離」を測る。
;---------------------------------------------------------------------------
;カンフ?突き手（弱）
[Statedef 1000]
type    = S
movetype= A
physics = S
poweradd= 60
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, ]
type = Explod
trigger1 = AnimElem = 6
ID = 6002
anim = 6002
Pos = 20,-35
postype = P1
ownpal = 1
sprpriority = 4
removeongethit = 1
trans = add
ignorehitpause = 1
persistent = 0

[State 900]
Type = Helper
trigger1       = animelem = 6
Stateno = 1001
ID = 1001
Pos = 40,-30
PosType = P1
Keyctrl = 0
helpertype = normal
ownpal = 0
size.xscale = 0.3
size.Yscale = 0.5


[State 1000, 音を鳴らす]
type = PlaySnd
trigger1       = animelem = 6
value = 1000, 0
freqmul = 1.5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1       = animelem = 6
value = 1000, 1
freqmul = 1.8

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1001]
type    = A
movetype= A
physics = N
velset = 13,0
anim = 6000
sprpriority = 6

[State 900]
Type = Helper
trigger1       = time = 0
Stateno = 1003
ID = 1003
Pos = 40,-30
PosType = P1
Keyctrl = 0
helpertype = normal
ownpal = 0
size.xscale = 0.65
size.Yscale = 0.5

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State 220, ヒット定?]
type = HitDef
trigger1 = time = 0
damage = 70, 7
attr = S, SP
animtype = Hard
hitflag = MAF
guardflag = MA
priority = 5
pausetime = 0,20
getpower = 25,10
givepower = 10,10
sparkno = S8200
sparkxy = -15, -60+random%41
hitsound = S1,0
guardsound = S120, 0
guard.sparkno = S8300
ground.type = High
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -8.2
air.velocity = -4,-3
fall = 0
air.fall = 1
fall.recovertime = 18
p1sprpriority = 10
guard.kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State 6670, AngleDraw]
Type = trans
Trigger1 = 1
trans = add

[State a]
type = Explod
trigger1 = time%2 = 1
anim = 6800
sprpriority = 11
postype = p1
pos = -15 ,-15 + (random%25)
scale = 0.2,0.2
bindtime = 1
under = 0
ownpal = 1
persistent = 1
accel = 0.21, 0
vel = -7 + (random%3),-2 + (random%4)
ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State 2593, 自己消滅]
type = DestroySelf
trigger1 = Time = 200
trigger2 = FrontEdgeDist <= -60
trigger3 = BackEdgeDist <= -60
trigger4 = Pos Y > 90
trigger5 = ScreenPos Y <= -120

[State 2244]
type = changestate
trigger1 = movecontact
value = 1002

[Statedef 1002]
type    = A
movetype= A
physics = N
velset = 1.5,0
anim = 6001
sprpriority = 6

[State 10050]
Type = velset 
Trigger1 = 1
X= 2
Y = 0

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State 6670, AngleDraw]
Type = trans
Trigger1 = 1
trans = add


[State 1051, 2] ;設定した値に達したら?ェンジステ?ト
type = destroyself
trigger1 = animtime = 0

[Statedef 1003]
type    = A
movetype= A
physics = N
velset = 13,0
anim = 6000
sprpriority = 6

[State -1, BindToRoot]
Type = BindToparent
Trigger1 = 1
Time = 1
Pos = -10,0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = Add
Length         = 20
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 160 , 160 , 165
PalAdd         = 0 , 0 , 0
PalMul      = .70,.70,.70

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1
scale = 1.3-((random%3)*0.1),1.3-((random%3)*0.1)

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = invisible
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State 2593, 自己消滅]
type = DestroySelf
trigger1 = Time = 200
trigger2 = FrontEdgeDist <= -60
trigger3 = BackEdgeDist <= -60
trigger4 = Pos Y > 90
trigger5 = ScreenPos Y <= -120
trigger6 = numhelper(1001) = 0
trigger7 = helper(1001),stateno = 1002


;カンフ?突き手（弱）
[Statedef 1005]
type    = A
movetype= A
physics = A
poweradd= 60
anim = 1005
ctrl = 0
sprpriority = 2

[State 900]
Type = Velset
Trigger1 = vel x >= 5
x = 4

[State 900]
Type = Velset
Trigger1 = vel x <= -5
x = -4

[State 100, 4]
type           = Explod
trigger1 = animelem = 4
anim           = 6905
sprpriority    = 4
postype        = p1
pos            = 10,-20
scale          = 1,1 
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add

[State 900]
Type = Helper
trigger1       = animelem = 5
Stateno = 1006
ID = 1006
Pos = 40,-30
PosType = P1
Keyctrl = 0
helpertype = normal
ownpal = 0


[State 1000, 音を鳴らす]
type = PlaySnd
trigger1       = animelem = 5
value = 1000, 0
freqmul = 1.5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1       = animelem = 5
value = 1000, 1
freqmul = 1.8

[State 1000, ステ?ト変更]
type = null;ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1006]
type    = A
movetype= A
physics = N
velset = 10,6
anim = 1006
sprpriority = 6

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = animelem = 1
Value = -40

[State 900]
Type = Helper
trigger1       = time = 0
Stateno = 1008
ID = 1008
Pos = 40,-30
PosType = P1
Keyctrl = 0
helpertype = normal
ownpal = 0

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State 220, ヒット定?]
type = HitDef
trigger1 = time = 0
damage = 38, 3
attr = S, SP
animtype = Hard
hitflag = MAF
guardflag = MA
priority = 5
pausetime = 0,15
getpower = 25,10
givepower = 10,10
sparkno = S8200
sparkxy = -15, -60+random%41
hitsound = S1,0
guardsound = S120, 0
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime = 13
ground.velocity = -8.2
air.velocity = -4,-3
fall = 0
air.fall = 1
fall.recovertime = 15
p1sprpriority = 10
guard.kill = 0

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State 6670, AngleDraw]
Type = trans
Trigger1 = 1
trans = add

[State a]
type = Explod
trigger1 = time%2 = 1
anim = 6800
sprpriority = 11
postype = p1
pos = -15 ,-15 + (random%25)
scale = 0.2,0.2
bindtime = 1
under = 0
ownpal = 1
persistent = 1
accel = 0.21, 0
vel = -5 + (random%3),-4 + (random%4)
ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State 2593, 自己消滅]
type = DestroySelf
trigger1 = Time = 200
trigger2 = FrontEdgeDist <= -60
trigger3 = BackEdgeDist <= -60
trigger4 = Pos Y > 90

[State 2244]
type = changestate
trigger1 = movecontact
value = 1007

[Statedef 1007]
type    = A
movetype= A
physics = N
velset = 5,3
anim = 6001
sprpriority = 6

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = animelem = 1
Value = -40


[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State 6670, AngleDraw]
Type = trans
Trigger1 = 1
trans = add


[State 1051, 2] ;設定した値に達したら?ェンジステ?ト
type = destroyself
trigger1 = animtime = 0

[Statedef 1008]
type    = A
movetype= A
physics = N
velset = 10,6
anim = 1006
sprpriority = 6

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = animelem = 1
Value = -40

[State -1, BindToRoot]
Type = BindToparent
Trigger1 = 1
Time = 1
Pos = -10,0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = Add
Length         = 20
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 160 , 160 , 165
PalAdd         = 0 , 0 , 0
PalMul      = .70,.70,.70

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = invisible
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State 2593, 自己消滅]
type = DestroySelf
trigger1 = Time = 200
trigger2 = FrontEdgeDist <= -60
trigger3 = BackEdgeDist <= -60
trigger4 = Pos Y > 90
trigger5 = ScreenPos Y <= -120
trigger6 = numhelper(1006) = 0
trigger7 = helper(1006),stateno = 1007

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;カンフ?突き手（強）
[Statedef 1010]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 30
anim = 1010
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1       = animelem = 2
value = 1010, 2

[State 1000, ReversalDef]
type = ReversalDef
trigger1 = 1
pausetime = 0,18
sparkno = S8300
sparkxy = 15, 0
hitsound = S1010,0
reversal.attr = SCA,AA
numhits = 0
ignorehitpause = 1
p1stateno = 1011
p2stateno = 1012

[State -3,]
type = Varset
trigger1 = animelemtime(6) <= 0
v = 9
value = 0
IgnoreHitPause = 1

[State 1010, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1011]
type    = S
movetype= A
physics = S
poweradd= 30
velset = 0,0
anim = 1011
ctrl = 0
sprpriority = 0

[State 220, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, SA ;立ち通常打撃（Standing, Normal Attack）
damage = 195, 20
animtype = Hard
guarddist = 0 
hitflag = MAF
priority = 7, Hit
pausetime = 0, 15
getpower = 90,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -4,-3
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
p2stateno = 1012

[State 346, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6301
postype = p1
pos = 0,-30
facing = 1
scale = 0.5,0.5
bindtime = 1
trans = add
SuperMoveTime = 9999
PauseMoveTime = 9999
sprpriority = 7

[State -3,]
type = Varset
trigger1 = animelemtime(7) <= 0
v = 9
value = 0
IgnoreHitPause = 1

[State 2000]
type =allPalFx
trigger1 = time = 0
add = 256,256,256
sinadd = -256,-256,-256,20
time = 5
persistent = 0

[State -2]
Type     = Helper
trigger1 = animelem = 4
Stateno  = 1015
ID       = 1015
pos = 6,0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = animelem = 5
Stateno  = 8502
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999
;Size.XScale = 0.5
;Size.YScale = 0.5

[state 6500,1]
type = EnvShake
trigger1 = animelemtime(5) = 1
time = 20
ampl = -20
freq = 75
phase = 75

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 3

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 3000, 3

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 1, 7
freqmul = 0.7

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 1, 6
freqmul = 0.7

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 1130, 0
freqmul = 1.2

[State 2000]
type =allPalFx
trigger1 = animelem = 5
add = 256,256,256
sinadd = -256,-256,-256,40
time = 10
persistent = 0

[State -2, EnvColor]
type = null;EnvColor
trigger1 = animelem = 5
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1
persistent = 0

[State 1010, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1015]
type    = A
movetype= I
physics = N
anim = 7900
sprpriority = 6

[State 346, Explod]
type = Explod
trigger1 = time = 0
anim = 7901
postype = p1
pos = 0,0
facing = 1
scale = 0.5,0.5
bindtime = 1
trans = add
SuperMoveTime = 9999
PauseMoveTime = 9999
sprpriority = 7

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1
scale = 0.5,0.5

[State -1, BindToRoot]
Type = BindToparent
Trigger1 = 1
Time = 1
Pos = 4,0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = Add
Length         = 23
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 20 , 50 , 165
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State 5050, 3]
type = trans
trigger1 = 1
trans = add

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State 2593, 自己消滅]
type = DestroySelf
trigger1 = animTime = 0

[Statedef 1012]
type = S
movetype = H
physics = S
velset = 0,0
ctrl = 0

[State 810, 掴んだ相手のライフ増減]
type = null;LifeAdd
trigger1 = time = 0
value = -180
kill = 1

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 902, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3003, ChangeAnim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1012

[State 3003, ChangeAnim]
type = ChangeAnim2
trigger1 = Time = 10
value = 3025

[State 3003, ChangeAnim]
type = ChangeAnim
trigger1 = anim =  3025 && animtime = 0
value = 5080

[State 105, 1]
type = statetypeset
triggerall = Anim = 5080
trigger1 = AnimElemTime(AnimElemNo(0)+1)=0
statetype = L

[State 3450,1]
type = ChangeAnim
triggerall = Anim = 5080
trigger1 = AnimElemTime(AnimElemNo(0)+1)=0
value = 5110

[State 1100, Velocity]
type = null;VelSet
trigger1 = Time = 16
x = 0

[State 3002, ChangeAnim]
type = SelfState
triggerall = Time >= 80
trigger1 = anim = 5110
trigger2 = Time >= 230
value = ifelse(alive, 5120, 5150)

[Statedef 1020]
type    = C
movetype= A
physics = S
juggle  = 4
poweradd= 20
anim = 1020
ctrl = 0
sprpriority = 4

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 1
trigger1 = time%3 = 1
attr = C, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 3
animtype = medium
guardflag = LA
hitflag = M
priority = 7, Hit
pausetime = 5, 5
guard.pausetime = 5, 10
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = 7,-3
airguard.velocity = -2.4,-1.2
air.type = Low
air.velocity = 7,-2
fall.recovertime = 22
guard.velocity = -3
air.hittime = 19
fall = 1
fall.recover = 1

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 10
trigger1 = time = 0
attr = C, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = medium
guardflag = L
hitflag = MAF
priority = 7, Hit
pausetime = 7, 7
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = 5,-3
airguard.velocity = -2.4,-1.2
air.type = Low
air.velocity = 5,-2
fall.recovertime = 22
guard.velocity = -3
air.hittime = 19
fall = 1
fall.recover = 1
p2stateno = 702

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
trigger1 = EnemyNear,stateno = 702
trigger1 = var(20) = 10
trigger1 = movehit
Stateno  = 705
ID       = 705
pos = 0,0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 651, ステ?ト変更]
Type = ChangeState
triggerall = PalNo != 12
trigger1 = var(22) <= 0
Value = 711

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0


[State 840,0]
type = PlayerPush
trigger1 = animelemtime(7) <= 0
value = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1       = animelem = 1
value = 1010, 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1       = animelem = 5
value = 100, 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1       = animelemtime(6) >= 0
trigger1       = animelemtime(7) <= 0
trigger1       = time%2 = 1
value = 1, 5
freqmul = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1       = animelem = 5
value = 1020, 0

[State 100, 4]
type           = Explod
trigger1= animelemtime(5) >= 0
trigger1= animelemtime(7) <= 0
trigger1= time%4 = 1
anim           = 1022
sprpriority    = 10
postype        = p1
pos            = 87,-5
scale          = 0.5,0.5 
bindtime       = 1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add

[State 320, 減速]
type = velset
trigger1 = animelem = 5
x = 18

[State 320, 減速]
type = velset
trigger1 = animelem = 6
x = 25

[State 320, 減速]
type = velset
trigger1 = animelem = 7
x = 5

[State 320, 減速]
type = veladd
trigger1 = animelemtime(5) >= 5
x = 0.72

[State -3,]
type = Varset
trigger1 = animelemtime(6) <= 10
v = 9
value = 0
IgnoreHitPause = 1

[State 1010, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 900]
Type = Helper
trigger1       = animelemtime(6) >= 0
trigger1       = animelemtime(7) <= 0
trigger1       = time%6 = 1
trigger2       = animelemtime(6) = 0
Stateno = 1021
ID = 1021
Pos = -10,0
PosType = P1
Keyctrl = 0
helpertype = normal
ownpal = 1

[State 900]
Type = Helper
trigger1       = animelemtime(6) >= 0
trigger1       = animelemtime(7) <= 0
trigger1       = time%4 = 1
;trigger2       = animelemtime(6) = 0
Stateno = 1022
ID = 1022
Pos = -10,0
PosType = P1
Keyctrl = 0
helpertype = normal
ownpal = 1
Size.XScale = 0.5
Size.YScale = 0.5

[Statedef 1021]
type    = A
movetype= A
physics = N
velset = 0,0
anim = 1021
ctrl = 0
sprpriority = 3

[State 100, 4]
type           = Explod
trigger1= animelem = 1
anim           = 1021
sprpriority    = 3
postype        = p1
pos            = -40,0
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
trans = add


[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State 2593, 自己消滅]
type = trans
trigger1 = 1
trans = add

[State 2593, 自己消滅]
type = DestroySelf
trigger1 = animTime = 0

[Statedef 1022]
type    = A
movetype= A
physics = N
velset = 0,0
anim = 1023
ctrl = 0
sprpriority = 3

[State 100, 4]
type           = Explod
trigger1= animelem = 1
anim           = 1024
sprpriority    = 4
postype        = p1
pos            = 0,0
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
trans = add

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = animelem = 1
Value = 40

[State 220, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 24, 3
animtype = medium
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 0, 5
guard.pausetime = 0, 12
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1020,1
guardsound = S120, 0
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -10,-4
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -10,-4
air.hittime = 21
fall = 1
fall.recover = 1
fall.recovertime = 19
palfx.time = 40
palfx.add = 180,180,210
palfx.mul = 200,200,200
palfx.sinadd = 80,80,80,10
palfx.invertall = 1

[State -3,]
type = parentVaradd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1       = animelem = 1
value = 1020, 0
freqmul= 2

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State 2593, 自己消滅]
type = trans
trigger1 = 1
trans = add

[State 2593, 自己消滅]
type = DestroySelf
trigger1 = animTime = 0

[State -2]
Type     = Helper
triggerall = numhelper(8600) <= 10
trigger1 = movehit
Stateno  = 8600
ID       = 8600
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999

[state 6500,1]
type = EnvShake
trigger1       = animelem = 1
time = 10
ampl = -13
freq = 95
phase = 95

[Statedef 1050]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 60
ctrl = 0
anim = 1050
sprpriority = 2

[State 1000]
type = Helper
trigger1 = animelemtime(6) = 0
stateno = 1051
id = 1051
helpertype = normal
pos = -7,-43
postype = P1
keyctrl = 0
ownpal = 1

[State -3,]
type = Varset
trigger1 = animelemtime(5) <= 0
v = 9
value = 0
IgnoreHitPause = 1

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1010, 2
freqmul = 0.75

[State 100, 4]
type           = Explod
trigger1 = animelem = 5
anim           = 6301
sprpriority    = 4
postype        = p1
pos            = -14,-40
scale          = 1,1 
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add
scale = 0.25,0.25

[State 100, 4]
type           = null;Explod
trigger1 = animelem = 6
anim           = 6200
sprpriority    = 4
postype        = p1
pos            = -65,-30
scale          = 1,1 
bindtime       = 1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add
supermovetime = 0
pausemovetime = 10
scale = 0.2,0.25

[State 100, 4]
type           = null;Explod
trigger1 = animelem = 5
anim           = 6200
sprpriority    = 4
postype        = p1
pos            = -25,-50
scale          = 1,1 
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add
supermovetime = 0
pausemovetime = 10
vfacing = -1
scale = 1,0.5

[State 100, 4]
type           = Explod
trigger1 = animelem = 6
anim           = 6301
sprpriority    = 4
postype        = p1
pos            = 143,-39
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add
scale = 0.25,0.25

[State 100, 4]
type           = Explod
trigger1 = animelem = 6
anim           = 6301
sprpriority    = 4
postype        = p1
pos            = 45,-20
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add
scale = 0.25,0.25

[State 100, 4]
type           = Explod
trigger1 = animelem = 6
anim           = 6301
sprpriority    = 4
postype        = p1
pos            = -14,-54
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add
scale = 0.25,0.25

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 6
value = 0, 5

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 6
value = 0, 3

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 6
value = 3000, 4

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 6
value = 3000, 2

[State 220, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, SA ;立ち通常打撃（Standing, Normal Attack）
damage = 127, 20
animtype = diagup
guarddist = 0 
hitflag = MAF
priority = 7, Hit
pausetime = 13, 18
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = 0,-10
groundguard.velocity = -2.9,-1.6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = 0,-10
fall.recovertime = 42
air.hittime = 21
fall = 1
fall.recover = 1
envshake.time = 18
envshake.ampl = 25
envshake.freq = 110
envshake.phase = 110

[State -2, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1
persistent = 0

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
Stateno  = 8502
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999

[State -2]
Type     = null;Helper
trigger1 = movehit
Stateno  = 705
ID       = 705
pos = 0,0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999

[State -1]
Type           = AfterImage
trigger1 = time = 0
Time           = 62
Trans          = Add
Length         = 15
TimeGap        = 2
FrameGap       = 1
PalBright      = 60 , 40 , 60
PalContrast    = 60 , 45 , 75
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State 215, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1051]
anim = 6907
SprPriority = 6

[State a]
type = Explod
trigger1 = time = 1
anim = 6800
sprpriority = 11
postype = p1
pos = 15 ,0
scale = 0.2,0.2
bindtime = 1
under = 0
ownpal = 1
persistent = 1
accel = -0.15, 0.03
vel = 15 - (random%8),-1 + (random%2)
ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State a]
type = Explod
trigger1 = time = 1
anim = 6800
sprpriority = 11
postype = p1
pos = 15 ,0
scale = 0.2,0.2
bindtime = 1
under = 0
ownpal = 1
persistent = 1
accel = -0.15, 0.03
vel = 15 - (random%8),-1 + (random%2)
ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State a]
type = Explod
trigger1 = time = 1
anim = 6800
sprpriority = 11
postype = p1
pos = 15 ,0
scale = 0.2,0.2
bindtime = 1
under = 0
ownpal = 1
persistent = 1
accel = -0.15, 0.03
vel = 15 - (random%8),-1 + (random%2)
ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State a]
type = Explod
trigger1 = time = 1
anim = 6800
sprpriority = 11
postype = p1
pos = 15 ,0
scale = 0.2,0.2
bindtime = 1
under = 0
ownpal = 1
persistent = 1
accel = -0.15, 0.03
vel = 15 - (random%8),-1 + (random%2)
ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State a]
type = Explod
trigger1 = time = 1
anim = 6800
sprpriority = 11
postype = p1
pos = 15 ,0
scale = 0.2,0.2
bindtime = 1
under = 0
ownpal = 1
persistent = 1
accel = -0.11, 0.03
vel = 10 - (random%8),-1 + (random%2)
ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State a]
type = Explod
trigger1 = time = 1
anim = 6800
sprpriority = 11
postype = p1
pos = 15 ,0
scale = 0.2,0.2
bindtime = 1
under = 0
ownpal = 1
persistent = 1
accel = -0.11, 0.03
vel = 10 - (random%8),-1 + (random%2)
ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State a]
type = Explod
trigger1 = time = 1
anim = 6800
sprpriority = 11
postype = p1
pos = 15 ,0
scale = 0.2,0.2
bindtime = 1
under = 0
ownpal = 1
persistent = 1
accel = -0.11, 0.03
vel = 10 - (random%8),-1 + (random%2)
ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State a]
type = Explod
trigger1 = time = 1
anim = 6800
sprpriority = 11
postype = p1
pos = 15 ,0
scale = 0.2,0.2
bindtime = 1
under = 0
ownpal = 1
persistent = 1
accel = -0.11, 0.03
vel = 10 - (random%8),-1 + (random%2)
ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State a]
type = Explod
trigger1 = time = 1
anim = 6800
sprpriority = 11
postype = p1
pos = 15 ,0
scale = 0.2,0.2
bindtime = 1
under = 0
ownpal = 1
persistent = 1
accel = -0.11, 0.03
vel = 10 - (random%8),-1 + (random%2)
ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State 7224]
Type = SprPriority
Trigger1 = 1
Value = 6

[State 7224]
Type = AngleDraw
Trigger1 = Time >= 0
Value = 0
Scale = 0.5,0.5

[State 7224]
type = trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 7224]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = add
Length         = 15
TimeGap        = 0
FrameGap       = 0
PalBright      = 0 , 0 , 0
PalContrast    = 120 , 180 , 250
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State -2, AfterImage];?メ?ジ時残像消去
Type = destroyself
Trigger1 = animtime = 0

[Statedef 1060]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 60
ctrl = 0
anim = 1060
sprpriority = 2

[State a]
type = Explod
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(5) <= 0
;trigger1 = (GameTime%2) = 0
anim = 6801
sprpriority = 16
postype = p1
pos = 50 + (random%60),-10
scale = 0.3,0.3 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
vel = -7+ ((random%20)*0.1),-3+ ((random%20)*0.1)
accel = 0.03,-0.07
;ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State a]
type = Explod
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(5) <= 0
anim = 6801
sprpriority = 16
postype = p1
pos = 50 + (random%60),-10
scale = 0.5,0.5 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
vel = -7+ ((random%20)*0.1),-3+ ((random%20)*0.1)
accel = 0.03,-0.07
;ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State 1000]
type = Helper
trigger1 = animelemtime(2) = 0
stateno = 1061
id = 1061
helpertype = normal
pos = -3,-46
postype = P1
keyctrl = 0
ownpal = 1

[State 1000]
type = Helper
trigger1 = animelemtime(2) = 0
stateno = 1061
id = 1062
helpertype = normal
pos = 0,-50
postype = P1
keyctrl = 0
ownpal = 1

[State 1000]
type = Helper
trigger1 = animelemtime(2) = 0
stateno = 1061
id = 1061
helpertype = normal
pos = 0,-54
postype = P1
keyctrl = 0
ownpal = 1

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 1, 7
freqmul = 1.2

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 1, 7
freqmul = 1.5

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 4
freqmul = 0.8

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 3000, 4

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 1
trigger1 = time = 0
attr = A, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 47, 0
animtype = medium
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 15, 10
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 0
guardsound = S120, 1
guard.sparkno = S8300
;ground.type = trip
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6.5,-5.5
airguard.velocity = -6.9,-2.6
air.type = High
air.velocity = -5.5,-5
air.hittime = 15
fall = 1
fall.recover = 1
fall.recovertime = 35
yaccel = .32


[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 10
trigger1 = time = 0
attr = A, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 57, 0
animtype = medium
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 6
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 0
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-11
fall.recovertime = 22
air.hittime = 15
air.fall = 1
fall.recover = 1
p2stateno = 700

[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = EnemyNear,stateno = 700
trigger1 = var(20) = 10
trigger1 = movehit
value = -30
absolute = 1
persistent = 0

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
Stateno  = 8502
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999

[State -2]
Type     = Helper
trigger1 = EnemyNear,stateno = 700
trigger1 = var(20) = 10
trigger1 = movehit
Stateno  = 705
ID       = 705
pos = 0,0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = movehit
value = 1130, 0
ignorehitpause = 1
persistent = 0

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = movehit
value = 1, 5
ignorehitpause = 1
persistent = 0

[State -2, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 5
under = 1
ignorehitpause = 1
persistent = 0

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 651, ステ?ト変更]
Type = ChangeState
triggerall = PalNo != 12
trigger1 = var(22) <= 0
Value = 710

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State 215, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1061]
anim = 7201
SprPriority = 0



[State 1000]
type = Helper
trigger1 = time = 0
stateno = 1062
id = 1061
helpertype = normal
pos = 0,-1
postype = P1
keyctrl = 0
ownpal = 1

[State 7224]
Type = SprPriority
Trigger1 = 1
Value = -1

[State 7224]
Type = AngleDraw
Trigger1 = Time >= 0
Value = -27
Scale = 1,0.165

[State 7224]
type = trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 7224]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = add
Length         = 15
TimeGap        = 2
FrameGap       = 0
PalBright      = 0 , 0 , 0
PalContrast    = 70 , 90 , 140
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State -2, AfterImage];?メ?ジ時残像消去
Type = destroyself
Trigger1 = animtime = 0

[Statedef 1062]
anim = 7202
SprPriority = 0

[State 7224]
Type = SprPriority
Trigger1 = 1
Value = 5

[State 7224]
Type = AngleDraw
Trigger1 = Time >= 0
Value = -27
Scale = 1,0.165

[State 7224]
type = trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 7224]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = add
Length         = 15
TimeGap        = 2
FrameGap       = 0
PalBright      = 0 , 0 , 0
PalContrast    = 70 , 90 , 140
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State -2, AfterImage];?メ?ジ時残像消去
Type = destroyself
Trigger1 = animtime = 0

[Statedef 1070]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 30
ctrl = 0
anim = 1070
sprpriority = 2

[State 1000]
type = Helper
trigger1 = animelemtime(5) = [0,4]
stateno = 1065
id = 1065
helpertype = normal
pos = 0,0
postype = P1
keyctrl = 0
ownpal = 1
;Size.XScale = 0.5
;Size.YScale = 0.5

[State -3,]
type = Varset
trigger1 = time = 0
v = 9
value = 0
IgnoreHitPause = 1

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 3100, 0
freqmul = 0.75

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1020, 0

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1, 6

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1070, 0
freqmul = 0.75

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1070, 0
freqmul = 0.9

[State 100, 4]
type           = Explod
trigger1 = animelem = 5
anim           = 1071
sprpriority    = 4
postype        = p1
pos            = 0,10
scale          = 1,1 
bindtime       = 1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add

[State 100, 4]
type           = Explod
trigger1 = animelem = 5
anim           = 6600
sprpriority    = 4
postype        = p1
pos            = 0,0
scale          = 1.7,0.3 
bindtime       = 1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add

[State 100, 4]
type           = Explod
trigger1 = animelem = 5
anim           = 6601
sprpriority    = 4
postype        = p1
pos            = 0,0
scale          = 1.7,0.3 
bindtime       = 1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add

[state 6500,1]
type = EnvShake
trigger1       = animelem = 5
time = 20
ampl = -23
freq = 95
phase = 95

[State 215, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1065]
type = A
movetype = A
physics = N
anim = 1061
ctrl = 0
sprpriority = 10

[State 210, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, SP
damage = 20, 2
animtype = medium
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 0, 9
getpower = 10,1
givepower = 5,0
sparkno = S8200
guard.sparkno = S8400
sparkxy = -15, -30
hitsound = S1020, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 9
ground.hittime  = 16
ground.velocity = -3.5
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -5,-2
fall.recovertime = 25
air.hittime = 17
air.fall = 1
fall.recover = 1
yaccel = .24
palfx.time = 40
palfx.add = 180,180,210
palfx.mul = 200,200,200
palfx.sinadd = 80,80,80,10
palfx.invertall = 1

[State -2]
Type     = Helper
triggerall = numhelper(8600) <= 10
trigger1 = movehit
Stateno  = 8600
ID       = 8600
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999

[State 10050]
Type = trans
Trigger1 = 1
trans = add

[State 346, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 346, VelAdd]
type = VelAdd
trigger1 = P2BodyDist Y < 50
trigger1 = Vel Y >= -4
y = -0.8

[State 346, VelAdd]
type = VelAdd
trigger1 = Time >= 10
trigger1 = P2BodyDist Y > 50
trigger1 = Vel Y <= 4
y = 0.8

[State 346, VelAdd]
type = VelAdd
trigger1 = P2BodyDist X >= 0
trigger1 = Time >= 10
x = 0.3

[State 346, VelAdd]
type = null;VelAdd
trigger1 = P2BodyDist X <= 0
trigger1 = Time >= 10
x = -0.3

[State 346, VelSet]
type = VelSet
trigger1 = Time = 0
x = -6+random%8
y = -8-random%6

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = add
Length         = 15
TimeGap        = 2
FrameGap       = 2
PalBright      = 0 , 0 , 0
PalContrast    = 40 , 40 , 70
PalAdd         = 0 , 0 , 0
PalMul      = .80,.80,.80

[State 346, Explod]
type = Explod
trigger1 =  1
anim = 6800
postype = p1
facing = 1
scale = 0.5,0.5
bindtime = 1
;removetime = -2
ownpal = 1
supermovetime = 0
pausemovetime = 0
sprpriority = 3
ignorehitpause = 1
trans = add

[State 346, DestroySelf]
type = destroyself
trigger1 = time > 120
Trigger2 = !(ScreenPos X = [-100,420])
trigger3 = root,movetype = H
trigger3 = root,stateno != [120,159]


[Statedef 1100]
type    = S
movetype= A
physics = S
poweradd= 15
ctrl = 0
anim = 1100
sprpriority = 2

[State 900]
Type = Veladd
Trigger1 = Time = 0
x = 12.5

[State 100, 4]
type           = Explod
trigger1 = animelem = 3
anim           = 7200
sprpriority    = 4
postype        = p1
pos            = -5,-50
scale          = 1,1 
bindtime       = 6
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 3

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 3000, 4

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 1
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = medium
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 15
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -2,-7
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-7
air.hittime = 15
fall = 1
fall.recover = 0

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 10
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = medium
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 6
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-11
fall.recovertime = 22
air.hittime = 15
air.fall = 1
fall.recover = 1
p2stateno = 700

[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = EnemyNear,stateno = 700
trigger1 = var(20) = 10
trigger1 = movehit
value = -30
absolute = 1
persistent = 0

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
trigger1 = EnemyNear,stateno = 700
trigger1 = var(20) = 10
trigger1 = movehit
Stateno  = 705
ID       = 705
pos = 0,0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 651, ステ?ト変更]
Type = ChangeState
triggerall = PalNo != 12
trigger1 = var(22) <= 0
Value = 710

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0


[State 215, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value =1101

[Statedef 1101]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 620
sprpriority = 2

[State 193, Gravity]
Type = Gravity
Trigger1 = 1

[State 100, 4]
type           = Explod
trigger1 = animelem = 1
anim           = 6904
sprpriority    = 4
postype        = p1
pos            = 40,-45
scale          = 1,1 
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add

[State 900]
Type = VelSet
Trigger1 = Time = 0
Y = -10.5

[State 900]
Type = Veladd
Trigger1 = Time = 0
x = 3;.5

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 3

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3000, 4

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 1
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 57, 0
animtype = medium
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 16
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2.5,-5
fall.recovertime = 32
air.hittime = 20
air.fall = 1
fall.recover = 1

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 10
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 67, 0
animtype = medium
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 6
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-11
fall.recovertime = 22
air.hittime = 15
air.fall = 1
fall.recover = 1
p2stateno = 700

[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = EnemyNear,stateno = 700
trigger1 = var(20) = 10
trigger1 = movehit
value = -30
absolute = 1
persistent = 0

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
trigger1 = EnemyNear,stateno = 700
trigger1 = var(20) = 10
trigger1 = movehit
Stateno  = 705
ID       = 705
pos = 0,0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 651, ステ?ト変更]
Type = ChangeState
triggerall = PalNo != 12
trigger1 = var(22) <= 0
Value = 710

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State 600,ジャンプキャンセル]
type = ChangeState
value = 510
triggerall = command = "aircombofwd"
triggerall = var(7) <= 0
TriggerAll=var(59) = 0
trigger1 = movecontact

[State 600,ジャンプキャンセル]
type = ChangeState
value = 515
triggerall = command = "aircombo"
triggerall = var(7) <= 0
TriggerAll=var(59) = 0
trigger1 = movecontact

[State 600,ジャンプキャンセル]
type = ChangeState
value = 520
triggerall = command = "aircomboback"
triggerall = var(7) <= 0
TriggerAll=var(59) = 0
trigger1 = movecontact

[State 2591, 着地]
type = ChangeState
trigger1 = Pos Y > -4
trigger1 = AnimElemTime(9) >= 0
value = 52
ctrl = 1

[State 600, コントロ?ル]
type = CtrlSet
trigger1 = animelemTime(9) >= 0
value = 1


[Statedef 1120]
type    = A
movetype= A
physics = N
poweradd= 15
ctrl = 0
anim = 1120
sprpriority = 2

[State 2590, 上方]
type = Helper
trigger1 = AnimElemTime(1) = 1
stateno = 2030
ID = 2030
pos = 0,-20
ownpal = 0
ignorehitpause = 1
persistent = 0
size.xscale = 0.075
size.Yscale = 0.75

[State a]
type = Explod
trigger1 = animelemtime(3) <= 0
anim = 6800
sprpriority = 16
postype = p1
pos = 0 - (random%10),-40 + (random%20)
scale = 0.3,0.3 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
;ignorehitpause = 1
accel = 0.21, 0
vel = -7 + (random%3),-2 + (random%4)
;pausemovetime = 999999999999999
;supermovetime = 999999999999999
trans = add

[State a]
type = Explod
trigger1 = animelemtime(3) <= 0
anim = 6800
sprpriority = 16
postype = p1
pos = 0 - (random%10),-40 + (random%20)
scale = 0.2,0.2 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
;ignorehitpause = 1
accel = 0.21, 0
vel = -7 + (random%3),-2 + (random%4)
;pausemovetime = 999999999999999
;supermovetime = 999999999999999
trans = add

[State 5050, 3]
type = trans
trigger1 = animelemtime(3) <= 0
trans = add

[State -2]
Type     = Helper
trigger1 = p2BodyDist Y = [-180,250]
trigger1 = p2BodyDist X >= -280
trigger1 = animelemtime(3) = 0
Stateno  = 1121
ID       = 1121
pos =  0,0
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 

[State 5050, 3]
type = Gravity
trigger1 = animelemtime(3) >= 10

[State 900]
Type = Velset
trigger1 = time = 0
y = 0

[State 900]
Type = VelSet
Trigger1 = Time = 0
X = 100

[State 900]
Type = Velset
trigger1 = animelemtime(3) = 0
x = 4

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 3

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3000, 4

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3000, 2

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 0
freqmul = 2

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 1

[State 2591, 着地]
type = ChangeState
trigger1 = Pos Y > -4
trigger1 = AnimElemTime(4) >= 0
value = 52
ctrl = 1


[Statedef 1121]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1121
sprpriority = 2

[State 220, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 47, 0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 7
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 7
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -4,-3
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
p2stateno = 702
p2facing = 1

[State 100, 4]
type           = Explod
trigger1 = movehit
anim           = 7401
sprpriority    = 10
postype        = left
pos            = 0,0
scale          = 1,1 
bindtime       = -1
ownpal         = 1
ontop = 1
ignorehitpause = 1
removeongethit = 1
trans = add
persistent = 0
supermovetime = 25
pausemovetime = 25

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
Stateno  = 8502
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 5;9999
pausemovetime = 5;9999

[State -2]
Type     = Helper
trigger1 = EnemyNear,stateno = 702
trigger1 = movehit
Stateno  = 705
ID       = 705
pos = 0,0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 800, 0
persistent = 0
supermovetime = 9999
pausemovetime = 9999


[State 215, ステ?ト変更]
type = destroyself
trigger1 = AnimTime = 0

[State -3,]
type = parentVaradd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0



[Statedef 1130]
type    = A
movetype= A
physics = S
poweradd= 15
ctrl = 0
anim = 1130
sprpriority = 2

[State 100, 4]
type           = Explod
trigger1       = Time = 1
anim           = 7700
sprpriority    = 4
postype        = p1
pos            = -35,2
bindtime       = 1
ownpal         = 1
ignorehitpause = 1
trans = add

[State 900]
Type = Veladd
Trigger1 = Time = 0
x = 13.5

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 1

[State 215, ヒット定?]
type = HitDef
trigger1 = AnimElem = 1
attr = A, SA
damage = 65, 3
animtype = medium
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 10, 20
getpower = 50,4
givepower = 5,0
sparkno = S8200
guard.sparkno = S8300
sparkxy = -15, -60
hitsound = S1130, 0
guardsound = S120, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 16
ground.velocity = -20
airguard.velocity = -20.9,-1.6
air.type = High
air.velocity = -6,-4
fall.recover = 1
fall.recovertime = 38
air.hittime = 17
air.fall = 1
yaccel = .44
p2stateno = 1131

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = movehit
value = 1020, 1
ignorehitpause = 1
persistent = 0

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = movehit
value = 3100, 2
ignorehitpause = 1
persistent = 0

[State -2, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 5
under = 1
ignorehitpause = 1
persistent = 0

[State -3,]
type = Varadd
trigger1 = movehit
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State 651, ステ?ト変更]
Type = ChangeState
triggerall = PalNo != 12
trigger1 = var(22) <= 0
Value = 710

[State -3,]
type = Varadd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State 215, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 1131];相手吹っ飛び
type     = A                     ;キャラの状態を指定（S=立ち・C=しゃがみ・A=空中・L=横に?れている・U=前のステ?トの状態を引き継ぐ）
movetype = H                     ;キャラの行動内容を指定（I=何もしない・A=攻撃している・H=攻撃を食らっている）
physics  = N                     ;キャラの物理的な体勢（S=立ち・C=しゃがみ・A=空中・N=重力や?擦の影響を受けない・U=前のステ?トの体勢を引き継ぐ）
juggle   = 0                     ;攻撃を当てた時に溜まるジャグル?イントの設定
ctrl     = 0                     ;コントロ?ルの可否（0=キ??作不可・1=キ??作可?）
poweradd = 0                   ;パワ?ゲ?ジの増加量を設定
velset = 0,0
sprpriority = 0                  ;画像?示優先度?数値が多いと手前に、少ないと奥に優先されます
facep2 = 1

[State 221]
type = changeanim2
trigger1 = 1
value = 5035

[State 221]
type = velset
trigger1 = time > 10
x = -25

[State 221]
type = playerpush
trigger1 = time > 30
value = 0

[State 221, ステ?ト変更]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 5
trigger1 = time > 10
trigger2 = time > 110
value = 1132

[State 1106, 2]
type = HitFallSet
trigger1 = time >= 0
value = 1

[Statedef 1132]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1106, 2]
type = HitFallSet
trigger1 = time >= 0
value = 1

[State 5050, 4] ;Recover near ground
type = null;selfState
triggerall = alive
trigger1 = time >= 28
trigger1 = Command = "recovery" || Command = "a" || Command = "b" || Command = "c" || Command = "x" || Command = "y" || Command = "z"
value = 5210 ;HITFALL_RECOVER
ctrl = 1

[State 222]
type = changeanim
Trigger1 = SelfAnimExist(5061)
trigger1 = time = 0
value = 5061

[State 222]
type = changeanim
Trigger1 = !SelfAnimExist(5061)
trigger1 = time = 0
value = 5050

[state 6500,1]
type = EnvShake
trigger1 = Time = 0
time = 10
ampl = -18
freq = 95
phase = 95

[State 222]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 222]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 222, スクロ?ル]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 222]
type = null;Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor(screenpos y) - 50 ;（※５）
postype = back
sprpriority = 3

[State 222, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 222, 速度]
type = velset
trigger1 = Time = 10
x = 1.5
y = -7.8

[State 222, 速度]
type = veladd
trigger1 = Time > 10
y = .5

[State 222, 相手ステ?トに戻す]
type = SelfState
trigger1 = Time >= 10
;trigger1 = alive
trigger1 = CanRecover
value = 5050



[Statedef 1140]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 15
ctrl = 0
sprpriority = 2
anim = 1140

[State 900]
Type = Veladd
Trigger1 = animelem = 3
x = 8

[State 800, 1]
type = HitDef
Trigger1 = time = 20
;Trigger1 = p2stateno != [120,159];150 && 151 && 152 && 153 && 130 && 131 && 140
attr = S, ST
hitflag = M
priority = 5, hit
sparkno = -1
p2facing = 1
p1stateno = 1141       ;自分のステ?ト変更
p2stateno = 1146       ;相手を制御するステ?トに行かせる
;guard.dist = 0        ;相手がガ?ド状態に移行出来る距離（現在は0なのでガ?ド不可）
getpower = 10,2

[State 600, ステ?ト変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1141]
type    = S
movetype= A
physics = N
anim = 1141
ctrl = 0
sprpriority = 1
velset = 0,0

[State -3,]
type = Varset
trigger1 = 1
v = 9
value = 0
IgnoreHitPause = 1

[State 601]
type = playsnd
Trigger1 = time = 0
value = 1,1

[State 601]
type = targetbind
Trigger1 = animelem = 1
pos = 26,0

[State 601]
type = targetbind
Trigger1 = animelem = 2
pos = 10,0

[State 601]
type = targetbind
Trigger1 = animelem = 3
pos = 3,0

[State 601]
type = targetbind
Trigger1 = animelem = 4
pos = 10,0

[State 601]
type = targetbind
Trigger1 = animelem =5
pos = 40,0

[State 601]
type = targetstate
Trigger1 = animelemtime(4) <= 2
value = 1146

[State 601]
type = targetstate
Trigger1 = animelemtime(5) = 0
value = 1147

[State 100, 4]
type           = Explod
trigger1 = animelem = 14
anim           = 6903
sprpriority    = 4
postype        = p1
pos            = 72,-33
scale          = 1,1 
bindtime       = 1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 14
value = 0, 3

[State 220, ヒット定?]
type = HitDef
trigger1 = var(20) = 1
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 40, 0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 7, 7
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -4,-3
fall.recovertime = 22
air.hittime = 21
fall.recover = 1
p2stateno = 1145
envshake.time = 18
envshake.ampl = 25
envshake.freq = 110
envshake.phase = 110
kill = 0

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1
persistent = 0

[State 220]
type = pause
trigger1 = movehit
time = 5
movetime = 1
ignorehitpause = 1
persistent = 0

[State 601, ステ?ト脱出]
type = selfstate
Trigger1 = animtime >= 0
value = 1142
ctrl = 0


[Statedef 1142]
type    = S
movetype= A
physics = N
anim = 1142
ctrl = 0
sprpriority = 1

[State -3,]
type = Varset
trigger1 = 1
v = 9
value = 0
IgnoreHitPause = 1

[State 601]
type = targetstate
Trigger1 = time%4 = 1
value = 1145

[State 100, 4]
type           = Explod
Trigger1 = time%4 = 1
anim           = 6903
sprpriority    = 4
postype        = p1
pos            = 52,-68+random%68
scale          = 1,1 
bindtime       = 1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add

[State 220, 音を鳴らす]
type = PlaySnd
Trigger1 = time%4 = 1
value = 0, 3

[State 220, 音を鳴らす]
type = PlaySnd
Trigger1 = time%4 = 1
value = 1, 2

[state a];ヒット数
type = hitadd
Trigger1 = time%4 = 1
value  = 1

[State 601]
type = targetlifeadd
Trigger1 = time%4 = 1
value = -12
kill = 0

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
Trigger1 = time%4 = 1
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State 601, ステ?ト脱出]
type = selfstate
Trigger1 = animtime = 0
Trigger1 = time >= 50
value = 1143

[Statedef 1143]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1143
sprpriority = 2

[State 900]
Type = Veladd
Trigger1 = Time = 0
x = 7.5

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 1

[State 215, ヒット定?]
type = HitDef
trigger1 = AnimElem = 1
attr = A, SA
damage = 38, 2
animtype = medium
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 10, 22
getpower = 20,4
givepower = 5,0
sparkno = S8200
guard.sparkno = S8300
sparkxy = -15, -60
hitsound = S1130, 0
guardsound = S120, 0
ground.type = High
ground.slidetime = 13
ground.hittime  = 16
ground.velocity = -9
airguard.velocity = -7.9,-1.6
air.type = High
air.velocity = -6,-4
fall.recovertime = 20
air.hittime = 17
air.fall = 1
yaccel = .44
p2stateno = 702
envshake.time = 18
envshake.ampl = 22
envshake.freq = 80
envshake.phase = 80

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = movehit
value = 1020, 1
ignorehitpause = 1
persistent = 0

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = movehit
value = 3100, 2
ignorehitpause = 1
persistent = 0

[State -2, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 5
under = 1
ignorehitpause = 1
persistent = 0

[State 215, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1145]
type    = S
movetype= H
physics = S
velset = 0,0
ctrl = 0
sprpriority = 0

[State 1000, ]
type = Velset
trigger1 = time = 0
x = 0
Y = 0

[State 1000, ]
type = posset
trigger1 = 1
y = 0

[State 3242, ChangeState]
type = changeanim2 
trigger1 = time =0
value = 1145+(random%2)

[State 3242, ChangeState]
Type = selfState
trigger1 = time >= 100
value = 0
ctrl = 1

[Statedef 1146]
type    = S
movetype= H
physics = S
velset = 0,0
ctrl = 0
sprpriority = 0

[State 1000, ]
type = Velset
trigger1 = time = 0
x = 0
Y = 0

[State 1000, ]
type = posset
trigger1 = 1
y = 0

[State 3242, ChangeState]
type = changeanim2 
trigger1 = time =0
value = 1147

[State 3242, ChangeState]
Type = selfState
trigger1 = time >= 100
value = 0
ctrl = 1

[Statedef 1147]
type    = S
movetype= H
physics = S
velset = 0,0
ctrl = 0
sprpriority = 0

[State 1000, ]
type = Velset
trigger1 = 1
x = -2
Y = 0

[State 1000, ]
type = posset
trigger1 = 1
y = 0

[State 3242, ChangeState]
type = changeanim2 
trigger1 = time =0
value = 1148

[State 3242, ChangeState]
Type = selfState
trigger1 = time >= 100
value = 0
ctrl = 1

[Statedef 1150]
type    = S
movetype= A
physics = S
poweradd= 15
ctrl = 0
anim = 1150
sprpriority = 2

[State 1000, ]
type = Explod
trigger1 = AnimElem = 13
ID = 6002
anim = 6002
Pos = 40,-35
postype = P1
ownpal = 1
sprpriority = 4
removeongethit = 1
trans = add
ignorehitpause = 1
persistent = 0
scale= 1.5,1.5

[State 900]
Type = Veladd
Trigger1 = animelem = 5
x = 6

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(12) <= 0
trigger1 = time%2 = 1
trigger2 = animelemtime(13) = 0
value = 0, 3

[State 220, ヒット定?]
type = HitDef
triggerall = var(20) = 1
trigger1 = animelemtime(5) = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 18, 2
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 2, 7
getpower = 20,6
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-1
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 220, ヒット定?]
type = HitDef
triggerall = var(20) = 1
trigger1 = animelemtime(6) = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 18, 2
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 2, 7
getpower = 20,6
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-1
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 220, ヒット定?]
type = HitDef
triggerall = var(20) = 1
trigger1 = animelemtime(7) = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 18, 2
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 2, 7
getpower = 20,6
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-1
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 220, ヒット定?]
type = HitDef
triggerall = var(20) = 1
trigger1 = animelemtime(8) = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 18, 2
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 2, 7
getpower = 20,6
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-1
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 220, ヒット定?]
type = HitDef
triggerall = var(20) = 1
trigger1 = animelemtime(9) = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 18, 2
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 2, 7
getpower = 20,6
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-1
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 220, ヒット定?]
type = HitDef
triggerall = var(20) = 1
trigger1 = animelemtime(10) = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 18, 2
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 2, 7
getpower = 20,6
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-1
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 220, ヒット定?]
type = HitDef
triggerall = var(20) = 1
trigger1 = animelemtime(11) = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 18, 2
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 2, 7
getpower = 20,6
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-1
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 220, ヒット定?]
type = HitDef
triggerall = var(20) = 1
trigger1 = animelemtime(12) = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 18, 2
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 2, 7
getpower = 20,6
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-1
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 220, ヒット定?]
type = HitDef
triggerall = var(20) = 1
trigger1 = animelemtime(13) = 1
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 60, 3
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 15, 20
getpower = 20,6
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -7.5,-4
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -7.5,-4
fall.recovertime = 36
air.hittime = 21
fall = 1
fall.recover = 1
envshake.time = 18
envshake.ampl = 20
envshake.freq = 110
envshake.phase = 110

[State 220, ヒット定?]
type = HitDef
triggerall = var(20) = 10
trigger1 = animelemtime(5) = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 18, 4
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 1, 7
getpower = 20,6
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-1
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
p2stateno = 702

[State 220, ヒット定?]
type = HitDef
triggerall = var(20) = 10
trigger1 = animelemtime(6) = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 18, 4
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 1, 7
getpower = 20,6
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-1
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
p2stateno = 702

[State 220, ヒット定?]
type = HitDef
triggerall = var(20) = 10
trigger1 = animelemtime(7) = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 18, 4
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 1, 7
getpower = 20,6
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-1
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
p2stateno = 702

[State 220, ヒット定?]
type = HitDef
triggerall = var(20) = 10
trigger1 = animelemtime(8) = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 18, 4
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 1, 7
getpower = 20,6
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-1
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
p2stateno = 702

[State 220, ヒット定?]
type = HitDef
triggerall = var(20) = 10
trigger1 = animelemtime(9) = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 18, 4
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 1, 7
getpower = 20,6
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-1
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
p2stateno = 702

[State 220, ヒット定?]
type = HitDef
triggerall = var(20) = 10
trigger1 = animelemtime(10) = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 18, 4
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 1, 7
getpower = 20,6
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-1
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
p2stateno = 702

[State 220, ヒット定?]
type = HitDef
triggerall = var(20) = 10
trigger1 = animelemtime(11) = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 18, 4
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 1, 7
getpower = 20,6
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-1
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
p2stateno = 702

[State 220, ヒット定?]
type = HitDef
triggerall = var(20) = 10
trigger1 = animelemtime(12) = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 18, 4
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 1, 7
getpower = 20,6
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-1
fall.recovertime = 22
air.hittime = 21
air.fall = 1
fall.recover = 1
p2stateno = 702

[State 220, ヒット定?]
type = HitDef
triggerall = var(20) = 10
trigger1 = animelemtime(13) = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 50, 4
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 0, 7
getpower = 20,6
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -3.2
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -3,-1
fall.recovertime = 28
air.hittime = 21
air.fall = 1
fall.recover = 1
p2stateno = 702

[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = EnemyNear,stateno = 702
trigger1 = var(20) = 10
trigger1 = movehit
value = -30
absolute = 1
persistent = 0

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
triggerall = movehit
trigger1 = animelemtime(5) = [0,1]
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
triggerall = movehit
trigger1 = animelemtime(6) = [0,2]
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
triggerall = movehit
trigger1 = animelemtime(7) = [0,1]
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
triggerall = movehit
trigger1 = animelemtime(8) = [0,2]
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
triggerall = movehit
trigger1 = animelemtime(9) = [0,1]
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
triggerall = movehit
trigger1 = animelemtime(10) = [0,2]
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
triggerall = movehit
trigger1 = animelemtime(11) = [0,1]
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
triggerall = movehit
trigger1 = animelemtime(12) = [0,2]
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
triggerall = movehit
trigger1 = animelemtime(13) = [0,3]
Stateno  = 8502
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999
;Size.XScale = 0.5
;Size.YScale = 0.5

[State 220, 音を鳴らす]
type = PlaySnd
triggerall = movehit
trigger1 = animelemtime(13) = [0,3]
value = 1130, 0
persistent = 0

[State -2]
Type     = Helper
trigger1 = EnemyNear,stateno = 702
trigger1 = var(20) = 10
trigger1 = movehit
Stateno  = 705
ID       = 705
pos = 0,0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999

[State -3,]
type = Varadd
triggerall = movehit
trigger1 = animelemtime(5) = [0,1]
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
triggerall = movehit
trigger1 = animelemtime(6) = [0,2]
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
triggerall = movehit
trigger1 = animelemtime(7) = [0,1]
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
triggerall = movehit
trigger1 = animelemtime(8) = [0,2]
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
triggerall = movehit
trigger1 = animelemtime(9) = [0,1]
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
triggerall = movehit
trigger1 = animelemtime(10) = [0,2]
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
triggerall = movehit
trigger1 = animelemtime(11) = [0,1]
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
triggerall = movehit
trigger1 = animelemtime(12) = [0,2]
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
triggerall = movehit
trigger1 = animelemtime(13) = [0,3]
v = 21
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
triggerall = moveguarded
trigger1 = animelemtime(5) = [0,1]
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
triggerall = moveguarded
trigger1 = animelemtime(6) = [0,2]
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
triggerall = moveguarded
trigger1 = animelemtime(7) = [0,1]
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
triggerall = moveguarded
trigger1 = animelemtime(8) = [0,2]
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
triggerall = moveguarded
trigger1 = animelemtime(9) = [0,1]
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
triggerall = moveguarded
trigger1 = animelemtime(10) = [0,2]
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
triggerall = moveguarded
trigger1 = animelemtime(11) = [0,1]
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
triggerall = moveguarded
trigger1 = animelemtime(12) = [0,2]
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State -3,]
type = Varadd
triggerall = moveguarded
trigger1 = animelemtime(13) = [0,3]
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0



[State 215, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 651, ステ?ト変更]
Type = ChangeState
triggerall = PalNo != 12
trigger1 = var(22) <= 0
Value = 711

[State 900]
Type = Helper
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(12) <= 0
trigger1 = time%2 = 1
Stateno = 1151
ID = 1151
Pos = 30-random%5,-35-random%30
PosType = P1
Keyctrl = 0
helpertype = normal
ownpal = 0

[Statedef 1151]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 1151
sprpriority = 6

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1
scale = 0.6,1.4
value = -90+random%180

[State 6670, AngleDraw]
Type = AngleAdd
Trigger1 = time = 0
Value = -90+random%180

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State 6670, AngleDraw]
Type = trans
Trigger1 = 1
trans = add


[State 2593, 自己消滅]
type = DestroySelf
trigger1 = animTime = 0


;三烈カンフ?突き手
[Statedef 3000]
type     = A
movetype = A
physics  = N
ctrl     = 0
poweradd = -1000
anim     = 3000
sprpriority = 2

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 3

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 3000, 1

[State 1051]
type = Varset
trigger1 = time= 0
V = 11
value = 0

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = 30
Trans          = add
Length         = 15
TimeGap        = 2
FrameGap       = 2
PalBright      = 0 , 0 , 0
PalContrast    = 100 , 150 , 250
PalAdd         = 0 , 0 , 0
PalMul      = .70,.70,.70

[State 220, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = A, HA ;立ち通常打撃（Standing, Normal Attack）
damage = 27, 0
animtype = medium
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 10, 10
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-11
fall.recovertime = 22
air.hittime = 15
air.fall = 1
fall.recover = 1
p2stateno = 30199
kill = 0

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -1]
Type           = AfterImage
Trigger1 = var(11) = 1
Time           = -1
Trans          = add
Length         = 5
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 100 , 150 , 250
PalAdd         = 0 , 0 , 0
PalMul      = .70,.70,.70

[State 1051]
type = Varset
trigger1 = movehit
V = 11
value = 1

[State 5201,4]
type = NotHitBy
Trigger1 = var(11) = 1
value = SCA
time = 2

[State 1051]
type = Veladd
trigger1 = animelem = 5
x = 8
y = -9

[State 1051]
type = VelAdd
trigger1  = animelemtime(5) >= 0
y = .43

[State 1051]
type = VelAdd
trigger1  = animelemtime(5) >= 0
trigger1  = animelemtime(8) <= 0
x = -0.4

[State 651, ステ?ト変更]
Type = ChangeState
Trigger1 = var(11) = 1
Trigger1 = Time > 40
Trigger1 = Pos Y >= 0 && Vel Y > 0
Value = 3010

[State 651, ステ?ト変更]
Type = ChangeState
Trigger1 = var(11) = 0
Trigger1 = Time > 40
Trigger1 = Pos Y >= 0 && Vel Y > 0
Value = 52

[Statedef 3010]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3010
ctrl = 0
sprpriority = 2

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1010, 2
freqmul = 0.75

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = time = 35
value = 20, 1

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = time = 35
value = 1010, 0
freqmul = 0.6

[State 2000]
type =allPalFx
trigger1 = time = 35
add = 256,256,256
sinadd = -256,-256,-256,40
time = 10

[State -1]
type = assertspecial
trigger1 = time >= 35
flag = nobg
flag2 = nofg
;flag3 = nobardisplay
pausemovetime = 9999
supermovetime = 9999

[state 6500,1]
type = EnvShake
trigger1 = time = 35
time = 15
ampl = -20
freq = 95
phase = 95

[State 1020]
type = SuperPause
trigger1 = time = 35
time = 30
movetime = 30
anim = -1
sound = S20,0
pos = 999,999
darken = 0
poweradd = -1000
unhittable = 1

[State 3000]
type = Explod
trigger1 = time = 35
anim = 7600
postype = p1
pos = -18,-13
sprpriority = 10
supermove = -1
bindtime = -1
ownpal = 1
trans = add

[State 3000]
type = Explod
trigger1 = time = 35
anim = 7602
postype = p1
pos = -18,-13
sprpriority = 10
supermove = -1
bindtime = -1
ownpal = 1
trans = add
scale = 2,2

[State -2]
Type     = Helper
trigger1 = (GameTime%2) = 1
trigger1 = time = [35,40]
Stateno  = 6010
ID       = 6010
pos = -18,-13
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
persistent = 0
ownpal = 0

[State -2]
Type     = Helper
Trigger1 = time = 35
Stateno  = 6011
ID       = 6010
pos = -18,-13
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
persistent = 0
ownpal = 0

[State -2]
Type     = Helper
Trigger1 = time = 35
Stateno  = 6012
ID       = 6010
pos = -18,-13
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
persistent = 0
ownpal = 0

[State -2]
Type     = Helper
Trigger1 = time = 35
Stateno  = 6013
ID       = 6010
pos = -18,-13
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
persistent = 0
ownpal = 0

[State 3000, ステ?ト変更]
type = ChangeState
trigger1 = Time >= 75
value = 3011
ctrl = 0

[Statedef 3011]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = 2

[State -1]
Type           = AfterImage
Trigger1 = var(11) = 1
Time           = -1
Trans          = add
Length         = 5
TimeGap        = 1
FrameGap       = 1
PalBright      = 0 , 0 , 0
PalContrast    = 120 , 170 , 250
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[State 100, 4]
type           = Explod
Trigger1 = time = 0
anim           = 3011
sprpriority    = 6
postype        = p1
pos = 0,0
vel = 50,0
bindtime       = 1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add

[State 100, 4]
type           = Explod
trigger1= time = 7
anim           = 1021
sprpriority    = 0
postype        = p1
pos            = 114,0
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
trans = add
scale = 0.5,0.5

[State 100, 4]
type           = Explod
trigger1= time = 5
anim           = 1021
sprpriority    = 0
postype        = p1
pos            = 77,0
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
trans = add
scale = 0.5,0.5

[State 100, 4]
type           = Explod
trigger1= time = 3
anim           = 1021
sprpriority    = 0
postype        = p1
pos            = 0,0
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
trans = add
scale = 0.5,0.5

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 0
freqmul = 2

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000, 4

[State 3000, ステ?ト変更]
type = ChangeState
trigger1 = Time >= 11
value = 3015
ctrl = 0

[StateDef 3012]
MoveType    = A
Physics     = N
Anim        = 3015
SprPriority = 3
facep2 = 1

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 810, 掴んだ相手のステ?ト変更]
type = TargetState
trigger1 = animelem = 10
value = 3021

[State 3000, ステ?ト変更]
type = ChangeState
trigger1 = time >= 5
value = 3013

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 0
freqmul = 2

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000, 4

[State 3050, 音を鳴らす]
type = Posadd
trigger1 = time = 0
X = -200

[State 3050, 音を鳴らす]
type = Posset
trigger1 = 1
Y = 0

[State -1]
Type     = VelSet
Trigger1 = Time = 0
X        = 75
Y = 0

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State 6670, AngleDraw]
Type = trans
Trigger1 = 1
trans = add

[Statedef 3013]
type    = S
movetype= A
physics = S
anim = 3012
ctrl = 0
sprpriority = 2

[State 100, 4]
type           = Explod
trigger1= animelem = 1
anim           = 1021
sprpriority    = 0
postype        = p1
pos            = -345,0
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
trans = add

[State 100, 4]
type           = Explod
trigger1= animelem = 2
anim           = 1021
sprpriority    = 0
postype        = p1
pos            = -230,0
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
trans = add

[State 100, 4]
type           = Explod
trigger1= animelem = 3
anim           = 1021
sprpriority    = 0
postype        = p1
pos            = -115,0
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
trans = add

[State -2, EnvColor]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
time = 2
under = 1
ignorehitpause = 1
persistent = 0

[state a];ヒット数
type = hitadd
trigger1 = time = 0
value  = 1

[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = time = 0
value = -14
kill = 0

[State -2]
Type     = Helper
trigger1 = animelem = 1
Stateno  = 8501
ID       = 8501
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999

[State 810, 振り返る]
type = null;Turn
trigger1 = time = 0

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3000, 2

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 9
value = 3000, 0

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 9
value = 3000, 3

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 9
value = 1010, 2
freqmul = 0.75

[state a];ヒット数
type = hitadd
trigger1 = animelem = 9
value  = 1

[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = animelem = 9
value = -105

[State 810, 掴んだ相手のステ?ト変更]
type = TargetState
trigger1 = animelem = 9
value = 3022

[State 100, 4]
type           = Explod
trigger1 = animelem = 9
anim           = 6301
sprpriority    = 6
postype        = p1
pos            = -18,-15
scale          = 0.5,0.5
bindtime       = 1
ownpal         = 1
ignorehitpause = 1
removeongethit = 1
trans = add

[State -1]
Type           = AfterImage
trigger1 = animelem = 10
Time           = 1

[State -1]
Type     = VelSet
Trigger1 = Time = 0
X        = 6
Y = 0

[State -1]
Type     = VelSet
Trigger1 = animelemTime(6) = 0
X        = 3

[State -1]
Type     = VelSet
Trigger1 = animelemTime(7) = 0
X        = 0

[State -2]
Type     = Helper
trigger1 = animelem = 9
Stateno  = 8501
ID       = 8501
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999

[State 346, Explod]
type = Explod
trigger1 = animelem = 9
ID       = 8705
anim = 8705
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
scale = 1.5,1.5
bindtime = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0
sprpriority = 10
ignorehitpause = 1
trans = add

[State 3000, ステ?ト変更]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

[StateDef 3015]
MoveType    = A
Physics     = N
Anim        = 3015
SprPriority = 3
facep2 = 1

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 3000, ステ?ト変更]
type = ChangeState
trigger1 = time >= 5
value = 3016

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 0
freqmul = 2

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000, 4

[State 3050, 音を鳴らす]
type = Posadd
trigger1 = time = 0
X = -200
Y = 60-(random%160)

[State -1]
Type     = VelSet
Trigger1 = Time = 0
X        = 95*((P2Dist X)/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))
Y        = 65*((P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))

[State -1]
Type = AngleSet
Trigger1 = (Vel X != 0)
Value = ATan(Vel Y/Vel X)*(-180.0/Pi)+((Vel X<0)*180)
IgnoreHitPause = 1

[State -1]
Type = AngleSet
Trigger1 = (Vel X = 0)
Value = IfElse(Vel Y<0,90,-90)
IgnoreHitPause = 1

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale    = 1,1

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State 6100, fadeout]
type = trans
trigger1 = 1
trans = addalpha
alpha = 100,250

[StateDef 3017]
MoveType    = A
Physics     = N
Anim        = 3015
SprPriority = 3
facep2 = 1

[State 1];カメラ固定
type = screenbound
trigger1 = 1
movecamera = 0,0

[State 3000, ステ?ト変更]
type = ChangeState
trigger1 = time >= 5
value = 3018

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 0
freqmul = 2

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000, 4

[State 3050, 音を鳴らす]
type = Posadd
trigger1 = time = 0
X = -200
Y = 60-(random%120)


[State -1]
Type     = VelSet
Trigger1 = Time = 0
X        = 95*((P2Dist X)/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))
Y        = 95*((P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))/(Abs(P2Dist X)+Abs(P2Dist Y+(EnemyNear,Const(Size.Mid.Pos.Y)))+.0000001))

[State -1]
Type = AngleSet
Trigger1 = (Vel X != 0)
Value = ATan(Vel Y/Vel X)*(-180.0/Pi)+((Vel X<0)*180)
IgnoreHitPause = 1

[State -1]
Type = AngleSet
Trigger1 = (Vel X = 0)
Value = IfElse(Vel Y<0,90,-90)
IgnoreHitPause = 1

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale    = 1,1

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State 6100, fadeout]
type = trans
trigger1 = 1
trans = addalpha
alpha = 100,250

[StateDef 3016]
MoveType    = A
Physics     = N
SprPriority = 3
anim = 3016

[State 1];カメラ固定
type = screenbound
trigger1 = 1
movecamera = 0,0

[State 900]
Type = null;VelSet
Trigger1 = Time = 0
X = -6

[State -2, EnvColor]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
time = 2
under = 1
ignorehitpause = 1
persistent = 0

[state a];ヒット数
type = hitadd
trigger1 = time = 0
value  = 1

[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = time = 0
value = -15
kill = 0

[State 810, 掴んだ相手のステ?ト変更]
type = TargetState
trigger1 = time = 0
value = 3021

[State -2]
Type     = Helper
triggerall = numhelper(8501) <= 15
trigger1 = time = 0
Stateno  = 8501
ID       = 8501
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999

[State 6100, fadeout]
type = trans
trigger1 = 1
trans = addalpha
alpha = 100,250

[State 900]
Type = VelSet
Trigger1 = vel Y >= 4
Y = 6

[State 900]
Type = VelSet
Trigger1 = vel Y <= -4
Y = -4

[State 1];カメラ固定
type = null;screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 6100, fadeout]
type = varadd
trigger1 = time = 0
V = 11
value = 1

[State 5201,4]
type = NotHitBy
Trigger1 = var(11) = 1
value = SCA
time = 2

[State 3000, ステ?ト変更]
type = changestate
trigger1 = var(11) >= 11
trigger1 = animtime = 0
value = 3012
ctrl = 0

[State 3000, ステ?ト変更]
type = changestate
trigger1 = var(11) <= 10
trigger1 = animtime = 0
value = 3017
ctrl = 0

[StateDef 3018]
MoveType    = A
Physics     = N
SprPriority = 3
anim = 3016

[State 1];カメラ固定
type = screenbound
trigger1 = 1
movecamera = 0,0

[State -2, EnvColor]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
time = 2
under = 1
ignorehitpause = 1
persistent = 0

[state a];ヒット数
type = hitadd
trigger1 = time = 0
value  = 1

[State 810, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = time = 0
value = -15
kill = 0

[State 810, 掴んだ相手のステ?ト変更]
type = TargetState
trigger1 = time = 0
value = 3020

[State -2]
Type     = Helper
triggerall = numhelper(8501) <= 15
trigger1 = time = 0
Stateno  = 8501
ID       = 8502
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999

[State 6100, fadeout]
type = trans
trigger1 = 1
trans = addalpha
alpha = 100,250

[State 1];カメラ固定
type = null;screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 900]
Type = null;VelSet
Trigger1 = Time = 0
X = -6

[State 900]
Type = VelSet
Trigger1 = vel Y >= 4
Y = 4

[State 900]
Type = VelSet
Trigger1 = vel Y <= -4
Y = -4

[State 6100, fadeout]
type = varadd
trigger1 = time = 0
V = 11
value = 1

[State 3000, ステ?ト変更]
type = changestate
trigger1 = var(11) >= 11
trigger1 = animtime = 0
value = 3012
ctrl = 0

[State 3000, ステ?ト変更]
type = changestate
trigger1 = var(11) <= 10
trigger1 = animtime = 0
value = 3017
ctrl = 0

[State 3000, ステ?ト変更]
type = changestate
trigger1 = animtime = 0
value = 3015
ctrl = 0

[Statedef 3019]
type    = S
movetype= H
physics = S
velset = 0,0
ctrl = 0
sprpriority = 0

[state a]
type = PlayerPush
Trigger1 = 1
value = 0

[State 3242, ChangeState]
type = changeanim
trigger1 = time = 0
value = 5300

[State 1000, ]
type = Velset
trigger1 = time = 0
Y = 0

[State 1000, ]
type = Velset
Trigger1 = BackEdgeBodyDist <= 40
x = 0

[State 1000, ]
type = Velset
Trigger1 = BackEdgeBodyDist <= 60
x = 3

[State 1000, ]
type = Velset
Trigger1 = BackEdgeBodyDist <= 70
x = 4

[State 1000, ]
type = Velset
Trigger1 = BackEdgeBodyDist <= 80
x = 8

[State 1000, ]
type = posset
trigger1 = 1
y = 0

[State 3242, ChangeState]
Type = selfState
trigger1 = time >= 200
value = 0
ctrl = 1

[Statedef 30199]
type    = S
movetype= H
physics = S
velset = 0,0
ctrl = 0
sprpriority = 0

[State 902, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[state a]
type = PlayerPush
Trigger1 = 1
value = 0

[State 3242, ChangeState]
type = changeanim
trigger1 = time = 0
value = 5300

[State 1000, ]
type = Velset
trigger1 = time = 0
Y = 0

[State 1000, ]
type = Velset
Trigger1 =frontEdgeBodyDist <= 40
x = 0

[State 1000, ]
type = Velset
Trigger1 = frontEdgeBodyDist <= 60
x = -3

[State 1000, ]
type = Velset
Trigger1 = frontEdgeBodyDist <= 70
x = -4

[State 1000, ]
type = Velset
Trigger1 = frontEdgeBodyDist <= 80
x = -8

[State 1000, ]
type = Velset
Trigger1 = BackEdgeBodyDist <= 40
x = 0

[State 1000, ]
type = Velset
Trigger1 = BackEdgeBodyDist <= 60
x = 3

[State 1000, ]
type = Velset
Trigger1 = BackEdgeBodyDist <= 70
x = 4

[State 1000, ]
type = Velset
Trigger1 = BackEdgeBodyDist <= 80
x = 8

[State 1000, ]
type = posset
trigger1 = 1
y = 0

[State 3242, ChangeState]
Type = selfState
trigger1 = time >= 200
value = 0
ctrl = 1

[Statedef 3020]
type    = S
movetype= H
physics = S
velset = 0,0
ctrl = 0
sprpriority = 0

[State 902, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000, ]
type = Velset
trigger1 = time = 0
x = 0
Y = 0

[State 1000, ]
type = posset
trigger1 = 1
y = 0

[State 3242, ChangeState]
type = changeanim2 
trigger1 = time =0
value = 3020+(random%2)

[State 3242, ChangeState]
Type = selfState
trigger1 = time >= 200
value = 0
ctrl = 1

[Statedef 3021]
type    = S
movetype= H
physics = S
velset = 0,0
ctrl = 0
sprpriority = 0

[State 902, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000, ]
type = Velset
trigger1 = time = 0
x = 0
Y = 0

[State 1000, ]
type = posset
trigger1 = 1
y = 0

[State 3242, ChangeState]
type = changeanim2 
trigger1 = time =0
value = 3023

[State 3242, ChangeState]
Type = selfState
trigger1 = time >= 200
value = 0
ctrl = 1

[Statedef 3022]
type = S
movetype = H
physics = S
velset = 0,0
ctrl = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 902, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3003, ChangeAnim]
type = ChangeAnim2
trigger1 = Time = 0
value = 3025

[State 3003, ChangeAnim]
type = ChangeAnim
trigger1 = anim =  3025 && animtime = 0
value = 5080

[State 105, 1]
type = statetypeset
triggerall = Anim = 5080
trigger1 = AnimElemTime(AnimElemNo(0)+1)=0
statetype = L

[State 3450,1]
type = ChangeAnim
triggerall = Anim = 5080
trigger1 = AnimElemTime(AnimElemNo(0)+1)=0
value = 5110

[State 1100, Velocity]
type = null;VelSet
trigger1 = Time = 16
x = 0

[State 3002, ChangeAnim]
type = SelfState
triggerall = Time >= 80
trigger1 = anim = 5110
trigger2 = Time >= 230
value = ifelse(alive, 5120, 5150)

[Statedef 3100]
type     = A
movetype = A
physics  = N
ctrl     = 0
poweradd = -1000
anim     = 3000
sprpriority = 2

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 3

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 3000, 1

[State 1051]
type = Varset
trigger1 = time= 0
V = 11
value = 0

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = 30
Trans          = add
Length         = 15
TimeGap        = 2
FrameGap       = 2
PalBright      = 0 , 0 , 0
PalContrast    = 100 , 150 , 250
PalAdd         = 0 , 0 , 0
PalMul      = .70,.70,.70

[State 220, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = A, HA ;立ち通常打撃（Standing, Normal Attack）
damage = 60, 0
animtype = medium
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 10, 10
getpower = 10,2
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1, 2
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -2,-11
fall.recovertime = 22
air.hittime = 15
air.fall = 1
fall.recover = 1
p2stateno = 3019
kill = 0

[State -2]
Type     = Helper
triggerall = numhelper(8500) <= 15
trigger1 = movehit
Stateno  = 8500
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999
Size.XScale = 0.5
Size.YScale = 0.5

[State -1]
Type           = AfterImage
Trigger1 = var(11) = 1
Time           = -1
Trans          = add
Length         = 15
TimeGap        = 2
FrameGap       = 2
PalBright      = 0 , 0 , 0
PalContrast    = 100 , 150 , 250
PalAdd         = 0 , 0 , 0
PalMul      = .70,.70,.70

[State 1051]
type = Varset
trigger1 = movehit
V = 11
value = 1

[State 1051]
type = Velset
trigger1 = animelem = 5
x = 8
y = -9

[State 1051]
type = VelAdd
trigger1  = animelemtime(5) >= 0
y = .43

[State 1051]
type = VelAdd
trigger1  = animelemtime(5) >= 0
trigger1  = animelemtime(8) <= 0
x = -0.4

[State 651, ステ?ト変更]
Type = ChangeState
Trigger1 = var(11) = 1
Trigger1 = Time > 40
Trigger1 = Pos Y >= 0 && Vel Y > 0
Value = 3110

[State 651, ステ?ト変更]
Type = ChangeState
Trigger1 = var(11) = 0
Trigger1 = Time > 40
Trigger1 = Pos Y >= 0 && Vel Y > 0
Value = 52

[Statedef 3116]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 3105
ctrl = 0
sprpriority = 10

[State 6670, AngleDraw]
Type = trans
Trigger1 = 1
trans = add

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
Flag2 = invisible
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -3,]
type = AttackMulSet
trigger1 = root,Var(10) > 0
trigger1 = root,Var(10) < 10
trigger1 = root,PalNo != 12
value = 1.0 - (root,var(10) * 0.06)
IgnoreHitPause = 1

[State 220, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, HA ;立ち通常打撃（Standing, Normal Attack）
damage = 82, 7
animtype = diagup
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 0, 10
getpower = 0,0
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S3100,2
guardsound = S120,0
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -5,-15
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -5,-15
air.hittime = 21
fall = 1
fall.recover = 0
palfx.time = 70
palfx.add = 180,180,210
palfx.mul = 200,200,200
palfx.sinadd = 80,80,80,10
palfx.invertall = 1

[state -1]
type = null;angledraw
trigger1 = 1
scale    = 1.3,0.7

[State 1000, 5]
type = destroyself
trigger1 = animtime = 0
Trigger2 = !(ScreenPos X = [-100,420])


[Statedef 3117]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999
sprpriority = 3
velset = 0,0

[State a]
type = Explod
trigger1 = time%2 = 1
anim = 6801
id = 6801
sprpriority = 5
postype = p1
pos = 5 - (random%10),20- (random%10)
bindtime = 1
scale= 0.7,0.7
under = 0
ownpal = 1
persistent = 1
vel = 3,-6 + (random%2)
ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add
removeongethit = 1

[State 3020, Helper]
Type = Helper
Trigger1 = time = 2
PosType = P1
Pos = 30, 0
ID = 3117
StateNo = 3117
PauseMoveTime = 9999999
supermovetime = 9999
persistent = 0
helpertype = normal

[State 2389]
type = Explod
trigger1 = time = 0
anim = 3106
id = 3106
postype = p1
pos =  0,70
sprpriority = 99
supermove = 1
pausemovetime = 9999999
ownpal = 1
removeongethit = 0
bindtime = -1
trans = add

[State 1000, 5]
type = destroyself
trigger1 = time >= 5
Trigger2 = !(ScreenPos X = [-100,420])




[Statedef 3110]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3100
ctrl = 0
sprpriority = 2
facep2 = 1

[State 220, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 50, 1
animtype = medium
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 8, 8
getpower = 0,0
givepower = 6,2
sparkno = S8100
sparkxy = -15, -70+random%41
hitsound = S1020,1
guardsound = S120, 0
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -10,-6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -10,-6
air.hittime = 21
fall = 1
fall.recover = 0


[State -2]
Type     = Helper
triggerall = numhelper(8502) = 0
trigger1 = movehit
Stateno  = 8502
ID       = 8502
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
ownpal = 0 
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1, 7
freqmul = 1

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1, 7
freqmul = 0.9

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1, 7
freqmul = 0.8

[State 100, 4]
type           = Explod
trigger1= animelem = 3
anim           = 3101
sprpriority    = 10
postype        = p1
pos            = 12,-25
bindtime       = -1
ownpal         = 1
ignorehitpause = 1
trans = add

[State -1]
Type           = AfterImage
trigger1 = animelem = 14
Time           = 1

[State 820, 1]
type = EnvShake
trigger1 = AnimElem = 3
time = 10
ampl = 25
freq = 100

[State 2000]
type =allPalFx
trigger1= animelem = 3
add = 256,256,256
sinadd = -256,-256,-256,40
time = 10

[State 220, 音を鳴らす]
type = PlaySnd
trigger1= animelem = 3
value = 20, 1

[State 220, 音を鳴らす]
type = PlaySnd
trigger1= animelem = 3
value = 1010, 0
freqmul = 0.6

[State 2000]
type =allPalFx
trigger1= animelem = 3
add = 256,256,256
sinadd = -256,-256,-256,40
time = 10

[State -1]
type = assertspecial
trigger1 = animelemtime(3) = [0,30]
flag = nobg
flag2 = nofg
;flag3 = nobardisplay
pausemovetime = 9999
supermovetime = 9999

[State 3000]
type = Explod
trigger1= animelem = 3
anim = 7600
postype = p1
pos = 8,-26
sprpriority = 10
supermove = -1
bindtime = -1
ownpal = 1
trans = add

[State 3000]
type = Explod
trigger1= animelem = 3
anim = 7602
postype = p1
pos = 8,-26
sprpriority = 10
supermove = -1
bindtime = -1
ownpal = 1
trans = add
scale = 2,2

[State 3000]
type = Explod
trigger1= animelem = 3
anim = 6101
postype = p1
scale = 0.9,0.9
pos = 8,-26
sprpriority = 15
supermove = -1
bindtime = -1
ownpal = 1
trans = add

[State 900]
Type = Helper
trigger1 = animelem = 3
Stateno = 9500
ID = 9500
Pos      = 8,-26
PosType = P1
Keyctrl = 0
helpertype = normal
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
ownpal = 0

[State -2]
Type     = Helper
trigger1 = animelemtime(3) = 10
Trigger1 = time%3 = 1
Stateno  = 6015
ID       = 6015
Pos      = 8,-26
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
ownpal = 0

[State -2]
Type     = Helper
trigger1 = animelemtime(3) = 10
Trigger1 = time%3 = 1
Stateno  = 6015
ID       = 6015
Pos      = 8,-26
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
ownpal = 0

[State -2]
Type     = Helper
trigger1 = animelemtime(3) = 10
Trigger1 = time%3 = 1
Stateno  = 6015
ID       = 6015
Pos      = 8,-26
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
ownpal = 0

[State 900]
Type = Helper
trigger1 = animelem = 9
Stateno = 3111
ID = 3111
Pos = 0,0
PosType = P1
Keyctrl = 0
helpertype = normal
ownpal = 0

[State 900]
Type = Helper
trigger1 = animelem = 3
Stateno = 3113
ID = 3113
Pos = 0,0
PosType = P1
Keyctrl = 0
helpertype = normal
ownpal = 0

[State 900]
Type = Helper
trigger1 = animelem = 11
Stateno = 3116
ID = 3116
Pos = 25,0
PosType = P1
Keyctrl = 0
helpertype = normal
ownpal = 0
Size.XScale = 0.5
Size.YScale = 0.5

[State 900]
Type = Helper
trigger1 = animelem = 12
Stateno = 3116
ID = 3116
Pos = 75,0
PosType = P1
Keyctrl = 0
helpertype = normal
ownpal = 0
Size.XScale = 0.75
Size.YScale = 0.75

[State 900]
Type = Helper
trigger1 = animelem = 12
Stateno = 3116
ID = 3116
Pos = 125,0
PosType = P1
Keyctrl = 0
helpertype = normal
ownpal = 0
Size.XScale = 1.25
Size.YScale = 1.25

[State 900]
Type = Helper
trigger1 = animelem = 12
Stateno = 3116
ID = 3116
Pos = 175,0
PosType = P1
Keyctrl = 0
helpertype = normal
ownpal = 0
Size.XScale = 0.75
Size.YScale = 0.75

[State 900]
Type = Helper
trigger1 = animelem = 12
Stateno = 3116
ID = 3116
Pos = 225,0
PosType = P1
Keyctrl = 0
helpertype = normal
ownpal = 0
Size.XScale = 0.5
Size.YScale = 0.5



[State 3020, Helper]
Type = null;Helper
trigger1 = animelem = 12
PosType = P1
Pos = 10, 0
ID = 3117
StateNo = 3117
PauseMoveTime = 9999999
supermovetime = 9999
persistent = 0
helpertype = normal


[State a]
type = Explod
trigger1 = animelemtime(12) >= 0
trigger1 = animelemtime(15) <= 0
trigger1 = (GameTime%2) = 1
anim = 6802
sprpriority = 5
postype = p1
pos = 225 - (random%100),0 
scale = 0.5,0.5
bindtime = 1
under = 0
ownpal = 1
persistent = 1
vel = 0,-7 + (random%3)
ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State -1]
type = Explod
trigger1 = AnimElem = 12
anim = 4523
id = 4525
scale = 1.7,1.2
sprpriority = 8
postype = p1
pos = 175,10
bindtime = 1
under = 0
ownpal = 1
ignorehitpause = 1
removetime = -1
trans = add
removeongethit = 1

[State -1]
type = Explod
trigger1 = AnimElem = 12
anim = 4519
id = 4525
scale = 1.31,1
sprpriority = 8
postype = p1
pos = 175,10
bindtime = 1
under = 0
ownpal = 1
ignorehitpause = 1
removetime = -1
trans = add
removeongethit = 1

[State -1]
type = removeExplod
trigger1 = AnimElem = 14
id = 4525

[State -1]
type = Explod
trigger1 = AnimElem = 14
anim = 4524
id = 4524
scale = 1.7,1.2
sprpriority = 9
postype = p1
pos = 175,0
bindtime = 1
under = 0
ownpal = 1
ignorehitpause = 1
trans = add

[State -1]
type = Explod
trigger1 = AnimElem = 14
anim = 4524
id = 4524
scale = 1.7,1.2
sprpriority = 9
postype = p1
pos = 175,-313
bindtime = 1
under = 0
ownpal = 1
ignorehitpause = 1
trans = add

[State 820, 1]
type = EnvShake
trigger1 = AnimElemtime(11) >= 0
trigger1 = AnimElemtime(14) <= 0
trigger1 = time%5 = 1
time = 5
ampl = 25
freq = 100

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 12
value = 3100, 4
freqmul = 1

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 12
value = 3100, 0

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 12
value = 3100, 0

[State 3050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 12
value = 3100, 3
freqmul = 1

[State 3000, ステ?ト変更]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

[Statedef 3111]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 3102
sprpriority = 10

[State -1, BindToRoot]
Type = BindToRoot
Trigger1 = Root,Anim = 3100
Trigger1 = Root,MoveType = A
Trigger1 = Root,AnimElem = 9
Time = 10
Pos = -11,-73
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, BindToRoot]
Type = BindToRoot
Trigger1 = Root,Anim = 3100
Trigger1 = Root,MoveType = A
Trigger1 = Root,AnimElem = 10
Time = 10
Pos = 53,-41
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, BindToRoot]
Type = BindToRoot
Trigger1 = Root,Anim = 3100
Trigger1 = Root,MoveType = A
Trigger1 = Root,AnimElemtime(11) >= 0
Time = 10
Pos = 15,-7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 900]
Type = Helper
trigger1       = time = 0
Stateno = 3112
ID = 3112
Pos = 0,0
PosType = P1
Keyctrl = 0
helpertype = normal
ownpal = 0

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State 6670, AngleDraw]
Type = trans
Trigger1 = 1
trans = add

[State 2593, 自己消滅]
type = DestroySelf
trigger1 = animTime = 0

[Statedef 3112]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 3102
sprpriority = 10

[State -1, BindToRoot]
Type = BindToparent
Trigger1 = 1
Time = 1
Pos = 0,0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = Add
Length         = 20
TimeGap        = 2
FrameGap       = 2
PalBright      = 0 , 0 , 0
PalContrast    = 160 , 160 , 160
PalAdd         = 0 , 0 , 0
PalMul      = .70,.70,.70

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1
scale = 1.6-((random%4)*0.1),1.6-((random%4)*0.1)

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = invisible
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State 2593, 自己消滅]
type = DestroySelf
trigger1 = animTime = 0

[Statedef 3113]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 3103
sprpriority = 10

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElem = 3
Value = 40
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElem = 4
Value = 55
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElem = 5
Value = 89
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElem = 6
Value = 160
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElem = 7
Value = 180
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElem = 8
Value = 205
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElem = 9
Value = 150
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElem = 10
Value = 65

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElem = 11
Value = -5

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElemtime(12) >= 0
Value = 0



[State -1, BindToRoot]
Type = BindToRoot
Trigger1 = Root,Anim = 3100
Trigger1 = Root,MoveType = A
Trigger1 = Root,AnimElem = 3
Time = 10
Pos = 12,-25
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, BindToRoot]
Type = BindToRoot
Trigger1 = Root,Anim = 3100
Trigger1 = Root,MoveType = A
Trigger1 = Root,AnimElem = 4
Time = 10
Pos = 20,-33
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, BindToRoot]
Type = BindToRoot
Trigger1 = Root,Anim = 3100
Trigger1 = Root,MoveType = A
Trigger1 = Root,AnimElem = 5
Time = 10
Pos = 23,-58
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, BindToRoot]
Type = BindToRoot
Trigger1 = Root,Anim = 3100
Trigger1 = Root,MoveType = A
Trigger1 = Root,AnimElem = 6
Time = 10
Pos = -19,-74
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, BindToRoot]
Type = BindToRoot
Trigger1 = Root,Anim = 3100
Trigger1 = Root,MoveType = A
Trigger1 = Root,AnimElem = 7
Time = 10
Pos = -35,-68
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, BindToRoot]
Type = BindToRoot
Trigger1 = Root,Anim = 3100
Trigger1 = Root,MoveType = A
Trigger1 = Root,AnimElem = 7
Time = 10
Pos = -43,-58
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, BindToRoot]
Type = BindToRoot
Trigger1 = Root,Anim = 3100
Trigger1 = Root,MoveType = A
Trigger1 = Root,AnimElem = 9
Time = 10
Pos = -11,-73
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, BindToRoot]
Type = BindToRoot
Trigger1 = Root,Anim = 3100
Trigger1 = Root,MoveType = A
Trigger1 = Root,AnimElem = 10
Time = 10
Pos = 53,-41
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, BindToRoot]
Type = BindToRoot
Trigger1 = Root,Anim = 3100
Trigger1 = Root,MoveType = A
Trigger1 = Root,AnimElemtime(11) >= 0
Time = 10
Pos = 15,-7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 900]
Type = Helper
trigger1       = time = 0
Stateno = 3114
ID = 3114
Pos = 0,0
PosType = P1
Keyctrl = 0
helpertype = normal
ownpal = 0

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State 6670, AngleDraw]
Type = trans
Trigger1 = 1
trans = add

[State 2593, 自己消滅]
type = changestate
Trigger1 = Root,Anim = 3100
Trigger1 = Root,MoveType = A
Trigger1 = Root,AnimElemtime(14) >= 0
value = 3115

[Statedef 3114]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 3103
sprpriority = 10

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElem = 3
Value = 40
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElem = 4
Value = 55
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElem = 5
Value = 89
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElem = 6
Value = 160
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElem = 7
Value = 180
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElem = 8
Value = 205
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElem = 9
Value = 150
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElem = 10
Value = 65

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElem = 11
Value = -5

[State 6670, AngleDraw]
Type = Angleset
Trigger1 = Root,Anim = 3100
Trigger1 = Root,AnimElemtime(12) >= 0
Value = 0

[State -1, BindToRoot]
Type = BindToparent
Trigger1 = 1
Time = 1
Pos = 0,0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = Add
Length         = 20
TimeGap        = 2
FrameGap       = 2
PalBright      = 0 , 0 , 0
PalContrast    = 160 , 160 , 160
PalAdd         = 0 , 0 , 0
PalMul      = .70,.70,.70

[State 6670, AngleDraw]
Type = AngleDraw
Trigger1 = 1
scale = 1.3-((random%3)*0.1),1.3-((random%3)*0.1)

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = invisible
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State 2593, 自己消滅]
type = destroyself
Trigger1 = Root,Anim = 3100
Trigger1 = Root,MoveType = A
Trigger1 = Root,AnimElemtime(14) >= 0

[Statedef 3115]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 3104
sprpriority = 10

[State 6670, AngleDraw]
Type = trans
Trigger1 = 1
trans = add

[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = Add
Length         = 20
TimeGap        = 2
FrameGap       = 2
PalBright      = 0 , 0 , 0
PalContrast    = 160 , 160 , 160
PalAdd         = 0 , 0 , 0
PalMul      = .70,.70,.70


[State 2593, 自己消滅]
type = destroyself
Trigger1       = animTime = 0

[Statedef 3200]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1120
sprpriority = 2
poweradd = -1000

[State 5050, 3]
type = trans
trigger1 = animelemtime(3) <= 0
trans = add

[State -2]
Type     = Helper
trigger1 = p2BodyDist Y = [-180,250]
trigger1 = p2BodyDist X >= -280
trigger1 = animelemtime(3) = 0
Stateno  = 3201
ID       = 3201
pos =  0,0
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 

[State 5050, 3]
type = Gravity
trigger1 = animelemtime(3) >= 10

[State 900]
Type = Velset
trigger1 = time = 0
y = 0

[State 900]
Type = VelSet
Trigger1 = Time = 0
X = 100

[State 900]
Type = Velset
trigger1 = animelemtime(3) = 0
x = 4

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 3

[State 220, 音を鳴らす]
type = null;PlaySnd
trigger1 = animelem = 1
value = 3000, 4

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3000, 2

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 0
freqmul = 2

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 1

[State 2591, 着地]
type = ChangeState
trigger1 = helper(3201),movehit
trigger2 = helper(3201),stateno = 3202
value = 3205

[State 2591, 着地]
type = ChangeState
trigger1 = Pos Y > -4
trigger1 = AnimElemTime(4) >= 0
value = 52
ctrl = 1


[Statedef 3201]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1121
sprpriority = 2

[State 220, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 0, 10
animtype = Hard
guardflag = MA
hitflag = MAFL
priority = 7, Hit
pausetime = 7, 7
givepower = 6,2
sparkno = -1
sparkxy = -15, -70+random%41
hitsound = -1
guardsound = S120, 1
guard.sparkno = S8300
ground.type = High
ground.slidetime = 13
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -2.9,-1.6
air.type = High
air.velocity = -4,-3
fall.recovertime = 22
air.hittime = 21
p2stateno = 3206
;p2facing = 1
numhits = 0

[State -3,]
type = parentVaradd
trigger1 = moveguarded
v = 22
value = -1
IgnoreHitPause = 1
persistent = 0

[State 2591, 着地]
type = ChangeState
trigger1 = movehit
value = 3202

[State 215, ステ?ト変更]
type = destroyself
trigger1 = Time >= 1

[Statedef 3202]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1121
sprpriority = 2

[state a]
type = targetstate
trigger1 = time = 90
value = 702

[state a]
type = targetlifeadd
trigger1 =time = 90
value  = -68
kill = 1

[state a]
type = targetlifeadd
trigger1 =time = [70,90]
trigger1 =time%4 = 1
value  = -23
kill = 0

[state a];ヒット数
type = hitadd
trigger1 =time = [70,90]
trigger1 =time%4 = 1
value  = 1

[State 215, ステ?ト変更]
type = destroyself
trigger1 = Time >= 101

[Statedef 3205]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 3201
sprpriority = 2

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1,1

[State 6300]
type = Turn
trigger1 = P2Dist X > 0
trigger1 = time <= 2

[State 3241]
type = Explod
trigger1 = time = 0
persistent = 0
anim = 7400
postype = left
pos = 0,0;ifelse(facing=-1,0,-320),0
scale = 0.5,0.5
sprpriority = -9999999999
bindtime = -1
removetime = -1
removeongethit = 1
ID = 7400
ownpal = 1

[State a]
type = Explod
trigger1 = animelemtime(1) <= 90
trigger1 =time%9 = 1
anim = 6802
ID = 7400
sprpriority = 999
postype = right
pos = 20 - (random%18),240 - (random%240)
scale = 0.4,0.4 
bindtime = 1
under = 0
ownpal = 1
persistent = 1
accel = -0.005, -0.01
vel = -5 - (random%2),1.5 - (random%3)
ignorehitpause = 1
pausemovetime = 999999999999999
supermovetime = 999999999999999
trans = add

[State 3240]
type = AssertSpecial
trigger1 = animelemtime(1) <= 90
flag = nobardisplay
flag2 = nomusic
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State 3240]
type = AssertSpecial
trigger1 = animelemtime(1) <= 90
trigger1 = 1
flag = nobg
flag2 = nofg
ignorehitpause = 1
pausemovetime = 999
supermovetime = 999

[State 3241]
type = removeExplod
trigger1 = animelemtime(1) <= 90
id = 7121

[State 3241]
type = removeExplod
trigger1 = animelemtime(1) <= 90
id = 7120

[State 3241]
type = removeExplod
trigger1 = animelemtime(1) <= 90
id = 7100

[State 3241]
type = removeExplod
trigger1 = animelemtime(1) <= 90
id = 7000

[State 00]
type = allPalfx
trigger1 = time =0
time = 10
add = 250,250,250
sinadd = -250,-250,-250,40

[State 00]
type = allPalfx
trigger1 = time = 90
time = 30
add = 250,250,250
sinadd = -250,-250,-250,120

[State 2000]
type = removeexplod
trigger1 = time = 91
id = 7400

[State -2]
type = PalFX
trigger1 = animelemtime(1) <= 90
time = 1
add = -255,-255,-200

[State 5050, 3]
type = Gravity
trigger1 = animelemtime(1) >= 100

[State 900]
Type = posset
trigger1 = time = 0
X = 100
y = -60

[State 900]
Type = Velset
trigger1 = time = 0
y = 0

[State 900]
Type = VelSet
Trigger1 = Time <= 2
X = 0.2

[State 900]
Type = Velset
trigger1 = animelemtime(2) = 0
x = 1

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 =time = 70
value = 0, 3

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 =time = 70
value = 3000, 4

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 =time = 70
value = 3000, 2

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 =time = 90
value = 1, 6

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 =time = 70
value = 3000, 0

[State 220, 音を鳴らす]
type = PlaySnd
trigger1 =time = 90
value = 800, 0

[State 2591, 着地]
type = ChangeState
trigger1 = Pos Y > -3
trigger1 = AnimElemTime(2) >= 0
value = 52
ctrl = 1

[State 100, 4]
type           = Explod
trigger1 =time = 90
anim           = 7401
sprpriority    = 10
postype        = left
pos            = 0,0
scale          = 1,1 
bindtime       = -1
ownpal         = 1
ontop = 1
ignorehitpause = 1
removeongethit = 1
trans = add
persistent = 0
supermovetime = 25
pausemovetime = 25

[State -2]
Type     = Helper
trigger1 =time = [70,90]
trigger1 =time%4 = 1
Stateno  = 8502
ID       = 8500
pos = -10 + (random%10),-60 + (random%20)
PosType  = P2
Keyctrl  = 0
IgnoreHitPause = 1
ownpal = 1 
supermovetime = 5;9999
pausemovetime = 5;9999

[Statedef 3206]
type     = A                     ;キャラの状態を指定（S=立ち・C=しゃがみ・A=空中・L=横に?れている・U=前のステ?トの状態を引き継ぐ）
movetype = H                     ;キャラの行動内容を指定（I=何もしない・A=攻撃している・H=攻撃を食らっている）
physics  = N                     ;キャラの物理的な体勢（S=立ち・C=しゃがみ・A=空中・N=重力や?擦の影響を受けない・U=前のステ?トの体勢を引き継ぐ）
juggle   = 0                     ;攻撃を当てた時に溜まるジャグル?イントの設定
ctrl     = 0                     ;コントロ?ルの可否（0=キ??作不可・1=キ??作可?）
poweradd = 0                   ;パワ?ゲ?ジの増加量を設定
velset = 0,0
sprpriority = 0                  ;画像?示優先度?数値が多いと手前に、少ないと奥に優先されます
facep2 = 1

[State 900]
Type = posset
trigger1 = time = 0
X = -110
y = -60

[State -2]
type = PalFX
trigger1 = 1
time = 1
add = -255,-255,-200

[State 221]
type = nothitby
trigger1 = 1
value = SCA,AA,AT,AP
time = 2

[State 221]
type = changeanim2
trigger1 = 1
value = 5035

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1,1

[State 222, 相手ステ?トに戻す]
type = SelfState
trigger1 = Time > 200
value = 5100



[StateDef 7000]
Physics = N
SprPriority = 9999

[state 6506,1]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[State -1]
Type = Explod
trigger1 = root,palno != 12
trigger1 = root,stateno != 3205
trigger1 = roundstate = 2
Trigger1 = teamside = 1
Anim = 7115-root,var(22)
ID = 7100
Pos = 16,222
PosType = left
BindTime = -1
ontop = 1
Ownpal = 1
SprPriority = 10
RemoveTime = 1
SuperMove   = 1
PauseMoveTime  = -1
IgnoreHitPause = 1
trans = add
scale = 0.25,0.25

[State -1]
Type = Explod
trigger1 = root,palno != 12
trigger1 = root,stateno != 3205
trigger1 = roundstate = 2
Trigger1 = teamside = 1
Anim = 7115-root,var(21)
ID = 7100
Pos = 25,222
PosType = left
BindTime = -1
ontop = 1
Ownpal = 1
SprPriority = 10
RemoveTime = 1
SuperMove   = 1
PauseMoveTime  = -1
IgnoreHitPause = 1
trans = add
scale = 0.5,0.5

[State -1]
Type = Explod
trigger1 = root,palno = 12
trigger1 = root,stateno != 3205
trigger1 = roundstate = 2
Trigger1 = teamside = 1
Anim = 7116
ID = 7100
Pos = 25,222
PosType = left
BindTime = -1
ontop = 1
Ownpal = 1
SprPriority = 10
RemoveTime = 1
SuperMove   = 1
PauseMoveTime  = -1
IgnoreHitPause = 1
trans = add
scale = 0.5,0.5

[State -1]
Type = Explod
trigger1 = root,stateno != 3205
trigger1 = roundstate = 2
Trigger1 = teamside = 1
Anim = 7099-Root,var(9)
ID = 7000
Pos = 25,222
PosType = left
BindTime = -1
ontop = 1
Ownpal = 1
SprPriority = 10
RemoveTime = 1
SuperMove   = 1
PauseMoveTime  = -1
IgnoreHitPause = 1
trans = add
scale = 0.5,0.5

[State -1]
Type = Explod
trigger1 = root,stateno != 3205
trigger1 = roundstate = 2
Trigger1 = teamside = 2
Anim = 7099-Root,var(9)
ID = 7000
Pos = -25,222
PosType = right
BindTime = -1
ontop = 1
Ownpal = 1
SprPriority = 10
RemoveTime = 1
SuperMove   = 1
PauseMoveTime  = -1
IgnoreHitPause = 1
trans = add
scale = 0.5,0.5


[State 10050]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
Flag2 = invisible
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State -1]
Type = Explod
trigger1 = root,stateno != 3205
trigger1 = roundstate = 2
Trigger1 = teamside = 1
Trigger1 = numexplod(7120) = 0
Anim = 7120
ID = 7120
Pos = 25,222
PosType = left
BindTime = -1
ontop = 1
Ownpal = 1
SprPriority = 10
RemoveTime = -1
SuperMove   = 1
PauseMoveTime  = -1
IgnoreHitPause = 1
trans = add
scale = 0.25,0.25

[State -1]
Type = Explod
trigger1 = root,stateno != 3205
trigger1 = roundstate = 2
Trigger1 = teamside = 1
Trigger1 = numexplod(7121) = 0
Anim = 7121
ID = 7121
Pos = 25,222
PosType = left
BindTime = -1
Ownpal = 1
SprPriority = 9999999
RemoveTime = -1
SuperMove   = 1
PauseMoveTime  = -1
IgnoreHitPause = 1
trans = sub
scale = 0.225,0.225

[State -1]
Type = Explod
trigger1 = root,palno = 12
trigger1 = root,stateno != 3205
trigger1 = roundstate = 2
Trigger1 = teamside = 2
Anim = 7116
ID = 7100
Pos = -25,222
PosType = right
BindTime = -1
ontop = 1
Ownpal = 1
SprPriority = 10
RemoveTime = 1
SuperMove   = 1
PauseMoveTime  = -1
IgnoreHitPause = 1
trans = add
scale = 0.5,0.5

[State -1]
Type = Explod
trigger1 = root,palno != 12
trigger1 = root,stateno != 3205
trigger1 = roundstate = 2
Trigger1 = teamside = 2
Anim = 7115-root,var(22)
ID = 7100
Pos = -35,222
PosType = right
BindTime = -1
ontop = 1
Ownpal = 1
SprPriority = 15
RemoveTime = 1
SuperMove   = 1
PauseMoveTime  = -1
IgnoreHitPause = 1
trans = add
scale = 0.25,0.25

[State -1]
Type = Explod
triggerall = root,palno != 12
trigger1 = root,stateno != 3205
trigger1 = roundstate = 2
Trigger1 = teamside = 2
Anim = 7115-root,var(21)
ID = 7100
Pos = -25,222
PosType = right
BindTime = -1
ontop = 1
Ownpal = 1
SprPriority = 10
RemoveTime = 1
SuperMove   = 1
PauseMoveTime  = -1
IgnoreHitPause = 1
trans = add
scale = 0.5,0.5

[State -1]
Type = Explod
trigger1 = root,stateno != 3205
trigger1 = roundstate = 2
Trigger1 = teamside = 2
Trigger1 = numexplod(7120) = 0
Anim = 7120
ID = 7120
Pos = -25,222
PosType = right
BindTime = -1
ontop = 1
Ownpal = 1
SprPriority = 10
RemoveTime = -1
SuperMove   = 1
PauseMoveTime  = -1
IgnoreHitPause = 1
trans = add
scale = 0.25,0.25

[State -1]
Type = Explod
trigger1 = root,stateno != 3205
trigger1 = roundstate = 2
Trigger1 = teamside = 2
Trigger1 = numexplod(7121) = 0
Anim = 7121
ID = 7121
Pos = -25,222
PosType = right
BindTime = -1
Ownpal = 1
SprPriority = 9999999
RemoveTime = -1
SuperMove   = 1
PauseMoveTime  = -1
IgnoreHitPause = 1
trans = sub
scale = 0.225,0.225

[State 3241]
type = removeExplod
trigger1 = root,stateno = 3205
trigger1 = animelemtime(1) <= 100
trigger2 = roundstate != 2
id = 7121

[State 3241]
type = removeExplod
trigger1 = root,stateno = 3205
trigger1 = animelemtime(1) <= 100
trigger2 = roundstate != 2
id = 7120














[Statedef 6010]
anim = 7603
SprPriority = 5

[State 7224]
type = null;BindToRoot
trigger1 = 1
pos = 0,-55
ignorehitpause = 1

[State 7224]
Type = AngleDraw
Trigger1 = Time >= 0
Value = gametime * 0.2 * (1 + random%300) * 0.01
Scale = (ifelse((gametime%100),((gametime%5 * 0.6)  / 0.9),(1 - (gametime%5*0.6)  / 0.9))) * 0.6,0.6

[State 7224]
type = trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 7224]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1


[State -2, AfterImage];?メ?ジ時残像消去
Type = destroyself
Trigger1 = animtime = 0

[Statedef 6011]
anim = 7603
SprPriority = 5

[State 7224]
Type = AngleDraw
Trigger1 = Time >= 0
Value = gametime * 0.9 * (1 + random%300) * 0.01
Scale = (ifelse((gametime%50),((gametime%10 * 0.2)  / 0.6),(1 - (gametime%10*0.2)  / 0.6))) * 1,1

[State 7224]
type = trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 7224]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1


[State -2, AfterImage];?メ?ジ時残像消去
Type = destroyself
Trigger1 = animtime = 0

[Statedef 6012]
anim = 7603
SprPriority = 5

[State 7224]
Type = AngleDraw
Trigger1 = Time >= 0
Value = -30
Scale = 0.98,0.7

[State 7224]
type = trans
trigger1 = 1
trans = add
ignorehitpause = 1


[State 7224]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -2, AfterImage];?メ?ジ時残像消去
Type = destroyself
Trigger1 = animtime = 0

[Statedef 6013]
anim = 7603
SprPriority = 5

[State 7224]
Type = AngleDraw
Trigger1 = Time >= 0
Value = 30
Scale = 0.925,0.725

[State 7224]
type = trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 7224]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -2, AfterImage];?メ?ジ時残像消去
Type = destroyself
Trigger1 = animtime = 0



[Statedef 6015]
anim = 7601
SprPriority = 5

[State -1]
Type           = AfterImage
Trigger1       = Time = 0
Time           = -1
Trans          = Add
Length         = 21
TimeGap        = 3
FrameGap       = 3
PalBright      = 0 , 0 , 0
PalContrast    = 120 , 120 , 120
PalAdd         = 0 , 0 , 0
PalMul      = .95,.95,.95  ;残像の色の乗算値（赤,緑,青・ＲＧＢ・float）

[State -2,Explod]
type = varset
trigger1 = time = 0
V = 25
value = 250

[State -2,Explod]
type = varadd
trigger1 = time <= 5
V = 25
value = -5

[State -2,Explod]
type = varadd
trigger1 = time >= 5
V = 25
value = -25

[State -2,Explod]
type = varrandom
trigger1 = time = 0
V = 26
range = -360,360

[State -2,Explod]
type = angledraw
trigger1 = 1
value = 0+var(26)
scale = 0.02*var(25),0.004*var(25);0.17,0.17

[State 30000, Trans]
Type = Trans
Trigger1 = 1
Trans = Add

[State 30000, VarSet] 
Type = VarSet
Trigger1 = Time = 0
V = 12
Value = 250

[State 30000, VarAdd] 
Type = VarAdd
Trigger1 = Time > 5
Trigger1 = Var(12) > 0
V = 12
Value = -25

[State 30000, VarSet] 
Type = VarSet
Trigger1 = Var(12) < 0
V = 12
Value = 0

[State 30000, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(12), Var(12), Var(12)

[State 7224]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -2, AfterImage]
Type = destroyself
Trigger1 = time >= 25

;斬撃攻撃ヒット
[Statedef 8500]
type = A
ctrl = 0
anim = 8500
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state 6500,1]
type = EnvShake
trigger1 = Time = 0
time = 5
ampl = -4
freq = 115
phase = 115

[State 103, 効果音]
type = PlaySnd
trigger1 = time = 0
value = 1, 5
freqmul = 1.4+((random%3)*0.1)

[State 1000, 5]
type = Explod
trigger1 = time = 0
anim = 8600
sprpriority = 100
postype = p1
pos = 0 ,0
bindtime = -1
ignorehitpause =0
under = 0
ownpal = 1
PauseMoveTime = 9999999
trans = add
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 346, Explod]
type = Explod
trigger1 = time = [2,9]
anim = 6800
postype = p1
pos = 0,0
facing = 1
scale = 0.2,0.2
bindtime = 1
ownpal = 1
vel = 10-random%20,10-random%20
accel = 0,0.09
supermovetime = 0
pausemovetime = 0
sprpriority = 10-random%20
ignorehitpause = 1
trans = add
SuperMoveTime = 9999
PauseMoveTime = 9999

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = varset
trigger1 = time = 0
v = 1
value = random%179
;角度

[state a]
type = varset
trigger1 = time = 0
v = 2
value = 20

[state a]
type = varadd
trigger1 = time<=5
v = 2
value = -3

[state a]
type = varadd
trigger1 = time>5
v = 2
value = 2

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*14,256

[state a]
type = angleset
trigger1 = time = 0
value = var(1)

[state a]
type = angledraw
trigger1 = 1
scale = 1-var(2)*0.05,0.3+time*0.4

[state a]
type = destroyself
trigger1 = var(2) >= 10
trigger1 = time>5

;斬撃攻撃ヒット
[Statedef 8501]
type = A
ctrl = 0
anim = 6300
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = turn
trigger1 = ishelper(8502)
trigger1 = time= 0

[State -2]
Type     = Helper
trigger1 = time = 0
Stateno  = 8700
ID       = 8700
pos = -5+(random%5),0
PosType  = P1
Keyctrl  = 0
IgnoreHitPause = 1
persistent = 0
ownpal = 0 
Size.XScale = 0.5
Size.YScale = 1.5
;supermovetime = 9999
;pausemovetime = 9999

[State 900]
Type = Helper
trigger1       = time = 0
Stateno = 8800
ID = 8800
Pos = 0,0
PosType = P1
Keyctrl = 0
helpertype = normal
ownpal = 1

[state 6500,1]
type = EnvShake
trigger1 = Time = 0
time = 10
ampl = -14
freq = 95
phase = 95

[State 103, 効果音]
type = PlaySnd
trigger1 = time = 0
value = 1, 0

[State 103, 効果音]
type = PlaySnd
trigger1 = time = 0
value = 1, 5
freqmul = 1.4+((random%3)*0.1)

[State 1000, 5]
type = Explod
trigger1 = time = 0
anim = 8600
sprpriority = 100
postype = p1
pos = 0 ,0
bindtime = -1
ignorehitpause =0
under = 0
ownpal = 1
PauseMoveTime = 9999999
trans = add
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 346, Explod]
type = Explod
trigger1 = time = [2,9]
anim = 6800
postype = p1
pos = 0,0
facing = 1
scale = 0.2,0.2
bindtime = 1
ownpal = 1
vel = 10-random%20,10-random%20
accel = 0,0.09
supermovetime = 0
pausemovetime = 0
sprpriority = 10-random%20
ignorehitpause = 1
trans = add
SuperMoveTime = 9999
PauseMoveTime = 9999

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = varset
trigger1 = time = 0
v = 1
value = 45+random%125
;角度


[state a]
type = Trans
trigger1 = 1
trans = add

[state a]
type = angleset
trigger1 = time = 0
value = var(1)

[state a]
type = angledraw
trigger1 = 1
scale = 1.3,0.7

[state a]
type = destroyself
trigger1 = animtime = 0

[Statedef 8502]
type = A
ctrl = 0
anim = 6300
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[State 103, 効果音]
type = PlaySnd
trigger1 = time = 0
value = 1, 0

[State 103, 効果音]
type = PlaySnd
trigger1 = time = 0
value = 1, 5
freqmul = 1.4+((random%3)*0.1)

[State 1000, 5]
type = Explod
trigger1 = time = 0
anim = 8600
sprpriority = 100
postype = p1
pos = 0 ,0
bindtime = -1
ignorehitpause =0
under = 0
ownpal = 1
PauseMoveTime = 9999999
trans = add
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 346, Explod]
type = Explod
trigger1 = time = [2,9]
anim = 6800
postype = p1
pos = 0,0
facing = 1
scale = 0.2,0.2
bindtime = 1
ownpal = 1
vel = 10-random%20,10-random%20
accel = 0,0.09
supermovetime = 0
pausemovetime = 0
sprpriority = 10-random%20
ignorehitpause = 1
trans = add
SuperMoveTime = 9999
PauseMoveTime = 9999

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = varset
trigger1 = time = 0
v = 1
value = 25+random%145
;角度


[state a]
type = Trans
trigger1 = 1
trans = add

[state a]
type = angleset
trigger1 = time = 0
value = var(1)

[state a]
type = angledraw
trigger1 = 1
scale = 1.3,0.7

[state a]
type = destroyself
trigger1 = animtime = 0





[Statedef 8800]
anim = 8800
SprPriority = 8

[State -2,Explod]
type = varset
trigger1 = time = 0
V = 25
value = 0

[State -2,Explod]
type = varadd
trigger1 = time <= 5
V = 25
value = 15

[State -2,Explod]
type = varadd
trigger1 = time >= 5
V = 25
value = 1

[State -2,Explod]
type = varrandom
trigger1 = time = 0
V = 26
range = -180,180

[State -2,Explod]
type = angledraw
trigger1 = 1
value = 0+var(26)
scale = 0.04*var(25),0.006*var(25);0.17,0.17

[State 30000, Trans]
Type = Trans
Trigger1 = 1
Trans = Add

[State 30000, VarSet] 
Type = VarSet
Trigger1 = Time = 0
V = 12
Value = 255

[State 30000, VarAdd] 
Type = VarAdd
Trigger1 = Time > 5
Trigger1 = Var(12) > 0
V = 12
Value = -16

[State 30000, VarSet] 
Type = VarSet
Trigger1 = Var(12) < 0
V = 12
Value = 0

[State 30000, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(12), Var(12), Var(12)

[State 6670, AngleDraw]
Type = null;AngleDraw
Trigger1 = 1

[State 7224]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -2, AfterImage]
Type = destroyself
Trigger1 = time >= 20

[Statedef 8700]
type = A
ctrl = 0
anim = 8701
velset = 0,0
movetype = I
physics = N
sprpriority = 10

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = Trans
trigger1 = 1
trans = add

[state a]
type = angleadd
trigger1 = time = 0
value = parent,var(1)

[state a]
type = angledraw
trigger1 = 1
scale = 1,1

[state a]
type = changestate
trigger1 = root,stateno = 3013
;trigger1 = root,anim = 3012
trigger1 = root,animelemtime(9) >= 0
trigger2 = time>400
value = 8701

[Statedef 8701]
type = A
ctrl = 0
anim = 8700
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = angledraw
trigger1 = 1
scale = 1,1

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = Trans
trigger1 = 1
trans = add

[State 346, Explod]
type = Explod
trigger1 = time = 2
anim = 6800
postype = p1
pos = 0,0
facing = 1
scale = 0.35,0.35
bindtime = 1
ownpal = 1
vel = 2- ((random%4)*0.6),-3+ ((random%6)*0.6)
accel = 0,0.09
supermovetime = 0
pausemovetime = 0
sprpriority = 10-random%20
ignorehitpause = 1
trans = add

[State 346, Explod]
type = Explod
trigger1 = time = 2
anim = 6800
postype = p1
pos = 0,0
facing = 1
scale = 0.35,0.35
bindtime = 1
ownpal = 1
vel = 2- ((random%4)*0.6),-3+ ((random%6)*0.6)
accel = 0,0.09
supermovetime = 0
pausemovetime = 0
sprpriority = 10-random%20
ignorehitpause = 1
trans = add

[state a]
type = destroyself
trigger1 = animtime = 0

[Statedef 8600]
type    = A
movetype= I
physics = N
velset = 0,0
poweradd= 0
sprpriority = 0
anim = 9999
ctrl = 0

[State 1000, 5]
type = Explod
trigger1 = time = 0
anim = 8200
sprpriority = 100
postype = p1
pos = 0 ,0
bindtime = -1
ignorehitpause =0
under = 0
ownpal = 1
PauseMoveTime = 9999999
trans = add

[State 1000, 5]
type = Explod
trigger1 = numexplod(8201) = 0
anim = 8201
id = 8201
sprpriority = 100
postype = p2
pos = -10 + (random%10),-60 + (random%20)
bindtime = -1
ignorehitpause =0
under = 0
ownpal = 1
PauseMoveTime = 9999999
trans = add

[State 346, Explod]
type = Explod
trigger1 = time = [2,9]
anim = 6800
postype = p1
pos = 0,0
facing = 1
scale = 0.2,0.2
bindtime = 1
ownpal = 1
vel = 10-random%20,10-random%20
accel = 0,0.09
supermovetime = 0
pausemovetime = 0
sprpriority = 10-random%20
ignorehitpause = 1
trans = add
SuperMoveTime = 9999
PauseMoveTime = 9999

[state a]
type = destroyself
trigger1 = time>10



[Statedef 9500]
anim = 9999
SprPriority = 5

[State 2389]
type = Explod
trigger1 = time <= 20
anim = 9500
id = 9500
postype = p1
pos =  0,0
sprpriority = 99999999999
supermove = 1
ontop = 1
pausemovetime = 9999999
ownpal = 1
removeongethit = 1
bindtime = -1
trans = add

[State 2389]
type = ModifyExplod
trigger1 = 1
id = 9500
scale = 0.01*var(44),0.01*var(44)

[State -2,Explod]
type = varset
trigger1 = time = 0
V = 44
value = 100

[State -2,Explod]
type = varadd
trigger1 = 1
V = 44
value = -6

[State -2,Explod]
type = varset
trigger1 = var(44) <= 0
V = 44
value = 0

[State 7224]
type = AssertSpecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[State -2, AfterImage]
Type = destroyself
Trigger1 = time >= 17

[StateDef 7050]
Physics = N
SprPriority = 0

[State -1]
Type           = AfterImage
trigger1 = time = 0
Time           = -1
Trans          = Add
Length         = 10
TimeGap        = 2
FrameGap       = 1
PalBright      = 160 , 140 , 160
PalContrast    = 100 , 85 , 115
PalAdd         = 0 , 0 , 0
PalMul      = .90,.90,.90

[state 6506,1]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[State -1]
Type     = ChangeAnim
Trigger1 = 1
Value    = Root,Anim
Elem     = Root,AnimElemNo(0)

[State -1]
Type     = AssertSpecial
Trigger1 = 1
Flag     = invisible

[State -1]
Type     = BindToRoot
Trigger1 = 1

[State -1]
Type     = Turn
Trigger1 = Facing != Root,Facing

[State -1]
Type     = destroyself
Trigger1 = root,movetype = H
Trigger1 = root,stateno != [120,159]

;===========================================================================
; 常時監視ステ?ト（?２）
;===========================================================================
;---------------------------------------------------------------------------
; 通常の食らい状態（Statedef 5000?5199間）でも、
; 相手に（「P2StateNo」や「TargetState」等で）制御を奪われても、
; 常に登?したステ?トコントロ?ラが有効になります。
; サブシステ?等を制御する時に重宝するでしょう。
;---------------------------------------------------------------------------

[Statedef -2]

[state 6506,1]
type = poweradd
Trigger1 = palno >= 12
Trigger1 = roundstate = 2
value = 5

[State -3,]
type = AttackMulSet
Trigger1 = palno >= 12
value = 1.5

[State -2, ]
type = defencemulset
triggerall = 1
Trigger1 = palno >= 12
value = 0.5

[State -3,]
type = Varset
trigger1 = palno = 12
v = 21
value = 15
IgnoreHitPause = 1

[State -3,]
type = Varset
trigger1 = palno = 12
v = 22
value = 15
IgnoreHitPause = 1

[State 440,ジャンプキャンセル]
type = ChangeState
value = 40
triggerall = command = "holdup"
TriggerAll=var(59) = 0
triggerall = palno = 12
TriggerAll=!ishelper
TriggerAll=statetype != A
TriggerAll=stateno<=999
trigger1 = movecontact

[State 600,ジャンプキャンセル]
type = ChangeState
value = 510
triggerall = command = "aircombofwd"
triggerall = palno = 12
TriggerAll=!ishelper
TriggerAll=statetype = A
TriggerAll=stateno<=999
TriggerAll=var(59) = 0
trigger1 = movecontact

[State 600,ジャンプキャンセル]
type = ChangeState
value = 515
triggerall = command = "aircombo"
triggerall = palno = 12
TriggerAll=!ishelper
TriggerAll=statetype = A
TriggerAll=stateno<=999
TriggerAll=var(59) = 0
trigger1 = movecontact

[State 600,ジャンプキャンセル]
type = ChangeState
value = 520
triggerall = command = "aircomboback"
triggerall = palno = 12
TriggerAll=!ishelper
TriggerAll=statetype = A
TriggerAll=stateno<=999
TriggerAll=var(59) = 0
trigger1 = movecontact

[State 1000]
type = Helper
Triggerall = NumHelper(7050) = 0
Trigger1 = palno = 12
trigger1 = Movetype != H
stateno = 7050
id = 7050
helpertype = normal
pos = 0,0
postype = P1
keyctrl = 0
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
Size.XScale = 1.028
Size.YScale = 1.028
persistent = 0

[State -3,]
type = Varset
;triggerall = stateno = [0,119]
trigger1 = EnemyNear,movetype != H
trigger2 = EnemyNear,stateno = [5100,5120]
v = 21
value = 15
IgnoreHitPause = 1

[State -3,]
type = Varset
trigger1 = stateno = [0,119]
trigger2 = EnemyNear,stateno != [120,159]
v = 22
value = 15
IgnoreHitPause = 1

[State -3,]
type = Varset
trigger1 = var(9) >= 99
v = 9
value = 99
IgnoreHitPause = 1

[State -3,]
type = Varadd
triggerall = var(9) <= 98
trigger1 = statetype = A
trigger1 = time%8 = 1
trigger2 = movetype = A
trigger2 = statetype != A
V = 9
value = 1
IgnoreHitPause = 1

[State -3,]
type = Varadd
trigger1 = var(9) <= 98
trigger1 = statetype != A
trigger1 = movetype != A
v = 9
value = 1
IgnoreHitPause = 1

[State 1000]
type = Helper
Trigger1 = NumHelper(7000) = 0
stateno = 7000
id = 7000
helpertype = normal
pos = 0,-2000
postype = left
keyctrl = 0
ownpal = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
persistent = 0

[State -2, 空中ジャンプ回数リセット]
type = VarSet
trigger1 = 1
trigger1 = statetype != A
v = 7
value = 0

[State -3,]
type = Varset
triggerall = stateno != [3000,3500]
triggerall = stateno != [1141,1149]
trigger1 = palno = 12
v = 9
value = 99
IgnoreHitPause = 1

[State -2]
Type = varset
Trigger1 = var(59)>0
var(57)=ifelse((!enemynear,alive&&numenemy=2),1,0)

[State -2, VarSet]
type = VarSet
Triggerall = palno = 12
triggerall = AnimElemNo(0) < Var(26) 
triggerall = stateno != [1140,1143]
Trigger1 = stateno = [200,470]
Trigger2 = stateno = [600,650]
Trigger3 = stateno = [1100,1200]
Trigger4 = stateno = 1060
var(26) = AnimElemNo(0) - 1

[State -2, VarAdd]
type = VarAdd
Triggerall = palno = 12
triggerall = AnimElemTime(AnimElemNo(0) + 1) < 0
triggerall = stateno != [1140,1143]
Trigger1 = stateno = [200,470]
Trigger2 = stateno = [600,650]
Trigger3 = stateno = [1100,1200]
Trigger4 = stateno = 1060
var(26) = 1

[State -2, Speed]
type = ChangeAnim
Triggerall = palno = 12
triggerall = AnimElemTime(AnimElemNo(0) + 1) < 0
triggerall = stateno != [1140,1143]
Trigger1 = stateno = [200,470]
Trigger2 = stateno = [600,650]
Trigger3 = stateno = [1100,1200]
Trigger4 = stateno = 1060
value = Anim
elem = Var(26)

;-----------------------------------
[State -2, 距離確認デバック]
type = AppendToClipboard
trigger1 = 1
text =  "P2X:%f,P2Y:%f,Vx%f,Vy%f,Py%f \n"
params = P2BodyDist x,P2BodyDist y,vel x,vel y,Pos y
IgnoreHitPause = 1


;var(0)=ヒット数

;-------ヒット数初期化
[state ]
type=varset
triggerall=palno<=11
trigger1=!numtarget
var(10)=0

;------ヒット数加算
[state ]
type=varadd
triggerall=palno<=11
triggerall=numtarget
triggerall=enemynear,movetype=h
triggerall=enemynear,gethitvar(hitcount)>var(10)
trigger1=movehit
trigger2=projhittime(0)=0
;ヘルパ?用
trigger3=numhelper(1001)
trigger3=helper(1001),movehit=1+(movetype!=a)
trigger4=numhelper(1006)
trigger4=helper(1006),movehit=1+(movetype!=a)
trigger5=numhelper(1065)
trigger5=helper(1065),movehit=1+(movetype!=a)
trigger6=numhelper(1022)
trigger6=helper(1022),movehit=1+(movetype!=a)
var(10)=1

;-----補正
[state ]
type=attackmulset
triggerall=palno<=11
trigger1=1
value=1.00-0.068*var(10)
[state ]
type=attackmulset
triggerall=palno<=11
trigger1=var(10)>=10
value=0.35

