;┳───┳────────────────────────━
;｜通常技｜
;┻───┻────────────────────────━
;┳━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━
;┃立ち攻撃┃
;┻━━━━┻━━━━━━━━━━━━━━━━━━━━━━━━
;┬─────┬───────────────────────
;｜近立ち弱Ｐ｜
;┴─────┴───────────────────────
[Statedef 200]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 200+1*(Helper(10000),var(40)!=0&&var(10))

[State 200, 空振りキャンセル]
type       = ChangeState
triggerall = Time = 0
trigger1   = command = "ヘヴィーストライク" && var(59) = 0
trigger1   = var(21) := 320
trigger2   = command = "グレイブシュート" && var(59) = 0
trigger2   = var(21) := 310
trigger3   = command = "バニシングストライク" && var(59) = 0
trigger3   = var(21) := 300
trigger4   = command = "掴み投げ" && var(59) = 0
trigger4   = var(21) := 850
trigger5   = var(59) >= 1
trigger5   = (var(21) = [300,320]) || var(21) = 850
value      = var(21)

[State 200, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 1
value    = 4, 0

[State 200, ヒット定義／攻撃レベル１]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = M
animtype          = Light
damage            = ceil((floor(9*fvar(0))+(floor(9*fvar(0))=0))*fvar(10)), ceil((floor(9*0.1)+(floor(9*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(6*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(6*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 3, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 1
guardsound        = s6, 0
ground.type       = High
ground.slidetime  = 10
ground.hittime    = 10
guard.slidetime   = 8
guard.hittime     = 8
air.hittime       = 10
ground.velocity   = fvar(5)*0.92
air.velocity      = (-8.0*0.5+(8.0-8.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 10+(var(15)*7)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 200, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 3, >= 0
value    = 0

[State 200, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 200, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6200
pos            = floor(P2Dist X/2 +10), floor(P2Dist Y/6 -110)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6200

[State 200, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6250
pos            = floor(P2Dist X/2 +10), floor(P2Dist Y/6 -110)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 17
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6250

[State 200, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +10), floor(P2Dist Y/6 -110)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 200, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/6 -110)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 200, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 200, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.42-(var(8)<fvar(12)*0.42)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 3, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 200, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 200, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 200, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 200, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 200, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 200, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 200, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 200, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 200, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬─────┬───────────────────────
;｜遠立ち弱Ｐ｜
;┴─────┴───────────────────────
[Statedef 205]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 205+1*(Helper(10000),var(40)!=0&&var(10))

[State 205, 空振りキャンセル]
type       = ChangeState
triggerall = Time = 0
trigger1   = command = "ヘヴィーストライク" && var(59) = 0
trigger1   = var(21) := 320
trigger2   = command = "グレイブシュート" && var(59) = 0
trigger2   = var(21) := 310
trigger3   = command = "バニシングストライク" && var(59) = 0
trigger3   = var(21) := 300
trigger4   = command = "掴み投げ" && var(59) = 0
trigger4   = var(21) := 850
trigger5   = var(59) >= 1
trigger5   = (var(21) = [300,320]) || var(21) = 850
value      = var(21)

[State 205, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 1
value    = 4, 0

[State 205, ヒット定義／攻撃レベル１]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = M
animtype          = Light
damage            = ceil((floor(7*fvar(0))+(floor(7*fvar(0))=0))*fvar(10)), ceil((floor(7*0.1)+(floor(7*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(6*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(6*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 3, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 1
guardsound        = s6, 0
ground.type       = High
ground.slidetime  = 10
ground.hittime    = 10
guard.slidetime   = 8
guard.hittime     = 8
air.hittime       = 10
ground.velocity   = fvar(5)*0.92
air.velocity      = (-8.0*0.5+(8.0-8.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 10+(var(15)*7)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 205, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 4, >= 0
value    = 0

[State 205, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 205, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6200
pos            = floor(P2Dist X/2 +15), floor(P2Dist Y/6 -115)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6200

[State 205, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6250
pos            = floor(P2Dist X/2 +15), floor(P2Dist Y/6 -115)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 17
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6250

[State 205, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +15), floor(P2Dist Y/6 -115)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 205, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/6 -115)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 205, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 205, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.42-(var(8)<fvar(12)*0.42)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 4, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 205, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 205, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 205, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 205, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 205, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 205, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 205, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 205, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 205, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬─────┬───────────────────────
;｜近立ち弱Ｋ｜
;┴─────┴───────────────────────
[Statedef 210]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 210

[State 210, 空振りキャンセル]
type       = ChangeState
triggerall = Time = 0
trigger1   = command = "ヘヴィーストライク" && var(59) = 0
trigger1   = var(21) := 320
trigger2   = command = "グレイブシュート" && var(59) = 0
trigger2   = var(21) := 310
trigger3   = command = "バニシングストライク" && var(59) = 0
trigger3   = var(21) := 300
trigger4   = command = "掴み投げ" && var(59) = 0
trigger4   = var(21) := 850
trigger5   = var(59) >= 1
trigger5   = (var(21) = [300,320]) || var(21) = 850
value      = var(21)

[State 210, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 2
value    = 4, 1

[State 210, ヒット定義／攻撃レベル２]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = M
animtype          = Light
damage            = ceil((floor(9*fvar(0))+(floor(9*fvar(0))=0))*fvar(10)), ceil((floor(9*0.1)+(floor(9*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(8*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(8*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 3, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 1
guardsound        = s6, 0
ground.type       = High
ground.slidetime  = 12
ground.hittime    = 12
guard.slidetime   = 10
guard.hittime     = 10
air.hittime       = 12
ground.velocity   = fvar(5)*0.89
air.velocity      = (-8.0*0.5+(8.0-16.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 12+(var(15)*7)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 210, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 4, >= 0
value    = 0

[State 210, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 210, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6200
pos            = floor(P2Dist X/2 +15), floor(P2Dist Y/2 -30)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6200

[State 210, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6250
pos            = floor(P2Dist X/2 +15), floor(P2Dist Y/2 -30)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 17
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6250

[State 210, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +15), floor(P2Dist Y/2 -30)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 210, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/2 -30)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 210, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 210, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.42-(var(8)<fvar(12)*0.42)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 4, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 210, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 210, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 210, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 210, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 210, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 210, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 210, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 210, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 210, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬─────┬───────────────────────
;｜遠立ち弱Ｋ｜
;┴─────┴───────────────────────
[Statedef 215]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 215+1*(Helper(10000),var(40)!=0&&var(10))

[State 215, 空振りキャンセル]
type       = ChangeState
triggerall = Time = 0
trigger1   = command = "ヘヴィーストライク" && var(59) = 0
trigger1   = var(21) := 320
trigger2   = command = "グレイブシュート" && var(59) = 0
trigger2   = var(21) := 310
trigger3   = command = "バニシングストライク" && var(59) = 0
trigger3   = var(21) := 300
trigger4   = command = "掴み投げ" && var(59) = 0
trigger4   = var(21) := 850
trigger5   = var(59) >= 1
trigger5   = (var(21) = [300,320]) || var(21) = 850
value      = var(21)

[State 215, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 1
value    = 4, 1

[State 215, ヒット定義／攻撃レベル２]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = M
animtype          = Light
damage            = ceil((floor(7*fvar(0))+(floor(7*fvar(0))=0))*fvar(10)), ceil((floor(7*0.1)+(floor(7*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(8*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(8*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 3, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 1
guardsound        = s6, 0
ground.type       = High
ground.slidetime  = 12
ground.hittime    = 12
guard.slidetime   = 10
guard.hittime     = 10
air.hittime       = 12
ground.velocity   = fvar(5)*0.89
air.velocity      = (-8.0*0.5+(8.0-16.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 12+(var(15)*7)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 215, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 4, >= 0
value    = 0

[State 215, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 215, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6200
pos            = floor(P2Dist X/2 +10), floor(P2Dist Y/4 -90)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6200

[State 215, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6250
pos            = floor(P2Dist X/2 +10), floor(P2Dist Y/4 -90)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 17
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6250

[State 215, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +10), floor(P2Dist Y/4 -90)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 215, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/4 -90)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 215, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 215, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.42-(var(8)<fvar(12)*0.42)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 4, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 215, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 215, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 215, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 215, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 215, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 215, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 215, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 215, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 215, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬─────┬───────────────────────
;｜近立ち強Ｐ｜
;┴─────┴───────────────────────
[Statedef 220]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 220

[State 220, 空振りキャンセル]
type       = ChangeState
triggerall = Time = 0
trigger1   = command = "ヘヴィーストライク" && var(59) = 0
trigger1   = var(21) := 320
trigger2   = command = "グレイブシュート" && var(59) = 0
trigger2   = var(21) := 310
trigger3   = command = "バニシングストライク" && var(59) = 0
trigger3   = var(21) := 300
trigger4   = command = "掴み投げ" && var(59) = 0
trigger4   = var(21) := 850
trigger5   = var(59) >= 1
trigger5   = (var(21) = [300,320]) || var(21) = 850
value      = var(21)

[State 220, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 1
value    = 4, 1

[State 220, 攻撃フラグリセット]
type     = MoveHitReset
trigger1 = AnimElem = 7
Persistent = 0

[State 220, ヒット定義①／攻撃レベル３]
type              = HitDef
trigger1	  = AnimElemNo(0) < 6
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = M
animtype          = Hard
damage            = ceil((floor(11*fvar(0))+(floor(11*fvar(0))=0))*fvar(10)), ceil((floor(11*0.1)+(floor(11*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(12*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(12*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 2
guardsound        = s6, 1
ground.type       = High
ground.slidetime  = 14+(P2StateType=C)
ground.hittime    = 14+(P2StateType=C)
guard.slidetime   = 12
guard.hittime     = 12
air.hittime       = 14
ground.velocity   = fvar(5)*0.88
air.velocity      = (-8.0*0.5+(8.0-24.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 24+(var(15)*8)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 220, ヒット定義②／攻撃レベル４]
type              = HitDef
trigger1	  = AnimElemNo(0) > 6
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = M
animtype          = Hard
damage            = ceil((floor(11*fvar(0))+(floor(11*fvar(0))=0))*fvar(10)), ceil((floor(11*0.1)+(floor(11*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = fvar(5)*0.83
air.velocity      = (-8.0*0.5+(8.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 220, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 8, >= 0
value    = 0

[State 220, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = fvar(4) := Target,Life
value    = -fvar(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 220, ヒットエフェクト①]
type           = Explod
trigger1       = AnimElemNo(0) < 7
trigger1       = movehit = 1
anim           = 6200
pos            = floor(P2Dist X/2 +25), floor(P2Dist Y/2 -100)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6200

[State 220, ヒットエフェクト②]
type           = Explod
trigger1       = AnimElem = 7, >= 0
trigger1       = movehit = 1
anim           = 6205
pos            = floor(P2Dist X/2 +10), floor(P2Dist Y/4 -90)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 24
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6205

[State 220, ガードエフェクト①]
type           = Explod
trigger1       = AnimElemNo(0) < 7
trigger1       = moveguarded = 1
anim           = 6250
pos            = floor(P2Dist X/2 +25), floor(P2Dist Y/2 -100)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6260

[State 220, ガードエフェクト]
type           = Explod
trigger1       = AnimElem = 7, >= 0
trigger1       = moveguarded = 1
anim           = 6260
pos            = floor(P2Dist X/2 +10), floor(P2Dist Y/2 -90)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6260

[State 220, カウンターエフェクト]
type          = Helper
trigger1      = AnimElemNo(0) < 7
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +25), floor(P2Dist Y/2 -100)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 220, カウンターエフェクト]
type          = Helper
trigger1      = AnimElem = 7, >= 0
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +10), floor(P2Dist Y/2 -90)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 220, 相殺エフェクト]
type          = Helper
trigger1      = AnimElemNo(0) < 7
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/4 -100)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 220, 相殺エフェクト]
type          = Helper
trigger1      = AnimElem = 7, >= 0
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/2 -90)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 220, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 220, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.42-(var(8)<fvar(12)*0.42)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 8, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 220, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 220, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 220, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 220, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 220, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 220, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 220, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 220, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 220, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬─────┬───────────────────────
;｜遠立ち強Ｐ｜
;┴─────┴───────────────────────
[Statedef 225]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 225+1*(Helper(10000),var(40)!=0&&var(10))

[State 225, 空振りキャンセル]
type       = ChangeState
triggerall = Time = 0
trigger1   = command = "ヘヴィーストライク" && var(59) = 0
trigger1   = var(21) := 320
trigger2   = command = "グレイブシュート" && var(59) = 0
trigger2   = var(21) := 310
trigger3   = command = "バニシングストライク" && var(59) = 0
trigger3   = var(21) := 300
trigger4   = command = "掴み投げ" && var(59) = 0
trigger4   = var(21) := 850
trigger5   = var(59) >= 1
trigger5   = (var(21) = [300,320]) || var(21) = 850
value      = var(21)

[State 225, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 1
value    = 4, 2

[State 225, 座標移動]
type     = PosAdd
trigger1 = AnimElem = 4
x        = 10.0/2.0
Persistent = 0

[State 225, ヒット定義／攻撃レベル４]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = M
animtype          = Hard
damage            = ceil((floor(19*fvar(0))+(floor(19*fvar(0))=0))*fvar(10)), ceil((floor(19*0.1)+(floor(19*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = fvar(5)*0.83
air.velocity      = (-8.0*0.5+(8.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 225, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 7, >= 0
value    = 0

[State 225, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = fvar(4) := Target,Life
value    = -fvar(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 225, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6205
pos            = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -110)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 24
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6205

[State 225, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6260
pos            = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -110)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6260

[State 225, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -110)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 225, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -110)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 225, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 225, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.42-(var(8)<fvar(12)*0.42)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 7, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 225, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 225, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 225, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 225, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 225, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 225, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 225, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 225, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 225, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬─────┬───────────────────────
;｜近立ち強Ｋ｜
;┴─────┴───────────────────────
[Statedef 230]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 230+1*(Helper(10000),var(40)!=0&&var(10))

[State 230, 空振りキャンセル]
type       = ChangeState
triggerall = Time = 0
trigger1   = command = "ヘヴィーストライク" && var(59) = 0
trigger1   = var(21) := 320
trigger2   = command = "グレイブシュート" && var(59) = 0
trigger2   = var(21) := 310
trigger3   = command = "バニシングストライク" && var(59) = 0
trigger3   = var(21) := 300
trigger4   = command = "掴み投げ" && var(59) = 0
trigger4   = var(21) := 850
trigger5   = var(59) >= 1
trigger5   = (var(21) = [300,320]) || var(21) = 850
value      = var(21)

[State 230, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 1
value    = 4, 1

[State 230, ヒット定義／攻撃レベル４]
type              = HitDef
trigger1          = var(0) = 0
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = M
animtype          = Hard
damage            = ceil((floor(22*fvar(0))+(floor(22*fvar(0))=0))*fvar(10)), ceil((floor(22*0.1)+(floor(22*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = fvar(5)*0.83
air.velocity      = (-8.0*0.5+(8.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 230, ヒット定義／攻撃レベル５]
type              = HitDef
trigger1          = var(0) >= 1
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = M
animtype          = Hard
damage            = ceil((floor(22*fvar(0))+(floor(22*fvar(0))=0))*fvar(10)), ceil((floor(22*0.1)+(floor(22*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(16*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(16*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 20+(P2StateType=C)
ground.hittime    = 20+(P2StateType=C)
guard.slidetime   = 18
guard.hittime     = 18
air.hittime       = 20
ground.velocity   = fvar(5)*0.83
air.velocity      = (-8.0*0.5+(8.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 230, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 4, >= 0
value    = 0

[State 230, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 230, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6205
pos            = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -110)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 24
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6205

[State 230, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6260
pos            = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -110)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6260

[State 230, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -110)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 230, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -110)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 230, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 230, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.42-(var(8)<fvar(12)*0.42)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 4, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 230, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 230, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 230, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 230, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 230, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 230, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 230, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 230, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 230, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬─────┬───────────────────────
;｜遠立ち強Ｋ｜
;┴─────┴───────────────────────
[Statedef 235]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 235+1*(Helper(10000),var(40)!=0&&var(10))

[State 235, 空振りキャンセル]
type       = ChangeState
triggerall = Time = 0
trigger1   = command = "ヘヴィーストライク" && var(59) = 0
trigger1   = var(21) := 320
trigger2   = command = "グレイブシュート" && var(59) = 0
trigger2   = var(21) := 310
trigger3   = command = "バニシングストライク" && var(59) = 0
trigger3   = var(21) := 300
trigger4   = command = "掴み投げ" && var(59) = 0
trigger4   = var(21) := 850
trigger5   = var(59) >= 1
trigger5   = (var(21) = [300,320]) || var(21) = 850
value      = var(21)

[State 235, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 1
value    = 4, 3

[State 235, ヒット定義／攻撃レベル５]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = M
animtype          = Hard
damage            = ceil((floor(19*fvar(0))+(floor(19*fvar(0))=0))*fvar(10)), ceil((floor(19*0.1)+(floor(19*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(16*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(16*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 20+(P2StateType=C)
ground.hittime    = 20+(P2StateType=C)
guard.slidetime   = 18
guard.hittime     = 18
air.hittime       = 20
ground.velocity   = fvar(5)*0.82
air.velocity      = (-8.0*0.5+(8.0-48.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 30+(var(15)*10)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 235, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 4, >= 0
value    = 0

[State 235, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 235, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6205
pos            = floor(P2Dist X/2 +45), floor(P2Dist Y/6 -120)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 24
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6205

[State 235, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6260
pos            = floor(P2Dist X/2 +45), floor(P2Dist Y/6 -120)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6260

[State 235, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +45), floor(P2Dist Y/6 -120)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 235, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/6 -120)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 235, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 235, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.42-(var(8)<fvar(12)*0.42)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 4, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 235, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 235, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 235, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 235, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 235, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 235, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 235, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 235, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 235, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┳━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━
;┃特殊技┃
;┻━━━┻━━━━━━━━━━━━━━━━━━━━━━━━━
;┬─────┬───────────────────────
;｜前立ち弱Ｐ｜
;┴─────┴───────────────────────
[Statedef 240]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 240

[State 240, エフェクト①]
type           = Explod
trigger1       = Time = 21
anim           = 241
pos            = floor(155.0/2.0), floor(3.0/2.0)
postype        = p1
scale          = 2.5/2.0, 3.5/2.0
sprpriority    = -1
ownpal         = 1
bindtime       = 1
removetime     = 24
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 1
IgnoreHitPause = 1
Persistent     = 0
ID             = 241

[State 240, エフェクト設定変更①]
type     = ModifyExplod
trigger1 = Time = [22,29]
ID       = 241
scale    = (2.50-0.0625*(Time-21))*0.5, (3.50-0.1875*(Time-21))*0.5

[State 240, エフェクト設定変更②]
type     = ModifyExplod
trigger1 = Time = [30,36]
ID       = 241
scale    = (2.0-0.285714*(Time-29))*0.5, (2.0-0.142857*(Time-29))*0.5

[State 240, 画面を揺らす]
type     = EnvShake
trigger1 = AnimElem = 5
time     = 15
Ampl     = -8

[State 240, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 2
value    = 4, 4

[State 240, ヒット定義／攻撃レベル４]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = H
animtype          = Hard
damage            = ceil((floor(22*fvar(0))+(floor(22*fvar(0))=0))*fvar(10)), ceil((floor(22*0.1)+(floor(22*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = -8.0*0.5, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = (-8.0*0.5+(8.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 0
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 240, 相手ステート制御]
type     = TargetState
trigger1 = movehit = 1 && NumTarget
trigger1 = var(14) = 0 && var(23) = 0
value    = 241
ID       = stateno
IgnoreHitPause = 1
Persistent     = 0

[State 240, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 6, >= 0
value    = 0

[State 240, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(0) >= 3 || var(0) >= 2 && var(29)/10000
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 240, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6205
pos            = floor(P2Dist X/2 +30), floor(P2Dist Y/4 -70)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 24
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6205

[State 240, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6260
pos            = floor(P2Dist X/2 +30), floor(P2Dist Y/4 -70)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6260

[State 240, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +30), floor(P2Dist Y/4 -70)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 240, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/4 -70)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 240, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 240, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.50-(var(8)<fvar(12)*0.50)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 6, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 240, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 240, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 240, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 240, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 240, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 240, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 240, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 240, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 240, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬────┬────────────────────────
;｜HIT_TRIP｜(shaking)
;┴────┴────────────────────────
[Statedef 241]
type     = A
movetype = H
physics  = N
velset   = 0, 0

[State 241, ステート返却／Target重複対策]
type     = SelfState
trigger1 = PrevStateNo = [120,159]
value    = PrevStateNo

[State 5070, 1]
type     = ChangeAnim 
trigger1 = 1
value    = 5070

[State 5070, 2]
type     = ChangeState
trigger1 = HitShakeOver
value    = 242 ;5071 ;◆◇◆

[State 5070, 3]
type     = ForceFeedback
trigger1 = time = 0
time     = 12
waveform = sinesquare
ampl     = 140

;┬─────┬───────────────────────
;｜HIT_TRIP2 ｜(fall through air)
;┴─────┴───────────────────────
[Statedef 242]
type     = A
movetype = H
physics  = N

[State 5071, 1]
type     = HitVelSet
trigger1 = Time = 0
x        = 1
y        = 1

[State 5071, 2] ;Acceleration
type     = VelAdd
trigger1 = Time > 0
y        = GetHitVar(yaccel)

[State 242, ◆◇◆]
type     = ChangeState
trigger1 = Time <= 16
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0 - Vel Y
value    = 243

[State 242, ◆◇◆]
type       = ChangeAnim
triggerall = Vel Y > 0
triggerall = Pos Y >= 0 - Vel Y
trigger1   = SelfAnimExist(5061)
trigger2   = SelfAnimExist(5062)
value      = ifelse(SelfAnimExist(5061),5061,5062)

[State 5071, 3] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0 - Vel Y ;Pos Y >= 15 ;◆◇◆
type     = ChangeState ;◆◇◆
value    = 15100

;┬─────┬───────────────────────
;｜HIT_TRIP2 ｜(fall through air)
;┴─────┴───────────────────────
[Statedef 243]
type     = A
movetype = H
physics  = N

[State 243, ◆◇◆]
type     = VelSet
trigger1 = Time = 0
y        = -0.30*Vel Y

[State 5071, 2] ;Acceleration
type     = VelAdd
trigger1 = 1
y        = 0.55 ;GetHitVar(yaccel) ;◆◇◆

[State 243, ◆◇◆]
type       = ChangeAnim
triggerall = Vel Y > 0
triggerall = Pos Y >= 0 - Vel Y
trigger1   = SelfAnimExist(5061)
trigger2   = SelfAnimExist(5062)
value      = ifelse(SelfAnimExist(5061),5061,5062)

[State 5071, 3] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0 - Vel Y ;Pos Y >= 15 ;◆◇◆
type     = ChangeState ;◆◇◆
value    = 15100

;┬─────┬───────────────────────
;｜HIT_TRIP2 ｜(fall through air)
;┴─────┴───────────────────────
[Statedef 244]
type     = A
movetype = H
physics  = N

[State 5071, ◆◇◆]
type     = Width
trigger1 = 1
edge     = 0, 0

[State 5071, ◆◇◆]
type     = VelSet
trigger1 = Time = 0 && prevstateno = 242
y        = -0.3*Vel Y

[State 5071, 1]
type     = HitVelSet
trigger1 = Time = 0 && prevstateno != 242 ;◆◇◆
x        = 1
y        = 1

[State 5071, 2] ;Acceleration
type     = VelAdd
trigger1 = Time > 0
y        = GetHitVar(yaccel)*(prevstateno!=242)+0.55*(prevstateno=242) ;GetHitVar(yaccel) ;◆◇◆

[State 5071, ◆◇◆]
type     = ChangeState
trigger1 = Time <= 16 && prevstateno != 242
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0 - Vel Y
value    = 242

[State 5071, ◆◇◆]
type       = ChangeAnim
triggerall = Vel Y > 0
triggerall = Pos Y >= 0 - Vel Y
trigger1   = SelfAnimExist(5061)
trigger2   = SelfAnimExist(5062)
value      = ifelse(SelfAnimExist(5061),5061,5062)

[State 5071, 3] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0 - Vel Y ;Pos Y >= 15 ;◆◇◆
type     = ChangeState ;◆◇◆
value    = 15100

;┬─────┬───────────────────────
;｜前立ち弱Ｋ｜
;┴─────┴───────────────────────
[Statedef 245]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
;anim     = 245

[State 245, アニメ変更]
type     = ChangeAnim
trigger1 = !Time
trigger1 = Anim != 245
value    = 245

[State 245, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 4
value    = 4, 3
Persistent = 0

[State 245, HitOverride]
type     = HitOverride
trigger1 = prevstateno != 246
attr     = SA, NA
stateno  = 246
time     = 1

[State 245, ヒット定義／攻撃レベル４]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = M
animtype          = Hard
damage            = ceil((floor(22*fvar(0))+(floor(22*fvar(0))=0))*fvar(10)), ceil((floor(22*0.1)+(floor(22*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = -8.0*0.5, fvar(6)
guard.velocity    = fvar(5)*0.83
air.velocity      = (-8.0*0.5+(8.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1-(var(3)=1)
air.fall          = 1-(var(3)=1)
fall.recover      = 1
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 245, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 5, >= 0
value    = 0

[State 245, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 245, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6205
pos            = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -110)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 24
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6205

[State 245, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6260
pos            = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -110)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6260

[State 245, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -110)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 245, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/6 -110)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 245, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────────┫キャンセル┣
[State 245, 入力判定リセット／ステート内自由変数]
type     = VarSet
trigger1 = !Time
var(4)   = 9999

[State 245, 入力判定／ステート内自由変数]
type       = VarSet
triggerall = movecontact
trigger1   = var(59) <= 0
trigger1   = (command = "holdup" || sysvar(2)%100/1 > 0)
var(4)     = 0+(command = "holdfwd")-(command = "holdback")

[State 245, ハイジャンプ]
type       = VarSet
triggerall = movecontact
trigger1   = var(59) <= 0
trigger1   = (sysvar(2)%100/1 > 0)
var(2)     = 4

[State 245, ジャンプキャンセル]
type     = ChangeState
trigger1 = movecontact > var(18)
trigger1 = var(4) = [-1,1]
value    = 40

[State 245, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 245, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.50-(var(8)<fvar(12)*0.50)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 5, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 245, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 245, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 245, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 245, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 245, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 245, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 245, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 245, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 245, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬─────┬───────────────────────
;｜前立ち弱Ｋ｜アーマー用ステート
;┴─────┴───────────────────────
[Statedef 246]
type     = S
movetype = H
physics  = S
ctrl     = 0

[State 246, 取捨選択]
type     = ChangeState
trigger1 = Life <= 0
value    = PrevStateNo

[State 246, アニメ固定]
type     = ChangeAnim
trigger1 = 1
value    = Anim
elem     = AnimElemNo(-1)

[State 246, 座標軸固定]
type     = PosFreeze
trigger1 = !HitShakeOver
value    = 1

[State 246, ステート変更]
type     = ChangeState
trigger1 = HitShakeOver
value    = 245

;┳━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━
;┃屈み攻撃┃
;┻━━━━┻━━━━━━━━━━━━━━━━━━━━━━━━
;┬────┬────────────────────────
;｜屈み弱Ｐ｜
;┴────┴────────────────────────
[Statedef 400]
type     = C
movetype = A
physics  = C
ctrl     = 0
facep2   = 1
anim     = 400+1*(Helper(10000),var(40)!=0&&var(10))

[State 400, 空振りキャンセル]
type       = ChangeState
triggerall = Time = 0
trigger1   = command = "ヘヴィーストライク" && var(59) = 0
trigger1   = var(21) := 320
trigger2   = command = "グレイブシュート" && var(59) = 0
trigger2   = var(21) := 310
trigger3   = command = "バニシングストライク" && var(59) = 0
trigger3   = var(21) := 300
trigger4   = command = "掴み投げ" && var(59) = 0
trigger4   = var(21) := 850
trigger5   = var(59) >= 1
trigger5   = (var(21) = [300,320]) || var(21) = 850
value      = var(21)

[State 400, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 1
value    = 4, 0

[State 400, ヒット定義／攻撃レベル１]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = M
animtype          = Light
damage            = ceil((floor(6*fvar(0))+(floor(6*fvar(0))=0))*fvar(10)), ceil((floor(6*0.1)+(floor(6*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(6*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(6*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 3, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 1
guardsound        = s6, 0
ground.type       = High
ground.slidetime  = 10
ground.hittime    = 10
guard.slidetime   = 8
guard.hittime     = 8
air.hittime       = 10
ground.velocity   = fvar(5)*0.92
air.velocity      = (-8.0*0.5+(8.0-8.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 10+(var(15)*7)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 400, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 3, >= 0
value    = 0

[State 400, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 400, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6200
pos            = floor(P2Dist X/2 +10), floor(P2Dist Y/4 -75)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6200

[State 400, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6250
pos            = floor(P2Dist X/2 +10), floor(P2Dist Y/4 -75)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 17
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6250

[State 400, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +10), floor(P2Dist Y/4 -75)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 400, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/4 -75)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 400, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 11
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 400, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.42-(var(8)<fvar(12)*0.42)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 3, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 400, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 400, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 400, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 400, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 400, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 400, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 400, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 400, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 400, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬────┬────────────────────────
;｜屈み弱Ｋ｜
;┴────┴────────────────────────
[Statedef 410]
type     = C
movetype = A
physics  = C
ctrl     = 0
facep2   = 1
anim     = 410+1*(Helper(10000),var(40)!=0&&var(10))

[State 410, 空振りキャンセル]
type       = ChangeState
triggerall = Time = 0
trigger1   = command = "ヘヴィーストライク" && var(59) = 0
trigger1   = var(21) := 320
trigger2   = command = "グレイブシュート" && var(59) = 0
trigger2   = var(21) := 310
trigger3   = command = "バニシングストライク" && var(59) = 0
trigger3   = var(21) := 300
trigger4   = command = "掴み投げ" && var(59) = 0
trigger4   = var(21) := 850
trigger5   = var(59) >= 1
trigger5   = (var(21) = [300,320]) || var(21) = 850
value      = var(21)

[State 410, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 1
value    = 4, 1

[State 410, ヒット定義／攻撃レベル３]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = C, NA
hitflag           = MAF
guardflag         = L
animtype          = Light
damage            = ceil((floor(6*fvar(0))+(floor(6*fvar(0))=0))*fvar(10)), ceil((floor(6*0.1)+(floor(6*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(12*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(12*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 3, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 2
guardsound        = s6, 1
ground.type       = High
ground.slidetime  = 14+(P2StateType=C)
ground.hittime    = 14+(P2StateType=C)
guard.slidetime   = 12
guard.hittime     = 12
air.hittime       = 14
ground.velocity   = fvar(5)*0.88
air.velocity      = (-8.0*0.5+(8.0-24.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 24+(var(15)*8)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 410, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 4, >= 0
value    = 0

[State 410, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 410, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6200
pos            = floor(P2Dist X/2 +20), floor(P2Dist Y/2 -20)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6200

[State 410, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6250
pos            = floor(P2Dist X/2 +20), floor(P2Dist Y/2 -20)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 17
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6250

[State 410, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +20), floor(P2Dist Y/2 -20)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 410, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/2 -20)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 410, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 11
ctrl     = 1

;━──────────────────────┫キャンセル┣
[State 410, 入力判定リセット／ステート内自由変数]
type     = VarSet
trigger1 = !Time
var(4)   = 9999

[State 410, 入力判定／ステート内自由変数]
type       = VarSet
triggerall = movehit
trigger1   = var(59) = 0
trigger1   = (command = "holdup" || sysvar(2)%100/1 > 0)
var(4)     = 0+(command = "holdfwd")-(command = "holdback")

[State 410, ジャンプキャンセル]
type     = ChangeState
trigger1 = movehit > var(18)
trigger1 = var(4) = [-1,1]
value    = 40

;━──────────────────┫キャンセルブースト┣
[State 410, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.42-(var(8)<fvar(12)*0.42)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 4, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 410, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 410, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 410, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 410, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 410, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 410, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 410, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 410, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 410, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬────┬────────────────────────
;｜屈み強Ｐ｜
;┴────┴────────────────────────
[Statedef 420]
type     = C
movetype = A
physics  = C
ctrl     = 0
facep2   = 1
anim     = 420+1*(Helper(10000),var(40)!=0&&var(10))

[State 420, 空振りキャンセル]
type       = ChangeState
triggerall = Time = 0
trigger1   = command = "ヘヴィーストライク" && var(59) = 0
trigger1   = var(21) := 320
trigger2   = command = "グレイブシュート" && var(59) = 0
trigger2   = var(21) := 310
trigger3   = command = "バニシングストライク" && var(59) = 0
trigger3   = var(21) := 300
trigger4   = command = "掴み投げ" && var(59) = 0
trigger4   = var(21) := 850
trigger5   = var(59) >= 1
trigger5   = (var(21) = [300,320]) || var(21) = 850
value      = var(21)

[State 420, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 1
value    = 4, 1

[State 420, ヒット定義／攻撃レベル４]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = M
animtype          = Medium
damage            = ceil((floor(18*fvar(0))+(floor(18*fvar(0))=0))*fvar(10)), ceil((floor(18*0.1)+(floor(18*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 4, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = fvar(5)*0.83
air.velocity      = (-8.0*0.5+(8.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 420, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 6, >= 0
value    = 0

[State 420, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 420, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6205
pos            = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -60)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 24
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6205

[State 420, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6260
pos            = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -60)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6260

[State 420, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -60)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 420, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -60)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 420, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 11
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 420, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.42-(var(8)<fvar(12)*0.42)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 6, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 420, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 420, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 420, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 420, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 420, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 420, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 420, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 420, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 420, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬────┬────────────────────────
;｜屈み強Ｋ｜
;┴────┴────────────────────────
[Statedef 430]
type     = C
movetype = A
physics  = C
ctrl     = 0
facep2   = 1
anim     = 430+1*(Helper(10000),var(40)!=0&&var(10))

[State 430, 空振りキャンセル]
type       = ChangeState
triggerall = Time = 0
trigger1   = command = "ヘヴィーストライク" && var(59) = 0
trigger1   = var(21) := 320
trigger2   = command = "グレイブシュート" && var(59) = 0
trigger2   = var(21) := 310
trigger3   = command = "バニシングストライク" && var(59) = 0
trigger3   = var(21) := 300
trigger4   = command = "掴み投げ" && var(59) = 0
trigger4   = var(21) := 850
trigger5   = var(59) >= 1
trigger5   = (var(21) = [300,320]) || var(21) = 850
value      = var(21)

[State 430, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 1
value    = 4, 3

[State 430, ヒット定義／攻撃レベル５]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = C, NA
hitflag           = MAF
guardflag         = L
animtype          = Hard
damage            = ceil((floor(15*fvar(0))+(floor(15*fvar(0))=0))*fvar(10)), ceil((floor(15*0.1)+(floor(15*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(16*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(16*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 6, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 20+(P2StateType=C)
ground.hittime    = 20+(P2StateType=C)
guard.slidetime   = 18
guard.hittime     = 18
air.hittime       = 20
ground.velocity   = -8.0*0.5, fvar(6)
guard.velocity    = fvar(5)*0.82
air.velocity      = (-8.0*0.5+(8.0-48.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 30+(var(15)*10)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 430, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 6, >= 0
value    = 0

[State 430, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 430, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6205
pos            = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -20)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 24
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6205

[State 430, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6260
pos            = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -20)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6260

[State 430, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -20)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 430, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +40), floor(P2Dist Y/6 -110)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 430, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 11
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 430, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.42-(var(8)<fvar(12)*0.42)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 6, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 430, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 430, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 430, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9*(1-(Anim=432)*2)

[State 430, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 430, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 430, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
facing         = 1-(Anim=432)*2
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 430, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 430, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 430, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┳━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━
;┃空中攻撃┃
;┻━━━━┻━━━━━━━━━━━━━━━━━━━━━━━━
;┬────┬────────────────────────
;｜空中弱Ｐ｜
;┴────┴────────────────────────
[Statedef 600]
type     = A
movetype = A
physics  = A
ctrl     = 0
anim     = 600+1*(Helper(10000),var(40)!=0&&var(10))

[State 600, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 1
value    = 4, 0
Persistent = 0

[State 600, 慣性減衰]
type     = VelMul
trigger1 = movecontact != [1,var(18)]
trigger1 = var(2) < 0 && var(20) = 0
trigger1 = fvar(9) := fvar(9)*0.98 || 1
x        = 0.98

[State 600, ヒット定義／攻撃レベル２]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = A, NA
hitflag           = MAF
guardflag         = HA
animtype          = Light
damage            = ceil((floor(6*fvar(0))+(floor(6*fvar(0))=0))*fvar(10)), ceil((floor(6*0.1)+(floor(6*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(8*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(8*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 3, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 1
guardsound        = s6, 0
ground.type       = High
ground.slidetime  = 12
ground.hittime    = 12
guard.slidetime   = 10
guard.hittime     = 10
air.hittime       = 12
ground.velocity   = fvar(5)*0.89
air.velocity      = (-8.0*0.5+(8.0-16.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 12+(var(15)*7)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 600, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 3, >= 0
value    = 0

[State 600, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

[State 600, ヘルパー／AttackDist制御]
type          = Helper
trigger1      = !NumHelper(699)
trigger1      = P2Dist X < Vel X && AnimElem = 4, < 0
helpertype    = Normal
name          = "attackdist"
ID            = 699
stateno       = 699
pos           = 0, 0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 0
pausemovetime = 0

;━──────────────────────┫エフェクト┣
[State 600, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6200
pos            = floor(P2Dist X/2 +20), floor(P2Dist Y/4 -100)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6200

[State 600, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6250
pos            = floor(P2Dist X/2 +20), floor(P2Dist Y/4 -100)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 17
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6250

[State 600, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +20), floor(P2Dist Y/4 -100)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 600, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +20), floor(P2Dist Y/4 -100)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 600, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 51
anim     = ifelse((vel x)=0,41,ifelse((vel x)>0,42,43))+3
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 600, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.42-(var(8)<fvar(12)*0.42)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 3, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 600, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 600, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 600, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 600, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 600, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 600, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 600, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 600, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

;┬────┬────────────────────────
;｜空中弱Ｋ｜
;┴────┴────────────────────────
[Statedef 610]
type     = A
movetype = A
physics  = A
ctrl     = 0
anim     = 610+1*(Helper(10000),var(40)!=0&&var(10))

[State 610, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 1
value    = 4, 1

[State 610, 慣性減衰]
type     = VelMul
trigger1 = movecontact != [1,var(18)]
trigger1 = var(2) < 0 && var(20) = 0
trigger1 = fvar(9) := fvar(9)*0.98 || 1
x        = 0.98

[State 610, ヒット定義／攻撃レベル３]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = A, NA
hitflag           = MAF
guardflag         = HA
animtype          = Light
damage            = ceil((floor(6*fvar(0))+(floor(6*fvar(0))=0))*fvar(10)), ceil((floor(6*0.1)+(floor(6*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(12*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(12*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 3, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 2
guardsound        = s6, 1
ground.type       = High
ground.slidetime  = 14+(P2StateType=C)
ground.hittime    = 14+(P2StateType=C)
guard.slidetime   = 12
guard.hittime     = 12
air.hittime       = 14
ground.velocity   = fvar(5)*0.88
air.velocity      = (-8.0*0.5+(8.0-24.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 24+(var(15)*8)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 610, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 4, >= 0
value    = 0

[State 610, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

[State 610, ヘルパー／AttackDist制御]
type          = Helper
trigger1      = !NumHelper(699)
trigger1      = P2Dist X < Vel X && AnimElem = 4, < 0
helpertype    = Normal
name          = "attackdist"
ID            = 699
stateno       = 699
pos           = 0, 0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 0
pausemovetime = 0

;━──────────────────────┫エフェクト┣
[State 610, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6200
pos            = floor(P2Dist X/2 +20), floor(P2Dist Y/4 -70)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6200

[State 610, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6250
pos            = floor(P2Dist X/2 +20), floor(P2Dist Y/4 -70)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 17
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6250

[State 610, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +20), floor(P2Dist Y/4 -70)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 610, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/4 -70)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 610, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 51
anim     = ifelse((vel x)=0,41,ifelse((vel x)>0,42,43))+3
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 610, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.42-(var(8)<fvar(12)*0.42)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 4, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 610, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 610, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 610, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 610, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 610, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 610, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 610, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 610, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

;┬────┬────────────────────────
;｜空中強Ｐ｜
;┴────┴────────────────────────
[Statedef 620]
type     = A
movetype = A
physics  = A
ctrl     = 0
anim     = 620+1*(Helper(10000),var(40)!=0&&var(10))

[State 620, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 1
value    = 4, 1

[State 620, 慣性減衰]
type     = VelMul
trigger1 = movecontact != [1,var(18)]
trigger1 = var(2) < 0 && var(20) = 0
trigger1 = fvar(9) := fvar(9)*0.98 || 1
x        = 0.98

[State 620, ヒット定義／攻撃レベル４]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = A, NA
hitflag           = MAF
guardflag         = HA
animtype          = Hard
damage            = ceil((floor(16*fvar(0))+(floor(16*fvar(0))=0))*fvar(10)), ceil((floor(16*0.1)+(floor(16*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = fvar(5)*0.83
air.velocity      = (-8.0*0.5+(8.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 620, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 7, >= 0
value    = 0

[State 620, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

[State 620, ヘルパー／AttackDist制御]
type          = Helper
trigger1      = !NumHelper(699)
trigger1      = P2Dist X < Vel X && AnimElem = 5, < 0
helpertype    = Normal
name          = "attackdist"
ID            = 699
stateno       = 699
pos           = 0, 0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 0
pausemovetime = 0

;━──────────────────────┫エフェクト┣
[State 620, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6205
pos            = floor(P2Dist X/2 +25), floor(P2Dist Y/4 -85)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 24
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6205

[State 620, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6260
pos            = floor(P2Dist X/2 +25), floor(P2Dist Y/4 -85)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6260

[State 620, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +25), floor(P2Dist Y/4 -85)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 620, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/4 -85)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 620, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 51
anim     = ifelse((vel x)=0,41,ifelse((vel x)>0,42,43))+3
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 620, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.42-(var(8)<fvar(12)*0.42)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 6, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 620, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 620, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 620, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 620, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 620, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 620, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 620, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 620, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

;┬────┬────────────────────────
;｜空中強Ｋ｜
;┴────┴────────────────────────
[Statedef 630]
type     = A
movetype = A
physics  = A
ctrl     = 0
anim     = 630+1*(Helper(10000),var(40)!=0&&var(10))

[State 630, 慣性減衰]
type     = VelMul
trigger1 = movecontact != [1,var(18)]
trigger1 = var(2) < 0 && var(20) = 0
trigger1 = fvar(9) := fvar(9)*0.98 || 1
x        = 0.98

;━──────────────────────┫ヒット設定┣
[State 630, 攻撃フラグリセット]
type       = MoveHitReSet
triggerall = movecontact > var(18) || movereversed || var(25) && !Helper(10000),NumTarget
trigger1   = AnimElem = 5
trigger2   = AnimElem = 7

[State 630, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 1
value    = 4, 0
Persistent = 0
[State 630, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 4
value    = 4, 1
Persistent = 0
[State 630, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 6
value    = 4, 0
Persistent = 0

[State 630, ヒット定義／攻撃レベル３]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = A, NA
hitflag           = MAF
guardflag         = HA
animtype          = Hard
damage            = ceil((floor(5*fvar(0))+(floor(5*fvar(0))=0))*fvar(10)), ceil((floor(5*0.1)+(floor(5*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(12*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(12*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 2
guardsound        = s6, 1
ground.type       = High
ground.slidetime  = 14+(P2StateType=C)
ground.hittime    = 14+(P2StateType=C)
guard.slidetime   = 12
guard.hittime     = 12
air.hittime       = 14
ground.velocity   = fvar(5)*0.88
air.velocity      = (-8.0*0.5+(8.0-24.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 24+(var(15)*8)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 630, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 8, >= 0
value    = 0

[State 630, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

[State 630, ヘルパー／AttackDist制御]
type          = Helper
trigger1      = !NumHelper(699)
trigger1      = P2Dist X < Vel X && AnimElem = 8, < 0
helpertype    = Normal
name          = "attackdist"
ID            = 699
stateno       = 699
pos           = 0, 0
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 0
pausemovetime = 0

;━──────────────────────┫エフェクト┣
[State 630, ヒットエフェクト①]
type           = Explod
trigger1       = AnimElemNo(0) = 3
trigger1       = movehit = 1
anim           = 6200
pos            = floor(P2Dist X/2 +10), floor(P2Dist Y/6 -110)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6200

[State 630, ガードエフェクト①]
type           = Explod
trigger1       = AnimElemNo(0) = 3
trigger1       = moveguarded = 1
anim           = 6250
pos            = floor(P2Dist X/2 +10), floor(P2Dist Y/6 -110)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 17
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6250

[State 630, カウンターエフェクト①]
type          = Helper
trigger1      = AnimElemNo(0) = 3
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +10), floor(P2Dist Y/6 -110)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 630, 相殺エフェクト①]
type          = Helper
trigger1      = AnimElemNo(0) = 3
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/6 -110)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 630, ヒットエフェクト②]
type           = Explod
trigger1       = AnimElemNo(0) = 5
trigger1       = movehit = 1
anim           = 6200
pos            = floor(P2Dist X/2 +25), floor(P2Dist Y/6 -85)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6200

[State 630, ガードエフェクト②]
type           = Explod
trigger1       = AnimElemNo(0) = 5
trigger1       = moveguarded = 1
anim           = 6250
pos            = floor(P2Dist X/2 +25), floor(P2Dist Y/6 -85)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 17
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6250

[State 630, カウンターエフェクト②]
type          = Helper
trigger1      = AnimElemNo(0) = 5
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +25), floor(P2Dist Y/6 -85)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 630, 相殺エフェクト②]
type          = Helper
trigger1      = AnimElemNo(0) = 5
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/6 -85)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 630, ヒットエフェクト③]
type           = Explod
trigger1       = AnimElemNo(0) = 7
trigger1       = movehit = 1
anim           = 6200
pos            = floor(P2Dist X/2 +30), floor(P2Dist Y/6 -60)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6200

[State 630, ガードエフェクト③]
type           = Explod
trigger1       = AnimElemNo(0) = 7
trigger1       = moveguarded = 1
anim           = 6250
pos            = floor(P2Dist X/2 +30), floor(P2Dist Y/6 -60)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 17
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6250

[State 630, カウンターエフェクト③]
type          = Helper
trigger1      = AnimElemNo(0) = 7
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +30), floor(P2Dist Y/6 -60)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 630, 相殺エフェクト③]
type          = Helper
trigger1      = AnimElemNo(0) = 7
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/6 -55)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 630, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 51
anim     = ifelse((vel x)=0,41,ifelse((vel x)>0,42,43))+3
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 630, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.42-(var(8)<fvar(12)*0.42)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 8, >= 0 || var(21) >= 1000
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 630, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 630, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 630, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 630, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 630, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 630, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 630, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 630, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

;┬────┬────────────────────────
;｜空中攻撃｜AttackDist制御
;┴────┴────────────────────────
[Statedef 699]
type     = A
movetype = A
physics  = N
anim     = 9999
ctrl     = 0
sprpriority = 0

[State 699, 座標軸固定]
type     = BindToRoot
trigger1 = 1
time     = 1
pos      = 0, 0

[State 699, ステート記憶]
type     = VarSet
trigger1 = !Time
var(0)   = root,stateno

[State 699, 振り向き]
type     = Turn
trigger1 = facing = root,facing

[State 699, ヘルパー消去]
type     = destroyself
trigger1 = root,MoveType != A
trigger2 = root,stateno = 600 && root,AnimElem = 3, >= 0
trigger3 = root,stateno = 610 && root,AnimElem = 4, >= 0
trigger4 = root,stateno = 620 && root,AnimElem = 6, >= 0
trigger5 = root,stateno = 630 && root,AnimElem = 8, >= 0
trigger6 = root,stateno != var(0)

;┳───┳────────────────────────━
;｜投げ技｜
;┻───┻────────────────────────━
;┳━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━
;┃通常投げ┃
;┻━━━━┻━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 800]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 800
sprpriority = 1

[State 800, AttackDist]
type     = AttackDist
trigger1 = 1
value    = 0

[State 800, 入力判定／ステート内自由変数]
type     = VarSet
trigger1 = var(59) = 0
var(4)   = 1-(command="holdback")*2
Persistent = 0

[State 800, ヒット定義／攻撃レベル５]
type             = HitDef
trigger1         = !movecontact && !MoveReversed && P2StateNo != 40
trigger1         = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr             = S, NT
hitflag          = M-
guardflag        = 
damage           = 0, 0
getpower         = 0, 0
givepower        = 0, 0
priority         = 6, Miss
pausetime        = 0, 3
sparkno          = -1
guard.sparkno    = -1
hitsound         = s1211, 0
guardsound       = -1
ground.slidetime = 20+(P2StateType=C)
ground.hittime   = 20+(P2StateType=C)
ground.velocity  = 24.0*0.5, -16.0*0.5+fvar(7)
p1facing         = var(4)
p2facing         = 1
;p1stateno        = 801
;p2stateno        = 805
yaccel           = fvar(7)
fall             = 1
fall.recover     = 0
numhits          = 0
ID               = stateno
ground.cornerpush.veloff = 0

[State 800, HitDef上書き]
type          = ReversalDef
trigger1      = P2StateNo = 40
trigger2      = ((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
reversal.attr = ;SCA, AA
pausetime     = 0, 0

[State 800, 相手ステート制御]
type     = TargetState
trigger1 = movehit = 1 && NumTarget
value    = 805
ID       = stateno
IgnoreHitPause = 1

[State 800, 投げ成功]
type     = ChangeState
trigger1 = movehit = 1 && NumTarget
trigger1 = Target,StateNo = 805
value    = 801
IgnoreHitPause = 1

[State 800, 投げ失敗]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━─────────────────────┫移動ブースト┣
[State 800, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 800, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 800, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 800, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 800, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 800, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
facing         = 1-(Anim=432)*2
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 800, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 800, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 800, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬────┬────────────────────────
;｜通常投げ｜自分制御
;┴────┴────────────────────────
[Statedef 801]
type     = U
movetype = U
physics  = S
ctrl     = 0
anim     = 801
velset   = 0, 0
sprpriority = 1

[State 801, ヒットカウント調整]
type     = VarAdd
trigger1 = !Time
var(10)  = -1
Persistent = 0
IgnoreHitPause = 1

[State 801, エリアルヒットカウント調整]
type     = VarAdd
trigger1 = !Time
var(11)  = -1
Persistent = 0
IgnoreHitPause = 1

[State 801, 攻撃フラグリセット]
type     = MoveHitReset
trigger1 = AnimElem = 8
Persistent = 0
IgnoreHitPause = 1

[State 801, ヒット定義／攻撃レベル３]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = M
animtype          = Hard
damage            = ceil(15*fvar(10)), 0
getpower          = 0, 0
givepower         = floor(12*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(12*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 2
guardsound        = s6, 1
ground.type       = High
ground.slidetime  = 14+(P2StateType=C)
ground.hittime    = 14+(P2StateType=C)
guard.slidetime   = 12
guard.hittime     = 12
air.hittime       = 14
ground.velocity   = -12.0*0.5, -12.0*0.5
air.velocity      = -12.0*0.5, -12.0*0.5
airguard.velocity = -12.0*0.5, 0.0
yaccel            = 1.10*0.5
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 0
fall.recovertime  = 24+(var(15)*9)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 801, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

[State 801, 相手ステート制御]
type     = TargetState
trigger1 = Anim = 801
trigger1 = AnimElemNo(0) = [6,11]
trigger1 = NumTarget
trigger1 = Target,StateNo != 805
value    = 805
ID       = stateno
IgnoreHitPause = 1

;━──────────────────────┫エフェクト┣
[State 801, ヒットエフェクト]
type           = Explod
trigger1       = AnimElemNo(0) = [6,11]
trigger1       = movehit = 1
anim           = 6200
pos            = 16+Random%18, -150+Random%26
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
trans          = AddAlpha
alpha          = 256, 256
ID             = 6200

[State 801, 押し合い制御]
type     = PlayerPush
trigger1 = 1
value    = 0

[State 801, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━───────────────────────┫相手制御┣
[State 801, 相手座標軸固定①]
type     = TargetBind
trigger1 = AnimElemNo(0) = 1
pos      = 100.0/2.0, 0
ID       = 800
[State 801, 相手座標軸固定②]
type     = TargetBind
trigger1 = AnimElemNo(0) = 4
pos      = 53.0/2.0, -316.0/2.0;70.0/2.0, -57.0/2.0
ID       = 800
[State 801, 相手座標軸固定③]
type     = TargetBind
trigger1 = AnimElemNo(0) = 5
pos      = 53.0/2.0, -309.0/2.0;55.0/2.0, -72.0/2.0
ID       = 800
[State 801, 相手座標軸固定④]
type     = TargetBind
trigger1 = AnimElemNo(0) = 7
pos      = 53.0/2.0, -309.0/2.0;45.0/2.0, -71.0/2.0
ID       = 800
[State 801, 相手座標軸固定⑤]
type     = TargetBind
trigger1 = AnimElemNo(0) = 9
pos      = 53.0/2.0, -309.0/2.0;55.0/2.0, -72.0/2.0
ID       = 801
[State 801, 相手座標軸固定⑥]
type     = TargetBind
trigger1 = AnimElemNo(0) = 10
pos      = 32.0/2.0, -309.0/2.0;25.0/2.0, -65.0/2.0
ID       = 801
[State 801, 相手座標軸固定⑦]
type     = TargetBind
trigger1 = AnimElemNo(0) = 11
pos      = 15.0/2.0, -293.0/2.0;55.0/2.0;1.0/2.0, -56.0/2.0
ID       = 801

;━──────────────────┫キャンセルブースト┣
[State 801, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 12, >= 0
trigger1 = RoundState = 2
value    = 500

;┬────┬────────────────────────
;｜通常投げ｜相手制御／アニメ
;┴────┴────────────────────────
[Statedef 805]
type     = S
movetype = H
physics  = S
velset   = 0, 0
sprpriority = 0

[State 805, 速度設定]
type     = VelSet
trigger1 = 1
x	 = 0
y	 = 0

[State 805, アニメ変更２]
type     = ChangeAnim2
trigger1 = Anim != 805
value    = 805

[State 805, 無敵]
type     = HitBy
trigger1 = 1
value    = SCA, AA, AP

[State 805, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 806

[State 805, ステート返却／緊急脱出装置]
type     = SelfState
trigger1 = NumEnemy <= 1
trigger1 = EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),authorname = "nameless"
trigger1 = EnemyNear(0),StateNo != [800,801]
trigger2 = NumEnemy >= 2
trigger2 = EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),authorname = "nameless"
trigger2 = EnemyNear(0),StateNo != [800,801]
trigger2 = EnemyNear(1),Name = "KENSHIRO" && EnemyNear(1),authorname = "nameless"
trigger2 = EnemyNear(1),StateNo != [800,801]
trigger3 = NumEnemy >= 2
trigger3 = EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),authorname = "nameless"
trigger3 = EnemyNear(0),StateNo != [800,801]
trigger3 = !(EnemyNear(1),Name = "KENSHIRO" && EnemyNear(1),authorname = "nameless")
trigger4 = NumEnemy >= 2
trigger4 = !(EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),authorname = "nameless")
trigger4 = EnemyNear(1),Name = "KENSHIRO" && EnemyNear(1),authorname = "nameless"
trigger4 = EnemyNear(1),StateNo != [800,801]
trigger5 = Time >= 90
trigger1 = RoundState = 2
value    = 5000

;┬────┬────────────────────────
;｜通常投げ｜相手制御／硬直
;┴────┴────────────────────────
[Statedef 806]
type     = A
movetype = H
physics  = N
velset   = 0, 0
sprpriority = 0

[State 806, アニメ変更①]
type     = ChangeAnim
trigger1 = !Time
value    = 5030

[State 806, アニメ変更①]
type     = PosAdd
trigger1 = !Time
x        = 8.0/2.0
y	 = 236.0/2.0

[State 806, カメラ設定]
type     = ScreenBound
trigger1 = 1
value    = 0

[State 806, ステート変更①]
type     = ChangeState
trigger1 = Anim = 5030
trigger1 = AnimTime = 0
value    = 15035

[State 806, ステート変更②]
type     = SelfState
trigger1 = Vel Y > 0
value    = 5050

[State 806, 速度設定]
type     = HitVelSet
trigger1 = !Time
x	 = 1
y	 = 1

[State 806, 重力]
type     = VelAdd
trigger1 = 1
y	 = GetHitVar(yaccel)

[State 806, ステート返却／緊急脱出装置]
type     = SelfState
trigger1 = NumEnemy <= 1
trigger1 = EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),authorname = "nameless"
trigger1 = EnemyNear(0),StateNo != [800,801]
trigger2 = NumEnemy >= 2
trigger2 = EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),authorname = "nameless"
trigger2 = EnemyNear(0),StateNo != [800,801]
trigger2 = EnemyNear(1),Name = "KENSHIRO" && EnemyNear(1),authorname = "nameless"
trigger2 = EnemyNear(1),StateNo != [800,801]
trigger3 = NumEnemy >= 2
trigger3 = EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),authorname = "nameless"
trigger3 = EnemyNear(0),StateNo != [800,801]
trigger3 = !(EnemyNear(1),Name = "KENSHIRO" && EnemyNear(1),authorname = "nameless")
trigger4 = NumEnemy >= 2
trigger4 = !(EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),authorname = "nameless")
trigger4 = EnemyNear(1),Name = "KENSHIRO" && EnemyNear(1),authorname = "nameless"
trigger4 = EnemyNear(1),StateNo != [800,801]
trigger5 = Time >= 60
trigger1 = RoundState = 2
value    = 5000

;┳━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━
;┃掴み投げ┃
;┻━━━━┻━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 850]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 850
sprpriority = 1

[State 850, AttackDist]
type     = AttackDist
trigger1 = 1
value    = 0

[State 850, 速度設定]
type     = null
trigger1 = !Time
trigger1 = fvar(4) := 6.0/2.0
trigger2 = fvar(4) < 0.16/2.0
trigger2 = fvar(4) := 0

[State 850, 速度設定]
type     = VarSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 1, >= 2
trigger1 = movecontact != [1,var(18)]
fvar(4)  = fvar(4)*0.9

[State 850, 座標移動]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 1, >= 1
trigger1 = movecontact != [1,var(18)]
x	 = fvar(4)

[State 850, 擬似速度設定]
type     = VelSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 1, >= 1
trigger1 = movecontact != [1,var(18)]
trigger1 = var(20) = 0
x        = fvar(4)/Const(movement.stand.friction)

[State 850, 座標軸調整]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 1, >= 1
trigger1 = movecontact != [1,var(18)]
trigger1 = var(20) = 0
x        = -fvar(4)/Const(movement.stand.friction)

[State 850, ヒット定義／攻撃レベル５]
type             = HitDef
trigger1         = !movecontact && !MoveReversed && P2StateNo != 40
trigger1         = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr             = S, NT
hitflag          = H-
guardflag        = 
animtype         = Hard
damage           = floor(3*fvar(10)), 0
getpower         = 0, 0
givepower        = floor(6*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(6*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority         = 6, Miss
pausetime        = 0, 3
sparkno          = -1
guard.sparkno    = -1
hitsound         = s5, 3
guardsound       = -1
ground.slidetime = 20+(P2StateType=C)
ground.hittime   = 20+(P2StateType=C)
ground.velocity  = -16.0*0.5, -10.0*0.5
yaccel           = 1.10*0.5
p1facing         = 1
p2facing         = 1
fall             = 1
fall.recover     = 0
kill             = 0
ID               = stateno
ground.cornerpush.veloff = 0

[State 850, HitDef上書き]
type          = ReversalDef
trigger1      = P2StateNo = 40
trigger2      = ((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
reversal.attr = ;SCA, AA
pausetime     = 0, 0

[State 850, オーラゲージ増加]
type     = PowerAdd
trigger1 = RoundState = 2
trigger1 = !var(6) && movehit
value    = floor((6*1.1+var(12))*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
IgnoreHitPause = 1
Persistent     = 0

[State 850, ブーストゲージ増加]
type     = VarAdd
trigger1 = RoundState = 2
trigger1 = !var(9) && movehit
var(8)   = ceil(floor((ifelse(var(14),22,2)+var(12))*fvar(3)/(1.0+var(15)*4.0))*fvar(12)/fvar(13))
IgnoreHitPause = 1
Persistent     = 0

[State 850, ヒットエフェクト]
type           = Explod
trigger1       = movehit
anim           = 6205
pos            = 65, -115
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 24
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6205

[State 850, 相手ステート制御]
type     = TargetState
trigger1 = movehit = 1 && NumTarget
value    = 855
ID       = stateno
IgnoreHitPause = 1

[State 850, 投げ成功]
type     = ChangeState
trigger1 = movehit = 1 && NumTarget
trigger1 = Target,StateNo = 855
value    = 851
IgnoreHitPause = 1

[State 850, 投げ失敗]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━─────────────────────┫移動ブースト┣
[State 850, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 850, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 850, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 850, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 850, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 850, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 850, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 850, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬────┬────────────────────────
;｜掴み投げ｜自分制御
;┴────┴────────────────────────
[Statedef 851]
type     = U
movetype = U
physics  = S
ctrl     = 0
anim     = 851
velset   = 0, 0
sprpriority = 1

[State 851, オーラゲージ増加]
type     = PowerAdd
trigger1 = !Time
value    = floor((16*1.1+var(12))*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)

[State 851, エリアルヒットカウント調整]
type     = VarAdd
trigger1 = !Time
var(11)  = -1
Persistent = 0
IgnoreHitPause = 1

[State 851, 攻撃フラグリセット①]
type     = MoveHitReset
trigger1 = AnimElem = 6
IgnoreHitPause = 1
Persistent = 0

[State 851, 攻撃フラグリセット②]
type     = MoveHitReset
trigger1 = AnimElem = 7
IgnoreHitPause = 1
Persistent = 0

[State 851, 攻撃フラグリセット③]
type     = MoveHitReset
trigger1 = AnimElem = 8
IgnoreHitPause = 1
Persistent = 0

[State 851, 攻撃フラグリセット④]
type     = MoveHitReset
trigger1 = AnimElem = 9
IgnoreHitPause = 1
Persistent = 0

[State 851, 攻撃フラグリセット⑤]
type     = MoveHitReset
trigger1 = AnimElem = 10
IgnoreHitPause = 1
Persistent = 0

[State 851, 攻撃フラグリセット⑥]
type     = MoveHitReset
trigger1 = AnimElem = 15
IgnoreHitPause = 1
Persistent = 0

[State -3, あた！]
type       = PlaySnd
triggerall = !movehit
triggerall = !Helper(10000),var(30)
trigger1   = AnimElemNo(0) = 5
trigger2   = AnimElemNo(0) = 7
trigger3   = AnimElemNo(0) = 9
value      = 851, 0
channel    = 1

[State -3, あぁたあ！]
type       = PlaySnd
triggerall = stateno = 851
triggerall = !movehit
triggerall = !Helper(10000),var(30)
trigger1   = AnimElemNo(0) = 15
value      = 1600, 0
channel    = 1

;━───────────────────────┫相手制御┣
[State 851, 相手座標軸固定①]
type     = TargetBind
trigger1 = AnimElemNo(0) = 1
pos      = 140.0/2.0, -220.0/2.0;100.0/2.0, 0
ID       = 850

[State 851, 相手座標軸固定②]
type     = TargetBind
trigger1 = AnimElemNo(0) = 5
pos      = 140.0/2.0, -185.0/2.0
ID       = 850

[State 851, 相手座標軸固定③]
type     = TargetBind
trigger1 = AnimElemNo(0) = 6
pos      = 140.0/2.0, -195.0/2.0
ID       = 851

[State 851, 相手座標軸固定④]
type     = TargetBind
trigger1 = AnimElemNo(0) = 7
pos      = 140.0/2.0, -185.0/2.0
ID       = 851

[State 851, 相手座標軸固定⑤]
type     = TargetBind
trigger1 = AnimElemNo(0) = 8
pos      = 140.0/2.0, -195.0/2.0
ID       = 851

[State 851, 相手座標軸固定⑥]
type     = TargetBind
trigger1 = AnimElemNo(0) = 9
pos      = 140.0/2.0, -185.0/2.0
ID       = 851

[State 851, 相手座標軸固定⑦]
type     = TargetBind
trigger1 = AnimElemNo(0) = 10
pos      = 140.0/2.0, -195.0/2.0
ID       = 851

[State 851, 相手座標軸固定⑧]
type     = TargetBind
trigger1 = AnimElemNo(0) = 11
pos      = 150.0/2.0, -220.0/2.0
ID       = 851

[State 851, 相手座標軸固定⑨]
type     = TargetBind
trigger1 = AnimElemNo(0) = 15
pos      = 170.0/2.0, -10.0/2.0
ID       = 851

[State 851, 座標軸固定]
type     = BindToTarget
trigger1 = Target,StateNo = 857
pos      = 170.0/2.0, 10.0/2.0, Foot
ID       = 851
Persistent = 0

[State 851, ヒット定義／攻撃レベル４]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = M
animtype          = Medium
damage            = 0, 0;ceil(1.0*fvar(10)), 0
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 4, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = -16.0*0.5, -10.0*0.5
air.velocity      = -16.0*0.5, -10.0*0.5
airguard.velocity = -16.0*0.5, 0.0
yaccel            = 1.10*0.5
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 0
fall.recovertime  = 26+(var(15)*8)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 851, ターゲット体力減少①]
type     = TargetLifeAdd
trigger1 = movehit = 1
value    = -ceil(1.0*fvar(10))
ID       = stateno
Absolute = 1
kill     = (AnimElemNo(0)=15)

[State 851, ターゲット体力減少②]
type     = TargetLifeAdd
trigger1 = AnimElemNo(0) = 15
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

[State 851, 相手ステート制御①]
type     = TargetState
trigger1 = NumTarget
trigger1 = AnimElemNo(0) = [5,14]
trigger1 = Target,StateNo != 856
value    = 856
ID       = stateno
IgnoreHitPause = 1

[State 852, 相手ステート制御②]
type     = TargetState
trigger1 = NumTarget
trigger1 = AnimElemNo(0) = 15
trigger1 = Target,StateNo != 857
value    = 857
ID       = stateno
IgnoreHitPause = 1

[State 851, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6205
pos            = ifelse(AnimElemNo(0)<=10, (60+Random%60)/2, (60+Random%60)/2), ifelse(AnimElemNo(0)<=10, (-265+Random%124)/2, (-213+Random%75)/2)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 24
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
trans          = AddAlpha
alpha          = 256, 256
ID             = 6205

[State 851, AttackDist]
type     = AttackDist
trigger1 = 1
value    = 0

[State 851, 存在判定]
type     = PlayerPush
trigger1 = 1
value    = 0

[State 851, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━───────────────────────┫七星奪取┣
[State 851, ☆／七星奪取制限外]
type     = VarAdd
trigger1 = AnimElem = 1
var(7)   = 1
IgnoreHitPause = 1
Persistent     = 0

;━──────────────────┫キャンセルブースト┣
[State 851, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.42-(var(8)<fvar(12)*0.42)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 17, >= 0
trigger1 = RoundState = 2
value    = 500

;┬────┬────────────────────────
;｜掴み投げ｜相手制御／掴まれ①
;┴────┴────────────────────────
[Statedef 855]
type     = A
movetype = H
physics  = N
velset   = 0, 0
sprpriority = 0

[State 844, 座標設定]
type     = PosSet
trigger1 = Anim = 855
trigger1 = AnimTime = 0
y	 = 0

[State 855, 速度設定]
type     = VelSet
trigger1 = Anim = 855
trigger1 = AnimTime = 0
x	 = 0
y	 = -30.0/2.0

[State 855, 重力]
type     = VelAdd
trigger1 = !(Anim = 855 && AnimTime != 0)
y	 = 1.10/2.0

[State 855, アニメ変更２]
type     = ChangeAnim2
trigger1 = !Time
value    = 855

[State 855, アニメ変更①]
type     = ChangeAnim
trigger1 = Anim = 855
trigger1 = AnimTime = 0
value    = ifelse(SelfAnimExist(5051), 5051, 5030)

[State 855, アニメ変更②]
type     = ChangeAnim
trigger1 = Anim = 5030
trigger1 = AnimTime = 0
trigger1 = SelfAnimExist(5035)
value    = 5035

[State 855, アニメ変更③]
type     = ChangeAnim
trigger1 = Anim = 5035
trigger1 = AnimTime = 0
value    = 5050

[State 855, アニメ変更④]
type     = ChangeAnim
trigger1 = Anim = [5050,5051]
trigger1 = Vel Y > 0
trigger1 = SelfAnimExist(Anim+10)
value    = Anim+10

[State 855, 無敵]
type     = NotHitBy
trigger1 = 1
value    = SCA

[State 855, ステート変更]
type     = ChangeState
trigger1 = Anim != 855
trigger1 = Vel Y > 0 && Pos Y + Vel Y > -110
value    = 856

[State 855, ステート返却／緊急脱出装置]
type     = SelfState
trigger1 = NumEnemy <= 1
trigger1 = EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),AuthorName = "nameless"
trigger1 = EnemyNear(0),StateNo != [850,851]
trigger2 = NumEnemy >= 2
trigger2 = EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),AuthorName = "nameless"
trigger2 = EnemyNear(0),StateNo != [850,851]
trigger2 = EnemyNear(1),Name = "KENSHIRO" && EnemyNear(1),AuthorName = "nameless"
trigger2 = EnemyNear(1),StateNo != [850,851]
trigger3 = NumEnemy >= 2
trigger3 = EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),AuthorName = "nameless"
trigger3 = EnemyNear(0),StateNo != [850,851]
trigger3 = !(EnemyNear(1),Name = "KENSHIRO" && EnemyNear(1),AuthorName = "nameless")
trigger4 = NumEnemy >= 2
trigger4 = !(EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),AuthorName = "nameless")
trigger4 = EnemyNear(1),Name = "KENSHIRO" && EnemyNear(1),AuthorName = "nameless"
trigger4 = EnemyNear(1),StateNo != [850,851]
trigger5 = Time >= 60*2
trigger1 = RoundState = 2
value    = 5000

;┬────┬────────────────────────
;｜掴み投げ｜相手制御／掴まれ②
;┴────┴────────────────────────
[Statedef 856]
type     = A
movetype = H
physics  = N
velset   = 0, 0
sprpriority = 0

[State 856, アニメ変更２]
type     = ChangeAnim2
trigger1 = Anim != 856
value    = 856

[State 856, 無敵解除]
type     = HitBy
trigger1 = 1
value    = SCA, AA, AP

[State 856, ステート返却／緊急脱出装置]
type     = SelfState
trigger1 = NumEnemy <= 1
trigger1 = EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),AuthorName = "nameless"
trigger1 = EnemyNear(0),StateNo != [850,851]
trigger2 = NumEnemy >= 2
trigger2 = EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),AuthorName = "nameless"
trigger2 = EnemyNear(0),StateNo != [850,851]
trigger2 = EnemyNear(1),Name = "KENSHIRO" && EnemyNear(1),AuthorName = "nameless"
trigger2 = EnemyNear(1),StateNo != [850,851]
trigger3 = NumEnemy >= 2
trigger3 = EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),AuthorName = "nameless"
trigger3 = EnemyNear(0),StateNo != [850,851]
trigger3 = !(EnemyNear(1),Name = "KENSHIRO" && EnemyNear(1),AuthorName = "nameless")
trigger4 = NumEnemy >= 2
trigger4 = !(EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),AuthorName = "nameless")
trigger4 = EnemyNear(1),Name = "KENSHIRO" && EnemyNear(1),AuthorName = "nameless"
trigger4 = EnemyNear(1),StateNo != [850,851]
trigger5 = Time >= 60*2
trigger1 = RoundState = 2
value    = 5000

;┬────┬────────────────────────
;｜掴み投げ｜相手制御／掴まれ③
;┴────┴────────────────────────
[Statedef 857]
type     = A
movetype = H
physics  = N
velset   = 0, 0
sprpriority = 0

[State 857, 無敵解除]
type     = HitBy
trigger1 = 1
value    = SCA, AA, AP

[State 857, 座標設定]
type     = PosAdd
trigger1 = Time >= 25
x	 = -50.0/2.0
y	 = -110.0/2.0

[State 857, アニメ変更２]
type     = ChangeAnim2
trigger1 = !Time
value    = 857

[State 857, 特殊アニメ変更]
type     = ChangeAnim
trigger1 = SelfAnimExist(5900)
value    = 5900

;━─────────────────────────┫私用┣
;※5900番の特殊喰らいアニメ「ワイヤーダメージ」を使用

;━──────────────────────┫アフロン氏┣
[State 857, 固有アニメ変更]
type       = ChangeAnim
triggerall = SelfAnimExist(560)
triggerall = AuthorName = "Ahuron"
trigger1   = Name = "REI"
trigger2   = Name = "JAGI"
trigger3   = Name = "JUDA"
trigger4   = Name = "SHIN"
trigger5   = Name = "THOUTHER"
trigger6   = Name = "Mr.HEART"
value      = 560

;━─────────────────────┫ドロウィン氏┣
[State 857, 固有アニメ変更]
type       = ChangeAnim
triggerall = SelfAnimExist(5320)
triggerall = AuthorName = "Drowin hokuto"
trigger1   = name = "RAOH"
trigger2   = name = "TOKI"
trigger3   = name = "JAGI"
trigger4   = name = "KENSHIRO"
value      = 5320

;━───────────────────────┫練り茶氏┣
[State 857, 固有アニメ変更]
type       = ChangeAnim2
;triggerall = SelfAnimExist(565)
triggerall = AuthorName = "NERICYA"
trigger1   = name = "TOKI-(NERICYA)"
value      = 565

[State 857, 固有アニメ変更]
type       = ChangeAnim
triggerall = SelfAnimExist(945)
triggerall = AuthorName = "NERICYA"
trigger1   = name = "JUDA-(NERICYA)"
value      = 945

;━────────────────────────┫ rei氏┣
[State 857, 固有アニメ変更]
type       = ChangeAnim
triggerall = SelfAnimExist(926)
triggerall = AuthorName = "rei"
trigger1   = name = "Mr.HEART"
value      = 926

;━────────────────────────┫漆黒氏┣
[State 857, 固有アニメ変更]
type       = ChangeAnim
triggerall = SelfAnimExist(560)
triggerall = AuthorName = "shikkoku"
trigger1   = name = "RAOH"
value      = 560

;━───────────────────────┫ Ataru氏┣
[State 857, 固有アニメ変更]
type       = ChangeAnim2
;triggerall = SelfAnimExist(567)
triggerall = AuthorName = "Ataru"
trigger1   = name = "RAOH ATL"
value      = 567

[State 857, 固有アニメ変更]
type       = Offset
triggerall = Anim = 567
triggerall = AuthorName = "Ataru"
trigger1   = name = "RAOH ATL"
y          = 25

;━─────────────────────┫ゆ～とはる氏┣
;※5900番の特殊喰らいアニメ「ワイヤーダメージ」を使用

;━────────────────────┫こんぺいとう氏┣
[State 857, 固有アニメ変更]
type       = ChangeAnim
triggerall = SelfAnimExist(68000)
triggerall = AuthorName = "konpeitou"
trigger1   = name = "SHIN"
value      = 68000

;━───────────────────────┫SAIKEI氏┣
[State 857, 固有アニメ変更]
type       = ChangeAnim2
triggerall = AuthorName = "SAIKEI"
trigger1   = name = "KENSHIRO"
trigger2   = name = "THOUTHER"
trigger3   = name = "JUDA"
;trigger4   = name = "REI"
value      = 30763
;座標軸の都合により見送り

;━───────────────────────┫シュウ氏┣
[State 857, 固有アニメ変更]
type       = ChangeAnim2
triggerall = !Time || !HitShakeOver
triggerall = AuthorName = "shuu"
trigger1   = name = "TOKI_S"
value      = 30770 ;6f+6f=12f

;━───────────────────────┫しもつき氏┣
[State 857, 固有アニメ変更]
type       = ChangeAnim2
triggerall = !Time || !HitShakeOver
triggerall = AuthorName = "simotsuki"
trigger1   = name = "saint-of-silver"
value      = 30775 ;6f+6f=12f

[State 857, 速度設定]
type     = HitVelSet
trigger1 = Time >= 25
x	 = 1
y	 = 1

[State 857, ステート変更]
type     = SelfState
trigger1 = Time >= 25
value    = 5050

[State 857, ステート返却／緊急脱出装置]
type     = SelfState
trigger1 = NumEnemy <= 1
trigger1 = EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),AuthorName = "nameless"
trigger1 = EnemyNear(0),StateNo != [850,851]
trigger2 = NumEnemy >= 2
trigger2 = EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),AuthorName = "nameless"
trigger2 = EnemyNear(0),StateNo != [850,851]
trigger2 = EnemyNear(1),Name = "KENSHIRO" && EnemyNear(1),AuthorName = "nameless"
trigger2 = EnemyNear(1),StateNo != [850,851]
trigger3 = NumEnemy >= 2
trigger3 = EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),AuthorName = "nameless"
trigger3 = EnemyNear(0),StateNo != [850,851]
trigger3 = !(EnemyNear(1),Name = "KENSHIRO" && EnemyNear(1),AuthorName = "nameless")
trigger4 = NumEnemy >= 2
trigger4 = !(EnemyNear(0),Name = "KENSHIRO" && EnemyNear(0),AuthorName = "nameless")
trigger4 = EnemyNear(1),Name = "KENSHIRO" && EnemyNear(1),AuthorName = "nameless"
trigger4 = EnemyNear(1),StateNo != [850,851]
trigger5 = Time >= 60*2
trigger1 = RoundState = 2
value    = 5000

;┳──────┳─────────────────────━
;｜システム共通｜グレイブ・バニシング・ヘヴィー
;┻──────┻─────────────────────━
;┳━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━
;┃バニシングストライク┃
;┻━━━━━━━━━━┻━━━━━━━━━━━━━━━━━━
[Statedef 300]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 300

[State 300, ステート変更①] ;溜めない
type       = ChangeState
triggerall = AnimTime = 0
trigger1   = var(59) = 0
trigger1   = command != "hold_y" || command != "hold_b"
value      = 305

[State 300, ステート変更②] ;溜める
type       = ChangeState
triggerall = AnimTime = 0
trigger1   = var(59) = 0
trigger1   = command = "hold_y" && command = "hold_b"
value      = 301

;━─────────────────────┫移動ブースト┣
[State 300, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 300, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 300, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 300, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 300, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 300, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 300, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 300, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬────┬────────────────────────
;｜溜め動作｜
;┴────┴────────────────────────
[Statedef 301]
type     = U
movetype = U
physics  = S
ctrl     = 0
anim     = 301

[State 301, ステート変更] ;通常
type       = ChangeState
triggerall = Time < 16
trigger1   = var(59) = 0
trigger1   = command != "hold_y" || command != "hold_b"
value      = 305

[State 301, ステート変更] ;最大溜め
type       = ChangeState
triggerall = Time >= 16
trigger1   = var(59) = 0
trigger1   = command != "hold_y" || command != "hold_b"
trigger2   = Time >= 20
value      = 302

;━─────────────────────┫移動ブースト┣
[State 301, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 301, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 301, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 301, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 301, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 301, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 301, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 301, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬────┬────────────────────────
;｜最大溜め｜ガー不フラグ用
;┴────┴────────────────────────
[Statedef 302]
type     = U
movetype = U
physics  = S
ctrl     = 0

[State 302, サウンド]
type     = PlaySnd
trigger1 = 1
value    = 301, 0
IgnoreHitPause = 1
Persistent     = 0

[State 302, チャージエフェクト]
type           = Explod
trigger1       = 1
anim           = 6300
pos            = -40, -90
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 39
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6300

[State 302, ステート変更]
type     = ChangeState
trigger1 = !Time
value    = 305

;┬──────────┬──────────────────
;｜バニシングストライク｜通常／溜め
;┴──────────┴──────────────────
[Statedef 305]
type     = U
movetype = U
physics  = S
ctrl     = 0
anim     = 305+(PrevStateNo=302)

[State 305, 変数リセット／ステート内自由変数]
type     = Null
trigger1 = Time = 0
trigger1 = fvar(4) := (12.0+(PrevStateNo=302)*20.0)/2.0 && var(4) := 0
trigger2 = AnimElem = 1, >= 1 && fvar(4) <= 0.1*0.5 || PrevStateNo = 302 && AnimElem = 5
trigger2 = fvar(4) := 0

[State 305, 速度リセット]
type     = VelSet
trigger1 = AnimElem = 1, >= 1+(PrevStateNo=302)*2 && fvar(4) <= 0.1*0.5
trigger1 = var(20) = 0 && Vel X != 0
x        = 0

[State 305, 座標軸移動]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 1, >= 1+(PrevStateNo=302)*2 && fvar(4) > 0.1*0.5
trigger1 = movecontact != [1,var(18)]
x        = fvar(4)

[State 305, 擬似速度設定]
type     = VelSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 1, >= 1+(PrevStateNo=302)*2 && fvar(4) > 0.1*0.5
trigger1 = movecontact != [1,var(18)]
trigger1 = var(20) = 0
x        = fvar(4)/Const(movement.stand.friction)

[State 305, 座標軸調整]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 1, >= 1+(PrevStateNo=302)*2 && fvar(4) > 0.1*0.5
trigger1 = movecontact != [1,var(18)]
trigger1 = var(20) = 0
x        = -fvar(4)/Const(movement.stand.friction)

[State 305, 変数乗算／ステート内自由変数]
type     = VarSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 1, >= 1+(PrevStateNo=302)*2 && fvar(4) > 0.1*0.5
trigger1 = !(PrevStateNo = 302 && AnimElem = 3, >= 4)
trigger1 = movecontact != [1,var(18)]
fvar(4)  = fvar(4)*(0.80+(PrevStateNo=302)*0.10)

[State 305, 変数乗算／ステート内自由変数]
type     = VarSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 1, >= 1+(PrevStateNo=302)*2 && fvar(4) > 0.1*0.5
trigger1 = PrevStateNo = 302 && AnimElem = 3, >= 4
trigger1 = movecontact != [1,var(18)]
fvar(4)  = fvar(4)*0.20

;━──────────────────────┫ヒット設定┣
[State 305, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 1
value    = 4, 1+(PrevStateNo=302)*2

[State 305, ヒット定義／攻撃レベル４]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = MA
animtype          = Hard
damage            = ceil((floor(22*fvar(0))+(floor(22*fvar(0))=0))*fvar(10)), 0
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 5, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = -32.0*0.5*0.83, (-24.0*0.5+2.0+fvar(7))*(var(23)=0)
guard.velocity    = fvar(5)
air.velocity      = -32.0*0.5*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)
air.fall          = 0+(P2MoveType=H)
fall.recover      = 0
ID                = stateno+(PrevStateNo=302)
ground.cornerpush.veloff = 0

[State 305, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 3, >= 0
value    = 0

[State 305, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = fvar(20) := Target,Life
value    = -fvar(20)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 305, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6205
pos            = floor(P2Dist X/2 +10), floor(P2Dist Y/4 -85)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 24
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6205

[State 305, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6260
pos            = floor(P2Dist X/2 +10), floor(P2Dist Y/4 -85)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6260

[State 305, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +10), floor(P2Dist Y/4 -85)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 305, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/4 -85)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 305, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────────┫キャンセル┣
[State 305, 自動ブースト判定／ステート内自由変数]
type       = VarSet
triggerall = var(4) = 0
triggerall = NumTarget && movehit = [1,var(18)]
triggerall = Target,StateNo = [550,570]
trigger1   = var(59) = 0 && (command = "holdfwd")
var(4)     = 1*(1-(var(8)%ceil(fvar(12))&&var(9)>0)*2)

[State 305, キャンセルブースト判定／ステート内自由変数]
type       = VarSet
triggerall = Abs(var(4)) = [0,1]
triggerall = NumTarget && movehit = [1,var(18)]
triggerall = Target,StateNo = [550,570]
trigger1   = var(59) = 0 && (command = "z" && command != "holdback")
var(4)     = 2*(1-(var(8)%ceil(fvar(12))&&var(9)>0||var(4)=-1)*2)

[State 305, ブーストゲージ設定]
type       = VarSet
triggerall = Abs(var(4)) = [1,2]
triggerall = NumTarget && movehit = [1,var(18)]
triggerall = Target,StateNo = [550,570]
trigger1   = var(8) < ceil(1.00*fvar(12))
var(8)     = ceil(1.00*fvar(12))

[State 305, バニキャン入力処理]
type       = Null
triggerall = Abs(var(4)) = 1
triggerall = NumTarget && movehit = var(18)
triggerall = Target,StateNo = [550,570]
triggerall = statetype != A && var(59) = 0
trigger1   = (command = "北斗百裂拳") && var(7) = 7
trigger1   = var(21) := 3900
trigger2   = (command = "天破活殺") && power >= 1000
trigger2   = var(21) := 3200
trigger3   = (command = "北斗残悔拳") && power >= 2000 && !var(1)
trigger3   = var(21) := 3100
trigger4   = (command = "無想転生") && power >= 1000
trigger4   = var(21) := 3000
trigger5   = (command = "北斗蛇雷咬")
trigger5   = var(21) := 1600
trigger6   = (command = "北斗有情猛翔破（強）")
trigger6   = var(21) := 1510
trigger7   = (command = "北斗有情猛翔破（弱）")
trigger7   = var(21) := 1500
trigger8   = (command = "天破の構え")
trigger8   = var(21) := 1400
trigger9   = (command = "北斗飛衛拳")
trigger9   = var(21) := 1300
trigger10  = (command = "秘孔・醒鋭孔")
trigger10  = var(21) := 1200
trigger11  = (command = "闘気")
trigger11  = var(21) := 1100
trigger12  = (command = "北斗龍撃虎")
trigger12  = var(21) := 1000

[State 305, 自動ブースト] ;ブーストゲージ２０％消費
type       = ChangeState
triggerall = Abs(var(4)) = 1
triggerall = NumTarget && movehit = var(18)
triggerall = Target,StateNo = [550,570]
trigger1   = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
value      = 500

;━──────────────────┫キャンセルブースト┣
[State 305, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 3, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 305, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 305, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 305, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 305, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 305, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 305, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 305, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 305, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 305, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬－－－－－－－－－－┬－－－－－－－－－－－－－－－－－－
;￤バニシングストライク￤押し合い制御
;┴－－－－－－－－－－┴－－－－－－－－－－－－－－－－－－
[Statedef 306]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 9999
velset   = 0, 0
sprpriority = 0

[State 306, 座標軸固定]
type     = BindToRoot
trigger1 = 1
time     = 1
pos      = 0, 0

[State 306, アニメ変更]
type     = ChangeAnim
trigger1 = 1
value    = ifelse(root,StateType=S, 4000, ifelse(root,StateType=C, 4001, 4002))

[State 306, アニメ変更]
type     = ChangeAnim
trigger1 = root,Anim = [5900,5901]
value    = 4000

[State 306, アニメ変更]
type     = ChangeAnim
trigger1 = root,Anim = 5051
value    = 4000

[State 306, アニメ変更]
type     = ChangeAnim
trigger1 = (root,Anim = 5035 || root,Anim = 5050 || root,Anim = 5060) && root,Vel Y >= 0 || (root,Anim = [5080,5172])
value    = 4003

[State 306, 振り向き]
type     = Turn
trigger1 = root,facing != facing

[State 306, フラグ／自分消去／影消去]
type     = AssertSpecial
trigger1 = 1
flag     = Invisible
flag2    = noshadow

[State 306, 無敵]
type     = nothitby
trigger1 = 1
value    = SCA

[State 306, 保険]
type     = hitoverride
trigger1 = 1
attr     = SCA, AA, AP, AT
stateno  = 306
IgnoreHitPause = 1

[State 306, 押し合い判定]
type     = PlayerPush
trigger1 = 1;root,P2Dist Y < -root,Const(size.height)
trigger1 = 0;!(root,StateType = A && root,var(14) = 1)
value    = 1

[State 306, 押し合い判定]
type       = PlayerPush
triggerall = root,MoveType != H; && (var(14) = 0 && var(15) = 0)
trigger1   = root,StateType != A && (EnemyNear,StateType = A && root,var(14) = 0) && EnemyNear,Anim != 5052
trigger1   = root,P2Dist Y < (-195.0+70.0*(root,StateType=C)+120.0*(EnemyNear,Anim!=5060))/2.0 || root,P2Dist Y >= (240.0-180.0*(EnemyNear,Anim=5060))/2.0
trigger2   = root,StateType = A && (EnemyNear,StateType = A && root,var(14) = 0) && EnemyNear,Anim != 5052
trigger2   = root,P2Dist Y < (-267.0+120.0*(EnemyNear,Anim!=5060))/2.0 || root,P2Dist Y >= (-126.0+200.0-170.0*(EnemyNear,Anim=5060))/2.0
trigger3   = root,StateType = A && (EnemyNear,StateType != A || root,var(14) = 1 || EnemyNear,Anim = 5052)
trigger3   = root,P2Dist Y < -267.0/2.0 || P2Dist Y >= (195.0-126.0-15*(root,P2Dist X<0))/2.0
trigger4   = root,P2BodyDist X < -25-EnemyNear,Const(size.air.front)*(EnemyNear,facing=facing)-EnemyNear,Const(size.air.back)*(EnemyNear,facing!=facing)
trigger4   = EnemyNear,StateType = A
value      = 0
IgnoreHitPause = 1

[State 306, ヘルパー消去]
type     = null;destroyself
trigger1 = P2StateNo != [565,570]
trigger2 = P2Dist X < 0
trigger3 = root,MoveType = H

;┳━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━
;┃グレイブシュート┃
;┻━━━━━━━━┻━━━━━━━━━━━━━━━━━━━━
[Statedef 310]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 310+1*(Helper(10000),var(40)!=0&&var(10))

;━──────────────────────┫ヒット設定┣
[State 310, サウンド]
type     = PlaySnd
trigger1 = AnimElem = 3
value    = 4, 2
Persistent = 0

[State 310, ヒット定義／攻撃レベル５①]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25) && var(23) = 0
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = MA
animtype          = DiagUp
damage            = ceil((floor(22*fvar(0))+(floor(22*fvar(0))=0))*fvar(10)), 0
getpower          = 0, 0
givepower         = floor(16*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(16*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 6, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 20+(P2StateType=C)
ground.hittime    = 20+(P2StateType=C)
guard.slidetime   = 18
guard.hittime     = 18
air.hittime       = 20
ground.velocity   = 0.0, fvar(6)
guard.velocity    = fvar(5)*0.82
air.velocity      = (-0.0*0.5+(0.0-48.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 30+(var(15)*10)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 310, ヒット定義／攻撃レベル５②]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25) && var(23) >= 1
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, NA
hitflag           = MAF
guardflag         = MA
animtype          = Back
damage            = ceil((floor(22*fvar(0))+(floor(22*fvar(0))=0))*fvar(10)), ceil((floor(22*0.1)+(floor(22*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(16*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(16*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 6, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 20+(P2StateType=C)
ground.hittime    = 20+(P2StateType=C)
guard.slidetime   = 18
guard.hittime     = 18
air.hittime       = 20
ground.velocity   = 0.0, fvar(6)
guard.velocity    = fvar(5)*0.82
air.velocity      = (-0.0*0.5+(0.0-48.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 30+(var(15)*10)+var(18)
ID                = stateno
ground.cornerpush.veloff = 0

[State 310, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 6, >= 0
value    = 0

[State 310, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit
trigger1 = var(0) >= 3 || var(0) >= 2 && var(29)/10000
trigger1 = fvar(4) := Target,Life
value    = -fvar(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 310, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6205
pos            = floor(P2Dist X/2 +30), floor(P2Dist Y/2 -80)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 24
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6205

[State 310, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6260
pos            = floor(P2Dist X/2 +10), floor(P2Dist Y/2 -80)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6260

[State 310, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +10), floor(P2Dist Y/2 -80)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 310, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/2 -80)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 310, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────────┫キャンセル┣
[State 310, 入力判定リセット／ステート内自由変数]
type     = VarSet
trigger1 = !Time
var(4)   = 9999

[State 310, 入力判定／ステート内自由変数]
type       = VarSet
triggerall = movehit
trigger1   = var(59) = 0
trigger1   = (command = "holdup" || sysvar(2)%100/1 > 0)
var(4)     = 0+(command = "holdfwd")-(command = "holdback")

[State 310, ジャンプキャンセル]
type     = ChangeState
trigger1 = RoundState = 2
trigger1 = movehit > var(18)
trigger1 = var(4) = [-1,1]
value    = 40

;━──────────────────┫キャンセルブースト┣
[State 310, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.50-(var(8)<fvar(12)*0.50)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 6, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 310, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 310, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 310, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 310, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 310, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 310, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 310, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 310, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 310, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┳━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━
;┃ヘヴィーストライク┃ガー不
;┻━━━━━━━━━┻━━━━━━━━━━━━━━━━━━━
[Statedef 320]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 320+1*(Helper(10000),var(40)!=0&&var(10))

[State 320, 変数リセット／ステート内自由変数]
type     = Null
trigger1 = Time = 0
trigger1 = fvar(4) := 32.0/2.0
trigger2 = AnimElem = 9, >= 1 && fvar(4) <= 0.16*0.5
trigger2 = fvar(4) := 0

[State 320, 速度リセット]
type     = VelSet
trigger1 = AnimElem = 9, >= 1 && fvar(4) <= 0.16*0.5
trigger1 = var(20) = 0 && Vel X != 0
x        = 0

[State 320, 座標軸移動]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 9, >= 1 && fvar(4) > 0.16*0.5
trigger1 = movecontact != [1,var(18)]
x        = fvar(4)

[State 320, 擬似速度設定]
type     = VelSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 9, >= 1 && fvar(4) > 0.16*0.5
trigger1 = movecontact != [1,var(18)]
trigger1 = var(20) = 0
x        = fvar(4)/Const(movement.stand.friction)

[State 320, 座標軸調整]
type     = PosAdd
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 9, >= 1 && fvar(4) > 0.16*0.5
trigger1 = movecontact != [1,var(18)]
trigger1 = var(20) = 0
x        = -fvar(4)/Const(movement.stand.friction)

[State 320, 変数乗算／ステート内自由変数]
type     = VarSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 9, >= 1 && AnimElemNo(0) < 13 && fvar(4) > 0.16*0.5
trigger1 = movecontact != [1,var(18)]
fvar(4)  = fvar(4)*0.90

[State 320, 変数乗算／ステート内自由変数]
type     = VarSet
trigger1 = NumHelper(10000)
trigger1 = !Helper(10000),NumTarget
trigger1 = AnimElem = 13, >= 0 && fvar(4) > 0.16*0.5
trigger1 = movecontact != [1,var(18)]
fvar(4)  = fvar(4)*0.20

[State 320, チャージエフェクト]
type           = Explod
trigger1       = !Time
anim           = 6300
pos            = -30, -90
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 39
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6300

[State 320, サウンド①]
type     = PlaySnd
trigger1 = AnimElem = 1
value    = 301, 0

;━──────────────────────┫ヒット設定┣
[State 320, サウンド②]
type     = PlaySnd
trigger1 = AnimElem = 9
value    = 4, 3

[State 320, ヒット定義／攻撃レベル４]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = , NA
hitflag           = MAF
guardflag         = 
animtype          = Hard
damage            = ceil((floor(6*fvar(0))+(floor(6*fvar(0))=0))*fvar(10)), ceil((floor(6*0.1)+(floor(6*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(14*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(14*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 6, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = -1
ground.type       = High
ground.slidetime  = 17+(P2StateType=C)
ground.hittime    = 17+(P2StateType=C)
guard.slidetime   = 15
guard.hittime     = 15
air.hittime       = 17
ground.velocity   = -8.0*0.5*(P2StateNo=[325,326])*(P2MoveType=H), fvar(6)*(P2StateNo=[325,326])*(P2MoveType=H)
guard.velocity    = fvar(5)*0.83
air.velocity      = (-8.0*0.5+(8.0-32.0)*(var(23)>=1)*0.5)*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = fvar(7)
p2facing          = 1-(P2Dist X<0)*2
fall              = 0+(var(23)>=1)+(P2StateNo=[325,326])*(P2MoveType=H)
air.fall          = 1
fall.recover      = 1
fall.recovertime  = 26+(var(15)*9)+var(18)
ID                = stateno
kill              = 0
ground.cornerpush.veloff = 0

[State 320, 相手ステート制御]
type     = TargetState
trigger1 = movehit = 1 && NumTarget
trigger1 = Target,StateType != A && Target,StateType != L
trigger1 = Target,PrevStateNo != [325,326]
value    = 325
ID       = stateno
IgnoreHitPause = 1
Persistent     = 0

[State 320, サウンド]
type     = PlaySnd
trigger1 = movehit = 1 && NumTarget
trigger1 = Target,StateNo = 325
value    = 325, 0
IgnoreHitPause = 1
Persistent     = 0

[State 320, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit >= 2
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life-1
value    = -var(4)
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 320, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6205
pos            = floor(P2Dist X/2 +20), floor(P2Dist Y/4 -70)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 24
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6205

[State 320, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +20), floor(P2Dist Y/4 -70)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 320, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/4 -70)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 320, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;━──────────────────┫キャンセルブースト┣
[State 320, ステート変更]
type     = ChangeState
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil((0.50-(var(8)<fvar(12)*0.50)*0.18)*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = AnimElem = 11, >= 0 || movecontact
trigger1 = RoundState = 2
value    = 500

;━─────────────────────┫移動ブースト┣
[State 320, 摩擦判定／入力セット]
type     = VarSet
trigger1 = var(8) >= ceil(1.00*fvar(12)) || var(9) > 0 && var(8) >= ceil(1.0/6*fvar(12))
trigger1 = command = "z" && command != "holdback" && var(59) = 0
trigger1 = RoundState = 2
var(20)  = 10+1

[State 320, 擬似HitPause解除]
type     = VarSet
trigger1 = movecontact = [1,var(18)]
trigger1 = floor(var(20)%10) = 1
var(18)  = 1

[State 320, 速度設定]
type     = VelSet
trigger1 = floor(var(20)%10) = 1
x        = 16.0*0.9

[State 320, サウンド]
type     = PlaySnd
trigger1 = floor(var(20)%10) = 1
value    = 501, 0

[State 320, 色変更]
type     = PalFx
trigger1 = floor(var(20)%10) = 1
Time     = 10
add      = 255, 255, 255

[State 320, エフェクト]
type           = Explod
trigger1       = floor(var(20)%10) = 1
anim           = 6500
pos            = 0, const(size.mid.pos.y)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 2
ownpal         = 1
bindtime       = 1
removetime     = 32
supermovetime  = 32
pausemovetime  = 32
removeongethit = 0
ID             = 6500

[State 320, ブーストゲージ減少]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(8)   = -ceil(1.0/6*fvar(12))

[State 320, 摩擦判定／入力リセット]
type     = VarAdd
trigger1 = floor(var(20)%10) = 1
var(20)  = -1

[State 320, ステート設定]
type     = StateTypeSet
trigger1 = var(20) = 10
Physics  = N

;┬─────┬───────────────────────
;｜秘孔よろけ｜ヒット硬直
;┴─────┴───────────────────────
[Statedef 325]
type     = S
movetype = H
physics  = S
ctrl     = 0
;anim     = 5300

[State 325, ステート返却／緊急脱出装置]
type     = SelfState
trigger1 = !Alive
value    = 5000
ctrl     = 0

[State 325, アニメ変更]
type     = ChangeAnim
trigger1 = !Time || !HitShakeOver
value    = 5300+(SelfAnimExist(5910))*(5910-5300)

[State 325, ステート変更]
type     = ChangeState
trigger1 = HitShakeOver
value    = 326

;┬─────┬───────────────────────
;｜秘孔よろけ｜よろけキャンセル可能
;┴─────┴───────────────────────
[Statedef 326]
type     = S
movetype = H
physics  = S
ctrl     = 0
;anim     = 5300

;━───────────────────┫よろけキャンセル┣
[State 326, コントロールフラグ]
type       = CtrlSet
triggerall = Time >= GetHitVar(SlideTime)+3-(Name="THOUTHER")*2-(Name="Mr.HEART")*4
triggerall = power >= 500
trigger1   = command = "x" || command = "y" || command = "z"
trigger2   = command = "a" || command = "b" || command = "c"
value      = 1

[State 326, ゲージ減少]
type     = PowerAdd
trigger1 = Time >= GetHitVar(SlideTime)+3-(Name="THOUTHER")*2-(Name="Mr.HEART")*4
trigger1 = ctrl = 1
value    = -500

[State 326, ステート返却／ジャンプ移行]
type     = SelfState
trigger1 = Time >= GetHitVar(SlideTime)+3-(Name="THOUTHER")*2-(Name="Mr.HEART")*4
trigger1 = ctrl = 1 && command = "holdup"
value    = 40
ctrl     = 1

[State 326, ステート返却／歩き]
type     = SelfState
trigger1 = Time >= GetHitVar(SlideTime)+3-(Name="THOUTHER")*2-(Name="Mr.HEART")*4
trigger1 = ctrl = 1 && (command = "holdfwd" && command != "holdback" || command != "holdfwd" && command = "holdback") && command != "holddown"
value    = 20
ctrl     = 1

[State 326, ステート返却／屈み移行]
type     = SelfState
trigger1 = Time >= GetHitVar(SlideTime)+3-(Name="THOUTHER")*2-(Name="Mr.HEART")*4
trigger1 = ctrl = 1 && command = "holddown"
value    = 10
ctrl     = 1

[State 326, ステート返却／立ち]
type     = SelfState
trigger1 = Time >= GetHitVar(SlideTime)+3-(Name="THOUTHER")*2-(Name="Mr.HEART")*4
trigger1 = ctrl = 1
value    = 0
ctrl     = 1

[State 326, ステート返却／バックステップ]
type     = SelfState
trigger1 = Time >= GetHitVar(SlideTime)+3-(Name="THOUTHER")*2-(Name="Mr.HEART")*4
trigger1 = command = "BB"
value    = 105
ctrl     = 1

[State 326, ステート返却／ガード]
type     = SelfState
trigger1 = Time >= GetHitVar(SlideTime)+3-(Name="THOUTHER")*2-(Name="Mr.HEART")*4
trigger1 = InGuardDist
trigger1 = command = "holdback"
value    = 130+(command = "holddown")
ctrl     = 1

;━────────────────┫よろけキャンセル未使用┣
[State 326, ステート変更]
type     = ChangeState
trigger1 = Time >= 90
value    = 327

;┬─────┬───────────────────────
;｜秘孔よろけ｜よろけキャンセル未使用
;┴─────┴───────────────────────
[Statedef 327]
type     = S
movetype = H
physics  = S
ctrl     = 0
;anim     = 5300

[State 327, ステート返却]
type     = SelfState
trigger1 = 1
value    = 0
ctrl     = 1

;┳━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━
;┃ガードキャンセル┃
;┻━━━━━━━━┻━━━━━━━━━━━━━━━━━━━━
[Statedef 350]
type     = S
movetype = A
physics  = S
ctrl     = 0
facep2   = 1
anim     = 350
velset   = 0, 0
poweradd = -1000
sprpriority = 1

[State 350, 無敵]
type     = nothitby
trigger1 = AnimElemNo(0) < 8
value    = SCA
time     = 1

[State 350, 時間停止]
type     = Pause
trigger1 = !Time
time     = 19
movetime = 19

[State 350, 色変更]
type     = PalFx
trigger1 = Time = [0,8]
Time     = 1
add      = 255-(Time-1)*32, 255-(Time-1)*32, 255-(Time-1)*32

;━──────────────────────┫ヒット設定┣
[State 350, サウンド]
type     = PlaySnd
trigger1 = 0
value    = 4, 1

[State 350, ヒット定義／攻撃レベル５]
type              = HitDef
trigger1          = !movecontact && !MoveReversed && !var(25)
trigger1          = !((EnemyNear,StateNo=[5000,5011])&&EnemyNear,Time=EnemyNear,GetHitVar(SlideTime))
attr              = S, SA
hitflag           = MAF
guardflag         = MA
animtype          = Back
damage            = ceil((floor(13*fvar(0))+(floor(13*fvar(0))=0))*fvar(10)), ceil((floor(13*0.1)+(floor(13*0.1)=0))*fvar(10))*(var(29)>0)
getpower          = 0, 0
givepower         = floor(16*1.1/2.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5), floor(16*1.1/3.0*(0.5**((var(8)%ceil(fvar(12))&&var(9)>0)+var(14)))/(1.0+var(15)*2.0)*fvar(3)*fvar(11)+0.5)
priority          = 6, Hit
pausetime         = 0, var(18)
sparkno           = -1
guard.sparkno     = -1
sparkxy           = 0, 0
hitsound          = s5, 3
guardsound        = s6, 2
ground.type       = High
ground.slidetime  = 20+(P2StateType=C)
ground.hittime    = 20+(P2StateType=C)
guard.slidetime   = 18
guard.hittime     = 18
air.hittime       = 20
ground.velocity   = -32.0*0.5, fvar(6)
guard.velocity    = fvar(5)*0.82
air.velocity      = -32.0*0.5*(var(15)=0), fvar(6)
airguard.velocity = fvar(5), 0.0
yaccel            = 4.0/2.0
p2facing          = 1-(P2Dist X<0)*2
fall              = 1
air.fall          = 1
fall.recover      = 0
ID                = stateno
kill              = 0
ground.cornerpush.veloff = 0

[State 350, AttackDist]
type     = AttackDist
trigger1 = AnimElem = 8, >= 0
value    = 0

[State 350, ターゲット体力減少]
type     = TargetLifeAdd
trigger1 = movehit >= 2
trigger1 = var(29)/10000
trigger1 = var(0) >= 2
trigger1 = var(4) := Target,Life-1
value    = -var(4)
kill     = 0
ID       = stateno
Absolute = 1
Persistent = 0

;━──────────────────────┫エフェクト┣
[State 350, ヒットエフェクト]
type           = Explod
trigger1       = movehit = 1
anim           = 6205
pos            = floor(P2Dist X/2 +10), floor(P2Dist Y/4 -85)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 24
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6205

[State 350, ガードエフェクト]
type           = Explod
trigger1       = moveguarded = 1
anim           = 6260
pos            = floor(P2Dist X/2 +10), floor(P2Dist Y/4 -85)
postype        = p1
scale          = 0.5, 0.5
sprpriority    = 3
ownpal         = 1
bindtime       = 1
removetime     = 18
supermovetime  = 9999
pausemovetime  = 9999
removeongethit = 0
IgnoreHitPause = 1
Persistent     = 0
trans          = AddAlpha
alpha          = 256, 256
ID             = 6260

[State 350, カウンターエフェクト]
type          = Helper
trigger1      = movehit = 1 && var(3)
helpertype    = Normal
name          = "counter"
ID            = 6220
stateno       = 6220
pos           = floor(P2Dist X/2 +10), floor(P2Dist Y/4 -85)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 350, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/4 -85)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 350, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－
;──────────────────────────────
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 350, 相殺エフェクト]
type          = Helper
trigger1      = NumHelper(10000)
trigger1      = Helper(10000),NumTarget
helpertype    = Normal
name          = "offset"
ID            = 6225
stateno       = 6225
pos           = floor(P2Dist X/2 +0), floor(P2Dist Y/4 -85)
postype       = p1
keyctrl       = 0
ownpal        = 1
supermovetime = 9999
pausemovetime = 9999
IgnoreHitPause = 1
Persistent     = 0

[State 350, ステート変更]
type     = ChangeState
trigger1 = AnimTime = 0
value    = 0
ctrl     = 1

;－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－
;──────────────────────────────
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
