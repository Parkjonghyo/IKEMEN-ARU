[Data]
Life = 1000
Power = 5000
Attack = 100
Defence = 100
Fall.Defence_Up = 50
Liedown.Time = 30
AirJuggle = 15
SparkNo = -1
Guard.SparkNo = -1
KO.Echo = 0
 VolumeScale = 100
  IntPersistIndex = 13
FloatPersistIndex = 2

[Size]
xscale = 1
yscale = 1
ground.back = 15
ground.front = 15
air.back = 15
air.front = 15
height = 65
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -85
mid.pos = 0, -55
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 2.5
walk.back = -2.1
run.fwd  = 4.6, 0
run.back = -4.5,-3.8
jump.neu = 0,-7.9
jump.back = -2.25
jump.fwd = 3.25
runjump.back = -2.25,-7.9
runjump.fwd = 3.25,-7.9
airjump.neu = 0,-7.9
airjump.back = -2.25
airjump.fwd = 3.25
air.gethit.groundrecover = 0,-4.5
air.gethit.airrecover.mul = 0,0
air.gethit.airrecover.add = 0,-4.5
air.gethit.airrecover.back = -3.5
air.gethit.airrecover.fwd = 3.5
air.gethit.airrecover.up = -9.25
air.gethit.airrecover.down = -9.25

[Movement]
airjump.num = 0
airjump.height = 35
yaccel = .48
stand.friction = .85
crouch.friction = .82
stand.friction.threshold = 2
crouch.friction.threshold = .05
air.gethit.groundlevel = 25
air.gethit.groundrecover.ground.threshold = 0
air.gethit.groundrecover.groundlevel = 0
air.gethit.airrecover.threshold = -9999
air.gethit.airrecover.yaccel = .46
air.gethit.trip.groundlevel = 15
down.bounce.offset = 0, 20
down.bounce.yaccel = .4
down.bounce.groundlevel = 12
down.friction.threshold = .05

;---------------------------------------------------------------------------
; タイムオーバーで負けた時
[Statedef 170]
Ctrl = 0
Anim = 170
VelSet = 0,0

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s5000, 0
Channel = 1

[State ]
Type = AssertSpecial
Trigger1 = Time < 121
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作１
[Statedef 180]
Ctrl = 0
Anim = 181
VelSet = 0,0

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State ]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = Cond(FVar(39)>1,1,0),1

[State ]
Type = ChangeState
Trigger1 = Var(1) = 1
Trigger1 = Time = 0
Value = 181

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Trigger2 = AnimElem = 8
Value = s10, 0
Channel = 5

[State ]
Type = AssertSpecial
Trigger1 = Time < 131
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作２
[Statedef 181]
Ctrl = 0
Anim = 182
VelSet = 0,0

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State ]
Type = PlaySnd
Trigger1 = Time = 1
Value = s900, 2
Channel = 1

[State ]
Type = Helper
Trigger1 = Time = 0
StateNo = 185
ID = 185
Ownpal = 1

[State ]
Type = AssertSpecial
Trigger1 = Time < 181
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 負けた次のラウンド開始前の動作
[Statedef 189]
Ctrl = 0
Anim = 189
VelSet = 0,0

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State ]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 1
Range = 0,1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 1
Value = s3001, 1
Channel = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 1
Value = s185, 0
Channel = 1

[State ]
Type = PlaySnd
Trigger1 = Time = 23 || Time = 47
Value = s41, 1
Channel = 3

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s30, 0
Channel = 4

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 12
Value = s110, 0
Channel = 3

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 12
Value = s30, 1
Channel = 4

[State ]
Type = Explod
Trigger1 = AnimElem = 7
Anim = 305
ID = 305
PosType = P1
Pos = 35,-80
Ownpal = 1
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = AnimElem = 12
Anim = 325
ID = 315
PosType = P1
Pos = 75,-72
Ownpal = 1
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 23 || Time = 47
Anim = 50
ID = 50
Postype = P1
Ownpal = 1
SprPriority = 4

[State ]
Type = Explod
Trigger1 = Time = 63
Anim = 51
ID = 51
Postype = P1
Pos = 60,0
Facing = -1
Vel = 1,0
Ownpal = 1
SprPriority = 4
Persistent = 0

[State ]
Type = PosAdd
Trigger1 = Time = [1,10]
Trigger2 = Time = [25,34]
Y = -1

[State ]
Type = PosAdd
Trigger1 = Time = [12,21]
Trigger2 = Time = [36,45]
Y = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; 開始前の動作 1
[Statedef 191]
Ctrl = 0
Anim = 190
VelSet = 0,0

[State ]
Type = ChangeState
Trigger1 = Enemy,Name = "Kyoudou_Senna" || Enemy,Name = "Kyoudou Senna" || Enemy,Name = "Senna_Kyoudou" || Enemy,Name = "Senna Kyoudou"
Trigger2 = Enemy,Name = "Tenrou_Kunagi" || Enemy,Name = "Tenrou Kunagi" || Enemy,Name = "Kunagi_Tenrou" || Enemy,Name = "Kunagi Tenrou"
Trigger3 = Enemy,Name = "Nakanishi_Kendo&Kyudo" || Enemy,Name = "Nakanishi Kendo&Kyudo" || Enemy,Name = "Kendo&Kyudo"
Value = 192

[State ]
Type = ChangeState
Trigger1 = Enemy,Name = "Agito_Of_The_Dark" || Enemy,Name = "Kyoudou Senna" || Enemy,Name = "Agito"
Value = 193

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State ]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,1

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s190, Var(1)
Channel = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Trigger2 = AnimElem = 8
Value = s10, 0
Channel = 5

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; 開始前の動作 2
[Statedef 192]
Ctrl = 0
Anim = 191
VelSet = 0,0

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State ]
Type = PlaySnd
Trigger1 = Time = 10
Value = s190, 3
Channel = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; 開始前の動作 3
[Statedef 193]
Ctrl = 0
Anim = 192
VelSet = 0,0

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s190, 2
Channel = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4 || AnimElem = 8
Value = s10, 0
Channel = 5

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; エンハンス
[Statedef 195]
Ctrl = 0
Anim = 195
Physics = S
VelSet = 0,0
Sprpriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s195, Var(1)
Channel = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4 || AnimElem = 8
Value = s10, 0
Channel = 5

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 12
Value = s191, 0
Channel = 4

[State ]
Type = VarAdd
Trigger1 = Var(15) < 3
Trigger1 = AnimElem = 12
V = 15
Value = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 12
ID = 196
PosType = P1
Anim = 196
Vel = 0,1.6
Ownpal = 1
SprPriority = 4

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 5L
[Statedef 200]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 200
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 3
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=3),0,1)
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = Time = 1
V = 1
Range = 0,4
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,2]
Trigger1 = Time = 1
Value = s200, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 2
Attr = S, NA
Damage = Ceil(FVar(0)*(12-Var(5)%2))
AnimType = Light
GuardFlag = MA
HitFlag = MAFD
PauseTime = 6+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),7+Cond(P2StateType=A,2,Cond(P2StateType=L,2,6))
Guard.PauseTime = 6+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 7+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound = s10, 0
GuardSound = s120, 0+Random%2
Ground.Type = High
Ground.SlideTime = 9
Ground.HitTime  = 9+Cond(P2StateType=C,1,0)
Guard.HitTime  = 9
Ground.Velocity = -6*FVar(4)
AirGuard.Velocity = -3*FVar(4),-1.2
Air.Velocity = -1.2*FVar(4),-4
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
ID = 200
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 25
GetPower = Ceil(140*Var(39)*0.1), Ceil(60*Var(39)*0.1)
GivePower = Ceil(140*(10-Var(39))*0.1), Ceil(60*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;5M
[Statedef 210]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 210
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 4
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=4),0,1)
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,4
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,2]
Trigger1 = AnimElem = 2
Value = s210, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 3
Attr = S, NA
Damage = Ceil(FVar(0)*(21-Var(5)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = MA
PauseTime = 8+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),9+Cond(P2StateType=A,2,Cond(P2StateType=L,2,6))
Guard.PauseTime = 8+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 9+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,1
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 14+Cond(Var(38)=1,5,0)
Ground.HitTime  = 14+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,2,0)
Guard.HitTime  = 14
Ground.Velocity = -7.5*FVar(4)
Air.Velocity = -1.2*FVar(4),-5
AirGuard.Velocity = -3*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 29
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;スウェー・前
[Statedef 220]
Type    = S
Physics = S
Ctrl = 0
VelSet = 0,0
Anim = 220
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -8

[State ]
Type = NotHitBy
Trigger1 = Time = [3,13]
Value = , NA, SA, HA ,NP, SP, HP
Time = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s225, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = Time = [3,7]
ID = 221
PosType = P1
Pos = 12,0
StateNo = 221
Ownpal = 1
Persistent = 2

[State ]
Type = Explod
Trigger1 = Time = 3
Anim = 222
ID = 222
Postype = P1
Pos = 12,0
Ownpal = 1
SprPriority = 4

[State ]
Type = PosAdd
Trigger1 = Time = [3,9]
X = 12

[State ]
Type = PosAdd
Trigger1 = Time = [10,11]
X = 8

[State ]
Type = PosAdd
Trigger1 = Time = [12,13]
X = 5

[State ]
Type = PosAdd
Trigger1 = Time = [14,15]
X = 3

[State ]
Type = PosAdd
Trigger1 = Time = [16,17]
X = 1

[State ]
Type = PosAdd
Trigger1 = Time = 19
X = 1

[State ]
Type = ChangeState
Trigger1 = Var(59) <= 0
Trigger1 = Var(2) != 0
Trigger1 = Var(14) > 31
Trigger1 = Time >= 6
Trigger1 = Command = "a"
Value = 230

[State ]
Type = ChangeState
Trigger1 = Var(59) <= 0
Trigger1 = Var(2) != 0
Trigger1 = Var(14) > 6
Trigger1 = Time >= 6
Trigger1 = Command = "b"
Value = 235

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;スウェー・後
[Statedef 225]
Type    = S
Physics = S
Ctrl = 0
VelSet = 0,0
Anim = 225
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -9

[State ]
Type = NotHitBy
Trigger1 = Time = [3,13]
Value = , NA, SA, HA ,NP, SP, HP
Time = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s225, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = Time = [3,7]
ID = 226
PosType = P1
Pos = -8,0
StateNo = 221
Ownpal = 1
Persistent = 2

[State ]
Type = Explod
Trigger1 = Time = 3
Anim = 222
ID = 222
Postype = P1
Facing = -1
Ownpal = 1
SprPriority = 4

[State ]
Type = PosAdd
Trigger1 = Time = [3,9]
X = -8

[State ]
Type = PosAdd
Trigger1 = Time = [10,11]
X = -5

[State ]
Type = PosAdd
Trigger1 = Time = [12,13]
X = -3

[State ]
Type = PosAdd
Trigger1 = Time = [14,15]
X = -1

[State ]
Type = PosAdd
Trigger1 = Time = 17
X = -1

[State ]
Type = ChangeState
Trigger1 = Var(59) <= 0
Trigger1 = Var(2) != 0
Trigger1 = Var(14) > 31
Trigger1 = Time >= 6
Trigger1 = Command = "a"
Value = 230

[State ]
Type = ChangeState
Trigger1 = Var(59) <= 0
Trigger1 = Var(2) != 0
Trigger1 = Var(14) > 6
Trigger1 = Time >= 6
Trigger1 = Command = "b"
Value = 235

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;スウェー〜チョッピング
[Statedef 230]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 230
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 5
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=5),0,1)
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -31

[State ]
Type = VelSet
Trigger1 = Time = [7,9]
X = 13

[State ]
Type = VelSet
Trigger1 = Time = 10
X = 8

[State ]
Type = VelSet
Trigger1 = Time = 11
X = 4

[State ]
Type = VelSet
Trigger1 = Time = 12
X = 1

[State ]
Type = VelSet
Trigger1 = Time = 13
X = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 2
Anim = 51
ID = 51
Postype = P1
Pos = -8,0
Vel = -1,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3, = 1
Value = s30, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 4
Attr = S, NA
Damage = Ceil(FVar(0)*(45-Var(5)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = MA
PauseTime = 10,10
Guard.PauseTime = 10, 11
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 12+Cond(Var(38)=1,5,0)
Ground.HitTime  = 12+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 12
Ground.Velocity = -7*FVar(4)
Air.Velocity = -5*FVar(4),20
AirGuard.Velocity = -3*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 11
EnvShake.Ampl = 4
EnvShake.Freq = 90
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(200*Var(39)*0.1), Ceil(90*Var(39)*0.1)
GivePower = Ceil(200*(10-Var(39))*0.1), Ceil(90*(10-Var(39))*0.1)

[State ]
Type = HitDef
TriggerAll = Var(25) = [-1,1]
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 4
Attr = S, NA
Damage = Ceil(FVar(0)*(45-Var(5)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = MA
PauseTime = 10,10
Guard.PauseTime = 10, 11
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 12+Cond(Var(38)=1,5,0)
Ground.HitTime  = 12+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 12
Ground.Velocity = -7*FVar(4)
Air.Velocity = -5*FVar(4),20
AirGuard.Velocity = -3*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 11
EnvShake.Ampl = 4
EnvShake.Freq = 90
ID = 5700
P2Facing = 1
P2StateNo = 5710
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(200*Var(39)*0.1), Ceil(90*Var(39)*0.1)
GivePower = Ceil(200*(10-Var(39))*0.1), Ceil(90*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;スウェー〜右ストレート
[Statedef 235]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 235
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 6
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=6),0,1)
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -6

[State ]
Type = VelSet
Trigger1 = Time = [0,3]
X = 10

[State ]
Type = VelSet
Trigger1 = Time = [4,5]
X = 6

[State ]
Type = VelSet
Trigger1 = Time = [6,7]
X = 2

[State ]
Type = VelSet
Trigger1 = Time = [8,9]
X = 1

[State ]
Type = VelSet
Trigger1 = Time = 10
X = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 1
Anim = 52
ID = 52
Postype = P1
Pos = -18,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 4
Anim = 51
ID = 51
Postype = P1
Pos = 44,0
Facing = -1
Vel = 1,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s235, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = P2StateType != S && P2StateType != C
Trigger1 = Var(6) = 0 && AnimElemNo(0) = [4,5]
Attr = S, NA
Damage = Ceil(FVar(0)*(75-Var(5)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = M
PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 16+Cond(Var(38)=1,5,0)
Ground.HitTime  = 16+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 16
Ground.Velocity = -7*FVar(4)
Air.Velocity = -1.6*FVar(4),-5
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 11
EnvShake.Ampl = 4
EnvShake.Freq = 90
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 33
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = Var(6) = 0 && AnimElemNo(0) = [4,5]
Attr = S, NA
Damage = Ceil(FVar(0)*(75-Var(5)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = M
PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 16+Cond(Var(38)=1,5,0)
Ground.HitTime  = 16+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 16
Ground.Velocity = 0
Guard.Velocity = -8*FVar(4)
Air.Velocity = -1.6*FVar(4),-5
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 11
EnvShake.Ampl = 4
EnvShake.Freq = 90
ID = 5600
P2Facing = 1
P2StateNo = 5600
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 1
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;ボディブロウ
[Statedef 240]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 240
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 5
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=5),0,1)
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -13

[State ]
Type = PosAdd
Trigger1 = Time = [4,5]
X = 8

[State ]
Type = PosAdd
Trigger1 = Time = [6,7]
X = 4

[State ]
Type = PosAdd
Trigger1 = Time = 8
X = 2

[State ]
Type = PosAdd
Trigger1 = Time = 9
X = 1

[State ]
Type = Explod
Trigger1 = AnimElem = 3
Anim = 51
ID = 51
Postype = P1
Pos = -26,0
Vel = -1,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s240, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 4
Attr = S, NA
Damage = Ceil(FVar(0)*(43-Var(5)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = MA
PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,6))
Guard.PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 18+Cond(Var(38)=1,5,0)
Ground.HitTime  = 18+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 18
Ground.Velocity = -7.5*FVar(4)
Air.Velocity = -1.2*FVar(4),-4.5
AirGuard.Velocity = -4*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
ForceStand = Cond(Var(38)=1,1,0)
YAccel = .42
EnvShake.Time = 11
EnvShake.Ampl = 4
EnvShake.Freq = 90
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 27
GetPower = Ceil(200*Var(39)*0.1), Ceil(90*Var(39)*0.1)
GivePower = Ceil(200*(10-Var(39))*0.1), Ceil(90*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;左ストレート
[Statedef 250]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 250
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 6
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=6),0,1)
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -13

[State ]
Type = PosAdd
Trigger1 = Time = [3,4]
X = 7

[State ]
Type = PosAdd
Trigger1 = Time = [5,6]
X = 4

[State ]
Type = PosAdd
Trigger1 = Time = [7,8]
X = 2

[State ]
Type = Explod
Trigger1 = AnimElem = 5
Anim = 51
ID = 51
Postype = P1
Pos = 74,0
Facing = -1
Vel = 1,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s250, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 5
Attr = S, NA
Damage = Ceil(FVar(0)*(43-Var(5)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = MA
PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,6))
Guard.PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 18+Cond(Var(38)=1,5,0)
Ground.HitTime  = 18+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 18
Ground.Velocity = -7.5*FVar(4)
Air.Velocity = -1.2*FVar(4),-5
AirGuard.Velocity = -4*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 11
EnvShake.Ampl = 4
EnvShake.Freq = 90
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 33
GetPower = Ceil(200*Var(39)*0.1), Ceil(90*Var(39)*0.1)
GivePower = Ceil(200*(10-Var(39))*0.1), Ceil(90*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;フック
[Statedef 260]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 260
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 4
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=4),0,1)
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -10

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 3
Attr = S, NA
Damage = Ceil(FVar(0)*(39-Var(5)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = M
PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,6))
Guard.PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 18+Cond(Var(38)=1,5,0)
Ground.HitTime  = 18+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 18
Ground.Velocity = -7.5*FVar(4)
Air.Velocity = -1.2*FVar(4),-5
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 11
EnvShake.Ampl = 4
EnvShake.Freq = 90
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 33
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;チョッピング
[Statedef 270]
Type    = S
MoveType= A
Physics = S
VelSet = 0,0
Ctrl = 0
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 7
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=7),0,1)
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = PrevStateNo != 800
Trigger1 = Time = 0
V = 14
Value = -31

[State ]
Type = ChangeAnim
Trigger1 = PrevStateNo != 800
Trigger1 = Time = 0
Value = 270
Persistent = 0

[State ]
Type = ChangeAnim
Trigger1 = PrevStateNo = 800
Trigger1 = Time = 0
Value = 270
Elem = 2
Persistent = 0

[State ]
Type = Explod
Trigger1 = Anim = 270
Trigger1 = AnimElem = 2
ID = 275
PosType = P1
Anim = 275
Vel = 0.5,1
Ownpal = 1
SprPriority = 4

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 1, = 1
Value = s235, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s191, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s30, 2
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VelSet
Trigger1 = AnimElem = 4 , = [0,1]
X = 14

[State ]
Type = VelSet
Trigger1 = AnimElem = 5 , = [0,1]
X = 9

[State ]
Type = VelSet
Trigger1 = AnimElem = 6 , = 0
X = 4

[State ]
Type = VelSet
Trigger1 = AnimElem = 6 , = 1
X = 1

[State ]
Type = VelSet
Trigger1 = AnimElem = 6 , = 2
X = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 4
Anim = 51
ID = 51
Postype = P1
Pos = -8,0
Vel = -1,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s230, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.20
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 6
Attr = S, NA
Damage = Ceil(FVar(0)*(43-Var(5)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = H
PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,6))
Guard.PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,3
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 14+Cond(Var(38)=1,5,0)
Ground.HitTime  = 14+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,2,0)
Guard.HitTime  = 14
Ground.Velocity = -7.5*FVar(4)
Air.Velocity = -5*FVar(4),20
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 11
EnvShake.Ampl = 4
EnvShake.Freq = 90
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(200*Var(39)*0.1), Ceil(90*Var(39)*0.1)
GivePower = Ceil(200*(10-Var(39))*0.1), Ceil(90*(10-Var(39))*0.1)

[State ]
Type = HitDef
TriggerAll = Var(25) = [-1,1]
Trigger1 = P2StateType != S && P2StateType != C
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 6
Attr = S, NA
Damage = Ceil(FVar(0)*(43-Var(5)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = H
PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,3
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 14+Cond(Var(38)=1,5,0)
Ground.HitTime  = 14+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,2,0)
Guard.HitTime  = 14
Ground.Velocity = -7.5*FVar(4)
Air.Velocity = -5*FVar(4),20
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 11
EnvShake.Ampl = 4
EnvShake.Freq = 90
ID = 5700
P2Facing = 1
P2StateNo = 5710-Cond(Var(38)=1,10,0)
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(200*Var(39)*0.1), Ceil(90*Var(39)*0.1)
GivePower = Ceil(200*(10-Var(39))*0.1), Ceil(90*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;2L
[Statedef 400]
Type    = C
MoveType= A
Physics = C
Ctrl = 0
Anim = 400
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 3
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=3),0,1)
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = Time = 1
V = 1
Range = 0,4
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,2]
Trigger1 = Time = 1
Value = s200, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.60
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 2
Attr = C, NA
Damage = Ceil(FVar(0)*(12-Var(5)%2))
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 6+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),7+Cond(P2StateType=A,2,Cond(P2StateType=L,2,6))
Guard.PauseTime = 6+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 7+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,0
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 9
Ground.HitTime  = 9+Cond(P2StateType=C,1,0)
Guard.HitTime  = 9
Ground.Velocity = -6*FVar(4)
Air.Velocity = -1.2*FVar(4),-4
AirGuard.Velocity = -3*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 25
GetPower = Ceil(140*Var(39)*0.1), Ceil(60*Var(39)*0.1)
GivePower = Ceil(140*(10-Var(39))*0.1), Ceil(60*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;2M
[Statedef 410]
Type    = C
MoveType= A
Physics = C
Ctrl = 0
Anim = 410+Cond(PrevStateNo=240,5,0)
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 5
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=5),0,1)
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = Anim = 415
Trigger1 = Time = 0
V = 14
Value = -7

[State ]
Type = PosAdd
Trigger1 = AnimElem = 2, = [0,1]
X = 4

[State ]
Type = PosAdd
Trigger1 = AnimElem = 2, = 2
Trigger2 = AnimElem = 3
X = 2

[State ]
Type = PosAdd
Trigger1 = AnimElem = 3, = [1,2]
X = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,4
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,2]
Trigger1 = AnimElem = 2
Value = s210, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 4
Attr = C, NA
Damage = Ceil(FVar(0)*(21-Var(5)%2))
AnimType  = Light
HitFlag = MAFD
GuardFlag = L
PauseTime = 10,11
Guard.PauseTime = 10, 11
HitSound   = s10,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 9
Ground.HitTime  = 9
Ground.Velocity = -0.5*FVar(4),-4
Guard.Velocity = -8*FVar(4)
Air.Velocity = -0.5*FVar(4),-4
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = Cond(P2StateType=S||P2StateType=C,0,1)
Fall.RecoverTime = 31
GetPower = Ceil(200*Var(39)*0.1), Ceil(90*Var(39)*0.1)
GivePower = Ceil(200*(10-Var(39))*0.1), Ceil(90*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;ホッピング
[Statedef 420]
Type    = C
Physics = C
Ctrl = 0
VelSet = 0,0
Anim = 420
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -7

[State ]
Type = NotHitBy
Trigger1 = Time = [2,16]
Value = , NA, SA, HA ,NP, SP, HP
Time = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s225, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 3
Anim = 10040
ID = 10040
Postype = P1
Ownpal = 1
SprPriority = 5

[State ]
Type = StateTypeSet
Trigger1 = AnimElem = 3
StateType = A
Physics = A

[State ]
Type = VelSet
Trigger1 = AnimElem = 3
X = 6
Y = -4.8

[State ]
Type = Helper
Trigger1 = Time = [8,12]
ID = 421
PosType = P1
Pos = 6,0
StateNo = 221
Ownpal = 1
Persistent = 2

[State ]
Type = VelAdd
Trigger1 = Time > 9
Y = .2

;---------------------------------------------------------------------------
;JL
[Statedef 600]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
Anim = 600
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 4
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=4),0,1)
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,4
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,2]
Trigger1 = AnimElem = 2
Value = s200, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 3
Attr = A, NA
Damage = Ceil(FVar(0)*(12-Var(5)%2))
AnimType  = Light
HitFlag = MAFD
GuardFlag = HA
PauseTime = 6+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),7+Cond(P2StateType=A,2,Cond(P2StateType=L,2,6))
Guard.PauseTime = 6+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 7+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,0
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 9
Ground.HitTime  = 9+Cond(P2StateType=C,1,0)
Guard.HitTime  = 9
Ground.Velocity = Cond(P2Dist X<0,4.5,-4.5)*FVar(4)
Air.Velocity = Cond(P2Dist X<0,1.2,-1.2)*FVar(4),-4.5
AirGuard.Velocity = Cond(P2Dist X<0,3,-3)*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 25
GetPower = Ceil(140*Var(39)*0.1), Ceil(60*Var(39)*0.1)
GivePower = Ceil(140*(10-Var(39))*0.1), Ceil(60*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimElem = 6
Value = 51

;---------------------------------------------------------------------------
;JM
[Statedef 610]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
Anim = 610
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 5
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=5),0,1)
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,4
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,2]
Trigger1 = AnimElem = 2
Value = s210, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 4
Attr = A, NA
Damage = Ceil(FVar(0)*(21-Var(5)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = HA
PauseTime = 8+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),9+Cond(P2StateType=A,2,Cond(P2StateType=L,2,6))
Guard.PauseTime = 8+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 9+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,1
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 14+Cond(Var(38)=1,5,0)
Ground.HitTime  = 14+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,2,0)
Guard.HitTime  = 14
Ground.Velocity = Cond(P2Dist X<0,7.5,-7.5)*FVar(4)
Air.Velocity = Cond(P2Dist X<0,1.2,-1.2)*FVar(4),-5
AirGuard.Velocity = Cond(P2Dist X<0,3,-3)*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 29
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimElem = 10
Value = 51

;---------------------------------------------------------------------------
;JH
[Statedef 620]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
Anim = 620
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 4
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=4),0,1)
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -5

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 3
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 3
V = 1
Range = 0,2
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 3
Value = s240+Var(1)*10, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 3
ID = 621
Anim = 621
Postype = P1
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 3
Attr = A, NA
Damage = Ceil(FVar(0)*(40-Var(5)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = HA
PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,6))
Guard.PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 9
Ground.HitTime  = 9+Cond(P2StateType=C,1,0)
Guard.HitTime  = 9
Ground.Velocity = Cond(P2Dist X<0,8,-8)*FVar(4)
AirGuard.Velocity = Cond(P2Dist X<0,3,-3)*FVar(4),-1.2
Air.Velocity = Cond(P2Dist X<0,5,-5)*FVar(4),20
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimElem = 8
Value = 51

;---------------------------------------------------------------------------
;Bダッシュ
[Statedef 700]
Physics = S
Ctrl = 0
Anim = 700
PowerAdd = -1000
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarAdd
Trigger1 = Var(35) < 7
Trigger1 = Time = 0
V = 35
Value = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s700, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Time = 2
Anim = 52
ID = 52
Postype = P1
Pos = 20,0
Ownpal = 1
SprPriority = 5
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 2
Value = s700, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 705
PosType = P1
Pos = 5,-30
Anim = 705
Ownpal = 1
SprPriority = 4
Persistent = 0
RemoveOnGetHit = 1

[State ]
Type = Explod
Trigger1 = Time = 2
ID = 706
PosType = P1
Pos = 60,-60
Anim = 706
Ownpal = 1
SprPriority = 4
Persistent = 0
RemoveOnGetHit = 1

[State ]
Type = VelSet
Trigger1 = Time >= 2
X = 12

[State ]
Type = AfterImage
Trigger1 = Time = 2
Time = 9999
Trans = Add
Alpha = 256,160
FrameGap = 1
Length   = 8
PalContrast = 50 , 50 , 256
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State ]
Type = ChangeAnim
Trigger1 = Time = 110
Value = 702

[State ]
Type = ChangeState
Trigger1 = Time >= 15
Trigger1 = Command != "holdfwd"
Trigger2 = Time = 110
Value = 701

;---------------------------------------------------------------------------
;Bダッシュ2
[Statedef 701]
Physics = S
Ctrl = 0

[State ]
Type = ChangeAnim
Trigger1 = Anim = 700
Value = 701

[State ]
Type = VelSet
Trigger1 = Anim = 702
X = 2

[State ]
Type = VelSet
Trigger1 = Time = [0,1]
X = 8

[State ]
Type = VelSet
Trigger1 = Time = [2,3]
X = 5

[State ]
Type = VelSet
Trigger1 = Time = [4,5]
X = 3

[State ]
Type = VelSet
Trigger1 = Time = [6,7]
X = 2

[State ]
Type = VelSet
Trigger1 = Time = [8,9]
X = 1

[State ]
Type = CtrlSet
Trigger1 = Anim = 701
Value = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;特殊Bダッシュ
[Statedef 702]
Physics = S
Ctrl = 0
PowerAdd = -1000
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarAdd
Trigger1 = Var(35) < 7
Trigger1 = Time = 0
V = 35
Value = 1

[State ]
Type = ChangeAnim
Trigger1 = Time = 0
Value = 700
Elem = 2

[State ]
Type = Explod
Trigger1 = Time = 0
Anim = 52
ID = 52
Postype = P1
Pos = 20,0
Ownpal = 1
SprPriority = 5
Persistent = 0

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 706
PosType = P1
Pos = 60,-60
Anim = 706
Ownpal = 1
SprPriority = 4
Persistent = 0
RemoveOnGetHit = 1

[State ]
Type = VelSet
Trigger1 = Time >= 0
X = 12

[State ]
Type = AfterImage
Trigger1 = Time = 0
Time = 9999
Trans = Add
Alpha = 256,160
FrameGap = 1
Length   = 8
PalContrast = 50 , 50 , 256
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State ]
Type = ChangeAnim
Trigger1 = Time = 108
Value = 702

[State ]
Type = ChangeState
Trigger1 = Time >= 13
Trigger1 = Command != "holdfwd"
Trigger2 = Time = 108
Value = 701

;---------------------------------------------------------------------------
;Bエアダッシュ
[Statedef 710]
Type    = A
Physics = A
Ctrl = 0
VelSet = 0,0
Anim = 710
PowerAdd = -1000
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarAdd
Trigger1 = Var(35) < 7
Trigger1 = Time = 0
V = 35
Value = 1

[State ]
Type = VarSet
Trigger1 = AnimElem = 1
V = 37
Value = 13

[State ]
Type = SuperPause
Trigger1 = AnimElem = 1
Anim = -1
Time = 13
MoveTime = 13
Sound = s700, 0
P2DefMul = 1
Darken = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 13
Value = s700, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 705
PosType = P1
Pos = 5,-30
Anim = 705
Ownpal = 1
SprPriority = 4
RemoveOnGetHit = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 13
ID = 706
PosType = P1
Pos = 60,-60
Anim = 706
Ownpal = 1
SprPriority = 4
RemoveOnGetHit = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = VelSet
Trigger1 = Time < 13
X = 0
Y = 0

[State ]
Type = VelSet
Trigger1 = Time = 13
Y = -1.5

[State ]
Type = VelSet
Trigger1 = Time >= 13
X = 13

[State ]
Type = AfterImage
Trigger1 = Time = 13
Time = 9999
Trans = Add
Alpha = 256,160
FrameGap = 1
Length   = 8
PalContrast = 50 , 50 , 256
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State ]
Type = VelAdd
Trigger1 = Time >= 13
Y = -.32

;---------------------------------------------------------------------------
;Bジャンプ
[Statedef 720]
Physics = S
Ctrl = 0
VelSet = 0,0
Anim = 720
PowerAdd = -1000
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = AnimElem = 1
V = 37
Value = 17

[State ]
Type = SuperPause
Trigger1 = AnimElem = 1
Anim = -1
Time = 17
MoveTime = 17
Sound = s700, 0
P2DefMul = 1
Darken = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 17
Value = s700, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 705
PosType = P1
Pos = 5,-30
Anim = 705
Ownpal = 1
SprPriority = 4
RemoveOnGetHit = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = AfterImage
Trigger1 = Time = 17
Time = 9999
Trans = Add
Alpha = 256,160
FrameGap = 1
Length   = 8
PalContrast = 50 , 50 , 256
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State ]
Type = StateTypeSet
Trigger1 = Time = 17
StateType = A
Physics = A

[State ]
Type = VelSet
Trigger1 = Time = 17
X = 4.6
Y = -4.8

[State ]
Type = Explod
Trigger1 = Time = 17
Anim = 10040
ID = 10040
Postype = P1
Pos = 0,-Ceil(Vel Y)
Ownpal = 1
SprPriority = 5
Persistent = 0

[State ]
Type = CtrlSet
Trigger1 = Time > 17
Value = 1

;---------------------------------------------------------------------------
;Bエアジャンプ
[Statedef 730]
Type    = A
Physics = A
Ctrl = 0
VelSet = 0,0
Anim = 730
PowerAdd = -1000
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarAdd
Trigger1 = Var(35) < 7
Trigger1 = Time = 0
V = 35
Value = 1

[State ]
Type = VarSet
Trigger1 = AnimElem = 1
V = 37
Value = 17

[State ]
Type = SuperPause
Trigger1 = AnimElem = 1
Anim = -1
Time = 17
MoveTime = 17
Sound = s700, 0
P2DefMul = 1
Darken = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 17
Value = s850, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 17
Value = s700, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 705
PosType = P1
Pos = 5,-30
Anim = 705
Ownpal = 1
SprPriority = 4
RemoveOnGetHit = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = AfterImage
Trigger1 = Time = 17
Time = 9999
Trans = Add
Alpha = 256,160
FrameGap = 1
Length   = 8
PalContrast = 50 , 50 , 256
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State ]
Type = Explod
Trigger1 = Time = 17
Anim = 10040
ID = 10040
Postype = P1
Ownpal = 1
SprPriority = 5
Persistent = 0

[State ]
Type = PosFreeze
Trigger1 = Time < 17

[State ]
Type = VelSet
Trigger1 = Time = 17
X = 5.5
Y = -6.2

[State ]
Type = CtrlSet
Trigger1 = Time > 17
Value = 1

;---------------------------------------------------------------------------
;B落下
[Statedef 740]
Type    = A
Physics = A
Ctrl = 0
Anim = 740
PowerAdd = -1000

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = AnimElem = 1
V = 37
Value = 17

[State ]
Type = SuperPause
Trigger1 = AnimElem = 1
Anim = -1
Time = 17
MoveTime = 17
Sound = s700, 0
P2DefMul = 1
Darken = 0

[State ]
Type = NotHitBy
Trigger1 = AnimElem = 1
Value = SAC
Time = 23

[State ]
Type = PlaySnd
Trigger1 = Time = 17
Value = s700, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 705
PosType = P1
Pos = 0,-60
Anim = 705
Ownpal = 1
SprPriority = 4
RemoveOnGetHit = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PosFreeze
Trigger1 = Time < 17

[State ]
Type = VelSet
Trigger1 = Time < 17
Y = 0

[State ]
Type = AfterImage
Trigger1 = Time = 17
Time = 9999
Trans = Add
Alpha = 256,160
FrameGap = 1
Length   = 8
PalContrast = 50 , 50 , 256
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State ]
Type = CtrlSet
Trigger1 = Time > 17
Value = 1

;---------------------------------------------------------------------------
;Bカウンター
[Statedef 750]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
VelSet = 0,0
PowerAdd = -1000
Anim = 750
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 6
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=6),0,1)
IgnoreHitPause = 1

[State ]
Type = NotHitBy
Trigger1 = Time = [0,32]
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = AnimElem = 1
V = 37
Value = 21

[State ]
Type = SuperPause
Trigger1 = AnimElem = 1
Anim = -1
Time = 21
MoveTime = 21
Sound = s700, 0
P2DefMul = 1
Darken = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s750, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 705
PosType = P1
Pos = -2,-62
Anim = 705
Ownpal = 1
SprPriority = 4
RemoveOnGetHit = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s40, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PosAdd
Trigger1 = Time = [24,25]
X = 7

[State ]
Type = PosAdd
Trigger1 = Time = 26
X = 4

[State ]
Type = PosAdd
Trigger1 = Time = 27
X = 2

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.10
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = [4,5]
Attr = S, NA
AnimType  = Hard
HitFlag = MAFD
GuardFlag = M
PauseTime = 8+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),8+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 8+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 9+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,3
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16+Cond(P2StateType=C,1,0)
Guard.HitTime  = 16
Ground.Velocity = 0
Guard.Velocity = -8*FVar(4)
Air.Velocity = -2*FVar(4),-5
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
ID = 5600
P2Facing = 1
P2StateNo = 5610
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = 0, 0
GivePower = 0, 0

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;投げ・発動
[Statedef 800]
Type    = S
MoveType= A
Physics = S
VelSet = 0,0
Ctrl = 0
Anim = 800
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -31

[State ]
Type = PlaySnd
Trigger1 = Time = 1
Value = s235, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = P2MoveType != H || P2StateNo = [120,159]
Trigger1 = P2BodyDist X = [-45,45]
Trigger1 = Time = 3
Attr = S, NT
HitFlag = M-
Priority = 1, Miss
HitSound = s805, 0
SprPriority = 1
P1Facing = Cond(Var(59)=0&&Command="holdback",-1,Cond(Var(59)!=0,Cond(Helper(25000),FVar(38)<Helper(25000),FVar(37),1,-1)*Facing,1))
P2Facing = 1
P1StateNo = 810
P2StateNo = 811
ID = 5700
Fall = 1
Fall.Recover = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 270

;---------------------------------------------------------------------------
;投げ・投げている自分
[Statedef 810]
Type    = S
MoveType= A
Physics = N
VelSet = 0,0
SprPriority = 1
Anim = 810

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4 || AnimElem = 11
Value = s30, 0
Channel = 4

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 19
Value = s30, 1
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 20
Value = s30, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5 || AnimElem = 12 || AnimElem = 20
Value = s10, 2
Channel = 5

[State ]
Type = EnvShake
Trigger1 = AnimElem = 1
Trigger2 = AnimElem = 20
Time  = 11
Ampl  = 4
Freq  = 90

[State ]
Type = Explod
Trigger1 = AnimElem = 5 || AnimElem = 12
Anim = 51
ID = 51
Postype = P1
Pos = 12,0
Vel = -1,0
Ownpal = 1
SprPriority = 5

[State ]
Type = Explod
Trigger1 = AnimElem = 5 || AnimElem = 12
Anim = 51
ID = 51
Postype = P1
Pos = 80,0
Vel = 1,0
Facing = -1
Ownpal = 1
SprPriority = 5

[State ]
Type = TargetBind
Trigger1 = AnimElem = 1
Pos = 40,0

[State ]
Type = TargetBind
Trigger1 = AnimElem = 2
Pos = 35,0

[State ]
Type = TargetBind
Trigger1 = AnimElem = 3
Pos = 30,0

[State ]
Type = TargetBind
Trigger1 = AnimElem = 5 || AnimElem = 12
Pos = 25,0

[State ]
Type = TargetBind
Trigger1 = AnimElem = 20
Pos = 50,-5

[State ]
Type = Width
Trigger1 = Time < 43
Edge = 35,35

[State ]
Type = Width
Trigger1 = Time >= 43
Edge = 50,50

[State ]
Type = PosAdd
Trigger1 = AnimElem = 17, >= 0
Trigger1 = AnimElem = 17, <= 2
X = 4

[State ]
Type = PosAdd
Trigger1 = AnimElem = 18, >= 0
Trigger1 = AnimElem = 18, <= 2
Trigger1 = AnimElem = 19, <= 3
X = 3

[State ]
Type = PosAdd
Trigger1 = AnimElem = 19, >= 0
Trigger1 = AnimElem = 19, <= 3
X = 1

[State ]
Type = Helper
Trigger1 = Time = 1
StateNo = 6020
ID = 6020
PosType = P1
Pos = 45,-50
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = AnimElem = 5 || AnimElem = 12
StateNo = 6000
ID = 6000
PosType = P1
Pos = 35,-65
Facing = -1
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = AnimElem = 5 || AnimElem = 12
Anim = 315
ID = 315
PosType = P1
Pos = 50,-75
Ownpal = 1
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = AnimElem = 20
StateNo = 6040
ID = 6040
PosType = P1
Pos = 55,-75
Facing = -1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Var(7) = [0,1]
Trigger1 = AnimElem = 20
Anim = 315
ID = 315
PosType = P1
Pos = 55,-95
VFacing = Cond(Random%2=0,1,-1)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Var(7) = 2
Trigger1 = AnimElem = 20
Anim = 325
ID = 315
PosType = P1
Pos = 55,-95
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = TargetLifeAdd
Trigger1 = AnimElem = 5
Value = -Ceil(FVar(1)*FVar(2)*FVar(11)*(30-Var(5)%2)*(Const(Data.Attack)*0.01))
Kill = 0

[State ]
Type = TargetLifeAdd
Trigger1 = AnimElem = 12
Value = -Ceil(FVar(1)*FVar(2)*FVar(11)*(36-Var(5)%2)*(Const(Data.Attack)*0.01))
Kill = 0

[State ]
Type = TargetLifeAdd
Trigger1 = AnimElem = 20
Value = -Ceil(FVar(1)*FVar(2)*FVar(11)*(46-Var(5)%2)*(Const(Data.Attack)*0.01))

[State ]
Type = PowerAdd
Trigger1 = AnimElem = 20
Value = Ceil(200*Var(39)*0.1)

[State ]
Type = TargetPowerAdd
Trigger1 = AnimElem = 20
Value = Ceil(200*(10-Var(39))*0.1)

[State ]
Type = HitAdd
Trigger1 = AnimElem = 5 || AnimElem = 12 || AnimElem = 20
Value = 1

[State ]
Type = VarAdd
Trigger1 = AnimElem = 12 || AnimElem = 20
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = AnimElem = 5
V = 5
Value = 2
IgnoreHitPause = 1

[State ]
Type = TargetState
Trigger1 = AnimElem = 5 || AnimElem = 12 || AnimElem = 20
Value = Cond((AnimElem=20),5710,811)

[State ]
Type = VarSet
Trigger1 = FVar(1) = 1.00
Trigger1 = AnimElem = 5
FV = 1
Value = 0.60
IgnoreHitPause = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

[State ]
Type = TargetState
Trigger1 = Time = [0,6]
Trigger1 = EnemyNear(Var(57)),Command = "holdfwd" || EnemyNear(Var(57)),Command = "holdback"
Trigger1 = EnemyNear(Var(57)),Command = "b"
Value = 816

[State ]
Type = ChangeState
Trigger1 = Time = [0,6]
Trigger1 = EnemyNear(Var(57)),Command = "holdfwd" || EnemyNear(Var(57)),Command = "holdback"
Trigger1 = EnemyNear(Var(57)),Command = "b"
Value = 815

[State ]
Type = Pause
Trigger1 = Time = 6
Time = 10

[State ]
Type = Pause
Trigger1 = AnimElem = 5 || AnimElem = 12
Time = 2

[State ]
Type = Pause
Trigger1 = AnimElem = 20
Time = 11
EndCmdBufTime = 11

;---------------------------------------------------------------------------
;投げ・投げられている相手
[Statedef 811]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State ]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1

[State ]
Type = PlayerPush
Trigger1 = 1
Value = 0

[State ]
Type = ChangeAnim2
Trigger1 = Time = 0
Value = 811

[State ]
Type = VelSet
Trigger1 = Time = 6
X = -2.5

[State ]
Type = VelAdd
Trigger1 = Time >= 6
X = .15

[State ]
Type = SelfState
Trigger1 = Time >= 14
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;投げぬけ
[Statedef 815]
Type     = A
Anim     = 950
VelSet = 0,0

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = PosSet
Trigger1 = Pos Y > 0
Trigger1 = Time = 0
Y = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 1
Value = s950, 0
Channel = 1

[State ]
Type = PlaySnd
Trigger1 = Time = 1
Value = s955, 0
Channel = 4

[State ]
Type = PlaySnd
Trigger1 = Time = 1
Value = s955, 1
Channel = 5

[State ]
Type = PlaySnd
Trigger1 = Time = 1
Value = s110, 0
Channel = 3

[State ]
Type = Explod
Trigger1 = Time = 1
Anim = 955
ID = 955
Pos = 10,-50
PosType = P1
Ownpal = 1
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 1
Anim = 955
ID = 955
Pos = 10,-50
PosType = P2
Ownpal = 1
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = VelSet
Trigger1 = Time = 1
X = -5
Y = -1.8

[State ]
Type = Helper
Trigger1 = Time = 1
ID = 115
PosType = P1
Pos = -35,-70
StateNo = 114
Ownpal = 1

[State ]
Type = Helper
Trigger1 = Time = 1
ID = 115
PosType = P2
Pos = -35,-70
StateNo = 114
Ownpal = 1

[State ]
Type = VelAdd
Trigger1 = Time > 1
Y = .28

[State ]
Type = ChangeState
Trigger1 = Time > 1
Trigger1 = Pos Y >= 0 && Vel Y >= 0
Value = 52

;---------------------------------------------------------------------------
;投げぬけ・相手
[Statedef 816]
Type     = A
Anim     = 122
VelSet = 0,0

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = PosSet
Trigger1 = Pos Y > 0
Trigger1 = Time = 0
Y = 0

[State ]
Type = VelSet
Trigger1 = Time = 1
X = -5
Y = -1.8

[State ]
Type = VelAdd
Trigger1 = Time > 1
Y = .28

[State ]
Type = SelfState
Trigger1 = Time > 1
Trigger1 = Pos Y >= 0 && Vel Y >= 0
Value = 52

;---------------------------------------------------------------------------
;大ジャンプ
[Statedef 850]
Type    = U
Physics = U

[State ]
Type = VarSet
TriggerAll = NumHelper(25000)
Trigger1 = Command = "jump" || Helper(25000),Var(2) = 140
V = 3
Value = 1

[State ]
Type = VarSet
TriggerAll = NumHelper(25000)
Trigger1 = Command = "fjump" || Helper(25000),Var(2) = 150
V = 3
Value = 2

[State ]
Type = VarSet
TriggerAll = NumHelper(25000)
Trigger1 = Command = "bjump" || Helper(25000),Var(2) = 130
V = 3
Value = 3

[State ]
Type = VarSet
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 210 || PrevStateNo = 410
V = 48
Value = 1

[State ]
Type = ChangeState
Trigger1 = 1
Value = 39+(Var(59)<=0)

;---------------------------------------------------------------------------
; Pチャージ
[Statedef 900]
Physics = S
Anim    = 900
Ctrl    = 0
VelSet = 0,0
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s900, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s900, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Time >= 29
Value = s900, 1
Channel = 2
IgnoreHitPause = 1
Persistent = 12

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 905
Anim = 905
Postype = P1
Ownpal = 1
SprPriority = 4
Persistent = 0
RemoveOnGetHit = 1

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 906
Anim = 906
Postype = P1
Ownpal = 1
SprPriority = 5
Persistent = 0
RemoveOnGetHit = 1

[State ]
Type = Explod
Trigger1 = Time >= 29
ID = 906
Anim = 906
Postype = P1
Ownpal = 1
SprPriority = 5
Persistent = 10
RemoveOnGetHit = 1

[State ]
Type = VarAdd
Trigger1 = Var(59) <= 0
Trigger1 = FVar(2) < 1.99
Trigger1 = Life > 10
Trigger1 = Time >= 32
Trigger1 = Command = "Extend"
FV = 2
Value = 0.01

[State ]
Type = LifeAdd
Trigger1 = Var(59) <= 0
Trigger1 = FVar(2) < 1.99
Trigger1 = Life > 10
Trigger1 = Time >= 32
Trigger1 = Command = "Extend"
Value = -10

[State ]
Type = VarAdd
Trigger1 = Var(59) <= 0
Trigger1 = FVar(2) < 1.99
Trigger1 = Var(14) < Ceil(516-(1.00*Life/Var(56))*258)
Trigger1 = Time >= 32
Trigger1 = Command = "Extend"
V = 14
Value = 3

[State ]
Type = VarAdd
TriggerAll = Var(14) < Ceil(516-(1.00*Life/Var(56))*258)
TriggerAll = Time >= 32
Trigger1 = Time%9 = [0,3]
Trigger2 = Time%9 = [5,7]
V = 14
Value = 1

[State ]
Type = VarSet
Trigger1 = Var(14) > Ceil(516-(1.00*Life/Var(56))*258)
V = 14
Value = Ceil(516-(1.00*Life/Var(56))*258)

[State ]
Type = StopSnd
Trigger1 = Time >= 32
Trigger1 = Command != "Y溜め"
Channel = 1

[State ]
Type = ChangeState
Trigger1 = Time >= 32
Trigger1 = Command != "Y溜め"
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; アドヴァンスドチャージ
[Statedef 910]
Physics = S
Anim    = 910
Ctrl    = 0
VelSet = 0,0
Facep2 = 1
PowerAdd = -1000

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = 63

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s910, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Time >= 29
Value = s900, 1
Channel = 2
IgnoreHitPause = 1
Persistent = 12

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s700, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s700, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 705
PosType = P1
Pos = 8,-70
Anim = 705
Ownpal = 1
SprPriority = 4
Persistent = 0
RemoveOnGetHit = 1

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 905
Anim = 905
Postype = P1
Ownpal = 1
SprPriority = 4
Persistent = 0
RemoveOnGetHit = 1

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 906
Anim = 906
Postype = P1
Ownpal = 1
SprPriority = 5
Persistent = 0
RemoveOnGetHit = 1

[State ]
Type = Explod
Trigger1 = Time >= 29
ID = 906
Anim = 906
Postype = P1
Ownpal = 1
SprPriority = 5
Persistent = 10
RemoveOnGetHit = 1

[State ]
Type = VarAdd
Trigger1 = Var(59) <= 0
Trigger1 = FVar(2) < 1.99
Trigger1 = Life > 10
Trigger1 = Time >= 10
Trigger1 = Command = "Extend"
FV = 2
Value = 0.01

[State ]
Type = LifeAdd
Trigger1 = Var(59) <= 0
Trigger1 = FVar(2) < 1.99
Trigger1 = Life > 10
Trigger1 = Time >= 10
Trigger1 = Command = "Extend"
Value = -10

[State ]
Type = VarAdd
Trigger1 = Var(59) <= 0
Trigger1 = FVar(2) < 1.99
Trigger1 = Var(14) < Ceil(516-(1.00*Life/Var(56))*258)
Trigger1 = Time >= 10
Trigger1 = Command = "Extend"
V = 14
Value = 3

[State ]
Type = VarAdd
TriggerAll = Var(14) < Ceil(516-(1.00*Life/Var(56))*258)
TriggerAll = Time >= 10
Trigger1 = Time%9 = [0,3]
Trigger2 = Time%9 = [5,7]
V = 14
Value = 1

[State ]
Type = VarSet
Trigger1 = Var(14) > Ceil(516-(1.00*Life/Var(56))*258)
V = 14
Value = Ceil(516-(1.00*Life/Var(56))*258)

[State ]
Type = ChangeState
Trigger1 = Time >= 10
Trigger1 = Command != "Y溜め"
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;Bエスケープ
[Statedef 950]
Type     = A
Ctrl     = 0
VelSet = 0,0
PowerAdd = -4000
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PosSet
Trigger1 = Pos Y > 0
Trigger1 = Time = 0
Y = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 1
Value = s950, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 1
Value = s955, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 1
Value = s955, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 1
Value = s110, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Time = 1
Anim = 955
ID = 955
Pos = 10,-50
PosType = P1
Ownpal = 1
SprPriority = 5
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = VelSet
Trigger1 = Time = 1
X = Cond(Command="holdfwd",9,-9)
Y = -1.8

[State ]
Type = ChangeAnim
Trigger1 = Time = 1
Value = Cond(Command="holdfwd",951,950)

[State ]
Type = VelAdd
Trigger1 = Vel X < -4
Trigger1 = Time >= 2
X = .15

[State ]
Type = VelAdd
Trigger1 = Vel X > 4
Trigger1 = Time >= 2
X = -.15

[State ]
Type = Helper
Trigger1 = Time = 1
ID = 114+Cond(Command="holdfwd",0,1)
PosType = P1
Pos = 35*Cond(Command="holdfwd",1,-1),-70
StateNo = 114
Ownpal = 1
Persistent = 0

[State ]
Type = VelAdd
Trigger1 = Time > 1
Y = .28

[State ]
Type = ChangeState
Trigger1 = Time > 1
Trigger1 = Pos Y >= 0 && Vel Y >= 0
Value = 52

;---------------------------------------------------------------------------
;クリンチ〜アッパーコンビネーション
[Statedef 1000]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
VelSet = 0,0
Anim = 1000
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -13

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1015, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 2
Anim = 51
ID = 51
Postype = P1
Pos = 4,0
Vel = -1,0
Ownpal = 1
SprPriority = 5

[State ]
Type = VelSet
Trigger1 = Time = [3,6]
X = 2

[State ]
Type = VelSet
Trigger1 = Time = [7,11]
X = 1

[State ]
Type = VelSet
Trigger1 = Time = 12
X = 0

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = P2StateType != S && P2StateType != C
Trigger1 = AnimElem = 3
Attr = S, ST
Damage = Ceil(FVar(0)*(9-Var(5)%2))
Priority  = 1, Miss
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,6))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s805,0
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 9
Ground.HitTime  = 9
Ground.Velocity = -5*FVar(4),20
Guard.Velocity = -4*FVar(4)
Air.Velocity = -5*FVar(4),20
AirGuard.Velocity = -3*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
P2Facing = 1
P1StateNo = 1010
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = 0, 0
GivePower = 0, 0

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = AnimElem = 3
Attr = S, ST
Damage = Ceil(FVar(0)*(9-Var(5)%2))
Priority  = 1, Miss
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,6))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s805,0
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 9
Ground.HitTime  = 9
Ground.Velocity = -5*FVar(4),20
Guard.Velocity = -4*FVar(4)
Air.Velocity = -5*FVar(4),20
AirGuard.Velocity = -3*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
ID = 5600
P2Facing = 1
P1StateNo = 1020
P2StateNo = 1030
Kill = 0
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = 0, 0
GivePower = 0, 0

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;クリンチ〜アッパーコンビネーション　空中ヒット
[Statedef 1010]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1010
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s5000, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = Time = 0
StateNo = 6000
ID = 6000
PosType = P2
Pos = Cond(MoveType=H,Ceil(P2Dist X/2),0),-65-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = VelSet
Trigger1 = Time = [0,4]
X = 1

[State ]
Type = VelSet
Trigger1 = Time = 5
X = 0

[State ]
Type = MoveHitReset
Trigger1 = Time = 0
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;クリンチ〜アッパーコンビネーション・投げている自分
[Statedef 1020]
Type    = S
MoveType= A
Physics = N
Ctrl = 0
VelSet = 0,0
Anim = 1020

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 10
Value = s200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 18
Value = s200, 2
Channel = 2
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 0
Channel = 4

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 10
Value = s30, 1
Channel = 4

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 17
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 18
Value = s30, 2
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4 || AnimElem = 11 || AnimElem = 18
Value = s10, 2
Channel = 5

[State ]
Type = Helper
Trigger1 = Time = 0
StateNo = 6000
ID = 6000
PosType = P1
Pos = 30,-65
Facing = -1
Ownpal = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 3
StateNo = 6020
ID = 6020
PosType = P1
Pos = 30,-65
Facing = -1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = AnimElem = 4
StateNo = 6000
ID = 6000
PosType = P1
Pos = 30,-80
Facing = -1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = AnimElem = 4
Anim = 315
ID = 315
PosType = P1
Pos = 50,-95
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = AnimElem = 11
StateNo = 6010
ID = 6010
PosType = P1
Pos = 30,-65
Facing = -1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Var(7) = [0,1]
Trigger1 = AnimElem = 11
Anim = 315
ID = 315
PosType = P1
Pos = 50,-75
VFacing = Cond(Random%2=0,1,-1)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Var(7) = 2
Trigger1 = AnimElem = 11
Anim = 325
ID = 315
PosType = P1
Pos = 50,-75
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = AnimElem = 18
StateNo = 6010
ID = 6010
PosType = P1
Pos = 40,-100
Facing = -1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Var(7) = [0,1]
Trigger1 = AnimElem = 18
Anim = 315
ID = 315
PosType = P1
Pos = 50,-100
VFacing = Cond(Random%2=0,1,-1)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Var(7) = 2
Trigger1 = AnimElem = 18
Anim = 325
ID = 315
PosType = P1
Pos = 50,-100
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = AnimElem = 4
Anim = 51
ID = 51
Postype = P1
Pos = 12,0
Vel = -1,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 4
Anim = 51
ID = 51
Postype = P1
Pos = 80,0
Vel = 1,0
Facing = -1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 17
Anim = 51
ID = 51
Postype = P1
Pos = -24,0
Vel = -1,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PosAdd
Trigger1 = Time = [35,36]
X = 8

[State ]
Type = PosAdd
Trigger1 = Time = 37
X = 4

[State ]
Type = Width
Trigger1 = 1
Edge = 40,40

[State ]
Type = TargetBind
Trigger1 = Time = 2
Pos = 30,0

[State ]
Type = TargetBind
Trigger1 = AnimElem = 4 || AnimElem = 11 || AnimElem = 18
Pos = 30,0

[State ]
Type = VarSet
Trigger1 = FVar(1) = 1.00
Trigger1 = AnimElem = 3
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State ]
Type = TargetLifeAdd
Trigger1 = AnimElem = 4
Value = -Ceil(FVar(0)*(42-Var(5)%2)*(Const(Data.Attack)*0.01))
Kill = 0

[State ]
Type = TargetLifeAdd
Trigger1 = AnimElem = 11
Value = -Ceil(FVar(0)*(53-Var(5)%2)*(Const(Data.Attack)*0.01))
Kill = 0

[State ]
Type = TargetLifeAdd
Trigger1 = AnimElem = 18
Value = -Ceil(FVar(0)*(90-Var(5)%2)*(Const(Data.Attack)*0.01))

[State ]
Type = PowerAdd
Trigger1 = AnimElem = 11
Value = Ceil(200*Var(39)*0.1)

[State ]
Type = TargetPowerAdd
Trigger1 = AnimElem = 11
Value = Ceil(200*(10-Var(39))*0.1)

[State ]
Type = PowerAdd
Trigger1 = AnimElem = 18
Value = Ceil(280*Var(39)*0.1)

[State ]
Type = TargetPowerAdd
Trigger1 = AnimElem = 18
Value = Ceil(280*(10-Var(39))*0.1)

[State ]
Type = HitAdd
Trigger1 = AnimElem = 1 || AnimElem = 4 || AnimElem = 11 || AnimElem = 18
Value = 1

[State ]
Type = VarAdd
Trigger1 = AnimElem = 1 || AnimElem = 4 || AnimElem = 11 || AnimElem = 18
V = 5
Value = 1

[State ]
Type = Turn
Trigger1 = Time = 2

[State ]
Type = EnvShake
Trigger1 = AnimElem = 18
Time  = 15
Ampl  = 4
Freq  = 90

[State ]
Type = EnvShake
Trigger1 = AnimElem = 4
Time  = 4
Ampl  = 4
Freq  = 90

[State ]
Type = EnvShake
Trigger1 = AnimElem = 11
Time  = 7
Ampl  = 4
Freq  = 90

[State ]
Type = Pause
Trigger1 = Time = 3
Time = 16

[State ]
Type = Pause
Trigger1 = AnimElem = 4
Time = 4

[State ]
Type = Pause
Trigger1 = AnimElem = 11
Time = 7

[State ]
Type = Pause
Trigger1 = AnimElem = 18
Time = 15
EndCmdBufTime = 15

[State ]
Type = TargetState
Trigger1 = AnimElem = 4 || AnimElem = 11 || AnimElem = 18
Value = Cond((AnimElem=18),5600,1031)

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;クリンチ〜アッパーコンビネーション・投げられている相手
[Statedef 1030]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State ]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1

[State ]
Type = PlayerPush
Trigger1 = 1
Value = 0

[State ]
Type = ChangeAnim2
Trigger1 = Time = 0
Value = 1030

[State ]
Type = Turn
Trigger1 = Time = 3

[State ]
Type = SelfState
Trigger1 = Time >= 10
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;クリンチ〜アッパーコンビネーション・投げられている相手2
[Statedef 1031]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State ]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1

[State ]
Type = PlayerPush
Trigger1 = 1
Value = 0

[State ]
Type = VelSet
Trigger1 = Time = 3
X = -2.5

[State ]
Type = VelAdd
Trigger1 = Time >= 3
X = .15

[State ]
Type = ChangeAnim2
Trigger1 = Time = 0
Value = 1030

[State ]
Type = SelfState
Trigger1 = Time >= 10
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;ライジングアッパー
[Statedef 1100]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
VelSet = 0,0
Anim = 1100
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 5 || AnimElem = 12
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=5||AnimElem=12),0,1)
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -10

[State ]
Type = PosAdd
Trigger1 = Time = [15,16]
X = 8

[State ]
Type = PosAdd
Trigger1 = Time = [17,18]
X = 4

[State ]
Type = PosAdd
Trigger1 = Time = [19,20]
X = 2

[State ]
Type = PosAdd
Trigger1 = Time = 21
X = 1

[State ]
Type = Explod
Trigger1 = AnimElem = 10
Anim = 51
ID = 51
Postype = P1
Pos = -24,0
Vel = -1,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 10
Value = s200, 2
Channel = 2
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 10
Value = s30, 1
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 4
Attr = S, SA
Damage = Ceil(FVar(0)*(55-Var(5)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = M
PauseTime = 6+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),7+Cond(P2StateType=A,2,Cond(P2StateType=L,2,6))
Guard.PauseTime = 6+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 7+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 14+Cond(Var(38)=1,5,0)
Ground.HitTime  = 14+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,2,0)
Guard.HitTime  = 14
Ground.Velocity = -4.5*FVar(4)
Air.Velocity = -1.2*FVar(4),-4.5
AirGuard.Velocity = -3*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 7
EnvShake.Ampl = 4
EnvShake.Freq = 90
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 25
GetPower = Ceil(200*Var(39)*0.1), Ceil(90*Var(39)*0.1)
GivePower = Ceil(200*(10-Var(39))*0.1), Ceil(90*(10-Var(39))*0.1)

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 11
Attr = S, SA
Damage = Ceil(FVar(0)*(92-Var(5)%2))
AnimType  = Up
HitFlag = MAFD
GuardFlag = M
PauseTime = 14+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),14+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 14+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 15+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 16+Cond(Var(38)=1,5,0)
Ground.HitTime  = 16+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 16
Ground.Velocity = 0
Guard.Velocity = -5.5*FVar(4)
Air.Velocity = -0.25*FVar(4),-10.6
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 15
EnvShake.Ampl = 4
EnvShake.Freq = 90
ID = 5600
P2Facing = 1
P2StateNo = 5600
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = Cond(Var(38)=1,0,1)
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = P2StateType != S && P2StateType != C
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 11
Attr = S, SA
Damage = Ceil(FVar(0)*(92-Var(5)%2))
AnimType  = Up
HitFlag = MAFD
GuardFlag = M
PauseTime = 14+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),15+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 14+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 15+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 16+Cond(Var(38)=1,5,0)
Ground.HitTime  = 16+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 16
Ground.Velocity = -4.5*FVar(4)
Air.Velocity = -0.25*FVar(4),-10.6
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 15
EnvShake.Ampl = 4
EnvShake.Freq = 90
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = Cond(Var(38)=1,0,1)
Fall.RecoverTime = 58
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;ワンツーパンチ
[Statedef 1200]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
VelSet = 0,0
Anim = 1200
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 6 || AnimElem = 10
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=6||AnimElem=10),0,1)
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -8

[State ]
Type = NotHitBy
Trigger1 = Time = [5,12]
Value = , NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s225, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = Time = [5,9]
ID = 221
PosType = P1
Pos = 12,0
StateNo = 221
Ownpal = 1
Persistent = 2

[State ]
Type = PosAdd
Trigger1 = Time = [5,11]
X = 12

[State ]
Type = PosAdd
Trigger1 = Time = [12,13]
X = 8

[State ]
Type = PosAdd
Trigger1 = Time = [14,15]
X = 5

[State ]
Type = PosAdd
Trigger1 = Time = [16,17]
X = 3

[State ]
Type = PosAdd
Trigger1 = Time = [18,19]
X = 1

[State ]
Type = PosAdd
Trigger1 = Time = 21
X = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 9
Value = s30, 1
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 5
Attr = S, SA
Damage = Ceil(FVar(0)*(69-Var(5)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = MA
PauseTime = 6+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),7+Cond(P2StateType=A,2,Cond(P2StateType=L,2,6))
Guard.PauseTime = 6+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 7+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 12+Cond(Var(38)=1,5,0)
Ground.HitTime  = 12+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 12
Ground.Velocity = -5.5*FVar(4)
Air.Velocity = -1.2*FVar(4),-4.5
AirGuard.Velocity = -3*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 7
EnvShake.Ampl = 4
EnvShake.Freq = 90
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 25
GetPower = Ceil(60*Var(39)*0.1), Ceil(30*Var(39)*0.1)
GivePower = Ceil(60*(10-Var(39))*0.1), Ceil(30*(10-Var(39))*0.1)

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 9
Attr = S, SA
Damage = Ceil(FVar(0)*(82-Var(5)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = MA
PauseTime = 8+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),9+Cond(P2StateType=A,2,Cond(P2StateType=L,2,6))
Guard.PauseTime = 8+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 9+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 12+Cond(Var(38)=1,5,0)
Ground.HitTime  = 12+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 12
Ground.Velocity = -5.5*FVar(4)
Air.Velocity = -1.2*FVar(4),-4.5
AirGuard.Velocity = -3*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 9
EnvShake.Ampl = 4
EnvShake.Freq = 90
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 29
GetPower = Ceil(140*Var(39)*0.1), Ceil(60*Var(39)*0.1)
GivePower = Ceil(140*(10-Var(39))*0.1), Ceil(60*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;ステップ・ボディブロウ
[Statedef 1300]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
VelSet = 0,0
Anim = 1300
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 8
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=8),0,1)
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -14

[State ]
Type = NotHitBy
Trigger1 = Time = [3,11]
Value = , NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s225, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = Time = [3,7]
ID = 226
PosType = P1
Pos = -9,0
StateNo = 221
Ownpal = 1
Persistent = 2

[State ]
Type = Explod
Trigger1 = Time = 3
Anim = 222
ID = 222
Postype = P1
Facing = -1
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Time = 12
Anim = 222
ID = 222
Postype = P1
Pos = 12,0
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = AfterImage
Trigger1 = Time = 11
Time = 9999
Trans = Add
FrameGap = 1
Length   = 8
PalContrast = 128 , 128 , 256
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State ]
Type = PosAdd
Trigger1 = Time = [3,9]
X = -8

[State ]
Type = PosAdd
Trigger1 = Time = [10,11]
X = -6

[State ]
Type = PosAdd
Trigger1 = Time = [12,21]
X = 16

[State ]
Type = PosAdd
Trigger1 = Time = [22,23]
X = 6

[State ]
Type = PosAdd
Trigger1 = Time = [24,25]
X = 2

[State ]
Type = PosAdd
Trigger1 = Time = [26,27]
X = 1

[State ]
Type = Explod
Trigger1 = AnimElem = 5, = 5
Anim = 51
ID = 51
Postype = P1
Pos = 75,0
Facing = -1
Vel = 1,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 7
Anim = 315
ID = 315
PosType = P1
Pos = 50,-80
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s1300, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 7
Attr = S, SA
Damage = Ceil(FVar(0)*(43-Var(5)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = M
PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,6))
Guard.PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 18+Cond(Var(38)=1,5,0)
Ground.HitTime  = 18+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 18
Ground.Velocity = -6*FVar(4)
Air.Velocity = -1.2*FVar(4),-4.5
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 11
EnvShake.Ampl = 4
EnvShake.Freq = 90
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 33
GetPower = Ceil(140*Var(39)*0.1), Ceil(60*Var(39)*0.1)
GivePower = Ceil(140*(10-Var(39))*0.1), Ceil(60*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;ステップ・コンビネーション
[Statedef 1310]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
VelSet = 0,0
Anim = 1310
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 7 || AnimElem = 13
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=7||AnimElem=13),0,1)
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -10

[State ]
Type = NotHitBy
Trigger1 = Time = [3,11]
Value = , NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s225, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = Time = [3,7]
ID = 226
PosType = P1
Pos = -9,0
StateNo = 221
Ownpal = 1
Persistent = 2

[State ]
Type = Explod
Trigger1 = Time = 3
Anim = 222
ID = 222
Postype = P1
Facing = -1
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Time = 12
Anim = 222
ID = 222
Postype = P1
Pos = 12,0
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = AfterImage
Trigger1 = Time = 11
Time = 9999
Trans = Add
FrameGap = 1
Length   = 8
PalContrast = 128 , 128 , 256
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State ]
Type = PosAdd
Trigger1 = Time = [3,9]
X = -8

[State ]
Type = PosAdd
Trigger1 = Time = [10,11]
X = -6

[State ]
Type = PosAdd
Trigger1 = Time = [12,16]
X = 16

[State ]
Type = PosAdd
Trigger1 = Time = [17,18]
X = 14

[State ]
Type = PosAdd
Trigger1 = Time = [19,20]
X = 9

[State ]
Type = PosAdd
Trigger1 = Time = 21
X = 6

[State ]
Type = PosAdd
Trigger1 = Time = [27,28]
X = 4

[State ]
Type = PosAdd
Trigger1 = Time = [29,30]
X = 3

[State ]
Type = PosAdd
Trigger1 = Time = [31,32]
X = 2

[State ]
Type = Explod
Trigger1 = AnimElem = 7, = 1
Anim = 51
ID = 51
Postype = P1
Pos = 48,0
Facing = -1
Vel = 1,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 6
Anim = 315
ID = 315
PosType = P1
Pos = 50,-90
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = AnimElem = 12
Anim = 315
ID = 315
PosType = P1
Pos = 35,-40
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 11
Value = s30, 1
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 12
Value = s30, 2
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1310, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 6
Attr = S, SA
Damage = Ceil(FVar(0)*(53-Var(5)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = MA
PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 11+Cond(Var(38)=1,5,0)
Ground.HitTime  = 11+Cond(Var(38)=1,5,0)
Ground.Velocity = -1*FVar(4),-3.5
Guard.Velocity = -6*FVar(4)
Air.Velocity = -1*FVar(4),-3.5
AirGuard.Velocity = -3*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 11
EnvShake.Ampl = 4
EnvShake.Freq = 90
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 36
GetPower = Ceil(140*Var(39)*0.1), Ceil(60*Var(39)*0.1)
GivePower = Ceil(140*(10-Var(39))*0.1), Ceil(60*(10-Var(39))*0.1)

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 12
Attr = S, SA
Damage = Ceil(FVar(0)*(72-Var(5)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = M
PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 16+Cond(Var(38)=1,5,0)
Ground.HitTime  = 16+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 16
Ground.Velocity = -6*FVar(4)
Air.Velocity = -5*FVar(4),20
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 11
EnvShake.Ampl = 4
EnvShake.Freq = 90
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 33
GetPower = Ceil(200*Var(39)*0.1), Ceil(90*Var(39)*0.1)
GivePower = Ceil(200*(10-Var(39))*0.1), Ceil(90*(10-Var(39))*0.1)

[State ]
Type = HitDef
TriggerAll = Var(25) = [-1,1]
Trigger1 = P2StateType != S && P2StateType != C
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 12
Attr = S, SA
Damage = Ceil(FVar(0)*(72-Var(5)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = M
PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 16+Cond(Var(38)=1,5,0)
Ground.HitTime  = 16+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 16
Ground.Velocity = -6*FVar(4)
Air.Velocity = -5*FVar(4),20
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 11
EnvShake.Ampl = 4
EnvShake.Freq = 90
ID = 5700
P2Facing = 1
P2StateNo = 5700
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(200*Var(39)*0.1), Ceil(90*Var(39)*0.1)
GivePower = Ceil(200*(10-Var(39))*0.1), Ceil(90*(10-Var(39))*0.1)

[State ]
Type = HitDef
TriggerAll = Var(25) = [-1,1]
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 12
Attr = S, SA
Damage = Ceil(FVar(0)*(72-Var(5)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = M
PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 16+Cond(Var(38)=1,5,0)
Ground.HitTime  = 16+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 16
Ground.Velocity = -6*FVar(4)
Air.Velocity = -5*FVar(4),20
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 11
EnvShake.Ampl = 4
EnvShake.Freq = 90
ID = 5700
P2Facing = 1
P2StateNo = 5710
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(200*Var(39)*0.1), Ceil(90*Var(39)*0.1)
GivePower = Ceil(200*(10-Var(39))*0.1), Ceil(90*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;ステップ・ストレート
[Statedef 1320]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
VelSet = 0,0
Anim = 1320
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 9
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=9),0,1)
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -8

[State ]
Type = NotHitBy
Trigger1 = Time = [3,11]
Value = , NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s225, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = Time = [3,7]
ID = 226
PosType = P1
Pos = -9,0
StateNo = 221
Ownpal = 1
Persistent = 2

[State ]
Type = Explod
Trigger1 = Time = 3
Anim = 222
ID = 222
Postype = P1
Facing = -1
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Time = 15
Anim = 222
ID = 222
Postype = P1
Pos = 12,0
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = AfterImage
Trigger1 = Time = 11
Time = 9999
Trans = Add
FrameGap = 1
Length   = 8
PalContrast = 128 , 128 , 256
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State ]
Type = PosAdd
Trigger1 = Time = [3,9]
X = -8

[State ]
Type = PosAdd
Trigger1 = Time = [10,11]
X = -6

[State ]
Type = PosAdd
Trigger1 = Time = [12,14]
X = -3

[State ]
Type = PosAdd
Trigger1 = Time = [15,21]
X = 20

[State ]
Type = PosAdd
Trigger1 = Time = [22,23]
X = 14

[State ]
Type = PosAdd
Trigger1 = Time = [24,26]
X = 2

[State ]
Type = Helper
Trigger1 = AnimElem = 5
ID = 114
PosType = P1
Pos = 65,-56
StateNo = 114
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 5
Anim = 1325
ID = 1325
Postype = P1
Pos = 30,-65
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 7
Anim = 51
ID = 51
Postype = P1
Pos = 45,0
Facing = -1
Vel = 1,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 7
Anim = 325
ID = 315
PosType = P1
Pos = 75,-70
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s110, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s210, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = [7,8]
Attr = S, SA
Damage = Ceil(FVar(0)*(168-Var(5)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = M
PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 16+Cond(Var(38)=1,5,0)
Ground.HitTime  = 16+Cond(Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 16
Ground.Velocity = 0
Guard.Velocity = -8*FVar(4)
Air.Velocity = -1.2*FVar(4),-4.5
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
EnvShake.Time = 11
EnvShake.Ampl = 4
EnvShake.Freq = 90
ID = 5600
P2Facing = 1
P2StateNo = 5620
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
GetPower = Ceil(140*Var(39)*0.1), Ceil(60*Var(39)*0.1)
GivePower = Ceil(140*(10-Var(39))*0.1), Ceil(60*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;パーリング・上段
[Statedef 4000]
Physics = S
Ctrl = 0
VelSet = 0,0
Anim = 4000
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = 40

[State ]
Type = VarSet
Trigger1 = Var(14) > Ceil(516-(1.00*Life/Var(56))*258)
V = 14
Value = Ceil(516-(1.00*Life/Var(56))*258)

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 47
Value = 7

[State ]
Type = Helper
Trigger1 = Time = 0
StateNo = 4005
ID = 4005
Postype = P1
Pos = 40,-88
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1+Var(15)
IgnoreHitPause = 1

[State ]
Type = Pause
Trigger1 = Time = 0
Time = 16
EndCmdBufTime = 16

[State ]
Type = ChangeState
TriggerAll = Var(59) <= 0
Trigger1 = Time > 0
Trigger1 = Command = "holdfwd" || Command = "holdback"
Value = 20
Ctrl = 1

[State ]
Type = ChangeState
Trigger1 = Anim = 4000
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;パーリング・下段
[Statedef 4010]
Type    = C
Physics = C
Ctrl = 0
VelSet = 0,0
Anim = 4010
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = 40

[State ]
Type = VarSet
Trigger1 = Var(14) > Ceil(516-(1.00*Life/Var(56))*258)
V = 14
Value = Ceil(516-(1.00*Life/Var(56))*258)

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 47
Value = -7

[State ]
Type = Helper
Trigger1 = Time = 0
StateNo = 4005
ID = 4005
Postype = P1
Pos = 44,-57
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1+Var(15)
IgnoreHitPause = 1

[State ]
Type = Pause
Trigger1 = Time = 0
Time = 16
EndCmdBufTime = 16

[State ]
Type = ChangeState
TriggerAll = Var(59) <= 0
Trigger1 = Time > 0
Trigger1 = Command = "holdfwd" || Command = "holdback"
Value = 20
Ctrl = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;パーリング・空中
[Statedef 4020]
Type    = A
Physics = A
Ctrl = 0
Anim = 4020
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = 40

[State ]
Type = VarSet
Trigger1 = Var(14) > Ceil(516-(1.00*Life/Var(56))*258)
V = 14
Value = Ceil(516-(1.00*Life/Var(56))*258)

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 47
Value = -7

[State ]
Type = Helper
Trigger1 = Time = 0
StateNo = 4005
ID = 4005
Postype = P1
Pos = 44,-77
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 5+Var(15)
IgnoreHitPause = 1

[State ]
Type = Pause
Trigger1 = Time = 0
Time = 16
EndCmdBufTime = 16

[State ]
Type = ChangeState
Trigger1 = Time = 1
Value = 51
Ctrl = 1

;---------------------------------------------------------------------------
;ドラゴンフィッシュブロウ
[Statedef 2000]
Type    = S
MoveType = A
Physics = S
Ctrl = 0
VelSet = 0,0
Anim = 2000
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 7
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||AnimElem=7),0,1)
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = AnimElem = 2
V = 37
Value = 30

[State ]
Type = NotHitBy
Trigger1 = AnimElem = 2
Value = SAC
Time = 30
IgnoreHitPause = 1

[State ]
Type = SuperPause
Trigger1 = AnimElem = 2
Anim = -1
Time = 30
MoveTime = 30
PowerAdd = -1000
P2DefMul = 1
Darken = 0

[State ]
Type = Helper
Trigger1 = AnimElem = 2
StateNo = 6500
ID = 10001
Pos = -6,-58
PosType = P1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 33
StateNo = 9500
ID = 9500

[State ]
Type = PosSet
TriggerAll = NumHelper(9500) > 0
TriggerAll = Time = [34,43]
Trigger1 = Facing = 1
Trigger1 = Pos X > Helper(9500),Pos X
Trigger2 = Facing = -1
Trigger2 = Pos X < Helper(9500),Pos X
X = Ceil(Helper(9500),Pos X)

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s2000, 1+Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 5
Anim = 2005
ID = 2005
Postype = P1
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
BindTime = 3

[State ]
Type = Explod
Trigger1 = AnimElem = 6
Anim = 2006
ID = 2006
Postype = P1
Pos = 50,-32
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 2
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PosAdd
Trigger1 = Time = [33,34]
X = 9

[State ]
Type = PosAdd
Trigger1 = Time = [35,36]
X = 5

[State ]
Type = PosAdd
Trigger1 = Time = [37,38]
X = 3

[State ]
Type = PosAdd
Trigger1 = Time = [39,40]
X = 2

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 6
Attr = S, SA
Damage = Ceil(FVar(0)*(192-Var(5)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = H
PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 10+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 11+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -5*FVar(4),20
Guard.Velocity = -7
AirGuard.Velocity = -3*FVar(4),-1.2
Air.Velocity = -5*FVar(4),20
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(520*Var(39)*0.1), Ceil(260*Var(39)*0.1)
GivePower = Ceil(520*(10-Var(39))*0.1), Ceil(260*(10-Var(39))*0.1)

[State ]
Type = HitDef
TriggerAll = Var(25) = [-1,1]
Trigger1 = Var(6) = 0 && AnimElemNo(0) = 6
Attr = S, SA
Damage = Ceil(FVar(0)*(192-Var(5)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = H
PauseTime = 10,10
Guard.PauseTime = 10, 11
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -5*FVar(4),20
Guard.Velocity = -7
AirGuard.Velocity = -3*FVar(4),-1.2
Air.Velocity = -5*FVar(4),20
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
ID = 5700
P2Facing = 1
P2StateNo = 5700
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(520*Var(39)*0.1), Ceil(260*Var(39)*0.1)
GivePower = Ceil(520*(10-Var(39))*0.1), Ceil(260*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;コークスクリューパンチ
[Statedef 2100]
Type    = S
MoveType = A
Physics = S
Ctrl = 0
VelSet = 0,0
Anim = 2100
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || (Time = [35,38]) || Time = 40
Trigger2 = MoveContact || MoveReversed
V = 6
Value = Cond((Time=0||(Time=[35,38])||Time=40),0,1)
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = AnimElem = 2
V = 37
Value = 30

[State ]
Type = NotHitBy
Trigger1 = AnimElem = 2
Value = SAC
Time = 30
IgnoreHitPause = 1

[State ]
Type = SuperPause
Trigger1 = AnimElem = 2
Anim = -1
Time = 30
MoveTime = 30
PowerAdd = -1000
P2DefMul = 1
Darken = 0

[State ]
Type = Helper
Trigger1 = AnimElem = 2
StateNo = 6500
ID = 10001
Pos = 15,-60
PosType = P1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0
StateNo = 9500
ID = 9501
SuperMoveTime = 30

[State ]
Type = PosSet
TriggerAll = NumHelper(9501) > 0
TriggerAll = Time = [1,39]
Trigger1 = Facing = 1
Trigger1 = Pos X > Helper(9501),Pos X
Trigger2 = Facing = -1
Trigger2 = Pos X < Helper(9501),Pos X
X = Ceil(Helper(9501),Pos X)

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s2100, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s950, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Time = 31
Anim = 52
ID = 52
Postype = P1
Pos = 5,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 3
Anim = 325
ID = 315
PosType = P1
Pos = 20,-75
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 30
Anim = 1325
ID = 1325
Postype = P1
Pos = -30,-65
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = AnimElem = 4
StateNo = 2105
ID = 2105
PosType = P1
Pos = 85,-75
Ownpal = 1
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 2
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PosAdd
Trigger1 = Time = [31,32]
X = 15

[State ]
Type = PosAdd
Trigger1 = Time = [33,34]
X = 11

[State ]
Type = PosAdd
Trigger1 = Time = [35,36]
X = 7

[State ]
Type = PosAdd
Trigger1 = Time = [37,38]
X = 4

[State ]
Type = PosAdd
Trigger1 = Time = 39
X = 2

[State ]
Type = PosAdd
Trigger1 = Time = 40
X = 1

[State ]
Type = VarSet
Trigger1 = Var(4) = 0 && FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Var(6) = 0 && Time = [34,39]
Attr = S, SA
Damage = Ceil(FVar(0)*(62-Var(5)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -5*FVar(4),20
Guard.Velocity = -7
AirGuard.Velocity = -3*FVar(4),-1.2
Air.Velocity = -5*FVar(4),20
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
ID = 5600
P2Facing = 1
P2StateNo = 5610
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(30*Var(39)*0.1), Ceil(10*Var(39)*0.1)
GivePower = Ceil(30*(10-Var(39))*0.1), Ceil(10*(10-Var(39))*0.1)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;フリーダムパンチ
[Statedef 3000]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
VelSet = 0,0
Anim = 3000
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = AnimElem = 2
V = 37
Value = 20

[State ]
Type = VarSet
Trigger1 = AnimElem = 3
V = 37
Value = 11

[State ]
Type = SuperPause
Trigger1 = AnimElem = 2
Anim = -1
Time = 20
MoveTime = 20
PowerAdd = -2000
P2DefMul = 1
Darken = 0

[State ]
Type = Pause
Trigger1 = AnimElem = 2, = 19
Time = 30
MoveTime = 30

[State ]
Type = SuperPause
Trigger1 = AnimElem = 3
Anim = -1
Time = 11
MoveTime = 11
P2DefMul = 1
Darken = 0

[State ]
Type = SuperPause
Trigger1 = AnimElem = 16
Anim = -1
Time = 40
MoveTime = 40
P2DefMul = 1
Darken = 0

[State ]
Type = SuperPause
Trigger1 = Time = 68
Anim = -1
Time = 43
MoveTime = 43
P2DefMul = 1
Darken = 0

[State ]
Type = Helper
Trigger1 = AnimElem = 2
StateNo = 6510
ID = 10000
Pos = 0,-60
PosType = P1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = AnimElem = 14
StateNo = 6610
ID = 20000
Pos = 0,-60
PosType = P1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = AnimElem = 17, = 32
StateNo = 6600
ID = 20000
Pos = 0,-60
PosType = P1
Ownpal = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 1
Range = 0,1
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s3000, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 15
Value = s3001, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s3005, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = AnimElem = 2
StateNo = 3006
ID = 3006
Pos = -15,-66
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = AnimElem = 2, = 4
StateNo = 3006
ID = 3006
Pos = -15,-66
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = AnimElem = 2, = 8
StateNo = 3006
ID = 3006
Pos = -15,-66
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = AnimElem = 2, = 12
StateNo = 3006
ID = 3006
Pos = -15,-66
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = AnimElem = 2
Anim = 52
ID = 52
Postype = P1
Pos = 5,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = AnimElem = 14
Anim = 1325
ID = 1325
Postype = P1
Pos = -100,-65
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = AnimElem = 14
StateNo = 2105
ID = 2105
PosType = P1
Pos = 85,-72
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = AnimElem = 14, = 1
Anim = 3005
ID = 3005
Postype = Back
Pos = 0,Ceil(ScreenHeight/2+95)
Ownpal = 1
SprPriority = 0
IgnoreHitPause = 1
Persistent = 0
BindTime = -1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = AnimElem = 14, = 1
Anim = 52
ID = 52
Postype = P1
Pos = 5,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = AnimElem = 15
Anim = 51
ID = 51
Postype = P1
Pos = 50,0
Vel = 1,0
Facing = -1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = AnimElem = 16
StateNo = 3007
ID = 3007
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = AnimElem = 16, = 4
StateNo = 3007
ID = 3007
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PosAdd
Trigger1 = Time = [53,63]
X = 25

[State ]
Type = PosAdd
Trigger1 = Time = [64,68]
X = 10

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Time = [108,114]
Attr = S, HA
Damage = Ceil(FVar(0)*(70-Var(5)%2))
AnimType  = Up
HitFlag = MAFD
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-11
Guard.Velocity = -7
AirGuard.Velocity = -3*FVar(4),-1.2
Air.Velocity = 0,-11
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
P2Facing = -1
YAccel = .42
Kill = 0
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(30*Var(39)*0.1), Ceil(10*Var(39)*0.1)
GivePower = Ceil(30*(10-Var(39))*0.1), Ceil(10*(10-Var(39))*0.1)

[State ]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = Time = 115
Attr = S, HA
Damage = Ceil(FVar(0)*(70-Var(5)%2))
AnimType  = Up
HitFlag = MAFD
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s10,2
GuardSound = s120,0+Random%2
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-11
Guard.Velocity = -7
AirGuard.Velocity = -3*FVar(4),-1.2
Air.Velocity = 0,-11
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
P2Facing = -1
YAccel = .42
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(30*Var(39)*0.1), Ceil(10*Var(39)*0.1)
GivePower = Ceil(30*(10-Var(39))*0.1), Ceil(10*(10-Var(39))*0.1)

[State ]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6030
ID = 6030
PosType = P2
Pos = 0,-55
Facing = -1*Facing*EnemyNear(Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
TriggerAll = MoveHit = 1
Trigger1 = Var(7) = [0,1]
Anim = 315
ID = 315
PosType = P2
Pos = 0,-65
VFacing = Cond(Random%2=0,1,-1)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
TriggerAll = MoveHit = 1
Trigger1 = Var(7) = 2
Anim = 325
ID = 315
PosType = P2
Pos = 0,-65
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 3001

;---------------------------------------------------------------------------
;フリーダムパンチ2
[Statedef 3001]
Type    = S
MoveType= I
Physics = S
Ctrl = 0
VelSet = 0,0
Anim = 3001
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 1
Range = 0,3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 1
Value = s195, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 1
Value = s950, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Var(1) = 3
Trigger1 = AnimElem = 1
Value = s3001, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4 || AnimElem = 8
Value = s10, 0
Channel = 5

[State ]
Type = MoveHitReset
Trigger1 = Time = 0
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = RoundState > 2
FV = 39
Value = 2

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1
