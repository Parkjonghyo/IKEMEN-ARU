; これはＣＮＳファイルです。
; コメントを参考にしてＣＮＳを理解してください

;Var(0) = コンフィグ
;Var(1) = 音声
;Var(2) = キャンセル
;Var(3) = EnemyNear切り替え用
;Var(4) = ヒット数補正ヒットカウンター
;Var(5) = 受身補正ヒットカウンター
;Var(6) = ゲージ補正ヒットカウンター
;Var(7) = 重力補正ヒットカウンター
;Var(8) = クリティカルヒット
;Var(9) = 着地硬直リバースビートキャンセル
;Var(10) = ジャンプキャンセル回数
;Var(11) = 2段ジャンプ、空中ダッシュ回数、ローアルト判定
;Var(12) = ダッシュ慣性判定
;Var(13) = MAX&HEAT&AUTOHEAT&BLOODHEAT&UNLIMITED&CIRCUITBREAK判定
;Var(14) = MAX&HEAT&AUTOHEAT&BLOODHEAT&UNLIMITED&CIRCUITBREAK時間
;Var(15) = パワー記憶
;Var(16) = パワー増加無効化
;Var(17)〜Var(18) = スーパーアーマー
;Var(19) = ＥＸガードゲージ補正カウント
;Var(20) = 弱攻撃コンボ制限
;Var(21) = 中攻撃コンボ制限
;Var(22) = 強攻撃コンボ制限
;Var(23) = 特殊攻撃コンボ制限
;Var(24) = リアクト属性ゲージ補正
;Var(25) = ループコンボ制限
;Var(26) = 画面はしノックバック
;Var(27) = 空き
;Var(28) = ダメージカウンター
;Var(29) = ダメージカウンター2
;Var(30) = インバリッド判定
;Var(31) = ガードゲージ回復補正
;Var(32) = ガードゲージ総量記憶
;Var(33)〜Var(34) = ヴァイタルソース
;Var(35) = ガードゲージ
;Var(36) = ガードクオリティ
;Var(37) = リバーサルアタック
;Var(38) = HighCounter/LowCounter判定
;Var(39) = 空き
;Var(40) = リバースビート/シールドキャンセルカウント
;Var(41) = ヒットポーズ計算用
;Var(42) = ＥＸガード入力用
;Var(43) = ＥＸエッジゲージ補正カウント
;Var(44) = 暗転時間カウント
;Var(45) = ガードキャンセルバンカーキャンセル&シールドキャンセル&オートスパーク用
;Var(46) = サーキットスパーク使用制限
;Var(47) = 特殊処理用
;Var(48) = 特殊処理用2
;Var(49) = 特殊処理用3
;Var(50) = ダウン追い討ち判定
;Var(51) = 特殊コマンド制限用
;Var(52) = レデュースダメージ判定
;Var(53) = レデュースダメージ判定
;Var(54) = 色々な用途で使用
;Var(55) = 色々な用途で使用
;Var(56) = ハンディキャップ用
;Var(57) = スタイル選択用
;Var(58) = 開幕行動前用
;Var(59) = AI

;FVar(0) = コンボ補正
;FVar(1) = 特定攻撃のコンボ/ＥＸキャンセル/リアクト補正
;FVar(2) = ヒット数補正
;FVar(3) = クリティカルヒット補正
;FVar(4)&FVar(5) = 状態ダメージ補正
;FVar(6) = 根性値補正
;FVar(7) = MBキャラ判定
;FVar(8)〜FVar(9) = ヴァイタルソース
;FVar(10) = 空き
;FVar(11) = リバースビート/シールドキャンセルダメージ補正
;FVar(12) = 空き
;FVar(13) = 状態攻撃補正
;FVar(14) = 状態防御補正
;FVar(15) = ラストアーク補正
;FVar(16) = 暗転中の補正制限
;FVar(17) = ダメージカウンター用
;FVar(18) = アイコン用
;FVar(19) = レデュースダメージ判定
;FVar(20) = レデュースダメージ判定
;FVar(21) = ダウン時間用
;FVar(22) = ガードゲージ削り補正
;FVar(23) = ガードブレイク時間用
;FVar(24) = イニシアティブヒート用
;FVar(25) = 画面はしノックバック
;FVar(26) = Fスタイルシールドキャンセル用
;FVar(27) = 開幕行動前用2
;FVar(28) = 空き
;FVar(29) = マジックサーキット
;FVar(30) = ＥＸエッジゲージ(自分取得側)補正
;FVar(31) = ヒット数/EXガードゲージ(相手取得側)補正
;FVar(32) = システムメッセージ用
;FVar(33) = システムメッセージ用
;FVar(34) = システムメッセージ用
;FVar(35) = 受身時間補正
;FVar(36) = 重力補正
;Fvar(37) = LocalCoord切り替え対応用
;FVar(38) = 氷結燃焼感電用
;FVar(39) = ロック位置判別用、やられモーションのアニメ変更用

;SysVar(0) = デフォルトのコモン処理に使用
;SysVar(1) = デフォルトのコモン処理に使用2
;SysVar(2) = やられモーションのアニメ変更用、ガード削りKO用
;SysVar(3) = 各種特殊ジャンプ判別用
;SysVar(4) = ジャンプコマンド制限用

;SysFVar(0) = 空き
;SysFVar(1) = 空き
;SysFVar(2) = 空き
;SysFVar(3) = 空き
;SysFVar(4) = 空き

; これは定数と状態のファイルです。
; 絶対記入し、削除はしないでください。
[Data]
  ;体力ゲージの初期値
Life = 1140
Power = 3334
  ;攻撃力（これ以上に設定すると強くなる）
Attack = 100
  ;防御力（これ以上に設定すると強くなる）
Defence = 100
  ;コンボをくらっている時にあがる防御力
Fall.Defence_Up = 50
  ;倒れてから起上がるまでのフレーム数
Liedown.Time = 30
  ;空中でどれだけコンボが繋がるか（高くすると無限コンボになるので注意）
AirJuggle = 15
  ;hitdefで設定していない時の基本ヒットスパークナンバー
SparkNo = 2
  ;設定してない時のガードナンバー
Guard.SparkNo = 40
  ;KOした時に声にエコーをかけるか（１でＯＮ）
KO.Echo = 0
 VolumeScale = 100
  IntPersistIndex = 13
FloatPersistIndex = 9

[Size]
xscale = 1           ;水平方向の縮尺（通常１）
yscale = 1           ;垂直方向の縮尺（通常１）
ground.back = 15     ;キャラの幅(後方,地上)
ground.front = 13    ;キャラの幅(前方,地上)
air.back = 15        ;キャラの幅(後方,空中)
air.front = 13       ;キャラの幅(前方,空中)
height = 65          ;キャラの高さ
attack.dist = 160    ;攻撃をした時相手がガード体制に入る最低距離
proj.attack.dist = 90;攻撃をした時相手がガード体制に入る最低距離（飛び道具）
proj.doscale = 0     ;上で設定した縮尺を飛び道具にも適用するか（１でＯＮ）   
head.pos = -5, -85   ;頭の大体の座標
mid.pos = -5, -50    ;体の中心の大体の座標
shadowoffset = 0     ;影の垂直方向のオフセット
draw.offset = 0,0    ;使用しない

[Velocity]
walk.fwd  = 2.7      ;前進の速度
walk.back = -2.15    ;後退の速度
run.fwd  = 4.6, 0    ;前ダッシュの速度（ホップする時はyを-にする）
run.back = -4.5,-3.8 ;後ダッシュの速度（ホップする時はyを-にする）
jump.neu = 0,-11.701 ;垂直ジャンプの速度
jump.back = -1.865   ;後ジャンプの速度
jump.fwd = 2.225     ;前ジャンプの速度
runjump.back = -2.2,-11.701 ;後ダッシュしながらのジャンプ速度(オプション)
runjump.fwd = 2.2,-11.701   ;前ダッシュしながらのジャンプ速度(オプション)
airjump.neu = 0,-9.6        ;２段ジャンプ以降の垂直ジャンプの速度(オプション)
airjump.back = -1.88     ;２段ジャンプ以降の後ジャンプの速度(オプション)
airjump.fwd = 2.235      ;２段ジャンプ以降の前ジャンプの速度

[Movement]
airjump.num = 0      ;空中でジャンプする回数
airjump.height = 35  ;空中でジャンプする最低限の高さ
yaccel = .6          ;重力
stand.friction = .85  ;立ち状態の摩擦係数
crouch.friction = .82 ;屈み状態の摩擦係数

;---------------------------------------------------------------------------
; ステイトの解説
; [Statedef STATENO]
; type = ?      S/C/A/L  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｌ：ダウン
; movetype = ?  I/A/H    Ｉ：通常状態/Ａ：攻撃状態/Ｈ：ダメージをくらってる状態
; physics = ?   S/C/A/N  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｎ：無し
; juggle = ?             その攻撃に使うジャグル数
;

;---------------------------------------------------------------------------
; タイムオーバーで負けた時1
[Statedef 170]
Type = S
Ctrl = 0
Anim = 170
VelSet = 0,0

[State 170, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s170, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 200
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作１
[Statedef 180]
Type = S
Ctrl = 0
Anim = 181
VelSet = 0,0

[State -1] 
Type = ChangeState
Trigger1 = Enemy,Name = "Nrvnqsr_Chaos"
Trigger1 = AnimElem = 4
Value = 184

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0

[State -1] 
Type = ChangeState
TriggerAll = Var(1) = [1,5]
Trigger1 = AnimElem = 4
Value = 180+Var(1)

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s180, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 240
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作２
[Statedef 181]
Type = S
Ctrl = 0
Anim = 182
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s180, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 240
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作３
[Statedef 182]
Type = S
Ctrl = 0
Anim = 183
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s180, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 230
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作４
[Statedef 183]
Type = S
Ctrl = 0
Anim = 184
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s180, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = AssertSpecial
Trigger1 = Time <= 220
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作５
[Statedef 184]
Type = S
Ctrl = 0
Anim = 185
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = Enemy,Name = "Nrvnqsr_Chaos"
Trigger1 = Time = 0
V = 1
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Enemy,Name != "Nrvnqsr_Chaos"
Trigger1 = AnimElem = 4
Value = s180, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Enemy,Name = "Nrvnqsr_Chaos"
Trigger1 = AnimElem = 2
Value = s181, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = AssertSpecial
Trigger1 = Var(1) = 0
Trigger1 = Time <= 240
Trigger2 = Var(1) = 1
Trigger2 = Time <= 400
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作６
[Statedef 185]
Type = S
Ctrl = 0
Anim = 186
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s180, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 187
Anim = 187
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 240
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 開始前の動作 1
[Statedef 191]
Type = S
Ctrl = 0
Anim = 190
VelSet = 0,0

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State -1] 
Type = ChangeState
Trigger1 = Enemy,Name = "Arcueid Brunestud" || Enemy,Name = "Arcueid_Brunestud"
Trigger1 = Time = 0
Value = 192

[State -1] 
Type = ChangeState
Trigger1 = Enemy,Name = "Ciel"
Trigger1 = Time = 0
Value = 193

[State -1] 
Type = ChangeState
Trigger1 = Enemy,Name = "Nrvnqsr_Chaos"
Trigger1 = Time = 0
Value = 194

[State -1]
Type = VarRandom
Trigger1 = Time = 10
V = 1
Range = 0,4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = Enemy,Name = "Archetype:EARTH"
Trigger1 = Time = 10
V = 1
Value = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = [0,4]
Trigger1 = Time = 10
Value = s190, 0+Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 5
Trigger1 = Time = 10
Value = s191, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ChangeAnim
TriggerAll = Anim = 190
Trigger1 = Var(1) = 0 || Var(1) = 3
Trigger1 = Time = 213
Trigger2 = Var(1) = 1
Trigger2 = Time = 181
Trigger3 = Var(1) = 2
Trigger3 = Time = 165
Trigger4 = Var(1) = 4
Trigger4 = Time = 149
Trigger5 = Var(1) = 5
Trigger5 = Time = 101
Value = 191
IgnoreHitPause = 1
Persistent = 0

[State -1] 
Type = ChangeState
Trigger1 = Anim = 191
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; 開始前の動作 対アルクェイド
[Statedef 192]
Type = S
Ctrl = 0
Anim = 192
VelSet = 0,0

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s191, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; 開始前の動作 対シエル
[Statedef 193]
Type = S
Ctrl = 0
Anim = 193
VelSet = 0,0
SprPriority = 0

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State -1]
Type = PlaySnd
Trigger1 = Time = 210
Value = s191, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; 開始前の動作 対ネロ・カオス
[Statedef 194]
Type = S
Ctrl = 0
Anim = 194
VelSet = 0,0

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s192, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; 挑発の動作
[Statedef 195]
Type = S
Ctrl = 0
Anim = 195
MoveType = I
Physics = S
Sprpriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s902, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; C5A
[Statedef 200]
Type    = S                      
MoveType= A                      
Physics = S                      
Juggle  = 0                      
;Commonly-used controllers:
Ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
Anim = 200                       ;このステートで表示するスプライトステート番号(0で変化無し)
SprPriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 2
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s200, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = S, NA                                             ;立ち状態で、通常の攻撃(ｓは立ち、ｎは通常、aは攻撃を表す)
Damage = Ceil(FVar(0)*(30-Var(4)%2))                     ;ダメージ量（左が当たった時、右はガードした時）
AnimType = Light                                         ;当てた時の相手のポーズ（light/midium/hard/back）から選択
GuardFlag = M                                            ;ガードできる状態（ｍaは全ての状態でガード可能）
HitFlag = MAFD                                           ;当てる事のできる条件
Priority = IfElse(Var(57)%10=4,4,3), Hit                                        ;攻撃の優先権（0弱い　4通常　7強い
PauseTime = 7, 7+7*IfElse(Var(38)>0,1,0)+Var(41)         ;攻撃が当たった時の硬直時間（左が自分、右が相手）
Guard.PauseTime = 7, 7
HitSound = s10,0                                         ;ヒットした時の音（ｓ*,*にすると自分の音を使う）
GuardSound = s120,0                                      ;ガードした時の音（同上）
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High                                       ;相手のくらった場所（High：頭、体, Low：足, Trip：足払い）
Ground.SlideTime = 10                                    ;相手が後にすべる時間
Ground.HitTime  = 10                                     ;コンボが繋がる時間（高くしすぎない事）
Ground.Velocity = -4                                  ;地上で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
Down.Velocity = -4,-2*FVar(36)
Air.Type = High                                          ;空中で相手がくらった場所（上と同じ）
Air.Velocity = IfElse(Var(50)=1,-2.5,-4),IfElse(Var(50)=1,-7.2,-2)*FVar(36);空中で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 200
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State -1]
Type = VarSet
Trigger1 = Var(20)%10 = 0
V = 20
Value = Var(20)+1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;H5A
[Statedef 201]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 201
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,9
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s210, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 3
Trigger1 = AnimElem = 2
Value = s210, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 4
Trigger1 = AnimElem = 2
Value = s210, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = S, NA
Damage = Ceil(FVar(0)*(30-Var(4)%2))
AnimType = Light
GuardFlag = M
HitFlag = MAFD
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 7, 7+7*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 7, 7
HitSound = s10, 3
GuardSound = s120, 0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -4
Air.Velocity = IfElse(Var(50)=1,-2.5,-4),IfElse(Var(50)=1,-7.2,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = -0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 201
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State -1]
Type = VarSet
Trigger1 = Var(20)%10 = 0
V = 20
Value = Var(20)+1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; F5A
[Statedef 202]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 202
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 2
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s200, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = S, NA
Damage = Ceil(FVar(0)*(30-Var(4)%2))
AnimType = Light
GuardFlag = M
HitFlag = MAFD
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 7, 7+7*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 7, 7
HitSound = s10,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -4
Air.Velocity = IfElse(Var(50)=1,-2.5,-4),IfElse(Var(50)=1,-7.2,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 202
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State -1]
Type = VarSet
Trigger1 = Var(20)%10 = 0
V = 20
Value = Var(20)+1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; E5A
[Statedef 203]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 203
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s200, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = S, NA
Damage = Ceil(FVar(0)*(30-Var(4)%2))
AnimType = Light
GuardFlag = M
HitFlag = MAFD
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 7, 7+7*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 7, 7
HitSound = s10,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -4
Air.Velocity = IfElse(Var(50)=1,-2.5,-4),IfElse(Var(50)=1,-7.2,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 200
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State -1]
Type = VarSet
Trigger1 = Var(20)%10 = 0
V = 20
Value = Var(20)+1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;C5B
[Statedef 210]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 210
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 4
V = 55
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s210, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 3
Trigger1 = AnimElem = 2
Value = s210, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 4
Trigger1 = AnimElem = 2
Value = s210, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PosAdd
Trigger1 = Time = [6,7]
X = 11.7

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.80
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveContact = 1 || MoveReversed = 1
V = 55
Value = 1
IgnoreHitPause = 1

[State -1]
type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(55) = 0
Trigger1 = AnimElem = 3, >= 0
Attr = S, NA
AnimType  = Medium
Damage    = Ceil(FVar(0)*(55-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 9,9+9*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 9,9
HitSound   = s10,1
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -6
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 210
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*55), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*55)
GivePower = Floor(FVar(31)*55), Floor(0.50*FVar(31)*55)

[State -1]
Type = VarSet
Trigger1 = Var(21)%10 = 0
V = 21
Value = Var(21)+1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;F5B
[Statedef 211]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 211
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,9
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s210, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 3
Trigger1 = AnimElem = 2
Value = s210, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 4
Trigger1 = AnimElem = 2
Value = s210, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PosAdd
Trigger1 = Time = [6,7]
X = 9.75

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State -1]
type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = S, NA
AnimType  = Medium
Damage    = Ceil(FVar(0)*(67-Var(4)%2))
HitFlag = MAFD
GuardFlag = L
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 9,9+9*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 9,9
HitSound   = s10,4
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -6
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 9
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 210
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*67), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*67)
GivePower = Floor(FVar(31)*67), Floor(0.50*FVar(31)*67)

[State -1]
Type = VarSet
Trigger1 = Var(21)%10 = 0
V = 21
Value = Var(21)+1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;E5B
[Statedef 212]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 212
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 4
V = 55
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s210, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 3
Trigger1 = AnimElem = 2
Value = s210, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 4
Trigger1 = AnimElem = 2
Value = s210, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PosAdd
Trigger1 = Time = [4,5]
X = 11.7

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.80
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveContact = 1 || MoveReversed = 1
V = 55
Value = 1
IgnoreHitPause = 1

[State -1]
type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(55) = 0
Trigger1 = AnimElem = 4, >= 0
Attr = S, NA
AnimType  = Medium
Damage    = Ceil(FVar(0)*(55-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 9,9+9*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 9,9
HitSound   = s10,1
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -6
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 210
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*55), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*55)
GivePower = Floor(FVar(31)*55), Floor(0.50*FVar(31)*55)

[State -1]
Type = VarSet
Trigger1 = Var(21)%10 = 0
V = 21
Value = Var(21)+1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; C5C
[Statedef 220]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 220
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 13
V = 55
Value = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 8, >= 0
Trigger1 = AnimElem = 10, < 0
Value = 12,0

[State -1]
Type = PosAdd
Trigger1 = Time = [1,2]
X = 5.5

[State -1]
Type = PosAdd
Trigger1 = Time = [3,4]
X = 5

[State -1]
Type = PosAdd
Trigger1 = Time = [5,7]
X = 4.75

[State -1]
Type = PosAdd
Trigger1 = Time = 16
X = 3.9

[State -1]
Type = PosAdd
Trigger1 = Time = [17,18]
X = 5.4

[State -1]
Type = PosAdd
Trigger1 = Time = 19
X = 21

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = [22,24]
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.90*FVar(1)
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time != [22,24]
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.80
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = AnimElem = 11, >= 0
Trigger1 = MoveContact = 1 || MoveReversed = 1
V = 55
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(40-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 16
Guard.HitTime  = 16
Ground.Velocity = -5
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 220
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*40), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.50*FVar(31)*40)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(55) = 0
Trigger1 = AnimElem = 11, >= 0
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(55-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 221
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*55), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*55)
GivePower = Floor(FVar(31)*55), Floor(0.50*FVar(31)*55)

[State -1]
Type = VarSet
Trigger1 = Var(22)%10 = 0
V = 22
Value = Var(22)+1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; E5C
[Statedef 221]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 221
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 5, >= 0
Trigger1 = AnimElem = 7, < 0
Value = 13,-1

[State -1]
Type = Helper
Trigger1 = Time = 2
StateNo = 9500
ID = 9500
Ownpal = 0

[State -1]
Type = PosSet
TriggerAll = NumHelper(9500) > 0
TriggerAll = Time = [2,20]
Trigger1 = Facing = 1
Trigger1 = Pos X > Helper(9500),Pos X
Trigger2 = Facing = -1
Trigger2 = Pos X < Helper(9500),Pos X
X = Ceil(Helper(9500),Pos X)

[State -1]
Type = PosAdd
Trigger1 = Time = [5,6]
X = 1.95

[State -1]
Type = PosAdd
Trigger1 = Time = [7,8]
X = 9.8

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 4
ID = 225
PosType = P1
Pos = 64,-82
StateNo = 246
Ownpal = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.65
FV = 1
Value = 0.65
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(90-Var(4)%2)),Ceil(FVar(0)/FVar(3)*11)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 221
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*90), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*90)
GivePower = Floor(FVar(31)*90), Floor(0.50*FVar(31)*90)

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(22)%10 = 0
V = 22
Value = Var(22)+1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;H6A
[Statedef 230]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 230
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PosAdd
Trigger1 = Time = [3,4]
X = 11.75

[State -1]
Type = PosAdd
Trigger1 = Time = [5,6]
X = 7.8

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,9
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s210, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 3
Trigger1 = AnimElem = 2
Value = s210, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 4
Trigger1 = AnimElem = 2
Value = s210, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.80*FVar(1)
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = S, NA
Damage = Ceil(FVar(0)*(60-Var(4)%2))
AnimType = Medium
GuardFlag = M
HitFlag = MAFD
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 9,9+9*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 9,9
HitSound = s10,1
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -6
Air.Type = High
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 230
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*60), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.50*FVar(31)*60)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;H6A2
[Statedef 231]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 231
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PosAdd
Trigger1 = Time = [4,6]
X = 9.8

[State -1]
Type = PosAdd
Trigger1 = Time = [7,8]
X = 5.85

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 2
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 2
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 2
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.60
FV = 1
Value = 0.60
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = S, NA
Damage = Ceil(FVar(0)*(100-Var(4)%2))
AnimType = Hard
GuardFlag = M
HitFlag = MAFD
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-9*FVar(36)
Guard.Velocity = -9.5
Air.Type = High
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 231
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(40+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; C6C
[Statedef 240]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 240
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 5, >= 0
Trigger1 = AnimElem = 7, < 0
Value = 13,-1

[State -1]
Type = PosAdd
Trigger1 = Time = [6,8]
X = 1.95

[State -1]
Type = PosAdd
Trigger1 = Time = [9,10]
X = 9.8

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.65
FV = 1
Value = 0.65
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 240
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = VarSet
Trigger1 = Var(23)%10 = 0
V = 23
Value = Var(23)+1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; H6C
[Statedef 241]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 241
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 54
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Time = 21
V = 55
Value = 0

[State -1]
Type = VarSet
TriggerAll = !(Var(59)/10000)
Trigger1 = Anim = 241
Trigger1 = Command != "C溜め"
Trigger1 = Time = [0,20]
V = 55
Value = 1

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&Anim=241&&Time<21
TriggerAll = Var(58)/10000-231
TriggerAll = Time/5
Trigger1 = Fvar(10)=-999999
Trigger2 = Var(56)/100%100=33
Trigger2 = PlayerID(Var(3)),GetHitVar(Fall.Recover)||PrevStateNo/10=42
Trigger3 = Var(56)/100%100=33
Trigger3 = Fvar(37):=IfElse(Time<10,7,IfElse(Time<15,5,3))||1
Trigger3 = PlayerID(Var(3)),Pos Y+Fvar(37)*(PlayerID(Var(3)),Vel Y+0.5*(Fvar(37)+1)*Fvar(7))<0
Trigger3 = PlayerID(Var(3)),Pos Y+(Fvar(37)+1)*(PlayerID(Var(3)),Vel Y+0.5*(Fvar(37)+2)*Fvar(7))>=0
Trigger4 = Var(56)/100%10<3
Trigger4 = Time=Helper(25000),Var(57)%100%11||PlayerID(Var(3)),StateNo/1000=5
V = 55
Value = 1

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 241
Trigger1 = Var(55) = 1
Trigger1 = Time = [5,9]
Value = 242

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 241
Trigger1 = Var(55) = 1
Trigger1 = Time = [10,14]
Value = 242
Elem = 2

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 241
Trigger1 = Var(55) = 1
Trigger1 = Time = [15,20]
Value = 242
Elem = 3

[State -1]
Type = ChangeState
Trigger1 = Var(55) = 0
Trigger1 = Time = 20
Value = 242

[State -1]
Type = PlaySnd
Trigger1 = Anim = 242
Trigger1 = AnimElem = 3
Value = s241, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PosAdd
Trigger1 = Anim = 242
Trigger1 = AnimElem = 3, = [0,1]
X = 9.85

[State -1]
Type = PosAdd
Trigger1 = Anim = 242
Trigger1 = AnimElem = 4
X = 1.95

[State -1]
Type = Explod
Trigger1 = Anim = 242
Trigger1 = AnimElem = 4
ID = 246
Scale = 0.5,0.5
Anim = 246
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(0)/FVar(3)*12)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 241
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = VarSet
Trigger1 = Var(23)%10 = 0
V = 23
Value = Var(23)+1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; BEH6C
[Statedef 242]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 6
Anim = 10108
ID = 10108
Postype = P1
Pos = -13,4
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 6
Anim = 10106
ID = 10106
Postype = P1
Pos = -13,4
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 6
Anim = 10107
ID = 10107
Postype = P1
Pos = -13,4
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s242, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 6, = [0,1]
X = 13.8

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 7, = [0,1]
X = 5.85

[State -1]
Type = Explod
Trigger1 = AnimElem = 7
ID = 246
Scale = 0.5,0.5
Anim = 246
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 8
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(140-Var(4)%2)),Ceil(FVar(0)/FVar(3)*17)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -0.5,-4.1*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-0.5,-4),IfElse(Var(50)=1,-4.1,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 242
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(34+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*140), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*140)
GivePower = Floor(FVar(31)*140), Floor(0.50*FVar(31)*140)

[State -1]
Type = VarSet
Trigger1 = Var(23)%10 = 0
V = 23
Value = Var(23)+1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;C2A
[Statedef 400]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 400
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Width
Trigger1 = AnimTime < 0
Value = 3,0

[State -1]
Type = PlaySnd
Trigger1 = Time = 2
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s200, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = C, NA
Damage = Ceil(FVar(0)*(30-Var(4)%2))
Priority  = IfElse(Var(57)%10=4,4,3), Hit
AnimType  = Light
HitFlag = MAFD
GuardFlag = M
PauseTime = 7,7+7*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 7,7
HitSound   = s10,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -4
Air.Velocity = IfElse(Var(50)=1,-2.5,-4),IfElse(Var(50)=1,-7.2,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 400
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State -1]
Type = VarSet
Trigger1 = Var(20)/10%10 = 0
V = 20
Value = Var(20)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;F2A
[Statedef 401]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 401
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Width
Trigger1 = AnimTime < 0
Value = 3,0

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s200, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = C, NA
Damage = Ceil(FVar(0)*(30-Var(4)%2))
Priority  = IfElse(Var(57)%10=4,4,3), Hit
AnimType  = Light
HitFlag = MAFD
GuardFlag = L
PauseTime = 7,7+7*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 7,7
HitSound   = s10,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -4
Air.Velocity = IfElse(Var(50)=1,-2.5,-4),IfElse(Var(50)=1,-7.2,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 400
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State -1]
Type = VarSet
Trigger1 = Var(20)/10%10 = 0
V = 20
Value = Var(20)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;E2A
[Statedef 402]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 402
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Width
Trigger1 = AnimTime < 0
Value = 3,0

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s200, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.70
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = C, NA
Damage = Ceil(FVar(0)*(30-Var(4)%2))
Priority  = IfElse(Var(57)%10=4,4,3), Hit
AnimType  = Light
HitFlag = MAFD
GuardFlag = L
PauseTime = 7,7+7*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 7,7
HitSound   = s10,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -4
Air.Velocity = IfElse(Var(50)=1,-2.5,-4),IfElse(Var(50)=1,-7.2,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 400
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State -1]
Type = VarSet
Trigger1 = Var(20)/10%10 = 0
V = 20
Value = Var(20)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;C2B
[Statedef 410]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 410
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 4
V = 55
Value = 0

[State -1]
Type = Width
Trigger1 = AnimTime < 0
Value = 3,0

[State -1]
Type = PosAdd
Trigger1 = Time = [5,6]
X = 9.75

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,9
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s210, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 3
Trigger1 = AnimElem = 2
Value = s210, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 4
Trigger1 = AnimElem = 2
Value = s210, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.80
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveContact = 1 || MoveReversed = 1
V = 55
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(55) = 0
Trigger1 = AnimElem = 3, >= 0
Attr = C, NA
Damage    = Ceil(FVar(0)*(55-Var(4)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = L
Priority  = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 9,9+9*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 9,9
HitSound   = s10,4
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -6
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 410
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*60), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.50*FVar(31)*60)

[State -1]
Type = VarSet
Trigger1 = Var(21)/10%10 = 0
V = 21
Value = Var(21)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;F2B
[Statedef 411]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 411
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Width
Trigger1 = AnimTime < 0
Value = 8,0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,9
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s210, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 3
Trigger1 = AnimElem = 2
Value = s210, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 4
Trigger1 = AnimElem = 2
Value = s210, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.80
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = C, NA
Damage    = Ceil(FVar(0)*(60-Var(4)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = L
Priority  = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 9,9+9*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 9,9
HitSound   = s10,1
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -6
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 410
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*70), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*70)
GivePower = Floor(FVar(31)*70), Floor(0.50*FVar(31)*70)

[State -1]
Type = VarSet
Trigger1 = Var(21)/10%10 = 0
V = 21
Value = Var(21)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;E2B
[Statedef 412]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 412
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 4
V = 55
Value = 0

[State -1]
Type = Width
Trigger1 = AnimTime < 0
Value = 3,0

[State -1]
Type = PosAdd
Trigger1 = Time = [3,4]
X = 9.75

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,9
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s210, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 3
Trigger1 = AnimElem = 2
Value = s210, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 4
Trigger1 = AnimElem = 2
Value = s210, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.80
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveContact = 1 || MoveReversed = 1
V = 55
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(55) = 0
Trigger1 = AnimElem = 3, >= 0
Attr = C, NA
Damage    = Ceil(FVar(0)*(55-Var(4)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = L
Priority  = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 9,9+9*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 9,9
HitSound   = s10,4
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -6
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 410
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*60), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.50*FVar(31)*60)

[State -1]
Type = VarSet
Trigger1 = Var(21)/10%10 = 0
V = 21
Value = Var(21)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;C2C
[Statedef 420]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 420
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 5
V = 55
Value = 0

[State -1]
Type = Width
Trigger1 = AnimTime < 0
Value = 3,0

[State -1]
Type = PosAdd
Trigger1 = Time = 6
X = 7.95

[State -1]
Type = PosAdd
Trigger1 = Time = 7
X = 6.35

[State -1]
Type = PosAdd
Trigger1 = Time = [8,9]
X = 4.7

[State -1]
Type = PosAdd
Trigger1 = Time = [10,11]
X = 3.3

[State -1]
Type = PosAdd
Trigger1 = Time = [12,13]
X = 1.9

[State -1]
Type = PosAdd
Trigger1 = Time = [14,15]
X = 0.5

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.55
FV = 1
Value = 0.55
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveContact = 1 || MoveReversed = 1
V = 55
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(55) = 0
Trigger1 = AnimElem = 3, >= 0
Attr = C, NA
Damage    = Ceil(FVar(0)*(90-Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = L
Priority  = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -0.5,-4.1*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-0.5,-4),IfElse(Var(50)=1,-4.1,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 420
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*90), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*90)
GivePower = Floor(FVar(31)*90), Floor(0.50*FVar(31)*90)

[State -1]
Type = VarSet
Trigger1 = Var(22)/10%10 = 0
V = 22
Value = Var(22)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;E2C
[Statedef 421]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 421
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 5
V = 55
Value = 0

[State -1]
Type = Width
Trigger1 = AnimTime < 0
Value = 3,0

[State -1]
Type = PosAdd
Trigger1 = Time = 5
X = 7.95

[State -1]
Type = PosAdd
Trigger1 = Time = 6
X = 6.35

[State -1]
Type = PosAdd
Trigger1 = Time = [7,8]
X = 4.7

[State -1]
Type = PosAdd
Trigger1 = Time = [9,10]
X = 3.3

[State -1]
Type = PosAdd
Trigger1 = Time = [11,12]
X = 1.9

[State -1]
Type = PosAdd
Trigger1 = Time = [13,14]
X = 0.5

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.55
FV = 1
Value = 0.55
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveContact = 1 || MoveReversed = 1
V = 55
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(55) = 0
Trigger1 = AnimElem = 3, >= 0
Attr = C, NA
Damage    = Ceil(FVar(0)*(90-Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = L
Priority  = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -0.5,-4.1*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-0.5,-4),IfElse(Var(50)=1,-4.1,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 420
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*90), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*90)
GivePower = Floor(FVar(31)*90), Floor(0.50*FVar(31)*90)

[State -1]
Type = VarSet
Trigger1 = Var(22)/10%10 = 0
V = 22
Value = Var(22)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;CJA
[Statedef 600]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 600
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 3
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s200, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 != 3
Trigger1 = AnimElem = 3
Attr = A, NA
Damage  = Ceil(FVar(0)*(25-Var(4)%2))
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 7,7+7*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 7,7
HitSound   = s10,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
AirGuard.CtrlTime = 8
Ground.Velocity = -4
Air.Velocity = IfElse(Var(50)=1,-2.5,-4),IfElse(Var(50)=1,-7.2,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 600
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*25), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*25)
GivePower = Floor(FVar(31)*25), Floor(0.50*FVar(31)*25)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 = 3
Trigger1 = AnimElem = 3
Attr = A, NA
Damage  = Ceil(FVar(0)*(25-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 7,7+7*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 7,7
HitSound   = s10,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
AirGuard.CtrlTime = 8
Ground.Velocity = -4
Air.Velocity = IfElse(Var(50)=1,-2.5,-4),IfElse(Var(50)=1,-7.2,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 600
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*25), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*25)
GivePower = Floor(FVar(31)*25), Floor(0.50*FVar(31)*25)

[State -1]
Type = VarSet
Trigger1 = Var(20)/100 = 0
V = 20
Value = Var(20)+100

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;EJA
[Statedef 601]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 601
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 2
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s200, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = A, NA
Damage  = Ceil(FVar(0)*(25-Var(4)%2))
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 7,7+7*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 7,7
HitSound   = s10,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
AirGuard.CtrlTime = 8
Ground.Velocity = -4
Air.Velocity = IfElse(Var(50)=1,-2.5,-4),IfElse(Var(50)=1,-7.2,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 600
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*25), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*25)
GivePower = Floor(FVar(31)*25), Floor(0.50*FVar(31)*25)

[State -1]
Type = VarSet
Trigger1 = Var(20)/100 = 0
V = 20
Value = Var(20)+100

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;CJB
[Statedef 610]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 610
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 6
V = 55
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,9
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s210, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 3
Trigger1 = AnimElem = 2
Value = s210, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 4
Trigger1 = AnimElem = 2
Value = s210, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveContact = 1 || MoveReversed = 1
V = 55
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(55) = 0
Trigger1 = AnimElem = 3, >= 0
Attr = A, NA
Damage = Ceil(FVar(0)*(70-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 9,9+9*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 9,9
HitSound   = s10,4
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Med
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
AirGuard.CtrlTime = 8
Ground.Velocity = -6
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 610
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*70), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*70)
GivePower = Floor(FVar(31)*70), Floor(0.50*FVar(31)*70)

[State -1]
Type = VarSet
Trigger1 = Var(21)/100 = 0
V = 21
Value = Var(21)+100

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;HJB
[Statedef 611]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 611
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,9
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s210, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 3
Trigger1 = AnimElem = 2
Value = s210, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 4
Trigger1 = AnimElem = 2
Value = s210, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.85
FV = 1
Value = 0.85
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = A, NA
Damage = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 9,9+9*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 9,9
HitSound   = s10,4
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Med
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
AirGuard.CtrlTime = 8
Ground.Velocity = -6
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 610
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*60), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.50*FVar(31)*60)

[State -1]
Type = VarSet
Trigger1 = Var(21)/100 = 0
V = 21
Value = Var(21)+100

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;FJB
[Statedef 612]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 612
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,9
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s210, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 3
Trigger1 = AnimElem = 2
Value = s210, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 4
Trigger1 = AnimElem = 2
Value = s210, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = A, NA
Damage = Ceil(FVar(0)*(70-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 9,9+9*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 9,9
HitSound   = s10,1
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Med
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
AirGuard.CtrlTime = 8
Ground.Velocity = -6
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 610
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*70), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*70)
GivePower = Floor(FVar(31)*70), Floor(0.50*FVar(31)*70)

[State -1]
Type = VarSet
Trigger1 = Var(21)/100 = 0
V = 21
Value = Var(21)+100

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;EJB
[Statedef 613]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 613
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 6
V = 55
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,9
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s210, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 3
Trigger1 = AnimElem = 2
Value = s210, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 4
Trigger1 = AnimElem = 2
Value = s210, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.85
FV = 1
Value = 0.85
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveContact = 1 || MoveReversed = 1
V = 55
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(55) = 0
Trigger1 = AnimElem = 3, >= 0
Attr = A, NA
Damage = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 9,9+9*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 9,9
HitSound   = s10,4
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Med
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
AirGuard.CtrlTime = 8
Ground.Velocity = -6
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 610
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*60), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.50*FVar(31)*60)

[State -1]
Type = VarSet
Trigger1 = Var(21)/100 = 0
V = 21
Value = Var(21)+100

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;CJC
[Statedef 620]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 620
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = A, NA
Damage = Ceil(FVar(0)*(95-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 16
Guard.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -5
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 620
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*95), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*95)
GivePower = Floor(FVar(31)*95), Floor(0.50*FVar(31)*95)

[State -1]
Type = VarSet
Trigger1 = Var(22)/100 = 0
V = 22
Value = Var(22)+100

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;FJC
[Statedef 621]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 621
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Time = 16
V = 55
Value = 0

[State -1]
Type = VarSet
TriggerAll = !(Var(59)/10000)
Trigger1 = Anim = 621
Trigger1 = Command != "C溜め"
Trigger1 = Time = [0,14]
V = 55
Value = 1

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&Anim=621&&Time<15
Trigger1 = Fvar(10)=-999999
Trigger2 = Var(56)/100%100=33||(Fvar(37):=IfElse((StateNo=50||StateNo=110)*Vel X>3.6,3.6,Vel X)&&0)
Trigger2 = Fvar(10):=(-1)**(PlayerID(Var(3)),Facing*(Pos X-PlayerID(Var(3)),Pos X)<0)*PlayerID(Var(3)),Vel X||1
Trigger2 = Fvar(10):=IfElse(PlayerID(Var(3)),Vel X>0&&PlayerID(Var(3)),FrontEdgeBodyDist<15,0,Fvar(10))||1
Trigger2 = Fvar(10):=IfElse(PlayerID(Var(3)),Vel X<0&&PlayerID(Var(3)),BackEdgeBodyDist<15,0,Fvar(10))||1
Trigger2 = Fvar(37):=(-1)**(Facing*(PlayerID(Var(3)),Pos X-Pos X)<0)*(Fvar(37)+Fvar(10))||1
Trigger2 = Fvar(37):=P2BodyDist X-(19-Time)*Fvar(37)||1
Trigger2 = Fvar(37):=(Fvar(37)=[-40-50*(FrontEdgeBodyDist<60),80])||1
Trigger2 = Fvar(37):=(PlayerID(Var(3)),GetHitVar(Fall.RecoverTime)-Var(56)%100>18-Time||Var(58)=25001700)+Fvar(37)&&0
Trigger3 = Var(56)/100%100=33&&Fvar(37)<2&&PlayerID(Var(3)),Vel Y
Trigger4 = Var(56)/100%100=33&&Fvar(37)=2&&PlayerID(Var(3)),Vel Y
Trigger4 = Fvar(37):=PlayerID(Var(3)),Pos Y-Pos Y+(19-Time)*(PlayerID(Var(3)),Vel Y-Vel Y+0.5*(18-Time)*(Fvar(7)-0.55))||1
Trigger4 = Fvar(10):=6+(2-Time)*(Time<3)||1
Trigger4 = Fvar(10):=PlayerID(Var(3)),Pos Y-Pos Y+Fvar(10)*(PlayerID(Var(3)),Vel Y-Vel Y+0.5*(Fvar(10)-1)*(Fvar(7)-0.55))||1
Trigger4 = PlayerID(Var(3)),GetHitVar(Fall.RecoverTime)-Var(56)%100<6+(2-Time)*(Time<3)||Fvar(37)!=(-46,50)
Trigger4 = PlayerID(Var(3)),GetHitVar(Fall.RecoverTime)-Var(56)%100<6+(2-Time)*(Time<3)||Var(58)-25001700||Fvar(10)>5
Trigger5 = Var(56)/100%100-33
Trigger5 = InGuardDist||!(Pos Y+(19-Time)*Vel Y+0.5*(19-Time)*(18-Time)*0.55<0)
V = 55
Value = 1

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 621
Trigger1 = Var(55) = 1
Trigger1 = Time = [3,14]
Value = 622

[State -1]
Type = ChangeState
Trigger1 = Var(55) = 0
Trigger1 = Time = 15
Value = 622

[State -1]
Type = PlaySnd
Trigger1 = Anim = 622
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = Anim = 622
Trigger1 = AnimElem = 1
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = Anim = 622
Trigger1 = AnimElem = 1
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = Anim = 622
Trigger1 = AnimElem = 1
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = Anim = 622
Trigger1 = AnimElem = 1
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 622
Trigger1 = AnimElem = 3
Attr = A, NA
Damage = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 16
Guard.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -5
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 620
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*80), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*80)
GivePower = Floor(FVar(31)*80), Floor(0.50*FVar(31)*80)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(2) = 0
Trigger1 = Anim = 622
Trigger1 = AnimElem = 4, >= 0
Attr = A, NA
Damage = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 16
Guard.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -5
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 620
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = VarSet
Trigger1 = Var(22)/100 = 0
V = 22
Value = Var(22)+100

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;BEFJC
[Statedef 622]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 3
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 3
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 3
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 3
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 4
ID = 625
PosType = P1
Pos = 52,-27
StateNo = 246
Ownpal = 1
IgnoreHitPause = 0
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(2) = 0
Trigger1 = AnimElem = 4, >= 0
Attr = A, NA
Damage = Ceil(FVar(0)*(130-Var(4)%2)),Ceil(FVar(0)/FVar(3)*16)
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 16
Guard.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -5
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 620
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(22)/100 = 0
V = 22
Value = Var(22)+100

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;EJC
[Statedef 623]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 623
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 3
ID = 625
PosType = P1
Pos = 52,-27
StateNo = 246
Ownpal = 1
IgnoreHitPause = 0
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.85*FVar(1)
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(2) = 0
Trigger1 = AnimElem = 3, >= 0
Attr = A, NA
Damage = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(0)/FVar(3)*12)
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 16
Guard.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -5
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 620
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(22)/100 = 0
V = 22
Value = Var(22)+100

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;投げ・発動
;     
;     投げのステートは少し複雑ですが順序良くならべればなんてことありません。
;     800：投げの発生と失敗した時
;     810：投げが成功した時の自分の動き
;     811：投げが成功した瞬間の相手の状態
;     812：投げが成功した時の相手の飛んでいく状態
;     とこんな具合です、投げは自分の他に相手の分も記述しなくてはなりません
;     でもそれだけです。

[Statedef 800]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 800
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimTime = 0
V = 54
Value = 0

[State -1]
Type = VelSet
TriggerAll = Time = 0
Trigger1 = PrevStateNo != [100,101]
X = 0
Y = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = Facing

[State -1]
Type = VarSet
TriggerAll = Time = 2
Trigger1 = P2MoveType = A
Trigger2 = (P2StateNo != [100,104]) && P2MoveType != H && PlayerID(Var(3)),Ctrl = 0
V = 54
Value = -1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 8
Value = 0
IgnoreHitPause = 1

[State 800, 1]
Type = HitDef
TriggerAll = !(Var(59)/10000)
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 != 4
Trigger1 = P2MoveType != H || P2StateNo = [120,159]
Trigger1 = P2BodyDist X = [-32,32]
Trigger1 = Time = 2
Attr = S, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
HitFlag = M-          ;コンボの途中から投げが入らないよう設定してある
Priority = 1, Miss    ;１は優先順位が低いので技がでないかミスするという設定
SparkNo = -1          ;-をつければスパークエフェクトは無い
Guard.SparkNo = -1
SprPriority = 1       ;２Ｐより上にカンフーマンが表示される
P1Facing = ifelse (command = "holdfwd", -1, 1) ;前を押したらターンする設定
P2Facing = 1          ;？
P1StateNo = 810       ;投げが成功した場合の移動する１Ｐのステート
P2StateNo = 811       ;投げが成功した場合の移動する２Ｐのステート
ID = 5700
NumHits = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1

[State 800, 1]
Type = HitDef
TriggerAll = (Var(59)/10000>0||0)
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 != 4
Trigger1 = P2MoveType != H || P2StateNo = [120,159]
Trigger1 = P2BodyDist X = [-32,32]
Trigger1 = Time = 2
Attr = S, NT
HitFlag = M-
Priority = 1, Miss
SparkNo = -1
Guard.SparkNo = -1
SprPriority = 1
P1Facing = ifelse (FrontEdgeDist<BackEdgeDist, -1, 1)
P2Facing = 1
P1StateNo = 810
P2StateNo = 811
ID = 5700
NumHits = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1

[State 800, 1]
Type = HitDef
TriggerAll = !(Var(59)/10000)
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 = 4
Trigger1 = P2StateNo != [150,159]
Trigger1 = P2BodyDist X = [-32,32]
Trigger1 = Time = 2
Attr = S, NT
HitFlag = MFD
Priority = 1, Miss
SparkNo = -1
Guard.SparkNo = -1
SprPriority = 1
P1Facing = ifelse (command = "holdfwd", -1, 1)
P2Facing = 1
P1StateNo = 810
P2StateNo = 811
ID = 5700
NumHits = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1

[State 800, 1]
Type = HitDef
TriggerAll = (Var(59)/10000>0||0)
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 = 4
Trigger1 = P2StateNo != [150,159]
Trigger1 = P2BodyDist X = [-32,32]
Trigger1 = Time = 2
Attr = S, NT
HitFlag = MFD
Priority = 1, Miss
SparkNo = -1
Guard.SparkNo = -1
SprPriority = 1
P1Facing = ifelse (FrontEdgeDist<BackEdgeDist, -1, 1)
P2Facing = 1
P1StateNo = 810
P2StateNo = 811
ID = 5700
NumHits = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s800, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;投げ・投げている自分
;     このステートでは相手を設定した場所に固定した後、相手を飛ばしています
;     ここで相手の動きを制御しているのはtype = TargetBindというステートです
;     これを一定時間事にやっていくと綺麗に投げ飛ばされているように見えます。
;     そしてここにはHitDefが無いのでダメージはtype = TargetLifeAddで
;     ダメージを減らしています

[Statedef 810]
Type    = S
MoveType= A
Physics = S
Anim = 810

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarSet
Trigger1 = Time < 10
Trigger1 = NumTarget
Trigger1 = Target,StateNo != [811,812]
V = 54
Value = 1

[State -1]
Type = VarSet
Trigger1 = AnimTime = 0
V = 54
Value = 0

[State -1]
Type = ChangeAnim
Trigger1 = !(Var(59)/10000)
Trigger1 = Anim = 810
Trigger1 = AnimElem = 8
Trigger1 = Command != "holdfwd" && Command != "holdback"
Trigger1 = Command = "holddown"
Value = 811

[State -1] 
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Anim = 810
Trigger2 = AnimElem = 8
Trigger3 = Anim = 811
Trigger3 = AnimElem = 1
FV = 39
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
FV = 39
Value = IfElse(Target,Const(Size.Head.Pos.Y)>-60,0,IfElse((Target,Const(Size.Head.Pos.Y)=[-80,-60]),1,2))

[State -1]
Type = VarSet
Trigger1 = Anim = 810
Trigger1 = AnimElem = 4
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = PlaySnd
Trigger1 = Anim = 810
Trigger1 = AnimElem = 1
Value = s10, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
TriggerAll = Var(0)/10%10 = 0
TriggerAll = Var(54) = -1
Trigger1 = Time = 1
Anim = 21001
ID = 21001
PosType = Left
Pos = Ceil(IfElse(TeamSide=1,0,196)*Fvar(12)*IfElse(Fvar(12)<=1.0,1.0,1.12)), 120
Scale = 0.5,0.5
BindTime = -1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
TriggerAll = Var(0)/10%10 = 0
TriggerAll = Var(54) = -1
Trigger1 = Time = 1
Anim = 21005
ID = 21005
PosType = Left
Pos = Ceil(IfElse(TeamSide=1,0,196)*Fvar(12)*IfElse(Fvar(12)<=1.0,1.0,1.12)), 120
Scale = 0.5,0.5
BindTime = -1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
TriggerAll = Var(0)/10%10 = 0
TriggerAll = Var(54) = -1
Trigger1 = Time = 1
Anim = 21006
ID = 21006
PosType = Left
Pos = Ceil(IfElse(TeamSide=1,0,196)*Fvar(12)*IfElse(Fvar(12)<=1.0,1.0,1.12)), 120
Scale = 0.5,0.5
BindTime = -1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = Var(54) = -1
Trigger1 = Time = 1
StateNo = 15100
ID = 15101
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Anim = 810
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = Anim = 810
Trigger1 = AnimElem = 2
Value = s810, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = Anim = 810
Trigger1 = AnimElem = 2
Value = s810, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Anim = 810
Trigger1 = AnimElem = 4
ID = 805
PosType = P2
Pos = 0,-53
Scale = 0.5,0.5
Anim = 245
Facing = -1
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1

[State -1]
Type = TargetBind
Trigger1 = Anim = 810
Trigger1 = AnimElem = 1, = [0,3]
Pos = 44, IfElse(FVar(39)=0,-14,IfElse(FVar(39)=1,-4,16))

[State -1]
Type = Width
Trigger1 = Anim = 810
Trigger1 = AnimElem = 6, < 0
Edge = 44,0

[State -1]
Type = Width
Trigger1 = Anim = 811
Trigger1 = AnimElem = 2, = [0,7]
Edge = 31,0

[State -1]
Type = TargetBind
Trigger1 = Anim = 810
Trigger1 = AnimElem = 2, = [0,4]
Pos = 43, IfElse(FVar(39)=0,-23,IfElse(FVar(39)=1,-13,7))

[State -1]
Type = TargetBind
Trigger1 = Anim = 810
Trigger1 = AnimElem = 3, = [0,4]
Pos = 40, IfElse(FVar(39)=0,-53,IfElse(FVar(39)=1,-43,-23))

[State -1]
Type = TargetBind
Trigger1 = Anim = 810
Trigger1 = AnimElem = 4
Pos = 40, IfElse(FVar(39)=0,-68,IfElse(FVar(39)=1,-58,-38))

[State -1]
Type = TargetBind
Trigger1 = Anim = 810
Trigger1 = AnimElem = 5
Pos = 31, IfElse(FVar(39)=0,-69,IfElse(FVar(39)=1,-59,-39))

[State -1]
Type = TargetBind
Trigger1 = Anim = 810
Trigger1 = AnimElem = 6
Pos = 55, -68

[State -1]
Type = TargetBind
Trigger1 = Anim = 810
Trigger1 = AnimElem = 7
Pos = 72, -107

[State -1]
Type = TargetBind
Trigger1 = Anim = 810
Trigger1 = AnimElem = 8
Pos = 89, -16

[State -1]
Type = TargetBind
Trigger1 = Anim = 811
Trigger1 = AnimElem = 1
Pos = 86, 0

[State -1]
Type = TargetLifeAdd
Trigger1 = Anim = 810
Trigger1 = AnimElem = 8
Value = -Ceil(FVar(0)/(1.00-(0.08*FVar(4)))*(100-Var(4)%2)*(Const(Data.Attack)*0.01))

[State -1]
Type = TargetLifeAdd
Trigger1 = Anim = 811
Trigger1 = AnimElem = 1
Value = -Ceil(FVar(0)/(1.00-(0.08*FVar(4)))*(80-Var(4)%2)*(Const(Data.Attack)*0.01))

[State -1]
Type = VarSet
TriggerAll = FVar(1) > 0.50
Trigger1 = Anim = 810
Trigger1 = AnimElem = 8
Trigger2 = Anim = 811
Trigger2 = AnimElem = 1
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State -1]
Type = VelSet
Trigger1 = NumTarget > 0
Trigger1 = Target,StateNo = 813
Trigger1 = Target,BackEdgeDist <= 1
Trigger1 = Anim = 810
Trigger1 = AnimElem = 9, < 0
X = Target,Vel X*1.05

[State -1]
Type = TargetState
Trigger1 = Anim = 810
Trigger1 = AnimElem = 6, < 0
Value = 811

[State -1]
Type = TargetState
Trigger1 = Anim = 810
Trigger1 = AnimElem = 6
Value = 812

[State -1]
Type = TargetState
Trigger1 = Anim = 810
Trigger1 = AnimElem = 8
Value = 813

[State -1]
Type = TargetState
Trigger1 = Anim = 811
Trigger1 = AnimElem = 1
Value = 5760

[State -1]
Type = Turn
Trigger1 = Anim = 810
Trigger1 = AnimElem = 8
Trigger2 = Anim = 811
Trigger2 = AnimElem = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

[State -1]
Type = TargetBind
Trigger1 = Var(54) = 0
Trigger1 = Time = [1,7]
Trigger1 = PlayerID(Var(3)),Command != "holdup" && PlayerID(Var(3)),Command != "holddown"
Trigger1 = PlayerID(Var(3)),Command = "holdfwd" || PlayerID(Var(3)),Command = "holdback"
Trigger1 = PlayerID(Var(3)),Command = "x" || PlayerID(Var(3)),Command = "a" && PlayerID(Var(3)),Command = "z"
Pos = 30, 0

[State -1]
Type = Turn
Trigger1 = Var(54) = 0
Trigger1 = Time = [1,7]
Trigger1 = PlayerID(Var(3)),Command != "holdup" && PlayerID(Var(3)),Command != "holddown"
Trigger1 = PlayerID(Var(3)),Command = "holdfwd" || PlayerID(Var(3)),Command = "holdback"
Trigger1 = PlayerID(Var(3)),Command = "x" || PlayerID(Var(3)),Command = "a" && PlayerID(Var(3)),Command = "z"
Trigger1 = Facing != Var(55)

[State -1]
Type = TargetState
Trigger1 = Var(54) = 0
Trigger1 = Time = [1,7]
Trigger1 = PlayerID(Var(3)),Command != "holdup" && PlayerID(Var(3)),Command != "holddown"
Trigger1 = PlayerID(Var(3)),Command = "holdfwd" || PlayerID(Var(3)),Command = "holdback"
Trigger1 = PlayerID(Var(3)),Command = "x" || PlayerID(Var(3)),Command = "a" && PlayerID(Var(3)),Command = "z"
Value = 816

[State -1]
Type = ChangeState
Trigger1 = Var(54) = 0
Trigger1 = Time = [1,7]
Trigger1 = PlayerID(Var(3)),Command != "holdup" && PlayerID(Var(3)),Command != "holddown"
Trigger1 = PlayerID(Var(3)),Command = "holdfwd" || PlayerID(Var(3)),Command = "holdback"
Trigger1 = PlayerID(Var(3)),Command = "x" || PlayerID(Var(3)),Command = "a" && PlayerID(Var(3)),Command = "z"
Value = 815

;---------------------------------------------------------------------------
;投げ・投げられている相手
; 
;     ここは投げられた瞬間の相手のステートです
;     たいしたことは書いてありませんがtypeがAになっている事です。
;     相手が投げれて空中にいる事を設定して次の821ステートに移動します

[Statedef 811]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0

[State -1]
Type = PalFX
Trigger1 = EnemyNear,AnimElem = 4
Time = 120
Mul =  255,255,255
Add = -50,-50,-255
SinAdd = 100,100,50,6

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = 5010

[State -1] 
Type = SelfState
Trigger1 = Time >= 10
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;投げ・投げられている相手2
[Statedef 812]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1

[State -1]
Type = Width
Trigger1 = 1
Edge = -99,-99

[State -1]
Type = ScreenBound
Trigger1 = 1
Value = 0

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeAnim
Trigger1 = 1
Value = 5012

[State -1]
Type = AngleDraw
Trigger1 = Time <= 6

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = -28.5

[State -1]
Type = AngleSet
Trigger1 = Time = 3
Value = -80.4

[State -1] 
Type = SelfState
Trigger1 = Time >= 10
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;投げ・相手の空中の状態
;     
;     これは投げられている相手の状態ととれる行動を設定しています
;     type = SelfStateは相手のリカバー状態を設定する物でこの状態ならこれ。
;     と言うように地上近く、空中、叩きつけられた時と３つ設定しています。

[Statedef 813]
Type    = A
MoveType= H
Physics = N
VelSet = 3.45,-9.05

[State -1]
Type = Turn
Trigger1 = Time = 0

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = 0

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 0
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050

[State -1] ;これは重力これは毎フレーム事に0.4の力が加わります
Type = VelAdd
Trigger1 = 1
y = .6

[State -1] 
Type = HitFallSet
Trigger1 = Time >= 26
Value = 1 

[State -1] 
Type = SelfState
TriggerAll = Alive
TriggerAll = CanRecover
TriggerAll = Time >= 27
Trigger1 = Command != "holddown" && Command != "holdup"
Trigger1 = Command = "fwd" || Command = "back" || Command = "holdfwd" || Command = "holdback"
Trigger2 = Command != "holddown" && Command != "holdfwd" && Command != "holdback"
Trigger2 = Command = "up" || Command = "holdup"
Value = 5200

[State -1] 
Type = SelfState
Trigger1 = Time = 30
Value = 5100 

;---------------------------------------------------------------------------
;投げ抜け
[Statedef 815]
Type     = S
MoveType = H
Physics  = N
Anim     = 5310
Ctrl     = 0
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarSet
Trigger1 = Var(0)/10000%10 = 0
V = 36
Value = 100

[State -1]
Type = Width
Trigger1 = 1
Edge = 64,0

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10815
ID = 10815
Postype = P2
Pos = 15*PlayerID(Var(3)),Facing*Facing,-55
Scale = 0.5,0.5
Facing = -1
Ownpal = 1
SprPriority = 4
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 54
Value = 0

[State -1]
Type = EnvShake
Trigger1 = Time = 0
Time = 6
Freq = 90
Ampl = 3

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s815, 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s5310, 1+Random%3
Channel = 1

[State -1]
Type = PosAdd
Trigger1 = Time = 0
X = -15

[State -1] 
Type = VelSet
Trigger1 = Time = 1
X = -4

[State -1] 
Type = VelSet
Trigger1 = Time = [2,8]
X = -3

[State -1] 
Type = VelSet
Trigger1 = Time = [9,11]
X = -2

[State -1] 
Type = VelSet
Trigger1 = Time = [12,14]
X = -1

[State -1] 
Type = VelSet
Trigger1 = Time = 15
X = 0

[State -1] 
Type = ChangeState
Trigger1 = Time = 22
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;投げ抜け・相手
[Statedef 816]
Type     = S
MoveType = H
Physics  = N
Ctrl     = 0
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Turn
Trigger1 = Time = 0
Trigger1 = P2Dist X < 0

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0

[State -1]
Type = Width
Trigger1 = 1
Edge = 64,0

[State -1] 
Type = VelSet
Trigger1 = Time = 1
X = -4

[State -1] 
Type = VelSet
Trigger1 = Time = [2,8]
X = -3

[State -1] 
Type = VelSet
Trigger1 = Time = [9,11]
X = -2

[State -1] 
Type = VelSet
Trigger1 = Time = [12,14]
X = -1

[State -1] 
Type = VelSet
Trigger1 = Time = 15
X = 0

[State -1]
Type = PlaySnd
TriggerAll = SelfAnimExist(5310) && AuthorName = "H" || SelfAnimExist(5310) && AuthorName = "YoungKirei & Take.K"
Trigger1 = Time = 0
Value = s5310, 1+Random%3
Channel = 1

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5310) && AuthorName = "H" || SelfAnimExist(5310) && AuthorName = "YoungKirei & Take.K"
TriggerAll = SelfAnimExist(5002)
Trigger1 = Time = 0
Value = 5310

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5002)
TriggerAll = Anim != 5310
Trigger1 = Time = 0
Value = 5002

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5007)
TriggerAll = Anim = 5002
Trigger1 = AnimTime = 0
Value = 5007

[State -1] 
Type = SelfState
Trigger1 = Time = 22
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;空中投げ
[Statedef 820]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 820
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0 || Time = 4
V = 54
Value = 0

[State -1]
Type = VarSet
TriggerAll = Time = 1
Trigger1 = P2StateType = A
Trigger1 = P2MoveType != H || P2StateNo = 155 && PlayerID(Var(3)),Ctrl
V = 54
Value = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 8
Value = 0
IgnoreHitPause = 1

[State 800, 1]
Type = HitDef
TriggerAll = !(Var(59)/10000)
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 != 4
Trigger1 = (P2StateNo != [150,159]) || P2StateNo = 155 && PlayerID(Var(3)),Ctrl
Trigger1 = P2BodyDist X = [-40,40]
Trigger1 = Time = 1
Attr = A, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
HitFlag = AF          ;コンボの途中から投げが入らないよう設定してある
Priority = 1, Miss    ;１は優先順位が低いので技がでないかミスするという設定
SparkNo = -1          ;-をつければスパークエフェクトは無い
Guard.SparkNo = -1
SprPriority = 1       ;２Ｐより上にカンフーマンが表示される
P1Facing = ifelse (command = "holdback", -1, 1) ;前を押したらターンする設定
P2Facing = 1          ;？
P1StateNo = 830+Var(54)*10 ;投げが成功した場合の移動する１Ｐのステート
P2StateNo = 831       ;投げが成功した場合の移動する２Ｐのステート
Fall = 1
Air.Fall = 1
Fall.Recover = 0
NumHits = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
ID = 5700

[State 800, 1]
Type = HitDef
TriggerAll = (Var(59)/10000>0||0)
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 != 4
Trigger1 = (P2StateNo != [150,159]) || P2StateNo = 155 && PlayerID(Var(3)),Ctrl
Trigger1 = P2BodyDist X = [-40,40]
Trigger1 = Time = 1
Attr = A, NT
HitFlag = AF
Priority = 1, Miss
SparkNo = -1
Guard.SparkNo = -1
SprPriority = 1
P1Facing = ifelse (FrontEdgeDist<BackEdgeDist, 1, -1)
P2Facing = 1
P1StateNo = 830+Var(54)*10
P2StateNo = 831
Fall = 1
Air.Fall = 1
Fall.Recover = 0
NumHits = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
ID = 5700

[State 800, 1]
Type = HitDef
TriggerAll = !(Var(59)/10000)
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 = 4
Trigger1 = (P2StateNo != [150,159]) || P2StateNo = 155 && PlayerID(Var(3)),Ctrl
Trigger1 = P2BodyDist X = [-40,40]
Trigger1 = Time = 1
Attr = A, NT
HitFlag = HAF
Priority = 1, Miss
SparkNo = -1
Guard.SparkNo = -1
SprPriority = 1
P1Facing = ifelse (command = "holdback", -1, 1)
P2Facing = 1
P1StateNo = 830+Var(54)*10
P2StateNo = 831
Fall = 1
Air.Fall = 1
Fall.Recover = 0
NumHits = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
ID = 5700

[State 800, 1]
Type = HitDef
TriggerAll = (Var(59)/10000>0||0)
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 = 4
Trigger1 = (P2StateNo != [150,159]) || P2StateNo = 155 && PlayerID(Var(3)),Ctrl
Trigger1 = P2BodyDist X = [-40,40]
Trigger1 = Time = 1
Attr = A, NT
HitFlag = HAF
Priority = 1, Miss
SparkNo = -1
Guard.SparkNo = -1
SprPriority = 1
P1Facing = ifelse (FrontEdgeDist<BackEdgeDist, 1, -1)
P2Facing = 1
P1StateNo = 830+Var(54)*10
P2StateNo = 831
Fall = 1
Air.Fall = 1
Fall.Recover = 0
NumHits = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
ID = 5700

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s820, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

;---------------------------------------------------------------------------
;空中投げ
[Statedef 830]
Type    = A
MoveType= A
Physics = N
Anim = 830

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 19

[State -1] 
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 6
FV = 39
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
FV = 39
Value = IfElse(Target,Const(Size.Head.Pos.Y)>-60,0,IfElse((Target,Const(Size.Head.Pos.Y)=[-80,-60]),1,2))

[State -1]
Type = Explod
Trigger1 = AnimElem = 2
ID = 805
PosType = P2
Pos = 4,-53
Scale = 0.5,0.5
Anim = 245
Facing = -1
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1

[State -1]
Type = VarSet
Trigger1 = AnimElem = 2
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s10, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s830, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s830, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VelSet
Trigger1 = AnimElem = 1
X = 0
Y = 0

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 1
Pos = 39, IfElse(FVar(39)=0,-41,IfElse(FVar(39)=1,-31,-11))

[State -1]
Type = Width
Trigger1 = AnimElem = 6, < 0
Edge = 39, 0

[State -1]
Type = SprPriority
Trigger1 = AnimElem = 3
Value = -1

[State -1]
Type = SprPriority
Trigger1 = AnimElem = 6
Value = 2

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 2
Pos = 39, IfElse(FVar(39)=0,-44,IfElse(FVar(39)=1,-34,-14))

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 3
Pos = 33, IfElse(FVar(39)=0,-29,IfElse(FVar(39)=1,-19,1))

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 4
Pos = -13, IfElse(FVar(39)=0,-42,IfElse(FVar(39)=1,-32,-12))

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 5
Pos = -16, IfElse(FVar(39)=0,-45,IfElse(FVar(39)=1,-35,-15))

[State -1]
Type = VelSet
Trigger1 = AnimElem = 6
X = -2.5
Y = -6.9

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 6
Pos = 52, 20

[State -1]
Type = VelAdd
Trigger1 = Time > 23
Y = .6

[State -1]
Type = TargetLifeAdd
Trigger1 = AnimElem = 6
Value = -Ceil(FVar(0)/(1.00-(0.08*FVar(4)))*(120-Var(4)%2)*(Const(Data.Attack)*0.01))

[State -1]
Type = PosAdd
Trigger1 = NumTarget > 0
Trigger1 = Target,StateNo = 832
Trigger1 = Target,BackEdgeDist <= 1
X = -1.7

[State -1]
Type = TargetState
Trigger1 = AnimElem = 6
Value = 832

[State -1]
Type = ChangeState
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = 52
Ctrl = 0

;---------------------------------------------------------------------------
;投げ・投げられている相手
[Statedef 831]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State -1] 
Type = HitFallSet
Trigger1 = 1
Value = 0

[State -1]
Type = PalFX
Trigger1 = EnemyNear,AnimElem = 2
Time = 120
Mul =  255,255,255
Add = -50,-50,-255
SinAdd = 100,100,50,6

[State -1]
Type = ChangeAnim2
Trigger1 = Time = 0
Value = 831

[State -1] 
Type = SelfState
Trigger1 = Time >= 60
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;投げ・相手の空中の状態
[Statedef 832]
Type    = A
MoveType= H
Physics = N
VelSet = -13.25,14

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 0
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050

[State -1] 
Type = HitFallSet
Trigger1 = Vel Y >= 10
Value = 1

[State -1] 
Type = SelfState
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
Value = 5100

;---------------------------------------------------------------------------
;生空中投げ
[Statedef 840]
Type    = A
MoveType= A
Physics = N
Anim = 830

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1] 
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 6
FV = 39
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
FV = 39
Value = IfElse(Target,Const(Size.Head.Pos.Y)>-60,0,IfElse((Target,Const(Size.Head.Pos.Y)=[-80,-60]),1,2))

[State -1] 
Type = VarSet
Trigger1 = Time = 0
V = 54
Value = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 1, = 1
ID = 10840
PosType = P1
Pos = 37,-84
Scale = 0.5,0.5
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 2
ID = 805
PosType = P2
Pos = 4,-53
Scale = 0.5,0.5
Anim = 245
Facing = -1
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1

[State -1]
Type = VarSet
Trigger1 = AnimElem = 2
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s10, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s810, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VelSet
Trigger1 = AnimElem = 1
X = 0
Y = 0

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 1
Pos = 39, IfElse(FVar(39)=0,-41,IfElse(FVar(39)=1,-31,-11))

[State -1]
Type = Width
Trigger1 = AnimElem = 6, < 0
Edge = 39, 0

[State -1]
Type = SprPriority
Trigger1 = AnimElem = 3
Value = -1

[State -1]
Type = SprPriority
Trigger1 = AnimElem = 6
Value = 2

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 2
Pos = 39, IfElse(FVar(39)=0,-44,IfElse(FVar(39)=1,-34,-14))

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 3
Pos = 33, IfElse(FVar(39)=0,-29,IfElse(FVar(39)=1,-19,1))

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 4
Pos = -13, IfElse(FVar(39)=0,-42,IfElse(FVar(39)=1,-32,-12))

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 5
Pos = -16, IfElse(FVar(39)=0,-45,IfElse(FVar(39)=1,-35,-15))

[State -1]
Type = VelSet
Trigger1 = AnimElem = 6
X = 2.7
Y = -6.3

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 6
Pos = 50, 21

[State -1]
Type = VelAdd
Trigger1 = Time > 23
Y = .6

[State -1]
Type = TargetLifeAdd
Trigger1 = AnimElem = 6
Value = -Ceil(FVar(0)/(1.00-(0.08*FVar(4)))*(160-Var(4)%2)*(Const(Data.Attack)*0.01))

[State -1]
Type = VarSet
Trigger1 = AnimElem = 6
Trigger1 = FVar(1) > 0.30
FV = 1
Value = 0.30
IgnoreHitPause = 1

[State -1]
Type = TargetState
Trigger1 = AnimElem = 6
Value = 5750

[State -1] 
Type = CtrlSet
Trigger1 = AnimElem = 7
Value = 1

[State -1]
Type = ChangeState
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = 52
Ctrl = 0

;---------------------------------------------------------------------------
; 昇雷A
[Statedef 1000]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 1000
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Time = 24
V = 55
Value = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 3, >= 0
Trigger1 = AnimElem = 10, < 0
Value = 1,-6

[State -1]
Type = PosAdd
Trigger1 = Time = [0,3]
X = 0.78

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1000, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s1005, 0
Channel = 5
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = MoveContact || MoveReversed
Trigger1 = AnimElem = 5, <= 0
Value = s1005, 0
Channel = 5
IgnoreHitPause = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 2, = 1
Anim = 10048
ID = 10048
Postype = P1
Pos = -15,4
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 2, = 1
Anim = 10046
ID = 10046
Postype = P1
Pos = -15,4
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 2, = 1
Anim = 10047
ID = 10047
Postype = P1
Pos = -15,4
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VelSet
Trigger1 = AnimElem = 3
X = 5.48
Y = -9

[State -1]
Type = VelAdd
Trigger1 = AnimElem = 3, > 0
Trigger1 = AnimElem = 6, < 1
X = -.5

[State -1]
Type = VelSet
Trigger1 = AnimElem = 10
X = 1.97

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 3
StateType = A
Physics = A

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 1005
Scale = 0.5,0.5
Anim = 1005
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveTime = -1
RemoveOnGetHit = 1

[State -1]
Type = RemoveExplod
Trigger1 = AnimElem = 5
ID = 1005

[State -1]
Type = Explod
Trigger1 = AnimElem = 5
ID = 1006
Scale = 0.5,0.5
Anim = 1006
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 != 3 && AnimElem = 5, > 0 || Var(57)/100%10 = 3
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 != 3 && AnimElem = 5, > 0 || Var(57)/100%10 = 3
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 != 3 && AnimElem = 5, > 0 || Var(57)/100%10 = 3
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(57)/100%10 != 3
Trigger1 = AnimElem = 5, <= 0
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Var(57)/100%10 != 3
Trigger1 = AnimElem = 5, <= 0
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = Var(57)/100%10 != 3
Trigger1 = Var(50) = 2
Trigger1 = NumTarget(1000) > 0
Trigger1 = Target(1000),StateNo = 5020 || Target(1000),StateNo = 5080
V = 24
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(57)/100%10 != 3
Trigger1 = Var(50) = 2
Trigger1 = NumTarget(1000) > 0
Trigger1 = Target(1000),StateNo = 5020 || Target(1000),StateNo = 5080
V = 50
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)/100%10 != 3
Trigger1 = AnimElem = 3
Attr = A, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(50-Var(4)%2)),Ceil(FVar(0)/FVar(3)*6)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,IfElse(Var(50)=1,11+11*IfElse(Var(38)>0,1,0)+Var(41),11)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-13
Guard.Velocity = -9.5
Air.Velocity = 0,-13
Down.Velocity = 0,-13
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1000
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,39+Var(41),39))
GetPower = Ceil(IfElse(Var(50)=2,0.45,1)*FVar(30)*30), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)/100%10 = 3
Trigger1 = AnimElem = 3
Attr = A, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(40-Var(4)%2)),Ceil(FVar(0)/FVar(3)*5)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1000
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(39+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)/100%10 != 3
Trigger1 = AnimElem = 5
Attr = A, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(0)/FVar(3)*12)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
YAccel = .6
ID = 1001
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)/100%10 = 3
Trigger1 = AnimElem = 5
Attr = A, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(40-Var(4)%2)),Ceil(FVar(0)/FVar(3)*5)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
YAccel = .6
ID = 1001
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 5 , >= 0
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(47) < 9
Trigger1 = MoveHit = 1
Trigger1 = NumTarget(1001) > 0
V = 47
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(48) < 9
Trigger1 = MoveHit = 1
Trigger1 = NumTarget(1001) > 0
V = 48
Value = 1
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = VarSet
Trigger1 = NumTarget(1001) > 0
Trigger1 = Target(1001),StateNo != [120,159]
Trigger1 = Var(57)/100%10 = 4
Trigger1 = !(Var(59)/10000)
Trigger1 = Time = [6,23]
Trigger1 = Command = "214a" || Command = "214b"
V = 55
Value = 1

[State -1] 
Type = VarSet
Trigger1 = NumTarget(1001) > 0
Trigger1 = Target(1001),StateNo != [120,159]
Trigger1 = Var(57)/100%10 = 4
Trigger1 = !(Var(59)/10000)
Trigger1 = Time = [6,23]
Trigger1 = Command = "236a" || Command = "236b"
V = 55
Value = 2

[State -1] 
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&NumTarget(1001)&&Var(57)/100%10=4&&Time=[6,23]
TriggerAll = Target(1001),StateNo != [120,159]
TriggerAll = Fvar(37):=1
Trigger1 = NumHelper(1905)&&Target,Pos Y>-470
Trigger1 = Facing*(Helper(1905),Pos X-Pos X)>0&&!Helper(1905),MoveContact&&!Helper(1905),MoveReversed&&Helper(1905),Time<850
Trigger1 = Fvar(37):=2
Trigger2 = NumHelper(1906)&&Target,Pos Y>-470
Trigger2 = Facing*(Helper(1906),Pos X-Pos X)>0&&!Helper(1906),MoveContact&&!Helper(1906),MoveReversed&&Helper(1906),Time<850
Trigger2 = Fvar(37):=2
Trigger3 = BackEdgeBodyDist<45
Trigger3 = Fvar(37):=2
Trigger4 = 1
V = 55
Value = Ceil(Fvar(37))

[State -1] 
Type = ChangeState
Trigger1 = Time = [10,23]
Trigger1 = Var(55) > 0
Value = IfElse(Var(55)=1,1001,1002)
Ctrl = 0

[State -1] 
Type = ChangeState
Trigger1 = NumTarget(1001) > 0
Trigger1 = Target(1001),StateNo != [120,159]
Trigger1 = Time = 12
Trigger1 = Var(57)/100%10 = 3
Value = 1003
Ctrl = 0

;---------------------------------------------------------------------------
; E昇雷追加1
[Statedef 1001]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 1001
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 8
V = 55
Value = 0

[State -1]
Type = VelSet
Trigger1 = AnimElem = 3
X = -2.8
Y = -4.8

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 3
ID = 625
PosType = P1
Pos = 52,-27
StateNo = 246
Ownpal = 1
IgnoreHitPause = 0
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State -1] 
Type = VarSet
Trigger1 = MoveContact || MoveReversed
V = 55
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(55) = 0
Trigger1 = AnimElem = 3, >= 0
Attr = A, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(40-Var(4)%2)),Ceil(FVar(0)/FVar(3)*5)
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-11,-4),IfElse(Var(50)=1,14,-2*FVar(36))
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1001
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*40), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.50*FVar(31)*40)

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(47) < 9
Trigger1 = MoveHit = 1
Trigger1 = NumTarget(1001) > 0
V = 47
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(48) < 9
Trigger1 = MoveHit = 1
Trigger1 = NumTarget(1001) > 0
V = 48
Value = 1
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; E昇雷追加2
[Statedef 1002]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 1002
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = 0

[State -1]
Type = VelSet
Trigger1 = AnimElem = 1
X = 1.97

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.60*FVar(1)
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 1
Trigger1 = AnimElem = 3
Attr = A, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(40-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Air.HitTime = 35-Ceil(FVar(35))
AirGuard.CtrlTime = 8
Ground.Velocity = 0,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
P2StateNo = 5600
ID = 5600
P2Facing = 1
Kill = 1
Guard.Kill = 0
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = Ceil(FVar(30)*40), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.50*FVar(31)*40)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 2
Trigger1 = AnimElem = 3
Attr = A, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(40-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = 0,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 5600
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*40), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.50*FVar(31)*40)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; 砕き昇雷
[Statedef 1003]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 1003
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 8
V = 55
Value = 0

[State -1]
Type = VelSet
Trigger1 = PrevStateNo = 2000
Trigger1 = AnimElem = 1
X = 1.97
Y = -5.59

[State -1]
Type = VelSet
Trigger1 = PrevStateNo != 2000
Trigger1 = AnimElem = 1
X = 1.97
Y = -5.4

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 3
ID = 625
PosType = P1
Pos = 52,-27
StateNo = 246
Ownpal = 1
IgnoreHitPause = 0
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State -1] 
Type = VarSet
Trigger1 = MoveContact || MoveReversed
V = 55
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(55) = 0
Trigger1 = AnimElem = 3, >= 0
Attr = A, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(70-Var(4)%2)),Ceil(FVar(0)/FVar(3)*8)
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-11,-4),IfElse(Var(50)=1,14,-2*FVar(36))
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1001
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*70), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*70)
GivePower = Floor(FVar(31)*70), Floor(0.50*FVar(31)*70)

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; 昇雷B
[Statedef 1010]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 1010
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Time = 28
V = 55
Value = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 3, >= 0
Trigger1 = AnimElem = 13, < 0
Value = 1,-6

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,4]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PosAdd
Trigger1 = Time = [0,2]
X = 1.17

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1000, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Trigger2 = AnimElem = 8
Value = s1005, 0
Channel = 5

[State -1]
Type = PlaySnd
Trigger1 = MoveContact || MoveReversed
Trigger1 = AnimElem = 8, <= 0
Value = s1005, 0
Channel = 5
IgnoreHitPause = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 2, = 1
Anim = 10048
ID = 10048
Postype = P1
Pos = -15,4
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 2, = 1
Anim = 10046
ID = 10046
Postype = P1
Pos = -15,4
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 2, = 1
Anim = 10047
ID = 10047
Postype = P1
Pos = -15,4
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VelSet
Trigger1 = AnimElem = 3
X = 8.36
Y = -11.72

[State -1]
Type = VelAdd
Trigger1 = AnimElem = 3, > 0
Trigger1 = AnimElem = 8, < 0
X = -.5

[State -1]
Type = VelSet
Trigger1 = AnimElem = 8
X = 1.97

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 3
StateType = A
Physics = A

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 1005
Scale = 0.5,0.5
Anim = 1005
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveTime = -1
RemoveOnGetHit = 1

[State -1]
Type = RemoveExplod
Trigger1 = AnimElem = 8
ID = 1005

[State -1]
Type = Explod
Trigger1 = AnimElem = 8
ID = 1006
Scale = 0.5,0.5
Anim = 1006
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/100%10 != 3
Trigger1 = AnimElem = 3
Attr = A, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(50-Var(4)%2)),Ceil(FVar(0)/FVar(3)*6)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 4,4+4*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 4,4
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 4
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1000
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(32+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/100%10 != 3
Trigger1 = AnimElem = 5
Trigger2 = AnimElem = 7
Attr = A, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(50-Var(4)%2)),Ceil(FVar(0)/FVar(3)*6)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 4,4+4*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 4,4
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-13,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 4
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1000
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(32+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/100%10 = 3
Trigger1 = AnimElem = 3
Attr = A, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(40-Var(4)%2)),Ceil(FVar(0)/FVar(3)*5)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 4,4+4*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 4,4
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 4
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1000
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(32+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/100%10 = 3
Trigger1 = AnimElem = 5
Trigger2 = AnimElem = 7
Attr = A, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(40-Var(4)%2)),Ceil(FVar(0)/FVar(3)*5)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 4,4+4*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 4,4
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-13,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 4
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1000
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(32+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/100%10 != 3
Trigger1 = AnimElem = 8
Attr = A, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(0)/FVar(3)*12)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -1,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
YAccel = .6
ID = 1001
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/100%10 = 3
Trigger1 = AnimElem = 8
Attr = A, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(40-Var(4)%2)),Ceil(FVar(0)/FVar(3)*5)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -1,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
YAccel = .6
ID = 1001
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 8 , >= 0
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(47) < 9
Trigger1 = MoveHit = 1
Trigger1 = NumTarget(1001) > 0
V = 47
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(48) < 9
Trigger1 = MoveHit = 1
Trigger1 = NumTarget(1001) > 0
V = 48
Value = 1
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = VarSet
Trigger1 = NumTarget(1001) > 0
Trigger1 = Target(1001),StateNo != [120,159]
Trigger1 = Var(57)/100%10 = 4
Trigger1 = !(Var(59)/10000)
Trigger1 = Time = [13,27]
Trigger1 = Command = "214a" || Command = "214b"
V = 55
Value = 1

[State -1] 
Type = VarSet
Trigger1 = NumTarget(1001) > 0
Trigger1 = Target(1001),StateNo != [120,159]
Trigger1 = Var(57)/100%10 = 4
Trigger1 = !(Var(59)/10000)
Trigger1 = Time = [13,27]
Trigger1 = Command = "236a" || Command = "236b"
V = 55
Value = 2

[State -1] 
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&NumTarget(1001)&&Var(57)/100%10=4&&Time=[13,27]
TriggerAll = Target(1001),StateNo != [120,159]
TriggerAll = Fvar(37):=1
Trigger1 = NumHelper(1905)&&Target,Pos Y>-470
Trigger1 = Facing*(Helper(1905),Pos X-Pos X)>0&&!Helper(1905),MoveContact&&!Helper(1905),MoveReversed&&Helper(1905),Time<850
Trigger1 = Fvar(37):=2
Trigger2 = NumHelper(1906)&&Target,Pos Y>-470
Trigger2 = Facing*(Helper(1906),Pos X-Pos X)>0&&!Helper(1906),MoveContact&&!Helper(1906),MoveReversed&&Helper(1906),Time<850
Trigger2 = Fvar(37):=2
Trigger3 = BackEdgeBodyDist<45
Trigger3 = Fvar(37):=2
Trigger4 = 1
V = 55
Value = Ceil(Fvar(37))

[State -1] 
Type = ChangeState
Trigger1 = Time = [15,27]
Trigger1 = Var(55) > 0
Value = IfElse(Var(55)=1,1001,1002)
Ctrl = 0

[State -1] 
Type = ChangeState
Trigger1 = NumTarget(1001) > 0
Trigger1 = Target(1001),StateNo != [120,159]
Trigger1 = Time = 16
Trigger1 = Var(57)/100%10 = 3
Value = 1003
Ctrl = 0

;---------------------------------------------------------------------------
; 空中昇雷A
[Statedef 1050]
Type    = A
MoveType= A
Physics = N
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1000
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Time = 24
V = 55
Value = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 3, >= 0
Trigger1 = AnimElem = 10, < 0
Value = 1,-6

[State -1]
Type = PosAdd
Trigger1 = Time = [0,3]
X = 0.78

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1000, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s1005, 0
Channel = 5
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = MoveContact || MoveReversed
Trigger1 = AnimElem = 5, <= 0
Value = s1005, 0
Channel = 5
IgnoreHitPause = 1

[State -1]
Type = VelSet
Trigger1 = AnimElem = 3
X = 5.48
Y = -9

[State -1]
Type = VelAdd
Trigger1 = AnimElem = 3, > 0
Trigger1 = AnimElem = 6, < 1
X = -.5

[State -1]
Type = VelSet
Trigger1 = AnimElem = 10
X = 1.97

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 3
Physics = A

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 1005
Scale = 0.5,0.5
Anim = 1005
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveTime = -1
RemoveOnGetHit = 1

[State -1]
Type = RemoveExplod
Trigger1 = AnimElem = 5
ID = 1005

[State -1]
Type = Explod
Trigger1 = AnimElem = 5
ID = 1006
Scale = 0.5,0.5
Anim = 1006
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = A, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(50-Var(4)%2)),Ceil(FVar(0)/FVar(3)*6)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-13,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1000
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(39+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5
Attr = A, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(0)/FVar(3)*12)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
YAccel = .6
ID = 1001
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 5 , >= 0
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(47) < 9
Trigger1 = MoveHit = 1
Trigger1 = NumTarget(1001) > 0
V = 47
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(48) < 9
Trigger1 = MoveHit = 1
Trigger1 = NumTarget(1001) > 0
V = 48
Value = 1
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = VarSet
Trigger1 = NumTarget(1001) > 0
Trigger1 = Target(1001),StateNo != [120,159]
Trigger1 = Var(57)/100%10 = 4
Trigger1 = !(Var(59)/10000)
Trigger1 = Time = [6,23]
Trigger1 = Command = "214a" || Command = "214b"
V = 55
Value = 1

[State -1] 
Type = VarSet
Trigger1 = NumTarget(1001) > 0
Trigger1 = Target(1001),StateNo != [120,159]
Trigger1 = Var(57)/100%10 = 4
Trigger1 = !(Var(59)/10000)
Trigger1 = Time = [6,23]
Trigger1 = Command = "236a" || Command = "236b"
V = 55
Value = 2

[State -1] 
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&NumTarget(1001)&&Var(57)/100%10=4&&Time=[6,23]
TriggerAll = Target(1001),StateNo != [120,159]
TriggerAll = Fvar(37):=1
Trigger1 = NumHelper(1905)&&Target,Pos Y>-470
Trigger1 = Facing*(Helper(1905),Pos X-Pos X)>0&&!Helper(1905),MoveContact&&!Helper(1905),MoveReversed&&Helper(1905),Time<850
Trigger1 = Fvar(37):=2
Trigger2 = NumHelper(1906)&&Target,Pos Y>-470
Trigger2 = Facing*(Helper(1906),Pos X-Pos X)>0&&!Helper(1906),MoveContact&&!Helper(1906),MoveReversed&&Helper(1906),Time<850
Trigger2 = Fvar(37):=2
Trigger3 = BackEdgeBodyDist<45
Trigger3 = Fvar(37):=2
Trigger4 = 1
V = 55
Value = Ceil(Fvar(37))

[State -1] 
Type = ChangeState
Trigger1 = Time = [10,23]
Trigger1 = Var(55) > 0
Value = IfElse(Var(55)=1,1001,1002)
Ctrl = 0

;---------------------------------------------------------------------------
; 空中昇雷B
[Statedef 1060]
Type    = A
MoveType= A
Physics = N
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1060
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Time = 29
V = 55
Value = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 3, >= 0
Trigger1 = AnimElem = 13, < 0
Value = 1,-6

[State -1]
Type = PosAdd
Trigger1 = Time = [0,3]
X = 1.17

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1000, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Trigger2 = AnimElem = 8
Value = s1005, 0
Channel = 5

[State -1]
Type = PlaySnd
Trigger1 = MoveContact || MoveReversed
Trigger1 = AnimElem = 8, <= 0
Value = s1005, 0
Channel = 5
IgnoreHitPause = 1

[State -1]
Type = VelSet
Trigger1 = AnimElem = 3
X = 8.36
Y = -11.72

[State -1]
Type = VelAdd
Trigger1 = AnimElem = 3, > 0
Trigger1 = AnimElem = 8, < 0
X = -.5

[State -1]
Type = VelSet
Trigger1 = AnimElem = 8
X = 1.97

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 3
Physics = A

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 1005
Scale = 0.5,0.5
Anim = 1005
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveTime = -1
RemoveOnGetHit = 1

[State -1]
Type = RemoveExplod
Trigger1 = AnimElem = 8
ID = 1005

[State -1]
Type = Explod
Trigger1 = AnimElem = 8
ID = 1006
Scale = 0.5,0.5
Anim = 1006
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Trigger2 = AnimElem = 5
Trigger3 = AnimElem = 7
Attr = A, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(30-Var(4)%2)),Ceil(FVar(0)/FVar(3)*3)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 4,4+4*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 4,4
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-13,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 4
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1000
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(32+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 8
Attr = A, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(0)/FVar(3)*12)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -1,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
YAccel = .6
ID = 1001
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 8 , >= 0
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(47) < 9
Trigger1 = MoveHit = 1
Trigger1 = NumTarget(1001) > 0
V = 47
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(48) < 9
Trigger1 = MoveHit = 1
Trigger1 = NumTarget(1001) > 0
V = 48
Value = 1
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = VarSet
Trigger1 = NumTarget(1001) > 0
Trigger1 = Target(1001),StateNo != [120,159]
Trigger1 = Var(57)/100%10 = 4
Trigger1 = !(Var(59)/10000)
Trigger1 = Time = [14,28]
Trigger1 = Command = "214a" || Command = "214b"
V = 55
Value = 1

[State -1] 
Type = VarSet
Trigger1 = NumTarget(1001) > 0
Trigger1 = Target(1001),StateNo != [120,159]
Trigger1 = Var(57)/100%10 = 4
Trigger1 = !(Var(59)/10000)
Trigger1 = Time = [14,28]
Trigger1 = Command = "236a" || Command = "236b"
V = 55
Value = 2

[State -1] 
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&NumTarget(1001)&&Var(57)/100%10=4&&Time=[14,28]
TriggerAll = Target(1001),StateNo != [120,159]
TriggerAll = Fvar(37):=1
Trigger1 = NumHelper(1905)&&Target,Pos Y>-470
Trigger1 = Facing*(Helper(1905),Pos X-Pos X)>0&&!Helper(1905),MoveContact&&!Helper(1905),MoveReversed&&Helper(1905),Time<850
Trigger1 = Fvar(37):=2
Trigger2 = NumHelper(1906)&&Target,Pos Y>-470
Trigger2 = Facing*(Helper(1906),Pos X-Pos X)>0&&!Helper(1906),MoveContact&&!Helper(1906),MoveReversed&&Helper(1906),Time<850
Trigger2 = Fvar(37):=2
Trigger3 = BackEdgeBodyDist<45
Trigger3 = Fvar(37):=2
Trigger4 = 1
V = 55
Value = Ceil(Fvar(37))

[State -1] 
Type = ChangeState
Trigger1 = Time = [16,28]
Trigger1 = Var(55) > 0
Value = IfElse(Var(55)=1,1001,1002)
Ctrl = 0

;---------------------------------------------------------------------------
;雷針A
[Statedef 1100]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 1100
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Time = 16
V = 55
Value = 0

[State -1]
Type = VarSet
TriggerAll = !(Var(59)/10000)
Trigger1 = Anim = 1100
Trigger1 = Command != "A溜め"
Trigger1 = Time = [0,15]
V = 55
Value = 1

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&NumHelper(25000)&&Anim=1100&&Time<16
Trigger1 = Fvar(10)=-999999
Trigger2 = Fvar(37):=(Var(56)/100%10<3&&Time=Var(59)%100%23||PrevStateNo/200<1&&Var(56)/100%10<4)||1
Trigger2 = PlayerID(Var(3)),StateNo/1000=5&&!(PlayerID(Var(3)),StateNo/100%10=[1,2])||Fvar(37)
V = 55
Value = 1

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 1100
Trigger1 = Var(55) = 1
Trigger1 = Time = [5,15]
Value = 1101

[State -1]
Type = ChangeState
Trigger1 = Var(55) = 0
Trigger1 = Time = 15
Value = 1105

[State -1]
Type = Width
Trigger1 = Anim = 1101
Trigger1 = AnimElem = 2, >= 0
Trigger1 = AnimElem = 7, < 0
Value = 9,-1

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1101
Trigger1 = AnimElem = 2
Value = s1100, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1101
Trigger1 = AnimElem = 2, = 1
Value = s1005, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = Anim = 1101
Trigger1 = AnimElem = 3
ID = 1150
PosType = P1
Pos = 26,-37
StateNo = 1150
Ownpal = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;BE雷針A
[Statedef 1105]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
SprPriority = 2

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s700, 0
Channel = 2

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = -25,-82
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = -25,-82
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 5, >= 0
Trigger1 = AnimElem = 10, < 0
Value = 9,-1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1100, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5, = 1
Value = s1005, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 6
ID = 1155
PosType = P1
Pos = 21,-40
StateNo = 1150
Ownpal = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;雷針B
[Statedef 1110]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 1110
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Time = 16
V = 55
Value = 0

[State -1]
Type = VarSet
TriggerAll = !(Var(59)/10000)
Trigger1 = Anim = 1110
Trigger1 = Command != "B溜め"
Trigger1 = Time = [0,15]
V = 55
Value = 1

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&NumHelper(25000)&&Anim=1110&&Time<16
Trigger1 = Fvar(10)=-999999
Trigger2 = PrevStateNo=420&&Var(56)/100%100=33&&NumTarget&&Var(58)/10000=420
Trigger3 = !NumTarget
Trigger3 = PrevStateNo-1105
V = 55
Value = 1

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 1110
Trigger1 = Var(55) = 1
Trigger1 = Time = [7,15]
Value = 1111

[State -1]
Type = ChangeState
Trigger1 = Var(55) = 0
Trigger1 = Time = 15
Value = 1115

[State -1]
Type = Width
Trigger1 = Anim = 1111
Trigger1 = AnimElem = 2, >= 0
Trigger1 = AnimElem = 7, < 0
Value = 9,-1

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1111
Trigger1 = AnimElem = 2
Value = s1100, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1111
Trigger1 = AnimElem = 2, = 1
Value = s1005, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = Anim = 1111
Trigger1 = AnimElem = 2, = 1
ID = 1160
PosType = P1
Pos = 26,-37
StateNo = 1160
Ownpal = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;BE雷針B
[Statedef 1115]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
SprPriority = 2

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s700, 0
Channel = 2

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = -26,-86
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = -26,-86
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 5, >= 0
Trigger1 = AnimElem = 10, < 0
Value = 9,-1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1100, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5, = 1
Value = s1005, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 5, = 1
ID = 1165
PosType = P1
Pos = 21,-40
StateNo = 1160
Ownpal = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;数秘紋・蛇の巣A
[Statedef 1200]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 1200
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Time = 15
V = 55
Value = 0

[State -1]
Type = VarSet
TriggerAll = !(Var(59)/10000)
Trigger1 = Anim = 1200
Trigger1 = Command != "A溜め"
Trigger1 = Time = [0,14]
V = 55
Value = 1

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&NumHelper(25000)&&Anim=1200&&Time<15
TriggerAll = Fvar(37):=0||1
Trigger1 = Fvar(10)=-999999
V = 55
Value = 1

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 1200
Trigger1 = Var(55) = 1
Trigger1 = Time = [4,9]
Value = 1201

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 1200
Trigger1 = Var(55) = 1
Trigger1 = Time = [10,14]
Value = 1201
Elem = 2

[State -1]
Type = ChangeState
Trigger1 = Var(55) = 0
Trigger1 = Time = 14
Value = 1201

[State -1]
Type = NotHitBy
TriggerAll = Var(57)/100%10 = 4
Trigger1 = Anim = 1200
Trigger2 = Anim = 1201
Trigger2 = AnimElem = 3, < 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Width
Trigger1 = Anim = 1201
Trigger1 = AnimElem = 3, >= 0
Trigger1 = AnimElem = 8, < 0
Value = 9,-1

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1201
Trigger1 = AnimElem = 3
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = Anim = 1201
Trigger1 = AnimElem = 4
ID = 1205
PosType = P1
Pos = 40,-17
StateNo = 1205
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;BE数秘紋・蛇の巣A
[Statedef 1201]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
SprPriority = 2

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s700, 0
Channel = 2

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = -22,-79
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = -22,-79
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 6, >= 0
Trigger1 = AnimElem = 11, < 0
Value = 9,-1

[State -1]
Type = NotHitBy
Trigger1 = AnimElem = 6, < 0
Trigger1 = Var(57)/100%10 = 4
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 7
ID = 1207
PosType = P1
Pos = 40,-17
StateNo = 1205
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;数秘紋・蛇の巣A・発動
[Statedef 1202]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 1202
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 6, >= 0
Trigger1 = AnimElem = 10, < 0
Value = 7,0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s1201, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1205) > 0
Trigger1 = Helper(1205),Anim = 1205
Trigger1 = Facing * Helper(1205),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1206
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1205),Pos X*Helper(1205),Facing)),Ceil(-Pos Y + Helper(1205),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1255) > 0
Trigger1 = Helper(1255),Anim = 1205
Trigger1 = Facing * Helper(1255),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1256
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1255),Pos X*Helper(1255),Facing)),Ceil(-Pos Y + Helper(1255),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1205) > 0
Trigger1 = Helper(1205),Anim = 1205
Trigger1 = Facing * Helper(1205),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1206
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1205),Pos X*Helper(1205),Facing)),Ceil(-Pos Y + Helper(1205),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1255) > 0
Trigger1 = Helper(1255),Anim = 1205
Trigger1 = Facing * Helper(1255),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1256
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1255),Pos X*Helper(1255),Facing)),Ceil(-Pos Y + Helper(1255),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1207) > 0
Trigger1 = Helper(1207),Anim = 1205
Trigger1 = Facing * Helper(1207),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1208
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1207),Pos X*Helper(1207),Facing)),Ceil(-Pos Y + Helper(1207),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1257) > 0
Trigger1 = Helper(1257),Anim = 1205
Trigger1 = Facing * Helper(1257),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1258
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1257),Pos X*Helper(1257),Facing)),Ceil(-Pos Y + Helper(1257),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1207) > 0
Trigger1 = Helper(1207),Anim = 1205
Trigger1 = Facing * Helper(1207),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1208
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1207),Pos X*Helper(1207),Facing)),Ceil(-Pos Y + Helper(1207),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1257) > 0
Trigger1 = Helper(1257),Anim = 1205
Trigger1 = Facing * Helper(1257),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1258
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1257),Pos X*Helper(1257),Facing)),Ceil(-Pos Y + Helper(1257),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;数秘紋・蛇の巣B
[Statedef 1210]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 1200
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Time = 15
V = 55
Value = 0

[State -1]
Type = VarSet
TriggerAll = !(Var(59)/10000)
Trigger1 = Anim = 1200
Trigger1 = Command != "B溜め"
Trigger1 = Time = [0,14]
V = 55
Value = 1

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&NumHelper(25000)&&Anim=1200&&Time<15
TriggerAll = Fvar(37):=0||1
Trigger1 = Fvar(10)=-999999
V = 55
Value = 1

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 1200
Trigger1 = Var(55) = 1
Trigger1 = Time = [4,9]
Value = 1201

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 1200
Trigger1 = Var(55) = 1
Trigger1 = Time = [10,14]
Value = 1201
Elem = 2

[State -1]
Type = ChangeState
Trigger1 = Var(55) = 0
Trigger1 = Time = 14
Value = 1211

[State -1]
Type = NotHitBy
TriggerAll = Var(57)/100%10 = 4
Trigger1 = Anim = 1200
Trigger2 = Anim = 1201
Trigger2 = AnimElem = 3, < 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Width
Trigger1 = Anim = 1201
Trigger1 = AnimElem = 3, >= 0
Trigger1 = AnimElem = 8, < 0
Value = 9,-1

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1201
Trigger1 = AnimElem = 3
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = Anim = 1201
Trigger1 = AnimElem = 4
ID = 1215
PosType = P1
Pos = 121,-17
StateNo = 1205
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;BE数秘紋・蛇の巣B
[Statedef 1211]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
SprPriority = 2

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s700, 0
Channel = 2

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = -22,-79
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = -22,-79
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 6, >= 0
Trigger1 = AnimElem = 11, < 0
Value = 9,-1

[State -1]
Type = NotHitBy
Trigger1 = AnimElem = 6, < 0
Trigger1 = Var(57)/100%10 = 4
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 7
ID = 1217
PosType = P1
Pos = 121,-17
StateNo = 1205
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;数秘紋・蛇の巣B・発動
[Statedef 1212]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 1202
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 6, >= 0
Trigger1 = AnimElem = 10, < 0
Value = 7,0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s1201, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1215) > 0
Trigger1 = Helper(1215),Anim = 1205
Trigger1 = Facing * Helper(1215),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1216
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1215),Pos X*Helper(1215),Facing)),Ceil(-Pos Y + Helper(1215),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1265) > 0
Trigger1 = Helper(1265),Anim = 1205
Trigger1 = Facing * Helper(1265),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1266
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1265),Pos X*Helper(1265),Facing)),Ceil(-Pos Y + Helper(1265),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1215) > 0
Trigger1 = Helper(1215),Anim = 1205
Trigger1 = Facing * Helper(1215),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1216
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1215),Pos X*Helper(1215),Facing)),Ceil(-Pos Y + Helper(1215),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1265) > 0
Trigger1 = Helper(1265),Anim = 1205
Trigger1 = Facing * Helper(1265),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1266
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1265),Pos X*Helper(1265),Facing)),Ceil(-Pos Y + Helper(1265),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1217) > 0
Trigger1 = Helper(1217),Anim = 1205
Trigger1 = Facing * Helper(1217),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1218
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1217),Pos X*Helper(1217),Facing)),Ceil(-Pos Y + Helper(1217),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1267) > 0
Trigger1 = Helper(1267),Anim = 1205
Trigger1 = Facing * Helper(1267),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1268
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1267),Pos X*Helper(1267),Facing)),Ceil(-Pos Y + Helper(1267),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1217) > 0
Trigger1 = Helper(1217),Anim = 1205
Trigger1 = Facing * Helper(1217),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1218
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1217),Pos X*Helper(1217),Facing)),Ceil(-Pos Y + Helper(1217),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1267) > 0
Trigger1 = Helper(1267),Anim = 1205
Trigger1 = Facing * Helper(1267),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1268
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1267),Pos X*Helper(1267),Facing)),Ceil(-Pos Y + Helper(1267),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;数秘紋・蛇の巣C
[Statedef 1220]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 1200
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Time = 15
V = 55
Value = 0

[State -1]
Type = VarSet
TriggerAll = !(Var(59)/10000)
Trigger1 = Anim = 1200
Trigger1 = Command != "C溜め"
Trigger1 = Time = [0,14]
V = 55
Value = 1

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&NumHelper(25000)&&Anim=1200&&Time<15
TriggerAll = Fvar(37):=0||1
Trigger1 = Fvar(10)=-999999
V = 55
Value = 1

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 1200
Trigger1 = Var(55) = 1
Trigger1 = Time = [4,9]
Value = 1201

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 1200
Trigger1 = Var(55) = 1
Trigger1 = Time = [10,14]
Value = 1201
Elem = 2

[State -1]
Type = ChangeState
Trigger1 = Var(55) = 0
Trigger1 = Time = 14
Value = 1221

[State -1]
Type = NotHitBy
TriggerAll = Var(57)/100%10 = 4
Trigger1 = Anim = 1200
Trigger2 = Anim = 1201
Trigger2 = AnimElem = 3, < 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Width
Trigger1 = Anim = 1201
Trigger1 = AnimElem = 3, >= 0
Trigger1 = AnimElem = 8, < 0
Value = 9,-1

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1201
Trigger1 = AnimElem = 3
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = Anim = 1201
Trigger1 = AnimElem = 4
ID = 1225
PosType = P1
Pos = 201,-17
StateNo = 1205
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;BE数秘紋・蛇の巣C
[Statedef 1221]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
SprPriority = 2

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s700, 0
Channel = 2

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = -22,-79
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = -22,-79
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 6, >= 0
Trigger1 = AnimElem = 11, < 0
Value = 9,-1

[State -1]
Type = NotHitBy
Trigger1 = AnimElem = 6, < 0
Trigger1 = Var(57)/100%10 = 4
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 7
ID = 1227
PosType = P1
Pos = 201,-17
StateNo = 1205
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;数秘紋・蛇の巣C・発動
[Statedef 1222]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 1202
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 6, >= 0
Trigger1 = AnimElem = 10, < 0
Value = 7,0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s1201, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1225) > 0
Trigger1 = Helper(1225),Anim = 1205
Trigger1 = Facing * Helper(1225),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1226
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1225),Pos X*Helper(1225),Facing)),Ceil(-Pos Y + Helper(1225),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1275) > 0
Trigger1 = Helper(1275),Anim = 1205
Trigger1 = Facing * Helper(1275),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1276
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1275),Pos X*Helper(1275),Facing)),Ceil(-Pos Y + Helper(1275),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1225) > 0
Trigger1 = Helper(1225),Anim = 1205
Trigger1 = Facing * Helper(1225),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1226
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1225),Pos X*Helper(1225),Facing)),Ceil(-Pos Y + Helper(1225),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1275) > 0
Trigger1 = Helper(1275),Anim = 1205
Trigger1 = Facing * Helper(1275),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1276
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1275),Pos X*Helper(1275),Facing)),Ceil(-Pos Y + Helper(1275),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1227) > 0
Trigger1 = Helper(1227),Anim = 1205
Trigger1 = Facing * Helper(1227),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1228
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1227),Pos X*Helper(1227),Facing)),Ceil(-Pos Y + Helper(1227),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1277) > 0
Trigger1 = Helper(1277),Anim = 1205
Trigger1 = Facing * Helper(1277),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1278
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1277),Pos X*Helper(1277),Facing)),Ceil(-Pos Y + Helper(1277),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1227) > 0
Trigger1 = Helper(1227),Anim = 1205
Trigger1 = Facing * Helper(1227),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1228
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1227),Pos X*Helper(1227),Facing)),Ceil(-Pos Y + Helper(1227),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1277) > 0
Trigger1 = Helper(1277),Anim = 1205
Trigger1 = Facing * Helper(1277),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1278
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1277),Pos X*Helper(1277),Facing)),Ceil(-Pos Y + Helper(1277),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;数秘紋・蛇の巣・全発動
[Statedef 1232]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 1202
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 6, >= 0
Trigger1 = AnimElem = 10, < 0
Value = 7,0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s1201, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1205) > 0
Trigger1 = Helper(1205),Anim = 1205
Trigger1 = Facing * Helper(1205),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1206
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1205),Pos X*Helper(1205),Facing)),Ceil(-Pos Y + Helper(1205),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1255) > 0
Trigger1 = Helper(1255),Anim = 1205
Trigger1 = Facing * Helper(1255),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1256
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1255),Pos X*Helper(1255),Facing)),Ceil(-Pos Y + Helper(1255),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1205) > 0
Trigger1 = Helper(1205),Anim = 1205
Trigger1 = Facing * Helper(1205),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1206
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1205),Pos X*Helper(1205),Facing)),Ceil(-Pos Y + Helper(1205),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1255) > 0
Trigger1 = Helper(1255),Anim = 1205
Trigger1 = Facing * Helper(1255),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1256
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1255),Pos X*Helper(1255),Facing)),Ceil(-Pos Y + Helper(1255),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1207) > 0
Trigger1 = Helper(1207),Anim = 1205
Trigger1 = Facing * Helper(1207),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1208
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1207),Pos X*Helper(1207),Facing)),Ceil(-Pos Y + Helper(1207),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1257) > 0
Trigger1 = Helper(1257),Anim = 1205
Trigger1 = Facing * Helper(1257),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1258
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1257),Pos X*Helper(1257),Facing)),Ceil(-Pos Y + Helper(1257),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1207) > 0
Trigger1 = Helper(1207),Anim = 1205
Trigger1 = Facing * Helper(1207),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1208
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1207),Pos X*Helper(1207),Facing)),Ceil(-Pos Y + Helper(1207),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1257) > 0
Trigger1 = Helper(1257),Anim = 1205
Trigger1 = Facing * Helper(1257),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1258
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1257),Pos X*Helper(1257),Facing)),Ceil(-Pos Y + Helper(1257),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1215) > 0
Trigger1 = Helper(1215),Anim = 1205
Trigger1 = Facing * Helper(1215),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1216
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1215),Pos X*Helper(1215),Facing)),Ceil(-Pos Y + Helper(1215),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1265) > 0
Trigger1 = Helper(1265),Anim = 1205
Trigger1 = Facing * Helper(1265),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1266
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1265),Pos X*Helper(1265),Facing)),Ceil(-Pos Y + Helper(1265),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1215) > 0
Trigger1 = Helper(1215),Anim = 1205
Trigger1 = Facing * Helper(1215),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1216
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1215),Pos X*Helper(1215),Facing)),Ceil(-Pos Y + Helper(1215),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1265) > 0
Trigger1 = Helper(1265),Anim = 1205
Trigger1 = Facing * Helper(1265),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1266
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1265),Pos X*Helper(1265),Facing)),Ceil(-Pos Y + Helper(1265),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1217) > 0
Trigger1 = Helper(1217),Anim = 1205
Trigger1 = Facing * Helper(1217),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1218
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1217),Pos X*Helper(1217),Facing)),Ceil(-Pos Y + Helper(1217),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1267) > 0
Trigger1 = Helper(1267),Anim = 1205
Trigger1 = Facing * Helper(1267),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1268
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1267),Pos X*Helper(1267),Facing)),Ceil(-Pos Y + Helper(1267),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1217) > 0
Trigger1 = Helper(1217),Anim = 1205
Trigger1 = Facing * Helper(1217),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1218
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1217),Pos X*Helper(1217),Facing)),Ceil(-Pos Y + Helper(1217),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1267) > 0
Trigger1 = Helper(1267),Anim = 1205
Trigger1 = Facing * Helper(1267),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1268
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1267),Pos X*Helper(1267),Facing)),Ceil(-Pos Y + Helper(1267),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1225) > 0
Trigger1 = Helper(1225),Anim = 1205
Trigger1 = Facing * Helper(1225),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1226
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1225),Pos X*Helper(1225),Facing)),Ceil(-Pos Y + Helper(1225),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1275) > 0
Trigger1 = Helper(1275),Anim = 1205
Trigger1 = Facing * Helper(1275),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1276
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1275),Pos X*Helper(1275),Facing)),Ceil(-Pos Y + Helper(1275),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1225) > 0
Trigger1 = Helper(1225),Anim = 1205
Trigger1 = Facing * Helper(1225),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1226
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1225),Pos X*Helper(1225),Facing)),Ceil(-Pos Y + Helper(1225),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1275) > 0
Trigger1 = Helper(1275),Anim = 1205
Trigger1 = Facing * Helper(1275),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1276
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1275),Pos X*Helper(1275),Facing)),Ceil(-Pos Y + Helper(1275),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1227) > 0
Trigger1 = Helper(1227),Anim = 1205
Trigger1 = Facing * Helper(1227),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1228
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1227),Pos X*Helper(1227),Facing)),Ceil(-Pos Y + Helper(1227),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1277) > 0
Trigger1 = Helper(1277),Anim = 1205
Trigger1 = Facing * Helper(1277),Facing = 1
Trigger1 = AnimElem = 7, = 1
ID = 1278
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1277),Pos X*Helper(1277),Facing)),Ceil(-Pos Y + Helper(1277),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1227) > 0
Trigger1 = Helper(1227),Anim = 1205
Trigger1 = Facing * Helper(1227),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1228
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1227),Pos X*Helper(1227),Facing)),Ceil(-Pos Y + Helper(1227),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1277) > 0
Trigger1 = Helper(1277),Anim = 1205
Trigger1 = Facing * Helper(1277),Facing = -1
Trigger1 = AnimElem = 7, = 1
ID = 1278
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1277),Pos X*Helper(1277),Facing)),Ceil(-Pos Y + Helper(1277),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;空中数秘紋・蛇の巣A
[Statedef 1250]
Type      = A
Movetype  = A
Physics   = A
Ctrl      = 0
VelSet = 0,0
Anim      = 1250
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Time = 12
V = 55
Value = 0

[State -1]
Type = VarSet
TriggerAll = !(Var(59)/10000)
Trigger1 = Anim = 1250
Trigger1 = Command != "A溜め"
Trigger1 = Time = [0,11]
V = 55
Value = 1

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&NumHelper(25000)&&Anim=1250&&Time<12
TriggerAll = Fvar(37):=0||1
Trigger1 = Fvar(10)=-999999
V = 55
Value = 1

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 1250
Trigger1 = Var(55) = 1
Trigger1 = Time = [4,11]
Value = 1251

[State -1]
Type = ChangeState
Trigger1 = Var(55) = 0
Trigger1 = Time = 11
Value = 1251

[State -1]
Type = NotHitBy
TriggerAll = Var(57)/100%10 = 4
Trigger1 = Anim = 1250
Trigger2 = Anim = 1251
Trigger2 = AnimElem = 3, < 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VelSet
Trigger1 = Anim = 1250
Trigger2 = Anim = 1251
Trigger2 = AnimElem = 8, <= 0
Y = 0

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1251
Trigger1 = AnimElem = 3
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = Anim = 1251
Trigger1 = AnimElem = 4
ID = 1255
PosType = P1
Pos = 49,-56
StateNo = 1205
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

;---------------------------------------------------------------------------
;BE空中数秘紋・蛇の巣A
[Statedef 1251]
Type      = A
Movetype  = A
Physics   = A
Ctrl      = 0
SprPriority = 2

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s700, 0
Channel = 2

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = 0,-67
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = 0,-67
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0

[State -1]
Type = NotHitBy
TriggerAll = Var(57)/100%10 = 4
Trigger1 = AnimElem = 4, < 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VelSet
Trigger1 = AnimElem = 5, < 0
Y = 0

[State -1]
Type = VelSet
Trigger1 = AnimElem = 5
X = -1.9
Y = -6

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
ID = 1257
PosType = P1
Pos = 49,-56
StateNo = 1205
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

;---------------------------------------------------------------------------
;空中数秘紋・蛇の巣A・発動
[Statedef 1252]
Type      = A
Movetype  = A
Physics   = A
Ctrl      = 0
VelSet = 0,0
Anim      = 1252
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VelSet
Trigger1 = Time < 21
Y = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1201, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1205) > 0
Trigger1 = Helper(1205),Anim = 1205
Trigger1 = Facing * Helper(1205),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1206
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1205),Pos X*Helper(1205),Facing)),Ceil(-Pos Y + Helper(1205),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1255) > 0
Trigger1 = Helper(1255),Anim = 1205
Trigger1 = Facing * Helper(1255),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1256
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1255),Pos X*Helper(1255),Facing)),Ceil(-Pos Y + Helper(1255),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1205) > 0
Trigger1 = Helper(1205),Anim = 1205
Trigger1 = Facing * Helper(1205),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1206
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1205),Pos X*Helper(1205),Facing)),Ceil(-Pos Y + Helper(1205),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1255) > 0
Trigger1 = Helper(1255),Anim = 1205
Trigger1 = Facing * Helper(1255),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1256
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1255),Pos X*Helper(1255),Facing)),Ceil(-Pos Y + Helper(1255),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1207) > 0
Trigger1 = Helper(1207),Anim = 1205
Trigger1 = Facing * Helper(1207),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1208
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1207),Pos X*Helper(1207),Facing)),Ceil(-Pos Y + Helper(1207),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1257) > 0
Trigger1 = Helper(1257),Anim = 1205
Trigger1 = Facing * Helper(1257),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1258
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1257),Pos X*Helper(1257),Facing)),Ceil(-Pos Y + Helper(1257),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1207) > 0
Trigger1 = Helper(1207),Anim = 1205
Trigger1 = Facing * Helper(1207),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1208
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1207),Pos X*Helper(1207),Facing)),Ceil(-Pos Y + Helper(1207),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1257) > 0
Trigger1 = Helper(1257),Anim = 1205
Trigger1 = Facing * Helper(1257),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1258
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1257),Pos X*Helper(1257),Facing)),Ceil(-Pos Y + Helper(1257),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

;---------------------------------------------------------------------------
;空中数秘紋・蛇の巣B
[Statedef 1260]
Type      = A
Movetype  = A
Physics   = A
Ctrl      = 0
VelSet = 0,0
Anim      = 1250
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Time = 12
V = 55
Value = 0

[State -1]
Type = VarSet
TriggerAll = !(Var(59)/10000)
Trigger1 = Anim = 1250
Trigger1 = Command != "B溜め"
Trigger1 = Time = [0,11]
V = 55
Value = 1

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&NumHelper(25000)&&Anim=1250&&Time<12
TriggerAll = Fvar(37):=0||1
Trigger1 = Fvar(10)=-999999
V = 55
Value = 1

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 1250
Trigger1 = Var(55) = 1
Trigger1 = Time = [4,11]
Value = 1251

[State -1]
Type = ChangeState
Trigger1 = Var(55) = 0
Trigger1 = Time = 11
Value = 1261

[State -1]
Type = NotHitBy
TriggerAll = Var(57)/100%10 = 4
Trigger1 = Anim = 1250
Trigger2 = Anim = 1251
Trigger2 = AnimElem = 3, < 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VelSet
Trigger1 = Anim = 1250
Trigger2 = Anim = 1251
Trigger2 = AnimElem = 8, <= 0
Y = 0

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1251
Trigger1 = AnimElem = 3
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = Anim = 1251
Trigger1 = AnimElem = 4
ID = 1265
PosType = P1
Pos = 49,-56
StateNo = 1205
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

;---------------------------------------------------------------------------
;BE空中数秘紋・蛇の巣B
[Statedef 1261]
Type      = A
Movetype  = A
Physics   = A
Ctrl      = 0
SprPriority = 2

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s700, 0
Channel = 2

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = 0,-67
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = 0,-67
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0

[State -1]
Type = NotHitBy
TriggerAll = Var(57)/100%10 = 4
Trigger1 = AnimElem = 4, < 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VelSet
Trigger1 = AnimElem = 5, < 0
Y = 0

[State -1]
Type = VelSet
Trigger1 = AnimElem = 5
X = -1.9
Y = -6

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
ID = 1267
PosType = P1
Pos = 49,-56
StateNo = 1205
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

;---------------------------------------------------------------------------
;空中数秘紋・蛇の巣B・発動
[Statedef 1262]
Type      = A
Movetype  = A
Physics   = A
Ctrl      = 0
VelSet = 0,0
Anim      = 1252
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VelSet
Trigger1 = Time < 21
Y = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1201, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1215) > 0
Trigger1 = Helper(1215),Anim = 1205
Trigger1 = Facing * Helper(1215),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1216
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1215),Pos X*Helper(1215),Facing)),Ceil(-Pos Y + Helper(1215),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1265) > 0
Trigger1 = Helper(1265),Anim = 1205
Trigger1 = Facing * Helper(1265),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1266
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1265),Pos X*Helper(1265),Facing)),Ceil(-Pos Y + Helper(1265),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1215) > 0
Trigger1 = Helper(1215),Anim = 1205
Trigger1 = Facing * Helper(1215),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1216
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1215),Pos X*Helper(1215),Facing)),Ceil(-Pos Y + Helper(1215),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1265) > 0
Trigger1 = Helper(1265),Anim = 1205
Trigger1 = Facing * Helper(1265),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1266
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1265),Pos X*Helper(1265),Facing)),Ceil(-Pos Y + Helper(1265),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1217) > 0
Trigger1 = Helper(1217),Anim = 1205
Trigger1 = Facing * Helper(1217),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1218
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1217),Pos X*Helper(1217),Facing)),Ceil(-Pos Y + Helper(1217),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1267) > 0
Trigger1 = Helper(1267),Anim = 1205
Trigger1 = Facing * Helper(1267),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1268
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1267),Pos X*Helper(1267),Facing)),Ceil(-Pos Y + Helper(1267),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1217) > 0
Trigger1 = Helper(1217),Anim = 1205
Trigger1 = Facing * Helper(1217),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1218
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1217),Pos X*Helper(1217),Facing)),Ceil(-Pos Y + Helper(1217),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1267) > 0
Trigger1 = Helper(1267),Anim = 1205
Trigger1 = Facing * Helper(1267),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1268
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1267),Pos X*Helper(1267),Facing)),Ceil(-Pos Y + Helper(1267),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

;---------------------------------------------------------------------------
;空中数秘紋・蛇の巣C
[Statedef 1270]
Type      = A
Movetype  = A
Physics   = A
Ctrl      = 0
VelSet = 0,0
Anim      = 1250
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Time = 12
V = 55
Value = 0

[State -1]
Type = VarSet
TriggerAll = !(Var(59)/10000)
Trigger1 = Anim = 1250
Trigger1 = Command != "C溜め"
Trigger1 = Time = [0,11]
V = 55
Value = 1

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&NumHelper(25000)&&Anim=1250&&Time<12
TriggerAll = Fvar(37):=0||1
Trigger1 = Fvar(10)=-999999
V = 55
Value = 1

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 1250
Trigger1 = Var(55) = 1
Trigger1 = Time = [4,11]
Value = 1251

[State -1]
Type = ChangeState
Trigger1 = Var(55) = 0
Trigger1 = Time = 11
Value = 1271

[State -1]
Type = NotHitBy
TriggerAll = Var(57)/100%10 = 4
Trigger1 = Anim = 1250
Trigger2 = Anim = 1251
Trigger2 = AnimElem = 3, < 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VelSet
Trigger1 = Anim = 1250
Trigger2 = Anim = 1251
Trigger2 = AnimElem = 8, <= 0
Y = 0

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1251
Trigger1 = AnimElem = 3
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = Anim = 1251
Trigger1 = AnimElem = 4
ID = 1275
PosType = P1
Pos = 49,-56
StateNo = 1205
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

;---------------------------------------------------------------------------
;BE空中数秘紋・蛇の巣C
[Statedef 1271]
Type      = A
Movetype  = A
Physics   = A
Ctrl      = 0
SprPriority = 2

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s700, 0
Channel = 2

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = 0,-67
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = 0,-67
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0

[State -1]
Type = NotHitBy
TriggerAll = Var(57)/100%10 = 4
Trigger1 = AnimElem = 4, < 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VelSet
Trigger1 = AnimElem = 5, < 0
Y = 0

[State -1]
Type = VelSet
Trigger1 = AnimElem = 5
X = -1.9
Y = -6

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
ID = 1277
PosType = P1
Pos = 49,-56
StateNo = 1205
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

;---------------------------------------------------------------------------
;空中数秘紋・蛇の巣C・発動
[Statedef 1272]
Type      = A
Movetype  = A
Physics   = A
Ctrl      = 0
VelSet = 0,0
Anim      = 1252
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VelSet
Trigger1 = Time < 21
Y = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1201, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1225) > 0
Trigger1 = Helper(1225),Anim = 1205
Trigger1 = Facing * Helper(1225),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1226
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1225),Pos X*Helper(1225),Facing)),Ceil(-Pos Y + Helper(1225),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1275) > 0
Trigger1 = Helper(1275),Anim = 1205
Trigger1 = Facing * Helper(1275),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1276
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1275),Pos X*Helper(1275),Facing)),Ceil(-Pos Y + Helper(1275),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1225) > 0
Trigger1 = Helper(1225),Anim = 1205
Trigger1 = Facing * Helper(1225),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1226
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1225),Pos X*Helper(1225),Facing)),Ceil(-Pos Y + Helper(1225),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1275) > 0
Trigger1 = Helper(1275),Anim = 1205
Trigger1 = Facing * Helper(1275),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1276
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1275),Pos X*Helper(1275),Facing)),Ceil(-Pos Y + Helper(1275),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1227) > 0
Trigger1 = Helper(1227),Anim = 1205
Trigger1 = Facing * Helper(1227),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1228
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1227),Pos X*Helper(1227),Facing)),Ceil(-Pos Y + Helper(1227),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1277) > 0
Trigger1 = Helper(1277),Anim = 1205
Trigger1 = Facing * Helper(1277),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1278
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1277),Pos X*Helper(1277),Facing)),Ceil(-Pos Y + Helper(1277),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1227) > 0
Trigger1 = Helper(1227),Anim = 1205
Trigger1 = Facing * Helper(1227),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1228
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1227),Pos X*Helper(1227),Facing)),Ceil(-Pos Y + Helper(1227),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1277) > 0
Trigger1 = Helper(1277),Anim = 1205
Trigger1 = Facing * Helper(1277),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1278
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1277),Pos X*Helper(1277),Facing)),Ceil(-Pos Y + Helper(1277),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

;---------------------------------------------------------------------------
;空中数秘紋・蛇の巣・全発動
[Statedef 1282]
Type      = A
Movetype  = A
Physics   = A
Ctrl      = 0
VelSet = 0,0
Anim      = 1252
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VelSet
Trigger1 = Time <= 16
Y = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1201, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1205) > 0
Trigger1 = Helper(1205),Anim = 1205
Trigger1 = Facing * Helper(1205),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1206
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1205),Pos X*Helper(1205),Facing)),Ceil(-Pos Y + Helper(1205),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1255) > 0
Trigger1 = Helper(1255),Anim = 1205
Trigger1 = Facing * Helper(1255),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1256
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1255),Pos X*Helper(1255),Facing)),Ceil(-Pos Y + Helper(1255),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1205) > 0
Trigger1 = Helper(1205),Anim = 1205
Trigger1 = Facing * Helper(1205),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1206
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1205),Pos X*Helper(1205),Facing)),Ceil(-Pos Y + Helper(1205),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1255) > 0
Trigger1 = Helper(1255),Anim = 1205
Trigger1 = Facing * Helper(1255),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1256
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1255),Pos X*Helper(1255),Facing)),Ceil(-Pos Y + Helper(1255),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1207) > 0
Trigger1 = Helper(1207),Anim = 1205
Trigger1 = Facing * Helper(1207),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1208
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1207),Pos X*Helper(1207),Facing)),Ceil(-Pos Y + Helper(1207),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1257) > 0
Trigger1 = Helper(1257),Anim = 1205
Trigger1 = Facing * Helper(1257),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1258
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1257),Pos X*Helper(1257),Facing)),Ceil(-Pos Y + Helper(1257),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1207) > 0
Trigger1 = Helper(1207),Anim = 1205
Trigger1 = Facing * Helper(1207),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1208
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1207),Pos X*Helper(1207),Facing)),Ceil(-Pos Y + Helper(1207),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1257) > 0
Trigger1 = Helper(1257),Anim = 1205
Trigger1 = Facing * Helper(1257),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1258
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1257),Pos X*Helper(1257),Facing)),Ceil(-Pos Y + Helper(1257),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1215) > 0
Trigger1 = Helper(1215),Anim = 1205
Trigger1 = Facing * Helper(1215),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1216
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1215),Pos X*Helper(1215),Facing)),Ceil(-Pos Y + Helper(1215),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1265) > 0
Trigger1 = Helper(1265),Anim = 1205
Trigger1 = Facing * Helper(1265),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1266
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1265),Pos X*Helper(1265),Facing)),Ceil(-Pos Y + Helper(1265),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1215) > 0
Trigger1 = Helper(1215),Anim = 1205
Trigger1 = Facing * Helper(1215),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1216
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1215),Pos X*Helper(1215),Facing)),Ceil(-Pos Y + Helper(1215),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1265) > 0
Trigger1 = Helper(1265),Anim = 1205
Trigger1 = Facing * Helper(1265),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1266
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1265),Pos X*Helper(1265),Facing)),Ceil(-Pos Y + Helper(1265),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1217) > 0
Trigger1 = Helper(1217),Anim = 1205
Trigger1 = Facing * Helper(1217),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1218
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1217),Pos X*Helper(1217),Facing)),Ceil(-Pos Y + Helper(1217),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1267) > 0
Trigger1 = Helper(1267),Anim = 1205
Trigger1 = Facing * Helper(1267),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1268
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1267),Pos X*Helper(1267),Facing)),Ceil(-Pos Y + Helper(1267),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1217) > 0
Trigger1 = Helper(1217),Anim = 1205
Trigger1 = Facing * Helper(1217),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1218
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1217),Pos X*Helper(1217),Facing)),Ceil(-Pos Y + Helper(1217),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1267) > 0
Trigger1 = Helper(1267),Anim = 1205
Trigger1 = Facing * Helper(1267),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1268
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1267),Pos X*Helper(1267),Facing)),Ceil(-Pos Y + Helper(1267),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1225) > 0
Trigger1 = Helper(1225),Anim = 1205
Trigger1 = Facing * Helper(1225),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1226
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1225),Pos X*Helper(1225),Facing)),Ceil(-Pos Y + Helper(1225),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1275) > 0
Trigger1 = Helper(1275),Anim = 1205
Trigger1 = Facing * Helper(1275),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1276
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1275),Pos X*Helper(1275),Facing)),Ceil(-Pos Y + Helper(1275),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1225) > 0
Trigger1 = Helper(1225),Anim = 1205
Trigger1 = Facing * Helper(1225),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1226
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1225),Pos X*Helper(1225),Facing)),Ceil(-Pos Y + Helper(1225),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1275) > 0
Trigger1 = Helper(1275),Anim = 1205
Trigger1 = Facing * Helper(1275),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1276
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1275),Pos X*Helper(1275),Facing)),Ceil(-Pos Y + Helper(1275),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1227) > 0
Trigger1 = Helper(1227),Anim = 1205
Trigger1 = Facing * Helper(1227),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1228
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1227),Pos X*Helper(1227),Facing)),Ceil(-Pos Y + Helper(1227),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1277) > 0
Trigger1 = Helper(1277),Anim = 1205
Trigger1 = Facing * Helper(1277),Facing = 1
Trigger1 = AnimElem = 5, = 1
ID = 1278
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1277),Pos X*Helper(1277),Facing)),Ceil(-Pos Y + Helper(1277),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1227) > 0
Trigger1 = Helper(1227),Anim = 1205
Trigger1 = Facing * Helper(1227),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1228
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1227),Pos X*Helper(1227),Facing)),Ceil(-Pos Y + Helper(1227),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1277) > 0
Trigger1 = Helper(1277),Anim = 1205
Trigger1 = Facing * Helper(1277),Facing = -1
Trigger1 = AnimElem = 5, = 1
ID = 1278
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1277),Pos X*Helper(1277),Facing)),Ceil(-Pos Y + Helper(1277),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

;---------------------------------------------------------------------------
;数秘紋・積雷分離A
[Statedef 1300]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 1300
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = ChangeState
TriggerAll = Var(47) = 9
Trigger1 = Anim = 1300
Trigger1 = AnimElem = 4, = 2
Trigger2 = Anim = 1302
Value = 1320

[State -1]
Type = ChangeAnim
TriggerAll = Anim = 1300
TriggerAll = Command = "A溜め"&&!(Var(59)/10000)
Trigger1 = Time = 31 || Time = 63 || Time = 95 || Time = 127 || Time = 159 || Time = 191 || Time = 223 || Time = 255
Value = 1300
Elem = 7

[State -1]
Type = ChangeAnim
TriggerAll = Anim = 1300
Trigger1 = Time = 32 || Time = 64 || Time = 96 || Time = 128 || Time = 160 || Time = 192 || Time = 224 || Time = 256
Value = 1300
Elem = 8

[State -1]
Type = ChangeAnim
TriggerAll = Anim = 1300
TriggerAll = Var(47) = 9
TriggerAll = Command = "A溜め"&&!(Var(59)/10000)
Trigger1 = AnimElem = 11, = 1
Trigger2 = Time != 13 && Time != 33 && Time != 65 && Time != 97 && Time != 129 && Time != 161 && Time != 193 && Time != 225 && Time != 257
Trigger2 = AnimElem = 8, = 1
Value = 1302

[State -1]
Type = ChangeAnim
TriggerAll = Anim = 1300
TriggerAll = Command != "A溜め"||Var(59)/10000
Trigger1 = AnimElem = 11, = 1
Trigger2 = Time != 13 && Time != 33 && Time != 65 && Time != 97 && Time != 129 && Time != 161 && Time != 193 && Time != 225 && Time != 257
Trigger2 = AnimElem = 8, = 1
Value = 1301

[State -1]
Type = VarAdd
TriggerAll = Var(47) < 9
TriggerAll = Anim = 1300
Trigger1 = AnimElem = 5
Trigger2 = Time = 31 || Time = 63 || Time = 95 || Time = 127 || Time = 159 || Time = 191 || Time = 223 || Time = 255
Trigger2 = AnimElem = 7
V = 47
Value = 1

[State -1]
Type = VarAdd
TriggerAll = Var(48) < 9
TriggerAll = Anim = 1300
Trigger1 = AnimElem = 5
Trigger2 = Time = 31 || Time = 63 || Time = 95 || Time = 127 || Time = 159 || Time = 191 || Time = 223 || Time = 255
Trigger2 = AnimElem = 7
V = 48
Value = 1

[State -1]
Type = Helper
Trigger1 = Anim = 1300
Trigger1 = AnimElem = 5
ID = 1305
StateNo = 1305
Ownpal = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1300
Trigger1 = AnimElem = 4
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = StateTypeSet
Trigger1 = Anim = 1301
Trigger1 = AnimElem = 2
MoveType = I

[State -1] 
Type = CtrlSet
Trigger1 = Anim = 1301
Trigger1 = AnimElem = 2
Value = 1

[State -1]
Type = ChangeState
Trigger1 = Anim = 1301
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;数秘紋・積雷分離B
[Statedef 1310]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 1310
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = ChangeState
Trigger1 = Var(47) > 6
Trigger1 = AnimElem = 4, = 2
Value = 1320

[State -1]
Type = VarAdd
Trigger1 = Var(47) < 9
Trigger1 = AnimElem = 5
V = 47
Value = 3

[State -1]
Type = VarAdd
Trigger1 = Var(48) < 9
Trigger1 = AnimElem = 5
V = 48
Value = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
ID = 1315
StateNo = 1305
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 19
MoveType = I

[State -1] 
Type = CtrlSet
Trigger1 = AnimElem = 19
Value = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;数秘紋・積雷分離・発動
[Statedef 1320]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = ChangeAnim
TriggerAll = Time = 0
Trigger1 = Anim = 1302
Trigger2 = Anim = 1300 || Anim = 1310
Trigger2 = AnimElem = 6, < 0
Value = 1320
Elem = 2

[State -1]
Type = ChangeAnim
Trigger1 = Anim != 1320
Trigger1 = Time = 0
Value = 1320

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Anim = 1321
V = 55
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = Var(47)+Var(48)*10

[State -1]
Type = PlaySnd
Trigger1 = Var(55)%10 != 6
Trigger1 = Var(55)/10%10 = 0
Trigger1 = Anim = 1320
Trigger1 = AnimElem = 3
Value = s1320, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(55)%10 != 6
Trigger1 = Var(55)/10%10 = [1,3]
Trigger1 = Anim = 1320
Trigger1 = AnimElem = 3
Value = s1320, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(55)%10 != 6
Trigger1 = Var(55)/10%10 = [4,5]
Trigger1 = Anim = 1320
Trigger1 = AnimElem = 3
Value = s1320, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(55)%10 = 6 || Var(55)/10%10 = 6
Trigger1 = Anim = 1320
Trigger1 = AnimElem = 3
Value = s1320, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Var(55)%10 != 6
Trigger1 = Var(55)/10%10 = [7,9]
Trigger1 = Anim = 1320
Trigger1 = AnimElem = 3
Value = s1320, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
TriggerAll = Anim = 1320
Trigger1 = Var(55)/10%10 < 5 && Var(55)%10 != 6
Trigger1 = AnimElem = 4, = 0
Trigger2 = Var(55)/10%10 > 4 && Var(55)%10 != 6
Trigger2 = AnimElem = 4, = -2
Trigger3 = Var(55)/10%10 < 5 && Var(55)%10 = 6
Trigger3 = AnimElem = 4, = 1
Trigger4 = Var(55)/10%10 > 4 && Var(55)%10 = 6
Trigger4 = AnimElem = 4, = -1
ID = 1325+Var(55)/10%10
PosType = P1
Pos = 55,0
StateNo = 1325
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1205) > 0
Trigger1 = Helper(1205),Anim = 1205
Trigger1 = Facing * Helper(1205),Facing = 1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1206
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1205),Pos X*Helper(1205),Facing)),Ceil(-Pos Y + Helper(1205),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1255) > 0
Trigger1 = Helper(1255),Anim = 1205
Trigger1 = Facing * Helper(1255),Facing = 1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1256
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1255),Pos X*Helper(1255),Facing)),Ceil(-Pos Y + Helper(1255),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1205) > 0
Trigger1 = Helper(1205),Anim = 1205
Trigger1 = Facing * Helper(1205),Facing = -1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1206
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1205),Pos X*Helper(1205),Facing)),Ceil(-Pos Y + Helper(1205),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1255) > 0
Trigger1 = Helper(1255),Anim = 1205
Trigger1 = Facing * Helper(1255),Facing = -1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1256
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1255),Pos X*Helper(1255),Facing)),Ceil(-Pos Y + Helper(1255),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1207) > 0
Trigger1 = Helper(1207),Anim = 1205
Trigger1 = Facing * Helper(1207),Facing = 1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1208
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1207),Pos X*Helper(1207),Facing)),Ceil(-Pos Y + Helper(1207),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1257) > 0
Trigger1 = Helper(1257),Anim = 1205
Trigger1 = Facing * Helper(1257),Facing = 1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1258
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1257),Pos X*Helper(1257),Facing)),Ceil(-Pos Y + Helper(1257),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1207) > 0
Trigger1 = Helper(1207),Anim = 1205
Trigger1 = Facing * Helper(1207),Facing = -1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1208
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1207),Pos X*Helper(1207),Facing)),Ceil(-Pos Y + Helper(1207),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1257) > 0
Trigger1 = Helper(1257),Anim = 1205
Trigger1 = Facing * Helper(1257),Facing = -1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1258
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1257),Pos X*Helper(1257),Facing)),Ceil(-Pos Y + Helper(1257),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1215) > 0
Trigger1 = Helper(1215),Anim = 1205
Trigger1 = Facing * Helper(1215),Facing = 1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1216
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1215),Pos X*Helper(1215),Facing)),Ceil(-Pos Y + Helper(1215),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1265) > 0
Trigger1 = Helper(1265),Anim = 1205
Trigger1 = Facing * Helper(1265),Facing = 1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1266
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1265),Pos X*Helper(1265),Facing)),Ceil(-Pos Y + Helper(1265),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1215) > 0
Trigger1 = Helper(1215),Anim = 1205
Trigger1 = Facing * Helper(1215),Facing = -1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1216
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1215),Pos X*Helper(1215),Facing)),Ceil(-Pos Y + Helper(1215),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1265) > 0
Trigger1 = Helper(1265),Anim = 1205
Trigger1 = Facing * Helper(1265),Facing = -1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1266
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1265),Pos X*Helper(1265),Facing)),Ceil(-Pos Y + Helper(1265),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1217) > 0
Trigger1 = Helper(1217),Anim = 1205
Trigger1 = Facing * Helper(1217),Facing = 1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1218
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1217),Pos X*Helper(1217),Facing)),Ceil(-Pos Y + Helper(1217),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1267) > 0
Trigger1 = Helper(1267),Anim = 1205
Trigger1 = Facing * Helper(1267),Facing = 1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1268
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1267),Pos X*Helper(1267),Facing)),Ceil(-Pos Y + Helper(1267),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1217) > 0
Trigger1 = Helper(1217),Anim = 1205
Trigger1 = Facing * Helper(1217),Facing = -1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1218
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1217),Pos X*Helper(1217),Facing)),Ceil(-Pos Y + Helper(1217),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1267) > 0
Trigger1 = Helper(1267),Anim = 1205
Trigger1 = Facing * Helper(1267),Facing = -1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1268
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1267),Pos X*Helper(1267),Facing)),Ceil(-Pos Y + Helper(1267),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1225) > 0
Trigger1 = Helper(1225),Anim = 1205
Trigger1 = Facing * Helper(1225),Facing = 1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1226
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1225),Pos X*Helper(1225),Facing)),Ceil(-Pos Y + Helper(1225),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1275) > 0
Trigger1 = Helper(1275),Anim = 1205
Trigger1 = Facing * Helper(1275),Facing = 1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1276
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1275),Pos X*Helper(1275),Facing)),Ceil(-Pos Y + Helper(1275),Pos Y)
Facing = 1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1225) > 0
Trigger1 = Helper(1225),Anim = 1205
Trigger1 = Facing * Helper(1225),Facing = -1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1226
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1225),Pos X*Helper(1225),Facing)),Ceil(-Pos Y + Helper(1225),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1275) > 0
Trigger1 = Helper(1275),Anim = 1205
Trigger1 = Facing * Helper(1275),Facing = -1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1276
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1275),Pos X*Helper(1275),Facing)),Ceil(-Pos Y + Helper(1275),Pos Y)
Facing = -1
StateNo = 1206
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1227) > 0
Trigger1 = Helper(1227),Anim = 1205
Trigger1 = Facing * Helper(1227),Facing = 1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1228
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1227),Pos X*Helper(1227),Facing)),Ceil(-Pos Y + Helper(1227),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1277) > 0
Trigger1 = Helper(1277),Anim = 1205
Trigger1 = Facing * Helper(1277),Facing = 1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1278
PosType = P1
Pos = Ceil((-Pos X*Facing) + (Helper(1277),Pos X*Helper(1277),Facing)),Ceil(-Pos Y + Helper(1277),Pos Y)
Facing = 1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1227) > 0
Trigger1 = Helper(1227),Anim = 1205
Trigger1 = Facing * Helper(1227),Facing = -1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1228
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1227),Pos X*Helper(1227),Facing)),Ceil(-Pos Y + Helper(1227),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = NumHelper(1277) > 0
Trigger1 = Helper(1277),Anim = 1205
Trigger1 = Facing * Helper(1277),Facing = -1
Trigger1 = Var(55)/10%10 > 3
Trigger1 = AnimElem = 4, = -1
ID = 1278
PosType = P1
Pos = Ceil((-Pos X*Facing) - (Helper(1277),Pos X*Helper(1277),Facing)),Ceil(-Pos Y + Helper(1277),Pos Y)
Facing = -1
StateNo = 1208
Ownpal = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = Anim = 1320
Trigger1 = AnimElem = 3
V = 47
Value = 0

[State -1]
Type = VarSet
Trigger1 = Anim = 1320
Trigger1 = AnimElem = 3
V = 48
Value = 0

[State -1]
Type = ChangeAnim
TriggerAll = Anim = 1320
Trigger1 = Var(55)%10 = 0
Trigger1 = Time > 29 && AnimElem = 7, = 2
Trigger2 = Var(55)%10 = [1,3]
Trigger2 = Var(57)/100%10 != 4 && Time > 24 && AnimElem = 7, = 2 || Var(57)/100%10 = 4 && Time > 18 && AnimElem = 7, = 2
Trigger3 = Var(55)%10 = [4,6]
Trigger3 = Var(57)/100%10 != 4 && Time > 22 && AnimElem = 6, = 2 || Var(57)/100%10 = 4 && Time > 16 && AnimElem = 6, = 2
Trigger4 = Var(55)%10 = [7,9]
Trigger4 = Var(57)/100%10 != 4 && Time > 20 && AnimElem = 5, = 2 || Var(57)/100%10 = 4 && Time > 14 && AnimElem = 5, = 2
Value = 1321

[State -1]
Type = StateTypeSet
Trigger1 = Anim = 1321
MoveType = I

[State -1]
Type = CtrlSet
Trigger1 = Anim = 1321
Value = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = Anim = 1321
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; H瞬雷A
[Statedef 1400]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 1400
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = AnimElem = 7, >= 0
Trigger1 = AnimElem = 12, < 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = Time = 3
StateNo = 9500
ID = 9501
Ownpal = 0

[State -1]
Type = PosSet
TriggerAll = NumHelper(9501) > 0
TriggerAll = Time = [3,11]
Trigger1 = Facing = 1
Trigger1 = Pos X > Helper(9501),Pos X
Trigger2 = Facing = -1
Trigger2 = Pos X < Helper(9501),Pos X
X = Ceil(Helper(9501),Pos X)

[State -1]
Type = Width
Trigger1 = AnimTime < 0
Player = -3,0

[State -1]
Type = Trans
Trigger1 = AnimElem = 8, >= 0
Trigger1 = AnimElem = 11, < 0
Trans = Add

[State -1]
Type = AngleDraw
Trigger1 = AnimElem = 8, >= 0
Trigger1 = AnimElem = 11, < 0
Scale = 0.5,0.5

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s1206, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1400, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 1405
Scale = 0.5,0.5
Anim = 1405
Ownpal = 1
SprPriority = 5
Persistent = 0
RemoveTime = 9
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 7
ID = 1406
PosType = Back
Pos = Ceil(127*Fvar(12)),Ceil(ScreenPos Y)
Scale = 0.5*Fvar(12),0.5
Anim = 1406
Ownpal = 1
SprPriority = 5
BindTime = -1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 11
ID = 1407
Scale = 0.5,0.5
Anim = 1407
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 7, = [0,4]
X = 39

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 11, = 0
X = 5.5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 11, = 1
X = 3.5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 11, = 2
X = 1.5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 11, = 3
X = 0

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 11, = 4
X = -1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 7
Attr = S, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(150-Var(4)%2)),Ceil(FVar(0)/FVar(3)*18)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 0,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -0.5,-4.1*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-0.5,-4),IfElse(Var(50)=1,-4.1,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1400
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*150), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*150)
GivePower = Floor(FVar(31)*150), Floor(0.50*FVar(31)*150)

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = !(Var(59)/10000)
Trigger1 = Command = "A溜め"
Trigger1 = Time = 28
Value = 1401
Ctrl = 0

[State -1]
Type = ChangeState
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&NumHelper(25000)&&Time=28
TriggerAll = Fvar(37):=0||1
Trigger1 = 0
Value = 1401
Ctrl = 0

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; H瞬雷追加
[Statedef 1401]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 1401
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s1200, 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PosAdd
Trigger1 = Time = [7,8]
X = 10.5

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = NumTarget(5700) > 0
Trigger1 = Target(5700),StateNo = 5760 || Target(5700),StateNo = 5761
V = 24
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = NumTarget(5700) > 0
Trigger1 = Target(5700),StateNo = 5760 || Target(5700),StateNo = 5761
V = 50
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 6
Attr = S, SA
AnimType  = Light
Damage    = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,IfElse(Var(50)=1,11+11*IfElse(Var(38)>0,1,0)+Var(41),11)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = 0,14
Guard.Velocity = -4
Air.Velocity = 0,14
Down.Velocity = 0,14
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
P2StateNo = 5760
ID = 5700
P2Facing = 1
Kill = 1
Guard.Kill = 0
Fall.Recover = 0
GetPower = Ceil(IfElse(Var(50)=2,0.45,1)*FVar(30)*60), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.50*FVar(31)*60)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; E瞬雷A
[Statedef 1410]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 1400
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = AnimElem = 7, >= 0
Trigger1 = AnimElem = 12, < 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = Time = 3
StateNo = 9500
ID = 9501
Ownpal = 0

[State -1]
Type = PosSet
TriggerAll = NumHelper(9501) > 0
TriggerAll = Time = [3,11]
Trigger1 = Facing = 1
Trigger1 = Pos X > Helper(9501),Pos X
Trigger2 = Facing = -1
Trigger2 = Pos X < Helper(9501),Pos X
X = Ceil(Helper(9501),Pos X)

[State -1]
Type = Width
Trigger1 = AnimTime < 0
Player = -3,0

[State -1]
Type = Trans
Trigger1 = AnimElem = 8, >= 0
Trigger1 = AnimElem = 11, < 0
Trans = Add

[State -1]
Type = AngleDraw
Trigger1 = AnimElem = 8, >= 0
Trigger1 = AnimElem = 11, < 0
Scale = 0.5,0.5

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s1206, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1400, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 1405
Scale = 0.5,0.5
Anim = 1405
Ownpal = 1
SprPriority = 5
Persistent = 0
RemoveTime = 9
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 7
ID = 1406
PosType = Back
Pos = Ceil(127*Fvar(12)),Ceil(ScreenPos Y)
Scale = 0.5*Fvar(12),0.5
Anim = 1406
Ownpal = 1
SprPriority = 5
BindTime = -1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 11
ID = 1407
Scale = 0.5,0.5
Anim = 1407
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 7, = [0,4]
X = 39

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 11, = 0
X = 5.5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 11, = 1
X = 3.5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 11, = 2
X = 1.5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 11, = 3
X = 0

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 11, = 4
X = -1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 7
Attr = S, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(150-Var(4)%2)),Ceil(FVar(0)/FVar(3)*18)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 0,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1400
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(39+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*150), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*150)
GivePower = Floor(FVar(31)*150), Floor(0.50*FVar(31)*150)

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(47) < 9
Trigger1 = MoveHit = 1
V = 47
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(48) < 9
Trigger1 = MoveHit = 1
V = 48
Value = 1
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = VarSet
Trigger1 = !(Var(59)/10000)
Trigger1 = AnimElem = 7, > 0
Trigger1 = AnimElem = 12, < 1
Trigger1 = Command = "236a"
V = 55
Value = 1

[State -1] 
Type = VarSet
Trigger1 = !(Var(59)/10000)
Trigger1 = AnimElem = 7, > 0
Trigger1 = AnimElem = 12, < 1
Trigger1 = Command = "236b"
V = 55
Value = 2

[State -1] 
Type = VarSet
Trigger1 = !(Var(59)/10000)
Trigger1 = AnimElem = 7, > 0
Trigger1 = AnimElem = 12, < 1
Trigger1 = Command = "236c"
V = 55
Value = 3

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&NumHelper(25000)&&AnimElem=7,>0&&AnimElem=12,<1
TriggerAll = !NumTarget(1400)&&Var(50)%2&&Var(56)/100%10=3&&Var(56)/1000%10<3;28-Time+(11-1)==38-Time
TriggerAll = Fvar(10):=(-1)**(PlayerID(Var(3)),Facing*(Pos X-PlayerID(Var(3)),Pos X)<0)*PlayerID(Var(3)),Vel X||1
TriggerAll=Fvar(37):=IfElse(PlayerID(Var(3)),Vel X>0,PlayerID(Var(3)),FrontEdgeBodyDist,PlayerID(Var(3)),BackEdgeBodyDist)||1
TriggerAll = Fvar(10):=IfElse(PlayerID(Var(3)),Vel X>0&&(27-Time)*PlayerID(Var(3)),Vel X>Fvar(37),Fvar(37),Fvar(10))||1
TriggerAll = Fvar(10):=IfElse(PlayerID(Var(3)),Vel X<0&&(Time-27)*PlayerID(Var(3)),Vel X>Fvar(37),Fvar(37),Fvar(10))||1
TriggerAll = Fvar(37):=IfElse(Fvar(10)=Fvar(37),-Fvar(10),(-1)**(Facing*(PlayerID(Var(3)),Pos X-Pos X)<0)*Fvar(10))||1
TriggerAll = Fvar(37):=Facing*(PlayerID(Var(3)),Pos X-Pos X)-Fvar(37)||1
TriggerAll = Fvar(10):=IfElse(PlayerID(Var(3)),Vel X>0&&Fvar(10)=PlayerID(Var(3)),FrontEdgeBodyDist,0,Fvar(10))||1
TriggerAll = Fvar(10):=IfElse(PlayerID(Var(3)),Vel X<0&&Fvar(10)=PlayerID(Var(3)),BackEdgeBodyDist,0,Fvar(10))||1
TriggerAll = Facing*(PlayerID(Var(3)),Pos X-Pos X)*Fvar(37)>0
Trigger1 = ((Fvar(37):=Floor(Fvar(37)/(31+Fvar(10))))=[1,5])&&Fvar(10):=28-Time+(11-1)+Fvar(37)
Trigger1 = PlayerID(Var(3)),Pos Y+Fvar(10)*(PlayerID(Var(3)),Vel Y+0.5*(Fvar(10)-1)*Fvar(7))+31*Fvar(37)=(-45,60)
Trigger1 = PlayerID(Var(3)),Pos Y+Fvar(10)*(PlayerID(Var(3)),Vel Y+0.5*(Fvar(10)-1)*Fvar(7))<0
V = 55
Value = 2

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&NumHelper(25000)&&AnimElem=7,>0&&AnimElem=12,<1
TriggerAll = !NumTarget(1400)&&Var(50)%2&&Var(56)/100%10=3&&Var(56)/1000%10<3
TriggerAll = Fvar(10):=(-1)**(PlayerID(Var(3)),Facing*(Pos X-PlayerID(Var(3)),Pos X)<0)*PlayerID(Var(3)),Vel X||1
TriggerAll=Fvar(37):=IfElse(PlayerID(Var(3)),Vel X>0,PlayerID(Var(3)),FrontEdgeBodyDist,PlayerID(Var(3)),BackEdgeBodyDist)||1
TriggerAll = Fvar(10):=IfElse(PlayerID(Var(3)),Vel X>0&&(36-Time)*PlayerID(Var(3)),Vel X>Fvar(37),Fvar(37),Fvar(10))||1
TriggerAll = Fvar(10):=IfElse(PlayerID(Var(3)),Vel X<0&&(Time-36)*PlayerID(Var(3)),Vel X>Fvar(37),Fvar(37),Fvar(10))||1
TriggerAll = Fvar(37):=IfElse(Fvar(10)=Fvar(37),-Fvar(10),(-1)**(Facing*(PlayerID(Var(3)),Pos X-Pos X)<0)*Fvar(10))||1
TriggerAll = Fvar(37):=Facing*(PlayerID(Var(3)),Pos X-Pos X)-Fvar(37)||1
TriggerAll = Fvar(37)=[-70,70]
Trigger1 = PlayerID(Var(3)),Pos Y+(38-Time)*(PlayerID(Var(3)),Vel Y+0.5*(37-Time)*Fvar(7))=(-100,0)
V = 55
Value = 3

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&NumHelper(25000)&&AnimElem=7,>0&&AnimElem=12,<1
TriggerAll = Fvar(37):=1.00*Floor(Floor(FVar(1)*100)*0.01*Floor(FVar(2)*100)*0.01*Floor((1.00-(0.08*FVar(4)))*100)*0.01*100)
TriggerAll = Fvar(37):=Floor(Fvar(37)*0.01*Floor(Fvar(5)*100)*0.01*Floor(Fvar(12)*100)*0.01*100)*0.01
TriggerAll = NumTarget(1400)&&Var(50)%2
TriggerAll = Target,StateNo/1000=5&&Target,GetHitVar(Fall.Recover);&&(Var(7)<13||Fvar(37)<0.21||Var(59)%100<25)
TriggerAll = Fvar(37):=IfElse(Helper(25000),Var(27)/10%10<2,PlayerID(Var(3)),GetHitVar(YVel),PlayerID(Var(3)),Vel Y)||1
TriggerAll = Fvar(37)**2-2*Fvar(7)*(PlayerID(Var(3)),Pos Y+0)>=0
TriggerAll = Fvar(37):=Ceil((-Fvar(37)+(Fvar(37)**2-2*Fvar(7)*(PlayerID(Var(3)),Pos Y+0))**0.5)/Fvar(7))||1
TriggerAll = Fvar(37):=Fvar(37)+PlayerID(Var(3)),GetHitVar(HitShakeTime)-(Helper(25000),Var(27)/10%10<2)||1
TriggerAll = Fvar(37):=Fvar(37)-(0)+(0)||1
TriggerAll = Fvar(37):=IfElse(PlayerID(Var(3)),GetHitVar(Fall.RecoverTime)-Var(56)%100>Ceil(Fvar(37)),Fvar(37),-999999)||1
TriggerAll = Fvar(37):=IfElse(Fvar(37)=-999999,PlayerID(Var(3)),GetHitVar(Fall.RecoverTime)-Var(56)%100,Fvar(37))||1
TriggerAll = Fvar(10):=PlayerID(Var(3)),Facing*PlayerID(Var(3)),GetHitVar(XVel)||1
TriggerAll = Fvar(10):=IfElse(Helper(25000),Var(27)/10%10<2,Fvar(10),PlayerID(Var(3)),Vel X)||1
TriggerAll = Fvar(37):=IfElse(Fvar(37)<0,0,Fvar(37))&&Fvar(10):=Fvar(37)*Fvar(10)||1
TriggerAll = Fvar(37):=IfElse(Fvar(10)>0,PlayerID(Var(3)),FrontEdgeBodyDist,PlayerID(Var(3)),BackEdgeBodyDist)||1
TriggerAll = Fvar(10):=IfElse(Fvar(37)<Abs(Fvar(10)),Fvar(37),Fvar(10))||1
TriggerAll = Fvar(37):=IfElse(Helper(25000),Var(27)/10%10<2,PlayerID(Var(3)),GetHitVar(YVel),PlayerID(Var(3)),Vel Y)||1
TriggerAll = Fvar(37)**2-2*Fvar(7)*(PlayerID(Var(3)),Pos Y+0)>=0
TriggerAll = Fvar(37):=Ceil((-Fvar(37)+(Fvar(37)**2-2*Fvar(7)*(PlayerID(Var(3)),Pos Y+0))**0.5)/Fvar(7))||1
TriggerAll = Fvar(37):=Fvar(37)+PlayerID(Var(3)),GetHitVar(HitShakeTime)-(Helper(25000),Var(27)/10%10<2)||1
TriggerAll = Fvar(37):=Fvar(37)-(0)+(0)||1
TriggerAll = Fvar(37):=IfElse(PlayerID(Var(3)),GetHitVar(Fall.RecoverTime)-Var(56)%100>Ceil(Fvar(37)),Fvar(37),-999999)||1
TriggerAll = Fvar(37):=IfElse(Fvar(37)=-999999,PlayerID(Var(3)),GetHitVar(Fall.RecoverTime)-Var(56)%100,Fvar(37))||1
Trigger1 = Fvar(37)>6-AnimTime
Trigger1 = Fvar(37):=IfElse(Helper(25000),Var(27)/10%10<2,PlayerID(Var(3)),GetHitVar(YVel),PlayerID(Var(3)),Vel Y)||1
Trigger1 = PlayerID(Var(3)),Pos Y+(6-AnimTime)*(Fvar(37)+0.5*(7-AnimTime)*Fvar(7))<-59
Trigger2 = Fvar(37)<=6-AnimTime
Trigger3 = Abs(PlayerID(Var(3)),Pos X-Pos X)>109
V = 55
Value = 2+(Abs(P2BodyDist X)<46)

[State -1] 
Type = ChangeState
Trigger1 = AnimElem = 12, = 1
Trigger1 = Var(55) > 0
Value = 1410+Var(55)
Ctrl = 0

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; E瞬雷二段目A
[Statedef 1411]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 1411
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = AnimElem = 6, >= 0
Trigger1 = AnimElem = 11, < 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = Time = 2
StateNo = 9500
ID = 9501
Ownpal = 0

[State -1]
Type = PosSet
TriggerAll = NumHelper(9501) > 0
TriggerAll = Time = [2,10]
Trigger1 = Facing = 1
Trigger1 = Pos X > Helper(9501),Pos X
Trigger2 = Facing = -1
Trigger2 = Pos X < Helper(9501),Pos X
X = Ceil(Helper(9501),Pos X)

[State -1]
Type = Width
Trigger1 = AnimTime < 0
Player = -3,0

[State -1]
Type = Trans
Trigger1 = AnimElem = 7, >= 0
Trigger1 = AnimElem = 10, < 0
Trans = Add

[State -1]
Type = AngleDraw
Trigger1 = AnimElem = 7, >= 0
Trigger1 = AnimElem = 10, < 0
Scale = 0.5,0.5

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s1206, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1400, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 2
ID = 1405
Scale = 0.5,0.5
Anim = 1405
Ownpal = 1
SprPriority = 5
Persistent = 0
RemoveTime = 9
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 6
ID = 1406
PosType = Back
Pos = Ceil(127*Fvar(12)),Ceil(ScreenPos Y)
Scale = 0.5*Fvar(12),0.5
Anim = 1406
Ownpal = 1
SprPriority = 5
BindTime = -1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 10
ID = 1407
Scale = 0.5,0.5
Anim = 1407
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 6, = [0,4]
X = 39

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 10, = 0
X = 5.5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 10, = 1
X = 3.5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 10, = 2
X = 1.5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 10, = 3
X = 0

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 10, = 4
X = -1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 6
Attr = S, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(150-Var(4)%2)),Ceil(FVar(0)/FVar(3)*18)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 0,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1400
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(39+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*150), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*150)
GivePower = Floor(FVar(31)*150), Floor(0.50*FVar(31)*150)

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(47) < 9
Trigger1 = MoveHit = 1
V = 47
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(48) < 9
Trigger1 = MoveHit = 1
V = 48
Value = 1
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; E瞬雷二段目B
[Statedef 1412]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 1412
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = AnimElem = 6, >= 0
Trigger1 = AnimElem = 11, < 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = Time = 2
StateNo = 9500
ID = 9501
Ownpal = 0

[State -1]
Type = PosSet
TriggerAll = NumHelper(9501) > 0
TriggerAll = Time = [2,10]
Trigger1 = Facing = 1
Trigger1 = Pos X > Helper(9501),Pos X
Trigger2 = Facing = -1
Trigger2 = Pos X < Helper(9501),Pos X
X = Ceil(Helper(9501),Pos X)

[State -1]
Type = Width
Trigger1 = AnimElem = 11, < 0
Player = -3,0

[State -1]
Type = Trans
Trigger1 = AnimElem = 7, >= 0
Trigger1 = AnimElem = 10, < 0
Trans = Add

[State -1]
Type = AngleDraw
Trigger1 = AnimElem = 7, >= 0
Trigger1 = AnimElem = 10, < 0
Scale = 0.5,0.5

[State -1]
Type = AngleSet
Trigger1 = AnimElem = 7, >= 0
Trigger1 = AnimElem = 9, < 0
Value = 45

[State -1]
Type = AngleSet
Trigger1 = AnimElem = 9
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s1206, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1400, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 2
ID = 1405
Scale = 0.5,0.5
Anim = 1405
Ownpal = 1
SprPriority = 5
Persistent = 0
RemoveTime = 9
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 6
ID = 1416
PosType = P1
Pos = 95,-97
StateNo = 1416
Ownpal = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 10
ID = 1407
PosType = P1
Pos = 5,-25
Scale = 0.5,0.5
Anim = 1407
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 6
StateType = A

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 12
Physics = A

[State -1]
Type = Turn
Trigger1 = P2Dist X < 0
Trigger1 = AnimElem = 9

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 6, = [0,4]
X = 31
Y = -31

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = AnimElem = 6, > 0
Trigger1 = MoveHit = 1
V = 55
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 6
Attr = A, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(150-Var(4)%2)),Ceil(FVar(0)/FVar(3)*18)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 0,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1400
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(39+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*150), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*150)
GivePower = Floor(FVar(31)*150), Floor(0.50*FVar(31)*150)

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(47) < 9
Trigger1 = MoveHit = 1
V = 47
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(48) < 9
Trigger1 = MoveHit = 1
V = 48
Value = 1
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; E瞬雷二段目C
[Statedef 1413]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 1413
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = AnimElem = 6, >= 0
Trigger1 = AnimElem = 11, < 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = Time = 2
StateNo = 9500
ID = 9501
Ownpal = 0

[State -1]
Type = PosSet
TriggerAll = NumHelper(9501) > 0
TriggerAll = Time = [2,10]
Trigger1 = Facing = 1
Trigger1 = Pos X > Helper(9501),Pos X
Trigger2 = Facing = -1
Trigger2 = Pos X < Helper(9501),Pos X
X = Ceil(Helper(9501),Pos X)

[State -1]
Type = Width
Trigger1 = AnimElem = 11, < 0
Player = -3,0

[State -1]
Type = Trans
Trigger1 = AnimElem = 7, >= 0
Trigger1 = AnimElem = 10, < 0
Trans = Add

[State -1]
Type = AngleDraw
Trigger1 = AnimElem = 7, >= 0
Trigger1 = AnimElem = 10, < 0
Scale = 0.5,0.5

[State -1]
Type = AngleSet
Trigger1 = AnimElem = 7, >= 0
Trigger1 = AnimElem = 9, < 0
Value = 90

[State -1]
Type = AngleSet
Trigger1 = AnimElem = 9
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s1206, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1400, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 2
ID = 1405
Scale = 0.5,0.5
Anim = 1405
Ownpal = 1
SprPriority = 5
Persistent = 0
RemoveTime = 9
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 6
ID = 1426
PosType = P1
Pos = 20,-117
StateNo = 1416
Ownpal = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 10
ID = 1407
PosType = P1
Pos = 5,-25
Scale = 0.5,0.5
Anim = 1407
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 6
StateType = A

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 12
Physics = A

[State -1]
Type = Turn
Trigger1 = P2Dist X < 0
Trigger1 = AnimElem = 9

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 6, = [0,4]
Y = -39

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = AnimElem = 6, > 0
Trigger1 = MoveHit = 1
V = 55
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 6
Attr = A, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(150-Var(4)%2)),Ceil(FVar(0)/FVar(3)*18)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 0,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1400
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(39+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*150), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*150)
GivePower = Floor(FVar(31)*150), Floor(0.50*FVar(31)*150)

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(47) < 9
Trigger1 = MoveHit = 1
V = 47
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(48) < 9
Trigger1 = MoveHit = 1
V = 48
Value = 1
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; H瞬雷B
[Statedef 1450]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 1450
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Time = 19
V = 55
Value = 0

[State -1]
Type = VarSet
TriggerAll = !(Var(59)/10000)
Trigger1 = Anim = 1450
Trigger1 = Command != "B溜め"
Trigger1 = Time = [0,18]
V = 55
Value = 1

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&NumHelper(25000)&&Anim=1450&&Time<19
TriggerAll = Fvar(37):=0||1
Trigger1 = Fvar(10)=-999999
Trigger2 = Fvar(10)=-900000&&Random%4
V = 55
Value = 1

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 1450
Trigger1 = Var(55) = 1
Trigger1 = Time = [9,18]
Value = 1451

[State -1]
Type = ChangeState
Trigger1 = Var(55) = 0
Trigger1 = Time = 18
Value = 1451

[State -1]
Type = Width
Trigger1 = AnimTime < 0
Player = -3,0

[State -1]
Type = Helper
Trigger1 = Time = 6
StateNo = 9500
ID = 9501
Ownpal = 0

[State -1]
Type = PosSet
TriggerAll = NumHelper(9501) > 0
TriggerAll = Anim = 1450 || Anim = 1451 && AnimElem = 11, < 0
Trigger1 = Facing = 1
Trigger1 = Pos X > Helper(9501),Pos X
Trigger2 = Facing = -1
Trigger2 = Pos X < Helper(9501),Pos X
X = Ceil(Helper(9501),Pos X)

[State -1]
Type = NotHitBy
Trigger1 = Anim = 1451
Trigger1 = AnimElem = 11, >= 0
Trigger1 = AnimElem = 16, < 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Trans
Trigger1 = Anim = 1451
Trigger1 = AnimElem = 12, >= 0
Trigger1 = AnimElem = 15, < 0
Trans = Add

[State -1]
Type = AngleDraw
Trigger1 = Anim = 1451
Trigger1 = AnimElem = 12, >= 0
Trigger1 = AnimElem = 15, < 0
Scale = 0.5,0.5

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1451
Trigger1 = AnimElem = 11
Value = s1206, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1451
Trigger1 = AnimElem = 1
Value = s1400, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Anim = 1450
Trigger1 = AnimElem = 3
ID = 1405
Scale = 0.5,0.5
Anim = 1405
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = Anim = 1451
Trigger1 = AnimElem = 11
ID = 1406
PosType = Back
Pos = Ceil(127*Fvar(12)),Ceil(ScreenPos Y)
Scale = 0.5*Fvar(12),0.5
Anim = 1406
Ownpal = 1
SprPriority = 5
BindTime = -1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Anim = 1451
Trigger1 = AnimElem = 15
ID = 1407
Scale = 0.5,0.5
Anim = 1407
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 11, = [0,4]
X = 39

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 15, = 0
X = 5.5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 15, = 1
X = 3.5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 15, = 2
X = 1.5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 15, = 3
X = 0

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 15, = 4
X = -1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 11
Attr = S, SA
AnimType  = Medium
Damage    = Ceil(FVar(0)*(150-Var(4)%2)),Ceil(FVar(0)/FVar(3)*18)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 0,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Trip
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -0.5,-4.1*FVar(36)
Guard.Velocity = -6
Air.Velocity = IfElse(Var(50)=1,-0.5,-4),IfElse(Var(50)=1,-4.1,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1400
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*150), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*150)
GivePower = Floor(FVar(31)*150), Floor(0.50*FVar(31)*150)

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = StateTypeSet
Trigger1 = AnimElem = 17
MoveType = I

[State -1] 
Type = CtrlSet
Trigger1 = AnimElem = 17
Value = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;瞬雷Bキャンセル
[Statedef 1451]
Type      = S
Movetype  = I
Physics   = S
Ctrl      = 0
SprPriority = 2

[State -1]
Type = PosSet
TriggerAll = NumHelper(9501) > 0
TriggerAll = AnimElem = 9, < 0
Trigger1 = Facing = 1
Trigger1 = Pos X > Helper(9501),Pos X
Trigger2 = Facing = -1
Trigger2 = Pos X < Helper(9501),Pos X
X = Ceil(Helper(9501),Pos X)

[State -1]
Type = Width
Trigger1 = AnimTime < 0
Player = -3,0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s1005, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; E瞬雷B
[Statedef 1460]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 1450
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Time = 19
V = 55
Value = 0

[State -1]
Type = VarSet
TriggerAll = !(Var(59)/10000)
Trigger1 = Anim = 1450
Trigger1 = Command != "B溜め"
Trigger1 = Time = [0,18]
V = 55
Value = 1

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&NumHelper(25000)&&Anim=1450&&Time<19
TriggerAll = Fvar(37):=0||1
Trigger1 = Fvar(10)=-999999
Trigger2 = Fvar(10)=-900000&&Random%4
V = 55
Value = 1

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 1450
Trigger1 = Var(55) = 1
Trigger1 = Time = [9,18]
Value = 1451

[State -1]
Type = ChangeState
Trigger1 = Var(55) = 0
Trigger1 = Time = 18
Value = 1451

[State -1]
Type = Width
Trigger1 = AnimTime < 0
Player = -3,0

[State -1]
Type = Helper
Trigger1 = Time = 6
StateNo = 9500
ID = 9501
Ownpal = 0

[State -1]
Type = PosSet
TriggerAll = NumHelper(9501) > 0
TriggerAll = Anim = 1450 || Anim = 1451 && AnimElem = 11, < 0
Trigger1 = Facing = 1
Trigger1 = Pos X > Helper(9501),Pos X
Trigger2 = Facing = -1
Trigger2 = Pos X < Helper(9501),Pos X
X = Ceil(Helper(9501),Pos X)

[State -1]
Type = NotHitBy
Trigger1 = Anim = 1451
Trigger1 = AnimElem = 11, >= 0
Trigger1 = AnimElem = 16, < 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Trans
Trigger1 = Anim = 1451
Trigger1 = AnimElem = 12, >= 0
Trigger1 = AnimElem = 15, < 0
Trans = Add

[State -1]
Type = AngleDraw
Trigger1 = Anim = 1451
Trigger1 = AnimElem = 12, >= 0
Trigger1 = AnimElem = 15, < 0
Scale = 0.5,0.5

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1451
Trigger1 = AnimElem = 11
Value = s1206, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1451
Trigger1 = AnimElem = 1
Value = s1400, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Anim = 1450
Trigger1 = AnimElem = 3
ID = 1405
Scale = 0.5,0.5
Anim = 1405
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = Anim = 1451
Trigger1 = AnimElem = 11
ID = 1406
PosType = Back
Pos = Ceil(127*Fvar(12)),Ceil(ScreenPos Y)
Scale = 0.5*Fvar(12),0.5
Anim = 1406
Ownpal = 1
SprPriority = 5
BindTime = -1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Anim = 1451
Trigger1 = AnimElem = 15
ID = 1407
Scale = 0.5,0.5
Anim = 1407
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 11, = [0,4]
X = 39

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 15, = 0
X = 5.5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 15, = 1
X = 3.5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 15, = 2
X = 1.5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 15, = 3
X = 0

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 15, = 4
X = -1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 11
Attr = S, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(150-Var(4)%2)),Ceil(FVar(0)/FVar(3)*18)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 0,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,0,-4),IfElse(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1400
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(39+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*150), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*150)
GivePower = Floor(FVar(31)*150), Floor(0.50*FVar(31)*150)

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(47) < 9
Trigger1 = MoveHit = 1
V = 47
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Var(57)/100%10 = 4
Trigger1 = Var(48) < 9
Trigger1 = MoveHit = 1
V = 48
Value = 1
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = VarSet
Trigger1 = !(Var(59)/10000)
Trigger1 = AnimElem = 11, > 0
Trigger1 = AnimElem = 16, < 1
Trigger1 = Command = "236a"
V = 55
Value = 1

[State -1] 
Type = VarSet
Trigger1 = !(Var(59)/10000)
Trigger1 = AnimElem = 11, > 0
Trigger1 = AnimElem = 16, < 1
Trigger1 = Command = "236b"
V = 55
Value = 2

[State -1] 
Type = VarSet
Trigger1 = !(Var(59)/10000)
Trigger1 = AnimElem = 11, > 0
Trigger1 = AnimElem = 16, < 1
Trigger1 = Command = "236c"
V = 55
Value = 3

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&NumHelper(25000)&&AnimElem=11,>0&&AnimElem=16,<1
TriggerAll = !NumTarget(1400)&&Var(50)%2&&Var(56)/100%10=3&&Var(56)/1000%10<3;28-Time+(11-1)==38-Time
TriggerAll = Fvar(10):=(-1)**(PlayerID(Var(3)),Facing*(Pos X-PlayerID(Var(3)),Pos X)<0)*PlayerID(Var(3)),Vel X||1
TriggerAll=Fvar(37):=IfElse(PlayerID(Var(3)),Vel X>0,PlayerID(Var(3)),FrontEdgeBodyDist,PlayerID(Var(3)),BackEdgeBodyDist)||1
TriggerAll = Fvar(10):=IfElse(PlayerID(Var(3)),Vel X>0&&(41-Time)*PlayerID(Var(3)),Vel X>Fvar(37),Fvar(37),Fvar(10))||1
TriggerAll = Fvar(10):=IfElse(PlayerID(Var(3)),Vel X<0&&(Time-41)*PlayerID(Var(3)),Vel X>Fvar(37),Fvar(37),Fvar(10))||1
TriggerAll = Fvar(37):=IfElse(Fvar(10)=Fvar(37),-Fvar(10),(-1)**(Facing*(PlayerID(Var(3)),Pos X-Pos X)<0)*Fvar(10))||1
TriggerAll = Fvar(37):=Facing*(PlayerID(Var(3)),Pos X-Pos X)-Fvar(37)||1
TriggerAll = Fvar(10):=IfElse(PlayerID(Var(3)),Vel X>0&&Fvar(10)=PlayerID(Var(3)),FrontEdgeBodyDist,0,Fvar(10))||1
TriggerAll = Fvar(10):=IfElse(PlayerID(Var(3)),Vel X<0&&Fvar(10)=PlayerID(Var(3)),BackEdgeBodyDist,0,Fvar(10))||1
TriggerAll = Facing*(PlayerID(Var(3)),Pos X-Pos X)*Fvar(37)>0
Trigger1 = ((Fvar(37):=Floor(Fvar(37)/(31+Fvar(10))))=[1,5])&&Fvar(10):=42-Time+(11-1)+Fvar(37)
Trigger1 = PlayerID(Var(3)),Pos Y+Fvar(10)*(PlayerID(Var(3)),Vel Y+0.5*(Fvar(10)-1)*Fvar(7))+31*Fvar(37)=(-45,60)
Trigger1 = PlayerID(Var(3)),Pos Y+Fvar(10)*(PlayerID(Var(3)),Vel Y+0.5*(Fvar(10)-1)*Fvar(7))<0
V = 55
Value = 2

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&NumHelper(25000)&&AnimElem=11,>0&&AnimElem=16,<1
TriggerAll = !NumTarget(1400)&&Var(50)%2&&Var(56)/100%10=3&&Var(56)/1000%10<3
TriggerAll = Fvar(10):=(-1)**(PlayerID(Var(3)),Facing*(Pos X-PlayerID(Var(3)),Pos X)<0)*PlayerID(Var(3)),Vel X||1
TriggerAll=Fvar(37):=IfElse(PlayerID(Var(3)),Vel X>0,PlayerID(Var(3)),FrontEdgeBodyDist,PlayerID(Var(3)),BackEdgeBodyDist)||1
TriggerAll = Fvar(10):=IfElse(PlayerID(Var(3)),Vel X>0&&(50-Time)*PlayerID(Var(3)),Vel X>Fvar(37),Fvar(37),Fvar(10))||1
TriggerAll = Fvar(10):=IfElse(PlayerID(Var(3)),Vel X<0&&(Time-50)*PlayerID(Var(3)),Vel X>Fvar(37),Fvar(37),Fvar(10))||1
TriggerAll = Fvar(37):=IfElse(Fvar(10)=Fvar(37),-Fvar(10),(-1)**(Facing*(PlayerID(Var(3)),Pos X-Pos X)<0)*Fvar(10))||1
TriggerAll = Fvar(37):=Facing*(PlayerID(Var(3)),Pos X-Pos X)-Fvar(37)||1
TriggerAll = Fvar(37)=[-70,70]
Trigger1 = PlayerID(Var(3)),Pos Y+(52-Time)*(PlayerID(Var(3)),Vel Y+0.5*(51-Time)*Fvar(7))=(-100,0)
V = 55
Value = 3

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&NumHelper(25000)&&AnimElem=11,>0&&AnimElem=16,<1
TriggerAll = Fvar(37):=1.00*Floor(Floor(FVar(1)*100)*0.01*Floor(FVar(2)*100)*0.01*Floor((1.00-(0.08*FVar(4)))*100)*0.01*100)
TriggerAll = Fvar(37):=Floor(Fvar(37)*0.01*Floor(Fvar(5)*100)*0.01*Floor(Fvar(12)*100)*0.01*100)*0.01
TriggerAll = NumTarget(1400)&&Var(50)%2
TriggerAll = Target,StateNo/1000=5&&Target,GetHitVar(Fall.Recover);&&(Var(7)<13||Fvar(37)<0.21||Var(59)%100<25)
TriggerAll = Fvar(37):=IfElse(Helper(25000),Var(27)/10%10<2,PlayerID(Var(3)),GetHitVar(YVel),PlayerID(Var(3)),Vel Y)||1
TriggerAll = Fvar(37)**2-2*Fvar(7)*(PlayerID(Var(3)),Pos Y+0)>=0
TriggerAll = Fvar(37):=Ceil((-Fvar(37)+(Fvar(37)**2-2*Fvar(7)*(PlayerID(Var(3)),Pos Y+0))**0.5)/Fvar(7))||1
TriggerAll = Fvar(37):=Fvar(37)+PlayerID(Var(3)),GetHitVar(HitShakeTime)-(Helper(25000),Var(27)/10%10<2)||1
TriggerAll = Fvar(37):=Fvar(37)-(0)+(0)||1
TriggerAll = Fvar(37):=IfElse(PlayerID(Var(3)),GetHitVar(Fall.RecoverTime)-Var(56)%100>Ceil(Fvar(37)),Fvar(37),-999999)||1
TriggerAll = Fvar(37):=IfElse(Fvar(37)=-999999,PlayerID(Var(3)),GetHitVar(Fall.RecoverTime)-Var(56)%100,Fvar(37))||1
TriggerAll = Fvar(10):=PlayerID(Var(3)),Facing*PlayerID(Var(3)),GetHitVar(XVel)||1
TriggerAll = Fvar(10):=IfElse(Helper(25000),Var(27)/10%10<2,Fvar(10),PlayerID(Var(3)),Vel X)||1
TriggerAll = Fvar(37):=IfElse(Fvar(37)<0,0,Fvar(37))&&Fvar(10):=Fvar(37)*Fvar(10)||1
TriggerAll = Fvar(37):=IfElse(Fvar(10)>0,PlayerID(Var(3)),FrontEdgeBodyDist,PlayerID(Var(3)),BackEdgeBodyDist)||1
TriggerAll = Fvar(10):=IfElse(Fvar(37)<Abs(Fvar(10)),Fvar(37),Fvar(10))||1
TriggerAll = Fvar(37):=IfElse(Helper(25000),Var(27)/10%10<2,PlayerID(Var(3)),GetHitVar(YVel),PlayerID(Var(3)),Vel Y)||1
TriggerAll = Fvar(37)**2-2*Fvar(7)*(PlayerID(Var(3)),Pos Y+0)>=0
TriggerAll = Fvar(37):=Ceil((-Fvar(37)+(Fvar(37)**2-2*Fvar(7)*(PlayerID(Var(3)),Pos Y+0))**0.5)/Fvar(7))||1
TriggerAll = Fvar(37):=Fvar(37)+PlayerID(Var(3)),GetHitVar(HitShakeTime)-(Helper(25000),Var(27)/10%10<2)||1
TriggerAll = Fvar(37):=Fvar(37)-(0)+(0)||1
TriggerAll = Fvar(37):=IfElse(PlayerID(Var(3)),GetHitVar(Fall.RecoverTime)-Var(56)%100>Ceil(Fvar(37)),Fvar(37),-999999)||1
TriggerAll = Fvar(37):=IfElse(Fvar(37)=-999999,PlayerID(Var(3)),GetHitVar(Fall.RecoverTime)-Var(56)%100,Fvar(37))||1
Trigger1 = Fvar(37)>6-AnimTime
Trigger1 = Fvar(37):=IfElse(Helper(25000),Var(27)/10%10<2,PlayerID(Var(3)),GetHitVar(YVel),PlayerID(Var(3)),Vel Y)||1
Trigger1 = PlayerID(Var(3)),Pos Y+(6-AnimTime)*(Fvar(37)+0.5*(7-AnimTime)*Fvar(7))<-59
Trigger2 = Fvar(37)<=6-AnimTime
Trigger3 = Abs(PlayerID(Var(3)),Pos X-Pos X)>109
V = 55
Value = 2+(Abs(P2BodyDist X)<46)

[State -1] 
Type = ChangeState
Trigger1 = AnimElem = 16, = 1
Trigger1 = Var(55) > 0
Value = 1410+Var(55)
Ctrl = 0

[State -1] 
Type = StateTypeSet
Trigger1 = AnimElem = 17
MoveType = I

[State -1] 
Type = CtrlSet
Trigger1 = AnimElem = 17
Value = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 赫訳・鬼尾A
[Statedef 1500]
Type    = A
MoveType= A
Physics = N
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1500
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1500, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1005, 0
Channel = 5

[State -1]
Type = VelAdd
Trigger1 = AnimElem = 6, >= 0
Trigger1 = AnimElem = 8, < 0
Y = 0.06

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 8
Physics = A

[State -1]
Type = Helper
Trigger1 = AnimElem = 4
StateNo = 1505
ID = 1505
Ownpal = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 6
Attr = A, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(80-Var(4)%2)),Ceil(FVar(0)/FVar(3)*10)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 7,7+7*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 7,7
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -1,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 7
EnvShake.Ampl = 3
EnvShake.Freq = 90
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
YAccel = .6
ID = 1500
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*80), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*80)
GivePower = Floor(FVar(31)*80), Floor(0.50*FVar(31)*80)

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
V = 55
Value = 1
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimElem = 8, < 0
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = 52
Ctrl = 0

;---------------------------------------------------------------------------
; 赫訳・鬼尾B
[Statedef 1550]
Type    = A
MoveType= A
Physics = N
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1550
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1500, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1005, 0
Channel = 5

[State -1]
Type = VelAdd
Trigger1 = AnimElem = 6, >= 0
Trigger1 = AnimElem = 12, < 0
Y = 0.033

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 12
Physics = A

[State -1]
Type = Helper
Trigger1 = AnimElem = 4
StateNo = 1505
ID = 1505
Ownpal = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 6
Trigger2 = AnimElem = 8
Trigger3 = AnimElem = 10
Attr = A, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(70-Var(4)%2)),Ceil(FVar(0)/FVar(3)*8)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 4,4+4*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 4,4
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -1,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 4
EnvShake.Ampl = 3
EnvShake.Freq = 90
Palfx.Time = 120
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
YAccel = .6
ID = IfElse(AnimElem=10,>=0,1551,1550)
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(27+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*70), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*70)
GivePower = Floor(FVar(31)*70), Floor(0.50*FVar(31)*70)

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = NumTarget(1551) > 0
Trigger1 = MoveContact = 1
V = 55
Value = 1
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimElem = 12, < 0
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = 52
Ctrl = 0

;---------------------------------------------------------------------------
;雷針・砌A
[Statedef 1600]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 1600
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 5, >= 0
Trigger1 = AnimElem = 10, < 0
Value = 8,0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1600, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 5, = 1
ID = 1605
PosType = P1
Pos = -44,-122
StateNo = 1605
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 5, = 1
ID = 1606
PosType = P1
Pos = 122,-3
StateNo = 1606
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;雷針・砌B
[Statedef 1650]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 1600
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 5, >= 0
Trigger1 = AnimElem = 10, < 0
Value = 8,0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1600, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 5, = 1
ID = 1605
PosType = P1
Pos = 21,-122
StateNo = 1605
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 5, = 1
ID = 1606
PosType = P1
Pos = 187,-3
StateNo = 1606
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 送り火拿A
[Statedef 1700]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 1700
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s110, 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1700, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 4
Anim = 10102
ID = 10102
Postype = P1
Pos = -7,10
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 4
Anim = 10100
ID = 10100
Postype = P1
Pos = -7,10
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 4
Anim = 10101
ID = 10101
Postype = P1
Pos = -7,10
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 6
ID = 1705
PosType = P1
Pos = 9,-25
Anim = 1705
Scale = 0.4,0.4
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = PosAdd
Trigger1 = Time = [8,9]
X = 8.4

[State -1]
Type = PosAdd
Trigger1 = Time = [10,11]
X = 6.2

[State -1]
Type = PosAdd
Trigger1 = Time = [12,13]
X = 5

[State -1]
Type = PosAdd
Trigger1 = Time = [14,15]
X = 4

[State -1]
Type = PosAdd
Trigger1 = Time = [16,17]
X = 3

[State -1]
Type = PosAdd
Trigger1 = Time = [18,19]
X = 2

[State -1]
Type = PosAdd
Trigger1 = Time = 20
X = 1.4

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.70
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 7
Attr = S, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(0)/FVar(3)*12)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 11,11+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 11,11
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9.5
Air.Velocity = IfElse(Var(50)=1,-1,-4),IfElse(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1700
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 送り火拿B
[Statedef 1750]
Type    = S
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 1750
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Time = 12
V = 55
Value = 0

[State -1]
Type = VarSet
TriggerAll = !(Var(59)/10000)
Trigger1 = Anim = 1750
Trigger1 = Command != "B溜め"
Trigger1 = Time = [8,11]
V = 55
Value = 1

[State -1]
Type = VarSet
TriggerAll = (Var(59)/10000>0||0)&&PlayerIDExist(Var(3))&&NumHelper(25000)&&Anim=1750&&Time<12
TriggerAll = Fvar(37):=0||1
Trigger1 = Fvar(10)=-999999
Trigger2 = Var(56)/100%10<4
Trigger2 = !Time&&(P2BodyDist X>24||Var(59)%100<60)||!Var(58)
V = 55
Value = 1

[State -1]
Type = ChangeState
Trigger1 = Anim = 1750
Trigger1 = Var(55) = 0
Trigger1 = Time = [8,11]
Value = 1751

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 4
MoveType = A

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s110, 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
Anim = 10102
ID = 10102
Postype = P1
Pos = -7,10
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
Anim = 10100
ID = 10100
Postype = P1
Pos = -7,10
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
Anim = 10101
ID = 10101
Postype = P1
Pos = -7,10
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s30, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1750, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 7
ID = 1755
PosType = P1
Pos = 9,-25
Anim = 1705
Scale = 0.4,0.4
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 3, = [0,3]
X = 8.4

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 3, = [4,5]
X = 6.2

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 3, = [6,7]
X = 4.5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 5, = [0,1]
X = 8.4

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 6, = [0,1]
X = 6.2

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 7, = [0,1]
X = 5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 8, = [0,1]
X = 4

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 8, = 2
Trigger2 = AnimElem = 9
X = 3

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 9, = [1,2]
X = 2

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 9, = 3
X = 1.4

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.70
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 8
Attr = S, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(0)/FVar(3)*12)
HitFlag = MAFD
GuardFlag = M
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9
Air.Velocity = -1.5*Var(50),IfElse(Var(50)=1,-8.2*FVar(36),-2)
Down.Velocity = -3,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1700
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(33+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 送り火拿Bフェイント
[Statedef 1751]
Type    = S
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 1751
SprPriority = 2

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 1, = [0,5]
X = 5

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 2, = [0,1]
X = 3.8

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 2, = [2,3]
X = 2.6

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 3, = [0,1]
X = 1.8

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 3, = [2,5]
X = 1

[State -1]
Type = PlayerPush
Trigger1 = AnimElem = 4, < 0
Value = 0

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;秘雷針A
[Statedef 1800]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 1800
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 5, >= 0
Trigger1 = AnimElem = 9, < 0
Value = 8,0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1800, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 5, = 1
ID = 1805
PosType = P1
Pos = 98,0
StateNo = 1805
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;秘雷針B
[Statedef 1850]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 1850
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 5, >= 0
Trigger1 = AnimElem = 9, < 0
Value = 8,0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1800, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 5, = 1
ID = 1855
PosType = P1
Pos = 162,0
StateNo = 1805
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;数秘紋・鳴爬身
[Statedef 1900]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = IfElse(Var(57)/100%10=4,1901,1900)
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Width
Trigger1 = AnimElem = 5, >= 0
Trigger1 = AnimElem = 9, < 0
Value = 8,0

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,15]
Trigger1 = Var(57)/100%10 = 4
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s1205, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 5, = 1
ID = 1905
PosType = Left
Pos = 0,0
StateNo = 1905
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 5, = 1
ID = 1906
PosType = Right
Pos = 0,0
StateNo = 1905
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;地走り
[Statedef 1910]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 1910
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s1005, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 6
ID = 1915
PosType = P1
Pos = -60,-40
Scale = 0.5,0.5
VFacing = -1
Anim = 245
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 12
ID = 1915
PosType = P1
Pos = -60,0
StateNo = 1915
Ownpal = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 12
ID = 1916
PosType = P1
Pos = -60,0
StateNo = 1915
Ownpal = 1
Persistent = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 赫訳・鬼穿
[Statedef 1920]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 1920
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Anim = 1921
V = 55
Value = 0

[State -1] 
Type = VarAdd
Trigger1 = !(Var(59)/10000)
Trigger1 = Anim = 1920
Trigger1 = Time > 10
Trigger1 = Command = "a" || Command = "b" || Command = "c"
V = 55
Value = 1
Persistent = 1

[State -1] 
Type = VarAdd
TriggerAll = (Var(59)/10000>0||0)&&Anim=1920&&Time>10
Trigger1 = Var(50)%2<1&&P2BodyDist X<40
Trigger1 = PlayerID(Var(3)),StateNo/10-511&&PlayerID(Var(3)),StateNo/10-512
V = 55
Value = 1
Persistent = 1

[State -1] 
Type = ChangeAnim
Trigger1 = Var(55) < 0
Trigger1 = Anim = 1920
Trigger1 = Time > 22
Value = 1921
Persistent = 12

[State -1] 
Type = VarAdd
Trigger1 = Anim = 1920
Trigger1 = Time > 10
V = 55
Value = -1
Persistent = 8

[State -1] 
Type = VarSet
Trigger1 = Var(55) > 1
Trigger1 = Time > 10
V = 55
Value = 1

[State -1]
Type = NotHitBy
Trigger1 = Anim = 1920
Trigger1 = Time > 10
Value = , NP, SP, HP
Time = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1920
Trigger1 = Time > 10
Value = s1005, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 12

[State -1]
Type = Helper
Trigger1 = Anim = 1920
Trigger1 = NumHelper(1926) = 0
Trigger1 = Time > 10
ID = 1926
StateNo = 1926
Ownpal = 0

[State -1]
Type = Helper
Trigger1 = Anim = 1920
Trigger1 = NumHelper(1927) = 0
Trigger1 = Time > 10
ID = 1927
StateNo = 1927
Ownpal = 0

[State -1]
Type = PowerAdd
Trigger1 = Anim = 1920
Trigger1 = Time > 10
Value = Ceil(3*IfElse(Var(57)%10=2,1.429,IfElse(Var(57)%10=3,1.112,1.0000)))
Persistent = 1

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 100
Trigger1 = Anim = 1920
Trigger1 = Time > 10
V = 36
Value = 1
IgnoreHitPause = 1

[State -1] 
Type = StateTypeSet
Trigger1 = Anim = 1921
MoveType = I

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s850, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 4
ID = 1925
Scale = 0.5,0.5
Anim = 1925
Ownpal = 1
SprPriority = 5
Persistent = 0
BindTime = -1
RemoveTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = Anim = 1920
Trigger1 = Time > 10
ID = 805
PosType = P1
Pos = 10,-40
Random = 50,50
Scale = 0.5,0.5
Facing = IfElse(Random%2=0,1,-1)
Anim = 245
Ownpal = 1
SprPriority = 5
Persistent = 12
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = Anim = 1920
Trigger1 = Time > 16
ID = 1408
PosType = P1
Pos = 10,-10
Random = 50,50
Scale = 0.5,0.5
Facing = IfElse(Random%2=0,1,-1)
Anim = 1408
Ownpal = 1
SprPriority = 5
Persistent = 12
BindTime = -1
RemoveOnGetHit = 1

[State -1]
Type = Width
Trigger1 = Anim = 1920
Player = -5,0

[State -1]
Type = RemoveExplod
Trigger1 = Anim = 1921
ID = 1925

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = Var(50) = 2
Trigger1 = MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = NumTarget(1920) > 0
Trigger1 = Target(1920),StateNo = 5020 || Target(1920),StateNo = 5080
V = 24
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Var(50) = 2
Trigger1 = NumTarget(1920) > 0
Trigger1 = Target(1920),StateNo = 5020 || Target(1920),StateNo = 5080
V = 50
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Time%5 = 1 || Time%5 = 4
Trigger1 = Time > 10
Attr = S, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(20-Var(4)%2)),Ceil(FVar(0)/FVar(3)*2)
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 4,IfElse(Var(50)=1,4+4*IfElse(Var(38)>0,1,0)+Var(41),4)
Guard.PauseTime = 4,4
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 15
Ground.HitTime  = 15
AirGuard.CtrlTime = 8
Ground.Velocity = 0,-7.2
Guard.Velocity = -5
Air.Velocity = 0,-7.2
AirGuard.Velocity = -4,-1
Down.Velocity = 0,-7.2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 4
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1920
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(IfElse(Var(50)=1,23+Var(41),23))
GetPower = Ceil(IfElse(Var(50)=2,0.45,1)*FVar(30)*20), Ceil(IfElse(Var(43)>0,0.88,0.85)*FVar(30)*20)
GivePower = Floor(FVar(31)*20), Floor(0.50*FVar(31)*20)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = Anim = 1921
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1
