[Data]
life = 1000
attack = 100
defence = 100
power = 5000
fall.defence_up = 50
liedown.time = 60
airjuggle = 9
sparkno = -1
guard.sparkno = -1
KO.echo = 0
volume = 0
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1           
yscale = 1           
ground.back = 15     
ground.front = 16    
air.back = 12        
air.front = 12       
height = 60          
attack.dist = 160    
proj.attack.dist = 90
proj.doscale = 0     
head.pos = -5, -90   
mid.pos = -5, -60    
shadowoffset = 0     
draw.offset = 0,0    

[Velocity]
walk.fwd  = 3.2      
walk.back = -3.2     
run.fwd  = 8.2, 0    
run.back = -5, -5
jump.neu = 0,-9.4   
jump.back = -2.55    
jump.fwd = 2.5       
runjump.back = -4,-7.2
runjump.fwd = 4,-8.4     
airjump.neu = 0,-6.4     
airjump.back = -2.55      
airjump.fwd = 2.5         

[Movement]
airjump.num = 0      
airjump.height = 35  
yaccel = .5         
stand.friction = .85 
crouch.friction = .82 

;---------------------------------------------------------------------------
; Initialize (at the start of the round)
[Statedef 5900]
type = S

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0
fvalue = 0


[State 5900, 3] ;Intro for round 1
type = ChangeState
trigger1 = roundno = 1
value = 190


;---------------------------------------------------------------------------
[Statedef 1789]
type = S
ctrl = 0
anim = 1789
velset = 0,0

[State 186]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 186]
type = PlaySnd
trigger1 = AnimElem = 7
value = s50,5

[State 978, EV POWER CODE-?????]
type = Explod
Trigger1 = AnimElem = 7
anim = 6050
ID = 6050
pos = 0,0   
postype = p1      
facing = 1        
bindtime = -1
removetime = -41
scale = 1,1  
ontop = 1
ownpal = 1  


[State 186]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
[Statedef 88888]
type = S
ctrl = 0
anim = 46455
velset = 0,0

[State 186]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 186]
type = playsnd
trigger1 = animelem = 6
value = 40,0

[State 186]
type = PlaySnd
trigger1 = AnimElem = 12
value = 40,0

[State 186]
type = PlaySnd
trigger1 = AnimElem = 21
value = s50,5

[State 186]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;WIN
[Statedef 180]
type=S

[State 180]
type=ChangeState
trigger1=Time=0
value=181+random%4

;---------------------------------------------------------------------------
;Wins 1
[Statedef 181]
type=S
ctrl=0
anim=181
velset=0,0

[State 181]
type = NotHitBy
trigger1 = 1
value = SCA

[State 181]
type = PlaySnd
trigger1 = AnimElem = 4
value = s4999,3
channel = 12

;Wins 2
[Statedef 182]
type=S
ctrl=0
anim=182
velset=0,0

[State 182]
type = NotHitBy
trigger1 = 1
value = SCA

[State 182]
type = PlaySnd
trigger1 = AnimElem = 3
value = s4999,3
channel = 12

;Wins 3
[Statedef 183]
type=S
ctrl=0
anim=183
velset=0,0

[State 183, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 183]
type = PlaySnd
trigger1 = AnimElem = 1
value = s4999,2
channel = 12

;Wins 4
[Statedef 184]
type=S
ctrl=0
anim=191
velset=0,0

[State 184]
type = playsnd
trigger1 = animelem = 10
value = s5,1

[State 184]
type = PlaySnd
trigger1 = AnimElem = 1
value = s5003,0
channel = 12

[State 184]
type = NotHitBy
trigger1 = 1
value = SCA

[State 184]
type = Changestate
trigger1 = animtime = 0
value = 0

;Intro - VS Marisa
[Statedef 185]
type = S
ctrl = 0
anim = 185
velset = 0,0

[State 185]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 185]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;Intro - VS Mei-Ling
[Statedef 186]
type = S
ctrl = 0
anim = 186
velset = 0,0

[State 186]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 186]
type = playsnd
trigger1 = animelem = 40
value = s5,1

[State 186]
type = PlaySnd
trigger1 = AnimElem = 31
value = s4999,0
channel = 12

[State 186]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;Intro - VS Kouma
[Statedef 187]
type = S
ctrl = 0
anim = 187
velset = 0,0

[State 187]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 187]
type = playsnd
trigger1 = animelem = 19
value = s5,1

[State 187]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;Intro - VS Kung Fu
[Statedef 188]
type = S
ctrl = 0
anim = 188
velset = 0,0

[State 188]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 188]
type = playsnd
trigger1 = animelem = 13
value = s5,1

[State 183]
type = PlaySnd
trigger1 = AnimElem = 4
value = s5003,1
channel = 12

[State 188]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;Intro - VS Other
[Statedef 189]
type = S
ctrl = 0
anim = 189
velset = 0,0

[State 189]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 189]
type = playsnd
trigger1 = animelem = 65
value = s5,1

[State 189, Snd]
type = PlaySnd
trigger1	= animelem = 61
value = s4999, 0+(random%2)

[State 189]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;Intro
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 5900];Intro for special
type = ChangeState
triggerall = prevstateno != 100191
triggerall = (teammode = single && roundno=1)||teammode=turns
triggerall = !(teammode = simul)
trigger1 = enemy(0),stateno != 192 && enemy(0),stateno != 199
trigger1 = enemy(0),animexist(18000)
trigger1 = enemy(0),authorname = "iwakick"
value = 100191
ignorehitpause=1

[State 191, 3]
type = ChangeState
trigger1 = roundno > 1
trigger1 = time = 31
value = 5900

[state a];Marisa
type = changestate
triggerall = time = 0
trigger1 =palno = 12
value = 1789


[state a];Marisa
type = changestate
triggerall = time = 0
trigger1 = p2name = "Marisa Kirisame" || p4name = "Marisa Kirisame"
trigger2 = p2name = "MARISA,K" || p4name = "MARISA,K"
trigger3 = p2name = "UMVC_Marisa" || p4name = "UMVC_Marisa"
trigger4 = p2name = "magicshow" || p4name = "magicshow"
trigger5 = p2name = "ZSMarisa" || p4name = "ZSMarisa"
trigger6 = p2name = "STG-Smarisa" || p4name = "STG-Smarisa"
trigger7 = p2name = "S-Marisa" || p4name = "S-Marisa"
trigger8 = p2name = "Kirisame-Marisa" || p4name = "Kirisame-Marisa"
trigger9 = p2name = "NM_Seina" || p4name = "NM_Seina"
value = 185

[state a];AKATSUKI
type = changestate
triggerall = time = 0
trigger1 = p2name = "AKATSUKI" || p4name = "AKATSUKI"
value = 88888

[state a];Mei-Ling
type = changestate
triggerall = time = 0
trigger1 = p2name = "Kung Fu Girl Hong Mei-Ling" || p4name = "Kung Fu Girl Hong Mei-Ling"
trigger2 = p2name = "Hong-Meirin" || p4name = "Hong-Meirin"
trigger3 = p2name = "Arima_Meirin" || p4name = "Arima_Meirin"
trigger4 = p2name = "Hei Meiling" || p4name = "Hei Meiling"
trigger5 = p2name = "Shaolon" || p4name = "Shaolon"
trigger6 = p2name = "Meiling_K" || p4name = "Meiling_K"
trigger7 = p2name = "Hong_Meirin" || p4name = "Hong_Meirin"
trigger8 = p2name = "Meiling_MA" || p4name = "Meiling_MA"
trigger9 = p2name = "ThurisaZ" || p4name = "ThurisaZ"
trigger10 = p2name = "Kujo Meirin" || p4name = "Kujo Meirin"
trigger11 = p2name = "Hei_Long" || p4name = "Hei_Long"
trigger12 = p2name = "KOF_Meirin" || p4name = "KOF_Meirin"
trigger13 = p2name = "Kurenai Misuzu" || p4name = "Kurenai Misuzu"
trigger14 = p2name = "D4meirin" || p4name = "D4meirin"
trigger15 = p2name = "Hong Meirin" || p4name = "Hong Meirin"
trigger16 = p2name = "KFG Hong Mei-Ling-ver.Armosh"  || p4name = "KFG Hong Mei-Ling-ver.Armosh" 
value = 186

[state a];Kouma
type = changestate
triggerall = time = 0
trigger1 = p2name = "Otome_Daiyousei" || p4name = "Otome_Daiyousei"
trigger2 = p2name = "Akuma_Melt" || p4name = "Akuma_Melt"
trigger3 = p2name = "Elizabeth_Remilia" || p4name = "Elizabeth_Remilia"
trigger4 = p2name = "Patchouli_Kishinami" || p4name = "Patchouli_Kishinami"
trigger5 = p2name = "Remilia_Scarlet" || p4name = "Remilia_Scarlet"
trigger6 = p2name = "Flandle_Scarlet" || p4name = "Flandle_Scarlet"
trigger7 = p2name = "Patchouli_Knowledge" || p4name = "Patchouli_Knowledge"
trigger8 = p2name = "Sakuya_Izayoi" || p4name = "Sakuya_Izayoi"
trigger9 = p2name = "Koakuma" || p4name = "Koakuma"
value = 187

[state a];Kung Fu
type = changestate
triggerall = time = 0
trigger1 = p2name = "Kung Fu Man" || p4name = "Kung Fu Man"
trigger2 = p2name = "Kung Fu Man CN" || p4name = "Kung Fu Man CN"
trigger3 = p2name = "Kung Fu girl" || p4name = "Kung Fu girl"
trigger4 = p2name = "the kung fu man" || p4name = "the kung fu man"
trigger5 = p2name = "BROKKEN" || p4name = "BROKKEN"
trigger6 = p2name = "jam" || p4name = "jam"
trigger7 = p2name = "Marilyn Sue" || p4name = "Marilyn Sue"
trigger8 = p2name = "Arima_Miyako" || p4name = "Arima_Miyako"
trigger9 = p2name = "Miyako Arima" || p4name = "Miyako Arima"
trigger10 = p2name = "D-Miyako" || p4name = "D-Miyako"
trigger11 = p2name = "Gato" || p4name = "Gato"
trigger12 = p2name = "Hotaru Futaba XIII" || p4name = "Hotaru Futaba XIII"
trigger13 = p2name = "Hong-Bai-Rei" || p4name = "Hong-Bai-Rei"
value = 188

[state a];Other
type = changestate
triggerall = time = 0
trigger1 = p2name = "Iku_Nagae" || p4name = "Iku_Nagae"
trigger2 = p2name = "Iku_hsts" || p4name = "Iku_hsts"
trigger3 = p2name = "Tenko_hsts" || p4name = "Tenko_hsts"
trigger4 = p2name = "Kokoro" || p4name = "Kokoro"
trigger5 = p2name = "Azure" || p4name = "Azure"
trigger6 = p2name = "kthanid" || p4name = "kthanid"
trigger7 = p2name = "S-Chonrei" || p4name = "S-Chonrei"
trigger8 = p2name = "Training" || p4name = "Training"
trigger9 = p2name = "Kumagawa Misogi" || p4name = "Kumagawa Misogi"
value = 189

[State 190, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = random <= 333
trigger2 = p2name = "CHINMI" || p4name = "CHINMI"
trigger3 = p2name = "PW_Hong_Meiling" || p4name = "PW_Hong_Meiling"
value = 191

[State 190, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = random <= 666
value = 192

[State 190, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = random <= 999
value = 193

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

;Intro1
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 191]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191]
type = PlaySnd
trigger1 = AnimElem = 1
value = s4999,0+(random%2)
channel = 12

[State 191]
type = playsnd
trigger1 = animelem = 10
value = s5,1

[State 191]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;Intro2
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 192]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 183]
type = PlaySnd
trigger1 = AnimElem = 2
value = s1700,0
channel = 12

[State 192]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;Intro3
[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 193, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 183]
type = PlaySnd
trigger1 = AnimElem = 16
value = s4999,4
channel = 12

[State 193, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;Taunt
[Statedef 195]
type = S
movetype = I
physics = S
ctrl = 0
anim = 195
velset = 0,0
sprpriority = 2

[State 3000, Snd]
type = PlaySnd
trigger1	= animelem = 4
value = s4999, 0+(random%2)

[State 195]
type = CtrlSet
trigger1 = AnimElem = 10
value = 1

[State 195]
type = playsnd
trigger1 = animelem = 10
value = s5,1

[State 195]
type = CtrlSet
trigger1 = AnimElem = 3
trigger1 = palno = 11
value = 1

[State 195]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Taunt1 - Breathe
[Statedef 196]
type = S
movetype = I
physics = S
anim = 196
velset = 0,0
ctrl = 0
sprpriority = 2

[State 196, HitAdd]
type = PlaySnd
trigger1 = animelem = 2
Value = S100,0

[State 196, Snd]
type = PlaySnd
trigger1	= animelem = 2
value = s199, 0

[State 196, HitAdd]
type = PlaySnd
trigger1 = time >= 9
trigger1 = time <= 129
trigger1 = (GameTime%12) = 0
Value = S100,1

[state a];”­“®2
type = Helper
trigger1 = AnimElem = 2,>0
trigger1 = AnimElem = 3,<0
name = "efe1"
ID = 6051
pos = 13,0
postype = p1
stateno = 6051
ownpal = 1
supermovetime = 2147483647
pausemovetime = 2147483647
ignorehitpause = 1

[state a];”­“®1
type = Helper
trigger1 = time = 9
trigger2 = time = 41
trigger3 = time = 73
trigger4 = time = 105
name = "efe2"
ID = 6049
pos = 4,0
postype = p1
stateno = 6049
ownpal = 1
supermovetime = 2147483647
pausemovetime = 2147483647
ignorehitpause = 1

[State 196]
type = nothitby
trigger1 = AnimElem = 4,>0
trigger1 = AnimElem = 43,<0
trigger1 = palno = 11
value = SCA

[State 196]
type = hitby
trigger1 = AnimElem = 4,>0
trigger1 = AnimElem = 43,<0
trigger1 = palno = 11
value = SCA,AA,AT

[State 196]
type = poweradd
trigger1 = AnimElem = 4,>0
trigger1 = (GameTime%120) = 0
trigger1 = AnimElem = 43,<0
value = 100

[State 196]
type = poweradd
triggerall = palno = 11
trigger1 = AnimElem = 4,>0
trigger1 = (GameTime%12) = 0
trigger1 = AnimElem = 43,<0
value = 100

[State 198, 1]
type = CtrlSet
trigger1 = AnimElem = 8,>0
trigger1 = palno = 11
value = 1

[State 196]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Taunt2 - Sleep
[Statedef 197]
type = S
movetype = I
physics = S
anim = 197
velset = 0,0
ctrl = 0
sprpriority = 2

[State 197]
type = PowerAdd
trigger1 = anim = 197
value = 10

[State 197, Snd]
type = PlaySnd
trigger1	= AnimElem = 1
value = s198, 0+(random%3)

[State 197, Snd]
type = PlaySnd
trigger1	= AnimElem = 8
value = s4999, 1

[State 197]
type = nothitby
trigger1 = AnimElem = 5,>0
trigger1 = palno = 11
value = SA

[State 197]
type = ChangeState
trigger1 = command = "forward"
value = 9999
ctrl = 1

[State 197]
type = ChangeState
trigger1 = command = "down"
value = 9999
ctrl = 1

[State 197]
type = ChangeState
trigger1 = command = "back"
value = 9999
ctrl = 1

[State 197]
type = ChangeState
trigger1 = command = "up"
value = 9999
ctrl = 1


[State 197, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 40000]
anim = 40000
type = U 
movetype= I
physics = U
ctrl = 0


[State 978, EV POWER CODE-?????]
type = Explod
Trigger1 = AnimElem = 1
anim = 6050
ID = 6050
pos = 0,0   
postype = p1      
facing = 1        
bindtime = -1
removetime = -32
scale = 1,1  
ontop = 1
ownpal = 1  


[State 196, HitAdd]
type = PlaySnd
trigger1 = animelem = 2
Value = S100,1


[State 978,EV POWER CODE-????] ; <-- ????? ???? ????? ???? ?????.
type = PowerAdd
trigger1 = anim = 40000
value = 7

 

[State -3, EV POWER CODE-?????????]
type = RemoveExplod
trigger1 = Command != "hold_z" 
trigger2 = Power = PowerMax
trigger4 = stateno != 0
id = 6050

[State -3,EV POWER CODE-????]
type = Changestate
trigger1 = Command != "hold_z" 
trigger2 = Power = PowerMax
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 9999]
type = S
movetype = I
physics = S
anim = 1
velset = 0,0
ctrl = 0
sprpriority = 2


[State 9999, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Taunt3 - threaten
[Statedef 198]
type = S
movetype = A
physics = S
anim = 198
velset = 0,0
ctrl = 0
sprpriority = 2

[State 198, Snd]
type = PlaySnd
trigger1	= animelem = 4
value = s199, 1+(random%2)

[State 198, 1]
type = CtrlSet
trigger1 = AnimElem = 5,>0
trigger1 = palno = 11
value = 1

[State 198]
type = nothitby
trigger1 = AnimElem = 5,>0
trigger1 = palno = 11
value = SC,NT

[State 198]
type = hitby
trigger1 = AnimElem = 5,>0
trigger1 = palno = 11
value = SCA,SA,HA,AP,ST,HT

[State 198]
type		= HitDef
trigger1	= AnimElem = 4
attr		= S, SA
hitflag		= MAF
guardflag	= MA
damage		= 10 ,0
animtype	= Hard
air.animtype	= Back
ground.type	= High
priority	= 1, miss
pausetime	= 0, 0
sparkno = s6000
guard.sparkno = s6010
sparkxy = -18, -56
hitsound = S1, 3
guardsound = S2, 0
fall		= 1
fall.recover	= 1
fall.recovertime= 30
air.fall	= 1
yaccel		= 0.4
ground.slidetime	= 24
ground.hittime		= 24
guard.hittime 		= 21
air.hittime 		= 24
guard.ctrltime 		= 21
airguard.ctrltime 	= 19
ground.velocity		= -4,-4
guard.velocity		= 0
air.velocity		= -4,-4
airguard.velocity	= -1,-1
ground.cornerpush.veloff= 0
air.cornerpush.veloff	= 0
down.cornerpush.veloff	= 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
sparkno		= -1
guard.sparkno	= -1

[State 198]
type		= HitDef
trigger1	= AnimElem = 4
trigger1	= palno = 11
attr		= S, SA
hitflag		= MAF
guardflag	= MA
damage		= 30 ,0
animtype	= Hard
air.animtype	= Back
ground.type	= High
priority	= 4, Hit
pausetime	= 0, 0
guard.pausetime	= 17, 0
sparkno = s6000
guard.sparkno = s6010
sparkxy = -18, -56
hitsound = S1, 3
guardsound = S2, 0
fall		= 1
fall.recover	= 1
fall.recovertime= 30
air.fall	= 1
yaccel		= 0.4
ground.slidetime	= 24
ground.hittime		= 24
guard.hittime 		= 21
air.hittime 		= 24
guard.ctrltime 		= 21
airguard.ctrltime 	= 19
ground.velocity		= -4,-4
guard.velocity		= 0
air.velocity		= -4,-4
airguard.velocity	= -1,-1
ground.cornerpush.veloff= 0
air.cornerpush.veloff	= 0
down.cornerpush.veloff	= 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
sparkno		= -1
guard.sparkno	= -1

[State 198, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------
;¡¡«Ð«¦«ó«É¡¡ªäªéªì
[Statedef 6003]
type=A
movetype = H
ctrl     = 0
sprpriority = 4

[State 1000, 0]
type = ChangeAnim2
trigger1 = 1
value = 5080

[State 1000, 0]
type = Velset
trigger1 = 1
y = 13
x = -4


[State 1]
type = changeState
trigger1 = pos y >=0
value = 6004

;-------------------------------------------------------------
;¡¡«Ð«¦«ó«É¡¡ò¢Øü ªäªéªì
[Statedef 6004]
type=A
movetype = H
ctrl     = 0
sprpriority = 4

[State 1000, 0]
type = lifeadd
trigger1 = time = 1
value = -70

[State 1000, 0]
type = EnvShake
trigger1 = time = 1
time = 10
freq = 150
ampl = -8
phase = 90

[State 2007, Spark]
type = Explod
trigger1 = Time = 0
anim = F61
pos = 0, 0
postype = p1
sprpriority = 3

[State 1000, 0]
type = ChangeAnim2
trigger1 = time = 1
value = 5071

[State 1000, 0]
type = Velset
trigger1 = 1
y = -1
x = -7


[State 1]
type = changeState
trigger1 = time = 15
value = 6005

;-------------------------------------------------------------
;¡¡«Ð«¦«ó«É¡¡ªäªéªì
[Statedef 6005]
type=A
movetype = H
ctrl     = 0
sprpriority = 4

[State 1000, 0]
type = ChangeAnim2
trigger1 = 1
value = 5071

[State 1000, 0]
type = Veladd
trigger1 = 1
y = 0.8


[State 1]
type = selfState
trigger1 = pos y >=0
value = 5050
