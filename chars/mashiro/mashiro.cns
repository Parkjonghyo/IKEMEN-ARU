;Var(1)〜(2)   空中ジャンプ制御
;Var(3)        リコイルガード処理
;Var(4)〜(5)   エフェクト処理
;Var(6)〜(9)   ＲＦゲージ処理
;Var(10)       空中ダッシュ制御
;Var(12)       補正用
;Var(17)       リコイル制限
;Var(18)       タッグ時バグ回避

;ボイスパッチ追加
;var(30)     必殺技ボイス等の乱数



[Data]
life = 1000
power = 3001
attack = 70
defence = 100
fall.defence_up = 100
liedown.time = 33
airjuggle = 50
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 100
IntPersistIndex = 7
floatpersistindex = 35

[Size]
xscale = 1
yscale = 1
ground.back = 13
ground.front = 15
air.back = 12
air.front = 12
height = 40
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0   
head.pos = -0, -60
mid.pos = -0, -40
shadowoffset = 0

[Velocity]
walk.fwd  = 2.3
walk.back = -2.3
run.fwd  = 9.5, 0
jump.neu = 0,-8.5
jump.back = -3.5
jump.fwd = 3.5
runjump.back = -2.7,-8.0
runjump.fwd = 3,-8.5
airjump.neu = 0,-8.5
airjump.back = -5.0
airjump.fwd = 5.0

[Movement]
airjump.num = 0
airjump.height = 30
yaccel = .42
stand.friction = .85
crouch.friction = .80
;-------------------------------------------------------------------
;ポーズ分岐
[Statedef 190]
type = S

[State 190,]
type = VarRandom
trigger1 = 1
v = 30
range = 0,2

[State 190,]
type = ChangeState
trigger1 = Time = 1
trigger1 = var(30) = 0
value = 191

[State 190,]
type = ChangeState
trigger1 = Time = 1
trigger1 = var(30) = 1
value = 192

[State 190,]
type = ChangeState
trigger1 = Time = 1
trigger1 = var(30) = 2
value = 193

;---------------------------------------------------------------------------

[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 191]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191]
type = playsnd
trigger1 = animelem = 7
value = 3,0

[State 191, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------

[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 192]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 185]
type = Explod
trigger1 = animelem = 5
anim = 14999
id = 14999
pos = 42,-35
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 192]
type = playsnd
trigger1 = animelem = 1
value = 3,1

[State 192, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------

[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 192]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 185]
type = Explod
trigger1 = animelem = 5
anim = 14999
id = 14999
pos = 42,-35
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 193]
type = playsnd
trigger1 = animelem = 1
value = 3,4

[State 193, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; 座り→立ち

[Statedef 12]
type    = S
physics = S
anim = 12

[State 12, 0]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = prevstateno = 5120
value = 13

[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; 空中ジャンプ開始

[Statedef 45]
type = A
physics = N
ctrl = 0
velset = 0,0

[State 45, 1]
type = VarSet
trigger1 = Time = 0
var(1) = 1

[State 45, 1]
type = ChangeAnim
trigger1 = SelfAnimExist(44)
value = 44

[State 45, 2]
type = ChangeAnim
trigger1 = !SelfAnimExist(44)
value = 41

[State 45, 3]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 45, 4]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 45, 5]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 45, 6]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[State 45, 7]
type = ChangeState
trigger1 = Time = 2
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; 二段ジャンプ

[Statedef 50]
type = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = command != "holdup"
var(2) = 0

[State 50, 1]
type = VarSet
trigger1 = command = "holdup"
var(2) = 1

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

;---------------------------------------------------------------------------
;落下


[Statedef 51]
type = A
physics = A

[State 51, 1]
type = VarSet
trigger1 = command != "holdup"
var(2) = 0

[State 51, 1]
type = VarSet
trigger1 = command = "holdup"
var(2) = 1

[State 51, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 51, 2]
type = ChangeAnim
trigger1 = Time = 0
value = 111



;---------------------------------------------------------------------------
;前ダッシュ_開始

[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 1
ctrl = 0
velset = 0,0

[State 100]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 100, Helper];ダッシュエフェクト
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999


[State 100]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 100]
type = playerpush
trigger1 = Anim = 100
value = 1


[State 100, 5]
type = HitBy
trigger1 = Time = 0
value = SCA,NA,SA,HA,NT,ST,HT
time = 4

[State 100]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100]
type = ChangeState
trigger1 = Animtime = 0
value = 101
ctrl = 0

;前ダッシュ_移動
[Statedef 101]
type    = S
physics = S
anim = 101
sprpriority = 1
ctrl = 0

[State 101]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1



[State 101]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 101]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 101]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 101]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 101, 5]
type = HitBy
trigger1 = Time = 0
value = SCA,NA,SA,HA,NT,ST,HT
time = 15

[State 101]
type = PlaySnd
trigger1 = Time = 1
value = 100,0

[State 101]
type = ChangeState
trigger1 = command != "holdfwd"
trigger1 = Time >= 15
value = 102
ctrl = 0

[State 101]
type = ChangeState
trigger1 = Anim = 101
trigger1 = Animtime = 0
trigger1 = command = "holdfwd"
value = 102
ctrl = 0

;ダッシュ停止
[Statedef 102]
type    = S
physics = N
anim = 102
sprpriority = 1
ctrl = 0

[State 102]
type = VelAdd
trigger1 = time >= 0
trigger1 = Vel X > 0
x = -0.275

[State 102]
type = Velset
trigger1 = time >= 0
trigger1 = Vel X < 0
x = 0

[State 102]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 102, 5]
type = HitBy
trigger1 = Time = 0
value = SCA,NA,SA,HA,NT,ST,HT
time = 9


[State 102]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 102]
type = AfterImageTime
Trigger1 = AnimTime = 0
Time = 0

[State 102]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;バックダッシュ構え

[Statedef 105]
type    = S
physics = S
ctrl = 0
anim = 105
sprpriority = 1

[State 105, 5]
type = HitBy
trigger1 = Time = 0
value = SCA,NA,SA,HA,NT,ST,HT
time = 4



[State 105]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 105]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 105, Helper];ダッシュエフェクト
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = -1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999


[State 105]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 105]
type = ChangeState
;trigger1 = command = "holdback"
trigger1 = AnimTime = 0
value = 108

[State 105]
type = null;ChangeState
trigger1 = command != "holdback"
trigger1 = AnimTime = 0
value = 106

;バックステップ

[Statedef 106]
type     = A
physics  = N
anim     = 108
ctrl     = 0

[State 106]
type = Playerpush
trigger1 = Prevstateno = 109
value = 0

[State 106]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 106]
type = velset
trigger1 = AnimElem = 1
x = -3.75
y = -1.75

[State 106]
type = VelAdd
trigger1 = AnimelemTime(3) >= 0
y = 0.30

[State 106]
type = velset
trigger1 = AnimelemTime(3) >= 0
x = -1.5

[State 108]
type = velset
trigger1 = AnimelemTime(6) >= 0
x = 0

[State 106]
type = ChangeState
trigger1 = Pos y > 0
trigger1 = Vel y > 0
value = 107

;バックダッシュ(ステップ)着地

[Statedef 107]
type    = S
physics = S
ctrl = 0
anim = 107
ctrl = 0

[State 107]
type = hitby
trigger1 = time = 0
value = SCA,NA,SA,HA,NT,ST,HT
time = 5


[State 107]
type = VelSet
trigger1 = Time = 0
x = 0

[State 107]
type = VelSet
trigger1 = Time = 0
y = 0

[State 107]
type = PosSet
trigger1 = Time = 0
y = 0

[State 107]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 107]
type = PlaySnd
trigger1 = Time = 0
value = 47,0

[State 107]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;バックダッシュ

[Statedef 108]
type     = A
physics  = N
anim     = 106
ctrl     = 0

[State 108]
type = playerpush
trigger1 = Prevstateno = 109
value = 0

[State 108]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 108]
type = velset
trigger1 = AnimElem = 1
x = -8.0
y = -2.0

[State 108]
type = VelAdd
trigger1 = AnimelemTime(3) >= 0
y = 0.5

[State 108]
type = ChangeState
trigger1 = Pos y > 0
trigger1 = Vel y > 0
value = 107

;---------------------------------------------------------------------------
;空中前ダッシュ

[Statedef 110]
type    = A
movetype = A
physics = N
Velset = 0,0
ctrl = 0
anim = 110


[State 110]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 110]
type = velset
trigger1 = Time = 0
x = 6.0

[State 110]
type = varset
trigger1 = Time = 0
v = 10
value = 1

[State 110]
type = PlaySnd
trigger1 = Time = 1
value = 100,0

[State 101, Helper]
Type = Helper
Trigger1 = Time = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999


[State 110]
type = ChangeState
trigger1 = command != "holdfwd"||var(59)
trigger1 = Time = 15
trigger2 = command != "holdfwd"
trigger2 = time >= 15
value = 111

[State 110]
type = ChangeState
trigger1 = command = "holdfwd"
trigger1 = time = 35
value = 111
ctrl = 1

;空中前ダッシュ後

[Statedef 111]
type    = A
movetype= I
physics = A
ctrl = 1
anim = 111

[State 111]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 111]
type = Velset
trigger1 = time = 0
x = 4.7

[State 111]
type = PosSet
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
y = 0

[State 111]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;空中バックダッシュ

[StateDef 115]
Type = A
MoveType = I
Physics = N
Anim = 115
Ctrl = 0
VelSet = 0, 0
SprPriority = 0

;空中ダッシュ回数減少
[State 115, VarAdd]
Type = VarAdd
Trigger1 = Time = 0
V = 10
Value = -1

[State 115, StateTypeSet]
Type = StateTypeSet
Trigger1 = Time = 14
Physics = A

[State 115, VelSet]
Type = VelSet
Trigger1 = Time = 2
X = -6.0
Y = -2.0

[State 115, VelAdd]
Type = VelAdd
Trigger1 = Time > 2
Trigger1 = Time < 14
Y = 0.25

[State 115, Helper]
Type = Helper
Trigger1 = Time = 0
Persistent = 0
OwnPal = 1
Facing = -1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999


[State 115]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 115]
type = PlaySnd
trigger1 = Time = 1
value = 100,0

[State 115, CtrlSet]
Type = CtrlSet
Trigger1 = Time = 10
Value = 1

[State 115, ChangeState]
Type = ChangeState
Trigger1 = Time > 15
Value = 51

[State 115]
type = ChangeState
trigger1 = command != "holdback"
trigger1 = Time = 15
trigger2 = command != "holdback"
trigger2 = time >= 15
value = 116

[State 115]
type = ChangeState
trigger1 = command = "holdback"
trigger1 = time = 15
value = 116
ctrl = 1


;空中バックダッシュ後

[Statedef 116]
type    = A
movetype= I
physics = A
ctrl = 1
anim = 116

[State 116]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 116]
type = Velset
trigger1 = time = 0
x = -4.7

[State 116]
type = PosSet
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
y = 0

[State 116]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;立ち_リコイルガード
[Statedef 160]
type    = S
physics = S
anim = 160
ctrl = 0
SprPriority = -1



;青ゲージ_リコイル時
[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
trigger1 = time = 0
v = 7
value = ifelse(var(7)<=179,20,199-var(7))
supermove = 1
ignorehitpause = 1
persistent = 0

;赤ゲージ_リコイル時
[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
trigger1 = time = 0
v = 7
value = ifelse(var(7)<=394,5,399-var(7))
supermove = 1
ignorehitpause = 1
persistent = 0

[State 160]
type = PosFreeze
trigger1 = time >= 0

[State 160]
type = Explod
trigger1 = time = 0
anim = 7011
pos = 15,-40
postype = p1
ownpal = 1
ignorehitpause = 1
persistent = 0
sprpriority = 10
bindtime = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
supermove = 1

[State 160]
type = Explod
trigger1 = time = 0
anim = 7018
scale = 1,1
postype = p1
ownpal = 1
ignorehitpause = 1
persistent = 0
sprpriority = 10
bindtime = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
supermove = 1

[State 160]
type = Pause
trigger1 = time = 0
time = var(32)
movetime = var(32)
ignorehitpause = 1

[State 160]
type = Varset
Trigger1 = time = var(32)
v = 17
value = 30

[State 160]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = s120,1
Volume = 999
persistent = 0

[State 160, 5]
type = NotHitBy
Trigger1 = Time = var(32)
Trigger2 = Time >= var(32) 
trigger2 = command = "holdback" || var(59)
value2 = , NT,ST,HT
time = 6

[State 160]
type = ChangeState
Trigger1 = Time = var(32)
Trigger2 = Time >= var(32)
trigger2 = command = "holdback" || var(59)
value = 130
ctrl = 1

[state 160]
type = nothitby
trigger1 = 1
value = SCA

;---------------------------------------------------------------------------
;しゃがみ_リコイルガード
[Statedef 161]
type    = C
physics = C
anim = 161
ctrl = 0
SprPriority = -1


;青ゲージ_リコイル時
[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
trigger1 = time = 0
v = 7
value = ifelse(var(7)<=179,20,199-var(7))
supermove = 1
ignorehitpause = 1
persistent = 0

;赤ゲージ_リコイル時
[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
trigger1 = time = 0
v = 7
value = ifelse(var(7)<=394,5,399-var(7))
supermove = 1
ignorehitpause = 1
persistent = 0

[State 161]
type = PosFreeze
trigger1 = time >= 0

[State 161]
type = Explod
trigger1 = time = 0
anim = 7011
pos = 15,-20
postype = p1
ownpal = 1
ignorehitpause = 1
persistent = 0
sprpriority = 10
bindtime = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
supermove = 1

[State 160]
type = Explod
trigger1 = time = 0
anim = 7018
scale = 1,1
postype = p1
ownpal = 1
ignorehitpause = 1
persistent = 0
sprpriority = 10
bindtime = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
supermove = 1

[State 161]
type = Varset
Trigger1 = time = var(32)
v = 17
value = 30

[State 161]
type = Pause
trigger1 = time = 0
time = var(32)
movetime = var(32)
ignorehitpause = 1

[State 161]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = s120,1
Volume = 999
persistent = 0

[State 160, 5]
type = NotHitBy
Trigger1 = time = var(32)
Trigger2 = Time >= var(32) 
trigger2 = command = "holdback" || var(59)
value2 = , NT,ST,HT
time = 6

[State 161]
type = ChangeState
Trigger1 = time = var(32)
Trigger2 = Time >= var(32)
trigger2 = command = "holdback" || var(59)
value = 131
ctrl = 1

[state 160]
type = nothitby
trigger1 = 1
value = SCA

;---------------------------------------------------------------------------
;空中_リコイルガード
[Statedef 162]
type    = A
physics = N
anim = 162
ctrl = 0
SprPriority = -1



;青ゲージ_リコイル時
[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
trigger1 = time = 0
v = 7
value = ifelse(var(7)<=179,20,199-var(7))
supermove = 1
ignorehitpause = 1
persistent = 0

;赤ゲージ_リコイル時
[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
trigger1 = time = 0
v = 7
value = ifelse(var(7)<=394,5,399-var(7))
supermove = 1
ignorehitpause = 1
persistent = 0

[State 162]
type = PosFreeze
trigger1 = time >= 0

[State 162]
type = Explod
trigger1 = time = 0
anim = 7011
pos = 15,-40
postype = p1
ownpal = 1
ignorehitpause = 1
persistent = 0
sprpriority = 10
bindtime = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
supermove = 1

[State 162]
type = Pause
trigger1 = time = 0
time = var(32)
movetime = var(32)
ignorehitpause = 1

[State 162]
type = Varset
Trigger1 = time = var(32)
v = 17
value = 30

[State 162]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = s120,1
Volume = 999
persistent = 0

[State 162]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52
ctrl = 0

[State 160, 5]
type = NotHitBy
Trigger1 = Time = var(32)
Trigger2 = Time >= var(32) 
trigger2 = command = "holdback" || var(59)
value2 = , NT,ST,HT
time = 6

[State 162]
type = ChangeState
Trigger1 = Time = var(32)
Trigger2 = Time >= var(32) 
trigger2 = command = "holdback" || var(59)
value = 132
ctrl = 1

[state 160]
type = nothitby
trigger1 = 1
value = SCA


;---------------------------------------------------------------------------
;アーマーガ−ド（立ち）
[Statedef 165]
type = U
movetype = H
physics = U
anim = 150
ctrl = 0

[state 165]
type = ChangeAnim
trigger1 = statetype = C
trigger1 = time = 0
value = 151

[state 165]
type = nothitby
trigger1 = time >= 0
value = SCA

[state 165]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = s120,1
Volume = 999
persistent = 0
channnel = 4

[state 165]
type = PlaySnd
triggerall = palno = 12
trigger1 = AnimElemTime(1) = 0
trigger1 = random < 400
value = S0,160
channel = 0

[State 165]
type = Explod
trigger1 = statetype = C
trigger1 = time = 0
anim = 7011
pos = 15,-20
postype = p1
ownpal = 1
ignorehitpause = 1
persistent = 0
sprpriority = 10
bindtime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
supermove = 1

[State 165]
type = Explod
trigger1 = statetype = S
trigger1 = time = 0
anim = 7011
pos = 15,-40
postype = p1
ownpal = 1
ignorehitpause = 1
persistent = 0
sprpriority = 10
bindtime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
supermove = 1

[state 165]
type = ChangeState
trigger1 = time = 0
value = 130
ctrl = 1

;アーマーガ−ド（空中）
[Statedef 167]
type = A
movetype = H
physics = A
ctrl = 0
anim = 152
PowerAdd = 0

[state 167]
type = nothitby
trigger1 = time >= 0
value = SCA

[state 167]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = s120,1
Volume = 999
persistent = 0
channnel = 4

[State 167]
type = Explod
trigger1 = time = 0
anim = 7011
pos = 15,-40
postype = p1
ownpal = 1
ignorehitpause = 1
persistent = 0
sprpriority = 10
bindtime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
supermove = 1

[state 167]
type = ChangeState
trigger1 = time = 0
value = 132
ctrl = 1

;---------------------------------------------------------------------------
;負け
[Statedef 170]
type = S
ctrl = 0
anim = 5500
velset = 0,0
sprpriority = 0

[State 170]
type = explod
trigger1 = time = 1
anim =  7024
postype = p1
pos = 0,-20
scale = 1.5,1.5
sprpriority = 9

[State 170]
type = AssertSpecial
trigger1 = time = [0, 200]
flag = roundnotover

[State 170]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1


;---------------------------------------------------------------------------

;勝ち
[Statedef 180]
type = S

[State 180]
type = ChangeState
triggerall = MatchOver = 1
trigger1 = numpartner = 0
trigger2 = numpartner > 0
trigger2 = partner,alive = 0 || fvar(7) = 0
value = 181

[State 180]
type = ChangeState
trigger1 = MatchOver = 0
trigger2 = MatchOver = 1
trigger2 = numpartner > 0
trigger2 = partner,alive = 1 && fvar(7)
value = 185

;-------------------------------------------------------------------------------
;勝ち
[Statedef 185]
type = S
ctrl = 0
anim = 185
velset = 0,0
sprpriority = 0

[State 185]
type = Explod
trigger1 = animelem = 5
anim = 14999
id = 14999
pos = 42,-35
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 185]
type = Helper
trigger1 = animelem = 2
helpertype = normal
ownpal = 1
name = "reigeki"
postype = p1
pos = 0,-50
pausemovetime = 9999
supermovetime = 0
stateno = 30100
ID = 30100
ignorehitpause = 1

[State 185]
Type = Helper
Trigger1 =  animelem = 2
Persistent = 0
OwnPal = 1
PosType = P1
Pos = 0, -50
StateNo = 30110
Name = " "
pausemovetime = 9999

[State 185]
type = playsnd
trigger1 = animelem = 2
value = 1100,0

[State 2000]
type = VarRandom
trigger1 = AnimElem = 1
v = 30
range = 0,2

[State 185]
type = PlaySnd
trigger1 = AnimElem = 6
trigger1 = var(30) = 0
value = 3,5

[State 185]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 1
value = 3,7

[State 185]
type = playsnd
trigger1 = animelem = 6
trigger1 = var(30) = 2
value = 3,8

[State 185]
type = AssertSpecial
trigger1 = Time = [0,250]
flag = RoundNotOver


;---------------------------------------------------------------------------
;勝ち
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0
sprpriority = 0

[State 181]
type = explod
trigger1 = time = 1
anim =  7024
postype = p1
pos = 0,-20
scale = 1.5,1.5
sprpriority = 9

[State 185]
type = playsnd
trigger1 = animelem = 1
value = 3,9


[State 185]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver
;---------------------------------------------------------------------------

; HIT_TRIP2 (fall through air)
[Statedef 5071]
type    = A
movetype= H
physics = N

[State 5071, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5071, 2] ;Acceleration
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5071, 3] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 15
type = ChangeState
value = 5100

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 5100]
type    = L
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 0

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, Envshake]
type = envshake
Trigger1 = time = 0
time = 10
ampl = -3
freq = 110

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
;trigger1 = GetHitVar(fall.yvel) = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 5101

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

[State 5100]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = S5100,0

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100]
type = Explod
trigger1 = Time = 1
anim = 7004
id = 7004
postype = p1
pos = 0, 0
bindtime = 1
ownpal = 1
sprpriority = -1
under = sysvar(1) <= 10
supermove = 1
ignorehitpause = 1
pausemovetime = 20
supermovetime = 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 5101]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 10

[State 5101, 4]
type = VelSet
trigger1 = Time = 0
x = 0

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .6

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 2
type = ChangeState
value = 5110

;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 5110]
type    = L
movetype= H
physics = N

[State 5110, Envshake]
type = envshake
Trigger1 = time = 0
time = 10
ampl = -3
freq = 110

[State 5110, EnvShake]
type = null;FallEnvShake
trigger1 = Time = 0

[State 5110]
type = null;Explod
trigger1 = Time = 1
anim = 7004
id = 7004
postype = p1
pos = 0, 0
bindtime = 1
ownpal = 1
sprpriority = -1
under = sysvar(1) <= 10
supermove = 1
ignorehitpause = 1
pausemovetime = 20
supermovetime = 20

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

;---------------------------------------------------------------------------
; HIT_GETUP
[Statedef 5120]
type    = L
movetype= I
physics = N

[State 5120, 1a] ;Get up anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 5120, 1b] ;Get up anim (for hit up/diag-up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 5120, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5120, 4]
type = HitFallSet
trigger1 = AnimTime = 0
value = 1

[State 5120, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = AnimTime = 0
value = , NT,ST,HT
time = 12

[State 5120, 6] ;Can't be hit right after getting up (short time)
type = NotHitBy
trigger1 = AnimTime = 0
value2 = SCA
time = 3

[State 5120, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (still falling)
[Statedef 5200]
type    = A
movetype= H
physics = N

[State 5200, 1] ;Change anim if done with transition
type = ChangeAnim
trigger1 = Anim = 5035
trigger1 = AnimTime = 0
value = 5050

[State 5200, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5200, 3]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5201

; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type    = A
movetype= H
physics = A
anim = 5200

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -5

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
x = -2
y = -5.5

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201]
type = Explod
trigger1 = time = 1
anim = 7018
scale = 1,1
postype = p1
pos = 0,0
sprpriority = 4
supermove = 0
ownpal = 1

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 5201, 6]
type = GameMakeAnim
trigger1 = Time = 1
value = 60
pos = 0, 0
under = 1

;---------------------------------------------------------------------------
; HIT_AIRFALLRECOVER
[Statedef 5210]
type    = A
movetype= I
physics = N
anim = 5210
ctrl = 0

[State 5210, 1] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 5210, 1]
type = PosFreeze
trigger1 = Time = 0
value = 4

[State 5210, 2] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -20

[State 5210, 1] 
type = VelMul
trigger1 = Time = 4
x = .8
y = .8

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
y = -4.5

[State 5210, 1] 
type = VelMul
trigger1 = Time = 4
trigger1 = Vel Y > 0
y = .5

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -3
y = -2

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -2
y = -1

[State 5210, 2] ;Go up
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdup"
y = -2

[State 5210, 2] ;Go down
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holddown"
y = 1.5

[State 5210, 2] ;Go fwd
type = VelMul
trigger1 = Time = 4
trigger1 = Command = "holdfwd"
x = 1

[State 5210, 2] ;Go back
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdback"
x = -1

[State 5210, 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 15

[State 5210, 4]
type = CtrlSet
trigger1 = Time = 20
value = 1

[State 5210, 5]
type = VelAdd;Gravity
trigger1 = Time >= 4
y = .35

[State 5210, 5] ;Land on ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMP_LAND
ctrl = 1

;---------------------------------------------------------------------------
; Initialize (at the start of the round)
[Statedef 5900]
type = S

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundno = 1
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundno = 1
fvalue = 0

[State 5900, 3] ;Intro
type = ChangeState
trigger1 = roundno = 1
value = 190

[State 5900, 4]
type = VarSet
trigger1 = time = 0
trigger1 = var(35) > 0 
v = 35
value = 0

[State 5900, 5]
type = VarSet
trigger1 = time = 0
trigger1 = var(36) > 0 
v = 36
value = 0

;---------------------------------------------------------------------------
;立ち弱攻撃

[Statedef 200]
type    = S                      
movetype= A                      
physics = S                      
;juggle  = 1
velset = 0,0 
ctrl = 0
anim = 200
poweradd = 5
sprpriority = 2

[State 200]
type = PlaySnd
trigger1 = Time = 1
value = 200,0

[State 200]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA 
damage = ceil(20 * fvar(0))
animtype = Light
guardflag = MA
hitflag = MAF
getpower = 20
priority = 7, Hit
pausetime = 9,10
sparkno = S7000
guard.sparkno = S7007
sparkxy = -20, -30
hitsound = S200, 1
guardsound = S120, 0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
guard.ctrltime = 9
ground.velocity = -2.0
air.type = High
air.velocity = -2.0,-2.0
air.fall = 1
fall.recover = 1
fall.recovertime = ceil(30 * fvar(1)) + 9
;yaccel = 0.33


[state 200]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.98 * (1 - 0.02*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 200]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;立ち中攻撃（近）

[Statedef 210]
type    = S
movetype= A
physics = S
;juggle  = 5
poweradd= 10
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 2

[State 210]
type = ChangeState
trigger1 = prevstateno = 410
trigger2 = prevstateno = 210
value = 215

[State 210]
type = PlaySnd
trigger1 = Time = 1
value = 210,0

[State 210]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = Medium
damage = ceil(30 * fvar(0))
getpower = 30
guardflag = MA
hitflag = MAF
pausetime = 9,9
sparkno = S7001
guard.sparkno = S7007
sparkxy = -30,-60
hitsound = S210, 1
guardsound = S120, 0
ground.type = low
ground.slidetime = 15
ground.hittime  = 15
guard.ctrltime = 14
ground.velocity = -4
air.type = High
air.velocity = -2.5,-2.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 1
fall.recovertime = ceil(40 * fvar(1)) + 9
;yaccel = 0.33

[state 210]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.92 * (1 - 0.08*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 210]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
x = 2.5

[State 210]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;立ち中攻撃（遠）

[Statedef 215]
type    = S
movetype= A
physics = S
;juggle  = 4
poweradd= 10
ctrl = 0
velset = 0,0
anim = 215
sprpriority = 2

[State 215]
type = PlaySnd
trigger1 = Time = 1
value = 210,0

[State 215]
type = HitDef
trigger1 = AnimElem = 4
trigger1 = enemynear,canrecover=0||enemynear,hitfall=0
attr = S, NA
animtype  = Medium
damage = ceil(30 * fvar(0))
getpower = 30
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S7001
guard.sparkno = S7007
sparkxy = -30,-30
hitsound = S210, 1
guardsound = S120, 0
ground.type = low
ground.slidetime = 15
ground.hittime  = 15
guard.ctrltime = 14
ground.velocity = -4
air.type = High
air.velocity = -2.5,-2
air.fall = 1
fall.recover = 1
fall.recovertime = ceil(40 * fvar(1)) + 9
;yaccel = 0.33


[state 215]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.91 * (1 - 0.09*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 215]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;立ち強攻撃

[Statedef 220]
type    = S
movetype= A
physics = S
;juggle  = 5
poweradd= 15
ctrl = 0
velset = 0,0
anim = 220
sprpriority = 2

[State 220]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,0

[State 220]
type = VarRandom
trigger1 = AnimElem = 1
v = 30
range = 0,2

[State 220]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 0
value = 1,0
channel = 0

[State 220]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 1
value = 1,1
channel = 0

[State 220]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 2
value = 1,2
channel = 0

[State 220]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Hard
damage = ceil(30 * fvar(0))
getpower = 30
guardflag = MA
hitflag = MAF
pausetime = 9,9
sparkno = S7002
guard.sparkno = S7007
sparkxy = -30,-30
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.ctrltime = 17
ground.velocity = -4
air.type = High
air.velocity = -1.8,-2.4
air.fall = 1
fall.recover = 1
fall.recovertime = ceil(50 * fvar(1)) + 9
;yaccel = 0.33



[state 220]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.89 * (1 - 0.11*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 220]
type = ChangeState
trigger1 = AnimTime = 0
value = 221
ctrl = 1

[State 220]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
x = 2.0


;-------------------------------------------------------------
;立ち強攻撃（二段目）

[Statedef 221]
type    = S
movetype= A
physics = S
;juggle  = 5
poweradd= 15
ctrl = 0
velset = 0,0
anim = 221
sprpriority = 2

[State 221]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,0



[State 221]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Hard
damage = ceil(30 * fvar(0))
getpower = 30
guardflag = MA
hitflag = MAF
pausetime = 9,9
sparkno = S7002
guard.sparkno = S7007
sparkxy = -30,-60
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.ctrltime = 17
ground.velocity = -6
air.type = High
air.velocity = -1.8,-2.4
air.fall = 1
fall.recover = 1
fall.recovertime = ceil(50 * fvar(1)) + 9
;yaccel = 0.33


[state 221]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.89 * (1 - 0.11*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 221]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 221]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
x = 2.0



;---------------------------------------------------------------------------
;ましろハンマーTypeA

[Statedef 230]
type    = S
movetype= A
physics = S
;juggle  = 7
poweradd= 20
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 230]
type = PlaySnd
trigger1 = AnimElem = 5
value = 210,0

[State 230]
type = playsnd
trigger1 = animelem = 1
value = 1,5
channel = 0


[State 230]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = back
damage = ceil(80 * fvar(0))
HitFlag = MAFD
getpower = 60
guardflag = HA
priority = 6, HIT
pausetime = 9,9
sparkno = S7002
guard.sparkno = S7007
sparkxy = -10,-20
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -2
guard.ctrltime = 20
air.type = High
air.velocity = -3,20
air.fall = 1
fall.recover = 1
fall = 0
fall.recovertime = ceil(80 * fvar(1)) + 9
;yaccel = 0.33

[State 230]
type = velset
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
x = 2.0


[state 230]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.86 * (1 - 0.14*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 230]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------
;ましろハンマーTypeB

[Statedef 240]
type    = S
movetype= A
physics = S
;juggle  = 7
poweradd= 20
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 240]
type = PlaySnd
trigger1 = AnimElem = 6
value = 210,0

[State 240]
type = playsnd
trigger1 = animelem = 1
value = 1,3
channel = 0


[State 240]
type = HitDef
trigger1 = AnimElem = 7
attr = S, NA
animtype  = back
damage = ceil(80 * fvar(0))
HitFlag = MAF
getpower = 60
guardflag = LA
priority = 6, HIT
pausetime = 9,9
sparkno = S7002
guard.sparkno = S7007
sparkxy = -10,-20
hitsound = S220, 1
guardsound = S120, 0
ground.type = Low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -2.2,-7.1
guard.ctrltime = 20
air.type = High
air.velocity = -2.2,-6.5
air.fall = 1
fall.recover = 0
fall = 1
fall.recovertime = ceil(80 * fvar(1)) + 9
;yaccel = 0.33


[state 240]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.86 * (1 - 0.14*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 240]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち弱攻撃（ダッシュ）

[Statedef 250]
type    = S                      
movetype= A                      
physics = S                      
;juggle  = 1
velset = 4,0
ctrl = 0
anim = 200
poweradd = 5
sprpriority = 2


[State 250]
type = PlaySnd
trigger1 = Time = 1
value = 200,0

[State 250]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
x = 4.8

[State 250]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = ceil(25 * fvar(0))
getpower = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 9,9
sparkno = S7000
guard.sparkno = S7007
sparkxy = -10, -20
hitsound = S200, 1
guardsound = S120, 0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
guard.ctrltime = 10
ground.velocity = -3
air.type = High
air.velocity = -3,-3
air.fall = 1
fall.recover = 1
fall.recovertime = ceil(30 * fvar(1)) + 9
;yaccel = 0.33

[state 250]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.96 * (1 - 0.04*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 250]
type = AfterImageTime
trigger1 = AnimTime = 0
time = 0

[State 250]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;立ち中攻撃（ダッシュ）

[Statedef 260]
type    = S
movetype= A
physics = S
;juggle  = 5
poweradd= 10
ctrl = 0
velset = 4,0
anim = 215
sprpriority = 2

[State 260]
type = PlaySnd
trigger1 = Time = 1
value = 210,0

[State 260]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
x = 4.8

[State 260]
type = HitDef
trigger1 = AnimElem = 4
trigger1 = enemynear,canrecover=0||enemynear,hitfall=0
attr = S, NA
animtype  = Medium
damage = ceil(40 * fvar(0))
getpower = 30
guardflag = MA
hitflag = MAF
pausetime = 9,9
sparkno = S7001
priority = 4, Hit
guard.sparkno = S7007
sparkxy = -10,-50
hitsound = S210, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
guard.ctrltime = 14
ground.velocity = -4
air.type = High
air.velocity = -3,-3 
air.fall = 1
fall.recover = 1
fall.recovertime = ceil(40 * fvar(1)) + 9
;yaccel = 0.33



[state 260]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.90 * (1 - 0.10*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 260]
type = AfterImageTime
trigger1 = AnimTime = 0
time = 0

[State 260]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;閃爪・葉桜_開始

[Statedef 270]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 250
velset = 4.8,0
sprpriority = 2

[State 270]
type = HitBy
trigger1 = Time = 0
value = SCA,NA,SA,HA,NT,ST,HT
time = 4

[State 270]
type = ChangeState
trigger1 = AnimTime = 0
value = 271

;---------------------------------------------------------------------------
;閃爪・葉桜_攻撃

[Statedef 271]
type    = A
movetype= A
physics = A
;juggle  = 7
ctrl = 0
anim = 251
velset = 8.0,-6.5
sprpriority = 2
poweradd = 25

[State 271]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 271]
type = AfterImage
trigger1 = animelem = 4
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 271]
type = HitBy
trigger1 = Time = 0
value = SCA,NA,SA,HA,NT,ST,HT
time = 12

[State 271]
type = PosAdd
trigger1 = Time = 0
y = -14

[State 271]
type = VelAdd
trigger1 = AnimelemTime(1) >= 0
y = 0.25

[State 271]
type = VelAdd
trigger1 = Animelem = 4
y = 0.50

[State 271]
type = VelAdd
trigger1 = Animelem = 5
y = 0.35

[State 271]
type = VelAdd
trigger1 = Animelem = 6
y = 0.25

[State 271]
type = PlaySnd
trigger1 = Time = 0
value = 210,0

[State 271]
type = playsnd
trigger1 = animelem = 1
value = 1,7
channel = 0

[State 271]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
animtype  = Medium
damage = ceil(60 * fvar(0)),10
guardflag = M
hitflag = MAF
getpower = 65
priority = 4, HIT
pausetime = 9,9
sparkno = S7021
guard.sparkno = S7007
sparkxy = -20,-30
hitsound = S210, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 19
guard.ctrltime = 18
ground.hittime  = 19
air.hittime = 22
ground.velocity = -4
air.velocity = -6.2,-4.6
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
air.type = High
air.cornerpush.veloff    = 0
airguard.cornerpush.veloff= 0
;yaccel = 0.33

[State 271]
type = Explod
trigger1 = NumHelper(272) = 0
trigger1 = Animelem = 4
anim = 1271
ownpal = 1
postype = p1
pos = -7,-25
bindtime = -1
scale = 1.0,1.0
sprpriority = 7
pausemovetime = 9999
supermovetime = 9999
ID = 272
ignorehitpause = 1

[State 271]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
trigger2 = statetype = S
trigger2 = 1
ID = 272
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State 271]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 271]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 271]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 271]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 271]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 271]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 271]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 271]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[state 271]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.92 * (1 - 0.08*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0



[State 271]
type = ChangeState
trigger1 = Pos y >= 0
value = 0

;---------------------------------------------------------------------

;---------------------------------------------------------------------------
;屈み弱攻撃

[Statedef 400]
type    = C
movetype= A
physics = C
;juggle  = 3
poweradd= 5
ctrl = 0
anim = 400
sprpriority = 2

[State 400]
type = PlaySnd
trigger1 = Time = 1
value = 200,0

[State 400]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = ceil(20 * fvar(0))
getpower = 20
priority  = 3 ,Hit
animtype  = Light
guardflag = L
hitflag = MAF
pausetime = 9,9
sparkno = S7000
guard.sparkno = S7007
sparkxy = -5,-10
hitsound = S200, 1
guardsound = S120, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
guard.ctrltime = 9
ground.velocity = -3.5
air.velocity = -3.5,-3
air.type = High
fall.recovertime = ceil(30 * fvar(1)) + 9
;yaccel = 0.33

[state 400]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.94 * (1 - 0.06*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 400]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;屈み弱攻撃（ダッシュ）

[Statedef 405]
type    = C
movetype= A
physics = C
;juggle  = 3
poweradd= 5
ctrl = 0
anim = 400
velset = 4,0
sprpriority = 2

[State 405]
type = PlaySnd
trigger1 = Time = 1
value = 200,0

[State 405]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
x = 4.8

[State 405]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = ceil(25 * fvar(0))
getpower = 30
priority  = 3 ,Hit
animtype  = Light
guardflag = L
hitflag = MAF
pausetime = 9,9
sparkno = S7000
guard.sparkno = S7007
sparkxy = -5,-10
hitsound = S200, 1
guardsound = S120, 0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
guard.ctrltime = 10
ground.velocity = -3.5
air.velocity = -3.5,-3
air.type = High
fall.recovertime = ceil(30 * fvar(1)) + 9
;yaccel = 0.33

[state 405]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.92 * (1 - 0.08*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 405]
type = AfterImageTime
trigger1 = AnimTime = 0
time = 0

[State 405]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;屈み中攻撃

[Statedef 410]
type    = C
movetype= A
physics = C
;juggle  = 5
poweradd= 10
ctrl = 0
anim = 410
sprpriority = 2

[State 410]
type = ChangeState
trigger1 = prevstateno = 410
trigger2 = prevstateno = 210
value = 215

[State 410]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,0

[State 410]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
damage = ceil(30 * fvar(0))
getpower = 30
animtype  = Medium
priority  = 3 ,Hit
guardflag = L
hitflag = MAF
pausetime = 9,9
sparkno = S7001
guard.sparkno = S7007
sparkxy = -5,-10
hitsound = S210, 1
guardsound = S120, 0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
guard.ctrltime = 14
ground.velocity = -3
air.velocity = -4,-4
fall.recovertime = ceil(40 * fvar(1) * 0.85) + 9
;yaccel = 0.33

[state 410]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.91 * (1 - 0.09*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 410]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;屈み中攻撃（ダッシュ）

[Statedef 415]
type    = C
movetype= A
physics = C
;juggle  = 5
poweradd= 10
ctrl = 0
anim = 410
velset = 4,0
sprpriority = 2

[State 415]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,0

[State 415]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
x = 4.8

[State 415]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
damage = ceil(35 * fvar(0))
getpower = 40
animtype  = Medium
priority  = 3 ,Hit
guardflag = L
hitflag = MAF
pausetime = 9,9
sparkno = S7001
guard.sparkno = S7007
sparkxy = -5,-10
hitsound = S210, 1
guardsound = S120, 0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 16
ground.velocity = -4
air.velocity = -4,-4
fall.recovertime = ceil(40 * fvar(1)) + 9
;yaccel = 0.33

[state 415]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.89 * (1 - 0.11*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 415]
type = AfterImageTime
trigger1 = AnimTime = 0
time = 0

[State 415]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈強攻撃

[Statedef 420]
type    = C
movetype= A
physics = C
;juggle  = 7
poweradd= 15
ctrl = 0
anim = 420
sprpriority = 2

[State 420, Speed]
type = Velset
trigger1 = AnimElem = 3
x = 18

[State 420, VelSet]
type = VelSet
trigger1 = AnimElem = 7
x = 0

[State 420, 3]
type = VarRandom
trigger1 = time = 0
v = 5
range = 0,4

[State 420]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,0

[State 430]
type = VarRandom
trigger1 = AnimElem = 1
v = 30
range = 0,2

[State 430]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 0
value = 1,0
channel = 0

[State 430]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 1
value = 1,1
channel = 0

[State 430]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 2
value = 1,2
channel = 0


[State 420]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage  = ceil(45 * fvar(0))
hitflag = MAF
guardflag = L
hitflag = MAF
animtype = Hard
priority  = 4 ,Hit
getpower = 50
pausetime = 9,9
guard.sparkno = S7007
sparkno = S7002
sparkxy = -5,-10
hitsound   = S220,1
guardsound = S120,0
ground.type = Low
ground.slidetime = 19
ground.hittime  = 19
guard.ctrltime = 18
ground.velocity = -3.5,-6.7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -3.2,-6.2
yaccel = 0.7
guard.velocity = -5
fall.recovertime = ceil(50 * fvar(1)) + 9
fall = 1
air.fall = 1
fall.recover = 0
;yaccel = 0.33

[State 420]
type=varset
triggerall = P2MoveType =H
trigger1 = movehit
fvar(1) = fvar(1) * 0.89 * (1 - 0.11*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 420, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
;屈み強攻撃

[Statedef 430]
type    = C
movetype= A
physics = C
;juggle  = 7
poweradd= 15
ctrl = 0
anim = 430
velset = 4,0
sprpriority = 2

[State 430]
type = PlaySnd
trigger1 = AnimElem = 1
value = 210,0

[State 430]
type = VarRandom
trigger1 = AnimElem = 1
v = 30
range = 0,2

[State 430]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 0
value = 1,0
channel = 0

[State 430]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 1
value = 1,1
channel = 0

[State 430]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 2
value = 1,2
channel = 0



[State 430]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
x = 8.8

[State 430]
type = veladd
trigger1 = Animelem = 4
value = -1.0

[State 430]
type = veladd
trigger1 = Animelem = 5
value = -1.5

[State 430]
type = veladd
trigger1 = Animelem = 6
value = -2.0

[State 430, 3]
type = VarRandom
trigger1 = time = 0
v = 5
range = 0,4

[State 430]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage = ceil(50 * fvar(0))
getpower = 60
animtype  = high
priority  = 4 ,Hit
guardflag = L
hitflag = MAF
pausetime = 5,9
sparkno = S7002
guard.sparkno = S7007
sparkxy = -5,-10
hitsound = S220, 1
guardsound = S120, 0
ground.type = Low
ground.slidetime = 19
ground.hittime  = 19
guard.ctrltime = 18
ground.velocity = -3,-4
air.velocity = -4,-4
fall.recovertime = ceil(50 * fvar(1)) + 9
fall = 1
air.fall = 1
fall.recover = 0
;yaccel = 0.33

[state 430]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.88 * (1 - 0.12*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 430]
type = AfterImageTime
trigger1 = AnimTime = 0
time = 0

[State 430]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;空中弱攻撃

[Statedef 600]
type    = A
movetype= A
physics = A
;juggle  = 3
poweradd= 5
ctrl = 0
anim = 600
sprpriority = 2

[State 600]
type = PlaySnd
trigger1 = Time = 1
value = 200,0

[State 600]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
animtype  = light
damage = ceil(20 * fvar(0))
getpower = 20
hitflag = MAF
guardflag = HA
priority  = 2 ,Hit
pausetime = 9,9
sparkno = S7000
guard.sparkno = S7007
sparkxy = -5,-5
hitsound = S200, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 12
guard.hittime = 12
guard.ctrltime = 7
ground.velocity = -3
air.type = High
air.velocity = -2,-2
air.fall = 1
fall.recover = 1
fall.recovertime = ceil(30 * fvar(1)) + 9
;yaccel = 0.33

[state 600]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.93 * (1 - 0.07*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 600]
type = AfterImageTime
trigger1 = AnimTime = 0
time = 0

[State 600, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
ctrl = 1

;---------------------------------------------------------------------------
;空中中攻撃

[Statedef 610]
type    = A
movetype= A
physics = A
;juggle  = 5
poweradd= 10
ctrl = 0
anim = 610
sprpriority = 2

[State 610]
type = PlaySnd
trigger1 = Time = 1
value = 210,0

[State 610]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
animtype  = Medium
damage = ceil(30 * fvar(0))
getpower = 30
hitflag = MAF
guardflag = HA
priority  = 3 ,Hit
pausetime = 9,9
sparkno = S7001
guard.sparkno = S7007
sparkxy = -10,-10
hitsound = S210, 1
guardsound = S120, 0
ground.type = High
ground.hittime = 15
ground.slidetime = 10
guard.hittime = 15
guard.ctrltime = 14
ground.velocity = -5
air.type = High
airguard.velocity = -3,-4.5
air.velocity = -3,-3
air.fall = 1
fall.recover = 1
fall.recovertime = ceil(40 * fvar(1)) + 9
;yaccel = 0.33

[state 610]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.90 * (1 - 0.10*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 610]
type = AfterImageTime
trigger1 = AnimTime = 0
time = 0

[State 610]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
ctrl = 1

;---------------------------------------------------------------------------
;空中強攻撃

[Statedef 620]
type    = A
movetype= A
physics = A
;juggle  = 7
poweradd= 15
ctrl = 0
anim = 620
sprpriority = 2

[State 620]
type = PlaySnd
trigger1 = Time = 1
value = 210,0

[State 620]
type = VarRandom
trigger1 = AnimElem = 1
v = 30
range = 0,2

[State 620]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 0
value = 1,0
channel = 0

[State 620]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 1
value = 1,1
channel = 0

[State 620]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 2
value = 1,2
channel = 0

[State 620]
type = HitDef
trigger1 = AnimElem= 3
attr = A, NA
damage = ceil(60 * fvar(0))
getpower = 50
hitflag = MAF
guardflag = HA
priority  = 5 ,Hit
pausetime = 9,9
sparkno = S7002
guard.sparkno = S7007
sparkxy = -10,-10
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -6
air.type = High
airguard.velocity = -3,-3
air.velocity = -12,3
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(50 * fvar(1)) + 9
;yaccel = 0.33


[state 620]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.87 * (1 - 0.13*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 620]
type = AfterImageTime
trigger1 = AnimTime = 0
time = 0

[State 620]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
ctrl = 1

;---------------------------------------------------------------------------
;投げ

[statedef 800]
type = S
movetype = A
Physics = S
velset = 0
ctrl = 0
anim = 800
;juggle = 0
SprPriority = 2
Facep2 = 1
poweradd = 20

[state 800]
type = varset 
trigger1 = time = 0
v = 1
value = 0

[State 800]
type = Hitdef
trigger1 = AnimElem = 2
attr = S, NT
hitflag = M-
priority = 1, Miss
sparkno = S7003
sparkxy = -10, -50
sprpriority = 1 
guard.dist = 0
P1Facing = ifelse (FrontEdgeDist<BackEdgeDist, 1, -1)
P2Facing = 1
p1stateno = 810
p2stateno = 811
hitsound   = S800,0

[State 800]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State 800]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; 倒れこみ
[Statedef 810]
type    = S
movetype = A
physics = S
anim = 810
poweradd = 0
velset = 0,0

[State 810]
type = nothitby
trigger1 = 1
value = SCA

[State 810]
type = PlaySnd
trigger1 = AnimElem = 13
value = S220,1

[State 810]
type = playsnd
trigger1 = animelem = 1
value = 1,8
channel = 0




[State 810]
type = width
trigger1 = time = 0
edge = 30,5
persistent = 0

[State 810]
Type = PosAdd
Trigger1 = AnimElem = 6
Trigger2 = AnimElem = 7
Trigger3 = AnimElem = 8
Trigger4 = AnimElem = 9
Trigger5 = AnimElem = 10
X = -8

[State 810]
Type = TargetBind
Trigger1 = AnimElem = 1
Pos = 30, 0


[State 810]
Type = TargetBind
Trigger1 = AnimElem = 4
Pos = 30, -5

[State 810]
Type = TargetBind
Trigger1 = AnimElem = 5
Pos = 30, -25

[State 810]
Type = TargetBind
Trigger1 = AnimElem = 6
Pos = 15, -40

[State 810]
Type = TargetBind
Trigger1 = AnimElem = 7
Pos = 10, -40

[State 810]
Type = TargetBind
Trigger1 = AnimElem = 7
Pos = 8, -42

[State 810]
Type = TargetBind
Trigger1 = AnimElem = 8
Pos = 10, -105

[State 810]
Type = TargetBind
Trigger1 = AnimElem = 9
Pos = 5, -105

[State 810]
Type = TargetBind
Trigger1 = AnimElem = 10
Pos = 0, -105

[State 810]
Type = TargetBind
Trigger1 = AnimElem = 11
Pos = -5, -105

[State 810]
Type = TargetBind
Trigger1 = AnimElem = 12
Pos = -80, -5

[State 810]
type = Explod
trigger1 = animelem = 13
anim = 7004
postype = p2
pos = 0,0
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 810]
type = Targetlifeadd
trigger1 = animElem = 15
value = - 60


[State 810]
Type = HitAdd
Trigger1 = AnimElem = 12
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State 810]
Type = VelSet
Trigger1 = Time = 29
X = -1
Y = -2


[State 810]
Type = VelSet
Trigger1 = Time = 36
X = 0
Y = -1


[State 810]
Type = VelSet
Trigger1 = Time = 37
X = 0
Y = -1.5

[State 810]
Type = VelSet
Trigger1 = Time = 38
X = 0
Y = -2.2



[State 810]
Type = VelAdd
Trigger1 = Time >= 30
Y = .4


[State 810]
Type = TargetState
Trigger1 = Time <= 23
Value = 811
IgnoreHitPause = 1


[State 810]
Type = TargetState
Trigger1 = Time = [24,28]
Value = 812
IgnoreHitPause = 1


[State 810]
Type = TargetState
Trigger1 = Time = 29
Value = 813
IgnoreHitPause = 1


[State 810]
Type = Turn
Trigger1 = AnimElem = 18


[State 810]
type = EnvShake
Trigger1 = animElem = 13
time = 5
ampl = 6


[State 810]
Type = ChangeState
Trigger1 = AnimElem = 19
Value = 51
ctrl = 0

;------------------------------------------
[Statedef 811]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State 811]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1
IgnoreHitPause = 1


[State 811]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1


[State 811]
Type = ChangeAnim
Trigger1 = 1
Value = 5010

[State 811]
Type = SelfState
Trigger1 = Time >= 10
Trigger1 = P2MoveType != A
Value = 5035


;------------------------------------------
[Statedef 812]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State 812]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1
IgnoreHitPause = 1


[State 812]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1


[State 812]
Type = AngleDraw
Trigger1 = 1

[State 812]
Type = AngleSet
Trigger1 = 1
Value = -90

[State 812]
Type = ChangeAnim2
Trigger1 = 1
Value = 811

[State 812]
Type = SelfState
Trigger1 = Time >= 10
Trigger1 = P2MoveType != A
Value = 5035



;-----------------------------------------
[Statedef 813]
Type    = A
MoveType= H
Physics = N
VelSet = 0,10

[State 813]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 30
IgnoreHitPause = 1
Persistent = 1


[State 813]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 0
Value = 5030

[State 813]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State 813]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050

[State 813]
Type = VelAdd
Trigger1 = 1
Y = .5

[State 813]
Type = HitFallSet
Trigger1 = 1
Value = 1

[State 813]
Type = SelfState
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
Value = 5100

;------------------------------------------------------------------------
;空中投げ

[Statedef 820]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 820
SprPriority = 2
poweradd = 30

[State 810]
type = playsnd
trigger1 = animelem = 1
value = 1,8
channel = 0


[State 820]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State 820]
Type = HitDef
Trigger1 = AnimElem = 1
Trigger1 = P2StateNo != [154,155]
Attr = A, NT
HitFlag = AF
Priority = 1, Miss
sparkno = S7003
sparkxy = -10, -50
SprPriority = 1
P1Facing = ifelse (command = "holdfwd", 1, -1)
P2Facing = 1
P1StateNo = 830
P2StateNo = 831
Fall = 1
Air.Fall = 1
hitsound   = S800,0

[State 820]
Type = HitDef
Trigger1 = AnimElem = 1
Trigger1 = P2StateNo != [154,155]
Attr = A, NT
HitFlag = AF
Priority = 0, Miss
sparkno = S7003
sparkxy = -10, -50
SprPriority = 1
P1Facing = ifelse (FrontEdgeDist<BackEdgeDist, 1, -1)
P2Facing = 1
P1StateNo = 830
P2StateNo = 831
Fall = 1
Air.Fall = 1
hitsound   = S800,0

[State 820]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

;---------------------------------------------------------------------------
;空中投げ
[Statedef 830]
Type    = A
MoveType= A
Physics = N
Anim = 830



[State 830]
Type = VelSet
Trigger1 = Time = 0
X = 0
Y = 0

[State 830]
Type = Width
Trigger1 = 1
Edge = 40,0

[State 830]
Type = TargetBind
Trigger1 = AnimElem = 1
Pos = 40, 0

[State 830]
Type = TargetBind
Trigger1 = AnimElem = 2
Pos = 35, 0

[State 830]
Type = VelSet
Trigger1 = AnimElem = 8
X = -1.6
Y = -5

[State 830]
Type = VelAdd
Trigger1 = Time >= 21
Y = .32

[State 830]
Type = TargetLifeAdd
Trigger1 = AnimElem = 5
Value = -60


[State 830]
Type = TargetState
Trigger1 = AnimElem = 5
Value = 832

[State 830]
Type = ChangeState
Trigger1 = (Vel Y > 0) && (Pos Y >= 0)
Value = 51
Ctrl = 0

;---------------------------------------------------------------------------
;投げ・投げられている相手

[Statedef 831]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State 831]
Type = HitFallSet
Trigger1 = 1
Value = 0

[State 831]
Type = ChangeAnim2
Trigger1 = Time = 0
Value = 831

[State 831]
Type = SelfState
Trigger1 = Time >= 30
Trigger1 = P2MoveType != A
Value = 5035

[State 831]
type = PlaySnd
trigger1 = P2movetype !=A
value = s3000,0
;---------------------------------------------------------------------------
;投げ・相手の空中の状態

[Statedef 832]
Type    = A
MoveType= H
Physics = N
VelSet = -7,10

[State 832]
Type = HitFallSet
Trigger1 = 1
Value = 1

[State 832]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 20
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 832]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 0
Value = 5030

[State 832]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State 832]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050



[State 832]
Type = SelfState
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
Value = 5100



;---------------------------------------------------------------------------
;AI用分岐ステート

[Statedef 999]
type    = S
physics = S
anim = 100
sprpriority = 1
ctrl = 0
velset = 0,0

[State 1000, 5]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 4

[State 1000]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 1000, Helper];ダッシュエフェクト
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999



[State 1000]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1000]
type = playerpush
trigger1 = Anim = 100
value = 1

[State 1000]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1000]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1000]
type = ChangeState
trigger1 = Animtime = 0
value = 1001
ctrl = 0


;---------------------------------------------------------------------------
;閃爪・桜花_ダッシュ

[Statedef 1000]
type    = S
physics = S
anim = 100
sprpriority = 1
ctrl = 0
velset = 0,0

[State 1000, 5]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 4

[State 1000]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 1000, Helper];ダッシュエフェクト
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999



[State 1000]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1000]
type = playerpush
trigger1 = Anim = 100
value = 1

[State 1000]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1000]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1000]
type = ChangeState
trigger1 = Animtime = 0
value = 1001
ctrl = 0


;---------------------------------------------
;閃爪・桜花_ダッシュ2

[Statedef 1001]
type    = S
physics = S
anim = 1000
sprpriority = 1
ctrl = 0

[State 1001]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 9

[State 1001]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1001]
type = AfterImage
trigger1 = time = 0
time = 20
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1001]
type = AfterImage
trigger1 = time = 9
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1001]
Type = VelSet
Trigger1 = Time = [0,3]
X = 7

[State 1001]
Type = VelSet
Trigger1 = Time = [3,6]
X = 12

[State 1001]
Type = VelSet
Trigger1 = Time = [6,9]
X = 20

[State 1001]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1001]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1001]
type = PlaySnd
trigger1 = Time = 1
value = 100,0

[State 1003]
type = ChangeState
trigger1 = command = "c"&&command != "holddown"&&!var(59)||prevstateno=999&&time>=1
trigger1 = Time <= 9
value = 270

[State 1001]
type = ChangeState
trigger1 = Anim = 1000
trigger1 = Animtime = 0
value = 1002
ctrl = 0


;------------------------------------------------------------------
;閃爪・桜花_攻撃

[Statedef 1002]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 25
ctrl = 0
velset = 0,0
anim = 1001
sprpriority = 2


[State 1002]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 6

[State 1002]
type = PlaySnd
trigger1 = Time = 1
value = s1200,0

[State 1002]
type = VarRandom
trigger1 = AnimElem = 1
v = 30
range = 0,2

[State 1002]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 0
value = 1,9
channel = 0

[State 1002]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 1
value = 1,7
channel = 0

[State 1002]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 2
value = 1,2
channel = 0


[State 1002]
Type = PlayerPush
Trigger1 = Time = [0,6]
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1002]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = HARD
damage = ceil(75 * fvar(0)),10
getpower = 75
guardflag = MA
hitflag = MAF
priority  = 5 ,Hit
pausetime = 9,9
sparkno = S7022
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 27
ground.hittime  = 27
guard.ctrltime = 27
ground.velocity = -2.0,-4.5
air.type = High
air.velocity = -2.0,-4.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(75 * fvar(1)) + 9
fall = 1
;yaccel = 0.33


[State 1002]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.88 * (1 - 0.12*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0



[State 1002,Effect]
type = Explod
trigger1 = Animelem = 1
anim = 1002
ownpal = 1
sprpriority = 9
postype = p1
pos = 15,0
bindtime = -1
pausemovetime = 9999
supermovetime = 0
ID = 1003
ignorehitpause = 1


[State 1002]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
ID = 1003
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1


[State 1002]
type = Explod
trigger1 = time = 0
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 1002]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1002]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1002]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1002]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1002]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1002]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1002]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1002]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 1002]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1002]
type = AfterImage
trigger1 = time = 10
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 1002]
Type = VelSet
Trigger1 = Time = [0,8]
X = 7

[State 1002]
Type = VelSet
Trigger1 = Time = [9,13]
X = 5

[State 1002]
Type = VelSet
Trigger1 = Time = [14,16]
X = 3

[State 1002]
Type = VelSet
Trigger1 = Time = [17,19]
X = 2

[State 1002]
Type = VelSet
Trigger1 = Time = [20,22]
X = 1


[State 1002]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;閃爪・桜霞_ダッシュ

[Statedef 1003]
type    = S
physics = S
anim = 100
sprpriority = 1
ctrl = 0
velset = 0,0

[State 1003, 5]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 4

[State 1003]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 1003, Helper];ダッシュエフェクト
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999



[State 1003]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1003]
type = playerpush
trigger1 = Anim = 100
value = 1

[State 1003]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1003]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1003]
type = ChangeState
trigger1 = Animtime = 0
value = 1004
ctrl = 0

;---------------------------------------------
;閃爪・桜霞_ダッシュ2

[Statedef 1004]
type    = S
physics = S
anim = 1006
sprpriority = 1
ctrl = 0



[State 1004]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA
time = 4

[State 1004]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1


[State 1004]
type = AfterImage
trigger1 = time = 0
time = 20
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1004]
type = AfterImage
trigger1 = time = 4
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1004]
Type = VelSet
Trigger1 = Time = [0,2]
X = 7

[State 1004]
Type = VelSet
Trigger1 = Time = [2,4]
X = 12

[State 1004]
Type = VelSet
Trigger1 = Time = [4,6]
X = 20

[State 1004]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1004]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1004]
type = PlaySnd
trigger1 = Time = 1
value = 100,0

[State 1004]
type = ChangeState
trigger1 = command = "c"&&command != "holddown"&&!var(59)||prevstateno=999&&time>=1
trigger1 = Time <= 6
value = 270


[State 1004]
type = ChangeState
trigger1 = Animtime = 0
value = 1005
ctrl = 0


;------------------------------------------------------------------
;閃爪・桜霞_攻撃

[Statedef 1005]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 30
ctrl = 0
velset = 0,0
anim = 1001
sprpriority = 2


[State 1005]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA
time = 6


[State 1005]
type = PlaySnd
trigger1 = Time = 1
value = s1200,0

[State 1002]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 0
value = 1,9
channel = 0

[State 1002]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 1
value = 1,7
channel = 0

[State 1002]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 2
value = 1,2
channel = 0


[State 1005]
Type = PlayerPush
Trigger1 = Time = [0,6]
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1005]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = HARD
damage = ceil(90 * fvar(0)),15
getpower = 90
guardflag = MA
hitflag = MAF
priority  = 5 ,Hit
pausetime = 9,9
sparkno = S7022
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 28
ground.hittime  = 28
guard.ctrltime = 28
ground.velocity = -2.0,-4.5
air.type = High
air.velocity = -2.0,-4.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(90 * fvar(1)) + 9
fall = 1
;yaccel = 0.33


[State 1005]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.90 * (1 - 0.10*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0



[State 1005,Effect]
type = Explod
trigger1 = Animelem = 1
anim = 1003
ownpal = 1
sprpriority = 9
postype = p1
pos = 15,0
bindtime = -1
pausemovetime = 9999
supermovetime = 0
ID = 1004
ignorehitpause = 1


[State 1005]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
ID = 1004
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1


[State 1005]
type = Explod
trigger1 = time = 0
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 1005]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1005]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1005]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1005]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1005]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1005]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1005]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1005]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 1005]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1005]
type = AfterImage
trigger1 = time = 10
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 1005]
Type = VelSet
Trigger1 = Time = [0,8]
X = 7

[State 1005]
Type = VelSet
Trigger1 = Time = [9,13]
X = 5

[State 1005]
Type = VelSet
Trigger1 = Time = [14,16]
X = 3

[State 1005]
Type = VelSet
Trigger1 = Time = [17,19]
X = 2

[State 1005]
Type = VelSet
Trigger1 = Time = [20,22]
X = 1



[State 1005]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;----------------------------------------------------------------------------

;閃爪・舞桜_待機

[statedef 1010]
type    = S
physics = S
anim = 1004
ctrl = 0
velset = 0,0
sprpriority = 1

[State 1010, 5]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 20

[State 1010]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5


[State 1010, Helper];ダッシュエフェクト
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999



[State 1010]
type = playerpush
trigger1 = Anim = 1004
value = 1

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1010]
type = ChangeState
trigger1 = Animtime = 0
value = 1011
ctrl = 0



;----------------------------------------------------------------
;閃爪・舞桜_ダッシュ

[Statedef 1011]
type    = S
physics = S
anim = 1005
ctrl = 0
sprpriority = 1

[State 1011, 5]
type = NotHitBy
trigger1 = animelem = 1
value = SCA
time = 12

[State 1011]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1011]
type = AfterImage
trigger1 = time = 0
time = 18
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1011]
type = AfterImage
trigger1 = time = 19
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 1011]
Type = VelSet
Trigger1 = Time = [0,3]
X = 7

[State 1011]
Type = VelSet
Trigger1 = Time = [3,7]
X = 12

[State 1011]
Type = VelSet
Trigger1 = Time = [7,12]
X = 20

[State 1011]
type = VelSet
trigger1 = time = [12,15]
x = 7

[State 1011]
type = VelSet
trigger1 = time = [15,18]
x = 5

[State 1011]
type = VelSet
trigger1 = time >= 18
x = 3


[State 1011]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1011]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1011]
type = PlaySnd
trigger1 = Time = 1
value = 100,0

[State 1011]
type = ChangeState
trigger1 = command = "c"&&command != "holddown"&&!var(59)
trigger1 = Time <= 12
value = 270

[State 1011]
Type = ChangeState
Trigger1 = Time >= 8
Trigger1 = Time <= 12
Trigger1 = P2BodyDist X = [-15,15]
Trigger1 = p2bodydist Y = [-70,20]
Value = 1012

[State 1011]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;--------------------------------------------------------------
;閃爪・舞桜_攻撃

[Statedef 1012]
Type    = A
MoveType= A
Physics = A
;Juggle  = 3
VelSet = 0,0
Ctrl = 0
Anim = 1010
poweradd = 25
sprpriority = 2

[State 1012]
type = PlaySnd
trigger1 = Time = 1
value = s1200,0

[State 1012]
type = VarRandom
trigger1 = AnimElem = 1
v = 30
range = 0,2

[State 1012]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 0
value = 1,9
channel = 0

[State 1012]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 1
value = 1,7
channel = 0

[State 1012]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 2
value = 1,2
channel = 0



[State 1012]
Type = PosAdd
Trigger1 = AnimElem = 1
Y = -20

[State 1012]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 4


[State 1012]
Type = VelSet
Trigger1 = AnimElem = 1
X = 3.0
Y = -7.0

[State 1012]
type = AfterImage
trigger1 = time = 1
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1012]
type = AfterImage
trigger1 = time = 4
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1012]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1012]
Type = Turn
Trigger1 = P2Dist X < -10
Trigger1 = AnimElem = 7



[State 1012]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = HARD
damage = ceil(105 * fvar(0)),20
HITflag = MAFD
getpower = 75
guardflag = H
priority  = 6 ,Hit
pausetime = 9,9
sparkno = S7021
guard.sparkno = S7007
sparkxy = -20,-30
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
guard.ctrltime = 30
ground.velocity = 0,-7.4
air.type = High
air.velocity = 0,-7.2
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(105 * fvar(1)) + 9
fall = 1
;yaccel = 0.33

[state 1012]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.86 * (1 - 0.14*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0



[State 1012,Effect]
type = Explod
trigger1 = time = 1
anim = 1011
postype = p1
pos = 15,-20
ID = 1011
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999


[State 1012,Effect]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
ID = 1011
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1


[State 1012]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1012]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1012]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1012]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1012]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1012]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1012]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1012]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 1012]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State 1012]
Type = ChangeState
Trigger1 = (Vel Y > 0) && (Pos Y >= 0)
Value = 51
Ctrl = 1

;--------------------------------------------
;閃爪・散桜_待機

[Statedef 1020]
type    = S
physics = S
anim = 1004
ctrl = 0
velset = 0,0
sprpriority = 1


[State 1020, 5]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 20

[State 1020]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5


[State 1020, Helper]
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999



[State 1020]
type = playerpush
trigger1 = Anim = 1004
value = 1

[State 1020]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1020]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1020]
type = ChangeState
trigger1 = Animtime = 0
value = 1021
ctrl = 0

;--------------------------
;閃爪・散桜_ダッシュ

[Statedef 1021]
type    = S
physics = S
anim = 1005
ctrl = 0
sprpriority = 1

[State 1021, 5]
type = NotHitBy
trigger1 = animelem = 1
value = SCA
time = 12

[State 1021]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1021]
type = AfterImage
trigger1 = time = 0
time = 18
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1021]
type = AfterImage
trigger1 = time = 19
trigger2 = movehit
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1021]
Type = VelSet
Trigger1 = Time = [0,3]
X = 7

[State 1021]
Type = VelSet
Trigger1 = Time = [3,7]
X = 12

[State 1021]
Type = VelSet
Trigger1 = Time = [7,12]
X = 20

[State 1021]
type = VelSet
trigger1 = time = [12,15]
x = 7

[State 1021]
type = VelSet
trigger1 = time = [15,18]
x = 5

[State 1021]
type = VelSet
trigger1 = time >= 18
x = 3


[State 1021]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1021]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1021]
type = PlaySnd
trigger1 = Time = 1
value = 100,0

[State 1021]
type = ChangeState
trigger1 = command = "c"
trigger1 = command != "holddown"
trigger1 = Time <= 12
value = 270


[State 1021]
Type = ChangeState
Trigger1 = Time >= 8
Trigger1 = Time <= 12
Trigger1 = P2BodyDist X = [-10,10]
Trigger1 = P2BodyDist Y = [-40,0]
Value = 1022

[State 1021]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------
;閃爪・散桜_攻撃

[Statedef 1022]
type = S
movetype = A
Physics = S
velset = 0
ctrl = 0
anim = 800
;juggle = 0
Facep2 = 1
poweradd = 25
sprpriority = 2

[state 1022]
type = poweradd
trigger1 = movehit
value = 80



[State 1022]
type = Hitdef
trigger1 = AnimElem = 2
attr = S, NT
hitflag = M-
priority = 2, Miss
sparkno = S7003
sparkxy = -10, -50
sprpriority = 1
guard.dist = 0
P1Facing = ifelse (FrontEdgeDist<BackEdgeDist, 1, -1)
P2Facing = 1
p1stateno = 1023
p2stateno = 811
hitsound   = S800,0

[State 1022]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State 1022]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------

[Statedef 1023]
type    = S
movetype = A
physics = S
anim = 1020
poweradd = 0
velset = 0,0
sprpriority = 2


[State 1023]
type = nothitby
trigger1 = 1
value = SCA

[State 1023]
type = PlaySnd
trigger1 = AnimElem = 13
value = S3000,0

[State 1023]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,8
channel = 0



[State 1023]
type = width
trigger1 = time = 0
edge = 30,5
persistent = 0

[State 1023]
Type = PosAdd
Trigger1 = AnimElem = 6
Trigger2 = AnimElem = 7
Trigger3 = AnimElem = 8
Trigger4 = AnimElem = 9
Trigger5 = AnimElem = 10
X = -8

[State 1023]
Type = TargetBind
Trigger1 = AnimElem = 1
Pos = 30, 0


[State 1023]
Type = TargetBind
Trigger1 = AnimElem = 4
Pos = 30, -5

[State 1023]
Type = TargetBind
Trigger1 = AnimElem = 5
Pos = 30, -25

[State 1023]
Type = TargetBind
Trigger1 = AnimElem = 6
Pos = 15, -40

[State 1023]
Type = TargetBind
Trigger1 = AnimElem = 7
Pos = 10, -40

[State 1023]
Type = TargetBind
Trigger1 = AnimElem = 7
Pos = 8, -42

[State 1023]
Type = TargetBind
Trigger1 = AnimElem = 8
Pos = 10, -105

[State 1023]
Type = TargetBind
Trigger1 = AnimElem = 9
Pos = 5, -105

[State 1023]
Type = TargetBind
Trigger1 = AnimElem = 10
Pos = 0, -105

[State 1023]
Type = TargetBind
Trigger1 = AnimElem = 11
Pos = -5, -105

[State 1023]
Type = TargetBind
Trigger1 = AnimElem = 12
Pos = -80, -5


[State 1023]
type = Explod
trigger1 = animelem = 13
anim = 7004
postype = p2
pos = 0,0
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 1023]
type = Explod
trigger1 = animelem = 14
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1023]
type = Explod
trigger1 = animelem = 14
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1023]
type = Explod
trigger1 = animelem = 14
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1023]
type = Explod
trigger1 = animelem = 14
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1023]
type = Explod
trigger1 = animelem = 14
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1023]
type = Explod
trigger1 = animelem = 14
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1023]
type = Explod
trigger1 = animelem = 14
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1023]
type = Explod
trigger1 = animelem = 13
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1023]
type = Targetlifeadd
trigger1 = animElem = 15
value = - 105
absolute = 1


[State 1023]
Type = HitAdd
Trigger1 = AnimElem = 12
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State 1023]
Type = VelSet
Trigger1 = Time = 29
X = -1
Y = -2


[State 1023]
Type = VelSet
Trigger1 = Time = 36
X = 0
Y = -1


[State 1023]
Type = VelSet
Trigger1 = Time = 37
X = 0
Y = -1.5

[State 1023]
Type = VelSet
Trigger1 = Time = 38
X = 0
Y = -2.2



[State 1023]
Type = VelAdd
Trigger1 = Time >= 30
Y = .4


[State 1023]
Type = TargetState
Trigger1 = Time <= 23
Value = 811
IgnoreHitPause = 1



[State 1023]
Type = TargetState
Trigger1 = Time = [24,28]
Value = 812
IgnoreHitPause = 1



[State 1023]
Type = TargetState
Trigger1 = Time = 29
Value = 813
IgnoreHitPause = 1


[State 1023]
Type = Turn
Trigger1 = AnimElem = 18


[state 1023]
type = EnvShake
Trigger1 = animElem = 14
time = 5
ampl = 6


[State 1023]
Type = ChangeState
Trigger1 = AnimElem = 19
Value = 51
ctrl = 0

;-----------------------------------------------

;閃爪・枝桜＿1段目

[Statedef 1030]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 25
ctrl = 0
velset = 0,0
anim = 1030
sprpriority = 2
ctrl = 0

[state 1030]
type = hitby
trigger1 = animelemtime(5)<0
value = SCA,NP,SP,HP


[State 1030]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1030]
type = AfterImage
trigger1 = time = 0
time = 13
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1030]
type = AfterImage
trigger1 = time = 13
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1030]
Type = VelSet
Trigger1 = Time = [0,6]
X = 8

[State 1030]
Type = VelSet
Trigger1 = Time = [7,13]
X = 5

[State 1030]
Type = VelSet
Trigger1 = Time = [14,18]
X = 3

[State 1030]
type = Explod
trigger1 = time = 0
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1030]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1030]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn



[State 1030]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = HARD
damage = ceil(20 * fvar(0)),3
getpower = 30
priority  = 7 ,Hit
guardflag = M
hitflag = MAF
pausetime = 28,60
sparkno = S1034
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S4100, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
guard.ctrltime = 5
ground.velocity = 0,0
air.type = High
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(99 * fvar(1)) + 9
fall = 0
kill = 0



[State 1030]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.99 * (1 - 0.01*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 1030]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1030]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1030]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1030]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1030]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1030]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1030]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1030]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 1030]
type = ChangeState
trigger1 = movecontact
value = 1031
ctrl = 0

[State 1030]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;閃爪・枝桜＿2段目

[Statedef 1031]
type = S
movetype = A
Physics = S
velset = 0
ctrl = 0
anim = 1031
;juggle = 0
Facep2 = 1
poweradd = 0
sprpriority = 2


[State 1031]
type = VarAdd
triggerall = var(8) = 0
trigger1 = time = 0
v = 7
value = -200
ignorehitpause = 1

[State 1031]
type = VarAdd
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 101
trigger1 = palno = [1,11]
trigger1 = time = 0
v = 7
value = -100
ignorehitpause = 1

[State 1031]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 100
trigger1 = palno = [1,11]
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1

[State 1031]
type = VarAdd
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 51
trigger1 = time = 0
trigger1 = palno = 12
v = 7
value = -50
ignorehitpause = 1

[State 1031]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 50
trigger1 = time = 0
trigger1 = palno = 12
v = 7
value = 0
ignorehitpause = 1

[State 1031]
type = VarRandom
trigger1 = AnimElem = 1
v = 30
range = 0,2

[State 1031]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 0
value = 1,6
channel = 0

[State 1031]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 1
value = 1,5
channel = 0

[State 1031]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = var(30) = 2
value = 1,4
channel = 0


[State 1031]
type = PlaySnd
trigger1 = time = 0
value = 20,0

[State 1031]
type = Explod
trigger1 = time = 0
anim = 7006
pos = 0, -50
ontop = 1
ownpal = 1
pausemovetime = 99999

[State 1031]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = HARD
damage = ceil(180 * fvar(0)),20
getpower = 80
guardflag = M
hitflag = MAF
priority  = 4 ,Hit
pausetime = 1,5
sparkno = S7003
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S3200, 2
guardsound = S120, 0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
guard.ctrltime = 1
ground.velocity = -12.5,-6.7
air.type = High
air.velocity = -12.5,-5.7
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(150 * fvar(1)) + 9
fall = 1
absolute = 1
envshake.time = 15
envshake.freq = 80
envshake.ampl = -6




[State 1031]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.99 * (1 - 0.01*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0


[State 1031]
type = Explod
trigger1 = animelem = 2
anim = 1032
scale = 1,1
postype = p1
pos = 0,0
sprpriority = 9
ownpal = 1
ID = 1032
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1031,Effect]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
ID = 1032
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1


[State 1031]
type = Explod
trigger1 = animelem = 2
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 1031]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1031]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1031]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1031]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1031]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1031]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1031]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1031]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 1031]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
[Statedef 1034]
type = A
movetype= H
physics = N
pausemove = 0

[State 1034]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X >= 0
x = 0
y = -3.5

[State 1034]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X < 0
x = 0
y = -3.5

[State 1034]
type = VelAdd
trigger1 = time >= 10
y = 0.33

[State 1034]
type = VelAdd
trigger1 = time >= 20
y = 0.11

[State 1034]
type = ChangeAnim2
trigger1 = time = 0
value = 4975

[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0


[State 1034]
type = SelfState
trigger1 = Pos Y > 0
value = 5110

;---------------------------------------------------------------------------
;鵺と遊ぼう!（ましろ召喚モーション･弱）

[Statedef 1100]
type = S
movetype = I
physics = S
anim = 1100
ctrl = 0
poweradd = 0
sprpriority = 2

[State 1100]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(0) = 0
ignorehitpause = 1



[State 1100, Helper]
type = Helper
trigger1 = NumHelper(20000) = 0
trigger1 = Animelem = 3
helpertype = normal
ownpal = 1
name = "Nue"
postype = p1
pos = 60,0
pausemovetime = 0
supermovetime = 0
stateno = 20001
ID = 20000
ignorehitpause = 1

[State 1100]
type = poweradd
trigger1 = Animelem = 3
value = 100

[State 1100, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s1,26
ignorehitpause = 1

[State 1100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------
;鵺と遊ぼう!（ましろ召喚モーション･中）
[Statedef 1110]
type = S
movetype = I
physics = S
anim = 1100
ctrl = 0
poweradd = 0
sprpriority = 2

[State 1110]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 1110, VarSet]
type = VarSet
trigger1 = Time = 0
var(0) = 0
ignorehitpause = 1


[State 1110, Helper]
type = Helper
trigger1 = NumHelper(20000) = 0
trigger1 = Animelem = 3
helpertype = normal
ownpal = 1
name = "Nue2"
postype = p1
pos = 60,0
pausemovetime = 0
supermovetime = 0
stateno = 20003
ID = 20000
ignorehitpause = 1

[State 1110]
type = poweradd
trigger1 = Animelem = 3
value = 100


[State 1110, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s1,26
ignorehitpause = 1


[State 1110, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
;鵺と遊ぼう!（ましろ召喚モーション･RF）

[Statedef 1120]
type = S
movetype = I
physics = S
anim = 1100
ctrl = 0
poweradd = 0
sprpriority = 2

[State 1120]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5


[State 1120]
type = VarAdd
triggerall = var(8) = 0
trigger1 = time = 0
v = 7
value = -200
ignorehitpause = 1

[State 1120]
type = VarAdd
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 101
trigger1 = palno = [1,11]
trigger1 = time = 0
v = 7
value = -100
ignorehitpause = 1

[State 1120]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 100
trigger1 = palno = [1,11]
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1

[State 1120]
type = VarAdd
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 51
trigger1 = time = 0
trigger1 = palno = 12
v = 7
value = -50
ignorehitpause = 1

[State 1120]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 50
trigger1 = time = 0
trigger1 = palno = 12
v = 7
value = 0
ignorehitpause = 1


[State 1120]
type = poweradd
trigger1 = Animelem = 3
value = 150


[State 1120]
type = PlaySnd
trigger1 = time = 0
value = 20,0

[State 1120]
type = Explod
trigger1 = time = 0
anim = 7006
pos = 0, -50
ontop = 1
ownpal = 1
pausemovetime = 99999

[State 1120, Helper]
type = Helper
trigger1 = NumHelper(20000) = 0
trigger1 = Animelem = 3
helpertype = normal
ownpal = 1
name = "Nue3"
postype = p1
pos = -40,0
pausemovetime = 0
supermovetime = 0
stateno = 20005
ID = 20000
ignorehitpause = 1

[State 1120, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s1,26
ignorehitpause = 1

[State 1120, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;---------------------------------------------------------------------------
;獣の槌（IC動作）

[Statedef 1200]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 1200
poweradd= 0


[State 1200]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 1200]
type = nothitby
trigger1 = 1
value = SCA


[State 1200]
type = VarAdd
triggerall = var(8) = 0
trigger1 = time = 0
v = 7
value = -350
ignorehitpause = 1

[State 1200]
type = VarAdd
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 101
trigger1 = palno = [1,11]
trigger1 = time = 0
v = 7
value = -200
ignorehitpause = 1

[State 1200]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 100
trigger1 = palno = [1,11]
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1

[State 1200]
type = VarAdd
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 51
trigger1 = time = 0
trigger1 = palno = 12
v = 7
value = -75
ignorehitpause = 1

[State 1200]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 50
trigger1 = time = 0
trigger1 = palno = 12
v = 7
value = 0
ignorehitpause = 1



[State 1200]
type = assertspecial
trigger1 = Time >= 0
flag = noshadow
flag2 = nofg
flag3 = noBG

[State 1200]
type = assertspecial
trigger1 = Time >= 0
flag = timerfreeze



[State 1200]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 1200]
type = pause
trigger1 = time = 1
time = 30
movetime = 30
darken = 0

[State 1200]
type = Explod
trigger1 = time = 1
anim = 7009
pos = 0, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999


[State 1200]
type = Explod
trigger1 = time = 1
anim = 7010
pos = 0, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 1200]
type = PlaySnd
trigger1 = time = 1
value = S2000, 0

[State 1200]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,11
channel = 0

[State 1200]
type = PosFreeze
trigger1 = 1

[State 1200]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 1200]
type = ChangeState
trigger1 = time =  30
value = 1201
ctrl = 1



;---------------------------------------------------------------------------
;獣の槌（攻撃）

[Statedef 1201]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 30
ctrl = 0
velset = 0,0
anim = 1201
sprpriority = 2

[state 1201]
type = nothitby
trigger1 = animelemtime(5)<0
value = SCA


[State 1201]
type = PlaySnd
trigger1 = time = 0
value = 20,0

[State 1201]
type = PlaySnd
trigger1 = Time = 1
value = s1200,0


[State 1201]
type = Explod
trigger1 = time = 0
anim = 7006
pos = 0, -50
ontop = 1
ownpal = 1
pausemovetime = 99999



[State 1201]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype  = HARD
damage = ceil(160 * fvar(0)),20
getpower = 100
Hitflag = MAF
guardflag = MA
priority  = 7 ,Hit
pausetime = 9,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -30,-60
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
guard.hittime = 20
air.type = High
ground.velocity = -3,-3
air.velocity = -2.0,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(160 * fvar(1)) + 9
fall = 1
p2Stateno = 1350
;yaccel = 0.33

[state 1201]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 1.25
ignorehitpause = 1
persistent = 0


[State 1201]
type = Explod
trigger1 = Animelem = 3
anim = 1250
id = 1250
pos = 33,-25
postype = p1
scale = 1.2,1.2
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0


[State 1201,Effect]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
ID = 1250
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State 1201]
type = Explod
trigger1 = Animelem = 8
anim = 30040
id = 30040
pos = 0,0
postype = p1
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999

[State 1201]
type = Explod
trigger1 = animelem = 8
anim = 30030
scale = 1.2,1.2
postype = p1
pos = 0,0
sprpriority = 5
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999

[State 1201]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1201]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1201]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1201]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1201]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1201]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1201]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1201]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 1201]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------
;特殊やられステート

[Statedef 1350]
type = A
movetype= H
physics = N

[State 1350]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X >= 0
x = -9
y = -5.7

[State 1350]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X < 0
x = 9
y = -5.7

[State 1350]
type = VelAdd
trigger1 = time >= 0
y = 0.2

[State 1350]
type = ChangeAnim2
trigger1 = time = 0
value = 1350



[State 1350]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 5656

[State 1350]
type = SelfState
trigger1 = Pos Y > 0
value = 5110

;----------------------------------------------------------------------------
;獣符・ましろアミュレット（IC動作）

[Statedef 1300]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 1300
poweradd= 0
sprpriority = 2

[State 1300]
type = nothitby
trigger1 = 1
value = SCA


[State 1300]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5


[State 1300]
type = VarAdd
triggerall = var(8) = 0
trigger1 = time = 0
v = 7
value = -350
ignorehitpause = 1

[State 1300]
type = VarAdd
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 101
trigger1 = palno = [1,11]
trigger1 = time = 0
v = 7
value = -200
ignorehitpause = 1

[State 1300]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 100
trigger1 = palno = [1,11]
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1

[State 1300]
type = VarAdd
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 51
trigger1 = time = 0
trigger1 = palno = 12
v = 7
value = -75
ignorehitpause = 1

[State 1300]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 50
trigger1 = time = 0
trigger1 = palno = 12
v = 7
value = 0
ignorehitpause = 1



[State 1300]
type = assertspecial
trigger1 = Time >= 0
flag = noshadow
flag2 = nofg
flag3 = noBG

[State 1200]
type = assertspecial
trigger1 = Time >= 0
flag = timerfreeze

[State 1300]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 1300]
type = pause
trigger1 = time = 1
time = 30
movetime = 30
darken = 0

[State 1300]
type = Explod
trigger1 = time = 1
anim = 7009
pos = 0, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999


[State 1300]
type = Explod
trigger1 = time = 1
anim = 7010
pos = 0, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 1300]
type = Helper
trigger1 = NumHelper(1400) = 0
trigger1 = Animelem = 3
helpertype = normal
ownpal = 1
name = "huda1"
postype = p1
pos = 30,-55
pausemovetime = 0
supermovetime = 0
stateno = 1400
ID = 1400
ignorehitpause = 1


[State 1300]
type = Helper
trigger1 = NumHelper(1401) = 0
trigger1 = Animelem = 3
helpertype = normal
ownpal = 1
name = "huda2"
postype = p1
pos = 25,-35
pausemovetime = 0
supermovetime = 0
stateno = 1400
ID = 1401
ignorehitpause = 1

[State 1300]
type = Helper
trigger1 = NumHelper(1402) = 0
trigger1 = Animelem = 3
helpertype = normal
ownpal = 1
name = "huda3"
postype = p1
pos = -30,-55
pausemovetime = 0
supermovetime = 0
stateno = 1400
ID = 1402
ignorehitpause = 1

[State 1300]
type = Helper
trigger1 = NumHelper(1403) = 0
trigger1 = Animelem = 3
helpertype = normal
ownpal = 1
name = "huda4"
postype = p1
pos = -25,-35
pausemovetime = 0
supermovetime = 0
stateno = 1400
ID = 1403
ignorehitpause = 1


[State 1300]
type = PlaySnd
trigger1 = time = 1
value = S2000, 0

[State 1300]
type = VarRandom
trigger1 = AnimElem = 1
v = 30
range = 0,1

[State 1300]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = var(30) = 0
value = 1,10
channel = 0

[State 1300]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = var(30) = 1
value = 1,12
channel = 0

[State 1300]
type = PosFreeze
trigger1 = 1

[State 1300]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 1300]
type = ChangeState
trigger1 = time =  30
value = 1301
ctrl = 1

;---------------------------------------------------------------------------
;獣符・ましろアミュレット（攻撃）

[Statedef 1301]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1310
sprpriority = 2


[State 1301]
type = PlaySnd
trigger1 = time = 0
value = 20,0

[State 1301]
type = PlaySnd
trigger1 = Time = 1
value = s1200,0


[State 1301]
type = Explod
trigger1 = time = 0
anim = 7006
pos = 0, -50
ontop = 1
ownpal = 1
pausemovetime = 99999
supermovetime = 99999

[State 1301]
type = Explod
trigger1 = time = 17
anim = 30040
id = 30040
pos = 0,0
postype = p1
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999

[State 1301]
type = Explod
trigger1 = time = 17
anim = 30030
scale = 1.2,1.2
postype = p1
pos = 0,0
sprpriority = 5
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999



[State 1301]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;札のステート

[Statedef 1400]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1400
poweradd = 30
sprpriority = 7

[State 1400]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1400]
type = DestroySelf
trigger1 = time >= 100



[State 1400]
type = velset
trigger1 = time = 5
y = -5

[State 1400]
type = veladd
trigger1 = time = 15
y = -15

[State 1400]
type = velset
trigger1 = time = 30
y = 0


[State 1400]
type = HitDef
trigger1 = time = 15 > 10
attr = S, SP
damage = 10,1
getpower = 30
hitflag = MAF
guardflag = MA
priority = 4, HIT
pausetime = 0,10
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-30
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 15
guard.ctrltime = 15
ground.velocity = -3,-6
air.type = High
airguard.velocity = -3,-3
air.velocity = -2,-7
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(50 * fvar(1)) + 9
fall = 0
;yaccel = 0.33



[State 1400, Helper]
type = Helper
trigger1 = NumHelper(1407) = 0
trigger1 = time = 70
helpertype = normal
ownpal = 1
name = "huda1-b"
postype = p2
pos  = -125 , -150
pausemovetime = 0
supermovetime = 0
stateno = 1402
ID = 1407
ignorehitpause = 1


[State 1400, Helper]
type = Helper
trigger1 = NumHelper(1408) = 0
trigger1 = time = 80
helpertype = normal
ownpal = 1
name = "huda2-b"
postype = p2
pos  = -95 , -160
pausemovetime = 0
supermovetime = 0
stateno = 1402
ID = 1408
ignorehitpause = 1

[State 1400, Helper]
type = Helper
trigger1 = NumHelper(1409) = 0
trigger1 = time = 90
helpertype = normal
ownpal = 1
name = "huda3-b"
postype = p2
pos  = -65 , -170
pausemovetime = 0
supermovetime = 0
stateno = 1402
ID = 1409
ignorehitpause = 1

[State 1400, Helper]
type = Helper
trigger1 = NumHelper(1410) = 0
trigger1 = time = 99
helpertype = normal
ownpal = 1
name = "huda4-b"
postype = p2
pos  = -30, -190
pausemovetime = 0
supermovetime = 0
stateno = 1402
ID = 1410
ignorehitpause = 1




;---------------------------------------------------------------------------
;札→矢のステート

[Statedef 1402]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1420
poweradd = 0
sprpriority = 7

[State 1402]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1



[State 1402]
type = VelSet
trigger1 = 1
x = 15.0
y = 15.0


[State 1402]
type = HitDef
triggerall = ishelper
trigger1 = animelem = 1
attr = S, SP
damage = 20,3
getpower = 30
hitflag = MAFD
guardflag = MA
priority = 5, HIT
pausetime = 3,10
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-20
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 20
ground.velocity = -5,-5
air.type = High
airguard.velocity = -3,-3
air.velocity = 0,-3
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(100 * fvar(1)) + 9
fall = 1
;yaccel = 0.33


[State 1402]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1402]
type = DestroySelf
trigger1 = time >= 70

;------------------------------------------------------------------------
;獣符・ましろフィールド（IC動作）

[Statedef 1500]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1550

[State 1500]
type = nothitby
trigger1 = 1
value = SCA



[State 1500]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5


[State 1500]
type = Varset
trigger1 = palno = [1,11]
trigger1 = var(8)=0
trigger1 = ((time = 0) && (Var(7) <= 200))
v = 7
value = 0
ignorehitpause = 1
supermove = 1

[State 1500]
type = Varset
trigger1 = palno = [1,11]
trigger1 = var(8)=0
trigger1 = ((time = 0) && (Var(7) >= 201))
v = 7
value = 0
ignorehitpause = 1
supermove = 1

[State 1500]
type = Varset
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 101
trigger1 = palno = [1,11]
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1

[State 1500]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 100
trigger1 = palno = [1,11]
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1

[State 1500]
type = VarAdd
triggerall = var(8) = 0
trigger1 = palno = 12
trigger1 = time = 0
v = 7
value = -200
ignorehitpause = 1

[State 1500]
type = VarAdd
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 51
trigger1 = palno = 12
trigger1 = time = 0
v = 7
value = -50
ignorehitpause = 1

[State 1500]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 50
trigger1 = palno = 12
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1


[State 1500]
type = assertspecial
trigger1 = Time >= 0
flag = noshadow
flag2 = nofg
flag3 = noBG

[State 1200]
type = assertspecial
trigger1 = Time >= 0
flag = timerfreeze

[State 1500]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 1500]
type = superpause
trigger1 = time = 1
time = 30
anim = s7009
pos = 0, 0
movetime = 30
darken = 0

[State 1500]
type = Explod
trigger1 = time = 1
anim = 7010
pos = 0, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999


[State 1500]
type = PlaySnd
trigger1 = time = 1
value = S2000, 0

[State 1500]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,15
channel = 0

[State 1500]
type = PosFreeze
trigger1 = 1


[State 1500]
type = ChangeState
trigger1 = time =  30
value = 1501
ctrl = 1



;-----------------------------------------------------------------------------
;獣符・ましろフィールド（攻撃）

[Statedef 1501]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1560



[State 1501]
type = nothitby
trigger1 = 1
value = SCA


[State 1501]
type = PosFreeze
trigger1 = 1


[State 1501]
type = Helper
trigger1 = Animelem = 2
helpertype = normal
ownpal = 1
name = "field"
postype = p1
pos = 0,0
pausemovetime = 9999
supermovetime = 0
stateno = 1502
ID = 1502
ignorehitpause = 1
ontop = 1
sprpriority = 9

[State 1501]
type = Explod
trigger1 = animelem = 6
anim = 30040
id = 30040
pos = 0,0
postype = p1
sprpriority = 5
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999

[State 1501]
type = Explod
trigger1 = animelem = 6
anim = 30030
scale = 1.2,1.2
postype = p1
pos = 0,0
sprpriority = 5
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999



[State 1501]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------------
;フィールドのステート

[Statedef 1502]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1570
poweradd = 1000
sprpriority = 9




[State 1502]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1


[State 1502]
type = PosFreeze
trigger1 = 1
time = 9999999999


[State 1502]
type = bindtoparent
trigger1 = 1
pos = 0,0
time = 9999999999


[State 1502]
type = HitDef
triggerall = ishelper
trigger1 = animelem = 3
attr = S, SP
damage = 1,0
getpower = 0
hitflag = MAFD
guardflag = -
priority = 7, HIT
pausetime = 0,10
sparkno = S7020
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 50
ground.slidetime = 50
guard.hittime = 50
guard.ctrltime = 50
ground.velocity = -7,-7
air.type = High
airguard.velocity = -3,-3
air.velocity = -7,-7
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(100 * fvar(1)) + 9
fall = 1


[state 1502]
type = parentvarset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = root,fvar(1) * 0.99 * (1 - 0.01*(0.99*root,fvar(1)>1.00000))
ignorehitpause = 1
persistent=0


[State 1502]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1502]
type = AssertSpecial
trigger1 = 1
flag = unguardable


[State 1502]
type = DestroySelf
trigger1 = animtime = 0

;----------------------------------------------------------------------------

;インスタントチャージ

[Statedef 2000]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 2000
poweradd= 0

[State 2000]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 2000]
type = varadd
trigger1 = time = 0
trigger1 = var(8) = 1
fvar(1) = (var(7) / 600.0)
ignorehitpause = 1

[State 2000]
type = Varset
trigger1 = palno = [1,11]
trigger1 = var(8)=0
trigger1 = ((time = 0) && (Var(7) <= 200))
v = 7
value = 0
ignorehitpause = 1
supermove = 1
pausemove = 1

[State 2000]
type = Varset
trigger1 = palno = [1,11]
trigger1 = var(8)=0
trigger1 = ((time = 0) && (Var(7) >= 201))
v = 7
value = 0
ignorehitpause = 1
supermove = 1
pausemove = 1

[State 2000]
type = Varset
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 101
trigger1 = palno = [1,11]
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1


[State 2000]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 100
trigger1 = palno = [1,11]
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1

[State 2000]
type = VarAdd
triggerall = var(8) = 0
trigger1 = palno = 12
trigger1 = time = 0
v = 7
value = -200
ignorehitpause = 1

[State 2000]
type = VarAdd
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 51
trigger1 = palno = 12
trigger1 = time = 0
v = 7
value = -50
ignorehitpause = 1

[State 2000]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 50
trigger1 = palno = 12
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1


[State 2000]
type = assertspecial
trigger1 = Time >= 0
flag = noshadow
flag2 = nofg
flag3 = noBG

[State 1200]
type = assertspecial
trigger1 = Time >= 0
flag = timerfreeze

[State 2000]
type = StateTypeSet
trigger1 = time >= 0
trigger1 = Pos Y < 0
statetype = A
movetype = A
phisics = A

[State 2000]
type = ChangeAnim
trigger1 = time = 0
trigger1 = statetype = A
value = 2001


[State 2000]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 2000]
type = pause
trigger1 = time = 1
time = 31
movetime = 31
darken = 0

[State 2000]
type = Explod
trigger1 = time = 1
anim = 7009
pos = 0, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 2000]
type = Explod
trigger1 = time = 1
anim = 7010
pos = 0, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 2000]
type = PlaySnd
trigger1 = time = 1
value = S2000, 0

[State 2000]
type = VarRandom
trigger1 = AnimElem = 1
v = 30
range = 0,3

[State 2000]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = var(30) = 0
value = 1,31
channel = 0

[State 2000]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = var(30) = 1
value = 1,26
channel = 0

[State 2000]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = var(30) = 2
value = 1,30
channel = 0

[State 2000]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = var(30) = 3
value = 1,28
channel = 0

[State 2000]
type = PosFreeze
trigger1 = 1

[State 2000]
type = PosFreeze
trigger1 = 1

[State 2000]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 2000]
type = ChangeState
trigger1 = Time = 31
trigger1 = Pos Y < 0
value = 50
ctrl = 1

[State 2000]
type = ChangeState
trigger1 = Time = 31
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;バスターましろ

[Statedef 3000]
type    = S
movetype = A
physics = N
anim = 3000
;juggle = 0
ctrl = 0
velset = 0,0
sprpriority = 2
facep2 = 1
poweradd = 0

[state 3000]
type = nothitby
trigger1 = animelemtime(6)<0
value = SCA


[State 3000]
type = poweradd
trigger1 = time = 0
value = -2000

[State 3000]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1
pausemove = 1


[State 3000]
type = pause
trigger1 = time = 1
time = 33
movetime = 33
darken = 0

[State 3000]
type = Explod
trigger1 = time = 1
anim = 7015
pos = 0, -50
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 3000]
type = Explod
trigger1 = time = 1
anim = 7010
pos = 0, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999


[State 3000]
type = AfterImage
trigger1 = time = 39
time = 15
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 3000]
type = AfterImage
trigger1 = movecontact
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1




[State 3000]
type = PlaySnd
trigger1 = time = 0
value = 20,1


[State 3000]
type = AssertSpecial
trigger1 = time = [0,33]
flag = noFG
flag = timerfreeze



[State 3000]
type = explod
trigger1 = animelem = 12,=0
anim = 3010
pos = 0,0
postype = p1
bindtime = 1
supermove = 0
sprpriority = 10
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 0


[State 3000]
type = explod
trigger1 = animelem = 12,=0
anim = 3011
pos = 0,0
postype = p1
bindtime = -1
supermove = 0
sprpriority = 5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 0


[State 3000]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3000]
type = Width
trigger1 = 1
edge = 20,0

[State 3000]
type = VelSet
trigger1 = animelemtime(12) = 0
x = 12.0

[State 3000]
type = StateTypeSet
trigger1 = AnimelemTime(12) = 0
statetype = A

[State 3000]
type = VelSet
trigger1 = animelemtime(22) = 0
x = 0

[State 3000]
type = StateTypeSet
trigger1 = AnimelemTime(22) = 0
statetype = S

[State 3000]
type = PlaySnd
trigger1 = Time = 1
value = s1200,0

[State 3000]
type = VarRandom
trigger1 = AnimElem = 1
v = 30
range = 0,2

[State 3000]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = var(30) = 0
value = 1,21
channel = 0

[State 3000]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = var(30) = 1
value = 1,20
channel = 0

[State 3000]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = var(30) = 2
value = 1,17
channel = 0


[State 3000, HitDef]
type = HitDef
trigger1 = animelemtime(12) >= 0
trigger1 = animelemtime(22) < 0
attr = A, HA
getpower = 0
animtype  = back
air.animtype  = back
damage = ceil(200 * fvar(0)),30
priority = 7,Hit
hitflag = MAF
guardflag = MA
pausetime = 30,29
guard.pausetime = 30,29
sparkno = S7003
guard.sparkno = S7007
sparkxy = -20,-50
hitsound = S220, 1
guardsound = S120, 0
ground.type = high
ground.slidetime = 25
ground.hittime = 25
guard.hittime = 24
guard.slidetime = 22
guard.ctrltime = 24
ground.velocity = -5.5,-3
guard.velocity = -5.5
air.type = Low
air.velocity = -3,-3
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
fall = 1
fall.recover = 0
fall.envshake.time = 15
fall.envshake.freq = 80
fall.envshake.ampl = -4
fall.xvelocity = -1.5
air.fall = 1
yaccel = .50
envshake.time = 15
envshake.freq = 80
envshake.ampl = -6
P2facing = 1
id = 3100
fall.recovertime = ceil(200 * fvar(1)) + 9

[state 3000]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.90 * (1 - 0.10*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0



[State 3000]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3000]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3000]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3000]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3000]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3000]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3000]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3000]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3000]
type = Explod
trigger1 = animelem = 24
anim = 30040
id = 30040
pos = 0,0
postype = p1
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999

[State 3000]
type = Explod
trigger1 = animelem = 24
anim = 30030
scale = 1.2,1.2
postype = p1
pos = 0,0
sprpriority = 5
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999


[State 3000]
type = ChangeState
trigger1 = movecontact
value = 3100
ignorehitpause = 0

[State 3000]
type = StateTypeSet
trigger1 = AnimelemTime(23) >= 0
movetype = I

[State 3000]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------
;バスターましろ（2段目）

[Statedef 3100]
type    = S
movetype = A
physics = N
anim = 3100
;juggle = 0
ctrl = 0
;velset = 0,0

[State 3100]
type = null
trigger1 = animelemtime(3) = 0
x = 10

[State 3100]
type = explod
trigger1 = animelemtime(3) = 0
anim = 3120
pos = -25,0
postype = p1
bindtime = -1
SuperMoveTime = 0
PauseMoveTime = 9999
sprpriority = -49
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 0


[State 3100]
type = explod
trigger1 = animelemtime(3) = 0
anim = 3130
pos = 0,0
postype = p1
bindtime = -1
SuperMoveTime = 0
PauseMoveTime = 9999
sprpriority = 10
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 0



[State 3100]
type = Envshake
trigger1 = time = 0
time = 40
freq = 80
ampl = -4

[State 3100]
type = VelSet
trigger1 = animelem = 3
x = 0

[State 3100]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3100]
type = VelSet
trigger1 = time = 0
y = 0

[State 3100]
type = Width
trigger1 = 1
edge = 20,0



[State 3100]
type = HitDef
trigger1 = animelemtime(6) >= 0
trigger1 = animelemtime(12) < 0
attr = S, HP
getpower = 0
animtype  = hard
air.animtype  = hard
damage = 15,3
priority = 7,Hit
hitflag = MAF
guardflag = MA
pausetime = 0,30
guard.pausetime = 0,30
sparkno = -1
guard.sparkno = S7007
sparkxy = -20,-50
hitsound = -1
guardsound = S120, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
guard.hittime = 24
guard.slidetime = 22
guard.ctrltime = 24
ground.velocity = -3,-5
guard.velocity = 0
air.type = Low
air.velocity = -3,-5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
fall = 1
fall.recover = 0
fall.envshake.time = 20
fall.envshake.freq = 80
fall.envshake.ampl = -4
air.fall = 1
yaccel = .50
envshake.time = 20
envshake.freq = 100
envshake.ampl = -10
P2facing = 1
fall.recovertime = ceil(140 * fvar(1)) + 9
absolute = 1


[State 3100]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3100]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3100]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3100]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3100]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3100]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3100]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3100]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3100]
type = playsnd
trigger1 = animelem = 3
value = S4200 , 0

[State 3100]
type = StateTypeSet
trigger1 = AnimelemTime(26) >= 0
movetype = I


[State 3100]
type = Explod
trigger1 = animelem = 26
anim = 30040
id = 30040
pos = 0,0
postype = p1
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999

[State 3100]
type = Explod
trigger1 = animelem = 26
anim = 30030
scale = 1.2,1.2
postype = p1
pos = 0,0
sprpriority = 5
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999



[State 3100]
type = ChangeState
triggerall = power >= 1000
triggerall = stateno = 3100
triggerall = var(8) = 1 || var(7) >= 400
triggerall = var(7) >= 0
triggerall = Time <= 70
trigger1 = command = "fang"
value = 4500
ctrl = 0


[State 3100]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;--------------------------------------------
;閃爪・桜吹雪

[Statedef 4000]
type    = S
movetype= A
physics = N
;juggle  = 0
poweradd= 0
ctrl = 0
anim = 4000
sprpriority = 2


[state 4000]
type = nothitby
trigger1 = animelemtime(5)<0
value = SCA


[state 4000]
type = poweradd
trigger1 = time = 0
value = -1000

[state 4000]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 26
under = 1
supermove = 1
pausemove = 1


[state 4000]
type = pause
trigger1 = time = 1
time = 26
movetime = 26
darken = 0



[state 4000]
type = Explod
trigger1 = time = 1
anim = 7014
pos = 0, -50
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999


[state 4000]
type = Explod
trigger1 = time = 1
anim = 7010
pos = 0, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999



[state 4000]
type = PlaySnd
trigger1 = time = 0
value = 20,3


[state 4000]
type = AssertSpecial
trigger1 = time = [0,26]
flag = noFG
flag = timerfreeze


[state 4000]
type = PlaySnd
trigger1 = AnimElem = 6
value = 210,0

[state 4000]
type = PlaySnd
trigger1 = AnimElem = 8
value = 210,0


[state 4000]
type = PlaySnd
trigger1 = AnimElem = 10
value = 210,0

[state 4000]
type = PlaySnd
trigger1 = AnimElem = 12
value = 210,0



[state 4000]
type = HitDef
trigger1 = Animelem = 6
trigger2 = Animelem = 8
trigger3 = Animelem = 10
trigger4 = Animelem = 12
attr = S, HA
damage  = ceil(10 * fvar(0)),4
hitflag = MAF
guardflag = MA
priority  = 4 ,Hit
getpower = 0
pausetime = 0,2
guard.sparkno = S7007
sparkno = S7003
numhits = 2
sparkxy = 0,-50
hitsound   = S220,1
guardsound = S120,0
ground.type = high
ground.slidetime = 0
ground.hittime  = 15
air.hittime = 15
guard.ctrltime = 10
ground.velocity = 0,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -0.8,-1.3
guard.velocity = -1
fall = 1
fall.recover = 0
fall.recovertime = ceil(100 * fvar(1)) + 9
;yaccel = 0.33


[state 4000]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4000]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4000]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4000]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4000]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4000]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4000]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4000]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[state 4000]
type = posfreeze
trigger1 = 1
value = 1

[state 4000]
type = Explod
trigger1 = animelem = 6
anim = 4200
postype = p1
pos = 30,0
scale = 1.5,1.2
sprpriority = 9
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999
bindtime = -1

[state 4000]
type = Explod
trigger1 = animelem = 6
anim = 4201
postype = p1
pos = 30,0
scale = 1.5,1.2
sprpriority = 9
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999
bindtime = -1

[state 4000]
type = Explod
trigger1 = animelem = 7
anim = 4202
postype = p1
pos = 30,0
scale = 1.5,1.2
sprpriority = 9
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999
bindtime = -1

[state 4000]
type = Explod
trigger1 = animelem = 7
anim = 4203
postype = p1
pos = 30,0
scale = 1.5,1.2
sprpriority = 9
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999
bindtime = -1

[state 4000]
type = Explod
trigger1 = animelem = 8
anim = 4204
postype = p1
pos = 30,0
scale = 1.5,1.2
sprpriority = 9
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999
bindtime = -1

[state 4000]
type = Explod
trigger1 = animelem = 8
anim = 4205
postype = p1
pos = 30,0
scale = 1.5,1.2
sprpriority = 9
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999
bindtime = -1

[state 4000]
type = Explod
trigger1 = animelem = 9
anim = 4206
postype = p1
pos = 30,0
scale = 1.5,1.2
sprpriority = 9
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999
bindtime = -1

[state 4000]
type = Explod
trigger1 = animelem = 9
anim = 4207
postype = p1
pos = 30,0
scale = 1.5,1.2
sprpriority = 9
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999
bindtime = -1

[state 4000]
type = Explod
trigger1 = animelem = 10
anim = 4208
postype = p1
pos = 30,0
scale = 1.5,1.2
sprpriority = 9
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999
bindtime = -1

[state 4000]
type = Explod
trigger1 = animelem = 10
anim = 4209
postype = p1
pos = 30,0
scale = 1.5,1.2
sprpriority = 9
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999
bindtime = -1

[state 4000]
type = Explod
trigger1 = animelem = 11
anim = 4210
postype = p1
pos = 30,0
scale = 1.5,1.2
sprpriority = 9
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999
bindtime = -1

[state 4000]
type = Explod
trigger1 = animelem = 11
anim = 4211
postype = p1
pos = 30,0
scale = 1.5,1.2
sprpriority = 9
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999
bindtime = -1

[state 4000]
type = Explod
trigger1 = animelem = 12
anim = 4212
postype = p1
pos = 30,0
scale = 1.5,1.2
sprpriority = 9
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999



[state 4000]
type = varset
triggerall = P2MoveType =H
trigger1 = movehit
fvar(1) = fvar(1) * 0.99 * (1-0.01*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[state 4000]
type = ChangeState
trigger1 = time = 95
value = 4100
ctrl = 1

;---------------------------------------------------------------------------

;閃爪・桜吹雪（追撃）

[Statedef 4100]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 4100
sprpriority = 2

[State 4100]
type = HitBy
trigger1 = Time = 0
value = SCA,NA,SA,HA,NT,ST,HT
time = 19

[State 4100]
type = VelSet
trigger1 = animelem = 2
x = 5

[State 4100]
type = VelSet
trigger1 = animelem = 3
x = 7

[State 4100]
type = VelSet
trigger1 = animelem = 4
x = 9



[State 4100]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 4100]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn


[State 4100]
type = PlaySnd
trigger1 = Time = 1
value = s1200,0

[State 4100]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,0
channel = 0

[State 4100]
Type = PlayerPush
Trigger1 = Time = [0,5]
Value = 0
IgnoreHitPause = 1
Persistent = 1


[State 4100]
type = HitDef
trigger1 = AnimElem = 7
attr = S, HA
animtype  = HARD
damage = ceil(30 * fvar(0)),10
getpower = 0
guardflag = MA
hitflag = MAF
priority  = 4 ,Hit
pausetime = 9,9
sparkno = S7022
guard.sparkno = S7007
sparkxy = -30,-60
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -10,-2.5
air.type = High
air.velocity = -10,-2.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(75 * fvar(1)) + 9
fall = 1
;yaccel = 0.33


[State 4100]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.94 * (1 - 0.06*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0



[State 4100,Effect]
type = Explod
trigger1 = Animelem = 2
anim = 4110
ownpal = 1
sprpriority = 9
postype = p1
pos = 15,0
bindtime = -1
pausemovetime = 9999
supermovetime = 0
ID = 4110
ignorehitpause = 1



[State 4100,Effect]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
ID = 4110
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1





[State 4100]
type = Explod
trigger1 = time = 0
anim = 18000
scale = 0.5,0.5
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999



[State 4100]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4100]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4100]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4100]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4100]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4100]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4100]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4100]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 4100]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4100]
type = AfterImage
trigger1 = time = 12
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1



[State 4100]
Type = VelSet
Trigger1 = Time = [3,6]
X = 7

[State 4100]
Type = VelSet
Trigger1 = Time = [6,9]
X = 12

[State 4100]
Type = VelSet
Trigger1 = Time = [9,12]
X = 20


[State 4100]
Type = VelSet
Trigger1 = Time = [13,15]
X = 7

[State 4100]
Type = VelSet
Trigger1 = Time = [16,21]
X = 5

[State 4100]
Type = VelSet
Trigger1 = Time = [22,27]
X = 3

[State 4100]
Type = VelSet
Trigger1 = Time = [28,31]
X = 2

[State 4100]
Type = VelSet
Trigger1 = Time = [32,34]
X = 1

[State 4100]
type = ChangeState
trigger1 = movehit
Trigger1 = P2BodyDist X = [-10,10]
Trigger1 = p2bodydist Y = [-70,20]
Value = 4110
ctrl = 0

[State 4100]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------


;--------------------------------------------------------------------------
;閃爪・桜吹雪（追撃）

[Statedef 4110]
Type    = A
MoveType= A
Physics = A
;Juggle  = 3
VelSet = 0,0
Ctrl = 0
Anim = 1010
poweradd = 0
sprpriority = 2

[State 4110]
type = PlaySnd
trigger1 = Time = 1
value = s1200,0

[State 4110]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,2
channel = 0



[State 4110]
Type = PosAdd
Trigger1 = AnimElem = 1
Y = -20

[State 4110]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 4


[State 4110]
Type = VelSet
Trigger1 = AnimElem = 1
X = 3.0
Y = -7.0


[State 4110]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1


[State 4110]
Type = Turn
Trigger1 = P2Dist X < -10
Trigger1 = AnimElem = 7



[State 4110]
type = HitDef
trigger1 = AnimElem = 3
attr = A, HA
animtype  = HARD
damage = ceil(40 * fvar(0)),10
HITflag = MAFD
getpower = 0
guardflag = H
pausetime = 9,9
priority  = 4 ,Hit
sparkno = S7021
guard.sparkno = S7007
sparkxy = -20,-30
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
guard.ctrltime = 30
ground.velocity = 0,-7.2
air.type = High
air.velocity = 0,-5.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(90 * fvar(1)) + 9
fall = 1
;yaccel = 0.33

[state 4110]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.93 * (1 - 0.07*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0



[State 4110,Effect]
type = Explod
trigger1 = time = 1
anim = 4120
postype = p1
pos = 0,-5
scale = 1.2,1.0
ID = 4120
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999


[State 4110,Effect]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
ID = 4120
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1


[State 4110]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4110]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4110]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4110]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4110]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4110]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4110]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4110]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999




[State 4110]
Type = ChangeState
Trigger1 = time = 5
Value = 4120
Ctrl = 0


;--------------------------------------------------------------------------
;閃爪・桜吹雪（追撃）

[Statedef 4120]
type    = A
movetype= A
physics = A
;juggle  = 7
ctrl = 0
anim = 251
velset = 3.5,-6.5
sprpriority = 2
poweradd = 0

[State 4120]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4120]
type = AfterImage
trigger1 = animelem = 4
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 4120]
type = HitBy
trigger1 = Time = 0
value = SCA,NA,SA,HA,NT,ST,HT
time = 12

[State 4120]
type = PosAdd
trigger1 = Time = 0
y = -14

[State 4120]
type = VelAdd
trigger1 = AnimelemTime(1) >= 0
y = 0.25

[State 4120]
type = VelAdd
trigger1 = Animelem = 4
y = 0.50

[State 4120]
type = VelAdd
trigger1 = Animelem = 5
y = 0.35

[State 4120]
type = VelAdd
trigger1 = Animelem = 6
y = 0.25

[State 4120]
type = PlaySnd
trigger1 = Time = 0
value = 210,0

[State 4120]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,6
channel = 0

[State 4120]
type = HitDef
trigger1 = AnimElem = 4
attr = A, HA
animtype  = Medium
damage = ceil(50 * fvar(0)),10
guardflag = M
hitflag = MAF
getpower = 0
priority  = 4 ,Hit
pausetime = 5,10
sparkno = S7021
guard.sparkno = S7007
sparkxy = -30,-20
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 17
guard.ctrltime = 20
ground.hittime  = 25
ground.velocity = -4
air.velocity = -3.5 , 8.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(55 * fvar(1)) + 9
air.type = High
air.cornerpush.veloff    = 0
airguard.cornerpush.veloff= 0
;yaccel = 0.33

[State 4120]
type = Explod
trigger1 = NumHelper(272) = 0
trigger1 = Animelem = 4
anim = 1271
ownpal = 1
postype = p1
pos =0,0
bindtime = -1
scale = 1.0,1.0
sprpriority = 7
pausemovetime = 9999
supermovetime = 9999
ID = 272
ignorehitpause = 1

[State 4120]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
ID = 272
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State 4120]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4120]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4120]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4120]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4120]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4120]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4120]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4120]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[state 4120]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.90 * (1 - 0.10*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0



[State 4120]
type = ChangeState
trigger1 = Pos y >= 0
value = 0

[State 4120]
type = ChangeState
trigger1 = animtime = 0
value = 51

;--------------------------------------------------------------------------
;リボルビング・バンカー

[Statedef 4250]
type = S
movetype = A
physics = S
anim = 4360
ctrl = 0
poweradd = 0
sprpriority = 2

[State 4250]
Type = VelSet
Trigger1 = Time = 0
X = 0

[State 4250]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5

[state 4250]
type = nothitby
trigger1 = animelemtime(7)<0
value = SCA


[state 4250]
type = poweradd
trigger1 = time = 0
value = -1000

[state 4250]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 26
under = 1
supermove = 1
pausemove = 1


[state 4250]
type = pause
trigger1 = time = 1
time = 26
movetime = 26
darken = 0

[state 4250]
type = Explod
trigger1 = time = 1
anim = 7014
pos = 0, -50
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[state 4250]
type = Explod
trigger1 = time = 1
anim = 7010
pos = 0, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999



[state 4250]
type = PlaySnd
trigger1 = time = 0
value = 20,3


[state 4250]
type = AssertSpecial
trigger1 = time = [0,26]
flag = noFG
flag = timerfreeze



[State 4250]
Type = VelSet
Trigger1 = Time = [26,29]
X = 7

[State 4250]
Type = VelSet
Trigger1 = Time = [29,32]
X = 12

[State 4250]
Type = VelSet
Trigger1 = Time = [32,35]
X = 15

[State 4250]
Type = VelSet
Trigger1 = Time = [35,47]
X = 9

[State 4250];ダッシュエフェクト
Type = Helper
Trigger1 = Animelem = 4
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999


[State 4250]
type = AfterImage
trigger1 = animelem = 4
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4250]
type = AfterImage
trigger1 = animelem = 8
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1



[State 4250]
type = PlaySnd
trigger1 = animelem = 4
value = 100,0

[State 4250]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 4250]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn


[State 4250]
type = changestate
trigger1 = time = [32,35]
Trigger1 = P2BodyDist X = [-5,5]
value = 4260
ctrl = 0

[State 4250]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1



;-----------------------------------------------------------------------------

;リボルビング・バンカー派生

[Statedef 4260]
type = A
movetype = A
physics = N
ctrl = 0
anim = 4370
poweradd = 0
sprpriority = 7

[State 4260]
type = nothitby
trigger1 = 1
value = SCA

[State 4260]
type = playsnd
trigger1 = animelem = 1
value = 210,0

[State 4260]
Type = VelSet
Trigger1 = Time = [0,4]
X = 3

[State 4260]
Type = VelSet
Trigger1 = Time = [4,8]
X = 2

[State 4260]
Type = VelSet
Trigger1 = Time = [8,12]
X = 1

[State 4260]
type = Explod
trigger1 = animelem = 2
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4260]
type = AfterImage
trigger1 = animelem = 1
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4260]
type = HitDef
trigger1 = animelem = 5
attr = S, HP
damage = ceil(50 * fvar(0)),6
getpower = 0
hitflag = MAF
guardflag = M
priority = 7, HIT
pausetime = 50,90
sparkno = S1034
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S4100, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 20
ground.velocity = 0,0
air.type = High
airguard.velocity = 0,0
air.velocity = 0,0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(50 * fvar(1)) + 9
fall = 0
absolute = 1
kill = 0
;yaccel = 0.33

[State 4260]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.99 * (1 - 0.01*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 4260]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4260]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4260]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4260]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4260]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4260]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1030]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1030]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 4260]
type = changestate
trigger1 = movecontact
value = 4270
ctrl = 0

[State 4260]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------

;リボルビング・バンカー更に派生

[Statedef 4270]
type = A
movetype = A
physics = A
ctrl = 0
anim = 4380
poweradd = 0
sprpriority = 7
velset = 3, -7.5

[state 4270]
type = nothitby
trigger1 = animelemtime(3)<0
value = SCA

[State 1031]
type = VarRandom
trigger1 = AnimElem = 1
v = 30
range = 0,2

[State 1031]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 0
value = 1,6
channel = 0

[State 1031]
type = playsnd
trigger1 = animelem = 1
trigger1 = var(30) = 1
value = 1,5
channel = 0

[State 1031]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = var(30) = 2
value = 1,4
channel = 0

[state 4270]
type = Explod
trigger1 = animelem = 1
anim = 4390
scale = 1,1
postype = p1
pos = 60,-100
sprpriority = 9
ownpal = 1
ID = 1032
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4270]
type = Explod
trigger1 = animelem = 1
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4270]
type = HitDef
trigger1 = animelem = 1
attr = S, HP
damage = ceil(250 * fvar(0)),15
getpower = 0
hitflag = MAF
guardflag = M
priority = 7, HIT
pausetime = 1,1
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S3000, 0
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 20
ground.velocity = -7.5,-6.4
air.type = High
airguard.velocity = -3,-3
air.velocity = -8.5 ,-5.9
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(250 * fvar(1)) + 9
fall = 1
absolute = 1
envshake.time = 15
envshake.freq = 80
envshake.ampl = -6
yaccel = 0.33

[state 4270]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.99 * (1 - 0.01*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[state 4270]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4270]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4270]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4270]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1030]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1030]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4270]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4270]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[state 4270]
type = changestate
trigger1 = animtime = 0
value = 51
ctrl = 0

;------------------------------------------------------------------------------
;さんだーすとーむ（ましろ側ステート）

[Statedef 4300]
type = S
movetype = I
physics = S
anim = 1100
ctrl = 0
poweradd = 0
sprpriority = 2

[State 4300]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 4300, VarSet]
type = VarSet
trigger1 = Time = 0
var(0) = 0
ignorehitpause = 1


[State 4300, Helper]
type = Helper
trigger1 = NumHelper(20000) = 0
trigger1 = Animelem = 3
helpertype = normal
ownpal = 1
name = "Nue"
postype = p1
pos = -40,0
pausemovetime = 0
supermovetime = 0
stateno = 21100
ID = 20000
ignorehitpause = 1



[State 4300, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;------------------------------------------------------------------------------
;ウルフ・コンビネーション(暗転）

[Statedef 4500]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= -1000
velset = 0,0
anim = 4500
ctrl = 0
sprpriority = 2

[State 4500]
type = nothitby
trigger1 = 1
value = SCA



[State 4500]
type = Varset
trigger1 = palno = [1,11]
trigger1 = var(8)=0
trigger1 = ((time = 0) && (Var(7) <= 200))
v = 7
value = 0
ignorehitpause = 1
supermove = 1
pausemove = 1

[State 4500]
type = Varset
trigger1 = palno = [1,11]
trigger1 = var(8)=0
trigger1 = ((time = 0) && (Var(7) >= 201))
v = 7
value = 0
ignorehitpause = 1
supermove = 1
pausemove = 1

[State 4500]
type = Varset
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 101
trigger1 = palno = [1,11]
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1

[State 4500]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 100
trigger1 = palno = [1,11]
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1

[State 4500]
type = VarAdd
triggerall = var(8) = 0
trigger1 = palno = 12
trigger1 = time = 0
v = 7
value = -200
ignorehitpause = 1

[State 4500]
type = VarAdd
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 51
trigger1 = palno = 12
trigger1 = time = 0
v = 7
value = -50
ignorehitpause = 1

[State 4500]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 50
trigger1 = palno = 12
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1



[State 4500]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 50
under = 1



[State 4500]
type = pause
trigger1 = time = 1
time = 50
movetime = 50
darken = 0


[state 4500]
type = Explod
trigger1 = time = 1
anim = 7016
pos = 0, -50
ontop = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 4500]
type = PlaySnd
trigger1 = AnimElem = 1
value = 20,4


[State 4500]
type = AssertSpecial
trigger1 = time = [0,50]
flag = noFG
flag = timerfreeze

[State 4500]
type = changestate
trigger1 = animtime = 0
value = 4510


;-----------------------------------------------------------------------------
;ウルフ・コンビネーション(ヘルパー召喚）

[Statedef 4510]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 0
velset = 0,0
anim = 4600
ctrl = 0
sprpriority = 2


[State 4510]
type = NotHitBy
trigger1 = 1
value = SCA


[State 4510]
type = PlaySnd
trigger1 = AnimElem = 1
value = 210, 0

[State 4500]
type = pause
trigger1 = time = 1
time = 13
movetime = 13
darken = 0

[State 4510]
type = Helper
trigger1 = animtime = 0
id = 6630
name = "wolf1"
pos = 200,0
postype = p1
stateno = 4631
helpertype = normal
pausemovetime = 9999
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1

[State 4510]
type = Helper
trigger1 = animtime = 0
id = 6630
name = "wolf2"
pos = 0,0
postype = p1
stateno = 4630
helpertype = normal
pausemovetime = 9999
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1

[State 4510]
type = Helper
trigger1 = animtime = 0
id = 4630
name = "wolf3"
pos = 0,0
postype = p1
stateno = 4635
helpertype = normal
pausemovetime = 9999
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1


[State 4510]
type = ChangeState
trigger1 = animtime = 0
value = 4520
ctrl = 0


;----------------------------------------------
;ウルフ・コンビネーション(攻撃）

[Statedef 4520]
type = A
ctrl = 0
anim = 4605
velset = 0,0
movetype = I
physics = N
sprpriority = 3

[State 4520]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,22
channel = 0

[state 4631]
type = varAdd
trigger1 = time=0
var(23) = 333



[state 4520]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[state 4520]
type = PosAdd
trigger1 = time = 0
x = 75


[state 4520]
type = ChangeState
trigger1 = animtime = 0
value = 4530
ctrl = 0




;----------------------------------------------
;ウルフ・コンビネーション(攻撃2）

[Statedef 4530]
type = A
ctrl = 0
anim = 4620
velset = 0,0
movetype = I
physics = N
sprpriority = 3


[State 4530]
type = NotHitBy
trigger1 = 1
value = SCA

[State 4530]
type = VelSet
trigger1 = time = [0,25]
x = 2


[State 4530]
type = ChangeState
trigger1 = AnimTime = 0
value = 4540
ctrl = 0




;----------------------------------------------
;ウルフ・コンビネーション(ポージング）

[Statedef 4540]
type    = S
physics = N
anim = 4800
velset = 0,0
sprpriority = 1
ctrl = 0


[State 4540]
type = nothitby
trigger1 = 1
value = SCA


[State 4540]
type = PlaySnd
trigger1 = animelem = 5
value = 200, 0


[State 4540]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5


[State 4540]
type = Helper
trigger1 = animelem = 2
id = 6640
name = "efe1"
pos = 0,0
postype = p1
stateno = 4640
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[State 4540]
type = Explod
trigger1 = time = 62
anim = 30040
id = 30040
pos = 0,0
postype = p1
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999

[State 4540]
type = Explod
trigger1 = time = 62
anim = 30030
scale = 1.2,1.2
postype = p1
pos = 0,0
sprpriority = 5
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999


[State 4540]
trigger1 = AnimElem = 5
type = envshake
time = 5
freq = 100
ampl = 3


[State 4540]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------
;ウルフ・コンビネーション(ヘルパー）

[Statedef 4630]
type = A
ctrl = 0
anim = 4700
velset = 0,0
movetype = I
physics = N
sprpriority = 3

[state 4630]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[state 4630]
type = VelSet
trigger1 = 1
x = 20


[state 4630]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256


[state 4630]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------
;ウルフ・コンビネーション(ヘルパー）

[Statedef 4635]
type = A
ctrl = 0
anim = 4630
velset = 0,0
movetype = I
physics = N
sprpriority = 3


[state 4635]
type = AssertSpecial
trigger1 = 1
flag = noshadow



[state 4635]
type = Explod
trigger1 = time = 1
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1

[state 4635]
type = Explod
trigger1 = time = 1
anim = 4750
scale = 1.2,1.5
sprpriority = 5
postype = p1
pos = 40,-70
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1



[state 4635]
trigger1 = time = 0
type = envshake
time = 40
freq = 100
ampl = 6


[state 4635]
type = DestroySelf
trigger1 = time = 40


;-------------------------------------------------------------------
;ウルフ・コンビネーション(ヘルパー）

[Statedef 4631]
type = A
ctrl = 0
anim = 4610
velset = 0,0
movetype = A
physics = N
sprpriority = 9

[state 4631]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[state 4631]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256


[state 4631]
type = HitDef
trigger1 = AnimElem = 1
attr = S, HA
damage = 0, 0
getpower = 0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 20,15
sparkno = -1
sparkxy = -40, -60
guard.sparkno = S7007
hitsound = s3000,0
guardsound = s120,0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -0.3,-9
airguard.velocity = -1.9,-.8
air.velocity = -0.3,-9
guard.velocity = -5
yaccel = 0.36
fall = 1
fall.recover = 0
p2stateno = 4650
fall.recovertime = ceil(333 * fvar(1)) + 9
;yaccel = 0.33


[state 4631]
type = TargetLifeAdd
trigger1 = movehit = 1
value =  -333
Absolute = 1

[state 4631]
type = Explod
trigger1 = movehit = 1
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4631]
type = Explod
trigger1 = movehit = 1
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4631]
type = Explod
trigger1 = movehit = 1
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4631]
type = Explod
trigger1 = movehit = 1
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4631]
type = Explod
trigger1 = movehit = 1
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4631]
type = Explod
trigger1 = movehit = 1
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4631]
type = Explod
trigger1 = movehit = 1
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4631]
type = Explod
trigger1 = movehit = 1
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[state 4631]
type = DestroySelf
trigger1 = Time = 10


;-----------------------------------------------------------------------
;ウルフ・コンビネーション(ヘルパー）

[Statedef 4640]
type = A
ctrl = 0
anim = 4900
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state 4640]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[state 4640]
type = BindToRoot
trigger1 = 1
time = 1
pos = 0,0


[state 4640]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256


[state 4640]
type = angledraw
trigger1 = 1
scale = 1.0,1.0


[state 4640]
type = destroyself
trigger1 = animtime = 0

;----------------------------------------------------------------------------------------
;特殊やられステート

[Statedef 4650]
type = A
movetype= H
physics = N

[State 4650]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X >= 0
x = -15.5
y = -6.2

[State 4650]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X < 0
x = -15.5
y = -6.2

[State 4650]
type = VelAdd
trigger1 = time >= 0
y = 0.2

[State 4650]
type = ChangeAnim2
trigger1 = time = 0
value = 1350

[State 4650]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 5656

[State 4650]
type = SelfState
trigger1 = Pos Y > 0
value = 5110





;--------------------------------------------------------------------------
;獣姫の槌

[Statedef 4950]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= -3000
velset = 0,0
anim = 4950
ctrl = 0
sprpriority = 7

[State 4950]
type = nothitby
trigger1 = animelemtime(14)<0
value = SCA


[State 4950]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 4950]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 40
under = 1
supermove = 9999
pausemove = 9999


[State 4950]
type = pause
trigger1 = time = 1
time = 40
movetime = 40
darken = 0

[State 4950]
type = explod
trigger1 = time = 1
anim = 7016
pos = 0,-50
postype = p1
ontop = 1
supermovetime = 9999
pausemovetime = 9999
persistent = 0
ignorehitpause = 1



[State 4950]
type = PlaySnd
trigger1 = animelem = 8
value = s1200,0

[State 4950]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,11
channel = 0


[State 4950]
type = explod
trigger1 = animelem = 9
anim = 14950
pos = 85,20
postype = p1
ontop = 1
helpertype = normal
supermovetime = 0
pausemovetime = 9999
persistent = 0
ignorehitpause = 1
ownpal = 1



[State 4950]
Type = HitDef
Trigger1 = AnimElem = 12
Attr = S, HP
Damage = ceil(400* fvar(0)),40
AnimType = Hard
HitFlag = MAF
GuardFlag = M
Priority = 7, Hit
PauseTime = 9,20
SparkNo = S7003
Guard.SparkNo = S7007
hitsound = s3200,2
guardsound = s120,0
Ground.Type = High
Air.Type = High
Ground.SlideTime = 25
Ground.HitTime  = 25
guard.ctrltime = 25
Ground.Velocity = -3,-9
Air.Velocity = -3,-7
P2Facing = 1
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = 0
p2stateno = 1350
fall.recovertime = ceil(400 * fvar(1)) + 9
;yaccel = 0.33


[State 4950]
type = Explod
trigger1 = time = 80
anim = 30040
id = 30040
pos = 0,0
postype = p1
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999

[State 4950]
type = Explod
trigger1 = time = 80
anim = 30030
scale = 1.2,1.2
postype = p1
pos = 0,0
sprpriority = 5
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999

[State 4950]
trigger1 = movehit = 1
type = envshake
time = 5
freq = 100
ampl = 3

[State 4950]
type = PlaySnd
trigger1 = AnimElem = 1
value = 20,4



[State 4950]
type=varset
triggerall = P2MoveType =H
trigger1 = movehit
fvar(1) = fvar(1) * 1.5
ignorehitpause = 1
persistent = 0


[State 4950, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,40]
flag = noFG
flag = timerfreeze

[State 4950]
type = Explod
trigger1 = movehit = 1
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4950]
type = Explod
trigger1 = movehit = 1
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4950]
type = Explod
trigger1 = movehit = 1
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4950]
type = Explod
trigger1 = movehit = 1
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4950]
type = Explod
trigger1 = movehit = 1
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4950]
type = Explod
trigger1 = movehit = 1
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4950]
type = Explod
trigger1 = movehit = 1
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4950]
type = Explod
trigger1 = movehit = 1
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 4950]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------------------
;揺蕩う姫の記憶　

[Statedef 4970]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= -3000
velset = 0,0
anim = 4970
ctrl = 0
sprpriority = 5

[State 4970]
type = nothitby
trigger1 = 1
value = SCA


[State 4970]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 4970]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 60
under = 1


[State 4970]
type = pause
trigger1 = time = 1
time = 77
movetime = 77
darken = 0

[State 4970]
type = explod
trigger1 = time = 1
anim = 7016
pos = 0,-50
postype = p1
ontop = 1
supermovetime = 9999
pausemovetime = 9999
persistent = 0
ignorehitpause = 1

[State 4970]
type = explod
trigger1 = time = 1
anim = 7017
pos = 0,-50
postype = p1
ontop = 1
supermovetime = 9999
pausemovetime = 9999
persistent = 0
ignorehitpause = 1




[State 4970]
type = AfterImage
trigger1 = time = 49
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 4970]
type = AfterImage
trigger1 = time = 60
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1



[State 4970]
type = AssertSpecial
trigger1 = 1
flag = NoWalk


[State 4970]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn



[State 4970]
Type = VelSet
Trigger1 = Time = [49,51]
X = 7

[State 4970]
Type = VelSet
Trigger1 = Time = [51,53]
X = 12

[State 4970]
Type = VelSet
Trigger1 = Time = [53,55]
X = 20

[State 4970]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0

[State 4970]
type = PlaySnd
trigger1 = AnimElem = 1
value = 20,4


[State 4970]
type = PlaySnd
trigger1 = time = 0
value = 20,2




[State 4970, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,60]
flag = noFG
flag = timerfreeze



[State 4970]
type = changestate
trigger1 = time = [50,55]
Trigger1 = P2BodyDist X = [-10,10]
value = 4971
ctrl = 0

[State 4970]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------
;揺蕩う姫の記憶・一撃目
[Statedef 4971]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 0
velset = 0,0
anim = 4971
ctrl = 0
sprpriority = 5

[State 4971]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,23
channel = 0



[State 4971]
type = nothitby
trigger1 = 1
value = SCA

[State 4971]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0

[State 4971, Helper];ダッシュエフェクト
Type = Helper
Trigger1 = Time = 1
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999

[State 4971]
type = AfterImage
trigger1 = time = 1
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
pausemove = 1

[State 4971]
type = AfterImage
trigger1 = time = 13
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
pausemove = 1

[State 4971]
type = playerpush
trigger1 = Anim = 4971
value = 1


[State 4971]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 50
under = 1


[State 4971, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,60]
flag = noFG
flag = timerfreeze

[State 4971]
type = pause
trigger1 = time = 1
time = 28
movetime = 28
darken = 0


[State 4971]
Type = VelSet
Trigger1 = Time = [0,9]
X = 15

[State 4971]
Type = VelSet
Trigger1 = Time = [10,13]
X = 10

[State 4971]
Type = VelSet
Trigger1 = Time = [14,17]
X = 6

[State 4971]
Type = VelSet
Trigger1 = Time = [18,21]
X = 3

[State 4971]
Type = VelSet
Trigger1 = Time = [22,25]
X = 1



[State 4971]
Type = HitDef
Trigger1 = AnimElem = 3
Attr = S, HA
Damage = ceil(200* fvar(0)),7
AnimType = Hard
HitFlag = MAF
GuardFlag = M
Priority = 7, Hit
PauseTime = 1,10
SparkNo = -1
Guard.SparkNo = S7007
hitsound = s1100,0
guardsound = s120,0
Ground.Type = High
Air.Type = High
Ground.SlideTime = 25
Ground.HitTime  = 25
guard.ctrltime = 25
Ground.Velocity = -0,-3
Air.Velocity = -0,-3
P2Facing = 1
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = 0
fall.recovertime = ceil(50 * fvar(1)) + 9
;yaccel = 0.33
kill = 0
p2statetype = 1034
absolute = 1

[State 4971]
type = playsnd
trigger1 = movecontact = 1
value = s1100,0


[State 4971]
type = Explod
trigger1 = movehit = 1
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4971]
type = Explod
trigger1 = movehit = 1
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4971]
type = Explod
trigger1 = movehit = 1
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4971]
type = Explod
trigger1 = movehit = 1
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4971]
type = Explod
trigger1 = movehit = 1
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4971]
type = Explod
trigger1 = movehit = 1
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4971]
type = Explod
trigger1 = movehit = 1
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4971]
type = Explod
trigger1 = movehit = 1
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4971]
type = Explod
trigger1 = movehit = 1
anim = 7003
id = 7003
pos = 0,-50
postype = p2
sprpriority = 8
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 0
PauseMoveTime = 9999



[State 4971]
type = Explod
trigger1 = time = 7
anim = 4976
id = 4976
pos = 0,0
postype = back
sprpriority = 99
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 0
PauseMoveTime = 9999

[State 4971]
type = Explod
trigger1 = time = 4
anim = 4977
id = 4977
pos = 0,0
postype = back
sprpriority = 99
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 0
PauseMoveTime = 9999

[State 4971]
type = changestate
trigger1 = animtime = 0
value = 4972
ctrl = 0
;---------------------------------------------------------------------------
;揺蕩う姫の記憶・十七分割
[Statedef 4972]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 0
velset = 0,0
anim = 4974
ctrl = 0
sprpriority = 5


[State 4972]
type = nothitby
trigger1 = 1
value = SCA

[State 4972]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0

[State 4972]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 4972]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 112
under = 1


[State 4972, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,40]
flag = noFG
flag = timerfreeze

[State 4972]
type = pause
trigger1 = time = 1
time = 38
movetime = 38
darken = 0


[State 4972]
Type = HitDef
Trigger1 = AnimElem = 6
Attr = S, HA
Damage = ceil(600* fvar(0)),40
AnimType = Hard
HitFlag = MAF
GuardFlag = M
Priority = 7, Hit
PauseTime = 1,10
SparkNo = -1
Guard.SparkNo = S7007
hitsound = -1
guardsound = s120,0
Ground.Type = High
Air.Type = High
Ground.SlideTime = 25
Ground.HitTime  = 25
guard.ctrltime = 25
Ground.Velocity = 0,-9
Air.Velocity = 0,-9
P2Facing = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = 0
fall.recovertime = ceil(450 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4973
absolute = 1


[State 4972]
type = playsnd
trigger1 = animelem = 6
value = 4999,0

[State 4972]
type = Explod
trigger1 = movehit = 1
anim = 7003
id = 7003
pos = 0,-50
postype = p2
sprpriority = 8
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 0
PauseMoveTime = 9999

[State 4972]
type = Explod
trigger1 = animelem = 6
anim = 4973
id = 4973
pos = 0,0
postype = back
sprpriority = -99
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 0
PauseMoveTime = 9999

[State 4972, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
ownpal = 1
name = "reigeki"
postype = p1
pos = 0,-50
pausemovetime = 9999
supermovetime = 0
stateno = 30100
ID = 30100
ignorehitpause = 1

[State 4972, Helper]
Type = Helper
Trigger1 = Time = 0
Persistent = 0
OwnPal = 1
PosType = P1
Pos = 0, -50
StateNo = 30110
Name = " "
pausemovetime = 9999


[State 4972]
type = Explod
trigger1 = time >= 35 && time <= 102
trigger1 = timemod = 10,0
anim = 4960
id = 12070
pos = -20+(random%90),-1+(random%40)
vel = ifelse(facing=1,-13,13),7.2
postype = front
ownpal = 1
scale = 1.1,1.1
removetime = 99
sprpriority = 3
persistent = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 35 && time <= 102
trigger1 = timemod = 16,0
anim = 4962
id = 12090
pos = -10+(random%99),-33+(random%40)
vel = ifelse(facing=1,-13,13),6
postype = front
ownpal = 1
scale = 1.0,1.0
removetime = 99
sprpriority = 3
persistent = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 35 && time <= 102
trigger1 = timemod = 11,0
anim = 4963
id = 12100
pos = -40+(random%90),-52+(random%40)
vel = ifelse(facing=1,-13,13),5.1
postype = front
ownpal = 1
removetime = 99
sprpriority = 3
persistent = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 35 && time <= 102
trigger1 = timemod = 17,0
anim = 4960
id = 12100
pos = -22+(random%30),-60
vel = ifelse(facing=1,-10,10),7.6
accel = ifelse(facing=1,.075,-.075),ifelse(facing=1,.025,-.025)
postype = front
ownpal = 1
removetime = 99
sprpriority = 3
persistent = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 35 && time <= 102
trigger1 = timemod = 14,0
anim = 4961
id = 12100
pos = -16+(random%30),-60
vel = ifelse(facing=1,-10,10),4.6
accel = ifelse(facing=1,.075,-.075),ifelse(facing=1,.05,-.05)
postype = front
ownpal = 1
removetime = 99
sprpriority = 3
persistent = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 35 && time <= 102
trigger1 = timemod = 13,0
anim = 4964
id = 12100
pos = -10+(random%30),-55
vel = ifelse(facing=1,-10,10),7.8
accel = ifelse(facing=1,.075,-.075),ifelse(facing=1,.025,-.025)
postype = front
ownpal = 1
removetime = 99
persistent = 0
sprpriority = 3
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 35 && time <= 102
trigger1 = timemod = 14,0
anim = 4962
id = 12100
pos = -10+(random%40),-60
vel = ifelse(facing=1,-7,7),7.6
accel = ifelse(facing=1,.075,-.075),ifelse(facing=1,.025,-.025)
postype = front
ownpal = 1
removetime = 99
sprpriority = 3
persistent = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 35 && time <= 102
trigger1 = timemod = 13,0
anim = 4964
id = 12100
pos = 0+(random%30),-55
vel = ifelse(facing=1,-7,7),4.8
accel = ifelse(facing=1,.075,-.075),ifelse(facing=1,.015,-.015)
postype = front
ownpal = 1
removetime = 99
persistent = 0
sprpriority = 3
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 35 && time <= 102
trigger1 = timemod = 14,0
anim = 4963
id = 12100
pos = 0+(random%60),-60
vel = ifelse(facing=1,-7,7),4.6
accel = ifelse(facing=1,.075,-.075),0
postype = front
ownpal = 1
removetime = 99
sprpriority = 3
persistent = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 35 && time <= 102
trigger1 = timemod = 14,0
anim = 4961
id = 12100
pos = ifelse(facing=1,-15,15)+(random%60),-60
vel = -4,4
accel = ifelse(facing=1,.04,-.04),0
postype = front
ownpal = 1
removetime = 99
sprpriority = 3
persistent = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 35 && time <= 102
trigger1 = timemod = 13,0
anim = 4964
id = 12100
pos = 0+(random%30),-55
vel = -4,4
accel = ifelse(facing=1,.04,-.04),0
postype = front
ownpal = 1
removetime = 99
persistent = 0
sprpriority = 3
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 35 && time <= 102
trigger1 = timemod = 13,0
anim = 4964
id = 12100
pos = 10+(random%30),-55
vel = ifelse(facing=1,-4,4),2.8
postype = front
ownpal = 1
removetime = 99
persistent = 0
sprpriority = 3
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 35 && time <= 102
trigger1 = timemod = 13,0
anim = 4964
id = 12100
pos = 40+(random%50),-55
vel = ifelse(facing=1,-4,4),2.8
postype = front
ownpal = 1
persistent = 0
sprpriority = 3
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999



[State 4972]
type = hitadd
trigger1 = time = 39 || time = 40 || time = 41 || time = 42 || time = 43
trigger2 = time = 44 || time = 45 || time = 46 || time = 47 || time = 48
trigger3 = time = 49 || time = 50 || time = 51 || time = 52 || time = 53
trigger4 = time = 54
value = 1


[State 4972]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1100,1



[State 4972]
type = Explod
trigger1 = animelem = 5
anim = 14999
id = 14999
pos = 42,-35
postype = p1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 0
PauseMoveTime = 9999


[State 4972]
type = Explod
trigger1 = animelem = 13
anim = 30040
id = 30040
pos = 0,0
postype = p1
sprpriority = 6
IgnoreHitPause = 1
Persistent = 3
ownpal = 1
bindtime = 1
pausemovetime = 9999


[State 4972]
type = Explod
trigger1 = animelem = 13
anim = 30030
id = 30030
scale = 1.2,1.2
postype = p1
pos = 0,0
sprpriority = 5
IgnoreHitPause = 1
Persistent = 3
ownpal = 1
bindtime = 1
pausemovetime = 9999


[State 4972]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
;揺蕩う姫の記憶・喰らいステート
[Statedef 4973]
type = A
movetype= H
physics = N
pausemove = 0

[State 4973]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X >= 0
x = 0
y = -6.5

[State 4973]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X < 0
x = 0
y = -6.5

[State 4973]
type = VelAdd
trigger1 = time >= 10
y = 0.33

[State 4973]
type = VelAdd
trigger1 = time >= 20
y = 0.11

[State 4973]
type = ChangeAnim2
trigger1 = time = 0
value = 4975


[State 4973]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0


[State 4973]
type = SelfState
trigger1 = Pos Y > 0
value = 5110


;----------------------------------------------------------------------

;やられ（回転）
[Statedef 5656]
type = A
movetype= H
physics = N

[State 5656]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 5656]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = 4

[State 5656]
type = AngleAdd
trigger1 = 1
value = 30

[State 5656]
type = AngleDraw
trigger1 = 1

[State 5656]
type = Playerpush
trigger1 = 1
value = 0

[State 5656]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X >= 0
x = 1.2
y = -8

[State 5656]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X < 0
x = -1.2
y = -8

[State 5656]
type = Veladd
trigger1 = 1
y = .3

[State 5656]
type = ChangeAnim2
trigger1 = time = 0
value = 5656

[State 5656]
type = SelfState
trigger1 = Pos Y > 0
value = 5110

;---------------------------------------------------------------------------

;鵺・待機状態

[Statedef 20000]
type = S
movetype = I
physics = N
anim = 20000
ctrl = 0
velset = 0,0
sprpriority = 5



[State 20000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
ignorehitpause = 1

[State 20000, playerpush]
type = playerpush
trigger1 = time =0
value = 1
time = -1

[State 20000, Turn]
type = Turn
trigger1 = ceil(P2Dist X) < -10

[State 20000, ChangeState]
type = ChangeState
trigger1 = Time > 15
value = 20010

;----------------------------------------------------------------
;鵺・出現エフェクト

[Statedef 20001]
type = S
movetype = I
physics = N
anim = 20000
ctrl = 0
sprpriority = 5



[State 20001, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 20001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1


[State 20001, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
fvar(11) = 100
ignorehitpause = 1

[State 20001, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
fvar(12) = 1
ignorehitpause = 1

[State 20001, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(7) = 1.5
ignorehitpause = 1

[State 20001, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(8) = 0
ignorehitpause = 1

[State 20001, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(7) = -0.1
ignorehitpause = 1

[State 20001, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(8) = 0.2
ignorehitpause = 1

[State 20001, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(8),fvar(7)

[State 20001, Trans]
type = Trans
trigger1 = 1
trans = Add



[State 20001, ChangeState]
type = ChangeState
trigger1 = Time > 6
value = 20000

;---------------------------------------------------
;鵺・待機状態（中）

[Statedef 20002]
type = S
movetype = I
physics = N
anim = 20000
ctrl = 0
velset = 0,0
sprpriority = 5



[State 20002, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
ignorehitpause = 1



[State 20002, Turn]
type = Turn
trigger1 = ceil(P2Dist X) < -10

[State 20002, ChangeState]
type = ChangeState
trigger1 = Time > 15
value = 20020



;--------------------------------------------------
;鵺・出現エフェクト（中）

[Statedef 20003]
type = S
movetype = I
physics = N
anim = 20000
ctrl = 0
sprpriority = 5



[State 20003, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 20003, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1



[State 20003, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
fvar(11) = 100
ignorehitpause = 1

[State 20003, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
fvar(12) = 1
ignorehitpause = 1

[State 20003, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(7) = 1.5
ignorehitpause = 1

[State 20003, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(8) = 0
ignorehitpause = 1

[State 20003, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(7) = -0.1
ignorehitpause = 1

[State 20003, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(8) = 0.2
ignorehitpause = 1

[State 20003, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(8),fvar(7)

[State 20003, Trans]
type = Trans
trigger1 = 1
trans = Add


[State 20003, ChangeState]
type = ChangeState
trigger1 = Time > 6
value = 20002

;----------------------------------------------------------------------
;鵺・待機状態（RF）

[Statedef 20004]
type = S
movetype = I
physics = N
anim = 20000
ctrl = 0
velset = 0,0
sprpriority = 5



[State 20004, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
ignorehitpause = 1



[State 20004, Turn]
type = Turn
trigger1 = ceil(P2Dist X) < -10

[State 20004, ChangeState]
type = ChangeState
trigger1 = Time > 15
value = 20030


;-----------------------------------------------
;鵺・出現エフェクト（RF）

[Statedef 20005]
type = S
movetype = I
physics = N
anim = 20000
ctrl = 0
sprpriority = 5



[State 20005, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 20005, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1



[State 20005, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
fvar(11) = 100
ignorehitpause = 1

[State 20005, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
fvar(12) = 1
ignorehitpause = 1

[State 20005, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(7) = 1.5
ignorehitpause = 1

[State 20005, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(8) = 0
ignorehitpause = 1

[State 20005, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(7) = -0.1
ignorehitpause = 1

[State 20005, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(8) = 0.2
ignorehitpause = 1

[State 20005, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(8),fvar(7)

[State 20005, Trans]
type = Trans
trigger1 = 1
trans = Add


[State 20005, ChangeState]
type = ChangeState
trigger1 = Time > 6
value = 20004

;-----------------------------------------------------------------------------
;鵺・消滅エフェクト

[Statedef 20015]
type = S
movetype = I
physics = N
ctrl = 0
sprpriority = 5

[State 20015, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA, AA, AP ,AT
slot = 0
stateno = 20050
time = -1
ignorehitpause = 1

[State 20015, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 20015, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1


[State 20015, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(7) = 1.0
ignorehitpause = 1

[State 20015, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(8) = 1.0
ignorehitpause = 1

[State 20015, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(7) = 0.1
ignorehitpause = 1

[State 20015, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(8) = -0.2
ignorehitpause = 1

[State 20015, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(8),fvar(7)

[State 20015, Trans]
type = Trans
trigger1 = 1
trans = Add


[State 20015, DestroySelf]
type = DestroySelf
trigger1 = Time > 120


;-----------------------------------------------------------
;雷撃（弱）

[Statedef 20010]
type = S
movetype = I
physics = N
anim = 20200
ctrl = 0
velset = 0,0
sprpriority = 5

[State 20010]
type = nothitby
trigger1 = Animelem = 8
value = SCA
time = -1


[State 20010, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA, AA, AP ,AT
slot = 0
stateno = 20050
time = -1
ignorehitpause = 1


[State 20010]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4,0
channel = 1


[State 20010]
type = Helper
trigger1 = NumHelper(20100) = 0
trigger1 = Animelem = 8
helpertype = normal
ownpal = 1
name = "Raigeki"
postype = p1
pos = 40,0
pausemovetime = 0
supermovetime = 0
stateno = 20100
ID = 20100
ignorehitpause = 1




[State 20010, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 20015
;----------------------------------------------------------------
;雷撃（中）

[Statedef 20020]
type = S
movetype = I
physics = N
anim = 20200
ctrl = 0
velset = 0,0
sprpriority = 5


[State 20020]
type = nothitby
trigger1 = Animelem = 8
value = SCA
time = -1

[State 20020, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA, AA, AP ,AT
slot = 0
stateno = 20050
time = -1
ignorehitpause = 1


[State 20020]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4,0
channel = 1



[State 20020]
type = Helper
trigger1 = NumHelper(20100) = 0
trigger1 = Animelem = 8
helpertype = normal
ownpal = 1
name = "Raigeki2"
postype = p1
pos = 80,0
pausemovetime = 0
supermovetime = 0
stateno = 20200
ID = 20200
ignorehitpause = 1



[State 20020, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 20015

;-------------------------------------------------------------
;雷撃（RF）

[Statedef 20030]
type = S
movetype = I
physics = N
anim = 20300
ctrl = 0
velset = 0,0
sprpriority = 5


[State 20010]
type = nothitby
trigger1 = time = 82
value = SCA
time = -1

[State 20030, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA, AA, AP ,AT
slot = 0
stateno = 20050
time = -1
ignorehitpause = 1


[State 20030]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4,1
channel = 1



[State 20030]
type = Helper
trigger1 = NumHelper(20100) = 0
trigger1 = time = 142
helpertype = normal
ownpal = 1
name = "Raigeki3"
postype = p1
pos = 40,0
pausemovetime = 0
supermovetime = 0
stateno = 20300
ID = 20030
ignorehitpause = 1

[State 20030]
type = Helper
trigger1 = NumHelper(20100) = 0
trigger1 = time = 162
helpertype = normal
ownpal = 1
name = "Raigeki4"
postype = p1
pos = -30,0
pausemovetime = 0
supermovetime = 0
stateno = 20400
ID = 20400
ignorehitpause = 1



[State 20030]
type = Helper
trigger1 = NumHelper(20100) = 0
trigger1 = time = 182
helpertype = normal
ownpal = 1
name = "Raigeki5"
postype = p1
pos = 20,0
pausemovetime = 0
supermovetime = 0
stateno = 20500
ID = 20400
ignorehitpause = 1


[State 20030, ChangeState]
type = ChangeState
trigger1 = Animtime = 0
value = 20015

;----------------------------------------------------------------------
;鵺ダメージ用

[Statedef 20050]
type    = A
movetype= H
physics = N
anim =  25000

[State 20050, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 20050]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4,4
channel = 1

[State 20050, 2] ;Acceleration
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)
x = -1.0

[State 20050, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
;trigger1 = GetHitVar(fall.yvel) = 0
sysvar(1) = floor(vel y)

[State 20050, 3] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 15
type = ChangeState
value = 20051




;---------------------------------------
;鵺ダメージ用２
[Statedef 20051]
type    = L
movetype= H
physics = N
anim = 25100


[State 20051]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 0


[State 20051, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
;trigger1 = GetHitVar(fall.yvel) = 0
sysvar(1) = floor(vel y)

[State 20051, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = !SelfAnimExist(25200 + (anim % 10))
value = 20052


[State 20051, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 20051, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 20051, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0



[State 20051, 11]
type = PosFreeze
trigger1 = 1



[State 20051, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

[State 20051]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = S5100,0


[State 20051]
type = Explod
trigger1 = Time = 1
anim = 7004
id = 7004
postype = p1
pos = 0, 0
bindtime = 1
ownpal = 1
sprpriority = -1
under = sysvar(1) <= 10
supermove = 1
ignorehitpause = 1
pausemovetime = 20
supermovetime = 20

[State 20051, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 20052


;----------------------------------------------------
;鵺ダメージ用３
[Statedef 20052]
type = S
movetype = I
physics = N
ctrl = 0
sprpriority = 5
anim = 25200

[State 20052, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA, AA, AP ,AT
slot = 0
stateno = 20050
time = -1
ignorehitpause = 1

[State 20052, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 20052, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1


[State 20052, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(7) = 1.0
ignorehitpause = 1

[State 20052, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(8) = 1.0
ignorehitpause = 1

[State 20052, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(7) = 0.1
ignorehitpause = 1

[State 20052, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(8) = -0.2
ignorehitpause = 1

[State 20052, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(8),fvar(7)

[State 20052, Trans]
type = Trans
trigger1 = 1
trans = Add

[State 20052, playerpush]
type = playerpush
trigger1 = time =0
value = 1
time = -1

[State 20052, DestroySelf]
type = DestroySelf
trigger1 = Time > 120


;---------------------------------------------
;雷撃（弱）エフェクト

[Statedef 20100]
type    = S
movetype= A
physics = S
;juggle  = 0;5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 12000
sprpriority = 7

[State 20100]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3300,0


[State 20100]
type = PosFreeze
trigger1 = 1
time = 9999999999

[State 20100]
type = bindtoparent
trigger1 = 1
pos = 40,0
time = 9999999999


[State 20100, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 20100, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 20100,playerpush]
trigger1 = time = 0
type = playerpush
value = 0
time = -1

[State 20100]
type = HitDef
triggerall = ishelper
trigger1 = AnimElem= 5
attr = S, SP
damage = 70,15
getpower = 100
hitflag = MAF
guardflag = MA
priority = 7, HIT
pausetime = 9,30
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 20
ground.velocity = -5
air.type = High
airguard.velocity = -3,-3
air.velocity = 0,-5
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(70 * fvar(1)) + 9
;yaccel = 0.33
absolute = 1


[State 20100]
type = Explod
trigger1 = animelem = 5
anim = 12100
id = 12100
pos = 0,0
postype = p1
ontop = 1
sprpriority = 8
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 0
PauseMoveTime = 0

[state 20100]
type = parentvarset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = root,fvar(1) * 0.91 * (1 - 0.09*(fvar(1)>1.00000))
ignorehitpause = 1
persistent=0



[State 20100]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10 + (parent,var(4)), (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20100]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1 + (parent,var(5)), 1 + (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20100]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0 - (parent,var(4)), 10 + (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20100]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1 - (parent,var(5)), 1 + (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20100]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10 + (parent,var(4)), 0 - (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20100]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1 + (parent,var(5)), -1 - (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20100]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0 - (parent,var(4)), -10 - (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20100]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1 - (parent,var(5)), -1 - (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20100, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0

;-------------------------------------------------------
;雷撃（中）エフェクト

[Statedef 20200]
type    = S
movetype= A
physics = S
;juggle  = 0;5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 12000
sprpriority = 7

[State 20200]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3300,0



[State 20200]
type = PosFreeze
trigger1 = 1
time = 9999999999

[State 20200]
type = bindtoparent
trigger1 = 1
pos = 80,0
time = 9999999999

[State 20200, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 20200, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 20200,playerpush]
trigger1 = time = 0
type = playerpush
value = 0
time = -1

[State 20200]
type = HitDef
triggerall = ishelper
trigger1 = AnimElem= 5
attr = S, SP
damage = 70,15
getpower = 100
hitflag = MAF
guardflag = MA
priority = 7, HIT
pausetime = 9,30
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 20
ground.velocity = -5
air.type = High
airguard.velocity = -3,-3
air.velocity = 0,-5
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(70 * fvar(1)) + 9
;yaccel = 0.33
absolute = 1


[State 20200]
type = Explod
trigger1 = animelem = 5
anim = 12100
id = 12100
pos = 0,0
postype = p1
ontop = 1
sprpriority = 8
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 0
PauseMoveTime = 0


[state 20200]
type = parentvarset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = root,fvar(1) * 0.91 * (1 - 0.09*(fvar(1)>1.00000))
ignorehitpause = 1
persistent=0



[State 20200]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10 + (parent,var(4)), (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20200]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1 + (parent,var(5)), 1 + (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20200]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0 - (parent,var(4)), 10 + (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20200]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1 - (parent,var(5)), 1 + (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20200]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10 + (parent,var(4)), 0 - (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20200]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1 + (parent,var(5)), -1 - (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20200]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0 - (parent,var(4)), -10 - (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20200]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1 - (parent,var(5)), -1 - (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 20200, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0

;-------------------------------------------------------------------
;大雷撃（RF)エフェクト

[Statedef 20300]
type    = S
movetype= A
physics = S
;juggle  = 0 ;5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 12000
sprpriority = 7

[State 20300]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3300,0



[State 20300]
type = PosFreeze
trigger1 = 1
time = 9999999999

[State 20300]
type = bindtoparent
trigger1 = 1
pos = 40,0
time = 9999999999

[State 20300, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 20300, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 20300,playerpush]
trigger1 = time = 0
type = playerpush
value = 0
time = -1

[State 20300]
type = HitDef
trigger1 = AnimElem= 4
attr = S, SP
damage = 70,15
getpower = 100
hitflag = MAFD
guardflag = MA
priority = 7, HIT
pausetime = 9,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 30
ground.slidetime = 20
guard.hittime = 30
guard.ctrltime = 30
ground.velocity = 5,-5
air.type = High
airguard.velocity = -3,-3
air.velocity = 5,-5
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(70 * fvar(1)) + 9
;yaccel = 0.33
absolute = 1


[state 20300]
type = parentvarset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = root,fvar(1) * 0.91 * (1 - 0.09*(fvar(1)>1.00000))
ignorehitpause = 1
persistent=0


[State 20300]
type = Explod
trigger1 = animelem = 5
anim = 12100
id = 12100
pos = 0,0
postype = p1
ontop = 1
sprpriority = 8
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 0
PauseMoveTime = 0

[State 20300]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10 + (parent,var(4)), (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20300]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1 + (parent,var(5)), 1 + (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20300]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0 - (parent,var(4)), 10 + (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20300]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1 - (parent,var(5)), 1 + (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20300]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10 + (parent,var(4)), 0 - (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20300]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1 + (parent,var(5)), -1 - (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20300]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0 - (parent,var(4)), -10 - (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20300]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1 - (parent,var(5)), -1 - (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999




[State 20300, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0

;--------------------------------------------------------
;大雷撃（RF)エフェクト

[Statedef 20400]
type    = S
movetype= A
physics = S
;juggle  = 5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 12000
sprpriority = 7

[State 20400]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3300,0


[State 20400]
type = PosFreeze
trigger1 = 1
time = 9999999999

[State 20400]
type = bindtoparent
trigger1 = 1
pos = -30,0
time = 9999999999


[State 20400, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 20400, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 20400,playerpush]
trigger1 = time = 0
type = playerpush
value = 0
time = -1

[State 20400]
type = HitDef
trigger1 = AnimElem= 4
attr = S, SP
damage = 70,15
getpower = 100
hitflag = MAFD
guardflag = MA
priority = 7, HIT
pausetime = 9,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 30
ground.slidetime = 20
guard.hittime = 30
guard.ctrltime = 30
ground.velocity = -5,-5
air.type = High
airguard.velocity = 5,-3
air.velocity = -5,-5
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(70 * fvar(1)) + 9
;yaccel = 0.33
absolute = 1


[State 20400]
type = Explod
trigger1 = animelem = 5
anim = 12100
id = 12100
pos = 0,0
postype = p1
ontop = 1
sprpriority = 8
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 0
PauseMoveTime = 0



[state 20400]
type = parentvarset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = root,fvar(1) * 0.91 * (1 - 0.09*(fvar(1)>1.00000))
ignorehitpause = 1
persistent=0




[State 20400]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10 + (parent,var(4)), (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20400]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1 + (parent,var(5)), 1 + (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20400]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0 - (parent,var(4)), 10 + (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20400]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1 - (parent,var(5)), 1 + (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20400]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10 + (parent,var(4)), 0 - (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20400]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1 + (parent,var(5)), -1 - (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20400]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0 - (parent,var(4)), -10 - (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20400]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1 - (parent,var(5)), -1 - (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 20400, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0

;-----------------------------------------------------
;大雷撃（RF)エフェクト
[Statedef 20500]
type    = S
movetype= A
physics = S
;juggle  = 0 ;5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 12000
sprpriority = 7

[State 20500]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3300,0

[State 20500]
type = PosFreeze
trigger1 = 1
time = 9999999999

[State 20500]
type = bindtoparent
trigger1 = 1
pos = 20,0
time = 9999999999

[State 20500, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 20500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 20500,playerpush]
trigger1 = time = 0
type = playerpush
value = 0
time = -1

[State 20500]
type = HitDef
trigger1 = AnimElem= 4
attr = S, SP
damage = 70,15
getpower = 100
hitflag = MAFD
guardflag = MA
priority = 7, HIT
pausetime = 9,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 30
ground.slidetime = 20
guard.hittime = 30
guard.ctrltime = 30
ground.velocity = 0,-5
air.type = High
airguard.velocity = -3,-3
air.velocity = -0,-5.5
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(70 * fvar(1)) + 9
fall = 1
;yaccel = 0.33
absolute = 1

[state 20500]
type = parentvarset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = root,fvar(1) * 0.91 * (1 - 0.09*(fvar(1)>1.00000))
ignorehitpause = 1
persistent=0


[State 20500]
type = Explod
trigger1 = animelem = 5
anim = 12100
id = 12100
pos = 0,0
postype = p1
ontop = 1
sprpriority = 8
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 0
PauseMoveTime = 0



[State 20500]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10 + (parent,var(4)), (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20500]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1 + (parent,var(5)), 1 + (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20500]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0 - (parent,var(4)), 10 + (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20500]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1 - (parent,var(5)), 1 + (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20500]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10 + (parent,var(4)), 0 - (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20500]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1 + (parent,var(5)), -1 - (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20500]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0 - (parent,var(4)), -10 - (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20500]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1 - (parent,var(5)), -1 - (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 20500, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0


;--------------------------------------------------------------------------
;鵺・待機状態（さんだーすとーむ）

[Statedef 21000]
type = S
movetype = I
physics = N
anim = 20000
ctrl = 0
velset = 0,0
sprpriority = 5



[State 21000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
ignorehitpause = 1

[State 21000, playerpush]
type = playerpush
trigger1 = time =0
value = 1
time = -1

[State 21000, Turn]
type = Turn
trigger1 = ceil(P2Dist X) < -10

[State 21000, ChangeState]
type = ChangeState
trigger1 = Time > 5
value = 21200

;----------------------------------------------------------------
;鵺・出現エフェクト（さんだーすとーむ）

[Statedef 21100]
type = S
movetype = I
physics = N
anim = 20000
ctrl = 0
sprpriority = 5



[State 21100, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 21100, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1


[State 21100, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
fvar(11) = 100
ignorehitpause = 1

[State 21100, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
fvar(12) = 1
ignorehitpause = 1

[State 21100, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(7) = 1.5
ignorehitpause = 1

[State 21100, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(8) = 0
ignorehitpause = 1

[State 21100, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(7) = -0.1
ignorehitpause = 1

[State 21100, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(8) = 0.2
ignorehitpause = 1

[State 21100, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(8),fvar(7)

[State 21100, Trans]
type = Trans
trigger1 = 1
trans = Add



[State 21100, ChangeState]
type = ChangeState
trigger1 = Time > 6
value = 21000

;-------------------------------------------------------------------------------

;さんだーすとーむ

[Statedef 21200]
type = S
movetype = I
physics = N
anim = 4400
ctrl = 0
velset = 0,0
sprpriority = 5

[State 21200, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA, AA, AP ,AT
slot = 0
stateno = 20050
time = -1
ignorehitpause = 1

[state 21200]
type = nothitby
trigger1 = animelemtime(6)<0
value = SCA

[state 21200]
type = nothitby
trigger1 = time = 37
time = -1
value = SCA

[State 21200, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA, AA, AP ,AT
slot = 0
stateno = 20050
time = -1
ignorehitpause = 1

[State 21200]
type = poweradd
trigger1 = time = 0
value = -2000

[State 21200]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1
pausemove = 1


[State 21200]
type = pause
trigger1 = time = 1
time = 33
movetime = 33
darken = 0

[State 21200]
type = Explod
trigger1 = time = 1
anim = 7015
pos = 0, -50
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 21200]
type = Explod
trigger1 = time = 1
anim = 7010
pos = 0, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999



[State 21200]
type = PlaySnd
trigger1 = time = 0
value = 20,1

[State 21200]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4,2
channel = 1



[State 21200]
type = AssertSpecial
trigger1 = time = [0,33]
flag = noFG
flag = timerfreeze


[State 21200]
type = Helper
trigger1 = NumHelper(20100) = 0
trigger1 = time = 37
helpertype = normal
ownpal = 1
name = "Raigeki-ex"
postype = p1
pos = 90,0
pausemovetime = 0
supermovetime = 0
stateno = 21300
ID = 21300
ignorehitpause = 1

[State 21200]
type = Helper
trigger1 = NumHelper(20100) = 0
trigger1 = time = 40
helpertype = normal
ownpal = 1
name = "Raigeki-ex2"
postype = p1
pos = 140,0
pausemovetime = 0
supermovetime = 0
stateno = 21400
ID = 21400
ignorehitpause = 1


[State 21200, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 20015

;---------------------------------------------------------------------------
;雷撃1本目ヘルパー

[Statedef 21300]
type    = S
movetype= A
physics = S
;juggle  = 0;5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 4450
sprpriority = 7

[State 21300]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3300,0


[State 21300]
type = PosFreeze
trigger1 = 1
time = 9999999999

[State 21300]
type = bindtoparent
trigger1 = 1
pos = 90,0
time = 9999999999


[State 21300, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 21300, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 21300,playerpush]
trigger1 = time = 0
type = playerpush
value = 0
time = -1

[State 21300]
type = HitDef
triggerall = ishelper
trigger1 = AnimElem= 4
attr = S, SP
damage = 140,25
getpower = 0
hitflag = MAFD
guardflag = MA
priority = 7, HIT
pausetime = 5,25
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 20
ground.velocity = -1.6,-7.2
air.type = High
airguard.velocity = -3,-3
air.velocity = -1.6,-7.2
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(130 * fvar(1)) + 9
;yaccel = 0.33
absolute = 1


[state 21300]
type = parentvarset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = root,fvar(1) * 0.91 * (1 - 0.09*(fvar(1)>1.00000))
ignorehitpause = 1
persistent=0



[State 21300]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10 + (parent,var(4)), (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 21300]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1 + (parent,var(5)), 1 + (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 21300]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0 - (parent,var(4)), 10 + (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 21300]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1 - (parent,var(5)), 1 + (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 21300]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10 + (parent,var(4)), 0 - (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 21300]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1 + (parent,var(5)), -1 - (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 21300]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0 - (parent,var(4)), -10 - (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 21300]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1 - (parent,var(5)), -1 - (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 21300, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0

;-----------------------------------------------------------------------------
;雷撃2本目ヘルパー

[Statedef 21400]
type    = S
movetype= A
physics = S
;juggle  = 0;5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 4450
sprpriority = 7

[State 21400]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3300,0


[State 21400]
type = PosFreeze
trigger1 = 1
time = 9999999999

[State 21400]
type = bindtoparent
trigger1 = 1
pos = 140,0
time = 9999999999


[State 21400, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 21400, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 21400,playerpush]
trigger1 = time = 0
type = playerpush
value = 0
time = -1

[State 21400]
type = HitDef
triggerall = ishelper
trigger1 = AnimElem= 4
attr = S, SP
damage = 130,20
getpower = 0
hitflag = MAFD
guardflag = MA
priority = 7, HIT
pausetime = 5,25
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 20
ground.velocity = -1.6,-7.2
air.type = High
airguard.velocity = -3,-3
air.velocity = -1.6,-7.2
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(130 * fvar(1)) + 9
fall = 1
;yaccel = 0.33
absolute = 1

[state 21400]
type = parentvarset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = root,fvar(1) * 0.91 * (1 - 0.09*(fvar(1)>1.00000))
ignorehitpause = 1
persistent=0



[State 21400]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10 + (parent,var(4)), (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 21400]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1 + (parent,var(5)), 1 + (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 21400]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0 - (parent,var(4)), 10 + (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 21400]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1 - (parent,var(5)), 1 + (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 21400]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10 + (parent,var(4)), 0 - (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 21400]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1 + (parent,var(5)), -1 - (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 21400]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0 - (parent,var(4)), -10 - (parent,var(5))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 21400]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1 - (parent,var(5)), -1 - (parent,var(4))
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 21400, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0




;---------------------------------------------------------------------------
;ダッシュエフェクト

[StateDef 30000]
Type = A
MoveType = I
Physics = N
Anim = 40000
SprPriority = 100


[State 30000, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow



[State 30000, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 150


[State 30000, VarAdd]
Type = VarAdd
Trigger1 = Time = [1, 2]
V = 2
Value = 40


[State 30000, VarAdd]
Type = VarAdd
Trigger1 = Time = [3, 4]
V = 2
Value = 35


[State 30000, VarAdd]
Type = VarAdd
Trigger1 = Time = 5
V = 2
Value = 30


[State 30000, VarAdd]
Type = VarAdd
Trigger1 = Time > 5
V = 2
Value = 20



[State 30000, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 3
Value = 40


[State 30000, VarAdd]
Type = VarAdd
Trigger1 = Time > 0
V = 3
Value = 10



[State 30000, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 255


[State 30000, VarAdd]
Type = VarAdd
Trigger1 = Time > 0
Trigger1 = Var(1) > 0
V = 1
Value = -36


[State 30000, VarSet]
Type = VarSet
Trigger1 = Var(1) < 0
V = 1
Value = 0



[State 30000, Trans]
Type = Trans
Trigger1 = 1
Trans = Add


[State 30000, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(1), Var(1), Var(1)


[State 30000, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = 0.5*Var(2)/242, 0.5*Var(3)/242



[State 30000, DestroySelf]
Type = DestroySelf
Trigger1 = Var(1) = 0


;------------------------------
;ダッシュエフェクト

[StateDef 30020]
Type = A
MoveType = I
Physics = N
Anim = 40020
SprPriority = 100


[State 30020, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow


[State 30020, Helper]
Type = Helper
Trigger1 = Time = 0
Persistent = 0
OwnPal = 1
PosType = P1
Pos = 45, 0
StateNo = 30025
Name = " "
pausemovetime = 9999


[State 30020, Trans]
Type = Trans
Trigger1 = 1
Trans = Add


[State 30020, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = 0.5, 0.5



[State 30020, DestroySelf]
Type = DestroySelf
Trigger1 = AnimTime = 0


;------------------------------
;ダッシュエフェクト

[StateDef 30021]
Type = A
MoveType = I
Physics = N
Anim = 40020
SprPriority = 100


[State 30021, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow


[State 30021, Helper]
Type = Helper
Trigger1 = Time = 0
Persistent = 0
OwnPal = 1
PosType = P1
Pos = 0, 0
StateNo = 30025
Name = " "
pausemovetime = 9999

[State 30021, Trans]
Type = Trans
Trigger1 = 1
Trans = Add


[State 30021, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = 0.5, 0.5



[State 30021, DestroySelf]
Type = DestroySelf
Trigger1 = AnimTime = 0


;--------------------------------------------------
;ダッシュエフェクト

[StateDef 30025]
Type = A
MoveType = I
Physics = N
Anim = 40000
SprPriority = 100


[State 30025, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow



[State 30025, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 64


[State 30025, VarAdd]
Type = VarAdd
Trigger1 = Time > 0
V = 2
Value = 16



[State 30025, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 3
Value = 150


[State 30025, VarAdd]
Type = VarAdd
Trigger1 = Time = [1, 2]
V = 3
Value = 40


[State 30025, VarAdd]
Type = VarAdd
Trigger1 = Time = [3, 4]
V = 3
Value = 35


[State 30025, VarAdd]
Type = VarAdd
Trigger1 = Time = 5
V = 3
Value = 30


[State 30025, VarAdd]
Type = VarAdd
Trigger1 = Time > 5
V = 3
Value = 20



[State 30025, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 255


[State 30025, VarAdd]
Type = VarAdd
Trigger1 = Time > 0
Trigger1 = Var(1) > 0
V = 1
Value = -36


[State 30025, VarSet]
Type = VarSet
Trigger1 = Var(1) < 0
V = 1
Value = 0



[State 30025, Trans]
Type = Trans
Trigger1 = 1
Trans = Add


[State 30025, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(1), Var(1), Var(1)


[State 30025, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = 0.5*Var(2)/242, 0.5*Var(3)/242



[State 30025, DestroySelf]
Type = DestroySelf
Trigger1 = Var(1) = 0


;------------------------------
;霊撃（未使用ステート）

[StateDef 30100]
Type = A
MoveType = I
Physics = N
Anim = 40000
SprPriority = 100


[State 30100, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow


[State 30100, VarSet]
Type = VarSet
Trigger1 = Time = 0
FV = 1
Value = 25


[State 30100, VarSet]
Type = VarSet
Trigger1 = Time > 0
FV = 1
Value = 0.83*FVar(1)


[State 30100, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 50


[State 30100, VarAdd]
Type = VarAdd
Trigger1 = Time > 0
V = 2
Value = Floor(FVar(1))



[State 30100, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 255


[State 30100, VarAdd]
Type = VarAdd
Trigger1 = Time > 9
Trigger1 = Var(1) > 0
V = 1
Value = -25


[State 30100, VarSet]
Type = VarSet
Trigger1 = Var(1) < 0
V = 1
Value = 0



[State 30100, Trans]
Type = Trans
Trigger1 = 1
Trans = Add


[State 30100, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(1), Var(1), Var(1)


[State 30100, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = 1.2*Var(2)/122, 0.5*Var(2)/122



[State 30100, DestroySelf]
Type = DestroySelf
Trigger1 = Var(1) = 0


;--------------------------------------------------------------------------
;霊撃（未使用ステート）

[StateDef 30110]
Type = A
MoveType = I
Physics = N
Anim = 40110
SprPriority = 100


[State 30110, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow


[State 30110, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 3
Value = 100


[State 30110, VarAdd]
Type = VarAdd
Trigger1 = Time = [2, 6]
V = 3
Value = -10


[State 30110, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 460


[State 30110, VarAdd]
Type = VarAdd
Trigger1 = Time > 0
V = 2
Value = Var(3)



[State 30110, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 255


[State 30110, VarAdd]
Type = VarAdd
Trigger1 = Time > 3
Trigger1 = Var(1) > 0
V = 1
Value = -40


[State 30110, VarSet]
Type = VarSet
Trigger1 = Var(1) < 0
V = 1
Value = 0



[State 30110, Trans]
Type = Trans
Trigger1 = 1
Trans = Add


[State 30110, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(1), Var(1), Var(1)


[State 30110, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = 0.5*Var(2)/240, 0.5*Var(2)/240



[State 30110, DestroySelf]
Type = DestroySelf
Trigger1 = Var(1) = 0







;常時チェックステート
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
[Statedef -2]

;トレーニング用RFゲージ
[State -2]
type = VarAdd
triggerall = Power = Const(data.power)
triggerall = Var(6) < 999
triggerall = MatchNo = 1 && RoundNo = 1
triggerall = NumPartner = 0 && NumEnemy = 1
trigger1 = RoundState = [1,2]
trigger1 = stateno != 71
trigger1 = stateno != 72
trigger1 = stateno != 73
var(6) = 1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999

[State -2]
type = VarSet
triggerall = RoundState = 2
trigger1   = Power < Const(data.power)
trigger1 = palno != 12
var(6) = 0
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999

[State -2]
type = PowerSet
triggerall = RoundState = 2
trigger1 = Power = Const(data.power)
trigger1 = palno != 12
value = Const(data.power)-1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999

[State -2]
type = VarSet
triggerall = RoundState = 2
triggerall = P2Stateno = 0
trigger1   = Power < Const(data.power)
trigger1 = Var(6) > 1
var(7) = 400
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999

[State -2]
type = VarSet
trigger1 = Var(7) < 1
var(7) = 0
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999



;RFゲージ処理青ゲージ用
[State -2]
type = VarAdd
;triggerall = NumEnemy != 0
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
triggerall = Movetype != H
triggerall = Win = 0
triggerall = Lose = 0
triggerall = palno != 5
trigger1 = Gametime%3 = 0
v = 7
value = 1
supermove = 1
ignorehitpause = 1

[State -2]
type = VarAdd
;triggerall = NumEnemy != 0
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
triggerall = Movetype != H
triggerall = Win = 0
triggerall = Lose = 0
triggerall = palno = 5
trigger1 = Gametime%2 = 0
v = 7
value = 1
supermove = 1
ignorehitpause = 1

;赤ゲージ用
[State -2]
type = VarAdd
;triggerall = NumEnemy != 0
triggerall = Var(8) = 0
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
triggerall = Movetype != H
triggerall = Win = 0
triggerall = Lose = 0
triggerall = palno != 5
trigger1 = Gametime%4 = 0
v = 7
value = 1
supermove = 1
ignorehitpause = 1
Persistent = 1

[State -2]
type = VarAdd
;triggerall = NumEnemy != 0
triggerall = Var(8) = 0
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
triggerall = Movetype != H
triggerall = Win = 0
triggerall = Lose = 0
triggerall = palno = 5
trigger1 = Gametime%3 = 0
v = 7
value = 1
supermove = 1
ignorehitpause = 1
Persistent = 1

;青ゲージ_ガード時
[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
triggerall = Gametime%1 = 0
trigger1 = stateno = 150 || stateno = 152 || stateno = 154
trigger2 = stateno = [160,162]
v = 7
value = 1
supermove = 1
ignorehitpause = 1

;赤ゲージ_ガード時
[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
triggerall = Gametime%2 = 0
triggerall = palno != 5
trigger1 = stateno = 150 || stateno = 152 || stateno = 154
trigger2 = stateno = [160,162]
v = 7
value = 1
supermove = 1
ignorehitpause = 1

[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
triggerall = Gametime%1 = 0
triggerall = palno = 5
trigger1 = stateno = 150 || stateno = 152 || stateno = 154
trigger2 = stateno = [160,162]
v = 7
value = 1
supermove = 1
ignorehitpause = 1

[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 399
triggerall = Stateno != [120,155]
triggerall = Stateno != [160,162]
;triggerall = Stateno != [5080,5099]
;triggerall = Stateno != [5100,5120]
trigger1 = movetype = H
v = 7
value = 0
supermove = 1
ignorehitpause = 1

[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 399
triggerall = Stateno != [120,155]
triggerall = Stateno != [160,162]
triggerall = palno = 5
triggerall = Gametime%3 = 0
;triggerall = Stateno != [5080,5099]
;triggerall = Stateno != [5100,5120]
trigger1 = movetype = H
v = 7
value = 1
supermove = 1
ignorehitpause = 1

[State -2]
type = VarAdd
triggerall = Var(8) = 1
triggerall = Var(7) >= 0
triggerall = Var(7) <= 400
triggerall = Stateno != [120,155]
triggerall = Stateno != [160,162]
triggerall = Stateno != [5080,5099]
triggerall = Stateno != [5100,5120]
triggerall = StateType != L
triggerall = palno != 5
trigger1 = movetype = H
trigger1 = Gametime%3 = 0
v = 7
value = -1
supermove = 1
ignorehitpause = 1

[State -2]
type = VarAdd
triggerall = Var(8) = 1
triggerall = Var(7) >= 0
triggerall = Var(7) <= 400
triggerall = Stateno = [120,155]
triggerall = Stateno = [160,162]
triggerall = Stateno = [5080,5099]
triggerall = Stateno = [5100,5120]
triggerall = StateType = L
triggerall = palno = 5
trigger1 = movetype = H
trigger1 = Gametime%3 = 0
v = 7
value = -1
supermove = 1
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = Var(7) = 0
v = 8
value = 0
supermove = 1
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = Var(7) = 400
v = 8
value = 1
supermove = 1
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = Var(8) = 0
trigger1 = Var(7) >= 101
v = 9
value = 0
supermove = 1
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = Var(8) = 1
trigger1 = Var(7) <= 100
v = 9
value = 1
supermove = 1
ignorehitpause = 1

;RFゲージP1側
[State -2]
type = Explod
triggerall = Numexplod(7500) = 0
triggerall = Teamside = 1
trigger1 = 1
anim = 7500
id = 7500
postype = left
pos = 17, 55
supermove = 1
bindtime = -1
ignorehitpause = 1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
;ontop = 1
ownpal = 1

[State -2]
type = Explod
triggerall = Numexplod(7502) = 0
triggerall = Teamside = 1
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
trigger1 = 1
anim = 7502
id   = 7502
postype = left
pos = 17, 55
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
scale = var(7)/199.0,1
sprpriority = 6
;ontop = 1

[State -2]
type = ModifyExplod
triggerall = Teamside = 1
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
trigger1 = 1
ID = 7502
scale = var(7)/199.0,1
ignorehitpause = 1

[State -2]
type = Explod
triggerall = Numexplod(7504) = 0
triggerall = Teamside = 1
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
trigger1 = 1
anim = 7504
id   = 7504
postype = left
pos = 17, 55
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
;scale = (Var(7)-200)/199.0
sprpriority = 6
;ontop = 1

[State -2]
type = ModifyExplod
triggerall = Teamside = 1
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
trigger1 = 1
ID = 7504
scale = (Var(7)-200)/199.0
ignorehitpause = 1

[State -2]
type = Explod
triggerall = Numexplod(7506) = 0
triggerall = Var(8) = 1
triggerall = Teamside = 1
trigger1 = 1
anim = 7506
id   = 7506
postype = left
pos = 17, 55
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
;scale = var(7)/400.0,1
sprpriority = 6
;ontop = 1

[State -2]
type = ModifyExplod
triggerall = Var(8) = 1
triggerall = Teamside = 1
trigger1 = 1
ID = 7506
scale = var(7)/400.0,1
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = var(8) = 1
trigger2 = var(7) >= 200
trigger2 = var(7) <= 399
id = 7502
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7502
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = var(8) = 1
trigger2 = var(7) >= 0
trigger2 = var(7) <= 199
id = 7504
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7504
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = var(8) = 0
id = 7506
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7506
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7500
ignorehitpause = 1

;RFゲージP2側
[State -2]
type = Explod
triggerall = Numexplod(7501) = 0
triggerall = Teamside = 2
trigger1 = 1
anim = 7501
id = 7501
postype = right
pos = -18, 55
supermove = 1
ignorehitpause = 1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
bindtime = -1
ownpal = 1
;ontop = 1
sprpriority = 3
Facing = -1

[State -2]
type = Explod
triggerall = Numexplod(7503) = 0
triggerall = Teamside = 2
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
trigger1 = 1
anim = 7503
id   = 7503
postype = right
pos = -18, 55
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
;ontop = 1
sprpriority = 6
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
;scale = var(7)/199.0,1
Facing = -1

[State -2]
type = ModifyExplod
triggerall = Teamside = 2
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
trigger1 = 1
ID = 7503
scale = var(7)/199.0,1
ignorehitpause = 1

[State -2]
type = Explod
triggerall = Numexplod(7505) = 0
triggerall = Teamside = 2
triggerall = Var(8) = 0
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
trigger1 = 1
anim = 7505
id   = 7505
postype = right
pos = -18, 55
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
;ontop = 1
sprpriority = 6
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
;scale = (Var(7)-200)/200.0
Facing = -1

[State -2]
type = ModifyExplod
triggerall = Teamside = 2
triggerall = Var(8) = 0
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
trigger1 = 1
ID = 7505
scale = (Var(7)-200)/199.0
ignorehitpause = 1

[State -2]
type = Explod
triggerall = Numexplod(7507) = 0
triggerall = var(8) = 1
triggerall = Teamside = 2
trigger1 = 1
anim = 7507
id   = 7507
postype = right
pos = -18, 55
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
;ontop = 1
sprpriority = 6
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
;scale = var(7)/400.0,1
Facing = -1

[State -2]
type = ModifyExplod
triggerall = var(8) = 1
triggerall = Teamside = 2
trigger1 = 1
ID = 7507
scale = var(7)/400.0,1
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = var(8) = 1
trigger2 = var(7) >= 0
trigger2 = var(7) <= 199
id = 7505
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7505
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = var(8) = 1
trigger2 = var(7) >= 200
trigger2 = var(7) <= 399
id = 7503
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7503
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = var(8) = 0
id = 7507
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7507
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7501
ignorehitpause = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;ましろ食らいボイス
[state ]
type=null
triggerall=!ishelper
triggerall=var(51):=1
triggerall=gethitvar(damage)
trigger1=statetype=L
trigger1=var(51):=5080
trigger2=gethitvar(groundtype)=3
trigger2=var(51):=5070
trigger3=pos y<0||statetype=A||gethitvar(fall)||hitvel y<0||vel y!=0||gethitvar(animtype)=[4,5]
trigger3=var(51):=5020+gethitvar(animtype)*(gethitvar(animtype)=[1,2])+10*(gethitvar(animtype)=[4,5])
ignorehitpause=1
trigger4=gethitvar(animtype)=3
trigger4=var(51):=5006
trigger5=var(51):=5000+3*(gethitvar(groundtype)=2)+gethitvar(animtype)
ignorehitpause=1

[state ]
type=playsnd
triggerall=!ishelper
triggerall=random%3
triggerall=stateno=[5000,5080]
trigger1=var(51)=5000||var(51)=5003||var(51)=5010||var(51)=5020
trigger1=var(52):=random%2||1
trigger2=var(51)=5001||var(51)=5004||var(51)=5011||var(51)=5021||var(51)=5030
trigger2=var(52):=2+2*(random%2)
trigger3=var(51)=5002||var(51)=5005||var(51)=5006||var(51)=5012||var(51)=5022
trigger3=var(52):=3+random%2
trigger4=var(51)=5070||var(51)=5080
trigger4=var(52):=5+(random%2||var(51)=5080)
value=2,var(52)
ignorehitpause=1

;---------------------------------------------------------------------------
;リコイルガード
[State -2]
type = Varset
triggerall = Var(3) = 0
triggerall = command != "BB"
triggerall = movetype != A
triggerall = ctrl = 1
trigger1 = command = "R_Guard"
trigger2 = var(59)
trigger2 = inguarddist&&random<p2bodydist X+5
trigger3 = var(59)
trigger3 = var(57)=1&&random<=500||var(57)=2
trigger3 = random<(40+75*(life<333)+(40*var(57)*(power>=2000)))&&p2bodydist X<20+130*(life<333)||p2bodydist X >=90&&random<200||!inguarddist
v = 3
value = 10
ignorehitpause = 1
persistent = 0

;リコイルガード
[State -2]
type = Varset
triggerall = Var(3) = 0
triggerall = command != "BB"
triggerall = movetype != A
triggerall = ctrl = 1
trigger1 = command = "C_R_Guard"
trigger2 = var(59)
trigger2 = inguarddist&&random<p2bodydist X +5
trigger3 = var(59)
trigger3 = var(57)=1&&random<=500||var(57)=2
trigger3 = random<35+155*(life<333)&&p2bodydist X<20+130*(life<333)||p2bodydist X >=90&&random<200||!inguarddist
v = 3
value = 10
ignorehitpause = 1
persistent = 0

;リコイルガード
[State -2]
type = Varadd
triggerall = Var(3) != 0
triggerall = Var(3) >= 0
trigger1 = timemod = 1,0
v = 3
value = -1
ignorehitpause = 1
persistent = 0

;リコイルガード
[State -2]
type = Varset
triggerall = Var(3) != 0
trigger1 = stateno = 0
trigger2 = stateno = 160 || stateno = 161 || stateno = 162
trigger2 = stateno = 160
trigger2 = AnimTime = 0
trigger3 = Movetype = A
v = 3
value = 0
ignorehitpause = 1
persistent = 0

[State -2]
type = Varadd
trigger1 = var(17) > 0
v = 17
value = -1

[State -2]
type = Varset
trigger1 = var(17) > 0
trigger1 = stateno = [150,152]
v = 17
value = 0

;リコイルガード
[State -2]
type = HitOverride
triggerall = Statetype != A
triggerall = Movetype != A && Movetype != H
triggerall = Ctrl = 1
triggerall = Var(3) != 0
triggerall = var(17) = 0
triggerall = StateType = S
triggerall = StateType != C
triggerall = prevstateno != [165,167]
trigger1 = Enemynear,HitDefAttr = S, NA, SA, HA, NP, SP, HP || Enemynear,HitDefAttr = A, NA, SA, HA, NP, SP, HP
trigger2 = Enemy,NumProj > 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 160
time = 4

;リコイルガード
[State -2]
type =  HitOverride
triggerall = Statetype != A
triggerall = Movetype != A && Movetype != H
triggerall = Ctrl = 1
triggerall = Var(3) != 0
triggerall = var(17) = 0
triggerall = StateType != S
triggerall = StateType = C
triggerall = prevstateno != [165,167]
trigger1 = Enemynear,HitDefAttr = S, NA, SA, HA, NP, SP, HP || Enemynear,HitDefAttr = C, NA, SA, HA, NP, SP, HP
trigger2 = Enemy,NumProj > 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 161
time = 4

;リコイルガード
[State -2]
type =  HitOverride
triggerall = Statetype = A
triggerall = Movetype != A && Movetype != H
triggerall = Ctrl = 1
triggerall = Var(3) != 0
triggerall = var(17) = 0
triggerall = prevstateno != [165,167]
trigger1 = Enemynear,HitDefAttr = SA, NA, SA, HA, NP, SP, HP
trigger2 = Enemy,NumProj > 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 162
time = 4

;----------------------------------------------------------------------------
;未完成なキャラによって、不具合が起きても自己解決するシステム
[State -2, Y座標自己修復]
type = PosSet
triggerall = RoundState = 2
trigger1 = stateno = [0,12]      ;立ち＆屈み時
trigger1 = floor(Pos Y) = [-2,3] ;立ち位置が僅かにずれていたらすぐ修正
y = 0

[State -2, Y座標自動修正]
type = PosAdd
triggerall = RoundState = 2
triggerall = Life < 1000     ;トレーニングでCtrl+Iを使うときに配慮
trigger1 = stateno = [0,30]  ;歩きも含める
trigger1 = floor(Pos Y) < -2 ;立ち位置が大きくずれていたら移動する
y = 2

[State -2, Y座標自動修正]
type = PosAdd
triggerall = RoundState = 2
triggerall = Life < 1000
trigger1 = stateno = [0,30]
trigger1 = floor(Pos Y) > 2 ;同じく
y = -2

[State -2, Y座標強制修復]
type = ChangeState
triggerall = RoundState = 2
triggerall = ctrl = 0
triggerall = alive = 1
triggerall = !Lose
trigger1 = Pos Y < -1480 ;空高く飛ばされてしまっても体勢を立て直して落下する
trigger1 = GameTime % 10 = 0
trigger2 = Pos Y > 480   ;地中深くに埋められてしまっても這い上がってくる
trigger2 = GameTime % 10 = 0
value = 40

;---------------------------------------------------------------------------
; 壁ふっとび
[State -2]
type = PlaySnd
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
value = 800,2

[State -2]
type = PlaySnd
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
value = 800,2

[State -2]
type = Explod
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
anim = 7003
id = 7012
pos = -10,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = Explod
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
trigger2 = ProjHittime(1400) = 1
trigger3 = ProjHittime(3115) = 1
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = Explod
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
trigger2 = ProjHittime(1400) = 1
trigger3 = ProjHittime(3115) = 1
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = Explod
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
trigger2 = ProjHittime(1400) = 1
trigger3 = ProjHittime(3115) = 1
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = Explod
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
trigger2 = ProjHittime(1400) = 1
trigger3 = ProjHittime(3115) = 1
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = Explod
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
trigger2 = ProjHittime(1400) = 1
trigger3 = ProjHittime(3115) = 1
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = Explod
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
trigger2 = ProjHittime(1400) = 1
trigger3 = ProjHittime(3115) = 1
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = Explod
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
trigger2 = ProjHittime(1400) = 1
trigger3 = ProjHittime(3115) = 1
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = Explod
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
trigger2 = ProjHittime(1400) = 1
trigger3 = ProjHittime(3115) = 1
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


;---------------------------------------------------------------------------
;補正率リセット

[State -2]
type = Varset
triggerall = !ishelper
trigger1 = RoundState = 2
trigger1 = P2MoveType != H
trigger1 = fvar(1)<=1.0
trigger2 = RoundState < 2
trigger3 = roundstate = 2
trigger3 = p2movetype != H
trigger3 = var(7)>40
trigger3 = fvar(1)>1.0
fvar(1) = 1.0
IgnoreHitPause = 1



;攻撃力
[State -2]
type = varset
triggerall = !ishelper
trigger1 = 1
fvar(5) = 1+0.00075*var(7)
IgnoreHitPause = 1

[State -2]
type = Varset
triggerall = !ishelper
triggerall = palno != 12
trigger1 = fvar(1) <= 1
fvar(3) = fvar(1)
IgnoreHitPause = 1

[State -2]
type = Varset
triggerall = !ishelper
triggerall = palno != 12
trigger1 = fvar(1) > 1
fvar(3) = 1.0
IgnoreHitPause = 1

;ダメージ補正
[State -2]
type = Varset
triggerall = !ishelper
trigger1 = 1
fvar(0) = fvar(2) * fvar(3) * fvar(5)
IgnoreHitPause = 1

;共鳴補正
[State -2]
type = varset
triggerall = !ishelper
triggerall = palno != 12
trigger1 = projhit1400 = 1
fvar(1) = fvar(1) * 0.93 * (1 - 0.07*(fvar(1)>1.00000))
ignorehitpause = 1


[State -2]
type = varset
triggerall = !ishelper
triggerall = palno != 12
trigger1 = ProjHit3115 = 1
fvar(1) = fvar(1) * 0.92 * (1 - 0.08*(fvar(1)>1.00000))
ignorehitpause = 1

;______________________________________________________
;
;逆根性値補正(紙に優しく、固いやつには厳しくなりました)
;______________________________________________________

;相手の現在の体力×防御力が1000*100より大きい場合、逆根性補正をいれない
[State -2]
type = Varset
triggerall = !ishelper
triggerall = palno != 5
trigger1 = var(12)= 1
trigger1 = enemynear(var(31)),ishelper=0
trigger1 = fvar(6) = 0 || enemynear(var(31)),movetype != H
trigger1 = enemynear(var(31)),life*enemynear(var(31)),const(data.defence) > 100000
fvar(2) = 1

;1000*100以下の場合逆根性値補正を入れる
[State -2]
type = Varset
triggerall = !ishelper
triggerall = palno != 5
trigger1 = var(12)= 1
trigger1 = enemynear(var(31)),ishelper=0
trigger1 = fvar(6) = 0 || enemynear(var(31)),movetype != H
trigger1 = enemynear(var(31)),life*enemynear(var(31)),const(data.defence)<= 100000
fvar(2) = 0.5 + 0.000005*enemynear(var(31)),Life*enemynear(var(31)),const(data.defence) ;0.5 + 0.5*((enemynear(var(31)),Life)*1000 /(enemynear(var(31)),LifeMax))/1000
IgnoreHitPause = 1

;無敵医師氏GG勢用逆根性補正
[State -2]
type = Varset
triggerall = !ishelper
triggerall = palno != 5
trigger1 = var(12) = 1
trigger1 = enemynear(var(31)),ishelper=0
trigger1 = enemynear(var(31)),movetype = H
trigger1 = fvar(6) > 0
trigger1 = fvar(6) >= 0.5 + 0.000005*enemynear(var(31)),Life*enemynear(var(31)),const(data.defence)
trigger1 = enemynear(var(31)),life*enemynear(var(31)),const(data.defence)*fvar(6)<= 100000
fvar(2) = (0.5 + 0.000005*enemynear(var(31)),Life*enemynear(var(31)),const(data.defence))/(fvar(6)+0.0000001)
IgnoreHitPause = 1

;逆根性補正
[State -2]
type = Varset
triggerall = !ishelper
triggerall = palno != 5
trigger1 = var(12) = 1
trigger1 = enemynear(var(31)),ishelper=0
trigger1 = enemynear(var(31)),movetype = H
trigger1 = fvar(6) > 0
trigger1 = fvar(6) < 0.5 + 0.000005*enemynear(var(31)),Life*enemynear(var(31)),const(data.defence)||enemynear(var(31)),life*enemynear(var(31)),const(data.defence)*fvar(6) > 100000
fvar(2) = 1
IgnoreHitPause = 1

;根性値持ち用逆根性補正
[State -2]
type = Varset
triggerall = !ishelper
triggerall = palno != 5 
trigger1 = var(12) = 1
trigger1 = enemynear(var(2)),ishelper=0
trigger1 = enemynear(var(2)),movetype = H
trigger1 = fvar(6) > 0
trigger1 = fvar(6) >= 0.5 + 0.000005*enemynear(var(2)),Life*enemynear(var(2)),const(data.defence)
trigger1 = enemynear(var(2)),life*enemynear(var(2)),const(data.defence)*fvar(6)<= 100000
fvar(2) = (0.5 + 0.000005*enemynear(var(2)),Life*enemynear(var(2)),const(data.defence))/(fvar(6)+0.0000001)
IgnoreHitPause = 1

[state -2]
type=varset
triggerall = !ishelper
triggerall = palno != 5
trigger1 = var(12)=0
fvar(2)=1.0
ignorehitpause=1

[state -2]
type=varset
triggerall = !ishelper
triggerall = palno = 5
trigger1 = 1
fvar(2)=1.0
ignorehitpause=1

;逆根性値対象外
[state -2]
type=varset
triggerall = !ishelper 
;hanma氏 長森、観鈴、UNK
trigger1 = enemy,authorname="hanma"
trigger1 = p2name="Mizuka Nagamori"||p2name="Misuzu"||p2name="UNKNOWN"
;漆黒氏 あゆ
trigger2 = enemy,authorname="shikkoku"&&p2name="Ayu Tukimiya"
;586氏 名雪、佐祐理、美凪、みさき、茜
trigger3 = enemy,authorname="586"
trigger3 = enemy,var(40)%10 = 1
trigger3 = p2name = "Nayuki Minase"||p2name="Sayuri Kurata"||p2name="Minagi Tohno"||p2name="Misaki Kawana"||p2name="Akane Satomura"
;佳乃、観鈴、神奈、あゆ、舞、UNK、
trigger4 = enemy,authorname="586"
trigger4 = enemy,var(40)%10 = 1
trigger4 = p2name = "Kano Kirishima"||p2name="Misuzu Kamio"||p2name="Kanna"||p2name="Ayu Tukimiya"||p2name="Mai Kawasumi"||p2name="UNKNOWN"||p2name="Makoto Sawatari"
;繭、美汐、（郁美、栞、香、澪）
trigger5 = enemy,authorname="586"
trigger5 = enemy,var(40)%10 = 1
trigger5 = p2name = "Mayu Shiina"||p2name="Mishio Amano"||p2name="Ikumi Amasawa"||p2name="Shiori Misaka"||p2name="Kaori Misaka"||p2name="Mio Kohzuki"
;BF氏 真琴、繭
trigger6 = enemy,authorname="BF"
trigger6 = p2name = "Makoto Sawatari"||p2name="Mayu Shiina"
;DABA氏 栞、澪
trigger7 = enemy,authorname = "DABA"
trigger7 = p2name = "Shiori"||p2name="Mio"
;ふるれ氏 あやや いくさん 寝雪
trigger8 = enemy,authorname = "frule"
trigger8 = p2name = "EFZaya"||p2name = "EFZiku" || p2name = "Neyuki"
;馬の骨 七瀬,秋子
trigger9 = enemy,authorname = "UMA"
trigger9 = p2name = "Rumi Nanase" || p2name = "Akiko Minase"
;Ina氏 長森
trigger10 = enemy,authorname = "Ina"
trigger10 = p2name = "Mizuka_Nagamori"
;しーぽん氏 鈴
trigger11 = enemy,authorname = "seapon"
trigger11 = p2name = "Rin"
;素熊氏 ましろ
trigger12 = enemy,authorname = "shirokuma"
trigger12 = p2name = "Mashiro Mito"
var(12) = 0
ignorehitpause=1
supermove=1
supermovetime=99999
pausemovetime=99999
;---------------------------
;逆根性値ここまで
;-------------------------------------------------------------------------

;攻撃力
[State -2]
type = VarSet
triggerall = !ishelper
triggerall = palno = 12
trigger1 = Alive = 1
fv = 2
value = ceil(0.00001*ifelse(enemy,const(data.defence)>100,enemy,const(data.defence),100)*ifelse(enemy,const(data.life)>1000,enemy,const(data.life),1000))

;攻撃力
[State -2]
type = VarSet
triggerall = !ishelper
triggerall = palno = 12
trigger1 = Alive = 1
fv = 3
value = 1+(0.001*(1000-(life)))


;---------------------------------------------------------------------------
;根性値
[State -2]
type = DefenceMulSet
trigger1 = Alive = 1
value = ifelse(life <= 1000, 0.0005*((life)+1000) , 1)

; 着地音
[State -2]
type = PlaySnd
trigger1 = stateno = 52
trigger1 = Time = 1
value = 47,0

;振り向き
[State -2]
type = turn
triggerall = P2Dist X < 0
trigger1 = stateno = [40,47]
trigger2 = stateno = [10,12]
value = 1

;残像処理
[State -2]
type = AfterImageTime
trigger1 = stateno != [100,101]
trigger1 = stateno != [105,106]
trigger1 = stateno != [110,119]
trigger1 = stateno != 108
trigger1 = stateno != [270,271]
trigger1 = stateno != [1000,1001]
trigger1 = stateno != [1003,1004]
trigger1 = stateno != [1010,1011]
trigger1 = stateno != [1020,1021]
trigger1 = stateno != 3000
trigger1 = stateno != [4100,4120]
trigger1 = stateno != [4970,4971]
trigger1 = stateno != 4250
time = 0

;空中制御
[State -2]
type = Width
trigger1 = frontedgeDist < 20
value = 12,0

;空中ダッシュ制御
[State -2]
type = varset
trigger1 = statetype = S
trigger2 = statetype = L
v = 10
value = 0

;空中ジャンプ制御
[State -2]
type = varset
trigger1 = statetype = S
trigger2 = statetype = L
v = 1
value = 0

;空中ジャンプ制御
[State -2]
type = varset
trigger1 = stateno != 50
v = 2
value = 0

;エフェクト用１
[State -2]
type = varrandom
triggerall = Alive = 1
trigger1 = Timemod = 1,0
v = 4
range = -4,4

;エフェクト用２
[State -2]
type = varrandom
triggerall = Alive = 1
trigger1 = Timemod = 1,0
v = 5
range = -4,4

;位置エフェクト
[State -2]
type = Explod
trigger1 = Stateno != [3200,3299]
trigger1 = ScreenPos Y >= 320
anim = 7100
id = 7100
postype = p1
pos = 0,230-(ceil(ScreenPos Y))
sprpriority = -1
removetime = 1
bindtime = -1

;--------------------------------------------------------
;---------------------------
;各キャラ用逆根性値
;---------------------------
;無敵医師氏GG勢用逆根性値セット
;根性値0 ---> あばばばば , 鰤 , 子安 , 医者 , 栗 , てす
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "A.B.A"||enemynear(var(31)),name = "bridget"||enemynear(var(31)),name = "eddie"||enemynear(var(31)),name = "faust"||enemynear(var(31)),name = "kriff"||enemynear(var(31)),name = "TESTAMENT"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) >= 31
fvar(6) = 1
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "A.B.A"||enemynear(var(31)),name = "bridget"||enemynear(var(31)),name = "eddie"||enemynear(var(31)),name = "faust"||enemynear(var(31)),name = "kriff"||enemynear(var(31)),name = "TESTAMENT"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [21,30]
fvar(6) = 0.92
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "A.B.A"||enemynear(var(31)),name = "bridget"||enemynear(var(31)),name = "eddie"||enemynear(var(31)),name = "faust"||enemynear(var(31)),name = "kriff"||enemynear(var(31)),name = "TESTAMENT"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [16,20]
fvar(6) = 0.76
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "A.B.A"||enemynear(var(31)),name = "bridget"||enemynear(var(31)),name = "eddie"||enemynear(var(31)),name = "faust"||enemynear(var(31)),name = "kriff"||enemynear(var(31)),name = "TESTAMENT"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [11,15]
fvar(6) = 0.6
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "A.B.A"||enemynear(var(31)),name = "bridget"||enemynear(var(31)),name = "eddie"||enemynear(var(31)),name = "faust"||enemynear(var(31)),name = "kriff"||enemynear(var(31)),name = "TESTAMENT"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [6,10]
fvar(6) = 0.5
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "A.B.A"||enemynear(var(31)),name = "bridget"||enemynear(var(31)),name = "eddie"||enemynear(var(31)),name = "faust"||enemynear(var(31)),name = "kriff"||enemynear(var(31)),name = "TESTAMENT"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) <= 5
fvar(6) = 0.4
ignorehitpause = 1

;根性値1 ---> ロリロリ , ガチホモ , パパ , 師走 , 林檎
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "AXL" || enemynear(var(31)),name = "gg_venom" || enemynear(var(31)),name = "sol" || enemynear(var(31)),name = "dizzy" || enemynear(var(31)),name = "I-NO"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) >= 41
fvar(6) = 1
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "AXL" || enemynear(var(31)),name = "gg_venom" || enemynear(var(31)),name = "sol" || enemynear(var(31)),name = "dizzy" || enemynear(var(31)),name = "I-NO"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [31,40]
fvar(6) = 0.98
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "AXL" || enemynear(var(31)),name = "gg_venom" || enemynear(var(31)),name = "sol" || enemynear(var(31)),name = "dizzy" || enemynear(var(31)),name = "I-NO"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [21,30]
fvar(6) = 0.89
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "AXL" || enemynear(var(31)),name = "gg_venom" || enemynear(var(31)),name = "sol" || enemynear(var(31)),name = "dizzy" || enemynear(var(31)),name = "I-NO"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [16,20]
fvar(6) = 0.72
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "AXL" || enemynear(var(31)),name = "gg_venom" || enemynear(var(31)),name = "sol" || enemynear(var(31)),name = "dizzy" || enemynear(var(31)),name = "I-NO"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [11,15]
fvar(6) = 0.58
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "AXL" || enemynear(var(31)),name = "gg_venom" || enemynear(var(31)),name = "sol" || enemynear(var(31)),name = "dizzy" || enemynear(var(31)),name = "I-NO"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [6,10]
fvar(6) = 0.48
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "AXL" || enemynear(var(31)),name = "gg_venom" || enemynear(var(31)),name = "sol" || enemynear(var(31)),name = "dizzy" || enemynear(var(31)),name = "I-NO"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) <= 5
fvar(6) = 0.4
ignorehitpause = 1

;根性値2 ---> きすけ , 髭
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "ky" || enemynear(var(31)),name = "SLAYER"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) >= 41
fvar(6) = 1
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "ky" || enemynear(var(31)),name = "SLAYER"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [31,40]
fvar(6) = 0.98
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "ky" || enemynear(var(31)),name = "SLAYER"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [21,30]
fvar(6) = 0.89
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "ky" || enemynear(var(31)),name = "SLAYER"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [16,20]
fvar(6) = 0.72
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "ky" || enemynear(var(31)),name = "SLAYER"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [11,15]
fvar(6) = 0.58
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "ky" || enemynear(var(31)),name = "SLAYER"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [6,10]
fvar(6) = 0.48
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "ky" || enemynear(var(31)),name = "SLAYER"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) <= 5
fvar(6) = 0.4
ignorehitpause = 1

;根性値3 ---> 髪 , 中華 , めぇぇええいちゃぁぁあああん(トトロのばあちゃん風に)
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "millia" || enemynear(var(31)),name = "jam" || enemynear(var(31)),name = "may"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) >= 56
fvar(6) = 1
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "millia" || enemynear(var(31)),name = "jam" || enemynear(var(31)),name = "may"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [41,55]
fvar(6) = 0.98
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "millia" || enemynear(var(31)),name = "jam" || enemynear(var(31)),name = "may"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [31,40]
fvar(6) = 0.91
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "millia" || enemynear(var(31)),name = "jam" || enemynear(var(31)),name = "may"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [21,30]
fvar(6) = 0.82
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "millia" || enemynear(var(31)),name = "jam" || enemynear(var(31)),name = "may"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [16,20]
fvar(6) = 0.66
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "millia" || enemynear(var(31)),name = "jam" || enemynear(var(31)),name = "may"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [11,15]
fvar(6) = 0.54
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "millia" || enemynear(var(31)),name = "jam" || enemynear(var(31)),name = "may"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [6,10]
fvar(6) = 0.44
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "millia" || enemynear(var(31)),name = "jam" || enemynear(var(31)),name = "may"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) <= 5
fvar(6) = 0.38
ignorehitpause = 1

;根性値4 ---> ポチョ , ｼｯｼｮｰ , 畳 , 若本
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "potemkin" || enemynear(var(31)),name = "chipp" || enemynear(var(31)),name = "baiken" || enemynear(var(31)),name = "johnny"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) >= 56
fvar(6) = 1
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "potemkin" || enemynear(var(31)),name = "chipp" || enemynear(var(31)),name = "baiken" || enemynear(var(31)),name = "johnny"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [41,55]
fvar(6) = 0.96
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "potemkin" || enemynear(var(31)),name = "chipp" || enemynear(var(31)),name = "baiken" || enemynear(var(31)),name = "johnny"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [31,40]
fvar(6) = 0.88
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "potemkin" || enemynear(var(31)),name = "chipp" || enemynear(var(31)),name = "baiken" || enemynear(var(31)),name = "johnny"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [21,30]
fvar(6) = 0.78
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "potemkin" || enemynear(var(31)),name = "chipp" || enemynear(var(31)),name = "baiken" || enemynear(var(31)),name = "johnny"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [16,20]
fvar(6) = 0.64
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "potemkin" || enemynear(var(31)),name = "chipp" || enemynear(var(31)),name = "baiken" || enemynear(var(31)),name = "johnny"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [11,15]
fvar(6) = 0.50
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "potemkin" || enemynear(var(31)),name = "chipp" || enemynear(var(31)),name = "baiken" || enemynear(var(31)),name = "johnny"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [6,10]
fvar(6) = 0.42
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "potemkin" || enemynear(var(31)),name = "chipp" || enemynear(var(31)),name = "baiken" || enemynear(var(31)),name = "johnny"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) <= 5
fvar(6) = 0.38
ignorehitpause = 1

;根性値5 ---> まさよし
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "justice"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) >= 56
fvar(6) = 1
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "justice"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [41,55]
fvar(6) = 0.94
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "justice"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [31,40]
fvar(6) = 0.85
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "justice"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [21,30]
fvar(6) = 0.75
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "justice"
trigger1 =ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [16,20]
fvar(6) = 0.60
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "justice"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [11,15]
fvar(6) = 0.48
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "justice"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [6,10]
fvar(6) = 0.40
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "justice"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) <= 5
fvar(6) = 0.36
ignorehitpause = 1

[state -2]
type = varset
trigger1 = !ishelper
trigger1 = !(enemynear(var(31)),authorname = "muteki")
fvar(6) = 0
ignorehitpause = 1

;------------------------------------------------------------------------------
;とま氏ぱっちゃんとまりさ
;Nachel氏れみりゃとれーむ

[state -2]
type = varset
triggerall = !ishelper
trigger1 = enemynear,authorname = "Toma"
trigger1 = enemynear,name = "Marisa Kirisame"||enemynear,name = "Patchouli"
trigger2 = enemynear,authorname = "Nachel"
trigger2 = enemynear,name = "Reimu_Hakurei" || enemynear,name = "Remilia_Scarlet" 
fvar(6) = (0.75+(0.25*enemynear,Life/enemynear,LifeMax))/(1.00+(0.20*(enemynear,LifeMax - enemynear,Life)/enemynear,LifeMax))
ignorehitpause = 1





;----------------------------------------------------------------------------
;ゆ〜とはる氏ミク
[State -2,ノーマル時通常防御力]
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(25) != [1001,1900]
trigger1 = enemynear,var(25) != [3101,4000]
trigger1 = enemynear,var(25) != [4101,5000]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.8
ignorehitpause=1

[State -2,ノーマル時通常防御力];補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(25) != [1001,1900]
trigger1 = enemynear,var(25) != [3101,4000]
trigger1 = enemynear,var(25) != [4101,5000]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.76
ignorehitpause=1

[State -2,ノーマル時通常防御力];補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(25) != [1001,1900]
trigger1 = enemynear,var(25) != [3101,4000]
trigger1 = enemynear,var(25) != [4101,5000]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.64
ignorehitpause=1

[State -2,ノーマル時通常防御力];補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(25) != [1001,1900]
trigger1 = enemynear,var(25) != [3101,4000]
trigger1 = enemynear,var(25) != [4101,5000]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.6
ignorehitpause=1

[State -2,ノーマル時通常防御力];補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(25) != [1001,1900]
trigger1 = enemynear,var(25) != [3101,4000]
trigger1 = enemynear,var(25) != [4101,5000]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.56
ignorehitpause=1

[State -2,ノーマル時通常防御力];補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(25) != [1001,1900]
trigger1 = enemynear,var(25) != [3101,4000]
trigger1 = enemynear,var(25) != [4101,5000]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.52
ignorehitpause=1

[State -2,ノーマル時通常防御力];補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(25) != [1001,1900]
trigger1 = enemynear,var(25) != [3101,4000]
trigger1 = enemynear,var(25) != [4101,5000]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.48
ignorehitpause=1

[State -2,宮子防御力ダウン]
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) != 1
fvar(6) = 1.04
ignorehitpause=1

[State -2,宮子防御力ダウン];補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.988
ignorehitpause=1

[State -2,宮子防御力ダウン];補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.832
ignorehitpause=1

[State -2,宮子防御力ダウン];補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.78
ignorehitpause=1

[State -2,宮子防御力ダウン];補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.728
ignorehitpause=1

[State -2,宮子防御力ダウン];補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.676
ignorehitpause=1

[State -2,宮子防御力ダウン];補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.624
ignorehitpause=1

[State -2,宮子防御力UP]
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.56
ignorehitpause=1

[State -2,宮子防御力UP];補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.532
ignorehitpause=1

[State -2,宮子防御力UP];補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.448
ignorehitpause=1

[State -2,宮子防御力UP];補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.42
ignorehitpause=1

[State -2,宮子防御力UP];補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.392
ignorehitpause=1

[State -2,宮子防御力UP];補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.364
ignorehitpause=1

[State -2,宮子防御力UP];補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.336
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP]
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) != 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.4
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) != 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.38
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) != 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.32
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) != 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.3
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) != 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.28
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) != 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.26
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) != 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.24
ignorehitpause=1

[State -2,全開時防御力UP]
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.64
ignorehitpause=1

[State -2,全開時防御力UP];補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.608
ignorehitpause=1

[State -2,全開時防御力UP];補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.512
ignorehitpause=1

[State -2,全開時防御力UP];補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.48
ignorehitpause=1

[State -2,全開時防御力UP];補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.448
ignorehitpause=1

[State -2,全開時防御力UP];補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.416
ignorehitpause=1

[State -2,全開時防御力UP];補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.384
ignorehitpause=1

[State -2,宮子防御力ダウン];全開時
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.832
ignorehitpause=1

[State -2,宮子防御力ダウン];全開時補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.7904
ignorehitpause=1

[State -2,宮子防御力ダウン];全開時補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.6656
ignorehitpause=1

[State -2,宮子防御力ダウン];全開時補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.624
ignorehitpause=1

[State -2,宮子防御力ダウン];全開時補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.5824
ignorehitpause=1

[State -2,宮子防御力ダウン];全開時補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.5408
ignorehitpause=1

[State -2,宮子防御力ダウン];全開時補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.4992
ignorehitpause=1

[State -2,宮子防御力UP];全開時
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.448
ignorehitpause=1

[State -2,宮子防御力UP];全開時補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.4256
ignorehitpause=1

[State -2,宮子防御力UP];全開時補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.3584
ignorehitpause=1

[State -2,宮子防御力UP];全開時補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.336
ignorehitpause=1

[State -2,宮子防御力UP];全開時補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.3136
ignorehitpause=1

[State -2,宮子防御力UP];全開時補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.2912
ignorehitpause=1

[State -2,宮子防御力UP];全開時補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.2688
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];全開時
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) = 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.32
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];全開時補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) = 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.304
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];全開時補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) = 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.256
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];全開時補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) = 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.24
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];全開時補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) = 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.224
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];全開時補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) = 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.208
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];全開時補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) = 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.192
ignorehitpause=1

[State -2,全開時防御力UP];ゴールド
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) != [-900,-1]
fvar(6) = 0.4
ignorehitpause=1

[State -2,全開時防御力UP];ゴールド補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) != [-900,-1]
fvar(6) = 0.38
ignorehitpause=1

[State -2,全開時防御力UP];ゴールド補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) != [-900,-1]
fvar(6) = 0.32
ignorehitpause=1

[State -2,全開時防御力UP];ゴールド補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) != [-900,-1]
fvar(6) = 0.3
ignorehitpause=1

[State -2,全開時防御力UP];ゴールド補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) != [-900,-1]
fvar(6) = 0.28
ignorehitpause=1

[State -2,全開時防御力UP];ゴールド補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) != [-900,-1]
fvar(6) = 0.26
ignorehitpause=1

[State -2,全開時防御力UP];ゴールド補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) != [-900,-1]
fvar(6) = 0.24
ignorehitpause=1

[State -2,宮子防御力ダウン];ゴールド
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [-900,-1]
fvar(6) = 0.52
ignorehitpause=1

[State -2,宮子防御力ダウン];ゴールド補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [-900,-1]
fvar(6) = 0.494
ignorehitpause=1

[State -2,宮子防御力ダウン];ゴールド補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [-900,-1]
fvar(6) = 0.416
ignorehitpause=1

[State -2,宮子防御力ダウン];ゴールド補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [-900,-1]
fvar(6) = 0.39
ignorehitpause=1

[State -2,宮子防御力ダウン];ゴールド補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [-900,-1]
fvar(6) = 0.364
ignorehitpause=1

[State -2,宮子防御力ダウン];ゴールド補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [-900,-1]
fvar(6) = 0.338
ignorehitpause=1

[State -2,宮子防御力ダウン];ゴールド補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [-900,-1]
fvar(6) = 0.312
ignorehitpause=1

[State -2,宮子防御力UP];ゴールド
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [1001,1900]
fvar(6) = 0.28
ignorehitpause=1

[State -2,宮子防御力UP];ゴールド補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [1001,1900]
fvar(6) = 0.266
ignorehitpause=1

[State -2,宮子防御力UP];ゴールド補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [1001,1900]
fvar(6) = 0.224
ignorehitpause=1

[State -2,宮子防御力UP];ゴールド補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [1001,1900]
fvar(6) = 0.21
ignorehitpause=1

[State -2,宮子防御力UP];ゴールド補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [1001,1900]
fvar(6) = 0.196
ignorehitpause=1

[State -2,宮子防御力UP];ゴールド補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [1001,1900]
fvar(6) = 0.182
ignorehitpause=1

[State -2,宮子防御力UP];ゴールド補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [1001,1900]
fvar(6) = 0.168
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];ゴールド
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.2
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];ゴールド補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.19
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];ゴールド補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.16
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];ゴールド補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.15
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];ゴールド補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.14
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];ゴールド補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.13
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];ゴールド補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.12
ignorehitpause=1
;---------------------------------------------------------------------------
;Ina氏アルカナキャラ
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear,authorname = "ina"
trigger1 = enemynear,name = "Heart_Aino"
trigger2 = enemynear,name = "Saki_Tsuzura"
trigger3 = enemynear,name = "Kamui_Tokinomiya"
trigger4 = enemynear,name = "Lilica_Felchenerow"
trigger5 = enemynear,name = "Mildred_Avallon"
trigger6 = enemynear,name = "Petra_Johanna_Lagerkvist"
trigger7 = enemynear,name = "Zenia_Valov"
fvar(6) = ifelse((enemynear,fvar(15) > 1) , 1 ,enemynear,fvar(15))

[state -2]
type = varset
triggerall = !ishelper
trigger1 = !(enemynear,authorname = "muteki")
trigger1 = !(enemynear,authorname = "Toma")
trigger1 = !(enemynear,authorname = "Nachel")
trigger1 = !(enemynear,authorname = "YU-TOHARU") || !(enemynear,name = "HATSUNE MIKU")
trigger1 = !(enemynear,authorname = "ina")
trigger2 = roundstate != 2
fvar(6) = 0
ignorehitpause = 1



;__________________________________________
;
;リコイル制御(相手)
;__________________________________________
[state -2]
type=varset
triggerall = !ishelper
triggerall = palno != 12
triggerall = numenemy = 1
;586氏 名雪、佐祐理、美凪、みさき、茜
trigger1 = enemy,authorname="586"
trigger1 = p2name = "Nayuki Minase"||p2name="Sayuri Kurata"||p2name="Minagi Tohno"||p2name="Misaki Kawana"||p2name="Akane Satomura"
;佳乃、観鈴、神奈、あゆ、舞、UNK、
trigger2 = enemy,authorname="586"
trigger2 = p2name = "Kano Kirishima"||p2name="Misuzu Kamio"||p2name="Kanna"||p2name="Ayu Tukimiya"||p2name="Mai Kawasumi"||p2name="UNKNOWN"
;繭、美汐、（郁美、栞、香里、澪）
trigger3 = enemy,authorname="586"
trigger3 = p2name = "Mayu Shiina"||p2name="Mishio Amano"||p2name="Ikumi Amasawa"||p2name="Shiori Misaka"||p2name="Kaori Misaka"||p2name="Mio Kohduki"

;ふるれ氏 あやや イクさん 寝雪 香里
trigger4 = enemy,authorname = "frule"
trigger4 = p2name = "EFZaya"||p2name = "EFZiku" || p2name = "Neyuki"||p2name = "Kaori"
var(28) = 1
ignorehitpause=1



;七瀬用
[state 420]
type = targetstate
trigger1 = projhittime(1400) = 1
trigger1 = numtarget(1420)
trigger1 = target(1420),name = "Rumi Nanase"
trigger1 = target(1420),authorname = "UMA"
trigger1 = target(1420),var(20) != 0

trigger2 = projhittime(3115) = 1
trigger2 = numtarget(3220)
trigger2 = target(3220),name = "Rumi Nanase"
trigger2 = target(3220),authorname = "UMA"
trigger2 = target(3220),var(20) != 0
value = 425
ignoerhitpause = 1


;____________________
;
;補正、ダメージ表示
;____________________
[state -2]
type = varset
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
var(23) = enemynear,life
ignorehitpause = 1

[state -2]
type = varset
trigger1 = fvar(1) != fvar(9)
trigger2 = floor(fvar(1)*10000000)=10000000
fvar(8) = fvar(9)
ignorehitpause = 1

[state -2]
type = varset
trigger1 = fvar(1) != fvar(9)
trigger2 = !fvar(9)
fvar(9) = fvar(1)
ignorehitpause = 1


;コンボダメージ表示
[State -2,000];
type = Explod
triggerall = Numexplod(30011) = 0
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30011
id = 30011
postype = left
pos = 49 + 235*(teamside = 2), 90
facing = 1
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

[State -2,001]
type = RemoveExplod
triggerall = numexplod(30011)
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
id = 30011
ignorehitpause = 1

;--------------------------
;コンボダメージ表示リセット
;--------------------------
[State -2,002]
type = RemoveExplod
triggerall = numexplod(30000)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30000
ignorehitpause = 1
[State -2,003]
type = RemoveExplod
triggerall = numexplod(30001)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30001
ignorehitpause = 1
[State -2,004]
type = RemoveExplod
triggerall = numexplod(30002)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30002
ignorehitpause = 1
[State -2,005]
type = RemoveExplod
triggerall = numexplod(30003)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30003
ignorehitpause = 1
[State -2,006]
type = RemoveExplod
triggerall = numexplod(30004)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30004
ignorehitpause = 1
[State -2,007]
type = RemoveExplod
triggerall = numexplod(30005)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30005
ignorehitpause = 1

;---------------------
;コンボダメージ表示
;---------------------
;コンボダメージ
[State -2,008];零桁目
type = Explod
triggerall = Numexplod(30005) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + ifelse((var(23) -enemynear,life >= 1),random%10,0)
id = 30005
postype = left
pos = 40 + 235*(teamside = 2), 90
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

[State -2,009];一桁目
type = Explod
triggerall = Numexplod(30000) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
triggerall = var(23) -enemynear,life >= 1
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + (var(23) - enemynear,life)%10
id = 30000
postype = left
pos = 33 + 235*(teamside = 2), 90
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

;コンボダメージ
[State -2,010];ニ桁目
type = Explod
triggerall = Numexplod(30001) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
triggerall = var(23) -enemynear,life >= 10
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + floor(0.1*((var(23) - enemynear,life)%100))
id = 30001
postype = left
pos = 26 + 235*(teamside = 2), 90
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

;コンボダメージ
[State -2,011];三桁目
type = Explod
triggerall = Numexplod(30002) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
triggerall = var(23) -enemynear,life >= 100
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + floor(0.01*((var(23) - enemynear,life)%1000))
id = 30002
postype = left
pos = 19 + 235*(teamside = 2), 90
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

;コンボダメージ
[State -2,012];四桁目
type = Explod
triggerall = Numexplod(30003) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
triggerall = var(23) -enemynear,life >= 1000
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + floor(0.001*((var(23) - enemynear,life)%10000))
id = 30003
postype = left
pos = 12 + 235*(teamside = 2), 90
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

;コンボダメージ
[State -2,013];五桁目
type = Explod
triggerall = Numexplod(30004) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
triggerall = var(23) -enemynear,life >= 10000
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + floor(0.0001*((var(23) - enemynear,life)%100000))
id = 30004
postype = left
pos = 5 + 235*(teamside = 2), 90
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1



;-------------------
;コンボ補正表示
;------------------
;コンボ補正
[State -2,014];
type = Explod
triggerall = Numexplod(30012) = 0
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30012
id = 30012
postype = left
pos = 49 + 235*(teamside = 2), 100
facing = 1
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

[State -2,015]
type = RemoveExplod
triggerall = numexplod(30012)
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
id = 30012
ignorehitpause = 1

;コンボ補正表示、ピリオド
[State -2,016];
type = Explod
triggerall = Numexplod(30010) = 0
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30010
id = 30010
postype = left
pos = 37 + 235*(teamside = 2), 100
facing = 1
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

[State -2,017]
type = RemoveExplod
triggerall = numexplod(30010)
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
id = 30010
ignorehitpause = 1

;--------------------------
;コンボダメージ表示リセット
;--------------------------
[State -2,018]
type = RemoveExplod
triggerall = numexplod(30020)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30020
ignorehitpause = 1
[State -2,019]
type = RemoveExplod
triggerall = numexplod(30021)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30021
ignorehitpause = 1
[State -2,020]
type = RemoveExplod
triggerall = numexplod(30022)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30022
ignorehitpause = 1
[State -2,021]
type = RemoveExplod
triggerall = numexplod(30023)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30023
ignorehitpause = 1

;---------------------
;コンボダメージ表示
;---------------------
[State -2,022];一桁目
type = Explod
triggerall = Numexplod(30020) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + (floor(fvar(8)*1000))%10
id = 30020
postype = left
pos = 40 + 235*(teamside = 2), 100
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

;コンボダメージ
[State -2,023];ニ桁目
type = Explod
triggerall = Numexplod(30021) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
triggerall = fvar(8) >= 0.01
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + floor(0.1*((floor(fvar(8)*1000))%100))
id = 30021
postype = left
pos = 30 + 235*(teamside = 2), 100
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

;コンボダメージ
[State -2,024];三桁目
type = Explod
triggerall = Numexplod(30022) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
triggerall = fvar(8) >= 0.1
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + floor(0.01*((floor(fvar(8)*1000))%1000))
id = 30022
postype = left
pos = 23 + 235*(teamside = 2), 100
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

;コンボダメージ
[State -2,025];四桁目
type = Explod
triggerall = Numexplod(30023) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
triggerall = fvar(8) >= 1
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + floor(0.001*((floor(fvar(8)*1000))%10000))
id = 30023
postype = left
pos = 16 + 235*(teamside = 2), 100
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

[state -2,026]
type = varset
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype = H && enemynear,stateno!=[120,155]
trigger1 = stateno != 4631 && stateno != 3025 && stateno != 3045
var(19) = enemynear,gethitvar(hitcount)
ignorehitpause = 1

[state -2,-27]
type = varset
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype = H && enemynear,stateno!=[120,155]
trigger1 = stateno = 4631 || stateno = 3025 || stateno = 3045
var(19) = hitcount
ignorehitpause = 1




;______________________________
;
;デバッグ表示
;______________________________

[State -2];投げ学習用デバッグ表示
type = null;DisplayToClipBoard
trigger1 = numhelper(20000)
text = " var(34)=%d,var(43)=%d,g-v=%d,h-v36=%d,h-v35=%d"
params =  var(34),var(43),var(43)=gametime,(helper(20000),var(36)),(helper(20000),var(35))
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999


[State -2];逆根性値設定用デバッグ
type = null;DisplayToClipBoard
trigger1 = 1
text = " nt = %d,fv2 = %f , fv6 = %f , e-life = %d"
params =  numtarget,fvar(2),fvar(6),ceil(fvar(33))
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999


[State -2];受け身狩り
type = null;DisplayToClipBoard
trigger1 = numhelper(20000)
trigger1 = hitpausetime = 0
text = " v47=%d ,v33=%d,h-v18=%d,fv1=%f ,e-py=%f"
params =  var(47),var(33),(helper(20000),var(18)),fvar(1),(enemynear(var(31)),pos y + var(56)*enemynear(var(31)),vel y + 0.5*var(56)*var(56)*fvar(38))*(enemynear(var(31)),canrecover=0)
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999


[State -2];受け身狩り
type = null;DisplayToClipBoard
trigger1 = hitpausetime = 0
text = " e-py=%f,fv10=%f,v56=%d,fr=%d"
params =  (enemynear(var(31)),pos y + var(56)*enemynear(var(31)),vel y + 0.5*var(56)*var(56)*fvar(38))*(enemynear(var(31)),canrecover=0),fvar(10),var(56),(enemynear(var(31)),gethitvar(fall.recovertime))
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999


[State -2]
type = null;DisplayToClipBoard
trigger1 = 1
text = " var(41)=%d,var(42)=%d,var(43)=%d,v42-gt=%d,gametime=%d"
params =  var(41),var(42),var(43),var(42)=gametime,gametime
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State -2]
type = null;DisplayToClipBoard
trigger1 = 1
text = " p2 pos y=%f,p2 vel y=%f,5fy=%d,ec=%d,v56=%d"
params =  (enemynear(var(31)),pos y),(enemynear(var(31)),vel y),(ceil(enemynear(var(31)),pos y + 6*enemynear(var(31)),vel y + 0.5*36*fvar(38) - (pos y + 6*vel y + 0.5*36*fvar(39)))),(enemynear(var(31)),canrecover),var(56)
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State -2]
type = null;DisplayToClipBoard
trigger1 = numhelper(20000)>0 && numhelper(20002)>0
text = " h20000var(0) = %d,1400=%d,1401=%d,1402=%d,1403=%d"
params =  (helper(20000),var(0)),numhelper(1400),numhelper(1401),numhelper(1402),numhelper(1403)
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999



[statedef -3]


;_______________________________________________________________________
;
;リコイル停止時間設定 Recoil Guard Pause Time
;_______________________________________________________________________

[state -3];リコイル停止時間設定
type = varset
trigger1 = 1
var(32) = 20  ;<--フレーム数で指定、最小2、最大22。デフォルトは20  minimum is 2 , maximum is 22.
ignorehitpause = 1


;要は画面が何フレーム止まるかです。性能自体は変化しません。
;原作では20Fぐらいです。ヒットポーズに合わせるなら10程度推奨。このぐらいなら比較的サクサク動きます。
;タッグ戦やリコイルLv10にする場合は5〜9程度でもいいかもしれません。最小の2だと早すぎる気がします。
;自分で使ってみていい感じの数値を入れてみてください。

;最大22とは書いていますが、ぶっちゃけ何フレームでもかまいません。
;ただ上限書いておかないと、とんでもない値入れる人がでてきたりして、それで「画面が動かない」とか言われても困るので念のためです。
;ちなみに下限はairの関係上の下限なのでそれより下の値は入れないでください。





;_____________________________________________________________________________
;
;逆根性値設定(プレイヤー操作でも関係あります) attack reduction by enemy's life
;_____________________________________________________________________________
[state -3];逆根性値設定
type = varset
trigger1 = !ishelper
trigger1 = roundstate != 2
var(12) = 1
;0 ---->逆根性値なし off
;1 ---->逆根性値あり on

;注意
;だよもんと比べるとRF無しでの火力が段違いに低いので別に無くてもいいかもしれません。
;でもRFゲージの上昇率を上げてあるのであったほうがいいかもしれません。
;根性値持ちのEFZキャラにはある程度対応して逆根性値をはずしています。
;無敵医師氏のGG勢にも対応しました。
;馬の骨氏の記述をそのままお借りしています。



