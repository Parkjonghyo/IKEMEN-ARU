
[Data]
life              = 1000
attack            = 100
defence           = 100
fall.defence_up   = 50
liedown.time      = 60
airjuggle         = 55
sparkno           = 0
guard.sparkno     = 40
KO.echo           = 0
volume            = 250
IntPersistIndex   = 45
FloatPersistIndex = 40
power             = 3000

;---------------------------------------------------------------------------
[Size]
xscale = 1
yscale = 1
ground.back  = 13
ground.front = 13
air.back     = 12
air.front    = 12
z.width      = 3
height       = 60
attack.width = 4, 4
attack.dist  = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos     = -5, -80
mid.pos      = -5, -50
shadowoffset = 0
draw.offset  = 0,0

;---------------------------------------------------------------------------
[Velocity]
walk.fwd     =  2.2
walk.back    = -2.2
run.fwd      =  6.5, 0
run.back     = -5.0,-4.8;-7.5,-3.2
jump.neu     =  0,-8.4
jump.back    = -3
jump.fwd     =  3
runjump.fwd  =  5,-8
runjump.back = -5,-8
airjump.neu  =  0,-8.3
airjump.back = -2.55
airjump.fwd  =  3.2

;---------------------------------------------------------------------------
[Movement]
airjump.num     = 1
airjump.height  = 35
yaccel          = .44
stand.friction  = .85
crouch.friction = .82
 
;---------------------------------------------------------------------------
;Jump
[Statedef 40]
type = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40]
type=changestate
triggerall=var(59)>=1
trigger1 =time =0
value=0
ctrl=1
ignorehitpause=1

[State 40]
type = VarSet
trigger1 = Time = 0
sysfvar(1) = 0 

[State 40]
type = VarSet
trigger1 = var(59)=0
trigger1 = Time = 0
sysvar(1) = ifelse((command = "holdfwd"), 1 , ifelse((command="holdback"),-1,0))

[State 40]
type = VarSet
triggerall = var(59)=0
triggerall = Time = 0
trigger1 = prevstateno = 100
trigger2 = Command = "longjump"
trigger3 = Command = "longjump" && Command = "holdfwd"
trigger4 = Command = "longjump" && Command = "holdback"
sysfvar(1) = 1 

[State 40]
type = VarSet
trigger1 = var(59)=0
trigger1 = command != "holdup"
sysfvar(1) = ifelse(Sysfvar(1)=1, 3, ifelse(Sysfvar(1)=3, 3, 2))

[State 40]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = sysfvar(1)=0 || sysfvar(1)=2 
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))

[State 40]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = sysfvar(1)=1 || sysfvar(1)=3
x = ifelse(sysvar(1)=0, 0, ifelse(sysvar(1)=1, const(velocity.runjump.fwd.x), const(velocity.runjump.back.x)))

[State 40]
type = VelSet
trigger1 = AnimTime = 0
y = ifelse(sysfvar(1)>=2, -6.5, ifelse(sysfvar(1)=1, const(velocity.runjump.y), const(velocity.jump.y)))

[State 40]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 50

;---------------------------------------------------------------------------
;Jump Up
[Statedef 50]
type = A
physics = A

[State 50]
type = ChangeAnim
trigger1 = Time = 0 && sysfvar(1) < 2
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = sysfvar(1)>=2
value = 41



[State 50]
type = AfterImage
trigger1 = Time = 0
trigger1 = sysfvar(1)=1 || sysfvar(1)=3
time = 25
length = 9
FrameGap = 3
PalBright = 1, 1, 1
PalContrast = 128, 128, 128
PalAdd = 0, 0, 0
PalMul = 1, 1, 1
trans = add1

;---------------------------------------------------------------------------
;Jump Land
[Statedef 52]
type = S
physics = S
anim = 47
ctrl = 0

[State 52]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 52]
type = PlaySnd
trigger1 = Time = 0
value = 100, 1
channel = 10

[State 52]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;RUN_FWD
[Statedef 100]
type = S
physics = S
anim = 100
sprpriority = 1

[State 100]
type=changestate
triggerall=var(59)>=1
trigger1 =time =0
value=0
ctrl=1
ignorehitpause=1

[State 100]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0 || AnimElemTime(4) = 0
value = 100, 0
channel = 10

[State 100]
type = ChangeState
trigger1 = var(59)=0
trigger1 = command != "holdfwd"
trigger2 = var(59)>0 && P2Bodydist X<30
trigger3 = var(59)>0 && InguardDist
trigger4 = var(59)>0 && PlayerIdExist(var(58))
trigger4 = PlayerID(Var(58)),Statetype = A && Random<100
value = 0

;---------------------------------------------------------------------------
;RUN_BACK
[Statedef 105]
type = S
physics = S
anim = 105
sprpriority = 1

[State 105]
type=changestate
triggerall=var(59)>=1
trigger1 =time =0
value=0
ctrl=1
ignorehitpause=1

[State 105]
type = VelSet
trigger1 = 1
x = const(velocity.run.back.x)

[State 105]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 105]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 105]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0 || AnimElemTime(4) = 0
value = 105, 0
channel = 10

[State 105]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0 || AnimElemTime(5) = 0
value = 105, 1
channel = 10

[State 105]
type = ChangeState
trigger1 = var(59)=0
trigger1 = command != "holdback"
trigger2 = var(59)>0 && BackEdgeBodyDist<40
trigger3 = var(59)>0 && InguardDist
trigger4 = var(59)>0 && PlayerIdExist(var(58))
trigger4 = PlayerID(Var(58)),Statetype = A && Random<100
value = 0

;---------------------------------------------------------------------------
;앞 구르기
[Statedef 165] 
type = S
movetype = I
physics = N
anim = 165
ctrl = 0
velset = 0, 0

[State 165]
type = HitBy
trigger1 = Time >= 0 && AnimElem = 5, < 0
value = SCA, AT

[state 165]
type = NotHitBy
trigger1 = animtime <= -6
value = SA,AA,AP

[state 165]
type = NotHitBy
trigger1 = animtime <= -6
value = C,AA,AP

[State 165]
type =AfterImage
trigger1 = Animelem = 1
time = 17
timeGap = 2
frameGap = 4
length = 8
trans = add1
palBright = 0,0,0
palContrast = 128,128,128
palAdd = 0,0,0
palMul = 1,1,1

[State 165]
type = SprPriority
trigger1 = Time = 0
value = -1

[State 165]
type = PlayerPush
trigger1 = Time >= 0 && AnimElem = 7, < 0
value = 0

[State 165]
type = VelSet
trigger1 = AnimElemTime(2) > 0 && AnimElemTime(9) < 0
x = 9.5

[State 165]
type = VelSet
trigger1 = AnimElem = 9
x = 0

[State 165]
type = PlaySnd
trigger1 = Time = 0
value = 184, 0

[State 165]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;뒤 구르기
[Statedef 160] 
type = S
movetype = I
physics = N
anim = 160
ctrl = 0
velset = 0,0

[State 160]
type = HitBy
trigger1 = Time >= 0 && AnimElem = 5, < 0
value = SCA, AT

[State 160]
type = NotHitBy
trigger1 = animtime <= -6
value = SA,AA,AP

[State 160]
type = NotHitBy
trigger1 = animtime <= -6
value = C,AA,AP

[State 160]
type =AfterImage
trigger1 = Animelem = 1
time = 17
timeGap = 2
frameGap = 4
length = 8
trans = add1
palBright = 0,0,0
palContrast = 128,128,128
palAdd = 0,0,0
palMul = 1,1,1

[State 160]
type = SprPriority
trigger1 = Time = 0
value = -1

[State 160]
type = PlayerPush
trigger1 = Time >= 0 && AnimElem = 7, < 0
value = 0

[State 160]
type = VelSet
trigger1 = AnimElemTime(2) > 0 && AnimElemTime(9) < 0
x = -9.5

[State 160]
type = VelSet
trigger1 = AnimElem = 9
x = 0

[State 160]
type = PlaySnd
trigger1 = Time = 0
value = 184, 0

[State 160]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;가드캔슬 앞구르기
[Statedef 166]
type = S
movetype = I
physics = N
anim = 165
ctrl = 0
velset = 0, 0

[State 166]
type = SuperPause
trigger1 = Time = 0
time = 0
anim = S6200
sound = S400, 1
darken = 0
pos = 0, -60
poweradd = -1000
unhittable = 1

[State 166] 
type = palfx
trigger1 = time = 0
add = 250, 250, 250
time = 4

[State 166]
type = HitBy
trigger1 = Time >= 0 && AnimElem = 5, < 0
value = SCA, AT

[State 166]
type =AfterImage
trigger1 = Animelem = 1
time = 17
timeGap = 2
frameGap = 4
length = 8
trans = add1
palBright = 0,0,0
palContrast = 128,128,128
palAdd = 0,0,0
palMul = 1,1,1

[State 166]
type = SprPriority
trigger1 = Time = 0
value = -1

[State 166]
type = PlayerPush
trigger1 = Time >= 0 && AnimElem = 7, < 0
value = 0

[State 166]
type = VelSet
trigger1 = AnimElemTime(2) > 0 && AnimElemTime(9) < 0
x = 9.5

[State 166]
type = VelSet
trigger1 = AnimElem = 9
x = 0

[State 160]
type = PlaySnd
trigger1 = Time = 0
value = 184, 0

[State 166]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;가드캔슬 뒤구르기
[Statedef 161]
type = S
movetype = I
physics = N
anim = 160
ctrl = 0
velset = 0, 0

[State 161]
type = SuperPause
trigger1 = Time = 0
time = 0
anim = S6200
sound = S400, 1
darken = 0
pos = 0, -60
poweradd = -1000
unhittable = 1

[State 161] 
type = palfx
trigger1 = time = 0
add = 250, 250, 250
time = 4

[State 160]
type = PlaySnd
trigger1 = Time = 0
value = 184, 0

[State 161]
type = HitBy
trigger1 = Time >= 0 && AnimElem = 5, < 0
value = SCA, AT

[State 161]
type =AfterImage
trigger1 = Animelem = 1
time = 17
timeGap = 2
frameGap = 4
length = 8
trans = add1
palBright = 0,0,0
palContrast = 128,128,128
palAdd = 0,0,0
palMul = 1,1,1

[State 161]
type = SprPriority
trigger1 = Time = 0
value = -1

[State 161]
type = PlayerPush
trigger1 = Time >= 0 && AnimElem = 7, < 0
value = 0

[State 161]
type = VelSet
trigger1 = AnimElemTime(2) > 0 && AnimElemTime(9) < 0
x = -9.5

[State 161]
type = VelSet
trigger1 = AnimElem = 9
x = 0

[State 161]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

[Statedef 169]
type = S
physics = S
anim = 999
poweradd = 0
sprpriority = -1
velset = 0,0
ctrl = 0
facep2 = 1

[State 169]
type = ChangeState
trigger1 = AnimTime = 0
value = 169

;---------------------------------------------------------------------------
;intro
[Statedef 190]
type = S
ctrl = 0
velset = 0, 0

[State 190]
type = ChangeState
trigger1 = P2Name = "kfm" || P4Name = "kfm"
trigger2 = P2Name = "Kung Fu Man" || P4Name = "Kung Fu Man"
trigger3 = P2Name = "akfm" || P4Name = "akfm"
trigger4 = P2Name = "another Kung Fu Man" || P4Name = "another Kung Fu Man"
;trigger5 = P2Name = "" || P4Name = ""
;trigger6 = P2Name = "" || P4Name = ""
;trigger7 = P2Name = "" || P4Name = ""
;trigger8 = P2Name = "" || P4Name = ""
;trigger9 = P2Name = "" || P4Name = ""
;trigger10 = P2Name = "" || P4Name = ""
value = 193

[State 190] 
type = ChangeState
trigger1 = P2Name = "UZUKI" || P4Name = "UZUKI"
trigger2 = P2Name = "KungFuGirl UZUKI" || P4Name = "KungFuGirl UZUKI"
value = 194

[State 190]
type = ChangeState
trigger1 = Time = 0
value = 191 + Random%2

;---------------------------------------------------------------------------
;인트로1
[Statedef 191] 
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 191]
type = PlaySnd
trigger1 = Time = 2
value = 191,0

[State 191] 
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191] 
type = ChangeState
trigger1 = Time >= 260
value = 0

;---------------------------------------------------------------------------
;인트로2
[Statedef 192] 
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 192]
type = PlaySnd
trigger1 = animelem = 2
value = 192,0

[State 192] 
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192]
type = ChangeState
trigger1 = animtime = 0
value = 0

;---------------------------------------------------------------------------
;vs 쿵후맨
[Statedef 193] 
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 193]
type = PlaySnd
trigger1 = animelem = 2
value = 193,1

[State 193]
type = PlaySnd
trigger1 = animelem = 7
value = 193,0

[State 193]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 193]
type = ChangeState
trigger1 = animtime = 0
value = 0

;---------------------------------------------------------------------------
;vs 우즈키-1
[Statedef 194] 
type = S
ctrl = 0
anim = 194
velset = 0,0

[State 191]
type = PlaySnd
trigger1 = Time = 2
value = 191,0

[State 194]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 194]
type = ChangeState
trigger1 = Time >= 250
value = 195

;vs 우즈키-2
[Statedef 195] 
type = S
ctrl = 0
anim = 195
velset = 0,0

[State 195]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 195]
type = MakeDust
trigger1 = animelem = 1
pos = 0,0

[State 195]
type = MakeDust
trigger1 = animelem = 4
pos = -16,0

[State 195]
type = MakeDust
trigger1 = animelem = 8
pos = -32,0

[State 195]
type = MakeDust
trigger1 = animelem = 12
pos = -48,0

[State 195]
type = ChangeState
trigger1 = AnimTime = 0
value = 196

;vs 우즈키-3
[Statedef 196]
type = S
ctrl = 0
anim = 196
velset = 0,0

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4] 
type = ChangeState
trigger1 = AnimTime = 0
value = 197

;vs 우즈키-4
[Statedef 197]
type = S
ctrl = 0
anim = 197
velset = 0,0

[State 197] 
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 197] 
type = MakeDust
trigger1 = Time = 4
pos = 0,0

[State 197] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
[Statedef 197]
type = S
ctrl = 0
anim = 1913
velset = 0,0

[State 197] 
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 197] 
type = MakeDust
trigger1 = Time = 4
pos = 0,0

[State 197] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;도발
[Statedef 198]
type = S
ctrl = 0
anim = 198
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 198]
type = PlaySnd
trigger1 = animelem = 2
value = 198, 0

[State 198]
type = PlaySnd
trigger1 = animelem = 8
value = 194,0

[State 198]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;LOSE (Time over)
[Statedef 170]
type = S
anim = 170
ctrl = 0
velset = 0, 0

[State 170]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA

;---------------------------------------------------------------------------
;WIN
[Statedef 180]
type = S
ctrl = 0

[State 180] ; 쿵후맨
type = ChangeState
trigger1 = var(7) = 1 && matchover
value = 185

[State 180] ;우즈키
type = ChangeState
trigger1 = var(7) = 2 && matchover
value = 184

;[State 180]
;type = ChangeState
;trigger1 = var(7) = 3 && matchover
;value = 

[State 180, 1]
type = ChangeState
trigger1 = var(2)
value = 186

[State 180, 1]
type = ChangeState
trigger1 = WinPerfect = 1
value = 181

[State 180]
type = ChangeState
trigger1 = Time = 0
value = 182 + Random%2

;---------------------------------------------------------------------------
;WIN 퍼팩승리
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 181]
type = AssertSpecial
trigger1 = Time = [0, 300]
flag = roundnotover
flag2 = nobardisplay

[State 181]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181]
trigger1 =Time = 1
type = playsnd
value = 181, 0

[State 181]
trigger1 =Time = 130
type = playsnd
value = 11, 0

;---------------------------------------------------------------------------
;WIN 얏따~
[Statedef 182]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 182]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 182]
type = AssertSpecial
trigger1 = Time = [0, 200]
flag = RoundNotOver

[State 182]
trigger1 =Time = 1
type = playsnd
value = 181, 0

;---------------------------------------------------------------------------
;WIN 괜찮아요?
[Statedef 183]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 183]
type = AssertSpecial
trigger1 = Time = [0, 300]
flag = roundnotover
flag2 = nobardisplay

[State 183]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 183]
trigger1 =animelem = 11
type = playsnd
value = 182, 0

;---------------------------------------------------------------------------
;WIN  우즈키
[Statedef 184]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 184]
type = AssertSpecial
trigger1 = Time = [0, 200]
flag = roundnotover
flag2 = nobardisplay

[State 184]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 184]
trigger1 =animelem = 11
type = playsnd
value = 184, 0

;---------------------------------------------------------------------------
;WIN 쿵후맨
[Statedef 185]
type = S
ctrl = 0
anim = 184
velset = 0,0

[State 185]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 185]
type = AssertSpecial
trigger1 = Time = [0, 500]
flag = RoundNotOver

[State 185]
trigger1 =Time = 4
type = playsnd
value = 181, 0

[State 185]
trigger1 =Time = 124
type = playsnd
value = 183, 0

;---------------------------------------------------------------------------
;WIN 북두백열권
[Statedef 186]
type = S
ctrl = 0
anim = 999
velset = 0,0

[State 185]
type = AssertSpecial
trigger1 = Time = [0, 100]
flag = RoundNotOver


[State 185, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;basic action
;---------------------------------------------------------------------------
;서서 약손
[Statedef 200]
type = S
movetype = A
physics = S
juggle  = 1  
anim = 200
poweradd = 30
ctrl = 1
velset = 0, 0

[State 200]
type = HitDef
trigger1 = Time = 0
attr = S, NA                  
damage = 25 
getpower = 10, 5         
animtype = Light             
guardflag = MA               
hitflag = MAF                
priority = 4, Hit           
pausetime = 0, 0            
sparkno = S6040
guard.sparkno = S6000
sparkxy = 0,-80     
hitsound = S600, 1            
guardsound = S400, 0          
ground.type = High          
ground.slidetime = 5        
ground.hittime  = 18        
ground.velocity = -4          
airguard.velocity = -1.9,-.8  
air.type = High              
air.velocity = -1.4,-3     
air.hittime = 12      

[State 215] ;피
type = Explod
trigger1 = movehit
anim = 6100 + Random%6
pos = 0, -100
sprpriority = 3
postype = p2
bindtime = 1
ignorehitpause = 1
persistent = 0     

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 0

[State 200]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;근강손
[Statedef 210]
type = S
movetype = A
physics = S
anim = 210
poweradd = 60
ctrl = 0
velset = 0, 0

[State 210]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 70
animtype = M
getpower = 23, 18
guardflag = MA
hitflag = MAF
pausetime = 13, 14
sparkno = S6050
guard.sparkno = S6010
sparkxy = -10,-50
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 20
ground.hittime = 23
ground.velocity = -6
air.velocity = -3.5, -2

[State 210]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;장강손
[Statedef 215]
type = S
movetype = A
physics = S
anim = 215
poweradd = 60
ctrl = 0
velset = 0, 0

[State 215]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 70
animtype = back;H
getpower = 20, 13
guardflag = MA
hitflag = MAF
pausetime = 13, 13
sparkno = S6050
guard.sparkno = S6010
sparkxy = 0, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = high
ground.slidetime = 20
ground.hittime = 18
ground.velocity = -13
air.velocity = -3.5, -2

[State 240, 3]
type = PosAdd
trigger1 = AnimElem = 3
x = 25

[State 215] ;피
type = Explod
trigger1 = movehit
anim = 6120 + Random%3
pos = 0, -60
sprpriority = 3
postype = p2
bindtime = 1
ignorehitpause = 1
persistent = 0

[State 215]
type = PlaySnd
trigger1 = Time = 0
value = 300, 1

[State 215]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;근약발
[Statedef 220]
type = S
movetype = A
physics = S
anim = 220
poweradd = 32
ctrl = 1
velset = 0, 0

[State 220]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 25
animtype = M
getpower = 12, 7
guardflag = L
hitflag = MAF
pausetime = 12,12
sparkno = S6040
guard.sparkno = S6000
sparkxy = 0,-7
hitsound = s600, 1
guardsound = s400, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2.5,-3.5

[State 220]
type = PlaySnd
trigger1 = time = 0
value = 200, 1

[State 220]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;장약발
[Statedef 225]
type = S
movetype = A
physics = S
anim = 225
poweradd = 35
ctrl = 0
velset = 0, 0

[State 225]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 25
animtype = M
getpower = 12, 7
guardflag = L
hitflag = MAF
pausetime = 12,12
sparkno = S6040
guard.sparkno = S6000
sparkxy = 0,-20
hitsound = s600, 1
guardsound = s400, 0
ground.type = Low
ground.slidetime = 8
ground.hittime = 9
ground.velocity = -7
air.velocity = -3, -1

[State 225]
type = PlaySnd
trigger1 = Time = 1
value = 300, 0

[State 225]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;근강발
[Statedef 230]
type = S
movetype = A
physics = S
anim = 230
poweradd = 70
ctrl = 0
velset = 0, 0

[State 230]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 75
animtype = H
getpower = 13, 8
guardflag = MA
hitflag = MAF
pausetime = 14, 14
sparkno = S6050
guard.sparkno = S6010
sparkxy = -10,-60
hitsound = s500, 1
guardsound = s400, 1
ground.type = high
ground.slidetime = 16
ground.hittime = 23
ground.velocity = -12
air.velocity = -3.5, -2
ctrl = 1

[State 215] ;피
type = Explod
trigger1 = movehit
anim = 6120 + Random%3
pos = 0, -60
sprpriority = 3
postype = p2
bindtime = 1
ignorehitpause = 1
persistent = 0

[State 230]
type = PlaySnd
trigger1 = Time = 0
value = 300, 5

[State 230]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;장강발
[Statedef 235]
type = S
movetype = A
physics = S
anim = 235
poweradd = 70
ctrl = 0
velset = 0, 0

[State 235]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 80
animtype = H
getpower = 25, 18
guardflag = MA
hitflag = MAF
priority = 3
pausetime = 14, 14
sparkno = S6050
guard.sparkno = S6010
sparkxy = -10, -65
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2
ctrl = 1

[State 215] ;피
type = Explod
trigger1 = movehit
anim = 6100 + Random%5
pos = 20, -80
sprpriority = 3
postype = p2
bindtime = 1
ignorehitpause = 1
persistent = 0   

[State 235] 
type = PlaySnd
trigger1 = AnimElem = 2
value = 300, 1

[State 235]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;앉약손
[Statedef 400]
type = C
movetype = A
physics = C
anim = 400
poweradd = 30
ctrl = 1
velset = 0, 0

[state 400]
type = ctrlset
trigger1 = time = 0
trigger1 = var(59)>0
value = 0

[state 400]
type = ctrlset
trigger1 = movecontact
trigger1 = var(59)>0
value = 1

[State 400]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = 25
animtype = L
getpower = 10, 5
guardflag = MA
hitflag = MAF
pausetime = 8,8
sparkno = S6040
guard.sparkno = S6000
sparkxy = 0, -40
hitsound = s600, 1
guardsound = s400, 0
ground.type = low
ground.slidetime = 8
ground.hittime = 9
ground.velocity = -4.4
air.velocity = -3, -1

[State 420]
type = PlaySnd
trigger1 = time = 1 && Random < 500
value = 200, 1

[State 400]
type = PlaySnd
trigger1 = Time = 0
value = 300, 0

[State 400]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 11

;---------------------------------------------------------------------------
;앉약발
[Statedef 420]
type = C
movetype = A
physics = C
anim = 420
poweradd = 30
ctrl = 0
velset = 0, 0

[State 420]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = 25
animtype = L
getpower = 10, 5
hitflag = MA
guardflag = L
pausetime = 8, 8
sparkno = S6040
guard.sparkno = S6000
sparkxy = 0,-10
hitsound = s600, 1
guardsound = s400, 0
ground.type = low
ground.slidetime = 8
ground.hittime = 8
ground.velocity = -4.4
air.velocity = -3.5, -1

[State 420]
type = PlaySnd
trigger1 = time = 1 && Random < 500
value = 200, 1

[State 420]
type = PlaySnd
trigger1 = Time = 1
value = 300, 0

[State 420]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 11

;---------------------------------------------------------------------------
;앉강손
[Statedef 410]
type = C
movetype = A
physics = C
poweradd = 60
anim = 410
velset = 0, 0
ctrl = 0

[State 410]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage    = 30
getpower = 10, 10
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 10,12
sparkno = S6050
guard.sparkno = S6010
sparkxy = -10, -40
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 2
ground.hittime  = 15
ground.velocity = 2
air.velocity = -3,-4
ctrl = 1

[State 410, 3] 
type = HitDef
trigger1 = AnimElem = 7
attr = C, NA
damage    = 40
getpower = 15, 10
animtype  = hard
hitflag = MAF
guardflag = MA
pausetime = 7,12
sparkno = S6060
guard.sparkno = S6010
sparkxy = -10, -60
hitsound = s600, 3
guardsound = s400, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -3,-4
envshake.time = 15
envshake.ampl = -5
envshake.freq = 100
envshake.phase = 10

[State 215] ;피
type = Explod
trigger1 = movehit && AnimElem = 7
anim = 6110 + Random%3
pos = 10, -80
sprpriority = 3
postype = p2
bindtime = 1
ignorehitpause = 1
persistent = 0   

[State 410]
type = PlaySnd
trigger1 = time = 0 && Random < 500
value = 200, 0

[State 410]
type = PlaySnd
trigger1 = Time = 0
value = 300, 1

[State 410]
type = PlaySnd
trigger1 = AnimElem = 7
value = 300, 1

[State 410]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 11

;---------------------------------------------------------------------------
;앉강발
[Statedef 430]
type = C
movetype = A
physics = C
anim = 430
poweradd = 60
ctrl = 0
velset = 0, 0

[State 430]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = 80
animtype = H
getpower = 25, 18
hitflag = MAFD
guardflag = L
pausetime = 14, 14
sparkno = S6050
guard.sparkno = S6010
sparkxy = -10,-20
hitsound = s600, 2
guardsound = s400, 1
ground.type = trip
ground.slidetime = 8
ground.hittime = 23
ground.velocity = -2.6, -5
air.velocity = -4.0, -4
guard.velocity = -12
airguard.velocity = -3.6
fall = 1

[State 430]
type = PlaySnd
trigger1 = Time = 0
value = 300, 1

[State 430]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 11

;---------------------------------------------------------------------------
;수점약손
[Statedef 600]
type = A
movetype = A
physics = A
anim = 600
poweradd = 30
ctrl = 0

[State 600]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 25
getpower = 10, 5
guardflag = HA
hitflag = MAF
priority = 3
pausetime = 8, 8
sparkno = S6040
guard.sparkno = S6000
sparkxy = -10, -65
hitsound = s600, 1
guardsound = s400, 0
ground.type = High
ground.slidetime = 8
ground.hittime = 14
ground.velocity = -3.6
air.velocity = -3.6, -4

[State 215] ;피
type = Explod
trigger1 = movehit
anim = 6100 + Random%6
pos = 0, -100
sprpriority = 3
postype = p2
bindtime = 1
ignorehitpause = 1
persistent = 0     

[State 600]
type = PlaySnd
trigger1 = time = 1 && Random < 500
value = 200, 1

[State 600]
type = PlaySnd
trigger1 = Time = 1
value = 300, 0

[State 600]
type = ChangeState
triggerall = stateno = 600 && animelem <= 2, >= 8
triggerall = command = "x"
trigger1 = statetype = A
value = 600

[State 600]
type = ChangeState
triggerall = movehit
triggerall = command = "x"
trigger1 = statetype = A
value = 600

[State 600]
type = ChangeState
triggerall = stateno = 600 && animelem <= 2, >= 8
triggerall = command = "a"
trigger1 = statetype = A
value = 620

[State 600]
type = ChangeState
triggerall = movehit
triggerall = command = "a"
trigger1 = statetype = A
value = 620

[State 600]
type = ChangeState
triggerall = stateno = 600 && animelem <= 2, >= 8
triggerall = command = "y"
trigger1 = statetype = A
value = 615

[State 600]
type = ChangeState
triggerall = movehit
triggerall = command = "y"
trigger1 = statetype = A
value = 615

[State 600]
type = ChangeState
triggerall = stateno = 600 && animelem <= 2, >= 8
triggerall = command = "b"
trigger1 = statetype = A
value = 630

[State 600]
type = ChangeState
triggerall = movehit
triggerall = command = "b"
trigger1 = statetype = A
value = 630

;---------------------------------------------------------------------------
;대점약손
[Statedef 605]
type = A
movetype = A
physics = A
anim = 605
poweradd = 25
ctrl = 0

[State 605]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 25
getpower = 10, 5
guardflag = HA
hitflag = MAF
priority = 3
pausetime = 8,8
sparkno = S6040
guard.sparkno = S6000
sparkxy = -10, -65
hitsound = s600, 1
guardsound = s400, 0
ground.type = High
ground.slidetime = 8
ground.hittime = 13
ground.velocity = -3.6
air.velocity = -3.6, -4

[State 215] ;피
type = Explod
trigger1 = movehit
anim = 6100 + Random%6
pos = 0, -100
sprpriority = 3
postype = p2
bindtime = 1
ignorehitpause = 1
persistent = 0 

[State 605]
type = PlaySnd
trigger1 = time = 0 && Random < 500
value = 200, 1

[State 605]
type = PlaySnd
trigger1 = Time = 0
value = 300, 0

[State 600]
type = ChangeState
triggerall = stateno = 605 && animelem <= 2, >= 8
triggerall = command = "x"
trigger1 = statetype = A
value = 605

;[State 600]
;type = ChangeState
;triggerall = movehit
;triggerall = command = "x"
;trigger1 = statetype = A
;value = 605

[State 600]
type = ChangeState
triggerall = stateno = 605 && animelem <= 2, >= 8
triggerall = command = "a"
trigger1 = statetype = A
value = 625

;[State 600]
;type = ChangeState
;triggerall = movehit
;triggerall = command = "a"
;trigger1 = statetype = A
;value = 625

[State 600]
type = ChangeState
triggerall = stateno = 605 && animelem <= 2, >= 8
triggerall = command = "y"
trigger1 = statetype = A
value = 610

[State 600]
type = ChangeState
triggerall = movehit
triggerall = command = "y"
trigger1 = statetype = A
value = 610

[State 600]
type = ChangeState
triggerall = stateno = 605 && animelem <= 2, >= 8
triggerall = command = "b"
trigger1 = statetype = A
value = 635

[State 600]
type = ChangeState
triggerall = movehit
triggerall = command = "b"
trigger1 = statetype = A
value = 635

;---------------------------------------------------------------------------
;수점약발
[Statedef 620]
type = A
movetype = A
physics = A
anim = 620
poweradd = 25
juggle = 1
ctrl = 0

[State 620]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 25
getpower = 10, 5
guardflag = HA
hitflag = MAF
priority = 3
pausetime = 8,8
sparkxy = -10, -65
sparkno = S6040
guard.sparkno = S6000
hitsound = s600, 1
guardsound = s400, 0
ground.type = Low
ground.slidetime = 8
ground.hittime = 11
ground.velocity = -3.6
air.velocity = -3.6, -4

[State 215] ;피
type = Explod
trigger1 = movehit
anim = 6100 + Random%6
pos = 0, -100
sprpriority = 3
postype = p2
bindtime = 1
ignorehitpause = 1
persistent = 0 

[State 620]
type = PlaySnd
trigger1 = time = 0 && Random < 500
value = 200, 1

[State 620]
type = PlaySnd
trigger1 = Time = 0
value = 300, 0

[State 600]
type = ChangeState
triggerall = stateno = 620 && animelem <= 2, >= 8
triggerall = command = "x"
trigger1 = statetype = A
value = 600

[State 600]
type = ChangeState
triggerall = movehit
triggerall = command = "x"
trigger1 = statetype = A
value = 600

[State 600]
type = ChangeState
triggerall = stateno = 620 && animelem <= 2, >= 8
triggerall = command = "a"
trigger1 = statetype = A
value = 620

[State 600]
type = ChangeState
triggerall = movehit
triggerall = command = "a"
trigger1 = statetype = A
value = 620

[State 600]
type = ChangeState
triggerall = stateno = 620 && animelem <= 2, >= 8
triggerall = command = "y"
trigger1 = statetype = A
value = 615

[State 600]
type = ChangeState
triggerall = movehit
triggerall = command = "y"
trigger1 = statetype = A
value = 615

[State 600]
type = ChangeState
triggerall = stateno = 620 && animelem <= 2, >= 8
triggerall = command = "b"
trigger1 = statetype = A
value = 630

[State 600]
type = ChangeState
triggerall = movehit
triggerall = command = "b"
trigger1 = statetype = A
value = 630

;---------------------------------------------------------------------------
;대점약발
[Statedef 625]
type = A
movetype = A
physics = A
anim = 625
poweradd = 25
ctrl = 0

[State 625]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 25
getpower = 10, 5
guardflag = HA
hitflag = MAF
priority = 3
pausetime = 8,8
sparkno = S6040
guard.sparkno = S6000
sparkxy = -10,-65
hitsound = s600, 1
guardsound = s400, 0
ground.type = Low
ground.slidetime = 8
ground.hittime = 11
ground.velocity = -3.6
air.velocity = -3.6, -4

[State 215] ;피
type = Explod
trigger1 = movehit
anim = 6100 + Random%6
pos = 0, -100
sprpriority = 3
postype = p2
bindtime = 1
ignorehitpause = 1
persistent = 0 

[State 625]
type = PlaySnd
trigger1 = time = 0 && Random < 500
value = 200, 1

[State 625]
type = PlaySnd
trigger1 = Time = 0
value = 300, 0


[State 600]
type = ChangeState
triggerall = stateno = 625 && animelem <= 2, >= 8
triggerall = command = "x"
trigger1 = statetype = A
value = 605

;[State 600]
;type = ChangeState
;triggerall = movehit
;triggerall = command = "x"
;trigger1 = statetype = A
;value = 605

[State 600]
type = ChangeState
triggerall = stateno = 625 && animelem <= 2, >= 8
triggerall = command = "a"
trigger1 = statetype = A
value = 625

;[State 600]
;type = ChangeState
;triggerall = movehit
;triggerall = command = "a"
;trigger1 = statetype = A
;value = 625

[State 600]
type = ChangeState
triggerall = stateno = 625 && animelem <= 2, >= 8
triggerall = command = "y"
trigger1 = statetype = A
value = 610

[State 600]
type = ChangeState
triggerall = movehit
triggerall = command = "y"
trigger1 = statetype = A
value = 610

[State 600]
type = ChangeState
triggerall = stateno = 625 && animelem <= 2, >= 8
triggerall = command = "b"
trigger1 = statetype = A
value = 635

[State 600]
type = ChangeState
triggerall = movehit
triggerall = command = "b"
trigger1 = statetype = A
value = 635

;---------------------------------------------------------------------------
;대점강손
[Statedef 610]
type = A
movetype = A
physics = A
anim = 610
poweradd = 60
ctrl = 0

[State 610]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 70
getpower = 20, 13
guardflag = HA
hitflag = MAF
priority = 3
pausetime = 13, 13
sparkno = S6050
guard.sparkno = S6010
sparkxy = -10, -65
hitsound = s600, 2
guardsound = s400, 1
ground.type = High
ground.slidetime = 19
ground.hittime = 20
ground.velocity = -4
air.velocity = -4, -6

[State 215] ;피
type = Explod
trigger1 = movehit
anim = 6120 + Random%3
pos = 0, -100
sprpriority = 3
postype = p2
bindtime = 1
ignorehitpause = 1
persistent = 0 

[State 3500]
type = varset
trigger1 = movehit = 1
var(1) = 1

[State 610]
type = PlaySnd
trigger1 = Time = 0
value = 300, 1

;---------------------------------------------------------------------------
;수점강손
[Statedef 615]
type = A
movetype = A
physics = A
anim = 615
poweradd = 60
ctrl = 0

[State 610]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 70
getpower = 20, 13
guardflag = HA
hitflag = MAF
priority = 3
pausetime = 13, 13
sparkno = S6050
guard.sparkno = S6010
sparkxy = -10, -65
hitsound = s600, 2
guardsound = s400, 1
ground.type = High
ground.slidetime = 19
ground.hittime = 20
ground.velocity = -4
air.velocity = -4, -6

[State 215] ;피
type = Explod
trigger1 = movehit
anim = 6120 + Random%3
pos = 0, -100
sprpriority = 3
postype = p2
bindtime = 1
ignorehitpause = 1
persistent = 0 

[State 3500]
type = varset
trigger1 = movehit = 1
var(1) = 1

[State 610]
type = PlaySnd
trigger1 = Time = 0
value = 300, 1


;---------------------------------------------------------------------------
;수점강발
[Statedef 630]
type = A
movetype = A
physics = A
anim = 630
poweradd = 70
ctrl = 0

[State 630]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 70
getpower = 25, 15
guardflag = HA
hitflag = MAF
priority = 3
pausetime = 13, 13
sparkno = S6050
guard.sparkno = S6010
sparkxy = -10,-45
hitsound = s600, 2
guardsound = s400, 1
ground.type = low
ground.slidetime = 19
ground.hittime = 19
ground.velocity = -4
air.velocity = -4, -6

[State 630]
type = PlaySnd
trigger1 = time = 0 && Random < 500
value = 200, 0

[State 630]
type = PlaySnd
trigger1 = Time = 0
value = 300, 1

;---------------------------------------------------------------------------
;대점강발
[Statedef 635]
type = A
movetype = A
physics = A
anim = 635
poweradd = 65
ctrl = 0

[State 635]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 70
getpower = 20, 13
guardflag = HA
hitflag = MAF
priority = 3
pausetime = 15, 15
sparkno = S6050
guard.sparkno = S6010
sparkxy = -10,-45
hitsound = s600, 2
guardsound = s400, 1
ground.type = low
ground.slidetime = 18
ground.hittime = 20
ground.velocity = -4
air.velocity = -4, -6

[State 635]
type = PlaySnd
trigger1 = time = 0 && Random < 500
value = 200, 0

[State 635]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1

;---------------------------------------------------------------------------
;날리기
[Statedef 300]
type    = S
movetype= A
physics = N
juggle  = 30
poweradd= 70
velset = 0,0
anim = 300
ctrl = 0
sprpriority = 2

[State 300]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 300]
type = AfterImageTime
trigger1 = AnimElemTime(8) < 0
time = 2


[State 305]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300, 1

[State 300]
type = PosAdd
trigger1 = AnimElem = 1
x = 5

[State 300]
type = PosAdd
trigger1 = AnimElem = 2
x = 10

[State 300]
type = PosAdd
trigger1 = AnimElem = 3
x = 15

[State 300]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 110
getpower = 25, 15
guardflag = MA
pausetime = 0,5
sparkno = S6070
guard.sparkno = S6010
sparkxy = -10,-60
hitsound = s1500, 0
guardsound = s400, 1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
guard.velocity = -5
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
p2stateno = 700
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10

[State 305] ;피
type = Explod
trigger1 = movehit
anim = 6120 + Random%3
pos = 0, -75
sprpriority = 3
postype = p2
bindtime = 1
ignorehitpause = 1
persistent = 0

[State 300]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;점날리기
[Statedef 305]
type = A
movetype = A
physics = A
poweradd = 70
anim = 305
ctrl = 0

[State 305]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 110
animtype = U
getpower = 25, 15
guardflag = MA
hitflag = MA
pausetime = 14, 14
sparkno = S6070
guard.sparkno = S6010
sparkxy = 0, -75
hitsound = s1500, 0
guardsound = s400, 1
ground.type = low
ground.hittime = 23
ground.velocity = -3, -6
air.velocity = -4, -6
guard.velocity = -11
airguard.velocity = -4
guard.hittime = 18
guard.slidetime = 22
fall = 1

[State 305] ;피
type = Explod
trigger1 = movehit
anim = 6120 + Random%3
pos = 0, -75
sprpriority = 3
postype = p2
bindtime = 1
ignorehitpause = 1
persistent = 0

[State 305]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300, 1

;---------------------------------------------------------------------------
;날리기 맞았을때-1
[Statedef 700]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1025, Anim] 
type = ChangeAnim2
trigger1 = 1
value = 700

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 701

;날리기 맞았을때-2
[Statedef 701]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 702

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100


;날리기 맞았을때-3
[Statedef 702]
type    = A
movetype= H
physics = N

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 702

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 703

;날리기 맞았을때-4
[Statedef 703]
type    = A
movetype= H
physics = N

[State 1028, 1]
type = NotHitBy
trigger1 = 1
value = , NA, NP

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050] 
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5052] 
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5060] 
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5062] 
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
;기와깨기
[Statedef 500]
type = S
movetype = A
physics = S
anim = 500
poweradd = 60
ctrl = 0
velset = 0, 0

[State 500]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 30
animtype = M
getpower = 15, 10
guardflag = HA
hitflag = MAF
pausetime = 12, 12
sparkno = S6050
guard.sparkno = S6010
sparkxy = -10, -65
hitsound = s600, 2
guardsound = s400, 1
ground.type = low
ground.slidetime = 5
ground.hittime = 23
ground.velocity = -4
air.velocity = -3,-2

[State 500]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage = 30
animtype = M
getpower = 15, 10
guardflag = HA
hitflag = MAF
pausetime = 11, 12
sparkno = S6050
guard.sparkno = S6010
sparkxy = -10, -50
hitsound = s600, 2
guardsound = s400, 1
ground.type = high
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -5
air.velocity = -3.5,-2

[State 500]
type = PlaySnd
trigger1 = Time = 0
value = 200, 0

[State 500]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300, 1

[State 500]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0


;캔슬 기와
[Statedef 505]
type = S
movetype = A
physics = S
anim = 500
poweradd = 40
ctrl = 0
velset = 0, 0

[State 505]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 20
animtype = M
getpower = 15, 5
guardflag = MA
hitflag = MAF
pausetime = 12, 12
sparkno = S6050
guard.sparkno = S6010	
sparkxy = -10, -65
hitsound = s600, 2
guardsound = s400, 1
ground.type = low
ground.slidetime = 12
ground.hittime = 23
ground.velocity = -4
air.velocity = -3,-2

[State 505]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage = 25
animtype = M
getpower = 15, 5
guardflag = MA
hitflag = MAF
pausetime = 11, 12
sparkno = S6050
guard.sparkno = S6010
sparkxy = -10, -50
hitsound = s600, 2
guardsound = s400, 1
ground.type = high
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -5
air.velocity = -3.5,-2

[State 505]
type = PlaySnd
trigger1 = Time = 0
value = 200, 0

[State 505]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300, 1

[State 505]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;손잡기
[Statedef 800]
type = S
movetype = A
physics = S
anim = 800
ctrl = 0
velset = 0, 0
poweradd = 70

[State 800]
type = HitDef
trigger1 = time = 0
attr = S, NT
damage = 0, 0
animtype = L
hitflag = M-
priority = 1, Miss
sparkno = S6000
sparkxy = -50, -68
snap = 0
hitsound = s600, 0
ground.type = low
p1facing = 1
p2facing = 1
p1stateno = 801
p2stateno = 802

[State 800]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0


;잡은후
[Statedef 801]
type = S
movetype = A
physics = S
anim = 801
velset = 0,0
poweradd = 0
sprpriority = 3

[State 801]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801]
type = width
trigger1 = AnimElem = 1, >= 0 && AnimElem = 10, <= 26
edge = 57,0

[State 801]
type = PlaySnd
trigger1 = animelem = 5
value = 600,2

[State 801]
type = EnvShake
trigger1 = animelem = 5
persistent = 0
time = 14
ampl = -6
freq = 255
phase = 10
ignorehitpause = 1

[State 801]
type = Explod
trigger1 = AnimElem = 5
id = 6070
anim = 6070
pos = 50,-40
sprpriority = 7
ownpal = 1
facing = 1

[State 801]
type = targetlifeadd
trigger1 = animelem = 5
value = -120
kill = 1

[State 801]
type = Explod
trigger1 = AnimElem = 1
id = 890
anim = 890
pos = 30,-96
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 29

[State 801]
type = TargetBind
trigger1 = animelem = 1
pos = 50,0

[State 801]
type = TargetBind
trigger1 = animelem = 2
pos = 30,5

[State 801]
type = TargetBind
trigger1 = animelem = 3
pos = 20,10

[State 801]
type = TargetBind
trigger1 = animelem = 4
pos = 10,5

[State 801]
type = TargetBind
trigger1 = animelem = 5
pos = 50,-10

[State 801]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;잡힌상대
[Statedef 802]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 1
facep2 = 1

[State 802]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 802]
type = ChangeAnim2
trigger1 = time = 0
value = 802

[State 802]
type = ChangeState
trigger1 = AnimTime = 0
value = 803

;잡힌상대2
[Statedef 803]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 1

[State 803]
type = NotHitBy
trigger1 = 1
value = SCA

[State 803]
type = Velset
trigger1 = Time = 0
x = -5.95
y = -5.75

[State 803]
type = Veladd
trigger1 = Time >= 0
y = 0.54

[State 803]
type = ChangeAnim
trigger1 = Time = 0
value = 5050

[State 803]
type = SelfState
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
;발잡기
[Statedef 850]
type = S
movetype = A
physics = S
anim = 800
ctrl = 0
velset = 0, 0
poweradd = 70

[State 850]
type = HitDef
trigger1 = time = 0
attr = S, NT
damage = 0, 0
animtype = L
hitflag = M-
priority = 1, Miss
sparkno = S6000
sparkxy = -50, -68
snap = 0
hitsound = s600, 0
ground.type = low
p2facing = 1
p2facing = -1
p1stateno = 851
p2stateno = 852

[State 850]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;잡은 후
[Statedef 851] 
type = S
movetype = A
physics = S
anim = 851
velset = 0, 0
poweradd = 0
sprpriority = 1

[State 851]
type = width
trigger1 = AnimElem = 1, >= 0 && AnimElem = 4, <= 4
edge = 49,0

[State 851]
type = width
trigger1 = AnimElem = 5>= 0 && AnimElem = 5<= 13
edge = 101,0

[State 851]
type = SprPriority
trigger1 = AnimElem = 3
value = -1

[State 801]
type = PlaySnd
trigger1 = animelem = 4
value = 300,4

[State 851]
type = TargetBind
trigger1 = animelem = 1
pos = 39,0

[State 851]
type = TargetBind
trigger1 = animelem = 2
pos = 10,-50

[State 851]
type = TargetBind
trigger1 = animelem = 3
pos = 10,-90

[State 851]
type = TargetBind
trigger1 = animelem = 4
pos = 56,-120

[State 851]
type = TargetBind
trigger1 = animelem = 4,=4
pos = 103,-130

[State 851]
type = turn
trigger1 =  animelem = 4

[State 851]
type = targetlifeadd
trigger1 = animelem = 4,=4
value = -120
kill = 1

[State 851]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;잡힌상대
[Statedef 852]
type = A
movetype = H
physics = N
velset = 0
facep2 = 1

[State 852]
type = ChangeAnim2
trigger1 = time = 0
value = 852

[State 852]
type = ChangeState
trigger1 = AnimTime = 0
value = 853


;잡힌 상대2
[Statedef 853]
type = S
movetype = H
physics = N

ctrl = 0
facep2 = 1

[State 853]
type = VelSet
trigger1 = time = 0
x = -3.5
y = -5.5

[State 853]
type = VelAdd
trigger1 = 1
y = .55

[State 853]
type = turn
Trigger1 = time = 0

[State 853]
type = ChangeAnim
trigger1 = !selfanimexist(5164)
trigger1 = time = 0
value = 5160

[State 853]
type = ChangeAnim
trigger1 = selfanimexist(5164)
trigger1 = time = 0
value = 5164

[State 853]
type = selfstate
trigger1 = Pos Y >= -12 && Vel Y > 0
value = 5100
ctrl = 0

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type = S
movetype = H
physics = N
anim = 5200
ctrl = 0

[State 5201]
type = Turn
trigger1 = Time = 0 && p2dist X < -5

[State 5201]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201]
type = PalFX
trigger1 = Time = 0
time = 2
add = 128,128,128

[State 5201]
type = ChangeState
trigger1 = Time = 0
value = 160

;---------------------------------------------------------------------------
;주먹난타-강
[Statedef 3200]
type = S
movetype = A
physics = S
anim = 3100
ctrl = 0
velset = 0, 0
poweradd = -3000

[State 3100]
type = varset
trigger1 = Time = 0
var(1) = 1

[State 3100]
type = NotHitBy
trigger1 = 1
value = SCA
time = 8

[State 3100]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 3100]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3100]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3100]
type = Explod
trigger1 = time = 1
anim = 6265
sprpriority = -1
postype = p1
pos = 48, -55
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3100]
type = Explod
trigger1 = Time = 11
anim = 6260
sprpriority = 3
postype = p1
pos = 48, -55
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3100]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3100]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3100]
type = AfterImage
trigger1 = AnimElem = 2
time = 999
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 125, 0, 0
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3100]
type = PlaySnd
trigger1 = Time = 1
value = 6000,2

[State 3100]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3100]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 3000]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =2210 || prevstateno =2700
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3100]
type = ChangeState
trigger1 = AnimTime = 0
value = 3210


;주먹난타-강2
[Statedef 3210]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3200
ctrl = 0
sprpriority = 2

[State 3110]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 3110]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 60
time = 2

[State 3110]
type = Projectile
trigger1 = AnimElem = 2
projanim = 3130
projhitanim = 3130
projpriority = 99
offset = 0, 0
projremovetime = 32
projhits = 8
attr = S, HP
damage   = 20, 3
givepower = 10, 5
getpower = 0
animtype = DiagUp
guardflag = M
pausetime = 1,9
sparkno = S6090
guard.sparkno = S7120
sparkxy = 100,-40
hitsound   = S500, 0
guardsound = S3,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -1, -10
air.type = Low
air.velocity = -2,-3
guard.velocity = -9
airguard.velocity = 0
juggle = 15
air.juggle = 15
fall = 1
fall.recover = 0

[State 3110]
type = Pause
trigger1 = ProjContact = 1
time = 4
pausebg = 0

[State 3110]
type = EnvShake
trigger1 =  ProjContact = 1
time = 3
ampl = 6

[State 3110]
type = envcolor
trigger1 = ProjContact = 1
value = 255,255,255
time = 1
under = 1

[State 3010]
type = HitDef
trigger1 = AnimElem = 8
trigger2 = AnimElem = 15
trigger3 = AnimElem = 22
attr = S, HA
animtype  = Hard
damage    = 20,3
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6040
guard.sparkno = S6000
sparkxy = 0,-80     
hitsound = S600, 1            
guardsound = S400, 0    
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 10,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3010]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = AnimElem = 16
trigger3 = AnimElem = 23
attr = S, HA
animtype  = Hard
damage    = 20,3
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6060
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3010]
type = HitDef
trigger1 = AnimElem = 10
trigger2 = AnimElem = 17
trigger3 = AnimElem = 24
attr = S, HA
animtype  = Hard
damage    = 20,3
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6050
guard.sparkno = S6010
sparkxy = 0, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3010]
type = HitDef
trigger1 = AnimElem = 11
trigger2 = AnimElem = 18
attr = S, HA
animtype  = Hard
damage    = 20,3
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6070
guard.sparkno = S6010
sparkxy = -10,-60
hitsound   = S10,0
guardsound = S4,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3010]
type = HitDef
trigger1 = AnimElem = 12
trigger2 = AnimElem = 19
attr = S, HA
animtype  = Hard
damage    = 20,3
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6060
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3010]
type = HitDef
trigger1 = AnimElem = 13
trigger2 = AnimElem = 20
attr = S, HA
animtype  = Hard
damage    = 20,3
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6050
guard.sparkno = S6010
sparkxy = 0, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
numhits = 2

[State 3000, 6]
type = HitDef
trigger1 = AnimElem =27
attr = S, HA
animtype  = Hard
damage    = 85,10
getpower  = 0
givepower = 15, 10
guardflag = MA
pausetime = 20,15
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S1500,0
guardsound = S400,1
ground.type = Low
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -5, -4
guard.velocity = -25
air.velocity = -5,-4
airguard.velocity = -3,-3
fall.animtype = Hard
fall = 1
fall.recover = 0
envshake.time = 30
envshake.ampl = -15
envshake.freq = 100
envshake.phase = 10

[State 1220, Shake Screen]
type = EnvShake
trigger1 = AnimElem = 27
time = 8
ampl = 3
freq = 170

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = 3041
pos = 10, 10
postype = p1
sprpriority = 5

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = 3042
pos = 10, 10
postype = p1
sprpriority = 5

[State 1600]
type = Explod
trigger1 = AnimElem = 5
anim = 3020
pos = 50, 0
postype = p1
sprpriority = 5
facing = -1

[State 1600]
type = Explod
trigger1 = AnimElem = 19
anim = 6130
pos = 30, 0
postype = p1
sprpriority = 5
facing = -1

[State 1600]
type = Explod
trigger1 = AnimElem = 27
anim = 3140
pos = 10, 10
postype = p1
sprpriority = 5

[State 1600]
type = Explod
trigger1 = AnimElem = 27
anim = 3150
pos = 0, 0
postype = p1
sprpriority = 5

[State 1600]
type = Explod
trigger1 = AnimElem = 27
anim = 3020
pos = 50, 0
postype = p1
sprpriority = 5

[State 3110]
type = envcolor
trigger1 = movehit = 1
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State 3100]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000, 3

[State 3100]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3000, 0

[State 3100]
type = PlaySnd
trigger1 = AnimElem = 8
value = 3000, 1

[State 3100]
type = PlaySnd
trigger1 = AnimElem = 27
value = 3000, 4

[State 3110]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;주먹난타-중
[Statedef 3100]
type = S
movetype = A
physics = S
anim = 3100
ctrl = 0
velset = 0, 0
poweradd = -2000

[State 3100]
type = varset
trigger1 = Time = 0
var(1) = 1

[State 3100]
type = NotHitBy
trigger1 = 1
value = SCA
time = 8

[State 3100]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 3100]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3100]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3100]
type = Explod
trigger1 = time = 1
anim = 6265
sprpriority = -1
postype = p1
pos = 48, -55
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3100]
type = Explod
trigger1 = Time = 11
anim = 6260
sprpriority = 3
postype = p1
pos = 48, -55
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3100]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3100]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3100]
type = AfterImage
trigger1 = AnimElem = 2
time = 999
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 125, 0, 0
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3100]
type = PlaySnd
trigger1 = Time = 1
value = 6000,2

[State 3100]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3100]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 3000]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =2210 || prevstateno =2700
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3100]
type = ChangeState
trigger1 = AnimTime = 0
value = 3110


;주먹난타-중2
[Statedef 3110]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3110
ctrl = 0
sprpriority = 2

[State 3110]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 3110]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 60
time = 2

[State 3110]
type = Projectile
trigger1 = AnimElem = 2
projanim = 3130
projhitanim = 3130
projpriority = 99
offset = 0, 0
projremovetime = 32
projhits = 8
attr = S, HP
damage   = 20, 3
givepower = 10, 5
getpower = 0
animtype = DiagUp
guardflag = MA
pausetime = 1,9
sparkno = S6090
guard.sparkno = S7120
sparkxy = 100,-40
hitsound   = S500, 0
guardsound = S400,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -1, -10
air.type = Low
air.velocity = -2,-3
guard.velocity = -9
airguard.velocity = 0
juggle = 15
air.juggle = 15
fall = 1
fall.recover = 0




[State 3110]
type = Pause
trigger1 = ProjContact = 1
time = 4
pausebg = 0

[State 3110]
type = EnvShake
trigger1 =  ProjContact = 1
time = 3
ampl = 6

[State 3110]
type = envcolor
trigger1 = ProjContact = 1
value = 255,255,255
time = 1
under = 1

[State 3110]
type = HitDef
trigger1 = AnimElem = 8
trigger2 = AnimElem = 15
trigger3 = AnimElem = 22
attr = S, HA
animtype  = Hard
damage    = 20,3
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6040
guard.sparkno = S6000
sparkxy = 0,-80     
hitsound = S600, 1            
guardsound = S400, 0    
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3110]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = AnimElem = 16
trigger3 = AnimElem = 23
attr = S, HA
animtype  = Hard
damage    = 20,3
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6060
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3110]
type = HitDef
trigger1 = AnimElem = 10
trigger2 = AnimElem = 17
trigger3 = AnimElem = 24
attr = S, HA
animtype  = Hard
damage    = 20,3
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6050
guard.sparkno = S6010
sparkxy = 0, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3110]
type = HitDef
trigger1 = AnimElem = 11
trigger2 = AnimElem = 18
attr = S, HA
animtype  = Hard
damage    = 20,3
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6070
guard.sparkno = S6010
sparkxy = -10,-60
hitsound   = S10,0
guardsound = S4,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = 3041
pos = 10, 10
postype = p1
sprpriority = 5

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = 3042
pos = 10, 10
postype = p1
sprpriority = 5

[State 1600]
type = Explod
trigger1 = AnimElem = 5
anim = 3020
pos = 50, 0
postype = p1
sprpriority = 5
facing = -1

[State 1600]
type = Explod
trigger1 = AnimElem = 19
anim = 6130
pos = 30, 0
postype = p1
sprpriority = 5
facing = -1

[State 3100]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3000, 0

[State 3100]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000, 3

[State 3100]
type = PlaySnd
trigger1 = AnimElem = 8
value = 3000, 1

[State 3110]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;주먹난타-약
[Statedef 3000]
type = S
movetype = A
physics = S
anim = 3000
ctrl = 0
velset = 0, 0
poweradd = -1000

[State 3000]
type = varset
trigger1 = Time = 0
var(1) = 0

[State 3000]
type = NotHitBy
trigger1 = 1
value = SCA
time = 4

[State 3000]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 3000]
type = Explod
trigger1 = time = 1 
anim = 6255
sprpriority = -1
postype = p1
pos = -32, -88
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3000]
type = Explod
trigger1 = time = 11 
anim = 6250
sprpriority = 3
postype = p1
pos = -32, -88
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3000]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3000]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3000]
type = PlaySnd
trigger1 = Time = 1
value = 6000,0

[State 3000]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3000]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000, 0 

[State 3000]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =2210 || prevstateno =2700
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000]
type = ChangeState
trigger1 = AnimTime = 0
value = 3010

;주먹난타-약2
[Statedef 3010]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3010
ctrl = 0
sprpriority = 2

[State 1600]
type = Explod
trigger1 = AnimElem = 5
anim = 3020
pos = 50, 0
postype = p1
sprpriority = 5
facing = -1

[State 1600]
type = Explod
trigger1 = AnimElem = 19
anim = 6130
pos = 30, 0
postype = p1
sprpriority = 5
facing = -1

[State 3010]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 3010]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 60
time = 2

[State 3010]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 11
trigger3 = AnimElem = 18
attr = S, HA
animtype  = Hard
damage    = 16,3
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6040
guard.sparkno = S6000
sparkxy = 0,-80     
hitsound = S600, 1            
guardsound = S400, 0    
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3010]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 12
trigger3 = AnimElem = 19
attr = S, HA
animtype  = Hard
damage    = 16,3
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6060
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3010]
type = HitDef
trigger1 = AnimElem = 6
trigger2 = AnimElem = 13
trigger3 = AnimElem = 20
attr = S, HA
animtype  = Hard
damage    = 16,3
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6050
guard.sparkno = S6010
sparkxy = 0, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3010]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 14
attr = S, HA
animtype  = Hard
damage    = 16,3
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6070
guard.sparkno = S6010
sparkxy = -10,-60
hitsound   = S10,0
guardsound = S4,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 4
envshake.ampl = -5

[State 3010]
type = HitDef
trigger1 = AnimElem = 8
trigger2 = AnimElem = 15
attr = S, HA
animtype  = Hard
damage    = 16,3
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6060
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3010]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = AnimElem = 16
attr = S, HA
animtype  = Hard
damage    = 16,3
getpower  = 0
givepower = 10, 5
guardflag = MA
pausetime = 0,2
sparkno = S6050
guard.sparkno = S6010
sparkxy = 0, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-2
air.velocity = 1,-2
air.fall = 1
fall.animtype = Hard
fall.recover = 0
numhits = 2

[State 3110]
type = envcolor
trigger1 = movehit = 1
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State 3100]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3000, 1

[State 3010]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;3번치기-약
[Statedef 3500]
type = S
movetype = A
physics = S
anim = 3500
ctrl = 0
velset = 0, 0
poweradd = -1000

[State 3500]
type = varset
trigger1 = Time = 0
var(1) = 0

[State 3500]
type = NotHitBy
trigger1 = 1
value = SCA
time = 4

[State 3500]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 3500]
type = Explod
trigger1 = time = 1 
anim = 6255
sprpriority = -1
postype = p1
pos = 24, -58
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3500]
type = Explod
trigger1 = time = 11 
anim = 6250
sprpriority = 3
postype = p1
pos = 24, -58
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3500]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3500]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3500]
type = PlaySnd
trigger1 = Time = 1
value = 6000,0

[State 3500]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3000]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =2210 || prevstateno =2700
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3500]
type = ChangeState
trigger1 = AnimTime = 0
value = 3510


;---------------------------------------------------------------------------
[Statedef 3510]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3510
ctrl = 0
sprpriority = 2

[State 3510]
type = Width
trigger1 = AnimElem = 2, >= 0
value = 15,0

[State 3510]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 3510]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 60
time = 2

[State 3510]
type = NotHitBy
trigger1 = AnimElem = 1
value = , NA, SA, AT
time = 12

[State 3510]
type = NotHitBy
trigger1 = AnimElemTime(1) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 3500]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3500, 0 

[State 3500]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
value = 300, 1 

[State 3500]
type = PlaySnd
trigger1 = AnimElem = 16
value = 300, 2

[State 3510]
type = VelSet
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
trigger3 = AnimElem = 16
trigger4 = AnimElem = 17
x = 10
[State 3510]
type = VelSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
trigger3 = AnimElem = 18
x = 6
[State 3510]
type = VelSet
trigger1 = AnimElem = 4
trigger2 = AnimElem = 11
x = 2

[State 3510]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
attr = S, HA
animtype  = Hard
damage    = 80,8
getpower  = 0
givepower = 20, 10
guardflag = MA
pausetime = 0,15
sparkno = S6060
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3510]
type = HitDef
trigger1 = AnimElem = 17
attr = S, HA
animtype  = Hard
damage    = 85,10
getpower  = 0
givepower = 20, 10
guardflag = MA
pausetime = 0,15
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S1500,0
guardsound = S400,1
ground.type = Low
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -5, -4
guard.velocity = -12
air.velocity = -5,-4
airguard.velocity = -3,-3
fall.animtype = Hard
fall = 1
fall.recover = 0
envshake.time = 30
envshake.ampl = -15
envshake.freq = 100
envshake.phase = 10

[State 3110]
type = envcolor
trigger1 = movehit = 1
value = 255,255,255
time = 3
under = 1
ignorehitpause = 1

[State 1600]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
anim = 1115
pos = 12, 3
postype = p1
sprpriority = 5
facing = -1

[State 1600]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
anim = 1125
pos = 0, 0
postype = p1
sprpriority = 5

[State 1600]
type = Explod
trigger1 = AnimElem = 16
anim = 1125
pos = 22, 3
postype = p1
sprpriority = 5
facing = -1
bindtime = -1

[State 1600]
type = Explod
trigger1 = AnimElem = 16
anim = 3120
pos = 10, 0
postype = p1
sprpriority = 5
facing = -1
bindtime = -1

[State 3510]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3번치기-중
[Statedef 3600]
type = S
movetype = A
physics = S
anim = 3600
ctrl = 0
velset = 0, 0
poweradd = -2000

[State 3600]
type = varset
trigger1 = Time = 0
var(1) = 1

[State 3600]
type = NotHitBy
trigger1 = 1
value = SCA
time = 8

[State 3600]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 3600]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3600]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3600]
type = Explod
trigger1 = time = 1
anim = 6265
sprpriority = -1
postype = p1
pos = -9, -75
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3600]
type = Explod
trigger1 = Time = 11
anim = 6260
sprpriority = 3
postype = p1
pos = -9, -75
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3600]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3600]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3600]
type = AfterImage
trigger1 = AnimElem = 2
time = 999
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 125, 0, 0
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3600]
type = PlaySnd
trigger1 = Time = 1
value = 6000,2

[State 3600]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3600]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 3000]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =2210 || prevstateno =2700
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3600]
type = ChangeState
trigger1 = AnimTime = 0
value = 3610

;---------------------------------------------------------------------------
[Statedef 3610]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3610
ctrl = 0
sprpriority = 2

[State 3000, Width]
type = Width
trigger1 = AnimElem = 1, >= 0
value = 15,0


[State 3000, Super B]
type = AfterImage
trigger1 = AnimElem = 1, 1
time = 2

[State 3000, Super C]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 60
time = 2

[State 3000, Super D]
type = NotHitBy
trigger1 = AnimElem = 1
value = , NA, SA, AT
time = 12

[State 3000, Super E]
type = NotHitBy
trigger1 = AnimElemTime(1) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 3500]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3500, 0 

[State 3500]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
value = 300, 1 

[State 3500]
type = PlaySnd
trigger1 = AnimElem = 16
value = 300, 2

[State 3500]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
trigger3 = AnimElem = 17
value = 1400, 0 

[State 3000, 2]
type = VelSet
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
x = 7
[State 3000, 2]
type = VelSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
x = 4
[State 3000, 2]
type = VelSet
trigger1 = AnimElem = 4
trigger2 = AnimElem = 11
x = 2

[State 3000, 5]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
attr = S, HA
animtype  = Hard
damage    = 90,10
getpower  = 0
givepower = 25, 15
guardflag = MA
pausetime = 0,15
sparkno = S6060
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -8
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3000, 6]
type = HitDef
trigger1 = AnimElem = 18
attr = S, HA
animtype  = Hard
damage    = 110,15
getpower  = 0
givepower = 25, 15
guardflag = MA
pausetime = 0,15
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S1500,0
guardsound = S400,1
ground.type = Low
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -5, -4
guard.velocity = -25
air.velocity = -5,-4
airguard.velocity = -3,-3
fall.animtype = Hard
fall = 1
fall.recover = 0
envshake.time = 30
envshake.ampl = -15
envshake.freq = 100
envshake.phase = 10

[State 1600]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
anim = 1115
pos = 12, 3
postype = p1
sprpriority = 5
facing = -1

[State 1600]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
anim = 1125
pos = 0, 0
postype = p1
sprpriority = 5

[State 1600]
type = Explod
trigger1 = AnimElem = 16
anim = 1125
pos = 22, 3
postype = p1
sprpriority = 5
facing = -1
bindtime = -1

[State 1600]
type = Explod
trigger1 = AnimElem = 16
anim = 3120
pos = 10, 0
postype = p1
sprpriority = 5
facing = -1
bindtime = -1

[State 3000, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;3번 치기 맥스
[Statedef 3700]
type = S
movetype = A
physics = S
anim = 3600
ctrl = 0
velset = 0, 0
poweradd = -3000

[State 3700]
type = varset
trigger1 = Time = 0
var(1) = 1

[State 3700]
type = NotHitBy
trigger1 = 1
value = SCA
time = 8

[State 3700]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 3700]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3700]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3700]
type = Explod
trigger1 = time = 1
anim = 6265
sprpriority = -1
postype = p1
pos = -9, -75
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3700]
type = Explod
trigger1 = Time = 11
anim = 6260
sprpriority = 3
postype = p1
pos = -9, -75
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3700]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3700]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3700]
type = AfterImage
trigger1 = AnimElem = 2
time = 999
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 125, 0, 0
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3700]
type = PlaySnd
trigger1 = Time = 1
value = 6000,2

[State 3700]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 3700]
type = ChangeState
trigger1 = AnimTime = 0
value = 3710

[State 3000]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =2210 || prevstateno =2700
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1


[Statedef 3710]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3700
ctrl = 0
sprpriority = 2

[State 3000, Width]
type = Width
trigger1 = AnimElem = 1, >= 0
value = 15,0

[State 3000, Super B]
type = AfterImage
trigger1 = AnimElem = 1, 1
time = 2

[State 3000, Super C]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 1 && Time < 60
time = 2

[State 3000, Super D]
type = NotHitBy
trigger1 = AnimElem = 1
value = , NA, SA, AT
time = 12

[State 3000, Super E]
type = NotHitBy
trigger1 = AnimElemTime(1) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 3500]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3500, 0 

[State 3500]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
trigger3 = AnimElem = 16
trigger4 = AnimElem = 23
value = 300, 1 

[State 3500]
type = PlaySnd
trigger1 = AnimElem = 30
value = 300, 2

[State 3500]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
trigger3 = AnimElem = 17
trigger4 = AnimElem = 24
trigger4 = AnimElem = 31
value = 1400, 0 

[State 3000, 2]
type = VelSet
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
trigger3 = AnimElem = 16
trigger4 = AnimElem = 23
x = 8
[State 3000, 2]
type = VelSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
trigger3 = AnimElem = 17
trigger4 = AnimElem = 24
x = 5
[State 3000, 2]
type = VelSet
trigger1 = AnimElem = 4
trigger2 = AnimElem = 11
trigger3 = AnimElem = 18
trigger4 = AnimElem = 25
x = 3

[State 3000, 5]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
trigger3 = AnimElem = 17
trigger4 = AnimElem = 24
attr = S, HA
animtype  = Hard
damage    = 70,10
getpower  = 0
givepower = 18, 12
guardflag = MA
pausetime = 0,15
sparkno = S6060
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -8
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3000, 6]
type = HitDef
trigger1 = AnimElem =32
attr = S, HA
animtype  = Hard
damage    = 85,15
getpower  = 0
givepower = 18, 12
guardflag = MA
pausetime = 0,15
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S1500,0
guardsound = S400,1
ground.type = Low
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -5, -4
guard.velocity = -25
air.velocity = -5,-4
airguard.velocity = -3,-3
fall.animtype = Hard
fall = 1
fall.recover = 0
envshake.time = 30
envshake.ampl = -15
envshake.freq = 100
envshake.phase = 10

[State 1600]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
trigger3 = AnimElem = 16
trigger4 = AnimElem = 23
anim = 1115
pos = 12, 3
postype = p1
sprpriority = 5
facing = -1

[State 1600]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
trigger3 = AnimElem = 16
trigger4 = AnimElem = 23
anim = 1125
pos = 0, 0
postype = p1
sprpriority = 5

[State 1600]
type = Explod
trigger1 = AnimElem = 30
anim = 1125
pos = 22, 3
postype = p1
sprpriority = 5
facing = -1
bindtime = -1

[State 1600]
type = Explod
trigger1 = AnimElem = 30
anim = 3120
pos = 10, 0
postype = p1
sprpriority = 5
facing = -1
bindtime = -1

[State 3000, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;공간-약
[Statedef 4000]
type = S
movetype = A
physics = S
anim = 4000
ctrl = 0
velset = 0, 0
poweradd = -1000

[State 3500]
type = varset
trigger1 = Time = 0
var(1) = 0

[State 3500]
type = NotHitBy
trigger1 = 1
value = SCA
time = 4

[State 3500]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 3500]
type = Explod
trigger1 = time = 1 
anim = 6255
sprpriority = -1
postype = p1
pos = -30, -63
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3500]
type = Explod
trigger1 = time = 11 
anim = 6250
sprpriority = 3
postype = p1
pos = -30, -63
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3500]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 1

[State 3500]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 1

[State 3500]
type = PlaySnd
trigger1 = Time = 1
value = 6000,0

[State 3500]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3000]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =2210 || prevstateno =2700
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3500]
type = ChangeState
trigger1 = AnimTime = 0
value = 4010


;---------------------------------------------------------------------------
;공간-끝
[Statedef 4040]
type    = S
movetype= A
physics = S
juggle  = 0
anim = 4040
sprpriority = 2


;하얀색에서 배경으로
[State 810, Bind 1]
type = varset
trigger1 = time = 0
var(5) = 255

[State 840,0]
type = bgpalfx
trigger1 = 1
time = 2
add = var(5),var(5),var(5)

[state 190]
type = varadd
trigger1 = var(5) > 0
var(5) = -15

[State 840,0]
type = palfx
trigger1 = 1
time = 2
add = var(5),var(5),var(5)


[State 1037, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------
;공간이팩트-약
[Statedef 4010]
type    = S
movetype= A
physics = S
anim = 4010
velset = 0,0
ctrl = 0
sprpriority = -1

[State 200, 1] ; 여기
type = EnvShake
trigger1 = AnimElem = 1
time = 50
ampl = -2
freq = 120
phase = 10

[State 3000, kuro] ; 여기
type = envcolor
trigger1 = AnimElem = 1,>=0
trigger1 = AnimElem = 3,<0
value = 0,0,0
time = 1; 272 한번 발동해서 272초 지속하는경우에서 1초마다 54초까지 계속 덮는걸로 변경
supermove = 1
under = 1

[State 3500]
type = PlaySnd
trigger1 = Time = 10
value = 4000,0
channel = 0 ; 여기

[State 3500]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4000,1
channel = 17 ; 여기

[State 3200]
type = Helper
trigger1 = AnimElem = 3
helpertype = normal
name = "lv3"
ID = 4011
pos = 0,0
postype = back
facing = 1
stateno = 4011
keyctrl = 0
ownpal = 1
;guarddisc = 100


[State 3200, 40]
type = ChangeState
trigger1 = time = 150
value = 4040

;---------------------------------------------
;공간 -약헬퍼
[Statedef 4011]
type=A
movetype=A
physics=N
anim = 4103
ctrl=0
sprpriority = 15
bindtime = -1
removeongethit = 1

[state 7000]
type = nothitby
trigger1 =1
value = S, ST
time = 100

[State 3000, kuro]
type = envcolor
trigger1 = AnimElem = 1
value = 0,0,0
time = 100
supermove = 1
under = 1

[State 3250, 5]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
attr = S, HA
animtype  = Hard
damage    = 60,3
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,10
sparkxy = -10,-60
sparkno = S6050
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = Trip
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-8
air.velocity = 1,-5
air.fall = 1
fall.recover = 0 
fall.animtype = Hard
fall.recover = 0
sprpriority = 15


[State 3250, 5]
type = HitDef
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
trigger3 = AnimElem = 8
trigger4 = AnimElem = 9
trigger5 = AnimElem = 10
attr = S, HA
animtype  = Hard
damage    =60,3
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,50
sparkxy = -10,-60
sparkno = S6050
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = Trip
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-4
air.velocity = 1,0
air.fall = 1
fall.recover = 0 
fall.animtype = Hard
fall.recover = 0
sprpriority = 15


[State 3250, 5]
type = HitDef
trigger1 = AnimElem = 11
trigger2 = AnimElem = 12
trigger3 = AnimElem = 13
trigger4 = AnimElem = 14
trigger5 = AnimElem = 15
trigger6 = AnimElem = 16
trigger7 = AnimElem = 17
trigger8 = AnimElem = 18
trigger9 = AnimElem = 19
attr = S, HA
animtype  = Hard
damage    = 60,3
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,20
sparkxy = -10,-60
sparkno = S6050
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = high
ground.slidetime = 1
ground.hittime  = 50
ground.velocity = 1,-2
air.velocity = -4, -7
air.fall = 1
fall.recover = 0 
air.hittime = 50
fall.animtype = Hard
fall.recover = 0
sprpriority = 15


[State 3250, 5]
type = HitDef
trigger1 = AnimElem = 20
attr = S, NA
damage = 100,3
attr = S, HA
animtype  = Hard
damage    = 60,3
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,20
sparkxy = -10,-60
sparkno = S6050
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = high
ground.slidetime = 1
ground.hittime  = 50
ground.velocity = 1,-2
air.velocity = -4, -7
air.fall = 1
fall.recover = 0 
air.hittime = 50
fall.animtype = Hard
fall.recover = 0
sprpriority = 15


[State 3250,99]
type = DestroySelf
trigger1 = time = 100
trigger2 = parent,movetype = H ; 여기

[State 3800]
type = Explod
trigger1 = AnimElem = 1
anim = 4100
ID = 4100
sprpriority = 12
postype = back
pos = 0,181
vel = 0, 0
removetime = 100
ownpal = 1
bindtime = -1
removeongethit = 1


;공간-중 시작
[Statedef 4100]
type = S
movetype = A
physics = S
anim = 4000
ctrl = 0
velset = 0, 0
poweradd = -2000

[State 3600]
type = varset
trigger1 = Time = 0
var(1) = 1

[State 3600]
type = NotHitBy
trigger1 = 1
value = SCA
time = 8

[State 3600]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 3600]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3600]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3600]
type = Explod
trigger1 = time = 1
anim = 6265
sprpriority = -1
postype = p1
pos = -30, -63
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3600]
type = Explod
trigger1 = Time = 11
anim = 6260
sprpriority = 3
postype = p1
pos = -30, -63
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3600]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3600]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3600]
type = AfterImage
trigger1 = AnimElem = 2
time = 100
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 125, 0, 0
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3600]
type = PlaySnd
trigger1 = Time = 1
value = 6000,2

[State 3600]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3600]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 3000]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =2210 || prevstateno =2700
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3600]
type = ChangeState
trigger1 = AnimTime = 0
value = 4110


;공간이팩트-중
[Statedef 4110]
type    = S
movetype= A
physics = S
anim = 4020
velset = 0,0
ctrl = 0
sprpriority = -1

[State 200, 1]
type = EnvShake
trigger1 = animelem = 1
time = 50
ampl = -2
freq = 120
phase = 10

[State 3000, kuro] ; 여기
type = envcolor
trigger1 = AnimElem = 1,>=0
trigger1 = AnimElem = 3,<0
value = 0,0,0
time = 1; 272 한번 발동해서 272초 지속하는경우에서 1초마다 54초까지 계속 덮는걸로 변경
supermove = 1
under = 1

[State 3500]
type = PlaySnd
trigger1 = Time = 10
value = 4000,0
channel = 0 ; 여기

[State 3500]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4000,1
channel = 17 ; 여기

[State 3200]
type = Helper
trigger1 = AnimElem = 3
helpertype = normal
name = "lv3"
ID = 4111
pos = 0,0
postype = back
facing = 1
stateno = 4111
keyctrl = 0
ownpal = 1

[State 3200, 40]
type = ChangeState
trigger1 = time = 200
value = 4040

;---------------------------------------------
;공간-중 헬퍼
[Statedef 4111]
type=A
movetype=A
physics=N
anim = 4104
ctrl=0
sprpriority = 15
bindtime = -1
removeongethit = 1

[state 7000]
type = nothitby
trigger1 =1
value = S, ST
time = 150

[State 3000, kuro]
type = envcolor
trigger1 = AnimElem = 1
value = 0,0,0
time = 150
supermove = 1
under = 1

[State 3250, 5]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
trigger10 = AnimElem = 10
attr = S, HA
animtype  = Hard
damage    = 100,3
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,10
sparkxy = -10,-60
sparkno = S6060
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = Trip
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-8
air.velocity = 1,-5
air.fall = 1
fall.recover = 0 
fall.animtype = Hard
fall.recover = 0
sprpriority = 15

[State 3250, 5]
type = HitDef
trigger1 = AnimElem = 11
trigger2 = AnimElem = 12
trigger3 = AnimElem = 13
trigger4 = AnimElem = 14
trigger5 = AnimElem = 15
trigger6 = AnimElem = 16
trigger7 = AnimElem = 17
trigger8 = AnimElem = 18
trigger9 = AnimElem = 19
trigger10 = AnimElem = 20
attr = S, HA
animtype  = Hard
damage    =100,3
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,50
sparkxy = -10,-60
sparkno = S6060
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = Trip
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-4
air.velocity = 1,0
air.fall = 1
fall.recover = 0 
fall.animtype = Hard
fall.recover = 0
sprpriority = 15

[State 3250, 5]
type = HitDef
trigger1 = AnimElem = 21
trigger2 = AnimElem = 22
trigger3 = AnimElem = 23
trigger4 = AnimElem = 24
trigger5 = AnimElem = 25
trigger6 = AnimElem = 26
trigger7 = AnimElem = 27
trigger8 = AnimElem = 28
trigger9 = AnimElem = 29
attr = S, HA
animtype  = Hard
damage    = 100,3
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,20
sparkxy = -10,-60
sparkno = S6060
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = high
ground.slidetime = 1
ground.hittime  = 50
ground.velocity = 1,-2
air.velocity = -4, -7
air.fall = 1
fall.recover = 0 
air.hittime = 50
fall.animtype = Hard
fall.recover = 0
sprpriority = 15

[State 3250, 5]
type = HitDef
trigger1 = AnimElem = 30
attr = S, NA
damage = 100,3
attr = S, HA
animtype  = Hard
damage    = 100,3
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,20
sparkxy = -10,-60
sparkno = S6060
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = high
ground.slidetime = 1
ground.hittime  = 50
ground.velocity = 1,-2
air.velocity = -4, -7
air.fall = 1
fall.recover = 0 
air.hittime = 50
fall.animtype = Hard
fall.recover = 0
sprpriority = 15

[State 3250,99]
type = DestroySelf
trigger1 = time = 150

[State 3800]
type = Explod
trigger1 = AnimElem = 1
anim = 4101
ID = 4101
sprpriority = 12
postype = back
pos = 0,181;-5,-3
vel = 0, 0
removetime = 150
ownpal = 1
bindtime = -1
removeongethit = 1

;공간-강 시작
[Statedef 4200]
type = S
movetype = A
physics = S
anim = 4000
ctrl = 0
velset = 0, 0
poweradd = -3000

[State 3700]
type = varset
trigger1 = Time = 0
var(1) = 1

[State 3700]
type = NotHitBy
trigger1 = 1
value = SCA
time = 8

[State 3700]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 3700]
type = Explod
trigger1 = Time = 1
trigger1= facing = 1
anim = 4526
pos = 0,0
postype = left
facing = 1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3700]
type = Explod
trigger1 = Time = 1
trigger1= facing = -1
anim = 4526
pos = 0,0
postype = Right
facing = -1
sprpriority = -4
supermove = 1
ownpal = 1
bindtime = -1

[State 3700]
type = Explod
trigger1 = time = 1
anim = 6265
sprpriority = -1
postype = p1
pos = -30, -63
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3700]
type = Explod
trigger1 = Time = 11
anim = 6260
sprpriority = 3
postype = p1
pos = -30, -63
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3700]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 3700]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 3700]
type = AfterImage
trigger1 = AnimElem = 2
time = 100
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 125, 0, 0
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3700]
type = PlaySnd
trigger1 = Time = 1
value = 700,2

[State 3700]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 3700]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 3700]
type = PlaySnd
trigger1 = AnimElem = 1
value = 191, 1

[State 3000]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =2210 || prevstateno =2700
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3700]
type = ChangeState
trigger1 = AnimTime = 0
value = 4210



;공간이팩트-강
[Statedef 4210]
type    = S
movetype= A
physics = S
anim = 4020
velset = 0,0
ctrl = 0
sprpriority = -1

[State 200, 1]
type = EnvShake
trigger1 = animelem = 1
time = 50
ampl = -2
freq = 120
phase = 10

[State 3000, kuro] ; 여기
type = envcolor
trigger1 = AnimElem = 1,>=0
trigger1 = AnimElem = 3,<0
value = 0,0,0
time = 1; 272 한번 발동해서 272초 지속하는경우에서 1초마다 54초까지 계속 덮는걸로 변경
supermove = 1
under = 1

[State 3500]
type = PlaySnd
trigger1 = Time = 10
value = 4000,0
channel = 0 ; 여기

[State 3500]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4000,1
channel = 17 ; 여기

[State 3200]
type = Helper
trigger1 = AnimElem = 3
helpertype = normal
name = "lv3"
ID = 4105
pos = 0,0
postype = back
facing = 1
stateno = 4105
keyctrl = 0
ownpal = 1

[State 3200, 40]
type = ChangeState
trigger1 = time = 295
value = 4040

;---------------------------------------------------------------------------
;공간-강 헬퍼
[Statedef 4105]
type=A
movetype=A
physics=N
anim = 4105
ctrl=0
sprpriority = 15

[state 7000]
type = nothitby
trigger1 =1
value = S, ST
time = 250

[State 3000, kuro]
type = envcolor
trigger1 = AnimElem = 1
value = 0,0,0
time = 250
supermove = 1
under = 1

[State 3250, 5]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
trigger10 = AnimElem = 10
trigger11 = AnimElem = 11
trigger12 = AnimElem = 12
trigger13 = AnimElem = 13
trigger14 = AnimElem = 14
trigger15 = AnimElem = 15
trigger16 = AnimElem = 16
trigger17 = AnimElem = 17
trigger18 = AnimElem = 18
trigger19 = AnimElem = 19
trigger20 = AnimElem = 20
attr = S, HA
animtype  = Hard
damage    = 150,3
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,10
sparkxy = -10,-60
sparkno = S6070
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = Trip
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-8
air.velocity = 1,-5
air.fall = 1
fall.recover = 0 
fall.animtype = Hard
fall.recover = 0
sprpriority = 15

[State 3250, 5]
type = HitDef
trigger1 = AnimElem = 21
trigger2 = AnimElem = 22
trigger3 = AnimElem = 23
trigger4 = AnimElem = 24
trigger5 = AnimElem = 25
trigger6 = AnimElem = 26
trigger7 = AnimElem = 27
trigger8 = AnimElem = 28
trigger9 = AnimElem = 29
trigger10 = AnimElem = 30
attr = S, HA
animtype  = Hard
damage    =150,3
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,50
sparkxy = -10,-60
sparkno = S6070
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = Trip
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-4
air.velocity = 1,0
air.fall = 1
fall.recover = 0 
fall.animtype = Hard
fall.recover = 0
sprpriority = 15

[State 3250, 5]
type = HitDef
trigger1 = AnimElem = 31
trigger2 = AnimElem = 32
trigger3 = AnimElem = 33
trigger4 = AnimElem = 34
trigger5 = AnimElem = 35
trigger6 = AnimElem = 36
trigger7 = AnimElem = 37
trigger8 = AnimElem = 38
trigger9 = AnimElem = 39
trigger10 = AnimElem = 40
attr = S, HA
animtype  = Hard
damage    =150,3
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,50
sparkxy = -10,-60
sparkno = S6070
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = Trip
ground.slidetime = 1
ground.hittime  = 150
ground.velocity = 1,-4
air.velocity = 1,0
air.fall = 1
fall.recover = 0 
fall.animtype = Hard
fall.recover = 0
sprpriority = 15

[State 3250, 5]
type = HitDef
trigger1 = AnimElem = 41
trigger2 = AnimElem = 42
trigger3 = AnimElem = 43
trigger4 = AnimElem = 44
trigger5 = AnimElem = 45
trigger6 = AnimElem = 46
trigger7 = AnimElem = 47
trigger8 = AnimElem = 48
trigger9 = AnimElem = 49
attr = S, HA
animtype  = Hard
damage    = 150,3
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,20
sparkxy = -10,-60
sparkno = S6070
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = high
ground.slidetime = 1
ground.hittime  = 50
ground.velocity = 1,-2
air.velocity = -4, -7
air.fall = 1
fall.recover = 0 
air.hittime = 50
fall.animtype = Hard
fall.recover = 0
sprpriority = 15

[State 3250, 5]
type = HitDef
trigger1 = AnimElem = 50
attr = S, NA
damage = 150,3
attr = S, HA
animtype  = Hard
damage    = 20,3
getpower  = 0
givepower = 10, 5
priority  = 6
guardflag = MA
pausetime = 0,20
sparkxy = -10,-60
sparkno = S6070
guard.sparkno = S6020
hitsound = s600, 2
guardsound = s400, 1
ground.type = high
ground.slidetime = 1
ground.hittime  = 50
ground.velocity = 1,-2
air.velocity = -4, -7
air.fall = 1
fall.recover = 0 
air.hittime = 50
fall.animtype = Hard
fall.recover = 0
sprpriority = 15

[State 3250,99]
type = DestroySelf
trigger1 = time = 250

[State 3800]
type = Explod
trigger1 = AnimElem = 1
anim = 4102
ID = 4102
sprpriority = 12
postype = back
pos = 0,181
vel = 0, 0
removetime = 250
ownpal = 1
bindtime = -1
removeongethit = 1

;---------------------------------------------------------------------------


;------------------------------------------------------------------------
;북두백열권
[Statedef 4600]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7000
sprpriority = 2
poweradd = -3000


[State -1]
type = posfreeze
trigger1 = time <= 60

[state 0,0]
type = veladd
triggerall = pos y < 0
trigger1 = time = 60
y = -4
persistent = 0

[state 0,0]
type = veladd
triggerall = pos y < 0
trigger1 = time >= 60
y = 0.45

[state 0,0]
type = velset
triggerall = pos y >= 0
trigger1 = time >= 60
y = 0


[state 0,0]
type = BGpalfx
trigger1 = time >= 6
time = 5
add = 100,-20,-40
mul = 150,150,150
ignorehitpause = 1


[State 3000, effect]
type = Explod
trigger1 = time = 6
anim = 7001
postype = p1
pos = 0,0
ownpal = 1
sprpriority = -5
supermovetime = 100
scale = const(size.xscale),const(size.yscale)

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 4600,1
channel = 0

[State 0, 0]
type = PlaySnd
trigger1 = AnimElem = 3
value = 4600,9
channel = 1

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 14

[State 0, 0]
type = PlaySnd
trigger1 = AnimElem = 27
value = 300,2
channel = 2


[State 0, 0]
type = PlaySnd
trigger1 = time = 65
value = 4600,5
channel = 0

[State 3500, 1]
type = SuperPause
trigger1 = time = 6
time = 68
movetime = 68
pos = -14,-9
ownpal = 1
anim = -1
sound = S220,0
poweradd = 0
darken = 0

[State 0, 0]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "cutin"
ID = 4601
stateno = 4601
postype = back
pos = -0,50
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 4610
ctrl = 0

[State 210, 3]
type = ChangeState
trigger1 = movehit
value = 4620
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 1
persistent = 0
attr = A, HT
damage = 25, 8
kill = 0
getpower = 0
givepower = 0
animtype = heavy
hitflag = MAF
guardflag = M
priority = 5, hit
pausetime = 10, 15
guard.pausetime = 15, 15
sparkno = S6070
guard.sparkno = S6010
sparkxy = -10,-60
hitsound = s1500, 0
guardsound = s400, 1
ground.type = low
ground.slidetime = 1
ground.hittime  = 1
ground.velocity = -1
air.velocity = -1,-5
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = 0
guard.slidetime = 14
ground.cornerpush.veloff = -5
p2stateno = 4650
envshake.time = 15
envshake.ampl = 8
fall.recover = 0

[state 0,0]
type = assertspecial
trigger1 = movehit
flag = nomusic

[state 0,0]
type = playsnd
trigger1 = movehit
value = 4600,0
channel = 8
volume = 50
persistent = 0

[state 0,0]
type = varset
trigger1 = movehit
v = 23
value = 1

;---------------------------------------------------------------------------
;컷인
[Statedef 4601]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 999
sprpriority = 2
velset = 12,0

[state 0,0]
type = posadd
trigger1 = time >= 0
y = (200 - screenpos y)

[state 0,0]
type = velmul
trigger1 = time >= 5
x = 0.9

[State 3000, Cut in]
type = Explod
trigger1 = time <= 30
anim = 4524
pos = -100,-200
ownpal = 1
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 0.9,0.9

[State 3000, Cut in]
type = Explod
trigger1 = time > 30
anim = 4525
pos = -100,-200
ownpal = 0
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 0.8+(time*0.01),0.8+(time*0.01)

[state 0,0]
type = palfx
trigger1 = time > 50
time = 1
mul = 255-(time*3),255-(time*3),255-(time*3)

[state 0,0]
type = destroyself
trigger1 = time = 100
trigger2 = parent,movetype = H


;---------------------------------------------------------------------------
;실패
[Statedef 4610]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7020
sprpriority = 1
velset = 0,0

[state 0,0]
type = veladd
triggerall = pos y < 0
trigger1 = time >= 0
y = 0.45

[state 0,0]
type = velset
triggerall = pos y >= 0
trigger1 = time >= 0
y = 0

[state 0,0]
type = powerset
trigger1 = time = 0
value = 0

[state 0,0]
type = varset
trigger1 = time = 0
v = 24
value = 6

[state 0,0]
type = varset
trigger1 = time = 0
v = 48
value = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;히트
[Statedef 4620]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7010
sprpriority = 2
velset = 0,0

[State 0, 0]
type = Helper
triggerall = Numhelper(4623) = 0
triggerall = Numhelper(4624) = 0
triggerall = enemy,Numhelper(4623) = 0
triggerall = enemy,Numhelper(4624) = 0
trigger1 = time = 1
helpertype = normal
name = "nomusic"
ID = 4623
stateno = 4623
postype = p1
pos = 0,-100
keyctrl = 0
ownpal = 1
pausemovetime = 99999
supermovetime = 99999


[State 1000,0]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze

[State 0, 0]
type = PlaySnd
trigger1 = time = 12
value = 4600,7

[state 0,0]
type = veladd
triggerall = pos y < 0
trigger1 = time >= 10
y = 0.45

[state 0,0]
type = velset
triggerall = pos y >= 0
trigger1 = time >= 10
y = 0

[state 0,0]
type = assertspecial
trigger1 = time = 0
flag = nomusic

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 4600,0
channel = 8
volume = 50
persistent = 0

[state 0,0]
type = varset
trigger1 = time = 0
v = 23
value = 1

[State 210, 3]
type = Changeanim
trigger1 = time = 176
value = 7011

[State 210, 3]
type = Changeanim
trigger1 = time = 254
value = 7012

[state 0,0]
type = envshake
trigger1 = time = 56
time = 200
ampl = 5

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 19
range = -15,15

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 18
range = -15,15

[State 3000, face]
type = Explod
trigger1 = time >= 56
anim = 7030
postype = back
pos = -8,0
ownpal = 1
random = 4,4
sprpriority = -4
pausemovetime = 250
supermovetime =250
bindtime = -1
removeongethit = 1
scale = 0.5,0.5
removetime = 1
id = 7033


[state 0,0]
type = hitadd
trigger1 = time = 56
value = (enemy,gethitvar(hitcount))*-1

[state 0,0]
type = hitadd
trigger1 = time >= 57
value = 1
persistent = 2


[State 0, 0]
type = PlaySnd
trigger1 = time >= 57
value = 4600,6
persistent = 20
channel = 1


[State 3000, handF]
type = Explod
persistent = 30
trigger1 = random >= 800
trigger1 = time >= 50
anim = 7031
postype = back
pos = -80,125
random = 60,80
ownpal = 1
velocity = 10.5+(var(19)*0.1),0+(var(19)*0.1)
sprpriority = -3
pausemovetime = 250
supermovetime =250
removeongethit = 1
scale = 0.5,0.5
removetime = 25
id = 7033

[State 3000, handB]
type = Explod
persistent = 30
trigger1 = random >= 800
trigger1 = time >= 52
anim = 7032
postype = back
pos = -80,112
random = 60,120
ownpal = 1
velocity = 10.5+(var(19)*0.1),0+(var(19)*0.1)
sprpriority = -5
pausemovetime = 250
supermovetime =250
removeongethit = 1
scale = 0.5,0.5
removetime = 25
id = 7033


[State 3000, Backfire]
type = Explod
trigger1 = time = 56
anim = 7033
postype = back
pos = -40,0
ownpal = 1
velocity = 0,-10
sprpriority = -5
pausemovetime = 250
supermovetime =250
removeongethit = 1
scale = 2,2
removetime = 48

[State 3000, Backfire]
type = Explod
persistent = 51
trigger1 = time >= 81;56
anim = 7033
postype = back
pos = -40,256
ownpal = 1
velocity = 0,-10
sprpriority = -5
pausemovetime = 250
supermovetime =250
removeongethit = 1
scale = 2,2
removetime = 80
id = 7033

[state -2, destroy]
type = removeexplod
trigger1 = time >= 255
id = 7033

[state 0,0]
type = playsnd
persistent = 6
trigger1 = time >= 56
value = 4600,8
channel = 2

[State 3000, effect];타격이팩
type = Explod
persistent = 4
trigger1 = time = [56,176]
anim = 6070
postype = p1
pos = 50,-60
random = 30,30
ownpal = 1
sprpriority = 5
ontop = 1
pausemovetime = 100
supermovetime =100

[State 3000, effect];타격이팩
type = Explod
persistent = 4
trigger1 = time >= 182
anim = 6070
postype = p1
pos = 30,-60
random = 30,50
ownpal = 1
sprpriority = 5
ontop = 1
pausemovetime = 100
supermovetime =100

[State 0, 0]
type = PlaySnd
trigger1 = time = 55
value = 4600,2
channel = 3

[State 0, 0]
type = PlaySnd
trigger1 = time = 250
value = 4600,3
channel = 4

[state 0,0]
type = BGpalfx
trigger1 = time >= 0
time = 5
add = 100,-20,-40
mul = 150,150,150
ignorehitpause = 1


[State 210, 3]
type = ChangeState
trigger1 = time = 256
value = 4621
ctrl = 0

[State 1600];옷
type = Explod
trigger1 = time = 18
anim = 7005
pos = 0, 0
postype = p1
sprpriority = 5
bindtime = -1

[State 0, 0]
type = PlaySnd
trigger1 = time = 18
value = 4600,10
channel = 5

[State 0, 0]
type = Helper
trigger1 = time = 18
helpertype = normal
name = "efe"
ID = 4622
stateno = 4622
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 300
supermovetime = 300

;---------------------------------------------------------------------------

;글자
[Statedef 4621]
type    = S
movetype= A
physics = S
ctrl = 0
sprpriority = 1
velset = 0,0

[state 0,0]
type = envcolor
trigger1 = 1
ignorehitpause = 1
value = 0,0,0
under = 1

[State 3000, effect];글자
type = Explod
trigger1 = time = 1
anim = 7050
postype = left
pos = 42,184;170
ownpal = 0
sprpriority = 5
ontop = 1
pausemovetime = 120
supermovetime =120

[State 3800]
type = Explod
trigger1 = time = 0
anim = 7002
ID = 7002
sprpriority = -12
postype = back
pos = 0,210
vel = 0, 0
ownpal = 0
bindtime = -1
removeongethit = 1
scale = 1.2,1.2

[State 3000, effect];마무리이펙
type = Explod
trigger1 = time = 0
anim = 7036
removetime = 119
postype = p1
pos = 10,-17
ownpal = 0
sprpriority = 5
pausemovetime = 120
supermovetime =120

[state 0,0]
type = pause
trigger1 = time = 1
time = 120
movetime = 120

[State 0, 0]
type = PlaySnd
trigger1 = time = 50
value = 4600,4
channel = 6

[state 0,0]
type = varset
trigger1 = time >= 76
fv = 2
value = 1

[state 0,0]
type = varset
trigger1 = time = 0
v = 24
value = 0

[state 0,0]
type = posadd
trigger1 = time >= 120
trigger1 = frontedgedist <= 90
x = -2

[state 0,0]
type = envshake
trigger1 = time = 0
time = 8
ampl = 9

[State 210, 3]
type = ChangeState
triggerall = animtime = 0
trigger1 = target,life >= 1
value = 0
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 4625
ctrl = 1

;---------------------------------------------------------------------------
;찢어지는 옷
[Statedef 4622]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 998
sprpriority = 3
velset = 0,0

[State 3000, effect];찢어지는배경
type = Explod
trigger1 = time = [1,25]
anim = 7034
postype = p1
pos = 0,-40
ownpal = 0
sprpriority = -4
scale = 0.5,0.5
pausemovetime = 100
supermovetime =100

[State 3000, effect];파란동그라미
type = Explod
trigger1 = time = [1,49]
anim = 7035
postype = p1
pos = 0,-70
ownpal = 0
sprpriority = -5
scale = 1+(time*0.01),1+(time*0.01)
pausemovetime = 100
supermovetime =100

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1


[state 0,0]
type = palfx
trigger1 = time >= 0
time = 1
mul = 255 - (time*5),255 - (time*5),255 - (time*5)

[state 0,0]
type = destroyself
trigger1 = time = 49


;---------------------
[Statedef 4623]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 998
sprpriority = 0
velset = 0,0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = nomusic
pausemovetime = 99999
supermovetime = 99999

;---------------------
;음악
[Statedef 4624]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 998
sprpriority = 0
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 4600,0
channel = 8
volume = 50
persistent = 0

[state 0,0]
type = parentvarset
trigger1 = time <= 1499
v = 23
value = 1
[state 0,0]
type = parentvarset
trigger1 = time >= 1499
v = 23
value = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = nomusic
pausemovetime = 99999
supermovetime = 99999

[state 0,0]
type = destroyself
trigger1 = time = 1500

;---------------------------------------------------------------------------
[Statedef 4625]
type = S
ctrl = 0
anim = 7013
velset = 0,0

[State 185, 2]
type = varset
trigger1 = !time
var(2) = 1

[State 105]
type = VelSet
trigger1 = 1
x = const(velocity.run.back.x)

[State 210, 3]
type = ChangeState
trigger1 = time = 100
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;맞는상대
[Statedef 4650]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5000
sprpriority = 1
velset = 0,0

;[State 210, 3]
;type = selfState
;trigger1 = enemy,stateno = 8808
;value = 8915
;ctrl = 0

[State 210, 3]
type = Changeanim2
trigger1 = time = 0
value = 7040

[State 210, 3]
type = Changeanim
triggerall = authorname = "Drowin hokuto"
trigger1 = time = 70
value = 5320

[state 0,0]
type = lifeadd
trigger1 = time = [70,265]
value = -5
kill = 0

[state 0,0]
type = lifeadd
trigger1 = time = 269
value = -lifemax*100

[state 0,0]
type = lifeset
trigger1 = time = 269
value = 0

[state 0,0]
type = velset
trigger1 = time = 270
x = -7
y = -2

[State 210, 3]
type = selfState
trigger1 = time = 271
value = 5050
ctrl = 0




;---------------------------------------------------------------------------
;MAX2
[Statedef 4500]
type = S
movetype = A
physics = S
anim = 4500
ctrl = 0
velset = 0, 0
poweradd = -2000

[State 3500]
type = varset
trigger1 = Time = 0
var(1) = 0

[State 3500]
type = NotHitBy
trigger1 = 1
value = SCA
time = 4

[State 3500]
type = SuperPause
trigger1 = time = 1
time = 36
movetime = 36
anim = -1

[State 4500]
type = NotHitBy
trigger1 = 1
value = SCA
time = 50

[State 4500]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 4500]
type = Explod
trigger1 = time = 1
anim = 6275
sprpriority = -1
postype = p1
pos = -33, -90
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 4500]
type = Explod
trigger1 = Time = 11
anim = 6270
sprpriority = 3
postype = p1
pos = -33, -90
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 4500]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255, 255, 255
under = 2

[State 4500]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29
value = 0, 0, 0
under = 2

[State 4500]
type = AfterImage
trigger1 = AnimElem = 2
time = 999
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 225, 216, 0 
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 4500]
type = PlaySnd
trigger1 = Time = 1
value = 700,2

[State 4500]
type = PlaySnd
trigger1 = Time = 20
value = 6000,1

[State 4500]
type = PlaySnd
trigger1 = Time = 20
value = 6000,3

[State 4500]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4500, 0

[State 4500]
type = ChangeState
trigger1 = AnimTime = 0
value = 4501

[State 3000]
type = Helper
triggerall = prevstateno =1030 || prevstateno =1100 || prevstateno =1110 || prevstateno =1120 || prevstateno =1200 || prevstateno =1210 || prevstateno =1220
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000]
type = Helper
triggerall = prevstateno =1301 || prevstateno =1311 || prevstateno =1321 || prevstateno =2210 || prevstateno =2700
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 8500
stateno = 8500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 4500]
type = Helper
triggerall = prevstateno = 3010 || prevstateno = 3510
trigger1 = time = 0
helpertype = normal
name = "Dream Cancel"
ID = 8500
stateno = 8600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 4500, Helper]
type = Helper
trigger1 = animelem = 1
stateno = 8700
supermovetime = 99999999
pos = 25,-130
ownpal = 1
id = 8700
;---------------------------------------------------------------------------
;맥스
[Statedef 4501]
type = S
movetype = A
physics = N
juggle  = 4
anim = 4501
VelSet = 0
ctrl = 0

[State 4500]
type = AfterImage
trigger1 = AnimElem = 1
time = 999
TimeGap = 2
FrameGap = 4
length = 12
PalBright = 1,1,1
PalContrast = 225, 216, 0 ;125, 0, 0
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1


[State 1025, 1]
type = VelSet
trigger1 = AnimElem = 3,= 1
x = 6

[State 1025, 1]
type = VelSet
trigger1 = AnimElem = 23
x = 0

[State 3501, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 99999999
length = 7
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

[State 1020, 1]
type = AfterImage
trigger1 = AnimElem = 23
time = 0

[State -2, VarSet]
type = VarSet
trigger1 = AnimElem = 1,>= 0 && AnimElem = 3,< 0
var(14) = 0
ignorehitpause = 1

[State 1015, 1]
type = ReversalDef
trigger1 = AnimElem = 1,>= 0 && AnimElem = 3,< 0
pausetime = 11,12
sparkno = S8052
hitsound = S6,1
reversal.attr = SCA,NA,SA,HA
numhits = 0
ignorehitpause = 1



[State 1040, HitDef]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
trigger3 = AnimElem = 11
trigger4 = AnimElem = 15
trigger5 = AnimElem = 19
attr = S,SA
sparkno = S6050
guard.sparkno = S6020
sparkxy = 0,-50
hitsound = S600, 1            
guardsound = S400, 0    
hitflag = MAF
guardflag = M
animtype = Hard
damage = 50,5
getpower = 0,0
givepower = 15,10
pausetime = 7,8
guard.pausetime = 7,8
ground.type = Low
ground.slidetime = 30;16
ground.hittime = 30;19
guard.hittime = 17
yaccel = .55
ground.velocity = 1,-2
ground.cornerpush.veloff = -10 * fvar(1)
air.velocity = 1,-2
air.fall = 1
fall.recover = 0
id = 2
envshake.time = 8
envshake.ampl = -5


[State 1040, HitDef]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 13
trigger4 = AnimElem = 17
attr = S,SA
sparkno = S6060
guard.sparkno = S6020
sparkxy = 0,-60
hitsound = S600, 2            
guardsound = S400, 0    
hitflag = MAF
guardflag = M
animtype = Hard
damage = 50,5
getpower = 0,0
givepower = 15,10
pausetime = 7,8
guard.pausetime = 7,8
ground.type = Low
ground.slidetime = 30;16
ground.hittime = 30;19
guard.hittime = 17
yaccel = .55
ground.velocity = 1,-2
ground.cornerpush.veloff = -10 * fvar(1)
air.velocity = 1,-2
air.fall = 1
fall.recover = 0
id = 2
envshake.time = 8
envshake.ampl = -5


[State 1033, HitDef]
type = HitDef
trigger1 = animelem = 21
attr = S, SA
animtype  = Hard
damage    = 80, 8
getpower  = 0
givepower = 15,10
guardflag = MA
pausetime = 0,7
sparkno = S6060
guard.sparkno = S6020
sparkxy = 0,-60
hitsound = S1500, 0            
guardsound = S400, 1    
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
guard.velocity = -7
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
p2stateno = 700
envshake.time = 30
envshake.ampl = -15
envshake.freq = 80
envshake.phase = 10

[State 1025, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 4500]
type = Explod
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
trigger5 = AnimElem = 11
trigger6 = AnimElem = 13
trigger7 = AnimElem = 15
trigger8 = AnimElem = 17
trigger9 = AnimElem = 19
trigger10 = AnimElem = 21
anim = 6130
sprpriority = -1
postype = p1
pos = 0, 0
bindtime = -1
supermove = 1
under = 0
ownpal = 1

[State 1600]
type = Explod
trigger1 = AnimElem = 24
anim = 1125
pos = -20, 0
postype = p1
sprpriority = 2
facing = -1

[State 1016, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4500,1
channel = 0

[State 1016, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 4500,2





;---------------------------------------------------------------------------
;귀신-약
[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2
poweradd = 130

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000, 1


[State 1000]
type = Helper
trigger1 = animelem = 1
stateno = 1055
id = 1055
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 3

[State 1000]
type = ChangeState
trigger1 = AnimTime = 0
value = 1051

;---------------------------------------------------------------------------
[Statedef 1051]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1001
ctrl = 0
sprpriority = 2

[State 1050]
type = Helper
trigger1 = animelem = 1
stateno = 1056
id = 1056
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 3

[State 1030, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;귀신-강
[Statedef 1010]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1070
ctrl = 0
sprpriority = 2
poweradd = 130

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000, 1

[State 1050]
type = Helper
trigger1 = animelem = 1
stateno = 10550
id = 1055
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 3

[State 1050, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1053

;---------------------------------------------------------------------------
[Statedef 1053]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1080
ctrl = 0
sprpriority = 2

[State 1050]
type = Helper
trigger1 = animelem = 1
stateno = 1057
id = 1057
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 3

[State 1030, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;귀신소환-약
[Statedef 1055]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1010
ctrl = 0
sprpriority = 3

[State 1000] 
type = Explod
trigger1 = AnimElem = 4
anim = 1095
pos = 0,0
;postype = p1
sprpriority = 3
bindtime = 10
ownpal = 1

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000, 0

[STate 1055]
type=DestroySelf
trigger1=animtime=0

;---------------------------------------------------------------------------
;귀신소환-강
[Statedef 10550]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1011
ctrl = 0
sprpriority = 3

[State 1000] 
type = Explod
trigger1 = AnimElem = 4
anim = 1095
pos = 0,0
;postype = p1
sprpriority = 3
bindtime = 10
ownpal = 1

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000, 0

[STate 1055]
type=DestroySelf
trigger1=animtime=0

;---------------------------------------------------------------------------
;귀신발사-약
[Statedef 1056]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1020
ctrl = 0
sprpriority = 3

[STate 1056]
type = HitBy
trigger1 = 1
value = SAC,NP,SP,HP

[STate 1056]
type = HitOverRide
trigger1 = 1
attr = SAC,NP,SP,HP
stateno = 1059

[State 2000, 4]
type = AfterImage
trigger1 = animelem = 1
time = 65
trans = add1
timegap = 2
framegap = 4
length = 15
palbright = 12,12,12
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 0,0,5
palmul = 1,1,1

[State 3000, 2]
type = VelSet
trigger1 = Animelem = 5
trigger2 = Animelem = 6
trigger3 = Animelem = 7
trigger4 = Animelem = 8
trigger5 = Animelem = 9
trigger6 = Animelem = 10
trigger7 = Animelem = 11
trigger8 = Animelem = 12
x = 7

[State 1056, 1]
type = hitDef
trigger1 = time = 0
attr = A, SP
animtype  = Hard
damage    = 120, 10
getpower = 50, 20
givepower = 40, 20
guardflag = MA
pausetime = 10,10
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -40
hitsound = s600, 3
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1
envshake.time = 20
envshake.ampl = -14
envshake.freq = 180
envshake.phase = 10

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000, 5

[STate 1056]
type=ChangeState
trigger1 = MoveContact
trigger2 = Time >= 70
trigger3 = frontedgebodydist < -50
value = 1058

;---------------------------------------------------------------------------
;귀신발사-강
[Statedef 1057]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1030
ctrl = 0
sprpriority = 3

[State 2000, 4]
type = AfterImage
trigger1 = animelem = 1
time = 150
trans = add1
timegap = 2
framegap = 4
length = 20
palbright = 12,12,12
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[STate 1056, hitby]
type = HitBy
trigger1 = 1
value = SAC,NP,SP,HP

[STate 1056, hitoverride]
type = HitOverRide
trigger1 = 1
attr = SAC,NP,SP,HP
stateno = 1059

[State 3000, 2]
type = Velset
trigger1 = 1
x = 2.7

[State 3000, 2]
type = VelSet
trigger1 = Animelem = 5
trigger2 = Animelem = 17
y = -1
[State 3000, 2]
type = VelSet
trigger1 = Animelem = 6
trigger2 = Animelem = 7
trigger3 = Animelem = 18
trigger4 = Animelem = 19
y = -3
[State 3000, 2]
type = VelSet
trigger1 = Animelem = 8
trigger2 = Animelem = 9
trigger3 = Animelem = 10
trigger4 = Animelem = 20
trigger5 = Animelem = 21
trigger6 = Animelem = 22
y = -8
[State 3000, 2]
type = VelSet
trigger1 = Animelem = 11
trigger2 = Animelem = 23
y = 1
[State 3000, 2]
type = VelSet
trigger1 = Animelem = 12
trigger2 = Animelem = 13
trigger3 = Animelem = 24
trigger4 = Animelem = 25
y = 3
[State 3000, 2]
type = VelSet
trigger1 = Animelem = 14
trigger2 = Animelem = 15
trigger3 = Animelem = 16
trigger4 = Animelem = 26
trigger5 = Animelem = 27
trigger6 = Animelem = 28
y = 7

[State 1056, 1]
type = hitDef
trigger1 = Animelem = 5
trigger2 = Animelem = 6
trigger3 = Animelem = 11
trigger4 = Animelem = 12
trigger5 = Animelem = 17
trigger6 = Animelem = 18
trigger7 = Animelem = 23
trigger8 = Animelem = 24
attr = A, SP
animtype  = Hard
damage    = 20, 5
getpower = 20, 10
givepower = 20, 10
guardflag = MA
pausetime = 10,10
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -40
hitsound = s500, 0
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -8,-3

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000, 7

[STate 1056]
type=ChangeState
trigger1 = Time >= 150
trigger2 = frontedgebodydist < -50
value = 1058

;---------------------------------------------------------------------------
;귀신 사라지기
[Statedef 1058]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1040
ctrl = 0
sprpriority = 3

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000, 6

[STate 1058]
type=DestroySelf
trigger1=animtime=0

;---------------------------------------------------------------------------
;귀신 박살
[Statedef 1059]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1050
ctrl = 0
sprpriority = 3

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000, 2

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1000, 3

[STate 1059]
type=DestroySelf
trigger1=animtime=0


;---------------------------------------------------------------------------
;귀신-EX
[Statedef 1020]
type = S
movetype = A
physics = S
anim = 1060
;juggle = 1
ctrl = 0
poweradd = -300

[State 185, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 1020]
type = PalFX
trigger1 = Time%2=0
time = 1
add = 120,100,40
ignorehitpause = 1

[State 1100] ;장풍
type = Projectile
trigger1 = AnimElem = 6
projanim = 1031 ;장풍모션
projhitanim = 1050 ;명중 모션
projID = 1000
projhits = 9
offset = 0, 0
velocity = 6, 0
attr = S, SP
damage = 7, 3
givepower = 20, 10
animtype = H
guardflag = MA
hitflag = MA
guard.pausetime = 0, 15
pausetime = 10, 20
sparkno = S6040
guard.sparkno = S6020
sparkxy = 10, -30
hitsound = s500, 1
guardsound = s400, 1
ground.type = Low
ground.slidetime = 16
ground.hittime = 18
guard.ctrltime = 20  
ground.velocity = -10
air.velocity = -4.6, -5
air.fall = 1
getpower = 0, 0
givepower = 40, 20

[State 2000, 4]
type = AfterImage
trigger1 = animelem = 1
time = 20
trans = add1
timegap = 2
framegap = 4
length = 8
palbright = 12,12,12
palcontrast = 100,100,100
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1


[State 1100] ;손에서 샥
type = Explod
trigger1 = AnimElem = 1
anim = 1015
pos = 0, 0
postype = p1
sprpriority = 3
bindtime = 10
ownpal = 1

[State 1100]
type = Explod
trigger1 = AnimElem = 3
anim = 1095
pos = 0, 0
postype = p1
sprpriority = 3
bindtime = 10
ownpal = 1

[State 1100]
type = PlaySnd
trigger1 = Time = 0
value = 1000, 0

[State 1100]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1000, 1


[State 1100]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;귀신-캔슬
[Statedef 1030]
type = S
movetype = A
physics = S
anim = 1060
juggle = 1
ctrl = 0
poweradd = 120

[State 1200] ;장풍
type = Projectile
trigger1 = AnimElem = 6
projanim = 1020 ;장풍모션
projhitanim = 1050 ;명중 모션
projID = 1000
offset = 0, 0
velocity = 6, 0
attr = S, SP
damage = 80, 5
getpower = 30, 15
givepower = 20, 10
animtype = H
guardflag = MA
hitflag = MA
guard.pausetime = 0, 15
pausetime = 0, 10
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -40
hitsound = s1000, 3
guardsound = s1000, 3
ground.type = Low
ground.slidetime = 16
ground.hittime = 18
guard.ctrltime = 20  
ground.velocity = -10
air.velocity = -4.6, -5
air.fall = 1
getpower = 50, 20
givepower = 40, 20

[State 1200] ;손에서 샥
type = Explod
trigger1 = AnimElem = 1
anim = 1015
pos = 0, 0
postype = p1
sprpriority = 3
bindtime = 10
ownpal = 1

[State 1200]
type = Explod
trigger1 = AnimElem = 3
anim = 1095
pos = 0, 0
postype = p1
sprpriority = 3
bindtime = 10
ownpal = 1

[State 1200]
type = PlaySnd
trigger1 = Time = 0
value = 1000, 1

[State 1200]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000, 4

[State 1200]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0
;---------------------------------------------------------------------------
;손바닥-약
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 110
velset = 0,0
anim = 1100
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 1
value = 1100, 0

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 12

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 7

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 3

[State 1400, 5] 
type = HitDef
trigger1 = Time = 0
trigger1 = p2bodydist X < 1
trigger1 = EnemyNear,Movetype = A
attr = S, SA
animtype  = Hard
damage    = 100, 5
getpower = 40, 20
givepower = 20, 10
guardflag = MA
pausetime = 10,10
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 80
ground.hittime  = 80
ground.velocity = -5
air.velocity = -5,-3
air.fall = 1
envshake.time = 30
envshake.ampl = -15
envshake.freq = 120
envshake.phase = 18

[State 1400, 5] 
type = HitDef
trigger1 = Time = 0
trigger1 = p2bodydist X < 1
trigger1 = EnemyNear,Movetype != A
attr = S, SA
animtype  = Hard
damage    = 110, 5
getpower = 40, 20
givepower = 20, 10
guardflag = MA
pausetime = 12,12
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10

[State 1400, 6] 
type = HitDef
trigger1 = Time = 0
trigger1 = p2bodydist X >= 1
trigger1 = EnemyNear,Movetype != A
attr = S, SA
animtype  = Hard
damage    = 90, 5
getpower = 30, 15
givepower = 20, 10
guardflag = MA
pausetime = 10,15
sparkno = S6060
guard.sparkno = S6020
sparkxy = -15,-60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -4,-2.5
envshake.time = 20
envshake.ampl = -4
envshake.freq = 50
envshake.phase = 10

[State 1600]
type = Explod
trigger1 = AnimElem = 5
anim = 1115
pos = 0, 0
postype = p1
sprpriority = 2

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;손바닥-강
[Statedef 1110]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 120
velset = 0,0
anim = 1100
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 1
value = 1100, 0

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 2


[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 15

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 10

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 6

[State 1400, 5] 
type = HitDef
trigger1 = Time = 0
trigger1 = p2bodydist X < 1
trigger1 = EnemyNear,Movetype = A
attr = S, SA
animtype  = Hard
damage    = 110, 5
getpower = 40, 20
givepower = 20, 10
guardflag = MA
pausetime = 10,10
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 80
ground.hittime  = 80
ground.velocity = -5
air.velocity = -5,-3
air.fall = 1
envshake.time = 30
envshake.ampl = -15
envshake.freq = 120
envshake.phase = 18

[State 1400, 5] 
type = HitDef
trigger1 = Time = 0
trigger1 = p2bodydist X < 1
trigger1 = EnemyNear,Movetype != A
attr = S, SA
animtype  = Hard
damage    = 130, 5
getpower = 40, 20
givepower = 20, 10
guardflag = MA
pausetime = 12,12
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10

[State 1400, 6] 
type = HitDef
trigger1 = Time = 0
trigger1 = p2bodydist X >= 1
trigger1 = EnemyNear,Movetype != A
attr = S, SA
animtype  = Hard
damage    = 110, 5
getpower = 30, 15
givepower = 20, 10
guardflag = MA
pausetime = 10,15
sparkno = S6060
guard.sparkno = S6020
sparkxy = -15,-60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -4,-2.5
envshake.time = 20
envshake.ampl = -4
envshake.freq = 50
envshake.phase = 10

[State 1600]
type = Explod
trigger1 = AnimElem = 5
anim = 1115
pos = 0, 0
postype = p1
sprpriority = 2

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;손바닥-EX
[Statedef 1120]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 1120
ctrl = 0
sprpriority = 2
poweradd = -300

[State 185, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 1120]
type = PalFX
trigger1 = Time%2=0
time = 1
add = 120,100,40
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 1
value = 1100, 0

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 5


[State 1120]
type = velset
trigger1 = AnimElem = 3
x = 32

[State 1120]
type = velset
trigger1 = AnimElem = 4
x = 17

[State 1120]
type = velset
trigger1 = AnimElem = 5
x = 11

[State 1400, 5] 
type = HitDef
trigger1 = Time = 0
trigger1 = EnemyNear,Movetype = A
attr = S, SA
animtype  = Hard
damage    = 100, 5
givepower = 20, 10
guardflag = MA
pausetime = 10,10
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 80
ground.hittime  = 80
ground.velocity = -5
air.velocity = -5,-3
air.fall = 1
envshake.time = 30
envshake.ampl = -15
envshake.freq = 120
envshake.phase = 18

[State 1400, 5] 
type = HitDef
trigger1 = Time = 0
trigger1 = EnemyNear,Movetype != A
attr = S, SA
animtype  = Hard
damage    = 110, 5
givepower = 20, 10
guardflag = MA
pausetime = 10,12
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10


[State 1600]
type = Explod
trigger1 = AnimElem = 4
anim = 1125
pos = 0, 0
postype = p1
sprpriority = 2

[State 1120]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;쿵후니-약
[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 110
velset = 0,0
anim = 1200
ctrl = 0
sprpriority = 2

[State 185, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 1050, 2]
type = null
trigger1 = AnimElem = 2
x = 15

[State 1050, 3]
type = PosAdd
trigger1 = AnimElem = 4
x = 20

[State 1050, 4]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Medium
damage    = 90, 5
getpower = 30, 15
givepower = 20, 10
priority  = 5
guardflag = MA
pausetime = 12,12
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.5,-7
guard.velocity = -7
air.velocity = -3.5,-7
fall = 1

[State 1050, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1201
;---------------------------------------------------------------------------
[Statedef 1201]
type    = A
movetype= A
physics = N
velset = 2,-6
anim = 1201
hitdefpersist = 1

[State 1051, 1] 
type = VelAdd
trigger1 = 1
y = .45

[State 1051, 2]
type = ChangeState
trigger1 = Command = "a" || Command = "b"
trigger1 = Vel y < -1
value = 1205

[State 1051, 3] ;Change state when KFM is close to ground
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1202
;---------------------------------------------------------------------------
;착지
[Statedef 1202]
type    = S
movetype= I
physics = S
anim = 1202
sprpriority = 1
velset = 0,0

[State 1052, 1] ;Reset y-position to ground level
type = PosSet
trigger1 = Time = 0
y = 0

[State 1052, 2] ;Play a sound for landing
type = PlaySnd
trigger1 = Time = 0
value = 100, 1

[State 1052, 3] ;Give KFM back control early
type = CtrlSet
trigger1 = AnimElem = 3, -1
value = 1

[State 1052, 4] 
type = PosAdd
trigger1 = AnimElem = 4
x = -15

[State 1052, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;2단차기
[Statedef 1205]
type    = A
movetype= A
physics = N
anim = 1205

[State 1050, 1]
type = PlaySnd
trigger1 = Time = 0
value = 300, 1

[State 1055, 3]
type = PosAdd
trigger1 = Time = 0
x = 10
y = -10

[State 1055, 4] 
type = VelAdd
trigger1 = 1
y = .45

[State 1055, 5]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Med
damage    = 35 + (prevstateno = 1211)*5, 5
getpower = 20, 10
givepower = 10, 5
priority  = 4
guardflag = MA
pausetime = 12,12
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 16
ground.velocity = -6
guard.velocity = -8
guard.ctrltime = 12
air.velocity = -4,-5
airguard.velocity = -4,-4.5
air.fall = 1

[State 1055, 6] ;Change state when KFM is close to ground
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -5
value = 1202
;---------------------------------------------------------------------------
;쿵후니-강
[Statedef 1210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 120
velset = 0,0
anim = 1210
ctrl = 0
sprpriority = 2

[State 185, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 1050, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 2

[State 1060, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 6

[State 1060, 3]
type = PosAdd
trigger1 = AnimElem = 4
x = 21

[State 1060, 4]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Medium
damage    = 30, 5
getpower = 30, 15
givepower = 20, 10
priority  = 5
guardflag = MA
pausetime = 12,12
sparkno = S6070
guard.sparkno = S6020
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.5,-7.5
guard.velocity = -7
air.velocity = -3.5,-7.5
fall = 1

[State 1060, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1211

;쿵후니-점프
[Statedef 1211]
type    = A
movetype= A
physics = N
velset = 2.2,-9.5
anim = 1211
hitdefpersist = 1 ;Keep the HitDef from previous state active

[State 1061, 1]
type = VelAdd
trigger1 = 1
y = .45

[State 1060, 4]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Medium
damage    = 100, 5
getpower = 10, 5
givepower = 10, 5
priority  = 5
guardflag = MA
pausetime = 12,12
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.5,-7.5
guard.velocity = -7
air.velocity = -3.5,-7.5
fall = 1

[State 1061, 2]
type = ChangeState
trigger1 = Command = "a" || Command = "b"
trigger1 = Vel y < -1
value = 1205

[State 1061, 3]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1202

;---------------------------------------------------------------------------
;쿵후니-EX
[Statedef 1220]
type    = S
movetype= A
physics = S
;juggle  = 6
poweradd= -300
velset = 0,0
anim = 1220
ctrl = 0
sprpriority = 2

[State 185, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 1070, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1070, Afterimage]
type = AfterImageTime
trigger1 = 1
time = 2

[State 1070, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 1050, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 2

[State 1070, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 6

[State 1070, 3]
type = PosAdd
trigger1 = AnimElem = 4
x = 21

[State 1070, 4]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Medium
getpower  = 0
damage    = 40, 5
givepower = 20, 10
priority  = 7
hitflag   = MA
guardflag = MA
pausetime = 8,7
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-6
guard.velocity = -7
air.velocity = -2,-6
fall = 1
fall.animtype = Med
fall.recovertime = 30

[State 1070, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1221

;------------------
;2단차기
[Statedef 1221]
type    = A
movetype= A
physics = N
velset = 2.5,-11
anim = 1221

[State 1071, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 18
add = 32,16,0
sinadd = 64,32,5,3

[State 1071, Afterimage]
type = AfterImageTime
trigger1 = Vel Y < 0
time = 2

[State 1071, 1]
type = VelAdd
trigger1 = 1
y = .5

[State 1071, 2]
type = VelAdd
trigger1 = Vel Y >= -1
y = .2



[State 1071, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Medium
getpower  = 0
givepower = 10, 5
damage    = 110, 5
priority  = 5
guardflag = MA
pausetime = 12,12
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3,-9.5
guard.velocity = -7
air.velocity = -3,-9.5
fall = 1
fall.recovertime = 30

[State 1071, 4]
type = ChangeState
trigger1 = Command = "a" || Command = "b"
trigger1 = Vel y < -1
trigger1 = Time > 0
value = 1225

[State 1071, 5]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1202

;------------------
[Statedef 1225]
type    = A
movetype= A
physics = N
anim = 1225

[State 1075, Afterimage]
type = AfterImageTime
trigger1 = 1
time = 2

[State 1075, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 1050, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 300, 1

[State 1050, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 300, 1

[State 1075, 3]
type = PosAdd
trigger1 = Time = 0
x = 10
y = -10

[State 1075, 4] ;Gravity
type = VelAdd
trigger1 = 1
y = .45

[State 1075, 5]
type = VelAdd
trigger1 = Vel Y >= -1
y = .2

[State 1075, 6]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
animtype  = Med
damage    = 35 + (prevstateno = 1211)*5, 5
getpower  = 0
givepower = 10, 5
priority  = 4
guardflag = MA
pausetime = 12,12
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = -6
guard.velocity = -6
air.velocity = -4,-6
airguard.velocity = -4,-4.5
air.fall = 1

[State 640, 3]
type = HitDef
trigger1 = AnimElem >= 6
attr = A, NA
damage    = 20, 5
givepower = 10, 5
guardflag = HA
priority = 1
pausetime = 0,0
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
animtype = Med
ground.type = Trip
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5,5
air.velocity = -3,40
fall.animtype = Hard
fall = 1
fall.recover = 0
envshake.time = 30
envshake.ampl = -15
envshake.freq = 120
envshake.phase = 20


[State 1075, 7] ;Change state when KFM is close to ground
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -5
value = 1202

;---------------------------------------------------------------------------
;쿵후블로-약
[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 110
velset = 0,0
anim = 1300
ctrl = 0
sprpriority = 2

[State 1200, Width 1]
type = Width
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
value = 10,0

[State 1200, Width 2]
type = Width
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(9) < 0
value = 20,0

[State 2500]
type = ReversalDef
trigger1 = Time = 0
Reversal.attr = SCA, NA, SA
ID = 1300
pausetime = 10, 10
hitcount = 0
numhits = 0
priority = 5, Miss
sparkno = S6000
sparkxy = 16, -5
hitsound = S600, 0
sprpriority = -2
p1stateno = 1330
p2facing = 1

[State 770, PalFX]
type = PalFX
trigger1 = MoveContact = 1
time = 5
add = 190,190,228
mul = 190,190,228
sinadd = 190,190,228,-100

[State 1200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1301
ctrl = 1

;---------------------------------------------------------------------------
;쿵후블로-약1
[Statedef 1301]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 1301
ctrl = 0
sprpriority = 2

[State 1200, Shake Screen]
type = EnvShake
trigger1 = AnimElem = 2
time = 4     ;Time to shake screen
ampl = 2     ;Amount to shake
freq = 180   ;A frequency of 180 shakes the screen rapidly

[State 1200, 2]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 100, 5
getpower = 30, 15
givepower = 20, 10
priority  = 5
guardflag = MA
pausetime = 12,12
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 16
ground.hittime  = 18
ground.velocity = -10
ground.cornerpush.veloff = -12 ;To push far away when p2 is in corner
guard.velocity = -7
air.velocity = -3.5,-4.5
airguard.velocity = -3.5,-4.5

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = 1115
pos = 12, 3
postype = p1
sprpriority = 4
facing = -1

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = 6160
pos = 14, 0
postype = p1
sprpriority = -2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1

[State 1200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;쿵후블로-강
[Statedef 1310]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 120
velset = 0,0
anim = 1310
ctrl = 0
sprpriority = 2

[State 1210, Width 1]
type = Width
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
value = 10,0

[State 1210, Width 2]
type = Width
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(9) < 0
value = 20,0

[State 2500]
type = ReversalDef
trigger1 = Time = 0
Reversal.attr = SCA, NA, SA
ID = 2500
pausetime = 10, 10
hitcount = 0
numhits = 0
priority = 5, Miss
sparkno = S6000
sparkxy = 16, -5
hitsound = S600, 0
sprpriority = -2
p1stateno = 1330
p2facing = 1

[State 1210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1311
ctrl = 1

;---------------------------------------------------------------------------
;쿵후블로-강1
[Statedef 1311]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 1311
ctrl = 0
sprpriority = 2

[State 1210, Shake Screen]
type = EnvShake
trigger1 = AnimElem = 2
time = 8
ampl = 2
freq = 170   ;A frequency of less than 180 causes a dampening effect

[State 1210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 120, 8
getpower = 30, 15
givepower = 20, 10
priority  = 5
guardflag = MA
pausetime = 12,12
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = -10
ground.cornerpush.veloff = -15 ;To push far away when p2 is in corner
guard.velocity = -8
air.velocity = -4,-4.5
airguard.velocity = -4,-4.5

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = 1115
pos = 12, 3
postype = p1
sprpriority = 4
facing = -1

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = 6161
pos = 14, 0
postype = p1
sprpriority = -2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 2

[State 1210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;쿵후블로-EX
[Statedef 1320]
type    = S
movetype= A
physics = S
;juggle  = 6
poweradd= -300
velset = 0,0
anim = 1320
ctrl = 0
sprpriority = 2

[State 185, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 1220, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1220, Afterimage]
type = AfterImageTime
trigger1 = AnimTime < -2
time = 2

[State 1220, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 1220, Width 1]
type = Width
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
value = 10,0

[State 1220, Width 2]
type = Width
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(9) < 0
value = 20,0

[State 2500]
type = ReversalDef
trigger1 = Time = 0
Reversal.attr = SCA, NA, SA
ID = 2500
pausetime = 10, 10
hitcount = 0
numhits = 0
priority = 5, Miss
sparkno = S6000
sparkxy = 16, -5
hitsound = S600, 0
sprpriority = -2
p1stateno = 1330
p2facing = 1

[State 1220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1321
ctrl = 1

;---------------------------------------------------------------------------
;쿵후블로-EX1
[Statedef 1321]
type    = S
movetype= A
physics = S
juggle  = 6
velset = 0,0
anim = 1321
ctrl = 0
sprpriority = 2

[State 1220, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1220, Afterimage]
type = AfterImageTime
trigger1 = AnimTime < -2
time = 2

[State 1220, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 1220, Shake Screen]
type = EnvShake
trigger1 = AnimElem = 2
time = 8
ampl = 3
freq = 170

[State 1220, 2]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 130, 8
getpower  = 0
givepower = 20, 10
priority  = 5
guardflag = MA
pausetime = 15,15
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -15
ground.cornerpush.veloff = -20 
guard.velocity = -9
air.velocity = -5,-5
airguard.velocity = -5,-5
air.fall = 1
fall.animtype = Hard         
yaccel = .4   

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = 1115
pos = 12, 3
postype = p1
sprpriority = 4
facing = -1

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = 6161
pos = 14, 0
postype = p1
sprpriority = -2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 2         

[State 1220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;쿵후블로-반격
[Statedef 1330]
type    = S
movetype= A
physics = S
juggle  = 6
velset = 0,0
anim = 1330
ctrl = 0
sprpriority = 2

[State 1220, Shake Screen]
type = EnvShake
trigger1 = AnimElem = 6
time = 8
ampl = 3
freq = 170

[State 300]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 110, 5
getpower = 0, 0
givepower = 20, 10
guardflag = MA
pausetime = 0,5
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -60
hitsound = s1500, 0
guardsound = s400, 1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
guard.velocity = -5
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
p2stateno = 700
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = 6150
pos = 14, 0
postype = p1
sprpriority = 1

[State 1600]
type = Explod
trigger1 = AnimElem = 2
anim = 6155
pos = 14, 0
postype = p1
sprpriority = 5



[State 1220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;뱀술사
[Statedef 1400]
type    = S
movetype= A
physics = S
poweradd = 100
ctrl = 0
anim = 1400
velset = 0,0
facep2 = 1

[State 1000, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0 && prevstateno != 1150
var(50) = 15

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(17) = 0

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0 && command = "hold_x"
fvar(17) = 1

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0 && command = "hold_y"
fvar(17) = 2

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(6) = 0

[State 1000, VarSet]
type = VarSet
triggerall = var(6) = 0
trigger1 = command = "a" || command = "b" 
var(6) = 1

[State 1000, ChangeState]
type = ChangeState
trigger1 = Var(6) = 1 && Animelemtime(2) >= 0
value = 1410
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = fvar(17) = 1
trigger1 = command != "hold_x" && Animelemtime(2) >= 0
value = 1420
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = fvar(17) = 2
trigger1 = command != "hold_y" && Animelemtime(2) >= 0
value = 1430
ctrl = 0



[State 1000 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1010
ctrl = 0

;---------------------------------------------------------------------------
;뱀 속이기
[Statedef 1410]
type    = S
movetype= I
physics = S
poweradd = 20
ctrl = 0
anim = 1410
velset = 0,0

[State 1420, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 194,1

[state 1010, stopsound]
type = stopsnd
trigger1 = 1
channel = 4

[State 1010 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;뱀술사 중단
[Statedef 1420]
type    = S
movetype= A
physics = S
poweradd = 10
ctrl = 0
anim = 1420
velset = 0,0

[State 1420, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[state 1420, stopsound]
type = stopsnd
trigger1 = 1
channel = 4

[State 1420, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1400,0

[State 1420, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 1020, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 1010, 7] 
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype  = Hard
damage    = 40, 3
getpower = 20, 10
givepower = 15, 10
priority  = 1
guardflag = MA
pausetime = 15,15
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -65
hitsound = s600, 3
guardsound = s400, 1
guardsound = S4,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -4,-2.5

[State 1020, 2]
type = HitDef
trigger1 = AnimElem = 2
trigger1 = p2bodydist X < 40
attr = S, SA
animtype  = Hard
damage    = 70, 4
getpower = 20, 10
givepower = 15, 10
priority  = 1
guardflag = MA
pausetime = 20,20
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -65
hitsound = s600, 3
guardsound = s400, 1
ground.type = H;Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1
envshake.time = 20
envshake.ampl = -14
envshake.freq = 180
envshake.phase = 10

[State 1010, 7] 
type = HitDef
trigger1 = AnimElem = 2;time = 0
trigger1 = p2bodydist X >= 40
attr = S, SA
animtype  = Hard
damage    = 80, 4
getpower = 20, 10
givepower = 15, 10
priority  = 1
guardflag = MA
pausetime = 15,15
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -65
hitsound = s600, 3
guardsound = s400, 1
ground.type = H;Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -4,-2.5


[State 1020 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;뱀술사 상단
[Statedef 1430]
type    = S
movetype= A
physics = S
poweradd = 10
ctrl = 0
anim = 1430
velset = 0,0

[State 1030, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[state 1030, stopsound]
type = stopsnd
trigger1 = 1
channel = 4

[State 1420, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1400,0

[State 1030, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype  = Hard
damage    = 40, 3
getpower = 20, 10
givepower = 15, 10
priority  = 1
hitflag = MF
guardflag = MA
pausetime = 15,15
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -65
hitsound = s600, 3
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -4,-2.5

[State 1030, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = Hard
damage    = 70, 4
getpower = 20, 10
givepower = 15, 10
priority  = 5
guardflag = MA
pausetime = 15,15
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -65
hitsound = s600, 3
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -4,-7
fall.animtype = Hard
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = -14
envshake.freq = 180
envshake.phase = 10


[State 1030 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
;뱀술사-EX
[Statedef 1440]
type    = S
movetype= A
physics = S
poweradd = -300
ctrl = 0
anim = 1440
velset = 0,0

[State 185, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 1020]
type = PalFX
trigger1 = Time%2=0
time = 1
add = 120,100,40
ignorehitpause = 1


[State 1420, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1400,0


[State 1010, 7] 
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype  = Hard
damage    = 30, 4
givepower = 15, 10
priority  = 1
guardflag = MA
pausetime = 15,15
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -65
hitsound = s600, 3
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -4,-2.5

[State 1010, 7] 
type = HitDef
trigger1 = AnimElem >= 6;time = 0
attr = S, SA
animtype  = Hard
damage    = 30, 4
givepower = 15, 10
priority  = 1
guardflag = MA
pausetime = 15,15
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -65
hitsound = s600, 3
guardsound = s400, 1
ground.type = H
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -4,-2.5

[State 3100, 5]
type = HitDef
trigger1 = AnimElem <= 7
attr = S, HA
animtype  = Hard
damage    = 30,4
getpower  = 0
givepower = 15, 10
guardflag = MA
pausetime = 20,20
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -65
hitsound = s600, 3
guardsound = s400, 1
ground.type = H
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 6,-5.5
air.velocity = -10,-3
fall = 1
fall.animtype = Hard
fall.recover = 0
envshake.time = 20
envshake.ampl = -14
envshake.freq = 180
envshake.phase = 10

[State 1020 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;어퍼-약
[Statedef 1500]
type    = S
movetype= A
physics = S
juggle  = 30
poweradd= 110
velset = 0,0
anim = 1500
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 300, 2

[State 1039, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 60, 5
getpower = 30, 15
givepower = 20, 10
guardflag = MA
pausetime = 0,7
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -65
hitsound = s1500, 0
guardsound = s400, 1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-8
guard.velocity = -7
air.velocity = 0,-8
airguard.velocity = 0, -4
fall = 1
p2stateno = 2110
envshake.time = 18
envshake.ampl = -5
envshake.freq = 80
envshake.phase = 10

[State 1600]
type = Explod
trigger1 = AnimElem = 4
anim = 1125
pos = -20, 0
postype = p1
sprpriority = 2
facing = -1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;어퍼-강
[Statedef 1510]
type    = S
movetype= A
physics = S
juggle  = 30
poweradd= 120
velset = 0,0
anim = 1510
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 300, 2

[State 1039, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 80, 5
getpower = 30, 15
givepower = 20, 10
guardflag = MA
pausetime = 0,7
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -65
hitsound = s1500, 0
guardsound = s400, 1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-8
guard.velocity = -7
air.velocity = 0,-8
airguard.velocity = 0, -4
fall = 1
p2stateno = 2110
envshake.time = 18
envshake.ampl = -5
envshake.freq = 80
envshake.phase = 10

[State 1600]
type = Explod
trigger1 = AnimElem = 4
anim = 1125
pos = -20, 0
postype = p1
sprpriority = 2
facing = -1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;어퍼-EX
[Statedef 1520]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 1520
juggle  = 20
ctrl = 0
sprpriority = 2
poweradd = -300

[State 185, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 1120]
type = PalFX
trigger1 = Time%2=0
time = 1
add = 120,100,40
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1800, 1

[State 1039, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 60, 7
givepower = 20, 10
guardflag = MA
pausetime = 0,7
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -65
hitsound = s1500, 0
guardsound = s400, 1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-8
guard.velocity = -7
air.velocity = 0,-8
airguard.velocity = 0, -4
fall = 1
p2stateno = 2110
envshake.time = 18
envshake.ampl = -5
envshake.freq = 80
envshake.phase = 10

[State 1600]
type = Explod
trigger1 = AnimElem = 4
anim = 1125
pos = -20, 0
postype = p1
sprpriority = 2
facing = -1

[State 1120]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;돌격-약
[Statedef 1600]
type    = S
movetype= A
physics = S
poweradd= 110
velset = 0,0
anim = 1600
juggle  = 35
ctrl = 0
sprpriority = 2

[State 1033, voice]
type = PlaySnd
trigger1 = animelem = 2
value = 1600, 0

[State 1033, voice]
type = PlaySnd
trigger1 = animelem = 3
value = 300, 1


[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
x = 8

[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 5
x = 13

[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 6
x = 5

[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 7
x = 2

[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 1600]
type = Explod
trigger1 = AnimElem = 3
anim = 1125
pos = -20, 0
postype = p1
sprpriority = 3
bindtime = -1


[State 1033, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 110, 6
getpower = 30, 15
givepower = 20, 10
guardflag = MA
pausetime = 0,7
sparkno = S6070
guard.sparkno = S6020
sparkxy = -30, -65
hitsound = s1500, 0
guardsound = s400, 1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
guard.velocity = -7
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
p2stateno = 700
envshake.time = 18
envshake.ampl = -5
envshake.freq = 80
envshake.phase = 10

[State 1033, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;돌격-강
[Statedef 1610]
type    = S
movetype= A
physics = S
poweradd= 120
velset = 0,0
anim = 1610
juggle  = 35
ctrl = 0
sprpriority = 2

[State 1033, voice]
type = PlaySnd
trigger1 = animelem = 3
value = 1600, 0

[State 1033, voice]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 2

[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
trigger4 = AnimElem = 7
x = 15
[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
x = 8
[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 10
x = 3
[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 11
x = 0

[State 1600]
type = Explod
trigger1 = AnimElem = 6
anim = 6130
pos = -20, 0
postype = p1
sprpriority = 3
bindtime = -1

[State 1033, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 120, 8
getpower = 30, 15
givepower = 20, 10
guardflag = MA
pausetime = 0,7
sparkno = S6070
guard.sparkno = S6020
sparkxy = -30, -65
hitsound = s1500, 0
guardsound = s400, 1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
guard.velocity = -7
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
p2stateno = 700
envshake.time = 18
envshake.ampl = -5
envshake.freq = 80
envshake.phase = 10

[State 1033, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;돌격-EX
[Statedef 1620]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 1620
juggle  = 20
ctrl = 0
sprpriority = 2
poweradd = -300

[State 185, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 1120]
type = PalFX
trigger1 = Time%2=0
time = 1
add = 120,100,40
ignorehitpause = 1

[State 1033, voice]
type = PlaySnd
trigger1 = animelem = 3
value = 1600, 0

[State 1033, voice]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 2

[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
trigger4 = AnimElem = 7
x = 15
[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
x = 8
[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 10
x = 3
[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 11
x = 0

[State 1600]
type = Explod
trigger1 = AnimElem = 5
anim = 6130
pos = -20, 0
postype = p1
sprpriority = 3
bindtime = -1

[State 1033, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1033, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(8) < 0
time = 2

[State 1033, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 100, 10
givepower = 20, 10
guardflag = MA
pausetime = 0,7
sparkno = S6070
guard.sparkno = S6020
sparkxy = -30, -65
hitsound = s1500, 0
guardsound = s400, 1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
guard.velocity = -7
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
p2stateno = 700
envshake.time = 18
envshake.ampl = -5
envshake.freq = 80
envshake.phase = 10

;슈퍼아머부분

[State SA1]
type = LifeAdd
trigger1 = NumHelper(7010) = 1
time = 1
value = -floor(fvar(39)/1.5)

[State SA2]
type = varset
trigger1 = !time
var(39) = 0

[state SA3]
type = HitBy
trigger1 = AnimElem = 12,<0
value = SCA, AT

[State SA4];반짝이
type = Helper
trigger1 = AnimElem = 12,<0
trigger1 = numhelper(7000) = 0
helpertype = Normal
name = "SA"
id = 7000
postype = back
pos = 0,0
stateno = 7000
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1

[State SA5]
type = varset
trigger1 = AnimElem = 12
var(39) = 1

[State 1033, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3단차기-약1
[Statedef 1700]
type    = C
movetype= A
physics = S
juggle  = 4
poweradd= 40
velset = 0,0
anim = 1700
ctrl = 0
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1


[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 3

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 2

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 1

[State 210]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = 40,3
animtype = M
getpower = 20, 10
givepower = 20, 10
guardflag = L
hitflag = MAF
pausetime = 18, 12
sparkno = S6060
guard.sparkno = S6020
sparkxy = -10, -10
hitsound = s600, 2
guardsound = s400, 1
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 5
ground.hittime = 15
ground.velocity = -12
air.velocity = -3.5, -2


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3단차기-약2
[Statedef 1701]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 40
velset = 0,0
anim = 1710
ctrl = 0
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1


[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 3

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 1

[State 1400, 5] 
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage = 40,3
getpower = 20, 10
givepower = 20, 10
guardflag = MA
pausetime = 12,12
sparkno = S6060
guard.sparkno = S6020
sparkxy = -30, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-6.5
air.velocity = -4,-3
fall = 1
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3단차기-약3
[Statedef 1702]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
velset = 10,0
anim = 1720
ctrl = 0
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 2

[State 1000, 3]
type = velset
trigger1 = AnimElem = 2
x = 3

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 18

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 10

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 3

[State 1000, 3]
type = velset
trigger1 = AnimElem = 6
x = 1

[State 1400, 5] 
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage = 50,5
getpower = 20, 10
givepower = 20, 10
guardflag = MA
pausetime = 12,12
sparkno = S6070
guard.sparkno = S6020
sparkxy = -10, -90
hitsound = s1500, 0
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3단차기-강1
[Statedef 1710]
type    = C
movetype= A
physics = S
juggle  = 4
poweradd= 45
velset = 0,0
anim = 1700
ctrl = 0
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1


[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 4

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 2

[State 210]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = 45,4
animtype = M
getpower = 20, 10
givepower = 20, 10
guardflag = L
hitflag = MAF
pausetime = 18, 12
sparkno = S6060
guard.sparkno = S6020
sparkxy = -10, -10
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 5
ground.hittime = 15
ground.velocity = -12
air.velocity = -3.5, -2


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3단차기-강2
[Statedef 1711]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 45
velset = 0,0
anim = 1710
ctrl = 0
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1


[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 4

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 2

[State 1400, 5] 
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage = 45,4
getpower = 20, 10
givepower = 20, 10
guardflag = MA
pausetime = 18,12
sparkno = S6060
guard.sparkno = S6020
sparkxy = -30, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-6.5
air.velocity = -4,-3
fall = 1
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3단차기-강3
[Statedef 1712]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 55
velset = 10,0
anim = 1720
ctrl = 0
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 2

[State 1000, 3]
type = velset
trigger1 = AnimElem = 2
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 18

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 10

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 6
x = 2

[State 1400, 5] 
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage = 55,6
getpower = 20, 10
givepower = 20, 10
guardflag = MA
pausetime = 12,12
sparkno = S6070
guard.sparkno = S6020
sparkxy = -10, -90
hitsound = s1500, 0
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;3단차기-ex시작
[Statedef 1720]
type    = C
movetype= A
physics = S
;juggle  = 4
poweradd= -300
velset = 0,0
anim = 1700
ctrl = 0
sprpriority = 2

[State 185, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 1220, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1220, Afterimage]
type = AfterImageTime
trigger1 = AnimTime < -2
time = 2

[State 1220, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 4

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 2

[State 210]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = 30,3
animtype = M
givepower = 20, 10
guardflag = L
hitflag = MAF
pausetime = 18, 12;14, 14
sparkno = S6060
guard.sparkno = S6020
sparkxy = -10, -10
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 5
ground.hittime = 15
ground.velocity = -5
air.velocity = -2,-5

[State 1000, ChangeState]
type = ChangeState
triggerall = stateno = 1720
trigger1 = command = "a" && time >= 7
value = 1721
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = stateno = 1720
trigger1 = command = "b" && time >= 7
value = 1722
ctrl = 0

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3단차기-ex 2단 하
[Statedef 1721]
type    = C
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 1700
ctrl = 0
sprpriority = 2

[State 1220, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1220, Afterimage]
type = AfterImageTime
trigger1 = AnimTime < -2
time = 2

[State 1220, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1


[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 4

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 2

[State 210]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = 30,3
animtype = M
givepower = 20, 10
guardflag = L
hitflag = MAF
pausetime = 18, 12;14, 14
sparkno = S6060
guard.sparkno = S6020
sparkxy = -10, -10
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 5
ground.hittime = 15
ground.velocity = -5
air.velocity = -2,-5

[State 1000, ChangeState]
type = ChangeState
triggerall = stateno = 1721
trigger1 = command = "a" && time >= 7
value = 1723
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = stateno = 1721
trigger1 = command = "b" && time >= 7
value = 1724
ctrl = 0


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3단차기-ex 2단 중
[Statedef 1722]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 1710
ctrl = 0
sprpriority = 2

[State 1220, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1220, Afterimage]
type = AfterImageTime
trigger1 = AnimTime < -2
time = 2

[State 1220, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 4

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 2

[State 1400, 5] 
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage = 30,3
givepower = 20, 10
guardflag = HA
pausetime = 18,12
sparkno = S6060
guard.sparkno = S6020
sparkxy = -30, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-6.5
air.velocity = -2,-5
fall = 1
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10

[State 1000, ChangeState]
type = ChangeState
triggerall = stateno = 1722
trigger1 = command = "a" && time >= 7
value = 1723
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = stateno = 1722
trigger1 = command = "b" && time >= 7
value = 1724
ctrl = 0


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3단차기-ex 3단 하
[Statedef 1723]
type    = C
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 1700
ctrl = 0
sprpriority = 2

[State 1220, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1220, Afterimage]
type = AfterImageTime
trigger1 = AnimTime < -2
time = 2

[State 1220, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 4

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 2

[State 210]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = 30,3
animtype = M
givepower = 20, 10
guardflag = L
hitflag = MAF
pausetime = 18, 12;14, 14
sparkno = S6060
guard.sparkno = S6020
sparkxy = -10, -10
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 5
ground.hittime = 15
ground.velocity = -5
air.velocity = -2,-5

[State 1000, ChangeState]
type = ChangeState
triggerall = stateno = 1723
trigger1 = command = "a" && time >= 7
value = 1725
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = stateno = 1723
trigger1 = command = "b" && time >= 7
value = 1726
ctrl = 0


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3단차기-ex 3단 중
[Statedef 1724]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 1710
ctrl = 0
sprpriority = 2

[State 1220, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1220, Afterimage]
type = AfterImageTime
trigger1 = AnimTime < -2
time = 2

[State 1220, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 4

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 2

[State 1400, 5] 
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage = 30,3
givepower = 20, 10
guardflag = HA
pausetime = 18,12
sparkno = S6060
guard.sparkno = S6020
sparkxy = -30, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-6.5
air.velocity = -2,-5
fall = 1
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10

[State 1000, ChangeState]
type = ChangeState
triggerall = stateno = 1724
trigger1 = command = "a" && time >= 7
value = 1725
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = stateno = 1724
trigger1 = command = "b" && time >= 7
value = 1726
ctrl = 0


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3단차기-ex 4단 하
[Statedef 1725]
type    = C
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 1700
ctrl = 0
sprpriority = 2

[State 1220, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1220, Afterimage]
type = AfterImageTime
trigger1 = AnimTime < -2
time = 2

[State 1220, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 4

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 2

[State 210]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = 30,3
animtype = M
givepower = 20, 10
guardflag = L
hitflag = MAF
pausetime = 18, 12;14, 14
sparkno = S6060
guard.sparkno = S6020
sparkxy = -10, -10
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 5
ground.hittime = 15
ground.velocity = -5
air.velocity = -2,-5

[State 1000, ChangeState]
type = ChangeState
triggerall = stateno = 1725
trigger1 = command = "a" && time >= 7;(command = "a" || command = "b")
value = 1727
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = stateno = 1725
trigger1 = command = "b" && time >= 7
value = 1727
ctrl = 0


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3단차기-ex 4단 중
[Statedef 1726]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 1710
ctrl = 0
sprpriority = 2

[State 1220, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1220, Afterimage]
type = AfterImageTime
trigger1 = AnimTime < -2
time = 2

[State 1220, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 4

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 2

[State 1400, 5] 
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage = 30,3
givepower = 20, 10
guardflag = HA
pausetime = 18,12
sparkno = S6060
guard.sparkno = S6020
sparkxy = -30, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-6.5
air.velocity = -2,-5
fall = 1
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10

[State 1000, ChangeState]
type = ChangeState
triggerall = stateno = 1726
trigger1 = command = "a" && time >= 7
value = 1727
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
triggerall = stateno = 1726
trigger1 = command = "b" && time >= 7
value = 1727
ctrl = 0


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;3단차기-ex 마무리
[Statedef 1727]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 10,0
anim = 1720
ctrl = 0
sprpriority = 2

[State 185, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 1220, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1220, Afterimage]
type = AfterImageTime
trigger1 = AnimTime < -2
time = 2

[State 1220, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 2

[State 1000, 3]
type = velset
trigger1 = AnimElem = 2
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 18

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 10

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 5

[State 1000, 3]
type = velset
trigger1 = AnimElem = 6
x = 2

[State 1400, 5] 
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage = 50,3
givepower = 20, 10
guardflag = MA
pausetime = 12,12
sparkno = S6070
guard.sparkno = S6020
sparkxy = -10, -90
hitsound = s1500, 0
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;-----------------------------------------------------------------------
;블로킹-상단
[Statedef 1900]
type = S
physics = S
movetype = I
anim = 1900
ctrl = 0
velset = 0,0

[State 770, PowerAdd]
type = PowerAdd
trigger1 = !time
value = 50

[state 770, pause]
type = pause
trigger1 = !time
time = 8
movetime = 5
endcmdbuftime = 5
pausebg = 0

[State 770, PalFX]
type = PalFX
trigger1 = Time = 0
time = 6
add = 190,190,228
mul = 190,190,228
sinadd = 190,190,228,-100

[State 770, Explod]
type = Explod
trigger1 = !time
anim = 6165
ID = 6165
pos = 18,-60
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = .5,.5
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 1000, 1]
type = PlaySnd
trigger1 = !time
value = 1900, 0


[State 770, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nowalk

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 8
value = 0
ctrl = 1

;-----------------------------------------------------------------------
;블로킹-하단
[Statedef 1910]
type = C
physics = C
movetype = I
anim = 1910
ctrl = 0
velset = 0,0

[State 770, PowerAdd]
type = PowerAdd
trigger1 = !time
value = 50

[state 770, pause]
type = pause
trigger1 = !time
time = 8
movetime = 5
endcmdbuftime = 5
pausebg = 0

[State 770, PalFX]
type = PalFX
trigger1 = Time = 0
time = 6
add = 190,190,228
mul = 190,190,228
sinadd = 190,190,228,-100

[State 770, Explod]
type = Explod
trigger1 = !time
anim = 6165
ID = 6165
pos = 18,-30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = .5,.5
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 1000, 1]
type = PlaySnd
trigger1 = !time
value = 1900, 0

[State 770, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nowalk

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 8
value = 11
ctrl = 1


;-----------------------------------------------------------------------
;블로킹-공중
[Statedef 1920]
type = A
physics = N
movetype = A
anim = 1920
ctrl = 0
velset = 0,0

[State 770, PowerAdd]
type = PowerAdd
trigger1 = !time
value = 50

[state 770, pause]
type = pause
trigger1 = !time
time = 8
movetime = 5
endcmdbuftime = 5
pausebg = 0

[State 770, PalFX]
type = PalFX
trigger1 = Time = 0
time = 6
add = 190,190,228
mul = 190,190,228
sinadd = 190,190,228,-100

[State 770, Explod]
type = Explod
trigger1 = !time
anim = 6165
ID = 6165
pos = 18,-30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = .5,.5
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 1000, 1]
type = PlaySnd
trigger1 = !time
value = 1900, 0

[State 770, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nowalk

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 8
value = 156
ctrl = 1

;---------------------------------------------------------------------------
;상단 회피
[Statedef 2000]
type = S
movetype = A
physics = S
poweradd = 100
anim = 2000
velset = 0, 0
juggle = 0
ctrl = 0

[State 2000, 4]
type = AfterImage
trigger1 = animelem = 1
time = 20
trans = add1
timegap = 2
framegap = 4
length = 8
palbright = 12,12,12
palcontrast = 100,100,100
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 200, nothitby]
type = NotHitBy
trigger1 = AnimElem = 1
value = A, NA,SA,NT,NP,SP
time = 20

[State 1030, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 2001

;---------------------------------------------------------------------------
;상단 회피 진행
[Statedef 2001]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 2001
ctrl = 0
sprpriority = 2

[State 1031, nothitby]
type = NotHitBy
trigger1 = AnimElem = 1
value = A
time = 10

[State 1031, ChangeState=1032]
type = ChangeState
trigger1 = command = "a"
value = 2010

[State 1031, ChangeState=1039]
type = ChangeState
trigger1 = command = "x"
value = 2100

[State 1031, ChangeState=1033]
type = ChangeState
trigger1 = command = "y"
value = 2300

[State 1031, ChangeState=1034]
type = ChangeState
trigger1 = command = "b"
value = 2200

[State 1031, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;상단 회피 끝
[Statedef 2010]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 2010
ctrl = 0
sprpriority = 2

[State 1032, nothitby]
type = NotHitBy
trigger1 = AnimElem = 1
value = A, NA,SA,NT,NP,SP
time = 10

[State 1032, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;상단 회피-돌격
[Statedef 2300]
type    = S
movetype= A
physics = S
juggle  = 20
velset = 0,0
anim = 2300
poweradd = 20
ctrl = 0
sprpriority = 2

[State 1033, voice]
type = PlaySnd
trigger1 = animelem = 4
value = 1600, 0

[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
x = 10
[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
x = 6
[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 7
x = 3
[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 1033, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1033, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(8) < 0
time = 2

[State 1033, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 85, 6
getpower = 30, 15
givepower = 20, 10
guardflag = MA
pausetime = 0,7
sparkno = S6070
guard.sparkno = S6020
sparkxy = -30, -65
hitsound = s1500, 0
guardsound = s400, 1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
guard.velocity = -7
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
p2stateno = 700
envshake.time = 18
envshake.ampl = -5
envshake.freq = 80
envshake.phase = 10

[State 1600]
type = Explod
trigger1 = AnimElem = 3
anim = 1125
pos = -20, 0
postype = p1
sprpriority = 3

[State 1033, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;상단 회피-쿵후니시전
[Statedef 2200]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 2200
poweradd = 20
ctrl = 0
sprpriority = 2

[State 1034, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 2210

;---------------------------------------------------------------------------
;상단 회피-쿵후니
[Statedef 2210]
type    = A
movetype= A
physics = A
juggle  = 12
velset = 0,0
anim = 2210
ctrl = 0
sprpriority = 2

[State 185, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 15

[State 1050, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 2

[State 2000, 4]
type = AfterImage
trigger1 = animelem = 1
time = 20
trans = add1
timegap = 2
framegap = 4
length = 8
palbright = 12,12,12
palcontrast = 100,100,100
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 1
x = 2
[State 1033, 2]
type = VelSet
trigger1 = AnimElem = 1
y = -9.5

[State 1035, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 70, 5
getpower = 30, 15
givepower = 20, 10
guardflag = MA
pausetime = 3,7
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Trip
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.5,-9
guard.velocity = -1
air.velocity = -4.5,-8
airguard.velocity = -.1, -2

[State 1035, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 2220

;---------------------------------------------------------------------------
;상단 회피-쿵후니 2단차기
[Statedef 2211]
type    = A
movetype= A
physics = A
juggle  = 12
anim = 2211
ctrl = 0
sprpriority = 2

[State 1050, 1]
type = PlaySnd
trigger1 = Time = 0
value = 300, 1

[State 1036, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 35 + (prevstateno = 1211)*5, 5
getpower = 20, 10
givepower = 20, 10
guardflag = MA
pausetime = 20,20
sparkno = S6070
guard.sparkno = S6020
sparkxy = -15,-60
hitsound   = S600,2
guardsound = S400,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-8
guard.velocity = -7
air.velocity = 0,-8
airguard.velocity = 0, -4
fall = 1
fall.recover = 0
envshake.time = 22
envshake.ampl = -8
envshake.freq = 150
envshake.phase = 10

[State 1036, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1038

;---------------------------------------------------------------------------
;쿵후니 진행
[Statedef 2220]
type    = A
movetype= A
physics = A
juggle  = 0
anim = 2220
ctrl = 0
sprpriority = 2

[State 1037, ChangeState=1036]
type = ChangeState
trigger1 = command = "b"
value = 2211

[State 1037, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 2221

;---------------------------------------------------------------------------
[Statedef 2221]
type    = A
physics = A
anim = 2221

[State 1038, 1] ;Gravity
type = VelAdd
trigger1 = 1
y = .3

[State 1038, 3] ;Change state when KFM is close to ground
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -1
value = 101

;---------------------------------------------------------------------------
;상단 회피-어퍼
[Statedef 2100]
type    = S
movetype= A
physics = S
juggle  = 30
poweradd = 20
velset = 0,0
anim = 2100
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 300, 2

[State 1039, 4]
type = AfterImage
trigger1 = animelem = 1
time = 20
trans = add1
timegap = 2
framegap = 4
length = 8
palbright = 12,12,12
palcontrast = 100,100,100
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1600]
type = Explod
trigger1 = AnimElem = 3
anim = 1125
pos = -20, 0
postype = p1
sprpriority = 2
facing = -1

[State 1039, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 60, 5
getpower = 30, 15
givepower = 20, 10
guardflag = MA
pausetime = 0,7
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -65
hitsound = s1500, 0
guardsound = s400, 1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-8
guard.velocity = -7
air.velocity = 0,-8
airguard.velocity = 0, -4
fall = 1
p2stateno = 2110
envshake.time = 18
envshake.ampl = -5
envshake.freq = 80
envshake.phase = 10


[State 1039, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2110]
type    = A
movetype= H
physics = N

[State 1040, Anim] 
type = ChangeAnim2
trigger1 = 1
value = 2110

[State 1040, Pos]
type = Angleadd
trigger1 = 1
value = 30
[State 1040, Pos]
type = AngleDraw
trigger1 = 1

[State 1033, 2]
type = VelSet
trigger1 = time < 1
y = -15.5
[State 1033, 2]
type = VelAdd
trigger1 = time < 1
y = 3.5
[State 1027, Stop moving]
type = PosFreeze
trigger1 = time > 1
x = 1
y = -120

[State 1040, ChangeState]
type = ChangeState
trigger1 = time >= 80
value = 2111

[State 1040, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

[Statedef 2111]
type    = A
movetype= H
physics = N

[State 1041, Anim]
type = ChangeAnim2
trigger1 = time = 0
value = 2111

[State 1041, Gravity]
type = VelAdd
trigger1 = 1
y = .7

[State 1041, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------

;하단 회피
[Statedef 2500]
type = S
movetype = A
physics = S
poweradd = 100
anim = 2500
velset = 0, 0
juggle = 0
ctrl = 0

[State 2000, 4];˙윙몽ㅇㅏㅘㄽㅞc짐
type = AfterImage
trigger1 = animelem = 1
time = 20
trans = add1
timegap = 2
framegap = 4
length = 8
palbright = 12,12,12
palcontrast = 100,100,100
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 200, nothitby]
type = NotHitBy
trigger1 = AnimElem = 1
value = A, NA,SA,NT,NP,SP
time = 20

[State 1030, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 2501


[Statedef 2501]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 2501
ctrl = 0
sprpriority = 2

[State 1031, nothitby]
type = NotHitBy
trigger1 = AnimElem = 1
value = A
time = 10

[State 1031, ChangeState=1032]
type = ChangeState
trigger1 = command = "a"
value = 2510 ;취소

[State 1031, ChangeState=1039]
type = ChangeState
trigger1 = command = "x"
value = 2700 ;쿵후블로

[State 1031, ChangeState=1033]
type = ChangeState
trigger1 = command = "y"
value = 2600 ;상단뱀술사

[State 1031, ChangeState=1034]
type = ChangeState
trigger1 = command = "b"
value = 2800 ;3단차기

[State 1031, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;취소
[Statedef 2510]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 2502
ctrl = 0
sprpriority = 2

[State 1032, nothitby]
type = NotHitBy
trigger1 = time >= 1 && time <= 4
value = A, NA,SA,NT,NP,SP
time = 10

[State 1032, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;쿵후블로
[Statedef 2700]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = 20
velset = 0,0
anim = 2700
ctrl = 0
sprpriority = 2

[State 1094, 1]
type = PlaySnd
trigger1 = Time = 2
value = 300, 2

[State 1210, Shake Screen]
type = EnvShake
trigger1 = AnimElem = 2
time = 8
ampl = 2
freq = 170   ;A frequency of less than 180 causes a dampening effect

[State 1033, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30, 30
PalContrast =  70, 70, 70
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.85
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1033, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(8) < 0
time = 2

[State 240, 3]
type = PosAdd
trigger1 = Time = 5
trigger2 = Time = 6
x = 16

[State 240, 3]
type = PosAdd
trigger1 = Time = 7
x = 18

[State 1000, 5]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 80, 8
getpower = 30, 15
givepower = 20, 10
guardflag = MA
pausetime = 5,5
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 50
ground.hittime  = 50
ground.velocity = -13,0
guard.velocity = -14
air.velocity = -6,-3
envshake.time = 15
envshake.ampl = -7
envshake.freq = 120
envshake.phase = 9
air.fall = 1
fall.recover = 0

[State 1600]
type = Explod
trigger1 = AnimElem = 3
anim = 1125
pos = 40, 0
postype = p1
sprpriority = 2


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;상단뱀술사
[Statedef 2600]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = 20
velset = 0,0
anim = 2600
ctrl = 0
sprpriority = 2

[State 1420, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1400,0

[State 1010, 7] 
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 90, 5
getpower = 30, 15
givepower = 20, 10
priority  = 5
guardflag = MA
pausetime = 15,15
sparkno = S6070
guard.sparkno = S6020
sparkxy = 10, -65
hitsound = s600, 3
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -4,-7
fall.animtype = Hard
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = -14
envshake.freq = 180
envshake.phase = 10

[State 1010, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;3단차기
[Statedef 2800]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd = 10
velset = 0,0
anim = 2800
ctrl = 0
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1

[State 1033, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30, 30
PalContrast =  70, 70, 70
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.85
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1033, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(8) < 0
time = 2

[State 1000, 5]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 60, 4
getpower = 15, 10
givepower = 10, 5
hitflag = MAFD
guardflag = L
pausetime = 0,5
sparkno = S6060
guard.sparkno = S6020
sparkxy = -10, -10
hitsound = s600, 2
guardsound = s400, 1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = 0,-4
air.velocity = .5,-7
guard.velocity = -5
fall = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 2801

;---------------------------------------------------------------------------
;1단끝
[Statedef 2801]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
anim = 2801
ctrl = 0
sprpriority = 2

[State 1096, ChangeState=1097]
type = ChangeState
trigger1 = command = "b"
value = 2802

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;2단
[Statedef 2802]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd = 10
velset = 0,0
anim = 2802
ctrl = 0
sprpriority = 2

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 3

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 2

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 1

[State 1033, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30, 30
PalContrast =  70, 70, 70
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.85
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1033, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(8) < 0
time = 2

[State 1400, 5] 
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 60, 4
getpower = 15, 10
givepower = 10, 5
guardflag = MA
pausetime = 12,12
sparkno = S6060
guard.sparkno = S6020
sparkxy = -30, -60
hitsound = s600, 2
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-6.5
air.velocity = -2,-6
fall = 1
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 2803

;---------------------------------------------------------------------------
;2단 끝
[Statedef 2803]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
anim = 2803
ctrl = 0
sprpriority = 2

[State 1031, ChangeState=1034]
type = ChangeState
trigger1 = command = "b"
value = 2804

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;3단
[Statedef 2804]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 10
velset = 0,0
anim = 2804
ctrl = 0
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300, 2

[State 1000, 3]
type = velset
trigger1 = AnimElem = 2
x = 3

[State 1000, 3]
type = velset
trigger1 = AnimElem = 3
x = 15

[State 1000, 3]
type = velset
trigger1 = AnimElem = 4
x = 8

[State 1000, 3]
type = velset
trigger1 = AnimElem = 5
x = 3

[State 1000, 3]
type = velset
trigger1 = AnimElem = 6
x = 1

[State 1033, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30, 30
PalContrast =  70, 70, 70
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.85
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1033, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(8) < 0
time = 2

[State 1400, 5] 
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 80, 5
getpower = 15, 10
givepower = 10, 5
guardflag = MA
pausetime = 12,12
sparkno = S6070
guard.sparkno = S6020
sparkxy = -10, -90
hitsound = s1500, 0
guardsound = s400, 1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1
envshake.time = 20
envshake.ampl = -8
envshake.freq = 130
envshake.phase = 10

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------


;가드KO
[Statedef 5950]
type = S
physics = S
poweradd = 0
sprpriority = -1
velset = 0,0
ctrl = 0
facep2 = 1

[State 6010, anim]
type = Changeanim
trigger1 = time = 0
triggerall = NumHelper(6969) = 0
value = 5950

[State 6010, air]
type = Changestate
trigger1 = pos Y != 0
value = 5000

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 5150

; HIT_LIEDEAD
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -2

[State 5150, 1]
type = ChangeAnim
triggerall = 1
trigger1 = Prevstateno = 5950
value = 5141

[State 5000, 1]
type = ChangeAnim
trigger1 = time >= 0
trigger1 = NumHelper(6969) = 1
trigger1 = Prevstateno != 5950
value = 25110

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = Vel x < .05
persistent = 0
x = 0

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


;==============================================================================================================
;--------------------------------------------------------------------------------------------------------------




;---------------------------------------------------------------------------
; HITG_SHAKE
[Statedef 5000]
type    = S
movetype= H
physics = N
velset = 0,0

[State 5000, 1]
type = ChangeAnim
trigger1 = time >= 0
trigger1 = NumHelper(6969) = 1
value = 25030

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
triggerall = NumHelper(6969) = 0
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
triggerall = NumHelper(6969) = 0
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
triggerall = NumHelper(6969) = 0
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type


[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 5001

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140


; HITA_SHAKE
[Statedef 5020]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5000, 1]
type = ChangeAnim
trigger1 = time >= 0
trigger1 = NumHelper(6969) = 1
value = 25030
ignorehitpause = 1 ;이거

[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
triggerall = NumHelper(6969) = 0
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
triggerall = NumHelper(6969) = 0
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
triggerall = NumHelper(6969) = 0
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5020, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5020, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
trigger4 = anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140


; HITA_UP (initial going up)
[Statedef 5030]
type    = A
movetype= H
physics = N
ctrl = 0

[State 5000, 1]
type = ChangeAnim
trigger1 = time >= 0
trigger1 = NumHelper(6969) = 1
value = 25030

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 5040 ;HITA_RECOV

[State 5030, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 5050 ;HITA_FALL

[State 5030, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 5035 ;HITA_UP (transition)


; HITA_UP_T (transition)
[Statedef 5035]
type    = A
movetype= H
physics = N

[State 5000, 1]
type = ChangeAnim
trigger1 = time >= 0
trigger1 = NumHelper(6969) = 1
value = 25035

[State 5035, 1]
type = ChangeAnim
triggerall = NumHelper(6969) = 0
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5035, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5040 ;HITA_RECOV

[State 5035, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5050 ;HITA_FALL


; HITA_FALL (knocked up, falling)
[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5000, 1]
type = ChangeAnim
trigger1 = time >= 0
trigger1 = NumHelper(6969) = 1
value = 25050

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
triggerall = NumHelper(6969) = 0
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
triggerall = NumHelper(6969) = 0
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall=var(59)=0||var(59)<=-2
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE


; HIT_BOUNCE (hit ground)
[Statedef 5100]
type    = L
movetype= H
physics = N

[State 5000, 1]
type = ChangeAnim
trigger1 = time >= 0
trigger1 = NumHelper(6969) = 1
value = 25100

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = NumHelper(6969) = 0
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = NumHelper(6969) = 0
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = anim = 25100 && time = 5
value = 5101

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20


; HIT_BOUNCE (bounce into air)
[Statedef 5101]
type    = L
movetype= H
physics = N

[State 5000, 1]
type = ChangeAnim
trigger1 = time >= 0
trigger1 = NumHelper(6969) = 1
value = 25160

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = NumHelper(6969) = 0
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = NumHelper(6969) = 0
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = ChangeState
value = 5110

; HIT_LIEDOWN
[Statedef 5110]
type    = L
movetype= H
physics = N

[State 5000, 1]
type = ChangeAnim
trigger1 = time >= 0
trigger1 = NumHelper(6969) = 1
value = 25100;탈의ko

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
triggerall = NumHelper(6969) = 0
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = NumHelper(6969) = 0
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = NumHelper(6969) = 0
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5110, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
triggerall = NumHelper(6969) = 0
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
triggerall = NumHelper(6969) = 0
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0)
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0)
trigger3 = Anim = [5110,5119]
trigger4 = anim = 25100 && time = 5
trigger5 = anim = 25171 && time = 5
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

;--------------------------------------
;슈퍼아머
[Statedef 7000]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 6904

[State 1531, 5]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 100,Nonthr]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT

[State 12000, 1]
type = HitOverride
trigger1 = IsHelper(7000)
attr = SCA,AA,AP
stateno = 7001
time = -1

[state 400, 8]
type = destroyself
trigger1 = root,stateno = 0
trigger2 = root,movetype != A
trigger3 = var(39)
;--------------------------------------
[Statedef 7001]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
anim = 6900

[State 1531, 5]
type = ParentVarSet
trigger1 = !time
fv = 39
value = floor(GetHitVar(damage) / GetHitVar(HitCount))

[State 182, 0]
type = Helper
trigger1 = !time
trigger1 = numhelper(7010) = 0
helpertype = normal
name = "damage"
id = 7010
postype = back
pos = 40,-80
stateno = 7002
keyctrl = 0
size.xscale = 1
size.yscale = 1

[State 182, 0]
type = Helper
trigger1 = !time
trigger1 = numhelper(7011) = 0
helpertype = normal
name = "SAeffact"
id = 7011
postype = back
pos = 40,-80
stateno = 7003
keyctrl = 0
ownpal = 1
size.xscale = 1.05
size.yscale = 1.05

[State 210, 3]
type = ChangeState
trigger1 = Time = 1
value = 7000
;----------------------------------------
[Statedef 7002]
type    = S
movetype= H
physics = N
poweradd = 0
ctrl = 0
velset = 0, 0
anim = 6900

[state 400, 8]
type = destroyself
trigger1 = Time = 1
;----------------------------------------
[Statedef 7003]
type    = S
movetype= H
physics = N
poweradd = 0
ctrl = 0
velset = 0, 0
anim = 6900
sprpriority = -7

[State 1531, 5]
type = BindToRoot
trigger1 = 1
facing = 1
pos = (ifelse(Parent,var(53) = 1,-1,0)+ifelse(Parent,var(53) = 2,-2,0))*ifelse(Facing = -1,-1,1),2

[State 3680, 0]
type = PalFX
trigger1 = !time
trigger2 = TimeMod = 2,1
time = 2
add = 255,0,0
ignorehitpause = 1

[State 3680, 0]
type = PalFX
trigger1 = TimeMod = 4,1
time = 2
add = 255,255,0
ignorehitpause = 1

[State 3680, 4]
type = ChangeAnim
trigger1 = time >= 1
value = root,anim
elem = root,animelemno(0)
ignorehitpause = 1
persistent = 1

[State 100,Nonthr]
type = NotHitBy
trigger1 = 1
value = SCA

[state 400, 8]
type = destroyself
trigger1 = Time = 21
trigger2 = root,movetype = H

;--------------------------------------

;--------------------------------------
;가드캔슬공격
[Statedef 8200]
type = S
movetype = A
physics = S
anim = 300
ctrl = 0
velset = 0, 0

[State 8200]
type = SuperPause
trigger1 = Time = 0
time = 8
moveTime = 8
anim = S6200
sound = S400, 1
darken = 0
pos = 10 , -106
poweradd = -500
unhittable = 1

[State 8200]
type = HitDef
trigger1 = Time = 0
attr = S, NA
damage = 40
animtype = D
guardflag = MA
hitflag = MA
pausetime = 12, 12
sparkno = S6070
guard.sparkno = S6000
sparkxy = 0,-85
hitsound = S600, 3
guardsound = S400, 1
ground.type = Low
ground.hittime  = 23
guard.hittime  = 18
guard.slidetime = 16
guard.velocity = -11
airguard.velocity = -3.5   
ground.velocity = -1.25, -8
air.velocity    = -1.25, -10
guard.velocity = -12
fall = 1
air.fall = 1
fall.recover = 0
air.recover = 0
givepower = 50, 25

[State 8200]
type = notHitBy
trigger1 = 1   
value = SCA, AT
	
[State 8200]
type = EnvColor
Trigger1 = Time = 0
value = 240, 240, 240
under = 1
time = 1

[State 8200]
type = envShake
Trigger1 = AnimElem = 8
time = 6
ampl = 3

[State 8200]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------
;슈캔
[Statedef 8500]
type    = S
movetype= I
physics = S
anim = 999
velset = 0,0
poweradd=500
ctrl = 0
sprpriority = -1

[State 8500]
type = Explod
trigger1 = time = 10
anim = 8500
ID = 8500
pos = 65,66
postype = Left
facing = 1
vfacing = 1
bindtime = 50
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40
supermovetime = 50
pausemovetime = 50
scale = .5,.5
sprpriority = 9998
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 8500]
type = Explod
trigger1 = time = 0
anim = 8505
ID = 8505
pos = -5,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9999
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 8500]
type = Explod
trigger1 = time = 0
anim = 8510
ID = 8510
pos = -150,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9997
ownpal = 1
trans = addalpha
alpha = 256, 135
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 8500]
type = DestroySelf
trigger1 = time = 65

;---------------------------------------------------------------------------
;드캔
[Statedef 8600]
type    = S
movetype= I
physics = S
anim = 999
velset = 0,0
poweradd=1000
ctrl = 0
sprpriority = -1

[State 8600]
type = Explod
trigger1 = time = 10
anim = 8600
ID = 8600
pos = -3,68
postype = Left
facing = 1
vfacing = 1
bindtime = 50
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40
supermovetime = 50
pausemovetime = 50
scale = .5,.5
sprpriority = 9998
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 8600]
type = Explod
trigger1 = time = 0
anim = 8605
ID = 8605
pos = -5,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9999
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 8600]
type = Explod
trigger1 = time = 0
anim = 8610
ID = 8610
pos = -150,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9997
ownpal = 1
trans = addalpha
alpha = 256, 135
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 8600]
type = DestroySelf
trigger1 = time = 65


;---------------------------------------------------------------------------
;MAX2 배경
[Statedef 8700]
type = A
movetype = I
physics = N
anim = 8711
VelSet = 0,0
ctrl = 0
sprpriority = -3

[State 8520, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg

[State 8520, EnvColor]
type = EnvColor
trigger1 = time < 4
value = 255,255,255
under = 1

[State 8520, EnvColor]
type = EnvColor
trigger1 = time >= 4
value = 0,0,0
under = 1

[State 8520, ChangeState]
type = ChangeState
trigger1 = time = 28
value = 8701
 
;MAX2_2 
[Statedef 8701]
type = A
physics = N
anim = 8711

[State 8521, Explod]
type = Explod
trigger1 = time = 0
anim = 8700
;id = 8700
postype = left
bindtime = -1
sprpriority = -3
ownpal = 1
removetime = 150

[State 8521, Explod]
type = Explod
trigger1 = time = 0
anim = 8700
pos = 320, 0 
;id = 8701
postype = left
bindtime = -1
sprpriority = -3
ownpal = 1
removetime = 150

[State 8521, Explod]
type = Explod
trigger1 = time = 0
anim = 8820
id = 8820
postype = left
bindtime = -1
sprpriority = -2
ownpal = 1

[State 8521, Explod]
type = Explod
trigger1 = time = 0
anim = 8800 ;8810
id = 8800
postype = left
bindtime = -1
sprpriority = -2
ownpal = 1

[State 8521, EnvColor]
type = EnvColor
trigger1 = 1
value = 0,0,0
under = 1
time = 2

[State 8521, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg

[State 8521, ChangeState]
type = ChangeState
trigger1 = root,movetype != A
value = 8702
 
;MAX2_3 
[Statedef 8702]
type = A
physics = N
anim = 8711

[State 8522, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 8700

[State 8522, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 8701

[State 8522, EnvColor]
type = EnvColor
trigger1 = time < 2
value = 255,255,255
under = 1

[State 8522, Explod]
type = Explod
trigger1 = time = 2
anim = 8710
postype = left
bindtime = -1
sprpriority = -3
ownpal = 1
supermove = 1

[State 8522, AssertSpecial]
type = AssertSpecial
trigger1 = time < 2
flag = nofg

[State 8522, DestroySelf]
type = DestroySelf
trigger1 = Time = 2

;---------------------------------------------------------------------------



;이 아래로는 추가

[Statedef -3]

[State 185, 6]
type = ScreenBound
trigger1 = var(2)
value = 0
movecamera = 0,0

[State -3, stop]
type = StopSnd
trigger1 = movetype = H ;맞고있는중이면
channel = 17 ; 여기

;---------------------------------------------------------------------------
[Statedef -2]

[State -2, Cheese!!!]
type = ChangeState
triggerall = prevstateno = [120,152]
triggerall = !alive
trigger1 = enemy,hitdefattr = SCA, SA, SP, HA, HP
trigger2 = enemy,ProjHit = 1, < 20
value = 5950
ignorehitpause = 1

[State -2, Sexy KO]
type = Helper
triggerall = matchover
triggerall = NumHelper(6969) = 0
triggerall = prevstateno != [120,152]
triggerall = !alive
trigger1 = enemy,hitdefattr = SCA, SA, SP, HA, HP
trigger2 = enemy,ProjHit = 1, < 20
helpertype = normal
name = "Sexy KO detect"
id = 6969
postype = p1
pos = 0,0
stateno = 169
keyctrl = 0
ownpal = 1
facep2 = 0
ignorehitpause = 1

[State 5000, 1]
type = ChangeAnim
trigger1 = stateno = 5020
trigger1 = time >= 0
trigger1 = NumHelper(6969) = 1
value = 25030
ignorehitpause = 1


[State -2, -2]
type = varset
triggerall = roundstate = 0 
trigger1 = P2Name = "kfm" || P4Name = "kfm"
trigger2 = P2Name = "Kung Fu Man" || P4Name = "Kung Fu Man"
trigger3 = P2Name = "akfm" || P4Name = "akfm"
trigger4 = P2Name = "another Kung Fu Man" || P4Name = "another Kung Fu Man"
;trigger5 = P2Name = "" || P4Name = ""
;trigger6 = P2Name = "" || P4Name = ""
;trigger7 = P2Name = "" || P4Name = ""
;trigger8 = P2Name = "" || P4Name = ""
;trigger9 = P2Name = "" || P4Name = ""
;trigger10 = P2Name = "" || P4Name = ""
var(7) = 1

[State -2, -2]
type = varset
triggerall = roundstate = 0 
trigger1 = P2Name = "UZUKI" || P4Name = "UZUKI"
trigger2 = P2Name = "KungFuGirl UZUKI" || P4Name = "KungFuGirl UZUKI"
var(7) = 2

;[State -2, -2]
;type = varset
;triggerall = roundstate = 0 
;trigger1 = P2Name = "" || P4Name = ""
;trigger2 = P2Name = "" || P4Name = ""
;var(7) = 3

;///////////////////////////////////////////////////
;28F걺얍ㅞ톳ㅂㅛ쫑ㅇㅖ뎅껑、걺발ㅍㅼㅛㅟ흰ㅁㆂㅇㅚㄴ
;///////////////////////////////////////////////////
[state -2]
type = varset
triggerall = roundstate = [2,3]
triggerall = var(45) = 0
trigger1 = enemynear,hitdefattr = SC,AT
trigger1 = enemynear,time - enemynear,animtime>=28
var(45) = p2stateno 
ignorehitpause = 1

[state -2]
type = varset
triggerall = var(45) != 0
trigger1 = teammode = turns
trigger1 = roundstate !=2
var(45) = 0
ignorehitpause = 1

;//////////////////////////////////////////////////////////////////////////////
;툭옴넥쉬
;//////////////////////////////////////////////////////////////////////////////
[state -3]
type = varset
triggerall = var(59) >0
triggerall = var(51) = 0
trigger1 = movetype != H || stateno = [120,155]
;trigger1 = (enemynear,prevstateno = [0,155]) || enemynear,prevstateno = [5000,5999]
trigger1 = enemynear,hitdefattr = SAC,NA,SA
trigger1 = enemynear,time >17
var(51) = enemynear,stateno
ignorehitpause = 1

[state -3]
type = varset
triggerall = var(59) >0
triggerall = var(51) = 0 || var(51) = -1
trigger1 = enemynear,hitdefattr = SAC,NA,SA
trigger1 = enemynear,time<=17
var(51) = -1
ignorehitpause = 1

[state -3]
type = varset
triggerall = var(59) >0
trigger1 = var(51) = -1
trigger1 = enemynear,time = 0
trigger2 = teammode = turns
trigger2 = roundstate !=2
var(51) = 0
ignorehitpause = 1

[state -3]
type = varset
triggerall = var(59) >0
triggerall = var(51) = 0
trigger1 = movetype != H || stateno = [120,155]
;trigger1 = (enemynear,prevstateno = [0,155]) || enemynear,prevstateno = [5000,5999]
var(50) = ifelse((enemynear,time>30),ceil((enemynear,time - 17)*0.7),(enemynear,time - 17))
ignorehitpause = 1

[state -3]
type = varset
triggerall = var(59) >0
trigger1 = teammode = turns
trigger1 = roundstate !=2
var(50) = 0
ignorehitpause = 1
;------------------------------------------------------------------------------
[state -3]
type = varset
triggerall = var(59) >0
triggerall = var(49) = 0 && enemynear,stateno != var(51)
trigger1 = movetype != H || stateno = [120,155]
;trigger1 = (enemynear,prevstateno = [0,155]) || enemynear,prevstateno = [5000,5999]
trigger1 = enemynear,hitdefattr = SAC,NA,SA
trigger1 = enemynear,time >17
var(49) = enemynear,stateno
ignorehitpause = 1

[state -3]
type = varset
triggerall = var(59) >0
triggerall = var(49) = 0 || var(49) = -1
trigger1 = enemynear,hitdefattr = SAC,NA,SA
trigger1 = enemynear,time<=17
var(49) = -1
ignorehitpause = 1

[state -3]
type = varset
triggerall = var(59) >0
trigger1 = var(49) = -1 || var(49) = var(51)
trigger1 = enemynear,time = 0
trigger2 = teammode = turns
trigger2 = roundstate !=2
var(49) = 0
ignorehitpause = 1


[state -3]
type = varset
triggerall = var(59) >0
triggerall = var(49) = 0
trigger1 = movetype != H || stateno = [120,155]
;trigger1 = (enemynear,prevstateno = [0,155]) || enemynear,prevstateno = [5000,5999]
var(48) = ifelse((enemynear,time>30),ceil((enemynear,time - 17)*0.7),(enemynear,time - 17))
ignorehitpause = 1

[state -3]
type = varset
triggerall = var(59) >0
trigger1 = teammode = turns
trigger1 = roundstate !=2
var(48) = 0
ignorehitpause = 1

;------------------------------------------------------------------------------
[state -3]
type = varset
triggerall = var(59) >0
triggerall = var(49) = 0 && enemynear,stateno != var(51)&&enemynear,stateno != var(49)
trigger1 = movetype != H || stateno = [120,155]
;trigger1 = (enemynear,prevstateno = [0,155]) || enemynear,prevstateno = [5000,5999]
trigger1 = enemynear,hitdefattr = SAC,NA,SA
trigger1 = enemynear,time >17
var(47) = enemynear,stateno
ignorehitpause = 1

[state -3]
type = varset
triggerall = var(59) >0
triggerall = var(47) = 0 || var(47) = -1
trigger1 = enemynear,hitdefattr = SAC,NA,SA
trigger1 = enemynear,time<=17
var(47) = -1
ignorehitpause = 1

[state -3]
type = varset
triggerall = var(59) >0
trigger1 = var(47) = -1 || var(47) = var(51)||var(47)=var(49)
trigger1 = enemynear,time = 0
trigger2 = teammode = turns
trigger2 = roundstate !=2
var(47) = 0
ignorehitpause = 1


[state -3]
type = varset
triggerall = var(59) >0
triggerall = var(47) = 0
trigger1 = movetype != H || stateno = [120,155]
;trigger1 = (enemynear,prevstateno = [0,155]) || enemynear,prevstateno = [5000,5999]
var(46) = ifelse((enemynear,time>30),ceil((enemynear,time - 17)*0.7),(enemynear,time - 17))
ignorehitpause = 1

[state -3]
type = varset
triggerall = var(59) >0
trigger1 = teammode = turns
trigger1 = roundstate !=2
var(46) = 0
ignorehitpause = 1

;------------------------------------------------------------------------------
; Play sound when hit by light ;작은 신음
[State -3, 1.2]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
triggerall = Random <= 600;use random
trigger1 = stateno = 5001
trigger1 = anim = 5000
trigger2 = stateno = 5001
trigger2 = anim = 5010
trigger3 = stateno = 5011
trigger3 = anim = 5020 
value = 5000,0
channel = 0
volume = 0
ignorehitpause = 1

; Play sound when hit by medium ;조금 센 신음
[State -3, 1.3]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
triggerall = Random <= 600;use random
trigger1 = stateno = 5001
trigger1 = anim = 5001
trigger2 = stateno = 5001
trigger2 = anim = 5011
trigger3 = stateno = 5011
trigger3 = anim = 5021 
value = 5000,1
channel = 0
volume = 0
ignorehitpause = 1

; Play sound when hit by hard ;아오 짱 아파
[State -3, 1.4]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
triggerall = Random <= 600;use random
trigger1 = stateno = 5001
trigger1 = anim = 5002
trigger2 = stateno = 5001
trigger2 = anim = 5012
trigger3 = stateno = 5011
trigger3 = anim = 5022 
value = 5000,2
channel = 2
volume = 0
ignorehitpause = 1

; Play sound when lying down ;넘어졌을 때 신음 (위거랑 소리 공유하거나 따로 넣거나 하세영)
[State -3, 1.5]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
trigger1 = stateno = 5100
value = 5000,3
channel = 0
volume = 0
ignorehitpause = 1