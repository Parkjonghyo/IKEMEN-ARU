


;===========================================================================
; 超必殺技ステート
;===========================================================================


[Statedef 2000];博麗拳術秘技『夢想封印』
type = S
movetype = A
physics = S
ctrl = 0
anim = 2000
velset = 0,0
sprpriority = 2


[State -1, ];ゲージ　消費
type = Varadd
Trigger1   = time = 0
FV = 33
Value = -50


[State 2000, 超必殺技暗転時間停止]
type = SuperPause
trigger1 = AnimElem = 1
anim = s10000       ;超必エフェクトのアクションナンバー。通常は「fightfx.air」のアニメを使うが、
                 ;左に「s」を付ければ「自分のairファイル」のアクションナンバーが使える。
pos = 0, -65    ;超必エフェクトの座標（Ｘ軸,Ｙ軸）
sound = s4, 5    ;超必発動サウンド。通常は「common.snd」の音を使うが、
                 ;左に「s」を付ければ「自分のsndファイル」の音が使える。
time = 47




[State -1, ヘルパー召喚];カットイン　巫女
type = Helper
Trigger1 = AnimElem = 1
ID = 9900
pos = 40, 0 
postype = p1
facing = 1
stateno = 9900
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999







[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 70, 19



[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 70, 20


[State -1, ヘルパー召喚];波動　地面
type = Helper
trigger1 = AnimElem = 4
ID = 20001
pos = -25, 0 
postype = p1
facing = 1
stateno = 20001
size.xscale  = 0.74
size.yscale  = 0.34
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, 震動];衝撃 揺れ
type = envshake
trigger1 = AnimElem = 4
time = 18
freq = 130
ampl = 3
phase = 140




[State -1, 残像]
type = Afterimage
trigger1 =  AnimElem = 3
PalContrast =  200, 30, 30
palbright = 30,30,0  ;(赤、緑、青)明るさ
palmul = .80,.80,.80
paladd = -10,-10,-10
trans = Add
time = 20
TimeGap  = 2
FrameGap = 2
length = 10





[State 2000, ヒット定義]
type = HitDef
TriggerAll = palno != 12
trigger1 = AnimElem = 4
attr = S, ST
damage = 0, 0
animtype = High
guardflag = H
hitflag = MAF
priority = 3, Hit
pausetime = 1, 15
sparkno = -1
sparkxy = -10, -76
hitsound = s70, 17
guardsound = s2, 4
ground.type = High
ground.slidetime = 42
ground.hittime  = 22
ground.velocity = -26
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-26
air.hittime = 14
getpower = 70,50
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
p1stateno = 2001
p2stateno = 2005
p1facing = 1
p2facing = 1
guard.dist = 0
hitonce = 0



[State -1];１２P用攻撃
type = Projectile
TriggerAll = palno = 12
trigger1 = AnimElem = 4
projanim = 887
projremovetime = 2
projid = 887
projpriority = 16
projsprpriority = 0
projedgebound = 220
attr = S, ST
damage = 0, 0
animtype = High
guardflag = 
hitflag = MAF
priority = 3, Hit
pausetime = 1, 15
sparkno = -1
sparkxy = -10, -76
hitsound = s70, 17
guardsound = s2, 4
ground.type = High
ground.slidetime = 42
ground.hittime  = 22
ground.velocity = -26
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-26
air.hittime = 14
getpower = 70,50
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
p1stateno = 2001
p2stateno = 2005
p1facing = 1
p2facing = 1
guard.dist = 0
hitonce = 0


[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
name = "hit"
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16096
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999
id = 16096







[State 2000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------



[Statedef 2001];博麗拳術秘儀『夢想封印』 成功
type = S
movetype= A
physics = S
ctrl = 0
anim = 2001
velset = 0,0
sprpriority = 2




[State 2001, エフェクト画像]
type = Explod
trigger1 = AnimElem = 19
anim = 13000
pos = 0, 10 
postype = p1
facing = 1
vfacing = 1
sprpriority = 4
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = 30


[State 2001, エフェクト画像]
type = Explod
trigger1 =  AnimElem = 4
trigger2 =  AnimElem = 9
trigger3 =  AnimElem = 14
anim = 17020
pos = 50, -60 
postype = p1
facing = 1
vfacing = 1
sprpriority = 0
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = 18




[State 2001, エフェクト画像]
type = Explod
trigger1 = AnimElem = 18
anim = 17010
pos = 30, -30  
postype = p1
facing = 1
vfacing = 1
sprpriority = 4
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = 18



[State -1, ヘルパー召喚];衝撃波縦長
type = Helper
trigger1 = AnimElem = 19
ID = 13011
pos = 30, 0 
postype = p1
facing = 1
stateno = 13011
size.xscale  = 0.34
size.yscale  = 0.74
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[State -1, 残像]
type = Afterimage
trigger1 =  AnimElem = 3
PalContrast =  200, 30, 30
palbright = 30,30,0  ;(赤、緑、青)明るさ
palmul = .80,.80,.80
paladd = -10,-10,-10
trans = Add
time = 160
TimeGap  = 2
FrameGap = 2
length = 10




;相手が食らい状態の時のみ機能するTarget系コントローラ
[State 2001, 掴んだ相手のライフ増減];普通
type = TargetLifeAdd
trigger1 =  AnimElem = 4
trigger2 =  AnimElem = 9
trigger3 =  AnimElem = 14
value = -80
Kill = 0
absolute = 0



;相手が食らい状態の時のみ機能するTarget系コントローラ
[State 2001, 掴んだ相手のライフ増減];普通
type = TargetLifeAdd
trigger1 =  AnimElem = 19
value = -150
Kill = 1
absolute = 1




[State -1, 震動];衝撃 揺れ
type = envshake
trigger1 =  AnimElem = 4
trigger2 =  AnimElem = 9
trigger3 =  AnimElem = 14
time = 18
freq = 130
ampl = 3
phase = 140



[State -1, 震動];衝撃 揺れ
type = envshake
trigger1 =  AnimElem = 19
time = 25
freq = 130
ampl = 3
phase = 140


[State -1, 音を鳴らす]
type = PlaySnd
trigger1 =  AnimElem = 4
trigger2 =  AnimElem = 9
trigger3 =  AnimElem = 14
trigger4 =  AnimElem = 19
value = 70, 17



[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 19
value = 70, 20


[State -1, 音を鳴らす]
type = PlaySnd
trigger1 =  AnimElem = 4
trigger2 =  AnimElem = 9
trigger3 =  AnimElem = 14
trigger4 =  AnimElem = 19
value = 70, 19



[State -1, 音を鳴らす]
type = PlaySnd
trigger1 =  AnimElem = 4
trigger2 =  AnimElem = 9
trigger3 =  AnimElem = 14
trigger4 =  AnimElem = 19
value = 70, 20



[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 18
value = 70, 15
freqmul = 1.5


[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 18
value = 70, 14
freqmul = 1.5




[State 2001, 掴んだ相手の位置１];TargetBindで相手を一時的に拘束
type = TargetBind
Trigger1 = AnimElemTime(20) < 0
pos = 50,-60



[State 2001, 掴んだ相手のステート変更];吹き飛び
type = TargetState
trigger1 =  AnimElem = 4
trigger2 =  AnimElem = 14
value = 2006


[State 2001, 掴んだ相手のステート変更];吹き飛び
type = TargetState
trigger1 =  AnimElem = 9
value = 2005



[State 2001, 掴んだ相手のステート変更];吹き飛び
type = TargetState
trigger1 =  AnimElem = 19
value = 2007


[State 2001, 掴んだ相手のステート変更];吹き飛び
type = TargetState
trigger1 =  EnemyNear(var(55)),Life < 100
trigger1 =  AnimElem = 19
value = 2008


[State -1, ヘルパー召喚];波動
type = Helper
trigger1 =  AnimElem = 4
trigger2 =  AnimElem = 9
trigger3 =  AnimElem = 14
ID = 20000
pos = 40, -50 
postype = p1
facing = 1
stateno = 20000
size.xscale  = 0.34
size.yscale  = 0.74
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999





[State -1, ヘルパー召喚];波動2
type = Helper
trigger1 =  AnimElem = 19
ID = 20002
pos = 20, -70 
postype = p1
facing = 1
stateno = 20002
size.xscale  = 0.74
size.yscale  = 0.34
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[State -1, ヘルパー召喚];波動　地面
type = Helper
trigger1 =  AnimElem = 4
trigger2 =  AnimElem = 9
trigger3 =  AnimElem = 14
trigger4 =  AnimElem = 19
ID = 20001
pos = 0, 0 
postype = p1
facing = 1
stateno = 20001
size.xscale  = 0.74
size.yscale  = 0.34
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999












[State -1, ヘルパー召喚];礫1
type = Helper
trigger1 = AnimElem = 19
ID = 25000
pos = 0, 0 
postype = p1
facing = 1
stateno = 25000
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];礫2
type = Helper
trigger1 = AnimElem = 19
ID = 25000
pos = 0, -10 
postype = p1
facing = 1
stateno = 25001
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];礫3
type = Helper
trigger1 = AnimElem = 19
ID = 25000
pos = 0, -5 
postype = p1
facing = -1
stateno = 25002
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[State -1, ヘルパー召喚];礫4
type = Helper
trigger1 = AnimElem = 19
ID = 25000
pos = 0, -15 
postype = p1
facing = -1
stateno = 25003
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];礫5
type = Helper
trigger1 = AnimElem = 20
ID = 25000
pos = 0, 0 
postype = p1
facing = -1
stateno = 25000
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];礫6
type = Helper
trigger1 = AnimElem = 20
ID = 25000
pos = 0, -10 
postype = p1
facing = -1
stateno = 25001
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];礫7
type = Helper
trigger1 = AnimElem = 20
ID = 25000
pos = 0, -5 
postype = p1
facing = 1
stateno = 25002
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[State -1, ヘルパー召喚];礫8
type = Helper
trigger1 = AnimElem = 20
ID = 25000
pos = 0, -15 
postype = p1
facing = 1
stateno = 25003
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999





[State -1, ヘルパー召喚];夢
type = Helper
Trigger1 = Facing = 1
trigger1 = AnimElem = 4
ID = 21000
pos = 40, 60 
postype = p1
facing = 1
stateno = 21000
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];想
type = Helper
Trigger1 = Facing = 1
trigger1 = AnimElem = 9
ID = 21001
pos = 40, 60 
postype = p1
facing = 1
stateno = 21001
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[State -1, ヘルパー召喚];封
type = Helper
Trigger1 = Facing = 1
trigger1 = AnimElem = 14
ID = 21002
pos = 40, 60 
postype = p1
facing = 1
stateno = 21002
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[State -1, ヘルパー召喚];印
type = Helper
Trigger1 = Facing = 1
trigger1 = AnimElem = 19
ID = 21003
pos = 40, 60 
postype = p1
facing = 1
stateno = 21003
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999







[State -1, ヘルパー召喚];夢　反対
type = Helper
Trigger1 = Facing = -1
trigger1 = AnimElem = 4
ID = 21000
pos = 40, 60 
postype = p1
facing = -1
stateno = 21000
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];想　反対
type = Helper
Trigger1 = Facing = -1
trigger1 = AnimElem = 9
ID = 21001
pos = 40, 60 
postype = p1
facing = -1
stateno = 21001
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[State -1, ヘルパー召喚];封　反対
type = Helper
Trigger1 = Facing = -1
trigger1 = AnimElem = 14
ID = 21002
pos = 40, 60 
postype = p1
facing = -1
stateno = 21002
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[State -1, ヘルパー召喚];印　反対
type = Helper
Trigger1 = Facing = -1
trigger1 = AnimElem = 19
ID = 21003
pos = 40, 60 
postype = p1
facing = -1
stateno = 21003
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999





[state a];ヒットエフェクト
type = Helper
trigger1 =  AnimElem = 4
name = "hit"
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16096
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999
id = 16096





[state a];ヒットエフェクト
type = Helper
trigger1 =  AnimElem = 9
name = "hit"
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16096
HelperType =  Player
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999
id = 16096




[state a];ヒットエフェクト
type = Helper
trigger1 =  AnimElem = 14
name = "hit"
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16096
HelperType =  Player
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999
id = 16096





[state a];ヒットエフェクト
type = Helper
trigger1 =  AnimElem = 19
name = "hit"
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16096
HelperType =  Player
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999
id = 16096







[State -1]
Type = BGPalFX
Trigger1 = AnimElemTime(19) < 0
Add = -250,-250,-250
Time = 1



[State 2001, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;----------------------------
;掴まれた敵
;----------------------------


[Statedef 2005]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1



[State -3, ヘルパー画面固定]
type = screenbound
Trigger1 = 1
value = 0
movecamera = 0,0
IgnoreHitPause = 1



[State 2005, 相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2005




[State -1, 無敵]
type = NotHitBy
Trigger1 = 1
value = , NA,SA,HA,NP,SP,HP,NT,ST,HT




[State -1, 相手ステートに戻す]
type = SelfState
Trigger1 = time > 600
value = 5210


;----------------------------


[Statedef 2006]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 3





[State 2006, 相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2006


[State -3, ヘルパー画面固定]
type = screenbound
Trigger1 = 1
value = 0
movecamera = 0,0
IgnoreHitPause = 1





[State -1, 無敵]
type = NotHitBy
Trigger1 = 1
value = , NA,SA,HA,NP,SP,HP,NT,ST,HT




[State -1, 相手ステートに戻す]
type = SelfState
Trigger1 = time > 600
value = 5210



;---------------------------





[Statedef 2007]
type    = A
movetype= H
physics = N
velset = 0,-20
sprpriority = 1





[State 2007, 相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2007



[State 2007, 移動]
type = VelSet
Trigger1 = time = 5
y = -20

[State 2007, 速度加算];重力
type = VelSet
Trigger1 = time > 40
y = 12


[State 2007,]
type = LifeSet
TriggerAll = name!="miko"
TriggerAll = EnemyNear,palno  = 12
Trigger1 = time = 0
value = 0
absolute = 1


[State 2007, 無敵]
type = NotHitBy
Trigger1 = 1
value = , NA,SA,HA,NP,SP,HP,NT,ST,HT


[State 2007, 相手ステートに戻す]
type = SelfState
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
value = 5100


[State -3, ヘルパー画面固定]
type = screenbound
Trigger1 = 1
value = 0
movecamera = 0,0
IgnoreHitPause = 1




;---------------------------





[Statedef 2008]
type    = L
movetype= H
physics = N


[State -1,]
type = AssertSpecial
trigger1 = 1
flag = NoShadow





[State 2008, 移動]
type = VelSet
Trigger1 = time = 5
x = -300


[State 2008,]
type = LifeSet
Trigger1 = 1
value = 0
absolute = 0


[State 2008, 相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 999



[State 2008]
type = AssertSpecial
Trigger1 = 1
flag = Invisible



[State -3, ヘルパー画面固定]
type = screenbound
Trigger1 = 1
value = 0
movecamera = 0,0
IgnoreHitPause = 1


[State 2008, 移動]
type = VelSet
Trigger1 = time > 80
x = 0




[State 2008]
type = Changestate
Trigger1 = time > 80
value = 5150



[State 2008, ステート変更]
type = ChangeState
Trigger1 = time > 5
Trigger1 = Life != 0
value = 2007
ctrl = 0









;---------------------------------------------------------------------------
;---------------------------------------------------------------------------




[Statedef 2010];博麗拳術秘技『気功散戒』
type = S
movetype = A
physics = S
ctrl = 0
anim = 2010
velset = 0,0
sprpriority = 2
facep2 = 1


[State -1, ];ゲージ　消費
type = Varadd
Trigger1   = time = 0
FV = 33
Value = -50



[State 2010, 超必殺技暗転時間停止]
type = SuperPause
trigger1 = AnimElem = 1
anim = s10000       ;超必エフェクトのアクションナンバー。通常は「fightfx.air」のアニメを使うが、
                 ;左に「s」を付ければ「自分のairファイル」のアクションナンバーが使える。
pos = 0, -65    ;超必エフェクトの座標（Ｘ軸,Ｙ軸）
sound = s4, 5    ;超必発動サウンド。通常は「common.snd」の音を使うが、
                 ;左に「s」を付ければ「自分のsndファイル」の音が使える。
time = 47




[State -1, ヘルパー召喚];カットイン　巫女
type = Helper
Trigger1 = AnimElem = 1
ID = 9900
pos = 40, 0 
postype = p1
facing = 1
stateno = 9900
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999


[State 2010, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 9
trigger4 = AnimElem = 12
value = 1, 2



[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 9
trigger3 = AnimElem = 15
value = 70, 19



[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 15
value = 70, 20




[State -1, エフェクト画像]
type = Explod
trigger1 = AnimElem = 9
anim = 12010
pos = 0, 10
postype = p1
scale = 1,0.5
ontop = 0
bindtime = -1
removetime = 38
sprpriority = 5
ownpal = 1
removeongethit = 1
trans = add
vfacing = 1 
facing = 1 

[State -1, エフェクト画像]
type = Explod
trigger1 = AnimElem = 9
anim = 12020
pos = 60, 10
postype = p1
scale = 0.7,0.7
ontop = 0
bindtime = -1
removetime = 28
sprpriority = 5
ownpal = 1
removeongethit = 1
trans = add
vfacing = 1 
facing = 1 



[State -1, ヘルパー召喚];波動
type = Helper
trigger1 = AnimElem = 3
trigger2 = AnimElem = 15
ID = 20000
pos = 40, -50 
postype = p1
facing = 1
stateno = 20000
size.xscale  = 0.34
size.yscale  = 0.74
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[State -1, ヘルパー召喚];波動　地面
type = Helper
trigger1 = AnimElem = 3
trigger2 = AnimElem = 9
trigger3 = AnimElem = 15
ID = 20001
pos = -25, 0 
postype = p1
facing = 1
stateno = 20001
size.xscale  = 0.74
size.yscale  = 0.34
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[State -1, 震動];衝撃 揺れ
type = envshake
trigger1 = AnimElem = 3
trigger2 = AnimElem = 9
trigger3 = AnimElem = 15
time = 18
freq = 130
ampl = 3
phase = 140


[State -1, 残像]
type = Afterimage
trigger1 =  AnimElem = 3
trigger2 =  AnimElem = 8
trigger3 = AnimElem = 12
PalContrast =  200, 30, 30
palbright = 30,30,0  ;(赤、緑、青)明るさ
palmul = .80,.80,.80
paladd = -10,-10,-10
trans = Add
time = 20
TimeGap  = 2
FrameGap = 2
length = 10



[State 2010, 移動]
type = VelSet
Trigger1 =  AnimElem = 1
Trigger2 =  AnimElem = 7
x= -2

[State 2010, 移動]
type = VelSet
Trigger1 =  AnimElem = 3
x= 15


[State 2010, 移動]
type = VelSet
Trigger1 =  AnimElem = 9
Trigger2 =  AnimElem = 15
x= 17


[State 2010, ヒット定義]
type = HitDef
TriggerAll = palno  != 12
trigger1 = AnimElem = 3
attr = S, HA 
damage = 80, 0
animtype = High
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15, 75
sparkno = -1
sparkxy = -10, -76
hitsound = s70, 17
guardsound = s2, 4
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 14
getpower = 70,50
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
givepower = -200,0


[State 2010, ヒット定義]
type = HitDef
TriggerAll = palno  != 12
trigger1 = AnimElem = 9
attr = S, HA 
damage = 80, 0
animtype = High
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 25, 100
sparkno = -1
sparkxy = -10, -76
hitsound = s70, 17
guardsound = s2, 4
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -3
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -3
air.hittime = 14
getpower = 70,50
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
givepower = -200,0



[State 2010, ヒット定義]
type = HitDef
TriggerAll = palno  != 12
trigger1 = AnimElem = 15
attr = S, SA 
damage = 100, 0
animtype = High
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 35, 35
sparkno = -1
sparkxy = -10, -76
hitsound = s70, 17
guardsound = s2, 4
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -6,-6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -6,-6
air.hittime = 14
getpower = 70,50
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 25
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
givepower = -600,0
P2StateNo = 60000

[State -1, ヘルパー召喚];１２用攻撃ヘルパー
type = Helper
TriggerAll = palno  = 12
trigger1 = AnimElem = 3
trigger2 = AnimElem = 8
ID = 95555
pos = 0, 0
postype = p1
facing = 1
stateno = 95555
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];１２用攻撃ヘルパー
type = Helper
TriggerAll = palno  = 12
trigger1 = AnimElem = 12
ID = 95556
pos = 0, 0
postype = p1
facing = 1
stateno = 95556
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999


[state a];ヒットエフェクト
type = Helper
Triggerall = NumHelper(16096) = 0
trigger1 = movehit
name = "hit"
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16096
HelperType =  Player
persistent = 0
IgnoreHitPause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999
id = 16096

[state a];ヒットエフェクト
type = Helper
Triggerall = NumHelper(16096) = 0
triggerall = movehit
trigger1 = AnimElem = 3
trigger2 = AnimElem = 9
trigger3 = AnimElem = 15
name = "hit"
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16096
HelperType =  Player
;persistent = 0
IgnoreHitPause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999
id = 16096


[State -1];１２P用攻撃
type = Projectile
TriggerAll = palno  = 12
trigger1 = time >= 5
trigger1 = time%3 = 0
attr = S, SA
projanim = 887
projid = 23103
projremovetime = 2
projpriority = 16
projsprpriority = 0
projedgebound = 220
postype = p1
offset = 0,0
attr = S, NA
air.juggle = 2
postype = p1
offset = 0, 50
velocity = 0 
damage = 20, 20
animtype = High
guardflag = 
hitflag = MAFD
priority = 3, Hit
pausetime = 10, 10
sparkno = -1
sparkxy = -10, 0
hitsound = -1
guardsound =-1
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -15,-6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -15,-6
air.hittime = 14
getpower = 70,50
fall = 1
air.fall = 1
fall.recover = 0
ignorehitpause = 1


[State 2010, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1






;---------------------------------------------------------------------------
;---------------------------------------------------------------------------




[Statedef 2020];博麗拳術秘技『一矢葬送』
type = S
movetype = A
physics = S
ctrl = 0
anim = 2020
velset = 0,0
sprpriority = 2
facep2 = 1


[State -1, ];ゲージ　消費
type = Varadd
Trigger1   = time = 0
FV = 33
Value = -50




[State 2020, 超必殺技暗転時間停止]
type = SuperPause
trigger1 = AnimElem = 1
anim = s10000       ;超必エフェクトのアクションナンバー。通常は「fightfx.air」のアニメを使うが、
                 ;左に「s」を付ければ「自分のairファイル」のアクションナンバーが使える。
pos = 0, -65    ;超必エフェクトの座標（Ｘ軸,Ｙ軸）
sound = s4, 5    ;超必発動サウンド。通常は「common.snd」の音を使うが、
                 ;左に「s」を付ければ「自分のsndファイル」の音が使える。
time = 47


[State -1, ヘルパー召喚];カットイン　巫女
type = Helper
Trigger1 = AnimElem = 1
ID = 9900
pos = 40, 0 
postype = p1
facing = 1
stateno = 9900
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999



[State 2001, エフェクト画像]
type = Explod
trigger1 =  AnimElem = 5
anim = 17020
pos = 0, -40 
postype = p1
facing = -1
vfacing = 1
sprpriority = 0
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = 18



[State 2020, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 5



[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
trigger3 = AnimElem = 7
trigger4 = AnimElem = 8
trigger5 = AnimElem = 9
value = 70, 19



[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
trigger3 = AnimElem = 7
trigger4 = AnimElem = 8
trigger5 = AnimElem = 9
value = 70, 20




[State -1, ヘルパー召喚];波動
type = Helper
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
trigger3 = AnimElem = 7
trigger4 = AnimElem = 8
trigger5 = AnimElem = 9
ID = 20000
pos = 80, -50 
postype = p1
facing = 1
stateno = 20000
size.xscale  = 0.34
size.yscale  = 0.74
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999





[State -1, ヘルパー召喚];波動　地面
type = Helper
trigger1 = AnimElem = 5
ID = 20001
pos = -25, 0 
postype = p1
facing = 1
stateno = 20001
size.xscale  = 0.74
size.yscale  = 0.34
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, 震動];衝撃 揺れ
type = envshake
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
trigger3 = AnimElem = 7
trigger4 = AnimElem = 8
trigger5 = AnimElem = 9
time = 20
freq = 130
ampl =3
phase = 140


[State -1, 残像]
type = Afterimage
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
trigger3 = AnimElem = 7
trigger4 = AnimElem = 8
trigger5 = AnimElem = 9
PalContrast =  200, 30, 30
palbright = 30,30,0  ;(赤、緑、青)明るさ
palmul = .80,.80,.80
paladd = -10,-10,-10
trans = Add
time = 20
TimeGap  = 2
FrameGap = 2
length = 10




[State 2020, 移動]
type = VelSet
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
trigger3 = AnimElem = 7
trigger4 = AnimElem = 8
trigger5 = AnimElem = 9
x= 30




[State 2020, ヒット定義]
type = HitDef
TriggerAll = palno  != 12
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
trigger3 = AnimElem = 7
trigger4 = AnimElem = 8
attr = S, HA 
damage = 60, 0
animtype = High
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = -1
sparkxy = -10, -76
hitsound = s70, 17
guardsound = s2, 4
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -5
air.hittime = 14
getpower = 70,50
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80




[State 2020, ヒット定義]
type = HitDef
TriggerAll = palno  != 12
trigger1 = AnimElem = 9
attr = S, HA 
damage = 70, 0
animtype = High
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = -1
sparkxy = -10, -76
hitsound = s70, 17
guardsound = s2, 4
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -15,-7
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -15,-7
air.hittime = 14
getpower = 70,50
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80
P2StateNo = 60000



[State -1, ヘルパー召喚];１２用攻撃ヘルパー
type = Helper
TriggerAll = palno  = 12
trigger1 = AnimElem = 9
ID = 95556
pos = 0, 0
postype = p1
facing = 1
stateno = 95556
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];１２用攻撃ヘルパー
type = Helper
TriggerAll = palno  = 12
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
trigger3 = AnimElem = 7
trigger4 = AnimElem = 8
ID = 95555
pos = 0, 0
postype = p1
facing = 1
stateno = 95555
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999





[State 700, エフェクト画像];ヒットエフェクト
type = Explod
trigger1 = movehit = 1
anim = 10120
pos = 90, -60 
postype = p1
facing = 1
vfacing = 1
ownpal = 1
scale  = 1,1
sprpriority = 99
bindtime = 1
removeongethit = 1
removetime = 22
random = 50,50








[State -1];１２P用攻撃
type = Projectile
TriggerAll = palno  = 12
trigger1 = time >= 5
trigger1 = time%3 = 0
attr = S, SA
projanim = 887
projid = 23103
projremovetime = 2
projpriority = 16
projsprpriority = 0
projedgebound = 220
postype = p1
offset = 0,0
attr = S, NA
air.juggle = 2
postype = p1
offset = 0, 50
velocity = 0 
damage = 40, 40
animtype = High
guardflag = 
hitflag = MAFD
priority = 3, Hit
pausetime = 10, 10
sparkno = -1
sparkxy = -10, 0
hitsound = -1
guardsound =-1
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -15,-6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -15,-6
air.hittime = 14
getpower = 70,50
fall = 1
air.fall = 1
fall.recover = 0
ignorehitpause = 1



[State 2020, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1









;---------------------------------------------------------------------------
;---------------------------------------------------------------------------




[Statedef 2030];博麗拳術秘技『封魔宝玉』
type = S
movetype = A
physics = S
ctrl = 0
anim = 2030
velset = 0,0
sprpriority = 2
facep2 = 1



[State -1, ];ゲージ　消費
type = Varadd
Trigger1   = time = 0
FV = 33
Value = -50



[State 2030, 超必殺技暗転時間停止]
type = SuperPause
trigger1 = AnimElem = 1
anim = s10000       ;超必エフェクトのアクションナンバー。通常は「fightfx.air」のアニメを使うが、
                 ;左に「s」を付ければ「自分のairファイル」のアクションナンバーが使える。
pos = 0, -65    ;超必エフェクトの座標（Ｘ軸,Ｙ軸）
sound = s4, 5    ;超必発動サウンド。通常は「common.snd」の音を使うが、
                 ;左に「s」を付ければ「自分のsndファイル」の音が使える。
time = 47
[State -1, ヘルパー召喚];カットイン　巫女
type = Helper
Trigger1 = AnimElem = 1
ID = 9900
pos = 40, 0 
postype = p1
facing = 1
stateno = 9900
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999





[State -1, 震動];衝撃 揺れ
type = envshake
trigger1 = AnimElem = 4
time = 18
freq = 130
ampl = 3
phase = 140




[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 60, 4
freqmul = 1.2


[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 70, 19


[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 70, 20





[State -1, ヘルパー召喚];波動　地面
type = Helper
trigger1 = AnimElem = 4
ID = 20001
pos = -25, 0 
postype = p1
facing = 1
stateno = 20001
size.xscale  = 0.74
size.yscale  = 0.34
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];宝玉
type = Helper
TriggerAll = palno  != 12
trigger1 = AnimElem = 4
ID = 13030
pos = 80, -40 
postype = p1
facing = 1
stateno = 13030
size.xscale  = 0.6
size.yscale  = 0.6
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];宝玉の波動
type = Helper
TriggerAll = palno  != 12
trigger1 = AnimElem = 4
ID = 13030
pos = 80, -40 
postype = p1
facing = 1
stateno = 2034
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999





[State -1, ヘルパー召喚];宝玉
type = Helper
TriggerAll = palno  = 12
trigger1 = AnimElem = 4
ID = 13030
pos = 80, -40 
postype = p1
facing = 1
stateno = 13030
size.xscale  = 0.8
size.yscale  = 0.8
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];宝玉の波動
type = Helper
TriggerAll = palno  = 12
trigger1 = AnimElem = 4
ID = 13030
pos = 80, -40 
postype = p1
facing = 1
stateno = 2034
size.xscale  = 0.9
size.yscale  = 0.9
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[State 2030, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1









;---------------------------------------------------------------------------
;---------------------------------------------------------------------------




[Statedef 2040];博麗拳術秘技『天地破砕』
type = S
movetype = A
physics = S
ctrl = 0
anim = 2040
velset = 0,0
sprpriority = 2
facep2 = 1


[State -1, ];ゲージ　消費
type = Varadd
Trigger1   = time = 0
FV = 33
Value = -50






[State 2040, 超必殺技暗転時間停止]
type = SuperPause
TriggerAll = palno  != 12
trigger1 = AnimElem = 1
anim = s10000       ;超必エフェクトのアクションナンバー。通常は「fightfx.air」のアニメを使うが、
                 ;左に「s」を付ければ「自分のairファイル」のアクションナンバーが使える。
pos = 0, -65    ;超必エフェクトの座標（Ｘ軸,Ｙ軸）
sound = s4, 5    ;超必発動サウンド。通常は「common.snd」の音を使うが、
                 ;左に「s」を付ければ「自分のsndファイル」の音が使える。
time = 47



[State 2040, 超必殺技暗転時間停止]
type = SuperPause
TriggerAll = palno  = 12
trigger1 = AnimElem = 1
anim = s10000       ;超必エフェクトのアクションナンバー。通常は「fightfx.air」のアニメを使うが、
                 ;左に「s」を付ければ「自分のairファイル」のアクションナンバーが使える。
pos = 0, -65    ;超必エフェクトの座標（Ｘ軸,Ｙ軸）
sound = s4, 5    ;超必発動サウンド。通常は「common.snd」の音を使うが、
                 ;左に「s」を付ければ「自分のsndファイル」の音が使える。
time = 10



[State -1]
Type = posfreeze
Trigger1 = 1
Value = 1




[State -1, ヘルパー召喚];波動　地面
type = Helper
trigger1 = AnimElem = 4
ID = 20001
pos = -25, 0 
postype = p1
facing = 1
stateno = 20001
size.xscale  = 0.74
size.yscale  = 0.34
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, 震動];衝撃 揺れ
type = envshake
trigger1 = AnimElem = 4
time = 60
freq = 130
ampl = 3
phase = 140






[State 2040, エフェクト画像]
type = Explod
trigger1 = AnimElem = 4
anim = 13000
pos = 0, 10 
postype = p1
facing = 1
vfacing = 1
sprpriority = 4
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = 30





[State -1, ヘルパー召喚];礫1
type = Helper
TriggerAll = palno != 12
trigger1 = AnimElem = 4
ID = 25000
pos = 0, 0 
postype = p1
facing = 1
stateno = 25000
size.xscale  = 0.5
size.yscale  = 0.5





[State -1, ヘルパー召喚];礫2
type = Helper
TriggerAll = palno != 12
trigger1 = AnimElem = 4
ID = 25000
pos = 0, -10 
postype = p1
facing = 1
stateno = 25001
size.xscale  = 0.5
size.yscale  = 0.5





[State -1, ヘルパー召喚];礫3
type = Helper
TriggerAll = palno != 12
trigger1 = AnimElem = 4
ID = 25000
pos = 0, -5 
postype = p1
facing = -1
stateno = 25002
size.xscale  = 0.5
size.yscale  = 0.5




[State -1, ヘルパー召喚];礫4
type = Helper
TriggerAll = palno != 12
trigger1 = AnimElem = 4
ID = 25000
pos = 0, -15 
postype = p1
facing = -1
stateno = 25003
size.xscale  = 0.5
size.yscale  = 0.5







[State -1, ヘルパー召喚];礫5
type = Helper
TriggerAll = palno != 12
trigger1 = AnimElem = 5
ID = 25000
pos = 10, 0 
postype = p1
facing = 1
stateno = 25000
size.xscale  = 0.5
size.yscale  = 0.5





[State -1, ヘルパー召喚];礫6
type = Helper
TriggerAll = palno != 12
trigger1 = AnimElem = 5
ID = 25000
pos = 0, -10 
postype = p1
facing = 1
stateno = 25001
size.xscale  = 0.5
size.yscale  = 0.5





[State -1, ヘルパー召喚];礫7
type = Helper
TriggerAll = palno != 12
trigger1 = AnimElem = 5
ID = 25000
pos = 10, -5 
postype = p1
facing = -1
stateno = 25002
size.xscale  = 0.5
size.yscale  = 0.5




[State -1, ヘルパー召喚];礫8
type = Helper
TriggerAll = palno != 12
trigger1 = AnimElem = 5
ID = 25000
pos = 0, -15 
postype = p1
facing = -1
stateno = 25003
size.xscale  = 0.5
size.yscale  = 0.5










[State -1, ヘルパー召喚];礫9
type = Helper
TriggerAll = palno != 12
trigger1 = AnimElem = 6
ID = 25000
pos = 20, -250 
postype = p1
facing = 1
stateno = 25000
size.xscale  = 0.5
size.yscale  = 0.5





[State -1, ヘルパー召喚];礫10
type = Helper
TriggerAll = palno != 12
trigger1 = AnimElem = 6
ID = 25000
pos = 30, -250  
postype = p1
facing = 1
stateno = 25001
size.xscale  = 0.5
size.yscale  = 0.5





[State -1, ヘルパー召喚];礫11
type = Helper
TriggerAll = palno != 12
trigger1 = AnimElem = 6
ID = 25000
pos = 20, -250 
postype = p1
facing = -1
stateno = 25002
size.xscale  = 0.5
size.yscale  = 0.5




[State -1, ヘルパー召喚];礫12
type = Helper
TriggerAll = palno != 12
trigger1 = AnimElem = 6
ID = 25000
pos = 40, -250 
postype = p1
facing = -1
stateno = 25003
size.xscale  = 0.5
size.yscale  = 0.5










[State -1, ヘルパー召喚];礫1
type = Helper
TriggerAll = palno = 12
trigger1 = AnimElem = 4
ID = 25000
pos = 0, 0 
postype = p1
facing = 1
stateno = 25000
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];礫2
type = Helper
TriggerAll = palno = 12
trigger1 = AnimElem = 4
ID = 25000
pos = 0, -10 
postype = p1
facing = 1
stateno = 25001
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];礫3
type = Helper
TriggerAll = palno = 12
trigger1 = AnimElem = 4
ID = 25000
pos = 0, -5 
postype = p1
facing = -1
stateno = 25002
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[State -1, ヘルパー召喚];礫4
type = Helper
TriggerAll = palno = 12
trigger1 = AnimElem = 4
ID = 25000
pos = 0, -15 
postype = p1
facing = -1
stateno = 25003
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999






[State -1, ヘルパー召喚];礫5
type = Helper
TriggerAll = palno = 12
trigger1 = AnimElem = 5
ID = 25000
pos = 10, 0 
postype = p1
facing = 1
stateno = 25000
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];礫6
type = Helper
TriggerAll = palno = 12
trigger1 = AnimElem = 5
ID = 25000
pos = 0, -10 
postype = p1
facing = 1
stateno = 25001
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];礫7
type = Helper
TriggerAll = palno = 12
trigger1 = AnimElem = 5
ID = 25000
pos = 10, -5 
postype = p1
facing = -1
stateno = 25002
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[State -1, ヘルパー召喚];礫8
type = Helper
TriggerAll = palno = 12
trigger1 = AnimElem = 5
ID = 25000
pos = 0, -15 
postype = p1
facing = -1
stateno = 25003
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999









[State -1, ヘルパー召喚];礫9
type = Helper
TriggerAll = palno = 12
trigger1 = AnimElem = 6
ID = 25000
pos = 20, -250 
postype = p1
facing = 1
stateno = 25000
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];礫10
type = Helper
TriggerAll = palno = 12
trigger1 = AnimElem = 6
ID = 25000
pos = 30, -250  
postype = p1
facing = 1
stateno = 25001
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];礫11
type = Helper
TriggerAll = palno = 12
trigger1 = AnimElem = 6
ID = 25000
pos = 20, -250 
postype = p1
facing = -1
stateno = 25002
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[State -1, ヘルパー召喚];礫12
type = Helper
TriggerAll = palno = 12
trigger1 = AnimElem = 6
ID = 25000
pos = 40, -250 
postype = p1
facing = -1
stateno = 25003
size.xscale  = 0.5
size.yscale  = 0.5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999












[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 70, 19


[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 70, 20




[State 2040, ヒット定義]
type = HitDef
TriggerAll = palno  != 12
trigger1 = AnimElem = 4
attr = S, HA 
damage = 250, 0
animtype = High
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 15
sparkno = -1
sparkxy = -10, -76
hitsound = s70, 17
guardsound = s2, 4
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -15,-7
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -15,-7
air.hittime = 14
getpower = 70,50
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
P2StateNo = 60000




[State 2040, ヒット定義]
type = HitDef
TriggerAll = palno  != 12
trigger1 = AnimElem = 5
attr = S, HA
damage = 0, 0
animtype = High
guardflag = 
hitflag = MF
priority = 3, Hit
pausetime = 1, 25
sparkno = -1
sparkxy = -10, -76
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 42
ground.hittime  = 22
ground.velocity = -5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-26
air.hittime = 14
getpower = 70,50
air.fall = 1
fall.recover = 0


[State -1, ヘルパー召喚];１２用攻撃ヘルパー
type = Helper
TriggerAll = palno  = 12
trigger1 = AnimElem = 4
ID = 95556
pos = 0, 0
postype = p1
facing = 1
stateno = 95556
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999





[State -1, ヘルパー召喚];１２用攻撃ヘルパー
type = Helper
TriggerAll = palno  = 12
trigger1 = AnimElem = 5
ID = 95555
pos = 0, 0
postype = p1
facing = 1
stateno = 95555
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999





[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 70, 21




[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
name = "hit"
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16096
HelperType =  Player
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999
id = 16096









[State 2040, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1














;---------------------------------------------------------------------------
;---------------------------------------------------------------------------




[Statedef 2050];博麗拳術秘技『昇り星』
type = S
movetype = A
physics = S
ctrl = 0
anim = 2050
velset = 0,0
sprpriority = 2
facep2 = 1



[State -1, ];ゲージ　消費
type = Varadd
Trigger1   = time = 0
FV = 33
Value = -50



[State 2030, 超必殺技暗転時間停止]
type = SuperPause
trigger1 = AnimElem = 1
anim = s10000       ;超必エフェクトのアクションナンバー。通常は「fightfx.air」のアニメを使うが、
                 ;左に「s」を付ければ「自分のairファイル」のアクションナンバーが使える。
pos = 0, -65    ;超必エフェクトの座標（Ｘ軸,Ｙ軸）
sound = s4, 5    ;超必発動サウンド。通常は「common.snd」の音を使うが、
                 ;左に「s」を付ければ「自分のsndファイル」の音が使える。
time = 47


[State -1, ヘルパー召喚];カットイン　巫女
type = Helper
Trigger1 = AnimElem = 1
ID = 9900
pos = 40, 0 
postype = p1
facing = 1
stateno = 9900
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999










[State 2050, ヒット定義]
type = HitDef
TriggerAll = palno  != 12
trigger1 = AnimElem != 1
attr = C, NA 
damage = 0, 0
animtype = High
guardflag = LA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 125
sparkno = s17020
sparkxy = -10, -26
hitsound = s70, 18
guardsound = s2, 4
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -8,-3
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 14
getpower = 70,50
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
p1stateno = 2051



[State 2050, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1, 2


[State 2050, 移動]
type = VelSet
Trigger1 =  AnimElem = 2
x= -5



[State 2050, 移動]
type = VelSet
Trigger1 =  AnimElem = 4
x= 29


[State -1, ];命中判定
type = Varset
Trigger1   = time = 0
FV = 6
Value = 0




[State -1];１２P用攻撃
type = Projectile
TriggerAll = palno = 12
trigger1 = 1
attr = S, SA
projanim = 888
projremovetime = 1
projid = 888
projpriority = 16
projsprpriority = 0
projedgebound = 220
attr = S, ST
damage = 0, 0
animtype = High
guardflag = 
hitflag = MAF
priority = 3, Hit
pausetime = 1, 150
sparkno = -1
sparkxy = -10, -76
hitsound = s70, 17
guardsound = s2, 4
ground.type = High
ground.slidetime = 42
ground.hittime  = 22
ground.velocity = -26
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,2
air.hittime = 14
getpower = 70,50
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
p1stateno = 2051
p1facing = 1
p2facing = 1
guard.dist = 0
hitonce = 0





[State 2050, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1






;--------------------------------------------







[Statedef 2051];博麗拳術秘技『昇り星』　成功
type = S
movetype = A
physics = S
ctrl = 0
anim = 2051
velset = 0,0
sprpriority = 2
facep2 = 1




[State -1, ];命中判定
type = Varset
trigger1 = time = 0
FV = 6
Value = 1



[State 2051, エフェクト画像]
type = Explod
trigger1 = AnimElem = 3
anim = 12000
pos = 0, 0 
postype = p1
facing = 1
vfacing = 1
sprpriority = 4
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = 18



[State 2051, ヒット定義]
type = HitDef
TriggerAll = palno != 12
trigger1 = AnimElem = 3
attr = S, ST
damage = 250, 0
animtype = High
guardflag = 
hitflag = MAF
priority = 3, Hit
pausetime = 1, 1
sparkno = -1
sparkxy = -10, -76
hitsound = s70, 5
guardsound = s2, 4
ground.type = High
ground.slidetime = 42
ground.hittime  = 22
ground.velocity = -26
airguard.velocity = -50,-50
air.type = High
air.velocity = -50,-50
air.hittime = 14
getpower = 70,50
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
P2StateNo = 60000
p1facing = 1
p2facing = 1
guard.dist = 0
hitonce = 0







[state a];ヒットエフェクト
type = Helper
trigger1 =  AnimElem = 3
name = "hit"
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16096
HelperType =  Player
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999
id = 16096


[State -1, ヘルパー召喚];衝撃波縦長
type = Helper
trigger1 = AnimElem = 3
ID = 13011
pos = 10, -50 
postype = p1
facing = 1
stateno = 13011
size.xscale  = 0.34
size.yscale  = 0.74
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[State -1, ヘルパー召喚];波動
type = Helper
trigger1 = AnimElem = 4
ID = 20000
pos = 30, -80 
postype = p1
facing = 1
stateno = 20000
size.xscale  = 0.34
size.yscale  = 0.74
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999


[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = 70, 19



[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = 70, 20


[State -1, ヘルパー召喚];波動　地面
type = Helper
trigger1 = AnimElem = 3
ID = 20001
pos = -25, 0 
postype = p1
facing = 1
stateno = 20001
size.xscale  = 0.74
size.yscale  = 0.34
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999


[State -1, ヘルパー召喚];１２用攻撃ヘルパー
type = Helper
TriggerAll = palno  = 12
trigger1 = AnimElem = 3
ID = 95555
pos = 0, 0
postype = p1
facing = 1
stateno = 95555
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999





[State -1, 震動];衝撃 揺れ
type = envshake
trigger1 = AnimElem = 3
time = 18
freq = 130
ampl = 3
phase = 140



[State 2051, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1






;---------------------------------------------------------------------------
;---------------------------------------------------------------------------




[Statedef 2060];博麗拳術秘技『夢想天生』
type = S
movetype = A
physics = S
ctrl = 0
anim = 2060
velset = 0,0
sprpriority = 2
facep2 = 1



[State -1, ヘルパー召喚];時間
type = Helper
trigger1 = AnimElem = 7
ID = 2065
pos = 0, 0 
postype = p1
facing = -1
stateno = 2065
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999






[State -1, ];夢想天生
type = Varset
Trigger1   = AnimElem = 7
FV = 10
Value = 3




[State -1, ];ゲージ　消費
type = Varadd
Trigger1   = time = 0
FV = 33
Value = -50



[State 2060, 超必殺技暗転時間停止]
type = SuperPause
trigger1 = AnimElem = 1
anim = s10000       ;超必エフェクトのアクションナンバー。通常は「fightfx.air」のアニメを使うが、
                 ;左に「s」を付ければ「自分のairファイル」のアクションナンバーが使える。
pos = 0, -65    ;超必エフェクトの座標（Ｘ軸,Ｙ軸）
sound = s4, 5    ;超必発動サウンド。通常は「common.snd」の音を使うが、
                 ;左に「s」を付ければ「自分のsndファイル」の音が使える。
time = 47



[State -1, ヘルパー召喚];カットイン　巫女
type = Helper
Trigger1 = AnimElem = 1
ID = 9900
pos = 40, 0 
postype = p1
facing = 1
stateno = 9900
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999








[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 70, 19



[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 70, 20


[State -1, ヘルパー召喚];波動　地面
type = Helper
trigger1 = AnimElem = 5
ID = 20001
pos = -25, 0 
postype = p1
facing = 1
stateno = 20001
size.xscale  = 0.74
size.yscale  = 0.34
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, 震動];衝撃 揺れ
type = envshake
trigger1 = AnimElem = 5
time = 18
freq = 130
ampl =3
phase = 140


[State 2060, エフェクト画像]
type = Explod
trigger1 = AnimElem = 5
anim = 13000
pos = 0, 10 
postype = p1
facing = 1
vfacing = 1
sprpriority = 4
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = 30
Scale = 0.5,1




[State 2060, エフェクト画像]
type = Explod
trigger1 = AnimElem = 5
anim = 17010
pos = 0, -60  
postype = p1
facing = 1
vfacing = 1
sprpriority = 4
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = 18



[State -1, ヘルパー召喚];衝撃波縦長
type = Helper
trigger1 = AnimElem = 5
ID = 13011
pos = 0, -60 
postype = p1
facing = 1
stateno = 13011
size.xscale  = 0.34
size.yscale  = 0.74
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999


[State -1, ヘルパー召喚];夢
type = Helper
Trigger1 = Facing = 1
trigger1 = AnimElem = 2
ID = 21000
pos = 0, -60 
postype = p1
facing = 1
stateno = 21000
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];想
type = Helper
Trigger1 = Facing = 1
trigger1 = AnimElem = 3
ID = 21001
pos = 0, -60 
postype = p1
facing = 1
stateno = 21001
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[State -1, ヘルパー召喚];天
type = Helper
Trigger1 = Facing = 1
trigger1 = AnimElem = 4
ID = 21004
pos = 0, -60 
postype = p1
facing = 1
stateno = 21004
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];生
type = Helper
Trigger1 = Facing = 1
trigger1 = AnimElem = 7
ID = 21005
pos = 0, -50 
postype = p1
facing = 1
stateno = 21005
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999





[State -1, ヘルパー召喚];夢　反対
type = Helper
Trigger1 = Facing = -1
trigger1 = AnimElem = 2
ID = 21000
pos = 0, -60 
postype = p1
facing = -1
stateno = 21000
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];想　反対
type = Helper
Trigger1 = Facing = -1
trigger1 = AnimElem = 3
ID = 21001
pos = 0, -60 
postype = p1
facing = -1
stateno = 21001
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[State -1, ヘルパー召喚];天　反対
type = Helper
Trigger1 = Facing = -1
trigger1 = AnimElem = 4
ID = 21004
pos = 0, -60 
postype = p1
facing = -1
stateno = 21004
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, ヘルパー召喚];生　反対
type = Helper
Trigger1 = Facing = -1
trigger1 = AnimElem = 7
ID = 21005
pos = 0, -50 
postype = p1
facing = -1
stateno = 21005
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999







[State 2060, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;----------------------------------------------



[Statedef 2061];博麗拳術秘技『夢想天生』使用後
type = S
physics = S
ctrl = 0
anim = 2061
velset = 0,0
sprpriority = 5
facep2 = 1




[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 70, 23
freqmul = 2.0


[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 70, 8
freqmul = 2.0


[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 70, 25
freqmul = 1.0




[State -1];使用回数夢想天生
Type = VarSet
Trigger1 = Time  = 0
FV  = 9
Value = 0


[State -1];夢想天生
Type = VarAdd
Trigger1 = Time  = 0
FV  = 10
Value = -1



[State -1, ];ゲージ　消費
type = Varadd
Trigger1   = time = 0
FV = 33
Value = -10



[State 2061, エフェクト画像]
type = Explod
trigger1 = time%2 = 0
anim = 21100
pos = 0, 0  
postype = p1
facing = 1
vfacing = 1
sprpriority = 4
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = 2
scale = 0.55,0.55
SuperPauseTime  = 99999
PauseMoveTime  = 99999


[State 2061, エフェクト画像];残像1
type = Explod
trigger1 = time%2 = 0
anim = 21100
pos = 0, 0  
postype = p1
facing = 1
vfacing = 1
sprpriority = 4
bindtime = 1
removeongethit = 1
ignorehitpause = 0
removetime = 2
scale = 0.55,0.55
SuperPauseTime  = 99999
PauseMoveTime  = 99999

[State 2061, エフェクト画像];残像2
type = Explod
trigger1 = time%4 = 0
anim = 21100
pos = 0, 0  
postype = p1
facing = 1
vfacing = 1
sprpriority = 4
bindtime = 1
removeongethit = 1
ignorehitpause = 0
removetime = 4
scale = 0.55,0.55
SuperPauseTime  = 99999
PauseMoveTime  = 99999



[State 2061, 移動];追尾１
type = VelSet
Trigger1 = (P2dist X) < -70
x = -4
SuperPauseTime  = 99999
PauseMoveTime  = 99999
IgnoreHitPause = 1


[State 2061, 移動];追尾２
type = VelSet
Trigger1 = (P2dist X) > -70
x = 4
SuperPauseTime  = 99999
PauseMoveTime  = 99999
IgnoreHitPause = 1


[State 2061, 移動];
type = playerpush
Trigger1 = 1
value = 0




[State -3, EnvColor]
type = Bgpalfx
trigger1 = 1
time = 4
invertall = 1
color = 300
SuperPauseTime  = 99999
PauseMoveTime  = 99999
IgnoreHitPause = 1


[State -3, 時間停止]
type = Pause
trigger1 = 1
anim = -1       
pos = 0, 0    
sound = -1
time = 3
movetime = 3
SuperPauseTime  = 99999
PauseMoveTime  = 99999
IgnoreHitPause = 1




[State -3];無敵 本体
type = NotHitBy
Trigger1 = (P2dist X) < -60
value = SCA
SuperPauseTime  = 99999
PauseMoveTime  = 99999
time = 60



[State -1]
Type = BGPalFX
Trigger1 = 1
Add = -250,-250,-250
Time = 2


[State 2061, ステート変更]
type = ChangeState
TriggerAll = Var(59) = 1
Trigger1 = (P2dist X) < -40
Trigger2 = time > 100
value = 300
ctrl = 1
SuperPauseTime  = 99999
PauseMoveTime  = 99999
IgnoreHitPause = 1



[State 2061, ステート変更]
type = ChangeState
TriggerAll = Var(59) = 0
Trigger1 = (P2dist X) < -40
Trigger2 = time > 70
value = 0
ctrl = 1
SuperPauseTime  = 99999
PauseMoveTime  = 99999
IgnoreHitPause = 1












;---------------------------------------------------------------------------
;---------------------------------------------------------------------------




[Statedef 2070];博麗拳術秘技『臓器破壊』
type = S
movetype = A
physics = S
ctrl = 0
anim = 2070
velset = 0,0
sprpriority = 2
facep2 = 1


[State -1, ];ゲージ　消費
type = Varadd
Trigger1   = time = 0
FV = 33
Value = -50






[State 2070, 超必殺技暗転時間停止]
type = SuperPause
trigger1 = AnimElem = 1
anim = s10000       ;超必エフェクトのアクションナンバー。通常は「fightfx.air」のアニメを使うが、
                 ;左に「s」を付ければ「自分のairファイル」のアクションナンバーが使える。
pos = 0, -65    ;超必エフェクトの座標（Ｘ軸,Ｙ軸）
sound = s4, 5    ;超必発動サウンド。通常は「common.snd」の音を使うが、
                 ;左に「s」を付ければ「自分のsndファイル」の音が使える。
time = 47

[State -1, ヘルパー召喚];カットイン　巫女
type = Helper
Trigger1 = AnimElem = 1
ID = 9900
pos = 40, 0 
postype = p1
facing = 1
stateno = 9900
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999








[State 2070, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1, 2




[State -1, 残像]
type = Afterimage
trigger1 =  AnimElem = 3
PalContrast =  200, 30, 30
palbright = 30,30,0  ;(赤、緑、青)明るさ
palmul = .80,.80,.80
paladd = -10,-10,-10
trans = Add
time = 20
TimeGap  = 2
FrameGap = 2
length = 10





[State 2070, ヒット定義]
type = HitDef
TriggerAll = palno != 12
trigger1 = AnimElem = 5
attr = S, ST
damage = 0, 0
animtype = High
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 1, 15
sparkno = -1
sparkxy = -10, -76
hitsound = s70, 17
guardsound = s2, 4
ground.type = High
ground.slidetime = 42
ground.hittime  = 22
ground.velocity = -26
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-26
air.hittime = 14
getpower = 70,50
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
p1stateno = 2071
p2stateno = 2075
p1facing = 1
p2facing = 1
guard.dist = 0
hitonce = 0
ID = 50 


[State -1];１２P用攻撃
type = Projectile
TriggerAll = palno = 12
trigger1 = AnimElem = 5
attr = S, SA
projanim = 887
projremovetime = 2
projid = 887
projpriority = 16
projsprpriority = 0
projedgebound = 220
attr = S, ST
damage = 0, 0
animtype = High
guardflag = 
hitflag = MAF
priority = 3, Hit
pausetime = 1, 15
sparkno = -1
sparkxy = -10, -76
hitsound = s70, 17
guardsound = s2, 4
ground.type = High
ground.slidetime = 42
ground.hittime  = 22
ground.velocity = -26
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-26
air.hittime = 14
getpower = 70,50
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
p1stateno = 2071
p2stateno = 2075
p1facing = 1
p2facing = 1
guard.dist = 0
hitonce = 0
ID = 50 








[State 2070, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-----------------------------------------------






[Statedef 2071];博麗拳術秘技『臓器破壊』　成功
type = S
movetype = A
physics = S
ctrl = 0
anim = 2071
velset = 0,0
sprpriority = 2
facep2 = 1


[State -1]
Type = BGPalFX
Trigger1 = AnimElemTime(10) < 0
Add = 250,-250,-250
Time = 2
ignorehitpause = 1

[State Pal, 1]
type = Palfx
trigger1 = AnimElemTime(10) < 0
add = -250,-250,-250
time = 2
ignorehitpause = 1

[State -1, ];臓器破壊ヒット
type = Varadd
Trigger1   = time = 0
FV = 11
Value = 1

[State -1, ヘルパー召喚];
type = Helper
trigger1 = time = 0
ID = 2072
pos = 0, 70
postype = p2
facing = 1
stateno = 2072
size.xscale  = 1
size.yscale  = 1
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999


[State 700, エフェクト画像];0
type = Explod
trigger1 = AnimElem = 2
anim = 17020
pos = 17, -44 
postype = p1
facing = -1
vfacing = -1
ownpal = 1
scale  = 1,0.7
trans = sub
sprpriority = 44
bindtime = -1
removeongethit = 1
ignorehitpause = 1
removetime = 18

[State 700, エフェクト画像];1
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
trigger7 = AnimElem = 8
trigger8 = AnimElem = 9
trigger9 = AnimElem = 1
anim = 12200
pos = 44, -44 
postype = p1
facing = 1
vfacing = 1
ownpal = 1
scale  = 1,0.8
trans = sub
sprpriority = 44
bindtime = -1
random = 20,50
removeongethit = 1
ignorehitpause = 1
removetime = 13

[State 700, エフェクト画像];2
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
trigger7 = AnimElem = 8
trigger8 = AnimElem = 9
trigger9 = AnimElem = 1
anim = 12200
pos = 44, -44 
postype = p1
facing = 1
vfacing = -1
ownpal = 1
scale  = 1,0.8
trans = sub
sprpriority = 44
bindtime = -1
random = 20,50
removeongethit = 1
ignorehitpause = 1
removetime = 13


[State 700, エフェクト画像];3
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
trigger7 = AnimElem = 8
trigger8 = AnimElem = 9
trigger9 = AnimElem = 1
anim = 12200
pos = 44, -44 
postype = p1
facing = 1
vfacing = 1
ownpal = 1
scale  = 1,0.5
trans = sub
sprpriority = 44
bindtime = -1
random = 10,30
removeongethit = 1
ignorehitpause = 1
removetime = 13

[State 700, エフェクト画像];4
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
trigger7 = AnimElem = 8
trigger8 = AnimElem = 9
trigger9 = AnimElem = 1
anim = 12200
pos = 44, -44 
postype = p1
facing = 1
vfacing = -1
ownpal = 1
scale  = 1,0.5
trans = sub
sprpriority = 44
bindtime = -1
random = 10,30
removeongethit = 1
ignorehitpause = 1
removetime = 13

[State 700, エフェクト画像];5
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
trigger7 = AnimElem = 8
trigger8 = AnimElem = 9
trigger9 = AnimElem = 1
anim = 12200
pos = 44, -44 
postype = p1
facing = 1
vfacing = 1
ownpal = 1
scale  = 1.5,0.3
trans = sub
sprpriority = 44
bindtime = -1
random = 10,30
removeongethit = 1
ignorehitpause = 1
removetime = 13

[State 700, エフェクト画像];6
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
trigger7 = AnimElem = 8
trigger8 = AnimElem = 9
trigger9 = AnimElem = 1
anim = 12200
pos = 44, -44 
postype = p1
facing = 1
vfacing = -1
ownpal = 1
scale  = 1.5,0.3
trans = sub
sprpriority = 44
bindtime = -1
random = 10,30
removeongethit = 1
ignorehitpause = 1
removetime = 13

[State 700, エフェクト画像];臓器1
type = Explod
trigger1 = AnimElem = 2
anim = 14000
pos = 44, -44 
postype = p1
facing = 1
vfacing = 1
ownpal = 1
scale  = 1,1
trans = sub
sprpriority = 44
bindtime = 1
random = 10,10
vel = -12,2
removeongethit = 1
ignorehitpause = 1
removetime = 14

[State 700, エフェクト画像];臓器2
type = Explod
trigger1 = AnimElem = 2
anim = 14010
pos = 44, -44 
postype = p1
facing = 1
vfacing = 1
ownpal = 1
scale  = 1,1
trans = sub
sprpriority = 44
bindtime = 1
random = 10,10
vel = -15,-9
removeongethit = 1
ignorehitpause = 1
removetime = 14


[State 700, エフェクト画像];臓器3
type = Explod
trigger1 = AnimElem = 2
anim = 14000
pos = 44, -44 
postype = p1
facing = -1
vfacing = -1
ownpal = 1
scale  = 0.5,1
trans = sub
sprpriority = 44
bindtime = 1
random = 10,10
vel = -18,-4
removeongethit = 1
ignorehitpause = 1
removetime = 14

[State 700, エフェクト画像];臓器4
type = Explod
trigger1 = AnimElem = 2
anim = 14010
pos = 44, -44 
postype = p1
facing = -1
vfacing = -1
ownpal = 1
scale  = 1,0.5
trans = sub
sprpriority = 44
bindtime = 1
random = 10,10
vel = -20,1
removeongethit = 1
ignorehitpause = 1
removetime = 14

[State 2071, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 2, 5


[State 2071, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 70, 26



[State 2071, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
trigger2 = AnimElem = 2
value = 70, 27


[State 2071, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
trigger2 = AnimElem = 2
value = 20, 10


[State 2071, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 70, 33
freqmul = 1.2 

[State 2071, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 70, 31
freqmul = 1 

[State 2071, 掴んだ相手の位置１];TargetBindで相手を一時的に拘束
type = TargetBind
Trigger1 = AnimElemTime(10) < 0
pos = 40,-50



;相手が食らい状態の時のみ機能するTarget系コントローラ
[State 2071, 掴んだ相手のライフ増減];普通
type = TargetLifeAdd
trigger1 =  AnimElem = 2
value = -150
Kill = 1
absolute = 1




[State 2071, 掴んだ相手のステート変更];吹き飛び
type = TargetState
trigger1 =  AnimElem = 10
value = 2076





[State 2071, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;----------------------------
;掴まれた敵
;----------------------------


[Statedef 2075]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1







[State Pal, 1]
type = Palfx
trigger1 = 1
add = -250,-250,-250
time = 2
ignorehitpause = 1

[State 2075, 相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2075


[State 2075, ヒット定義];毒演出
type = HitDef
trigger1 = time = 0
attr = C, HP
damage = 0, 0
animtype = Light
guardflag = H
hitflag = F-
priority = 3, Hit
pausetime = 0,0
sparkno = -1
sparkxy = 0,0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0
air.type = High
air.velocity = 0
air.hittime = 0



[State -1, 無敵]
type = NotHitBy
Trigger1 = 1
value = , NA,SA,HA,NP,SP,HP,NT,ST,HT




[State -1, 相手ステートに戻す]
type = SelfState
Trigger1 = time > 600
value = 5210






;---------------------------





[Statedef 2076]
type    = A
movetype= H
physics = N
velset = -20,0
sprpriority = 1





[State 2076, 相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2075



[State 2076, 移動]
type = VelSet
Trigger1 = time = 5
x = -20

[State 2076, 速度加算];重力
type = VelSet
Trigger1 = time > 15
y = 12


[State 2076,]
type = LifeSet
TriggerAll = name!="miko"
TriggerAll = EnemyNear,palno  = 12
Trigger1 = time = 0
value = 0
absolute = 1


[State 2076, 無敵]
type = NotHitBy
Trigger1 = 1
value = , NA,SA,HA,NP,SP,HP,NT,ST,HT


[State 2076, 相手ステートに戻す]
type = SelfState
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
value = 5100





;---------------------------------------------------------------------------
;---------------------------------------------------------------------------




[Statedef 2080];博麗拳術秘技『霊激』
type = S
movetype = A
physics = S
ctrl = 0
anim = 2080
velset = 0,0
sprpriority = 2
facep2 = 1


[State -1, ];ゲージ　消費
type = Varadd
Trigger1   = time = 0
FV = 33
Value = -80


[State -1];霊激
Type = VarAdd
Trigger1 = Time  = 0
FV  = 36
Value = -1


[State 2080, 超必殺技暗転時間停止]
type = SuperPause
trigger1 = AnimElem = 1
anim = s10000       ;超必エフェクトのアクションナンバー。通常は「fightfx.air」のアニメを使うが、
                 ;左に「s」を付ければ「自分のairファイル」のアクションナンバーが使える。
pos = 0, -65    ;超必エフェクトの座標（Ｘ軸,Ｙ軸）
sound = s4, 5    ;超必発動サウンド。通常は「common.snd」の音を使うが、
                 ;左に「s」を付ければ「自分のsndファイル」の音が使える。
time = 47


[State -1, ヘルパー召喚];カットイン　巫女
type = Helper
Trigger1 = AnimElem = 1
ID = 9900
pos = 40, 0 
postype = p1
facing = 1
stateno = 9900
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999




[State -1]
Type = posfreeze
Trigger1 = 1
Value = 1




[State -1, ヘルパー召喚];波動　地面
type = Helper
trigger1 = AnimElem = 4
ID = 20001
pos = -25, 0 
postype = p1
facing = 1
stateno = 20001
size.xscale  = 0.74
size.yscale  = 0.34
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State -1, 震動];衝撃 揺れ
type = envshake
trigger1 = AnimElem = 4
time = 60
freq = 130
ampl = 3
phase = 140






[State 2040, エフェクト画像]
type = Explod
trigger1 = AnimElem = 4
anim = 13000
pos = 0, 10 
postype = p1
facing = 1
vfacing = 1
sprpriority = 4
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = 30





[State 2060, エフェクト画像]
type = Explod
trigger1 = AnimElem = 4
anim = 17010
pos = 0, -60  
postype = p1
facing = 1
vfacing = 1
sprpriority = 4
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = 18



[State -1, ヘルパー召喚];衝撃波縦長
type = Helper
trigger1 = AnimElem = 4
ID = 13011
pos = 0, -60 
postype = p1
facing = 1
stateno = 13011
size.xscale  = 0.34
size.yscale  = 0.74
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[State -1, ヘルパー召喚];衝撃波
type = Helper
trigger1 = AnimElem = 4
ID = 13010
pos = -25, 0 
postype = p1
facing = 1
stateno = 13010
size.xscale  = 0.74
size.yscale  = 0.34
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999


[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 70, 19


[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 70, 20





[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 70, 21









[State 2080, ヒット定義]
type = HitDef
TriggerAll = palno  != 12
trigger1 = AnimElem = 4
attr = S, HA 
damage = 100, 0
animtype = High
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 15
sparkno = -1
sparkxy = -10, -76
hitsound = s70, 17
guardsound = s2, 4
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -15,-7
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -15,-7
air.hittime = 14
getpower = 70,50
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
P2StateNo = 60000


[State -1, ヘルパー召喚];１２用攻撃ヘルパー
type = Helper
TriggerAll = palno  = 12
trigger1 = AnimElem = 4
ID = 95556
pos = 0, 0
postype = p1
facing = 1
stateno = 95556
size.xscale  = 1
size.yscale  = 1
HelperType =  Player

IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999



[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
name = "hit"
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16096
HelperType =  Player
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999
id = 16096









[State 2080, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1






;---------------------------------------------------------------------------
;---------------------------------------------------------------------------




[Statedef 2090];博麗拳術秘技『真空投撃』
type = S
movetype = A
physics = S
ctrl = 0
anim = 2090
velset = 0,0
sprpriority = 2
facep2 = 1


[State -1, ];ゲージ　消費
type = Varadd
Trigger1   = time = 0
FV = 33
Value = -50


[State 2090, 超必殺技暗転時間停止]
type = SuperPause
trigger1 = AnimElem = 1
anim = s10000       ;超必エフェクトのアクションナンバー。通常は「fightfx.air」のアニメを使うが、
                 ;左に「s」を付ければ「自分のairファイル」のアクションナンバーが使える。
pos = 0, -65    ;超必エフェクトの座標（Ｘ軸,Ｙ軸）
sound = s4, 5    ;超必発動サウンド。通常は「common.snd」の音を使うが、
                 ;左に「s」を付ければ「自分のsndファイル」の音が使える。
time = 47

[State -1, ヘルパー召喚];カットイン　巫女
type = Helper
Trigger1 = AnimElem = 1
ID = 9900
pos = 40, 0 
postype = p1
facing = 1
stateno = 9900
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999




[State 1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1, 2



[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 70, 19


[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 70, 20


[State -1, ヘルパー召喚];波動
type = Helper
trigger1 = AnimElem = 4
ID = 20000
pos = 40, -50 
postype = p1
facing = 1
stateno = 20000
size.xscale  = 0.34
size.yscale  = 0.74
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999

[State -1, ヘルパー召喚];波動　地面
type = Helper
trigger1 = AnimElem = 4
ID = 20001
pos = -25, 0 
postype = p1
facing = 1
stateno = 20001
size.xscale  = 0.74
size.yscale  = 0.34
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999

[State -1, 震動];衝撃 揺れ
type = envshake
trigger1 = AnimElem = 4
time = 18
freq = 130
ampl = 3
phase = 140






[State -1, 残像]
type = Afterimage
trigger1 =  AnimElem = 3
PalContrast =  200, 30, 30
palbright = 30,30,0  ;(赤、緑、青)明るさ
palmul = .80,.80,.80
paladd = -10,-10,-10
trans = Add
time = 20
TimeGap  = 2
FrameGap = 2
length = 10





[State 2090, ヒット定義]
type = HitDef
TriggerAll = palno != 12
trigger1 = AnimElem = 4
attr = S, ST
damage = 0, 0
animtype = High
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 1, 15
sparkno = -1
sparkxy = -10, -76
hitsound = s70, 17
guardsound = s2, 4
ground.type = High
ground.slidetime = 42
ground.hittime  = 22
ground.velocity = -26
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-26
air.hittime = 14
getpower = 70,50
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
p1stateno = 2091
p2stateno = 2095
p1facing = 1
p2facing = 1
guard.dist = 0
hitonce = 0
ID = 50 


[State -1];１２P用攻撃
type = Projectile
TriggerAll = palno = 12
trigger1 = AnimElem = 4
attr = S, SA
projanim = 887
projremovetime = 2
projid = 887
projpriority = 16
projsprpriority = 0
projedgebound = 220
attr = S, ST
damage = 0, 0
animtype = High
guardflag = 
hitflag = MAF
priority = 3, Hit
pausetime = 1, 15
sparkno = -1
sparkxy = -10, -76
hitsound = s70, 17
guardsound = s2, 4
ground.type = High
ground.slidetime = 42
ground.hittime  = 22
ground.velocity = -26
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-26
air.hittime = 14
getpower = 70,50
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
p1stateno = 2091
p2stateno = 2095
p1facing = 1
p2facing = 1
guard.dist = 0
hitonce = 0
ID = 50 


[State 2090, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;------------------------------------------------------



[Statedef 2091];博麗拳術秘儀『真空投撃』 成功
type = S
movetype= A
physics = S
ctrl = 0
anim = 2091
velset = 0,0
sprpriority = 2



[State 105, 残像]
type = Afterimage
trigger1 =  AnimElem = 1
palbright = 200,0,0  ;(赤、緑、青)
PalContrast =  200, 200, 200
palmul = .0,.0,.0
paladd = 0,0,0
trans = Add
time = 260
TimeGap  = 1
FrameGap = 11
length = 14



[State 1, 移動]
type = posSet
Trigger1 = 1;time = [0,5]
Trigger1 = facing = 1
x = -150
IgnoreHitPause = 1

[State 1, 移動]
type = posSet
Trigger1 = 1;time = [0,5]
Trigger1 = facing = -1
x = 150
IgnoreHitPause = 1

[State 2091, 掴んだ相手の位置１];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 =  AnimElem = 1
pos = 50,-60


[State -1, 音を鳴らす]
type = PlaySnd
trigger1 =  AnimElem = 5
trigger2 =  AnimElem = 10
trigger3 =  AnimElem = 21
value = 70, 19


[State -1, ヘルパー召喚];波動
type = Helper
trigger1 =  AnimElem = 5
trigger2 =  AnimElem = 10
trigger3 =  AnimElem = 21
ID = 20000
pos = 40, -50 
postype = p1
facing = 1
stateno = 20000
size.xscale  = 0.34
size.yscale  = 0.74
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999


[State -1, ヘルパー召喚];波動　地面
type = Helper
trigger1 =  AnimElem = 5
trigger2 =  AnimElem = 10
trigger3 =  AnimElem = 21
ID = 20001
pos = -25, 0 
postype = p1
facing = 1
stateno = 20001
size.xscale  = 0.74
size.yscale  = 0.34
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999


[State -1, 擬似ヒットストップ]
type = Pause
trigger1 =  AnimElem = 5
trigger2 =  AnimElem = 10
trigger3 =  AnimElem = 14
trigger4 =  AnimElem = 21
trigger5 =  AnimElem = 1
anim = -1     
pos = 0, -65    
sound = -1
time = 5
ignorehitpause = 1


[State 2091, 掴んだ相手のステート変更];吹き飛び
type = TargetState
trigger1 =  AnimElem = 5
trigger2 =  AnimElem = 21
trigger3 =  AnimElem = 1
value = 2095

[State 2091, 掴んだ相手のステート変更];吹き飛び
type = TargetState
trigger1 =  AnimElem = 10
value = 1002095


[State 2091, 掴んだ相手のステート変更];吹き飛び
type = TargetState
trigger1 =  AnimElem = 14
value = 2002095


[State 2091, 掴んだ相手のステート変更];吹き飛び
type = TargetState
trigger1 =  AnimElem = 28
value = 2097

;相手が食らい状態の時のみ機能するTarget系コントローラ
[State 2001, 掴んだ相手のライフ増減];普通
type = TargetLifeAdd
trigger1 =  AnimElem = 5
trigger2 =  AnimElem = 10
trigger3 =  AnimElem = 14
trigger4 =  AnimElem = 21
trigger5 =  AnimElem = 28
value = -50
Kill = 0
absolute = 0



[State -1, 震動];衝撃 揺れ
type = envshake
trigger1 =  AnimElem = 5
trigger2 =  AnimElem = 10
trigger3 =  AnimElem = 14
trigger4 =  AnimElem = 21
trigger5 =  AnimElem = 28
time = 18
freq = 130
ampl = 3
phase = 140

[State -1, 音を鳴らす]
type = PlaySnd
trigger1 =  AnimElem = 5
trigger2 =  AnimElem = 10
trigger3 =  AnimElem = 14
trigger4 =  AnimElem = 21
trigger5 =  AnimElem = 28
value = 70, 17

[state a];ヒットエフェクト
type = Helper
trigger1 =  AnimElem = 5
trigger2 =  AnimElem = 10
trigger3 =  AnimElem = 14
trigger4 =  AnimElem = 21
trigger5 =  AnimElem = 28
name = "hit"
pos = Ceil(P2Dist X/2-15)-50, -60-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16096
HelperType =  Player
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
IgnoreHitPause = 1
id = 16096


[State -3, ヘルパー画面固定]
type = screenbound
Trigger1 = 1
value = 0
movecamera = 0,0
IgnoreHitPause = 1



[State 105, 音を鳴らす]
type = PlaySnd
trigger1 =  AnimElem =31
value = 70, 10
freqmul = 1.0



[State 2091, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 2092
ctrl = 0


;------------------------------------------------------



[Statedef 2092];博麗拳術秘儀『真空投撃』 とどめ
type = S
movetype= A
physics = N
ctrl = 0
anim = 2092
velset = 0,0
sprpriority = 5

[State 1, 移動]
type = posSet
Trigger1 =  time = [0,1]
x=  EnemyNear(Var(55)),pos x 
y=  EnemyNear(Var(55)),pos y-60


[State 1, 移動]
type = VelSet
Trigger1 =  AnimElem = 3
y = 32


[State 2091, 掴んだ相手のステート変更];吹き飛び
type = TargetState
trigger1 =  AnimElem = 3
value = 2098

;相手が食らい状態の時のみ機能するTarget系コントローラ
[State 2001, 掴んだ相手のライフ増減];普通
type = TargetLifeAdd
trigger1 =  AnimElem = 3
value = -200
Kill = 1
absolute = 0



[State -1, 震動];衝撃 揺れ
type = envshake
trigger1 =  AnimElem = 3
time = 18
freq = 130
ampl = 3
phase = 140

[State -1, 音を鳴らす]
type = PlaySnd
trigger1 =  AnimElem = 3
value = 70, 17

[state a];ヒットエフェクト
type = Helper
trigger1 =  AnimElem = 3
name = "hit"
pos = 0, 0
Postype = p1
stateno = 16096
HelperType =  Player
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
IgnoreHitPause = 1
id = 16096


[State 2092, ステート変更]
type = ChangeState
trigger1 = pos Y >= -8 && Vel Y >= 0
value = 2093


;------------------------------------------------------



[Statedef 2093];博麗拳術秘儀『真空投撃』 着地
type = S
movetype= A
physics = N
ctrl = 0
anim = 2093
velset = 0,0
sprpriority = 2


[State 1, 移動]
type = posSet
Trigger1 =  1
y= 0

[State -1, 震動];衝撃 揺れ
type = envshake
trigger1 =  AnimElem = 1
time = 30
freq = 130
ampl = 3
phase = 140

[State -1, エフェクト画像]
type = Explod
trigger1 = AnimElem = 1
anim = 12010
pos = 0, 10
postype = p1
scale = 1,0.7
ontop = 0
bindtime = -1
removetime = 38
sprpriority = 5
ownpal = 1
removeongethit = 1
trans = add
vfacing = 1 
facing = 1 



[State -1, エフェクト画像]
type = Explod
trigger1 = AnimElem = 1
anim = 12020
pos = 60, 10
postype = p1
scale = 0.7,0.7
ontop = 0
bindtime = -1
removetime = 28
sprpriority = 5
ownpal = 1
removeongethit = 1
trans = add
vfacing = 1 
facing = 1 

[State -1, エフェクト画像]
type = Explod
trigger1 = AnimElem = 1
anim = 12020
pos = -60, 10
postype = p1
scale = 0.7,0.7
ontop = 0
bindtime = -1
removetime = 28
sprpriority = 5
ownpal = 1
removeongethit = 1
trans = add
vfacing = 1 
facing = -1 

[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 70, 19

[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 70, 20

[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 70, 21

[State 2093, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;----------------------------
;掴まれた敵
;----------------------------


;相手側２（吹っ飛び）
[Statedef 2095]
type    = A
movetype= H
physics = N

[State 1, 食らい中の速度1]
type = VelSet
trigger1 = 1
x = -20
y = 0

[State 2095, 相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2095 

[State 2095, ステート変更];壁に激突するステートへ
type = ChangeState
triggerall = time > 5
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 2096

[State -3, ヘルパー画面固定]
type = screenbound
Trigger1 = 1
value = 1
movecamera = 1,0
IgnoreHitPause = 1

[State 2095, ステート変更];壁に激突するステートへ
type = ChangeState
trigger1 = time > 120
value = 2096

;----------------------------


;相手側２（吹っ飛び）回転
[Statedef 1002095]
type    = A
movetype= H
physics = N

[State 1, 食らい中の速度1]
type = VelSet
trigger1 = 1
x = -20
y = 0

[State 1, 角度入力]
type = Angleadd
trigger1 = 1
value = -40
IgnoreHitPause = 1

[State 1, 角度変更実行]
type = AngleDraw
trigger1 = 1
IgnoreHitPause = 1

[State 2095, 相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2095 

[State 2095, ステート変更];壁に激突するステートへ
type = ChangeState
triggerall = time > 5
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 2096

[State -3, ヘルパー画面固定]
type = screenbound
Trigger1 = 1
value = 1
movecamera = 1,0
IgnoreHitPause = 1

[State 1002095, ステート変更];壁に激突するステートへ
type = ChangeState
trigger1 = time > 120
value = 2096



;----------------------------


;相手側２（吹っ飛び）上
[Statedef 2002095]
type    = A
movetype= H
physics = N

[State 1, 食らい中の速度1]
type = VelSet
trigger1 = 1
x = -15
y = -10

[State 1, 角度入力]
type = Angleadd
trigger1 = 1
value = -12
IgnoreHitPause = 1

[State 1, 角度変更実行]
type = AngleDraw
trigger1 = 1
IgnoreHitPause = 1

[State 2095, 相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2095 

[State 2095, ステート変更];壁に激突するステートへ
type = ChangeState
triggerall = time > 5
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 2002096

[State -3, ヘルパー画面固定]
type = screenbound
Trigger1 = 1
value = 1
movecamera = 1,0
IgnoreHitPause = 1

[State 2002095, ステート変更];壁に激突するステートへ
type = ChangeState
trigger1 = time > 120
value = 2002096

;----------------------------


;相手側２（吹っ飛び）
[Statedef 2096]
type    = A
movetype= H
physics = N


[State 1, 角度入力]
type = Angleset
trigger1 = 1
value = 0
IgnoreHitPause = 1

[State 1, 角度変更実行]
type = AngleDraw
trigger1 = 1
IgnoreHitPause = 1

[State 1, 食らい中の速度2]
type = VelSet
trigger1 = time = 0
x = 0

[State 1, 食らい中の速度3]
type = VelSet
trigger1 = time >= 10
x = 15


[State 2005, 相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2096  

[State -3, ヘルパー画面固定]
type = screenbound
Trigger1 = 1
value = 1
movecamera = 1,0
IgnoreHitPause = 1

[State -1, 相手ステートに戻す]
type = SelfState
Trigger1 = time > 600
value = 5210


;----------------------------


;相手側２（吹っ飛び）
[Statedef 2002096]
type    = A
movetype= H
physics = N


[State 1, 角度入力]
type = Angleset
trigger1 = 1
value = 0
IgnoreHitPause = 1

[State 1, 角度変更実行]
type = AngleDraw
trigger1 = 1
IgnoreHitPause = 1

[State 1, 食らい中の速度2]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 1, 食らい中の速度3]
type = VelSet
trigger1 = time >= 10
x = 12
y = 7

[State 2005, 相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2096  

[State -3, ヘルパー画面固定]
type = screenbound
Trigger1 = 1
value = 1
movecamera = 1,0
IgnoreHitPause = 1

[State -1, 相手ステートに戻す]
type = SelfState
Trigger1 = time > 600
value = 5210

;-----------------------------


;相手側２（吹っ飛び）
[Statedef 2097]
type    = A
movetype= H
physics = N

[State 1, 食らい中の速度4]
type = VelSet
trigger1 = time = [0,3]
y = -13
x = -6

[State 1, 食らい中の速度5]
type = Veladd
trigger1 = vel y < 0
y = 0.3
x = 0.12

[State 2005, 相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2096



;-----------------------------


;相手側２（吹っ飛び）
[Statedef 2098]
type    = A
movetype= H
physics = N

[State 1, 食らい中の速度]
type = VelSet
trigger1 = 1
y = 22
x = 0

[State 2005, 相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2098


[State -1, 相手ステートに戻す]
type = SelfState
trigger1 = pos Y >= -8 && Vel Y >= 0
value = 5100


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

;３ゲージ超必殺技
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------




[Statedef 4000];博麗拳術極技『夢想封滅』
type = S
movetype = A
physics = S
ctrl = 0
anim = 4000
velset = 0,0
sprpriority = 2
facep2 = 1


[State -1, ];ゲージ　消費
type = Varadd
Trigger1   = time = 0
FV = 33
Value = -80



[State 4000, 超必殺技暗転時間停止]
type = SuperPause
trigger1 = AnimElem = 1
anim = s10000       ;超必エフェクトのアクションナンバー。通常は「fightfx.air」のアニメを使うが、
                 ;左に「s」を付ければ「自分のairファイル」のアクションナンバーが使える。
pos = 0, -65    ;超必エフェクトの座標（Ｘ軸,Ｙ軸）
sound = s4, 5    ;超必発動サウンド。通常は「common.snd」の音を使うが、
                 ;左に「s」を付ければ「自分のsndファイル」の音が使える。
time = 47
poweradd = -3000






[State 4000, ヒット定義]
type = HitDef
TriggerAll = palno  != 12
trigger1 = AnimElem != 1
attr = S, HA 
damage = 0, 0
animtype = High
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 10, 125
sparkno = s17020
sparkxy = -10, -26
hitsound = s70, 17
guardsound = s2, 4
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -8,-8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -8,-8
air.hittime = 14
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
p1stateno = 4001
p2stateno = 4005
p1facing = 1
p2facing = 1



[State -1];１２P用攻撃
type = Projectile
TriggerAll = palno  = 12
trigger1 = AnimElem = 3
attr = S, SA
projanim =14099
projid = 1
postype = p1
offset = 0,0
projremovetime = 5
projpriority = 16
projsprpriority = 0
projedgebound = 220
attr = S, NA
air.juggle = 2
postype = p1
offset = 0, 50
velocity = 0 
damage = 0, 0
animtype = High
guardflag = 
hitflag = MAF
priority = 3, Hit
pausetime = 1, 1
sparkno = -1
sparkxy = -10, 0
hitsound = s70,17
guardsound = s2, 4
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 14
getpower = 70,50
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
p1stateno = 4001
p2stateno = 4005
p1facing = 1
p2facing = 1




[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
name = "hit"
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16096
HelperType =  Player
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
id = 16096






[State 1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1, 2

[State 4000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------






[Statedef 4001];博麗拳術極技『夢想封滅』 成功
type = S
movetype = A
physics = S
ctrl = 0
anim = 4001
velset = 0,0
sprpriority = 2
facep2 = 1



[State 1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 70, 10
freqmul = 1.0
IgnoreHitPause = 1



[State -2, ]
type = Hitadd
TriggerAll = time%10 = 0
Trigger1 = time > 10
value = 1



[State 1, 音を鳴らす]
type = PlaySnd
TriggerAll = random = [0,500]
TriggerAll = time%10 = 0
Trigger1 = time > 10
value = 70, 17
freqmul = 1.0
lowpriority = 500
IgnoreHitPause = 1


[State 1, 音を鳴らす]
type = PlaySnd
TriggerAll = random = [501,999]
TriggerAll = time%10 = 0
Trigger1 = time > 10
value = 70, 18
freqmul = 1.0
lowpriority = 500
IgnoreHitPause = 1


[State 1, 音を鳴らす]
type = PlaySnd
TriggerAll = Random%7 = 0
Trigger1 = time > 10
value = 70, 29
freqmul = 1.5

[State 1, 音を鳴らす]
type = PlaySnd
TriggerAll = Random%7 = 0
Trigger1 = time > 10
value = 70, 10
freqmul = 1

[State 1, 移動]
type = PosSet
TriggerAll = Random%2 = 0
Trigger1 = time > 10
x = Random/7
y = EnemyNear,pos y+0 

[State 1, 移動]
type = PosSet
TriggerAll = Random%3 = 0
Trigger1 = time > 10
x = -Random/7
y = EnemyNear,pos y+0 

[State -1];攻撃1
type = Projectile
TriggerAll = time%10 = 0
Trigger1 = time > 10
attr = S, SA
projanim =14099
projid = 1
postype = p1
offset = 0,0
projremovetime = 5
projpriority = 16
projsprpriority = 0
projedgebound = 220
attr = S, NA
air.juggle = 2
postype = p1
offset = 0, 50
velocity = 0 
damage = 0, 0
animtype = High
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 1, 1
sparkno = -1
sparkxy = -10, 0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 14
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
p2stateno = 4005


[State -1];攻撃2
type = Projectile
TriggerAll = time%10 = 0
Trigger1 = time > 10
attr = S, SA
projanim =14099
projid = 1
postype = p1
offset = 0,0
projremovetime = 5
projpriority = 16
projsprpriority = 0
projedgebound = 220
attr = S, NA
air.juggle = 2
postype = p1
offset = 0, 50
velocity = 0 
damage = 20, 0
animtype = High
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 1, 1
sparkno = -1
sparkxy = -10, 0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 14
air.fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 
envshake.time = 20
envshake.freq = 70
envshake.ampl = 3
envshake.phase = 80 


[State 1, 画面固定]
type = screenbound
Trigger1 = time > 10
value = 0
movecamera = 0,0
IgnoreHitPause = 1



[State -1, 震動];衝撃 揺れ
type = envshake
TriggerAll = time%10 = 0
Trigger1 = time > 10
time = 5
freq = 130
ampl = 5
phase = 140


;相手が食らい状態の時のみ機能するTarget系コントローラ
[State 1, 掴んだ相手のライフ増減]
type = TargetLifeAdd
TriggerAll = time%10 = 0
Trigger1 = time > 10
value = -20
kill = 0
absolute = 1
IgnoreHitPause = 1

[State  1, 掴んだ相手のステート変更]
type = TargetState
TriggerAll = Random%10 = 0
TriggerAll = EnemyNear,pos y <-200
Trigger1 = time > 10
value = 4008

[State  1, 掴んだ相手のステート変更]
type = TargetState
TriggerAll = EnemyNear,pos y >=-200
TriggerAll = Random = [0,300]
TriggerAll = time%10 = 0
Trigger1 = time > 10
value = 4006


[State  1, 掴んだ相手のステート変更]
type = TargetState
TriggerAll = EnemyNear,pos y >=-200
TriggerAll = Random = [301,600]
TriggerAll = time%10 = 0
Trigger1 = time > 10
value = 4007

[State  1, 掴んだ相手のステート変更]
type = TargetState
TriggerAll = EnemyNear,pos y >=-200
TriggerAll = Random = [600,999]
TriggerAll = time%10 = 0
Trigger1 = time > 10
value = 4008



[state a];風
type = Helper
TriggerAll = time%20 = 0
Trigger1 = time > 10
pos = -200,-30
Postype = p1
stateno = 18000
HelperType =  Player
ignorehitpause = 1
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999
HelperType =  Player
id = 18000



[State 1, エフェクト画像];ヒットエフェクト
type = Explod
Trigger1 = time > 10
Trigger1 = time%10 = 0
anim = 10100
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y) 
ontop = 0
postype = p2
scale = 1,1
facing = 1
vfacing = 1
sprpriority = 8
bindtime = 1
removeongethit = 1
ignorehitpause = 1
removetime = 13
SuperMoveTime  = 9999
PauseMoveTime  = 9999
id = 10100


[State 1, エフェクト画像];攻撃風1
type = Explod
TriggerAll = Random = [0,500]
Trigger1 = time > 10
Trigger1 = time%10 = 0
anim = 18200
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y) 
ontop = 0
postype = p2
scale = 1,1
facing = 1
vfacing = 1
sprpriority = 6
bindtime = 1
removeongethit = 1
ignorehitpause = 1
removetime = 8
SuperMoveTime  = 9999
PauseMoveTime  = 9999
id = 18200


[State 1, エフェクト画像];攻撃風2
type = Explod
TriggerAll = Random = [501,999]
Trigger1 = time > 10
Trigger1 = time%10 = 0
anim = 18300
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y) 
ontop = 0
postype = p2
scale = 1,1
facing = 1
vfacing = 1
sprpriority = 6
bindtime = 1
removeongethit = 1
ignorehitpause = 1
removetime = 8
SuperMoveTime  = 9999
PauseMoveTime  = 9999
id = 18300





[State 1, エフェクト画像];切り風1
type = Explod
TriggerAll = Random = [0,500]
Trigger1 = time > 10
Trigger1 = time%7 = 0
anim = 18201
pos = 0, -90  
ontop = 0
postype = p1
scale = 1.5,1.5
facing = 1
vfacing = 1
sprpriority = -6
bindtime = 1
removeongethit = 1
ignorehitpause = 1
removetime = 8
SuperMoveTime  = 9999
PauseMoveTime  = 9999
id = 18200
random = 160,150



[State 1, エフェクト画像];切り風2
type = Explod
TriggerAll = Random = [501,999]
Trigger1 = time > 10
Trigger1 = time%7 = 0
anim = 18201
pos = 0, -90  
ontop = 0
postype = p1
scale = 1.5,1.5
facing = -1
vfacing = -1
sprpriority = -6
bindtime = 1
removeongethit = 1
ignorehitpause = 1
removetime = 8
SuperMoveTime  = 9999
PauseMoveTime  = 9999
id = 18200
random = 160,150




[State 1, エフェクト画像];2切り風1
type = Explod
TriggerAll = Random = [0,500]
Trigger1 = time > 10
Trigger1 = time%5 = 0
anim = 18301
pos = 0, -90  
ontop = 0
postype = p1
scale = 1.5,1.5
facing = 1
vfacing = 1
sprpriority = -6
bindtime = 1
removeongethit = 1
ignorehitpause = 1
removetime = 8
SuperMoveTime  = 9999
PauseMoveTime  = 9999
id = 18200
random = 160,150



[State 1, エフェクト画像];2切り風2
type = Explod
TriggerAll = Random = [501,999]
Trigger1 = time > 10
Trigger1 = time%5 = 0
anim = 18301
pos = 0, -90  
ontop = 0
postype = p1
scale = 1.5,1.5
facing = -1
vfacing = -1
sprpriority = -6
bindtime = 1
removeongethit = 1
ignorehitpause = 1
removetime = 8
SuperMoveTime  = 9999
PauseMoveTime  = 9999
id = 18200
random = 160,150


[State 1, エフェクト画像];残像1
type = Explod
TriggerAll = Random = [0,120]
Trigger1 = time > 10
Trigger1 = time%10 = 0
anim = 104000
pos = 0, 0  
ontop = 0
postype = p2
scale = 0.55,0.55
sprpriority = 6
bindtime = 1
removeongethit = 1
ignorehitpause = 1
removetime = 10
SuperMoveTime  = 9999
PauseMoveTime  = 9999
vel =12,0

[State 1, エフェクト画像];残像2
type = Explod
TriggerAll = Random = [121,240]
Trigger1 = time > 10
Trigger1 = time%10 = 0
anim = 104001
pos = 0, 0  
ontop = 0
postype = p2
scale = 0.55,0.55
sprpriority = 6
bindtime = 1
removeongethit = 1
ignorehitpause = 1
removetime = 10
SuperMoveTime  = 9999
PauseMoveTime  = 9999
vel =10,0

[State 1, エフェクト画像];残像3
type = Explod
TriggerAll = Random = [241,360]
Trigger1 = time > 10
Trigger1 = time%10 = 0
anim = 104002
pos = 0, 0  
ontop = 0
postype = p2
scale = 0.55,0.55
sprpriority = 6
bindtime = 1
removeongethit = 1
ignorehitpause = 1
removetime = 10
SuperMoveTime  = 9999
PauseMoveTime  = 9999
vel =10,0

[State 1, エフェクト画像];残像4
type = Explod
TriggerAll = Random = [361,480]
Trigger1 = time > 10
Trigger1 = time%10 = 0
anim = 104003
pos = 0, 0  
ontop = 0
postype = p2
scale = 0.55,0.55
sprpriority = 6
bindtime = 1
removeongethit = 1
ignorehitpause = 1
removetime = 10
SuperMoveTime  = 9999
PauseMoveTime  = 9999
vel =12,0

[State 1, エフェクト画像];残像5
type = Explod
TriggerAll = Random = [481,600]
Trigger1 = time > 10
Trigger1 = time%10 = 0
anim = 104004
pos = 0, 0  
ontop = 0
postype = p2
scale = 0.55,0.55
sprpriority = 6
bindtime = 1
removeongethit = 1
ignorehitpause = 1
removetime = 10
SuperMoveTime  = 9999
PauseMoveTime  = 9999
vel =8,0

[State 1, エフェクト画像];残像6
type = Explod
TriggerAll = Random = [601,720]
Trigger1 = time > 10
Trigger1 = time%10 = 0
anim = 104005
pos = 0, 0  
ontop = 0
postype = p2
scale = 0.55,0.55
sprpriority = 6
bindtime = 1
removeongethit = 1
ignorehitpause = 1
removetime = 10
SuperMoveTime  = 9999
PauseMoveTime  = 9999
vel =8,8

[State 1, エフェクト画像];残像7
type = Explod
TriggerAll = Random = [721,840]
Trigger1 = time > 10
Trigger1 = time%10 = 0
anim = 104006
pos = 0, 0  
ontop = 0
postype = p2
scale = 0.55,0.55
sprpriority = 6
bindtime = 1
removeongethit = 1
ignorehitpause = 1
removetime = 10
SuperMoveTime  = 9999
PauseMoveTime  = 9999
vel =3,-12

[State 1, エフェクト画像];残像8
type = Explod
TriggerAll = Random = [841,999]
Trigger1 = time > 10
Trigger1 = time%10 = 0
anim = 104007
pos = 0, 0  
ontop = 0
postype = p2
scale = 0.55,0.55
sprpriority = 6
bindtime = 1
removeongethit = 1
ignorehitpause = 1
removetime = 10
SuperMoveTime  = 9999
PauseMoveTime  = 9999
vel =3,-6




[State -1, ヘルパー召喚];拳閃
type = Helper
Trigger1 = time > 10
Trigger1 = time%10 = 0
ID = 19500
pos = 0, -60 
postype = p2
facing = 1
stateno = 19500
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999





[State -1, エフェクト画像]
type = Explod
TriggerAll = Random = [0,250]
Trigger1 = time > 10
Trigger1 = time%20 = 0
anim = 19000
pos = 0, 50
postype = p1
scale = 0.5,0.5
ontop = 0
bindtime = 1
removetime = 30
sprpriority = -3
ownpal = 1
SuperMoveTime = 999999
PauseMoveTime = 999999
removeongethit = 1
vel = -5,2
Random = 50,90

[State -1, エフェクト画像]
type = Explod
TriggerAll = Random = [251,500]
Trigger1 = time > 10
Trigger1 = time%20 = 0
anim = 19001
pos = 0, 50
postype = p1
scale = 0.5,0.5
ontop = 0
bindtime = 1
removetime = 30
sprpriority = -3
ownpal = 1
SuperMoveTime = 999999
PauseMoveTime = 999999
removeongethit = 1
vel = -5,-2
Random = 50,90

[State -1, エフェクト画像]
type = Explod
TriggerAll = Random = [501,750]
Trigger1 = time > 10
Trigger1 = time%20 = 0
anim = 19002
pos = 0, 50
postype = p1
scale = 0.5,0.5
ontop = 0
bindtime = 1
removetime = 30
sprpriority = -3
ownpal = 1
SuperMoveTime = 999999
PauseMoveTime = 999999
removeongethit = 1
vel = -3,1
Random = 50,90

[State -1, エフェクト画像]
type = Explod
TriggerAll = Random = [751,999]
Trigger1 = time > 10
Trigger1 = time%20 = 0
anim = 19002
pos = 0, 50
postype = p1
scale = 0.5,0.5
ontop = 0
bindtime = 1
removetime = 30
sprpriority = -3
ownpal = 1
SuperMoveTime = 999999
PauseMoveTime = 999999
removeongethit = 1
vel = -3,-1
Random = 50,90



[State -1, エフェクト画像];移動残像1
type = Explod
TriggerAll = Random = [0,150]
Trigger1 = time > 10
Trigger1 = time%5 = 0
anim = 104010
pos = 0, 0
postype = p1
scale = 0.55,0.55
ontop = 0
bindtime = 1
removetime = 20
sprpriority = 5
ownpal = 1
SuperMoveTime = 999999
PauseMoveTime = 999999
removeongethit = 1
vel = 18,-18
Random = 300,100
facing = 1
vfacing = 1

[State -1, エフェクト画像];移動残像2
type = Explod
TriggerAll = Random = [151,300]
Trigger1 = time > 10
Trigger1 = time%5 = 0
anim = 104010
pos = 0, 0
postype = p1
scale = 0.55,0.55
ontop = 0
bindtime = 1
removetime = 20
sprpriority = 5
ownpal = 1
SuperMoveTime = 999999
PauseMoveTime = 999999
removeongethit = 1
vel = -18,-18
Random = 300,100
facing = -1
vfacing = 1


[State -1, エフェクト画像];移動残像3
type = Explod
TriggerAll = Random = [301,450]
Trigger1 = time > 10
Trigger1 = time%5 = 0
anim = 104010
pos = 0, 0
postype = p1
scale = 0.55,0.55
ontop = 0
bindtime = 1
removetime = 20
sprpriority = 5
ownpal = 1
SuperMoveTime = 999999
PauseMoveTime = 999999
removeongethit = 1
vel = 18,18
Random = 300,100
facing = 1
vfacing = -1

[State -1, エフェクト画像];移動残像4
type = Explod
TriggerAll = Random = [451,600]
Trigger1 = time > 10
Trigger1 = time%5 = 0
anim = 104010
pos = 0, 0
postype = p1
scale = 0.55,0.55
ontop = 0
bindtime = 1
removetime = 20
sprpriority = 5
ownpal = 1
SuperMoveTime = 999999
PauseMoveTime = 999999
removeongethit = 1
vel = -18,18
Random = 300,100
facing = -1
vfacing = -1

[State -1, エフェクト画像];移動残像5
type = Explod
TriggerAll = Random = [601,750]
Trigger1 = time > 10
Trigger1 = time%5 = 0
anim = 104020
pos = 0, 0
postype = p1
scale = 0.55,0.55
ontop = 0
bindtime = 1
removetime = 20
sprpriority = 5
ownpal = 1
SuperMoveTime = 999999
PauseMoveTime = 999999
removeongethit = 1
vel = 18,0
Random = 300,100
facing = 1
vfacing = 1

[State -1, エフェクト画像];移動残像6
type = Explod
TriggerAll = Random = [751,999]
Trigger1 = time > 10
Trigger1 = time%5 = 0
anim = 104020
pos = 0, 0
postype = p1
scale = 0.55,0.55
ontop = 0
bindtime = 1
removetime = 20
sprpriority = 5
ownpal = 1
SuperMoveTime = 999999
PauseMoveTime = 999999
removeongethit = 1
vel = -18,0
Random = 300,100
facing = -1
vfacing = 1


[State 1, エフェクト画像];集中線1
type = Explod
Trigger1 = facing = 1
Trigger1 = time > 10
Trigger1 = time%10 = 0
anim = 19200
pos = 0, 0  
postype = Back
facing = 1
vfacing = 1
ontop = 0
sprpriority = 12
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = 4
id = 19200
Scale = 1,1
ownpal = 1 
PauseMoveTime  = 9999
SuperMovetime  = 9999

[State 1, エフェクト画像];集中線2
type = Explod
Trigger1 = facing = -1
Trigger1 = time > 10
Trigger1 = time%10 = 0
anim = 19200
pos = 0, 0  
postype = front
facing = 1
vfacing = 1
ontop = 0
sprpriority = 12
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = 4
id = 19200
Scale = 1,1
ownpal = 1 
PauseMoveTime  = 9999
SuperMovetime  = 9999


[State -1]
Type = ModifyExplod
Trigger1 = facing = 1
postype = Back
pos = 0, 0
ID = 19200
IgnoreHitPause = 1
Persistent = 1
Scale = 1,1


[State -1]
Type = ModifyExplod
Trigger1 = facing = -1
postype = front
pos = 0, 0
ID = 19200
IgnoreHitPause = 1
Persistent = 1
Scale = 1,1




[State -1]
Type = BGPalFX
Trigger1 = 1
Add = -100,-100,-100
Time = 20
IgnoreHitPause = 1



[State 191, 特殊効果]
type = AssertSpecial
Trigger1 = 1
flag = TimerFreeze
ignorehitpause = 1


[State 4001, ステート変更]
type = ChangeState
trigger1 = Time > 300
value = 4002
ctrl = 0



;---------------------------------------------


[Statedef 4002];博麗拳術極技『夢想封滅』 とどめ
type = S
movetype = A
physics = S
ctrl = 0
anim = 4002
velset = 0,0
sprpriority =3
facep2 = 1


[State 191, 特殊効果]
type = AssertSpecial
Trigger1 = 1
flag = TimerFreeze
ignorehitpause = 1


[State -1, 残像]
type = Afterimage
trigger1 =  time = [0,1]
PalContrast =  200, 200, 200
palbright = 30,30,0  ;(赤、緑、青)明るさ
palmul = .80,.80,.80
paladd = -10,-10,-10
trans = Add
time = 60
TimeGap  = 2
FrameGap = 2
length = 10

[State 1, 音を鳴らす]
type = PlaySnd
Trigger1 = time =0
trigger2 = AnimElem = 7
value = 70, 17
freqmul = 1.0

[State -2, ]
type = Hitadd
Trigger1 = time =0
trigger2 = AnimElem = 7
value = 1




[State -1, ヘルパー召喚];滅1
type = Helper
Trigger1 = Facing = 1
trigger1 = AnimElem = 7
ID = 21006
pos = 50, 0 
postype = p1
facing = 1
stateno = 21006
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999

[State -1, ヘルパー召喚];滅2
type = Helper
Trigger1 = Facing = -1
trigger1 = AnimElem = 7
ID = 21006
pos = 50, 0 
postype = p1
facing = -1
stateno = 21006
size.xscale  = 1
size.yscale  = 1
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999




[State -1, 震動];衝撃 揺れ
type = envshake
Trigger1 = time = 0
time = 5
freq = 130
ampl = 3
phase = 140


[State 1, 移動]
type = PosSet
TriggerAll = facing = 1
Trigger1 = AnimElem = 2
x = -40
y = -110


[State 1, 移動]
type = PosSet
TriggerAll = facing = -1
Trigger1 = AnimElem = 2
x = 40
y = -110

[State 1000, 移動]
type = VelSet
Trigger1 =  AnimElem = 3
x= 1
y = -2

[State 1000, 移動]
type = VelSet
Trigger1 =  AnimElem = 5
x= 1
y = 2

[State 1000, 移動]
type = VelSet
Trigger1 =  AnimElem = 7
x= 0
y = 0


[State -1, 震動];衝撃 揺れ
type = envshake
trigger1 = AnimElem = 7
time = 30
freq = 130
ampl = 3
phase = 140

;相手が食らい状態の時のみ機能するTarget系コントローラ
[State 1, 掴んだ相手のライフ増減]
type = TargetLifeAdd
Trigger1 = time= 0
value = -50
kill = 0
absolute = 1

[State  1, 掴んだ相手のステート変更]
type = TargetState
Trigger1 = time =0
value = 4010


;相手が食らい状態の時のみ機能するTarget系コントローラ
[State 1, 掴んだ相手のライフ増減]
type = TargetLifeAdd
trigger1 = AnimElem = 7
value = -200
absolute = 1

[State  1, 掴んだ相手のステート変更]
type = TargetState
trigger1 = AnimElem = 8
value = 4011


[state a];ヒットエフェクト
type = Helper
Trigger1 = time = 0
name = "hit"
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16096
HelperType =  Player
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
id = 16096


[state a];ヒットエフェクト
type = Helper
trigger1 = AnimElem = 7
name = "hit"
pos = 50,0
Postype = p1
stateno = 16096
HelperType =  Player
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
id = 16096




[State 1, エフェクト画像];集中線1
type = Explod
Trigger1 = facing = 1
Trigger1 = time =0
anim = 19200
pos = 0, 0  
postype = Back
facing = 1
vfacing = 1
ontop = 0
sprpriority = 12
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = 4
id = 19200
Scale = 1,1
ownpal = 1 
PauseMoveTime  = 9999
SuperMovetime  = 9999

[State 1, エフェクト画像];集中線2
type = Explod
Trigger1 = facing = -1
Trigger1 = time =0
anim = 19200
pos = 0, 0  
postype = front
facing = 1
vfacing = 1
ontop = 0
sprpriority = 12
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = 4
id = 19200
Scale = 1,1
ownpal = 1 
PauseMoveTime  = 9999
SuperMovetime  = 9999



[State 1, エフェクト画像];集中線3
type = Explod
Trigger1 = facing = 1
Trigger1 = AnimElem = 7
anim = 19200
pos = 0, 0  
postype = Back
facing = 1
vfacing = 1
ontop = 0
sprpriority = 12
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = 20
id = 19200
Scale = 1,1
ownpal = 1 
PauseMoveTime  = 9999
SuperMovetime  = 9999

[State 1, エフェクト画像];集中線4
type = Explod
Trigger1 = facing = -1
Trigger1 = AnimElem = 7
anim = 19200
pos = 0, 0  
postype = front
facing = 1
vfacing = 1
ontop = 0
sprpriority = 12
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = 20
id = 19200
Scale = 1,1
ownpal = 1 
PauseMoveTime  = 9999
SuperMovetime  = 9999


[State -1]
Type = ModifyExplod
Trigger1 = facing = 1
postype = Back
pos = 0, 0
ID = 19200
IgnoreHitPause = 1
Persistent = 1
Scale = 1,1


[State -1]
Type = ModifyExplod
Trigger1 = facing = -1
postype = front
pos = 0, 0
ID = 19200
IgnoreHitPause = 1
Persistent = 1
Scale = 1,1


[State -1, 角度入力]
type = Angleset
trigger1 = 1
value = -45
ignorehitpause = 1

[State -1, 角度変更実行]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1


[State 4002, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 4003
ctrl = 1



;---------------------------------------------


[Statedef 4003];博麗拳術極技『夢想封滅』 終わり
type = S
movetype = A
physics = A
ctrl = 0
anim = 4003
velset = -4,-8
sprpriority = 2




[State -1, 角度入力]
type = Angleset
trigger1 = 1
value = 0
ignorehitpause = 1


;----------------------------
;掴まれた敵
;----------------------------


[Statedef 4005]
type    = A
movetype= H
physics = N
velset = -8,-8
facep2 = 1

[State 1, 相手のアニメ変更]
type = ChangeAnim2
trigger1 = Time = 0
value = 4005




[State -1, 残像]
type = Afterimage
trigger1 =  time = [0,1]
PalContrast =  200, 200, 200
palbright = 30,30,0  ;(赤、緑、青)明るさ
palmul = .80,.80,.80
paladd = -10,-10,-10
trans = Add
time = 60
TimeGap  = 2
FrameGap = 2
length = 10



[State -1, 無敵]
type = NotHitBy
trigger1 = 1
value = , NA,SA,HA,NP,SP,HP,NT,ST,HT





;---------------------------



[Statedef 4006]
type    = A
movetype= H
physics = N
velset = -8,-8
facep2 = 1

[State 1, 移動];動く
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1, 移動];動く
type = Velset
trigger1 =1
x = -8
y = -8

[State -1, 残像]
type = Afterimage
trigger1 =  time = [0,1]
PalContrast =  200, 200, 200
palbright = 30,30,0  ;(赤、緑、青)明るさ
palmul = .80,.80,.80
paladd = -10,-10,-10
trans = Add
time = 60
TimeGap  = 2
FrameGap = 2
length = 10

[State 1, 相手のアニメ変更]
type = ChangeAnim2
trigger1 = Time = 0
value = 4005
[State 0, 角度入力]
type = Angleadd
trigger1 = 1
value = 22

[State 0, 角度変更実行]
type = AngleDraw
trigger1 = 1

[State -1, 無敵]
type = NotHitBy
trigger1 = 1
value = , NA,SA,HA,NP,SP,HP,NT,ST,HT


;---------------------------



[Statedef 4007]
type    = A
movetype= H
physics = N
velset = 8,0
facep2 = 1

[State 1, 移動];動く
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1, 移動];動く
type = Velset
trigger1 =1
x = 8
y = 0

[State -1, 残像]
type = Afterimage
trigger1 =  time = [0,1]
PalContrast =  200, 200, 200
palbright = 30,30,0  ;(赤、緑、青)明るさ
palmul = .80,.80,.80
paladd = -10,-10,-10
trans = Add
time = 60
TimeGap  = 2
FrameGap = 2
length = 10

[State 1, 相手のアニメ変更]
type = ChangeAnim2
trigger1 = Time = 0
value = 4005

[State 0, 角度入力]
type = Angleadd
trigger1 = 1
value = 22

[State 0, 角度変更実行]
type = AngleDraw
trigger1 = 1

[State -1, 無敵]
type = NotHitBy
trigger1 = 1
value = , NA,SA,HA,NP,SP,HP,NT,ST,HT


;---------------------------



[Statedef 4008]
type    = A
movetype= H
physics = N
velset = 8,8
facep2 = 1



[State 1, 移動];動く
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1, 移動];動く
type = Velset
trigger1 =1
x = -12
y = 12


[State -1, 残像]
type = Afterimage
trigger1 =  time = [0,1]
PalContrast =  200, 200, 200
palbright = 30,30,0  ;(赤、緑、青)明るさ
palmul = .80,.80,.80
paladd = -10,-10,-10
trans = Add
time = 60
TimeGap  = 2
FrameGap = 2
length = 10

[State 1, 相手のアニメ変更]
type = ChangeAnim2
trigger1 = Time = 0
value = 4005


[State -1, 無敵]
type = NotHitBy
trigger1 = 1
value = , NA,SA,HA,NP,SP,HP,NT,ST,HT

[State 0, 角度入力]
type = Angleadd
trigger1 = 1
value = 22

[State 0, 角度変更実行]
type = AngleDraw
trigger1 = 1

[State 4008, 相手ステートに戻す]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 4009


;---------------------------



[Statedef 4009]
type    = A
movetype= H
physics = N



[State 1, 移動];動く
type = posset
trigger1 = time < 5
y = 0


[State 1, 移動];動く
type = Velset
trigger1 = AnimElem = 1
x = 0
y = 0



[State 1, 移動];動く
type = Velset
trigger1 = time > 5
x = 11
y = -11



[State -1, 残像]
type = Afterimage
trigger1 =  time = [0,1]
PalContrast =  200, 200, 200
palbright = 30,30,0  ;(赤、緑、青)明るさ
palmul = .80,.80,.80
paladd = -10,-10,-10
trans = Add
time = 60
TimeGap  = 2
FrameGap = 2
length = 10

[State 1, 相手のアニメ変更]
type = ChangeAnim2
trigger1 = Time = 0
value = 4006

[State -1, 無敵]
type = NotHitBy
trigger1 = 1
value = , NA,SA,HA,NP,SP,HP,NT,ST,HT



;---------------------------



[Statedef 4010]
type    = A
movetype= H
physics = N
velset = 0,-9

[State 1, ステート変更]
Type = DestroySelf
trigger1 = ishelper


[State -1, 残像]
type = Afterimage
trigger1 =  time = [0,1]
PalContrast =  200, 200, 200
palbright = 30,30,0  ;(赤、緑、青)明るさ
palmul = .80,.80,.80
paladd = -10,-10,-10
trans = Add
time = 3
TimeGap  = 2
FrameGap = 2
length = 10

[State 0, 角度入力]
type = Angleadd
trigger1 = 1
value = 22

[State 1, 移動];追尾１
type = VelSet
Triggerall = BackEdgeBodyDist = 120
Trigger1 = 1
x = 0

[State 1, 移動];追尾１
type = VelSet
Triggerall = BackEdgeBodyDist > 120
Trigger1 = 1
x = -6
[State 1, 移動];追尾２
type = VelSet
Triggerall = BackEdgeBodyDist < 120
Trigger1 = 1
x = 6

[State 0, 角度変更実行]
type = AngleDraw
trigger1 = 1

[State 1, 移動];追尾１
type = VelSet
Triggerall = pos y > -120
Trigger1 = 1
y = -6
[State 1, 移動];追尾２
type = VelSet
Triggerall = pos y < -120
Trigger1 = 1
y = 6

[State 1, 相手のアニメ変更]
type = ChangeAnim2
trigger1 = Time = 0
value = 4005


[State 1, 無敵]
type = NotHitBy
trigger1 = 1
value = , NA,SA,HA,NP,SP,HP,NT,ST,HT


;---------------------------





[Statedef 4011]
type    = A
movetype= H
physics = N
velset = 12, 12
facep2 = 1

[State 1, 速度加算];バック
type = VelSet
trigger1 = 1
y = 12
x = -12


[State -1, 残像]
type = Afterimage
trigger1 =  time = [0,1]
PalContrast =  200, 200, 200
palbright = 30,30,0  ;(赤、緑、青)明るさ
palmul = .80,.80,.80
paladd = -10,-10,-10
trans = Add
time = 60
TimeGap  = 2
FrameGap = 2
length = 10

[State 1,]
type = LifeSet
TriggerAll=name!="miko"
TriggerAll = EnemyNear,palno  = 12
Trigger1 = 1
value = 0
absolute = 1




[State 4011, 相手ステートに戻す]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 4012


;---------------------------



[Statedef 4012]
type    = A
movetype= H
physics = N




[State 1, 移動];動く
type = Velset
trigger1 = AnimElem = 1
x = 0
y = 0



[State 1, 移動];動く
type = Velset
trigger1 = AnimElem = 2
x = -3
y = -5


[State 1, 速度加算];重力
type = VelAdd
trigger1 = 1
y = .3 ;現在のＹ軸方向の移動速度を「0.2ポイント」ずつ増やしていく



[State 1, 相手のアニメ変更]
type = ChangeAnim2
trigger1 = Time = 0
value = 4006

[State -1, 無敵]
type = NotHitBy
trigger1 = 1
value = , NA,SA,HA,NP,SP,HP,NT,ST,HT



[State 1, 相手ステートに戻す]
type = SelfState
trigger1 = time > 20
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100









;===========================================================================
;===========================================================================
;===========================================================================
;===========================================================================
;===========================================================================
; 空中超必殺技ステート
;===========================================================================
;===========================================================================
;===========================================================================
;===========================================================================
;===========================================================================


[Statedef 2500];博麗拳術秘儀『神裁』
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 2500
sprpriority = 2
facep2 = 1


[State -1, ];ゲージ　消費
type = Varadd
Trigger1   = time = 0
FV = 33
Value = -50



[State 2500, 超必殺技暗転時間停止]
type = SuperPause
trigger1 = AnimElem = 4
anim = s10000       ;超必エフェクトのアクションナンバー。通常は「fightfx.air」のアニメを使うが、
                 ;左に「s」を付ければ「自分のairファイル」のアクションナンバーが使える。
pos = 12, -80    ;超必エフェクトの座標（Ｘ軸,Ｙ軸）
sound = s4, 5    ;超必発動サウンド。通常は「common.snd」の音を使うが、
                 ;左に「s」を付ければ「自分のsndファイル」の音が使える。
time = 47

[State 1, 速度]
type = VelSet
trigger1 = AnimElem = 5
x = 0
y = 20

[State 700, エフェクト画像]
type = Explod
trigger1 = AnimElem = 4
anim = 12111
pos = 12, -100  
postype = p1
sprpriority = 4
bindtime = 1
removeongethit = 1
ignorehitpause = 0
removetime = 54
scale = 1,1
vfacing = 1 
facing = 1 
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999

[State 700, エフェクト画像]
type = Explod
trigger1 = AnimElem = 4
anim = 12111
pos = 12, -120  
postype = p1
sprpriority = 4
bindtime = 1
removeongethit = 1
ignorehitpause = 0
removetime = 54
scale = 1.2,1.2
vfacing = -1 
facing = -1 
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999

[State 700, エフェクト画像]
type = Explod
trigger1 = AnimElem = 4
anim = 15010
pos = 12, -100  
postype = p1
sprpriority = 4
bindtime = 1
removeongethit = 1
ignorehitpause = 1
removetime = 60
scale = 0.5,0.5
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999

[State 700, エフェクト画像]
type = Explod
trigger1 = AnimElem = 4
anim = 17010
pos = 7, -93  
postype = p1
facing = 1
vfacing = 1
sprpriority = 4
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = 18
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999

[State -1, 残像]
type = Afterimage
trigger1 =  AnimElem = 4
PalContrast =  200, 30, 30
palbright = 30,30,0  ;(赤、緑、青)明るさ
palmul = .80,.80,.80
paladd = -10,-10,-10
trans = Add
time = 20
TimeGap  = 2
FrameGap = 2
length = 10

[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 70, 29


[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 50, 2

[State 2500, ヒット定義]
type = HitDef
trigger1 = AnimElem != 1
attr = S, SA 
damage = 160, 50
animtype = High
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 20, 20
sparkno = -1
sparkxy = -10, -76
hitsound = s70, 17
guardsound = s2, 4
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -8,20
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,20
air.hittime = 14
getpower = 70,50
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 10
envshake.freq = 70
envshake.ampl =3
envshake.phase = 80 
fall.yvelocity = -6

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
name = "hit"
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16096
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999
id = 16096




[State -1, ヘルパー召喚];衝撃波縦長
type = Helper
trigger1 = AnimElem = 5
ID = 13011
pos = 0, 0 
postype = p1
facing = 1
stateno = 13011
size.xscale  = 0.34
size.yscale  = 0.74
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999




[State 2500, ステート変更]
type = ChangeState
trigger1 = pos Y >= -8 && Vel Y >= 0
value = 2501


;----------------------------------------------



[Statedef 2501];博麗拳術『天裁』　地面
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 2501
sprpriority = 2
facep2 = 1

[State 1, 速度]
type = VelSet
trigger1 = 1
x = 0
y = 0
IgnoreHitPause = 1

[State 1, ]
type = posSet
trigger1 = 1
y = 0
IgnoreHitPause = 1

[State -1, エフェクト画像];煙
type = Explod
trigger1 = AnimElem = 1
anim = 19010
pos = 0,-20
postype = p1
scale = 0.4,0.4
bindtime = 1
removetime = 60
sprpriority = 4
ownpal = 1
removeongethit = 1
vel = -2,1
Random = 50,20

[State -1, エフェクト画像];煙
type = Explod
trigger1 = AnimElem = 1
anim = 19011
pos = 0, -20
postype = p1
scale = 0.4,0.4
bindtime = 1
removetime = 60
sprpriority = 4
ownpal = 1
removeongethit = 1
vel = -2,-1
Random = 50,20

[State -1, エフェクト画像];煙
type = Explod
trigger1 = AnimElem = 1
anim = 19012
pos = 0, -50
postype = p1
scale = 0.4,0.4
bindtime = 1
removetime = 60
sprpriority = 4
ownpal = 1
removeongethit = 1
vel = 2,1
Random = 50,20

[State -1, エフェクト画像];煙
type = Explod
trigger1 = AnimElem = 1
anim = 19012
pos = 0, -20
postype = p1
scale = 0.4,0.4
bindtime = 1
removetime = 60
sprpriority = 4
ownpal = 1
removeongethit = 1
vel = 2,-1
Random = 50,20



[State -1, エフェクト画像];煙
type = Explod
trigger1 = AnimElem = 1
anim = 19013
pos = 0, -20
postype = p1
scale = 0.4,0.4
bindtime = 1
removetime = 60
sprpriority = 4
ownpal = 1
removeongethit = 1
vel = -3,0
Random = 50,20

[State -1, エフェクト画像];煙
type = Explod
trigger1 = AnimElem = 1
anim = 19014
pos = 0, -20
postype = p1
scale = 0.4,0.4
bindtime = 1
removetime = 60
sprpriority = 4
ownpal = 1
removeongethit = 1
vel = 3,0
Random = 50,20

[State -1, エフェクト画像];光
type = Explod
trigger1 = AnimElem = 1
anim = 12100
pos = 0, 20
postype = p1
scale = 1,1
bindtime = 1
removetime = 28
sprpriority = 4
ownpal = 1
removeongethit = 1


[State 700, エフェクト画像];ヒットエフェクト
type = Explod
trigger1 = AnimElem = 1
anim = 10120
pos = 0, 10 
postype = p1
facing = 1
vfacing = 1
ownpal = 1
scale  = 1.4,1.4
sprpriority = 99
bindtime = -1
removeongethit = 1
ignorehitpause = 1
removetime = 22

[State -1, ヘルパー召喚];衝撃波縦長
type = Helper
trigger1 = AnimElem = 1
ID = 13011
pos = 0, 0 
postype = p1
facing = 1
stateno = 13011
size.xscale  = 0.34
size.yscale  = 0.74
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999





[State -1, ヘルパー召喚];波動　地面
type = Helper
trigger1 = AnimElem = 1
ID = 20001
pos = -25, 0 
postype = p1
facing = 1
stateno = 20001
size.xscale  = 0.74
size.yscale  = 0.34
HelperType =  Player
IgnoreHitPause = 1
pausemovetime =  99999999999999999999999999
supermovetime =  99999999999999999999999999
SuperPauseTime = 99999999999999999999999999

[State -1, エフェクト画像]
type = Explod
trigger1 = AnimElem = 1
anim = 12020
pos = 60, 10
postype = p1
scale = 0.7,0.7
ontop = 0
bindtime = -1
removetime = 28
sprpriority = 5
ownpal = 1
removeongethit = 1
trans = add
vfacing = 1 
facing = 1 

[State -1, エフェクト画像]
type = Explod
trigger1 = AnimElem = 1
anim = 12020
pos = -60, 10
postype = p1
scale = 0.7,0.7
ontop = 0
bindtime = -1
removetime = 28
sprpriority = 5
ownpal = 1
removeongethit = 1
trans = add
vfacing = 1 
facing = -1 


[State -1, 震動];衝撃 揺れ
type = envshake
trigger1 = AnimElem = 1
time = 18
freq = 130
ampl = 3
phase = 140


[State -1, 残像]
type = Afterimage
trigger1 =  AnimElem = 1
PalContrast =  200, 30, 30
palbright = 30,30,0  ;(赤、緑、青)明るさ
palmul = .80,.80,.80
paladd = -10,-10,-10
trans = Add
time = 20
TimeGap  = 2
FrameGap = 2
length = 10


[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 70, 19


[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 70, 34


[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 70, 20



[State -1, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 70, 21




[State 2501, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1








