; これは式のＣＮＳファイルです。
; コメントを参考にしてＣＮＳを理解してください

;Var(0) = コンフィグ
;Var(1) = 音声
;Var(2) = キャンセル
;Var(3) = EnemyNear切り替え用
;Var(4) = ヒット数補正ヒットカウンター
;Var(5) = 受身補正ヒットカウンター
;Var(6) = ゲージ補正ヒットカウンター
;Var(7) = 重力補正ヒットカウンター
;Var(8) = クリティカルヒット
;Var(9) = 着地硬直リバースビートキャンセル
;Var(10) = ジャンプキャンセル回数
;Var(11) = 2段ジャンプ、空中ダッシュ回数、ローアルト判定
;Var(12) = ダッシュ慣性判定
;Var(13) = MAX&HEAT&AUTOHEAT&BLOODHEAT&UNLIMITED&CIRCUITBREAK判定
;Var(14) = MAX&HEAT&AUTOHEAT&BLOODHEAT&UNLIMITED&CIRCUITBREAK時間
;Var(15) = パワー記憶
;Var(16) = パワー増加無効化
;Var(17)〜Var(18) = スーパーアーマー
;Var(19) = ＥＸガードゲージ補正カウント
;Var(20) = 弱攻撃コンボ制限
;Var(21) = 中攻撃コンボ制限
;Var(22) = 強攻撃コンボ制限
;Var(23) = 特殊攻撃コンボ制限
;Var(24) = 特殊攻撃コンボ制限2
;Var(25) = ループコンボ制限
;Var(26) = 画面はしノックバック
;Var(27) = EX-キャンセル用
;Var(28) = ダメージカウンター
;Var(29) = ダメージカウンター2
;Var(30) = インバリッド判定
;Var(31) = ガードゲージ回復補正
;Var(32) = ガードゲージ総量記憶
;Var(33)〜Var(34) = ヴァイタルソース
;Var(35) = ガードゲージ
;Var(36) = ガードクオリティ
;Var(37) = リバーサルアタック
;Var(38) = HighCounter/LowCounter判定
;Var(39) = 空き
;Var(40) = リバースビート/シールドキャンセルカウント
;Var(41) = ヒットポーズ計算用
;Var(42) = ＥＸガード入力用
;Var(43) = ＥＸエッジゲージ補正カウント
;Var(44) = 暗転時間カウント
;Var(45) = ガードキャンセルバンカーキャンセル&シールドキャンセル用
;Var(46) = サーキットスパーク使用制限
;Var(47) = 特殊処理用
;Var(48) = 特殊処理用2
;Var(49) = 特殊処理用3
;Var(50) = ダウン追い討ち判定
;Var(51) = 特殊コマンド制限用
;Var(52) = レデュースダメージ判定
;Var(53) = レデュースダメージ判定
;Var(54) = 色々な用途で使用
;Var(55) = 色々な用途で使用
;Var(56) = ハンディキャップ用
;Var(57) = スタイル選択用
;Var(58) = 開幕行動前用
;Var(59) = AI

;FVar(0) = コンボ補正
;FVar(1) = 特定攻撃のコンボ/ＥＸキャンセル/リアクト補正
;FVar(2) = ヒット数補正
;FVar(3) = クリティカルヒット補正
;FVar(4)&FVar(5) = 状態ダメージ補正
;FVar(6) = 根性値補正
;FVar(7) = MBキャラ判定
;FVar(8)〜FVar(9) = ヴァイタルソース
;FVar(10) = 空き
;FVar(11) = リバースビート/シールドキャンセルダメージ補正
;FVar(12) = 空き
;FVar(13) = 状態攻撃補正
;FVar(14) = 状態防御補正
;FVar(15) = ラストアーク補正
;FVar(16) = 暗転中の補正制限
;FVar(17) = ダメージカウンター用
;FVar(18) = アイコン用
;FVar(19) = レデュースダメージ判定
;FVar(20) = レデュースダメージ判定
;FVar(21) = ダウン時間用
;FVar(22) = ガードゲージ削り補正
;FVar(23) = ガードブレイク時間用
;FVar(24) = イニシアティブヒート用
;FVar(25) = 画面はしノックバック
;FVar(26) = Fスタイルシールドキャンセル用
;FVar(27) = 開幕行動前用2
;FVar(28) = 空き
;FVar(29) = マジックサーキット
;FVar(30) = ＥＸエッジゲージ(自分取得側)補正
;FVar(31) = ヒット数/EXガードゲージ(相手取得側)補正
;FVar(32) = システムメッセージ用
;FVar(33) = システムメッセージ用
;FVar(34) = システムメッセージ用
;FVar(35) = 受身時間補正
;FVar(36) = 重力補正
;FVar(37) = LocalCoord切り替え対応用
;FVar(38) = 氷結燃焼感電用
;FVar(39) = ロック位置判別用、やられモーションのアニメ変更用

;SysVar(0) = デフォルトのコモン処理に使用
;SysVar(1) = デフォルトのコモン処理に使用2
;SysVar(2) = やられモーションのアニメ変更用、ガード削りKO用
;SysVar(3) = 各種特殊ジャンプ判別用
;SysVar(4) = ジャンプコマンド制限用

;SysFVar(0) = 空き
;SysFVar(1) = 空き
;SysFVar(2) = 空き
;SysFVar(3) = 空き
;SysFVar(4) = 空き

; これは式の定数と状態のファイルです。
; 絶対記入し、削除はしないでください。
[Data]
  ;体力ゲージの初期値
Life = 1140
Power = 3334
  ;攻撃力（これ以上に設定すると強くなる）
Attack = 100
  ;防御力（これ以上に設定すると強くなる）
Defence = 100
  ;コンボをくらっている時にあがる防御力
Fall.Defence_Up = 50
  ;倒れてから起上がるまでのフレーム数
Liedown.Time = 30
  ;空中でどれだけコンボが繋がるか（高くすると無限コンボになるので注意）
AirJuggle = 15
  ;hitdefで設定していない時の基本ヒットスパークナンバー
SparkNo = 2
  ;設定してない時のガードナンバー
Guard.SparkNo = 40
  ;KOした時に声にエコーをかけるか（１でＯＮ）
KO.Echo = 0
 Volume = 100
  IntPersistIndex = 13
FloatPersistIndex = 9

[Size]
xscale = 1           ;水平方向の縮尺（通常１）
yscale = 1           ;垂直方向の縮尺（通常１）
ground.back = 14     ;キャラの幅(後方,地上)
ground.front = 15    ;キャラの幅(前方,地上)
air.back = 15        ;キャラの幅(後方,空中)
air.front = 16       ;キャラの幅(前方,空中)
height = 65          ;キャラの高さ
attack.dist = 160    ;攻撃をした時相手がガード体制に入る最低距離
proj.attack.dist = 90;攻撃をした時相手がガード体制に入る最低距離（飛び道具）
proj.doscale = 0     ;上で設定した縮尺を飛び道具にも適用するか（１でＯＮ）   
head.pos = -5, -95   ;頭の大体の座標
mid.pos = -5, -55    ;体の中心の大体の座標
shadowoffset = 0     ;影の垂直方向のオフセット
draw.offset = 0,0    ;使用しない

[Velocity]
walk.fwd  = 2.7      ;前進の速度
walk.back = -1.6     ;後退の速度
run.fwd  = 6, 0    ;前ダッシュの速度（ホップする時はyを-にする）
run.back = -8,-4 ;後ダッシュの速度（ホップする時はyを-にする）
jump.neu = 0,-9.5    ;垂直ジャンプの速度
jump.back = -1.5    ;後ジャンプの速度
jump.fwd = 1.8       ;前ジャンプの速度
runjump.back = -2.2,-9.91 ;後ダッシュしながらのジャンプ速度(オプション)
runjump.fwd = 2.2,-9.91      ;前ダッシュしながらのジャンプ速度(オプション)
airjump.neu = 0,-9.41     ;２段ジャンプ以降の垂直ジャンプの速度(オプション)
airjump.back = -1.9      ;２段ジャンプ以降の後ジャンプの速度(オプション)
airjump.fwd = 1.8         ;２段ジャンプ以降の前ジャンプの速度

[Movement]
airjump.num = 0      ;空中でジャンプする回数
airjump.height = 35  ;空中でジャンプする最低限の高さ
yaccel = .52         ;重力
stand.friction = .85  ;立ち状態の摩擦係数
crouch.friction = .82 ;屈み状態の摩擦係数

;---------------------------------------------------------------------------
; ステイトの解説
; [Statedef STATENO]
; type = ?      S/C/A/L  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｌ：ダウン
; movetype = ?  I/A/H    Ｉ：通常状態/Ａ：攻撃状態/Ｈ：ダメージをくらってる状態
; physics = ?   S/C/A/N  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｎ：無し
; juggle = ?             その攻撃に使うジャグル数
;

;---------------------------------------------------------------------------
; タイムオーバーで負けた時1
[Statedef 170]
Type = S
Ctrl = 0
Anim = 170
VelSet = 0,0

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = ChangeState
TriggerAll = Var(1) = 1
Trigger1 = Time = 0
Value = 171



[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s5120, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 170, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 150
Flag = RoundNotOver

;---------------------------------------------------------------------------
; タイムオーバーで負けた時2
[Statedef 171]
Type = S
Ctrl = 0
Anim = 171
VelSet = 0,0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s171, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = Animelem = 14
Value = s2500,7
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 170, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 150
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作 -分岐-
[Statedef 180]
Type = S

;[State -1] 
;Type = ChangeState
;Trigger1 = Enemy,Name = "Tohno_Shiki" || Enemy,Name = "shiki_tohno"
;Trigger2 = enemy,name = "Nanaya_Shiki" || enemy,name = "shiki_nanaya"
;Value = 185

;[State -1] 
;Type = ChangeState
;Trigger1 = enemy,name = "Arcueid Brunestud" || enemy,name = "Red_Arcueid"
;Triggerall = Time = 0
;Value = 183

[State -1]
Type = VarRandom
Trigger1 = prevstateno != 3300
;Trigger1 = Enemy,name != "Tohno_Shiki" && Enemy,name != "shiki_tohno"
;Trigger1 = Enemy,name != "Nanaya_Shiki" && Enemy,name != "shiki_nanaya"
;Trigger1 = Enemy,name != "Arcueid Brunestud" && Enemy,name != "Red_Arcueid"
Triggerall = Time = 0
V = 1
Range = 0,3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1] 
Type = ChangeState
Triggerall = var(54) = 60
Trigger1 = Time = 0
Value = 186

[State -1] 
Type = ChangeState
Triggerall = var(54) = 6
Trigger1 = Time = 0
Value = 187

[State -1] 
Type = ChangeState
Triggerall = Var(1) = 0
Triggerall = var(54) != 60 && var(54) != 6
Trigger1 = Time = 0
Value = 181

[State -1] 
Type = ChangeState
Triggerall = Var(1) = 1
Triggerall = var(54) != 60 && var(54) != 6
Trigger1 = Time = 0
Value = 182

[State -1] 
Type = ChangeState
Triggerall = Var(1) = 2
Triggerall = var(54) != 60 && var(54) != 6
Trigger1 = Time = 0
Value = 183

[State -1] 
Type = ChangeState
Triggerall = Var(1) = 3
Triggerall = var(54) != 60 && var(54) != 6
Trigger1 = Time = 0
Value = 184

[State -1]
Type = PlaySnd
triggerall = prevstateno = 3300
Trigger1 = Animelem = 1
Value = s180, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = Changeanim
triggerall = prevstateno = 3300
Trigger1 = time = 0
Value = 3306


[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 250
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作１
[Statedef 181]
Type = S
Ctrl = 0
Anim = 181
VelSet = 0,0

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 2,4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 2
Value = s180, var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 5
Value = s2500,7
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = var(1) = 3
Trigger1 = Animelem = 11
Anim = 1810000
ID = 1810000
PosType = P1
Pos = -6,-82
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = Explod
Trigger1 = var(1) = 3
Trigger1 = Animelem = 14
Anim = 1811000
ID = 1811000
PosType = P1
Pos = -6,-82
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 250
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作２
[Statedef 182]
Type = S
Ctrl = 0
Anim = 182
VelSet = 0,0

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 2
Value = s180, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 5
Value = s2500,7
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Animelem = 11
Anim = 1812005
ID = 1812000
PosType = P1
Pos = -2,-82
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 250
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作３
[Statedef 183]
Type = S
Ctrl = 0
Anim = 183
VelSet = 0,0

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 2
Value = s180, 5
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 5
Value = s2500,7
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Animelem = 10
Anim = 1813005
ID = 1813000
PosType = P1
Pos = 2,-82
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 250
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作４ -ナイフキャッチ-
[Statedef 184]
Type = S
Ctrl = 0
Anim = 184
VelSet = 0,0

[State -2]
Type = Helper
Trigger1 = Animelem = 7
StateNo = 1820000
ID = 1820000
PosType = P1
Pos = 6,-105
Ownpal = 1
SprPriority = 5
BindTime = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = var(1) = 0
Trigger1 = Animelem = 11
Value = s180, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = var(1) = 1
Trigger1 = Animelem = 11
Value = s180, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 7
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 11
Value = s10, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 21
Value = s2500,7
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = var(1) = 0
Trigger1 = Animelem = 27
Anim = 1905000
ID = 1905000
PosType = P1
Pos = -6,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 270
Flag = RoundNotOver


;------------------------------------------------------------------
;ナイフヘルパー
[Statedef 1820000]
Type    = S
MoveType= I
Physics = N
Juggle  = 0
Ctrl = 0
Anim = 1573
SprPriority = 5

[State -1]
Type = velset
trigger1 = time = 0
x = -0.75
y = -9
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = veladd
Trigger1 = time >= 1
y = .45
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Helper
Triggerall = time%2 = 0
Triggerall = time >= 2
Triggerall = time <= 43
Trigger1 = Pos Y <= -vel y*2.5
StateNo = 1580
ID = 1580
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 4
BindTime = -1
IgnoreHitPause = 1
size.yscale = 0.8
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 45

;---------------------------------------------------------------------------
; 勝った動作５ -vs.志貴-
[Statedef 185]
Type = S
Ctrl = 0
Anim = 185
VelSet = 0,0

[State -1]
Type = PlaySnd
Trigger1 = Time = 35
Value = s0, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 15
Value = s180, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 240
Flag = RoundNotOver



;---------------------------------------------------------------------------
; 勝った動作（ＬＡ後）
[Statedef 186]
Type = S
Ctrl = 0
Anim = 182
VelSet = 0,0



[State -1]
Type = PlaySnd
Trigger1 = Animelem = 2
Value = s3100, 11
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 5
Value = s2500,7
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Explod
Trigger1 = Animelem = 12
Anim = 1812000
ID = 1812000
PosType = P1
Pos = -2,-82
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 250
Flag = RoundNotOver


;---------------------------------------------------------------------------
; 勝った動作（蹴り後）
[Statedef 187]
Type = S
Ctrl = 0
Anim = 171
VelSet = 0,0



[State -1]
Type = PlaySnd
Trigger1 = Animelem = 2
Value = s3100, 12
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 14
Value = s2500,7
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Explod
Trigger1 = Animelem = 19
Anim = 1813000
ID = 1813000
PosType = P1
Pos = -1,-82
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 250
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 開始前の動作 -分岐-
[Statedef 190]
Type = S

[State -1] 
Type = ChangeState
Trigger1 = Enemy,Name = "Shiki_Nanaya" || Enemy,Name = "Nanaya_Shiki"
Trigger1 = Time = 0
Value = 193

[State -1] 
Type = ChangeState
Trigger1 = Enemy,Name = "Tohno_Shiki" || Enemy,Name = "shiki_tohno"
Trigger1 = Time = 0
Value = 194

[State -1] 
Type = ChangeState
Trigger1 = Enemy,Name = "Arcueid Brunestud" || Enemy,Name = "Red_Arcueid" || Enemy,Name = "Demitri"
Trigger1 = Time = 0
Value = 196

[State -1] 
Type = ChangeState
Trigger1 = Enemy,Name = "Kongou"
Trigger1 = Time = 0
Value = 197

[State -1]
Type = VarRandom
Trigger1 = Enemy,name != "Tohno_Shiki" && Enemy,name != "shiki_tohno"
Trigger1 = Enemy,name != "Nanaya_Shiki" && Enemy,name != "shiki_nanaya"
Trigger1 = Enemy,name != "Arcueid Brunestud" && Enemy,name != "Red_Arcueid"
Triggerall = Time = 0
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = ChangeState
Triggerall = Var(1) != 2
Trigger1 = Time = 0
Value = 191

[State -1] 
Type = ChangeState
Triggerall = Var(1) = 2
Trigger1 = Time = 0
Value = 192

;---------------------------------------------------------------------------
; 開始前の動作 1
[Statedef 191]
Type = S
Ctrl = 0
Anim = 190
VelSet = 0,0

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 4
Value = s190, var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 29
Value = s2500,6;s3100, 2
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = var(1) = 0
Trigger1 = Animelem = 1
Anim = 1901000
ID = 1901000
PosType = P1
Pos = -6,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = Explod
Trigger1 = var(1) = 0
Trigger1 = Animelem = 17
Anim = 1905000
ID = 1905000
PosType = P1
Pos = -6,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = Explod
Trigger1 = var(1) = 1
Trigger1 = Animelem = 1
Anim = 1901000
ID = 1901000
PosType = P1
Pos = -6,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = Explod
Trigger1 = var(1) = 2
Trigger1 = Animelem = 1
Anim = 1901000
ID = 1901000
PosType = P1
Pos = -6,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = Explod
Trigger1 = var(1) = 3
Trigger1 = Animelem = 1
Anim = 1904000
ID = 1904000
PosType = P1
Pos = -6,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = Explod
Trigger1 = var(1) = 3
Trigger1 = Animelem = 12
Anim = 1905000
ID = 1905000
PosType = P1
Pos = -6,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = Explod
Trigger1 = var(1) = 4
Trigger1 = Animelem = 1
Anim = 1901000
ID = 1901000
PosType = P1
Pos = -6,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = Explod
Trigger1 = var(1) = 4
Trigger1 = Animelem = 30
Anim = 1905000
ID = 1905000
PosType = P1
Pos = -8,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; 開始前の動作 2 -滑り込み-
[Statedef 192]
Type = S
Ctrl = 0
Anim = 191
VelSet = 0,0

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State -2]
Type = Helper
Trigger1 = Animelem = 1
StateNo = 1910000
ID = 1910000
PosType = P1
Pos = -40,-300
Ownpal = 1
SprPriority = 5
BindTime = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 34
Anim = 1575
ID = 1575
PosType = P1
Pos = -40,0
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 34
Anim = 10052
ID = 10052
PosType = P1
Pos = -40,0
Ownpal = 1
Scale = 0.17,0.17
SprPriority = 0
IgnoreHitPause = 1
RemoveTime = -2
RemoveOnGetHit = 1

[State 1000, 0]
type = RemoveExplod
Trigger1 = Animelem = 42
id = 1575
ignorehitpause = 1

[State -1]
Type = Explod
Trigger1 = Animelem = 42
Anim = 1579
ID = 1579
PosType = P1
Pos = -39,0
Ownpal = 1
Facing = -1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Animelem = 42
Anim = 102
ID = 102
Postype = P1
Pos = -20,0
Scale = 1,1
Ownpal = 1
facing = -1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 1
Removetime = -2
Removeongethit = 1

[State -1]
Type = Explod
Trigger1 = Animelem = 43
Anim = 102
ID = 102
Postype = P1
Pos = -10,0
Scale = 1,1
Ownpal = 1
facing = -1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 1
Removetime = -2
Removeongethit = 1

[State -1]
Type = Explod
Trigger1 = Animelem = 44
Anim = 102
ID = 102
Postype = P1
Pos = 0,0
Scale = 1,1
Ownpal = 1
facing = -1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 1
Removetime = -2
Removeongethit = 1

[State -1]
Type = Explod
Trigger1 = Animelem = 45
Anim = 102
ID = 102
Postype = P1
Pos = 10,0
Scale = 1,1
Ownpal = 1
facing = -1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 1
Removetime = -2
Removeongethit = 1

[State -1]
Type = Explod
Trigger1 = Animelem = 46
Anim = 102
ID = 102
Postype = P1
Pos = 15,0
Scale = 1,1
Ownpal = 1
facing = -1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 1
Removetime = -2
Removeongethit = 1

[State -1]
Type = Explod
Trigger1 = Animelem = 47
Anim = 102
ID = 102
Postype = P1
Pos = 20,0
Scale = 1,1
Ownpal = 1
facing = -1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 1
Removetime = -2
Removeongethit = 1

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 4
Value = s190, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
trigger1 = time = 34
Value = s1579, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 41
Value = s40, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 42
Value = s2500, 6
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;------------------------------------------------------------------
;ナイフヘルパー
[Statedef 1910000]
Type    = S
MoveType= I
Physics = N
Juggle  = 0
Ctrl = 0
Anim = 1573
SprPriority = 5

[State -1]
Type = velset
trigger1 = time = 0
x = 0
y = 9
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;[State -2]
;Type = Helper
;Triggerall = time%2 = 0
;Triggerall = time >= 2
;Triggerall = time <= 43
;Trigger1 = Pos Y <= -vel y*2.5
;StateNo = 1580
;ID = 1580
;PosType = P1
;Pos = 0,0
;Ownpal = 1
;SprPriority = 4
;BindTime = -1
;IgnoreHitPause = 1
;size.yscale = 0.8
;SuperMoveTime = 9999
;PauseMoveTime = 9999

[State -1]
Type = DestroySelf
Trigger1 = Time = 33

;---------------------------------------------------------------------------
; 開始前の動作 -vs.七夜-
[Statedef 193]
Type = S
Ctrl = 0
Anim = 192
VelSet = 0,0
SprPriority = 0

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State -1]
Type = PlaySnd
Trigger1 = Time = 20
Value = s190, 7
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 34
Value = s2500,6;s3100, 2
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Animelem = 1
Anim = 1900000
ID = 1900000
PosType = P1
Pos = -6,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = Explod
Trigger1 = Animelem = 12
Anim = 1901000
ID = 1901000
PosType = P1
Pos = -6,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = Explod
Trigger1 = Animelem = 35
Anim = 1902000
ID = 1902000
PosType = P1
Pos = -8,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; 開始前の動作 3 -vs.志貴-
[Statedef 194]
Type = S
Ctrl = 0
Anim = 193
VelSet = 0,0
SprPriority = 0

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State -1]
Type = PlaySnd
Trigger1 = Time = 20
Value = s190, 6
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 34
Value = s2500,6;s3100, 2
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Animelem = 1
Anim = 1903000
ID = 1903000
PosType = P1
Pos = -6,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = Explod
Trigger1 = Animelem = 13
Anim = 1904000
ID = 1904000
PosType = P1
Pos = -6,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = Explod
Trigger1 = Animelem = 35
Anim = 1905000
ID = 1905000
PosType = P1
Pos = -8,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; 開始前の動作 3 対吸血鬼
[Statedef 196]
Type = S
Ctrl = 0
Anim = 194
VelSet = 0,0
SprPriority = 0

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State -1]
Type = PlaySnd
Trigger1 = Time = 20
Value = s190, 5
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 29
Value = s2500,6;s3100, 2
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Animelem = 1
Anim = 1903000
ID = 1903000
PosType = P1
Pos = -6,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = Explod
Trigger1 = Animelem = 13
Anim = 1906000
ID = 1906000
PosType = P1
Pos = -6,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1]
Type = Explod
Trigger1 = Animelem = 30
Anim = 1907000
ID = 1907000
PosType = P1
Pos = -8,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0


;---------------------------------------------------------------------------
; 開始前の動作 4 対鬼
[Statedef 197]
Type = S
Ctrl = 0
Anim = 194
VelSet = 0,0
SprPriority = 0

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State -1]
Type = PlaySnd
Trigger1 = Time = 20
Value = s190, 8
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 29
Value = s2500,6;s3100, 2
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Animelem = 5
Anim = 1906000
ID = 1906000
PosType = P1
Pos = -6,-82
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
bindtime = -1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0




;---------------------------------------------------------------------------
; 挑発の動作
[Statedef 195]
Type = S
Ctrl = 0
MoveType = I
Physics = S
Sprpriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Varrandom
Trigger1= Time = 0
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = changeanim
Trigger1 = Time = 0
Value = ifelse(random < 500,196,195)


[State -1]
Type = PlaySnd
Trigger1 = Anim = 195
Trigger1 = Time = 20
trigger1 = var(1) = 0
Value = s750, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 195
Trigger1 = Time = 20
trigger1 = var(1) = 1
Value = s750, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 195
Trigger1 = Time = 20
trigger1 = var(1) = 2
Value = s750, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 196
Trigger1 = animelem = 2
Value = s2500, 6
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 196
Trigger1 = animelem = 7
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 196
Trigger1 = animelem = 7
trigger1 = var(1) = 0
Value = s750, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 196
Trigger1 = animelem = 7
trigger1 = var(1) = 1
Value = s1800, 5
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Anim = 196
Trigger1 = animelem = 7
ID = 196
PosType = P1
Pos = -3,-107
Anim = 197
Ownpal = 1
SprPriority = 1
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = 18
RemoveOnGetHit = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1




;---------------------------------------------------------------------------
; 開幕前動作
[Statedef 199]
Type = S
Ctrl = 0
MoveType = I
Physics = S
Sprpriority = 2


[State -1]
Type = changeanim
Trigger1 = Time = 0
Value = 199

[State 5900, 0]
Type = VarSet
Trigger1 = var(54) >= 50
V = 54
Value = var(54)-(60)

[State 5900, 0]
Type = VarSet
Trigger1 = var(54) < 50
Trigger1 = var(54) >= 2
V = 54
Value = var(54)-(6) 

[State -1]
Type = PlaySnd
Trigger1 = animelem = 10
Value = s2500, 6
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 0



;---------------------------------------------------------------------------
; CE5A
[Statedef 200]
Type    = S                      
MoveType= A                      
Physics = S                      
Juggle  = 0                      
;Commonly-used controllers:
Ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
Anim = 200                       ;このステートで表示するスプライトステート番号(0で変化無し)
SprPriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1


[State -1]
Type = VarSet
Trigger1 = Var(20)%10 = 0
V = 20
Value = Var(20)+1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.4,IfElse(Var(50)=2,-4.8,-7))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 1
V = 1
Range = 0,6
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = var(1) = 0
Trigger1 = Time = 1
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = var(1) = 1
Trigger1 = Time = 1
Value = s200, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = var(1) = 2
Trigger1 = Time = 1
Value = s200, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = S, NA                                             ;立ち状態で、通常の攻撃(ｓは立ち、ｎは通常、aは攻撃を表す)
Damage = Ceil(FVar(0)*(36-Var(4)%2))                     ;ダメージ量（左が当たった時、右はガードした時）
AnimType = Light                                         ;当てた時の相手のポーズ（light/midium/hard/back）から選択
GuardFlag = M                                            ;ガードできる状態（ｍaは全ての状態でガード可能）
HitFlag = MAFD                                           ;当てる事のできる条件
Priority = 1, Hit                                        ;攻撃の優先権（0弱い　4通常　7強い
PauseTime = 5, 8+8*IfElse(Var(38)>0,1,0)+Var(41)                                 ;攻撃が当たった時の硬直時間（左が自分、右が相手）
Guard.PauseTime = 6, 6
HitSound = s10, 0                                        ;ヒットした時の音（ｓ*,*にすると自分の音を使う）
GuardSound = s120, 0                                     ;ガードした時の音（同上）
SparkXY = -Random%20, -60-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low                                        ;相手のくらった場所（High：頭、体, Low：足, Trip：足払い）
Ground.SlideTime = 10                                    ;相手が後にすべる時間
Ground.HitTime  = 10                                     ;コンボが繋がる時間（高くしすぎない事）
Ground.Velocity = -5                                   ;地上で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
Air.Type = High                                          ;空中で相手がくらった場所（上と同じ）
Air.Velocity = -1.8*Var(50),IfElse(Var(50)=1,-6.2,FVar(25));空中で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
Down.Velocity = -3.6,-2.5
Ground.CornerPush.VelOff = -2
Air.CornerPush.VelOff = -2.8*Var(50)
Down.CornerPush.VelOff = -5.6
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(23+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*40), Ceil(0.85*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.50*FVar(31)*40)
ID = 200
Down.Bounce = 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1


;---------------------------------------------------------------------------
; HF5A
[Statedef 201]
Type    = S                      
MoveType= A                      
Physics = S                      
Juggle  = 0                      
;Commonly-used controllers:
Ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
Anim = 201                       ;このステートで表示するスプライトステート番号(0で変化無し)
SprPriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1


[State -1]
Type = VarSet
Trigger1 = Var(20)%10 = 0
V = 20
Value = Var(20)+1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.4,IfElse(Var(50)=2,-4.8,-7))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 2
ID = 206
PosType = P1
Pos = 40,-90
Anim = 206
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 1
V = 1
Range = 0,6
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = var(1) = 0
Trigger1 = time = 1
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = var(1) = 1
Trigger1 = Time = 1
Value = s200, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = var(1) = 2
Trigger1 = Time = 1
Value = s200, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElemtime(2) = 2
Attr = S, NA                                             ;立ち状態で、通常の攻撃(ｓは立ち、ｎは通常、aは攻撃を表す)
Damage = Ceil(FVar(0)*(36-Var(4)%2))                     ;ダメージ量（左が当たった時、右はガードした時）
AnimType = Light                                         ;当てた時の相手のポーズ（light/midium/hard/back）から選択
GuardFlag = M                                            ;ガードできる状態（ｍaは全ての状態でガード可能）
HitFlag = MAFD                                           ;当てる事のできる条件
Priority = 1, Hit                                        ;攻撃の優先権（0弱い　4通常　7強い
PauseTime = 6, 6+6*IfElse(Var(38)>0,1,0)+Var(41)                                 ;攻撃が当たった時の硬直時間（左が自分、右が相手）
Guard.PauseTime = 6, 6
HitSound = s20, 0                                        ;ヒットした時の音（ｓ*,*にすると自分の音を使う）
GuardSound = s120, 0                                     ;ガードした時の音（同上）
SparkXY = -Random%20, -60-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low                                        ;相手のくらった場所（High：頭、体, Low：足, Trip：足払い）
Ground.SlideTime = 10                                    ;相手が後にすべる時間
Ground.HitTime  = 10                                     ;コンボが繋がる時間（高くしすぎない事）
Ground.Velocity = -3                                   ;地上で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
Air.Type = High                                          ;空中で相手がくらった場所（上と同じ）
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-4.2,FVar(25));空中で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
Down.Velocity = -3.6,-2.5
Ground.CornerPush.VelOff = -2
Air.CornerPush.VelOff = -2.8*Var(50)
Down.CornerPush.VelOff = -5.6
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(23+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*40), Ceil(0.85*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.50*FVar(31)*40)
ID = 201
Down.Bounce = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1


[State -1]
Type = ChangeState
TriggerAll = Var(57)/10%10 != 1 && Var(57)/10%10 != 3
TriggerAll = Var(59) = 0
TriggerAll = animelemtime(2) >= 2
TriggerAll = animelemtime(5) <= 3
Trigger1 = Command = "a" && Command = "holdfwd"
Trigger1 = Var(57)/10%10 = 2
Trigger2 = Command = "a"
Trigger2 = Var(57)/10%10 = 4
Value = 202


[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1


;---------------------------------------------------------------------------
; 立ち弱特殊２
[Statedef 202]
Type    = S                      
MoveType= A                      
Physics = S                      
Juggle  = 0                      
;Commonly-used controllers:
Ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
Anim = 202                       ;このステートで表示するスプライトステート番号(0で変化無し)
SprPriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.80*FVar(1)
IgnoreHitPause = 1


[State -1]
Type = VarSet
Trigger1 = Var(20)%10 = 0
V = 20
Value = Var(20)+1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.4,IfElse(Var(50)=2,-4.8,-7))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 207
PosType = P1
Pos = 5,-90
Anim = 207
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 1
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = var(1) = 0
Trigger1 = animelemtime(3) = 0
Value = s200,1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = S, NA                                             ;立ち状態で、通常の攻撃(ｓは立ち、ｎは通常、aは攻撃を表す)
Damage = Ceil(FVar(0)*(60-Var(4)%2))                     ;ダメージ量（左が当たった時、右はガードした時）
AnimType = Midium                                        ;当てた時の相手のポーズ（light/midium/hard/back）から選択
GuardFlag = M                                            ;ガードできる状態（ｍaは全ての状態でガード可能）
HitFlag = MAFD                                           ;当てる事のできる条件
Priority = 1, Hit                                        ;攻撃の優先権（0弱い　4通常　7強い
PauseTime = 8, 8+8*IfElse(Var(38)>0,1,0)+Var(41)                                 ;攻撃が当たった時の硬直時間（左が自分、右が相手）
Guard.PauseTime = 8, 8
HitSound = s20, 0                                        ;ヒットした時の音（ｓ*,*にすると自分の音を使う）
GuardSound = s120, 0                                     ;ガードした時の音（同上）
SparkXY = -Random%20, -60-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low                                        ;相手のくらった場所（High：頭、体, Low：足, Trip：足払い）
Ground.SlideTime = 13                                    ;相手が後にすべる時間
Ground.HitTime  = 13                                     ;コンボが繋がる時間（高くしすぎない事）
Ground.Velocity = -.5                                    ;地上で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
Air.Type = High                                          ;空中で相手がくらった場所（上と同じ）
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-4.2,FVar(25));空中で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
Down.Velocity = -3.6,-2.5
Ground.CornerPush.VelOff = -2
Air.CornerPush.VelOff = -2.8*Var(50)
Down.CornerPush.VelOff = -5.6
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*60), Ceil(0.85*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.50*FVar(31)*60)
ID = 202
Down.Bounce = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1


[State -1]
Type = ChangeState
TriggerAll = Var(57)/10%10 != 1 && Var(57)/10%10 != 3
TriggerAll = Var(59) = 0
TriggerAll = animelemtime(3) >= 1
TriggerAll = animelemtime(6) <= 5
Trigger1 = Command = "a" && Command = "holdfwd"
Trigger1 = Var(57)/10%10 = 2
Trigger2 = Command = "a"
Trigger2 = Var(57)/10%10 = 4
Value = 203


[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1



;---------------------------------------------------------------------------
; 立ち弱特殊３
[Statedef 203]
Type    = S                      
MoveType= A                      
Physics = S                      
Juggle  = 0                      
;Commonly-used controllers:
Ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
Anim = 203                       ;このステートで表示するスプライトステート番号(0で変化無し)
SprPriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 2
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 2
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 2
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.60
FV = 1
Value = 0.60
IgnoreHitPause = 1


[State -1]
Type = VarSet
Trigger1 = Var(20)%10 = 0
V = 20
Value = Var(20)+1

[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.4,IfElse(Var(50)=2,-4.8,-7))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 4
ID = 208
PosType = P1
Pos = 0,-70
Anim = 208
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = animelemtime(3) = 0
Value = s200, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = S, NA                                             ;立ち状態で、通常の攻撃(ｓは立ち、ｎは通常、aは攻撃を表す)
Damage = Ceil(FVar(0)*(100-Var(4)%2))                    ;ダメージ量（左が当たった時、右はガードした時）
AnimType = Hard                                          ;当てた時の相手のポーズ（light/midium/hard/back）から選択
GuardFlag = M                                            ;ガードできる状態（ｍaは全ての状態でガード可能）
HitFlag = MAFD                                           ;当てる事のできる条件
Priority = 1, Hit                                        ;攻撃の優先権（0弱い　4通常　7強い
PauseTime = 10, 10+10*IfElse(Var(38)>0,1,0)+Var(41)                                 ;攻撃が当たった時の硬直時間（左が自分、右が相手）
Guard.PauseTime = 10, 10
HitSound = s20, 0                                        ;ヒットした時の音（ｓ*,*にすると自分の音を使う）
GuardSound = s120,0                                      ;ガードした時の音（同上）
SparkXY = -Random%20, -60-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low                                        ;相手のくらった場所（High：頭、体, Low：足, Trip：足払い）
Ground.SlideTime = 16                                    ;相手が後にすべる時間
Ground.HitTime  = 16                                     ;コンボが繋がる時間（高くしすぎない事）
Ground.Velocity = IfElse(Var(50)=1,0,-9),IfElse(Var(50)=1,-9,FVar(25))                                   ;地上で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
Air.Type = High                                          ;空中で相手がくらった場所（上と同じ）
Air.Velocity = -.6*Var(50),IfElse(Var(50)=1,-8.2,FVar(25));空中で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
Down.Velocity = -.6,-2.5
Ground.CornerPush.VelOff = -2
Air.CornerPush.VelOff = -2.8*Var(50)
Down.CornerPush.VelOff = -5.6
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(40+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil(0.85*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)
ID = 203
Down.Bounce = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1


[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1


;---------------------------------------------------------------------------
; 立ち中
[Statedef 210]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 210
SprPriority = 1
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.78
FV = 1
Value = 0.78
IgnoreHitPause = 1

[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.4,IfElse(Var(50)=2,-4.8,-7))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(21)%10 = 0
V = 21
Value = Var(21)+1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 3
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Explod
Trigger1 = AnimElem = 4
ID = 215
PosType = P1
Pos = 30,-60
Anim = 216
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = S, NA
AnimType  = Medium
Damage    = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
Priority = 2, Hit
PauseTime = 4,9+9*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 8,8
HitSound = s20,0
GuardSound = s120,0
SparkXY = -Random%20, -55-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -5
Air.Velocity = -1.5*Var(50),IfElse(Var(50)=1,-6.6,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -6
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -6
YAccel = .48
Kill = 1
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(29+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*60), Ceil(0.85*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.50*FVar(31)*60)
ID = 210
Down.Bounce = 1


[State -1]
Type = VarRandom
Trigger1 = Time = 1
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = posadd
Trigger1 = AnimelemTime(7) = 0
x = 10

[State -1]
Type = ChangeState
Trigger1 = Var(59) = 0
Trigger1 = animelemtime(4) >= 1
Trigger1 = animelemtime(6) <= 3
Trigger1 = Command = "b"
Trigger1 = Command != "holdfwd"
Trigger1 = Command != "holdback"
Value = 215

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 立ち中追加
[Statedef 215]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 215
SprPriority = 2


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.78
FV = 1
Value = 0.78
IgnoreHitPause = 1

[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.4,IfElse(Var(50)=2,-4.8,-7))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(21)%10 = 0
V = 21
Value = Var(21)+1

[State -1]
Type = Explod
Trigger1 = AnimElem = 4
ID = 215
PosType = P1
Pos = 20,-50
Anim = 217
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s30, 3
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = time = 0
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
trigger1 = var(1) = 0
Trigger1 = AnimElem = 1
Value = s210, var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -1]
type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = S, NA
AnimType  = Medium
Damage    = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
Priority = 2, Hit
PauseTime = 3,9+9*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 8,8
HitSound = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -55-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -5
Air.Velocity = -1.5*Var(50),IfElse(Var(50)=1,-6.6,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -6
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -6
YAccel = .48
Kill = 1
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(29+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*60), Ceil(0.85*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.50*FVar(31)*60)
ID = 215
Down.Bounce = 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1


;---------------------------------------------------------------------------
; 立ち中特殊１
[Statedef 211]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 211
SprPriority = 1
Facep2 = 1


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.78
FV = 1
Value = 0.78
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = time = 0
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 3
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
trigger1 = var(1) = 0
Trigger1 = AnimElem = 1
Value = s210, var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 215
PosType = P1
Pos = 50,-85
Anim = 218
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = S, NA
AnimType  = Medium
Damage    = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
Priority = 2, Hit
PauseTime = 3,9+9*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 8,8
HitSound = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -60-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -5
Air.Velocity = -1.5*Var(50),IfElse(Var(50)=1,-6.6,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -6
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -6
YAccel = .48
Kill = 1
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(29+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*60), Ceil(0.85*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.50*FVar(31)*60)
ID = 211
Down.Bounce = 1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.4,IfElse(Var(50)=2,-4.8,-7))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(21)%10 = 0
V = 21
Value = Var(21)+1



[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1


[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1


;---------------------------------------------------------------------------
; 立ち中特殊２
[Statedef 212]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 212
SprPriority = 1
Facep2 = 1


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.78
FV = 1
Value = 0.78
IgnoreHitPause = 1

[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.4,IfElse(Var(50)=2,-4.8,-7))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(21)%10 = 0
V = 21
Value = Var(21)+1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
trigger1 = var(1) = 0
Trigger1 = AnimElem = 7
Value = s212, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
trigger1 = var(1) = 1
Trigger1 = AnimElem = 7
Value = s212, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999




[State -1]
type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = animelem = 8
Attr = S, NA
AnimType  = hard
Damage    = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = H
Priority = 2, Hit
PauseTime = 3,8+8*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 3,8
HitSound = s10, 5
GuardSound = s120,0
SparkXY = -Random%20, -55-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = trip
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -5,-1
Air.Velocity = -0.5*Var(50),IfElse(Var(50)=1,-6.6,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -6
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -6
YAccel = .48
Kill = 1
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*60), Ceil(0.85*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.50*FVar(31)*60)
ID = 212
Down.Bounce = 1


[State -1]
Type = VarRandom
Trigger1 = Time = 1
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = varset
trigger1 = RoundState >= 3
trigger1 = animtime = 0
trigger1 = numtarget(212) > 0
v = 54
value = 6
ignorehitpause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1



[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1



;---------------------------------------------------------------------------
; 立ち強
[Statedef 220]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 220
SprPriority = 2


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.85
FV = 1
Value = 0.85
IgnoreHitPause = 1

[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4,IfElse(Var(50)=2,-4,-8))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(22)%10 = 0
V = 22
Value = Var(22)+1


[State -1]
Type = PosAdd
Trigger1 = AnimElemtime(3) = 0
X = 15

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 225
PosType = P1
Pos = 30,-50
Anim = 225
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Trigger1 = random <= 300
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Trigger1 = random >= 600
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 220
Trigger1 = AnimElem = 1
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
Priority = 3, Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20, 0
GuardSound = s120, 0
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -6
Guard.Velocity = -9
Air.Velocity = -1.5*Var(50),IfElse(Var(50)=1,-7.8,FVar(25))
Down.Velocity = -3,-2.5
Ground.CornerPush.VelOff = -9
Air.CornerPush.VelOff = -2.5*Var(50)
Down.CornerPush.VelOff = -6
YAccel = .48
Kill = 1
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*80), Ceil(0.85*FVar(30)*80)
GivePower = Floor(FVar(31)*80), Floor(0.50*FVar(31)*80)
ID = 220
Down.Bounce = 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1






;---------------------------------------------------------------------------
; 立ち強溜め
[Statedef 221]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 221
Facep2 = 1


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 2
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
Trigger1 = Command != "C溜め"
Trigger1 = Time = [0,15]
V = 1
Value = 1

[State -1]
Type = VarSet
Trigger1 = Time = 16
V = 1
Value = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 16
Value = s700, 0

[State -1]
Type = Explod
Trigger1 = Time = 16
Anim = 10700
ID = 10700
PosType = P1
Pos = -12,-76
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
TriggerAll = Var(1) = 1
Trigger1 = Time = [8,15]
Value = 220

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 230



;---------------------------------------------------------------------------
; 立ち強溜め
[Statedef 230]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 230
SprPriority = 2


[State -1]
Type = VarSet
Trigger1 = MoveContact
Trigger2 = MoveReversed
V = 1
Value = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 4 , >= 0
V = 1
Value = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.85
FV = 1
Value = 0.85
IgnoreHitPause = 1

[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4,IfElse(Var(50)=2,-4,-8))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(22)%10 = 0
V = 22
Value = Var(22)+1


[State -1]
Type = PosAdd
Trigger1 = Time = [0,4]
X = 6

[State -1]
Type = Explod
Trigger1 = AnimElem = 2
ID = 225
PosType = P1
Pos = 30,-50
Anim = 225
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Trigger1 = random <= 300
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Trigger1 = random >= 600
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 2
Attr = S, NA
Damage = Ceil(FVar(0)*(180-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
GuardFlag = 
Priority = 2, Miss
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
hitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1.5*Var(50),IfElse(Var(50)=1,-8.2,FVar(25))
Air.Velocity = -2*Var(50),IfElse(Var(50)=1,-8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -2.5*Var(50)
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -6
YAccel = .48
Kill = 1
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*140), Ceil(0.85*FVar(30)*140)
GivePower = Floor(FVar(31)*140), Floor(0.50*FVar(31)*140)
id = 230
Down.Bounce = 1


[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(1)= 0
Trigger1 = AnimElem = 2, = 2
Attr = S, NA
Damage = Ceil(FVar(0)*(180-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
GuardFlag = M
Priority = 2, Miss
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
hitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -30-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1.5*Var(50),IfElse(Var(50)=1,-8.2,FVar(25))
Guard.Velocity = -11
Air.Velocity = -2*Var(50),IfElse(Var(50)=1,-8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -2.5*Var(50)
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -6
YAccel = .48
Kill = 1
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*140), Ceil(0.85*FVar(30)*140)
GivePower = Floor(FVar(31)*140), Floor(0.50*FVar(31)*140)
ID = 230
Down.Bounce = 1


[State -2]
Type = Helper
TriggerAll = MoveHit = 1
TriggerAll = P2MoveType = H
Trigger1 = NumHelper(170000) = 0
Trigger1 = NumTarget(230) > 0
Trigger1 = Target(230),Time = 0
StateNo = 170000
ID = 170000
PosType = P1
Pos = 80,-60
random = 20,20
Ownpal = 1
Persistent = 0
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = AttackDist
Trigger1 = AnimElem = 2, < 2
Value = 0
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1



;---------------------------------------------------------------------------
; 立ち強特殊１
[Statedef 222]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 223
SprPriority = 2


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.85
FV = 1
Value = 0.85
IgnoreHitPause = 1

[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4,IfElse(Var(50)=2,-4,-8))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(22)%10 = 0
V = 22
Value = Var(22)+1


[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 227
PosType = P1
Pos = 40,-70
Anim = 226
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1



[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Trigger1 = random <= 300
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Trigger1 = random >= 600
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
Priority = 3, Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -60-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -8
Guard.Velocity = -10
Air.Velocity = -1.5*Var(50),IfElse(Var(50)=1,-7.8,FVar(25))
Down.Velocity = -3,-2.5
Ground.CornerPush.VelOff = -9
Air.CornerPush.VelOff = -2.5*Var(50)
Down.CornerPush.VelOff = -6
YAccel = .48
Kill = 1
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*40), Ceil(0.85*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.50*FVar(31)*40)
ID = 222
Down.Bounce = 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1


[State -1]
Type = posadd
Trigger1 = AnimElemtime(3) = 0
x = 10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = posadd
Trigger1 = AnimElemtime(6) = 0
x = -10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = posadd
Trigger1 = AnimElemtime(7) = 0
x = -8
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 立ち強溜め特殊１
[Statedef 223]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 224
Facep2 = 1



[State -1]
Type = PosAdd
Trigger1 = AnimElemtime(3) = 0
X = 15

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
Trigger1 = Command != "C溜め"
Trigger1 = Time = [1,26]
V = 1
Value = 1


[State -1]
Type = PlaySnd
Trigger1 = Time = 27
Value = s700, 0

[State -1]
Type = Explod
Trigger1 = Time = 27
Anim = 10700
ID = 10700
PosType = P1
Pos = -16,-76
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
TriggerAll = Var(1) = 1
Trigger1 = Time = [8,14]
Value = 222

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 240

;---------------------------------------------------------------------------
; 立ち強溜め特殊１
[Statedef 240]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 240
SprPriority = 2


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.85
FV = 1
Value = 0.85
IgnoreHitPause = 1

[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4,IfElse(Var(50)=2,-4,-8))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(22)%10 = 0
V = 22
Value = Var(22)+1


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = MoveContact
Trigger2 = MoveReversed
V = 1
Value = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 4 , >= 0
V = 1
Value = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Explod
Trigger1 = AnimElem = 2
ID = 227
PosType = P1
Pos = 45,-70
Anim = 226
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Trigger1 = random <= 300
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Trigger1 = random >= 600
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 2
Attr = S, NA
Damage = Ceil(FVar(0)*(180-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
GuardFlag = 
Priority = 2, Miss
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
hitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -60-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1.5*Var(50),IfElse(Var(50)=1,-8.2,FVar(25))
Air.Velocity = -2*Var(50),IfElse(Var(50)=1,-8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -2.5*Var(50)
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -6
YAccel = .48
Kill = 1
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*140), Ceil(0.85*FVar(30)*140)
GivePower = Floor(FVar(31)*140), Floor(0.50*FVar(31)*140)
id = 5600
p2facing = 1
Down.Bounce = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(1)= 0
Trigger1 = AnimElem = 2, = 2
Attr = S, NA
Damage = Ceil(FVar(0)*(180-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
GuardFlag = M
Priority = 2, Miss
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
hitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -30-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1.5*Var(50),IfElse(Var(50)=1,-8.2,FVar(25))
Guard.Velocity = -11
Air.Velocity = -2*Var(50),IfElse(Var(50)=1,-8,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -2.5*Var(50)
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -6
YAccel = .48
Kill = 1
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*140), Ceil(0.85*FVar(30)*140)
GivePower = Floor(FVar(31)*140), Floor(0.50*FVar(31)*140)
id = 5600
p2facing = 1
Down.Bounce = 1


[State 1450]
type = targetstate
trigger1 = animelemtime(2) >= 0
trigger1 = movehit
value = 5600
IgnoreHitPause = 1
Persistent = 1



[State -2]
Type = Helper
TriggerAll = MoveHit = 1
TriggerAll = P2MoveType = H
Trigger1 = NumHelper(170000) = 0
Trigger1 = NumTarget(5600) > 0
Trigger1 = Target(5600),Time = 0
StateNo = 170000
ID = 170000
PosType = P1
Pos = 80,-60
random = 20,20
Ownpal = 1
Persistent = 0
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999




[State -1]
Type = posadd
Trigger1 = AnimElemtime(2) = 0
x = 10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = posadd
Trigger1 = AnimElemtime(5) = 0
x = -12
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = posadd
Trigger1 = AnimElemtime(6) = 0
x = -8
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = AttackDist
Trigger1 = AnimElem = 2, < 2
Value = 0
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1




;---------------------------------------------------------------------------
; 立ち強特殊２
[Statedef 224]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 251
SprPriority = 2


[State -1]
Type = velset
Trigger1 = Anim = 251
Trigger1 = AnimElemtime(3) >= 0
Trigger1 = AnimElemtime(5) <= 3
Trigger2 = Anim = 253
Trigger2 = AnimElemtime(1) >= 0
Trigger2 = AnimElemtime(3) <= 3
X = 3

[State -1]
Type = velset
Trigger1 = Anim = 251
Trigger1 = AnimElemtime(5) = 4
Trigger2 = Anim = 253
Trigger2 = AnimElemtime(3) = 4
X = 0


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 7
V = 7
Value = 0

[State -1]
Type = VarSet
Trigger1 = MoveGuarded = 1
Trigger2 = MoveReversed = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 0


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = NumTarget(220) = 0
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.80*FVar(1)
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = NumTarget(220) > 0
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.75*FVar(1)
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = Anim = 251
Trigger1 = AnimElem = 3
StateNo = 227
ID = 227
PosType = P1
Ownpal = 1
SprPriority = 5

[State -1]
Type = PlaySnd
Trigger1 = Anim = 251
Trigger1 = AnimElem = 3
Trigger1 = random <= 300
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 251
Trigger1 = AnimElem = 3
Trigger1 = random >= 600
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 251
Trigger1 = AnimElem = 3
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = anim = 251
Trigger1 = AnimElem = 3
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
Priority = 3, Hit
PauseTime = 8,18+18*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,20
HitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -40-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1
Guard.Velocity = -1
Air.Velocity = -.05*Var(50),IfElse(Var(50)=1,-7.8,FVar(25))
Down.Velocity = -.05,-2.5
Ground.CornerPush.VelOff = -9
Air.CornerPush.VelOff = -2.5*Var(50)
Down.CornerPush.VelOff = -6
YAccel = .48
id = 224
Kill = 1
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(43+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*40), Ceil(0.85*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.50*FVar(31)*40)
Down.Bounce = 1

[State -1]
Type = changeanim
Trigger1 = anim = 251
Trigger1 = animelemtime(4) = 0
Trigger1 = enemynear,p2bodydist x <= 20
Trigger1 = anim != 253
Value = 253
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlayerPush
Trigger1 = anim = 253
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = posadd
Trigger1 = anim = 251
Trigger1 = AnimElemtime(8) = 0
x = -8
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = posadd
Trigger1 = anim = 251
Trigger1 = AnimElemtime(9) = 0
x = -8
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = posadd
Trigger1 = anim = 253
Trigger1 = animelemtime(3) = 0
x = 50
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = turn
Trigger1 = anim = 253
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
Persistent = 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 立ち強溜め特殊１
[Statedef 225]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 252
Facep2 = 1

[State -1]
Type = PosAdd
Trigger1 = AnimElemtime(3) = 0
X = 15

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = 1
Trigger1 = Var(22)%10 = 0
V = 22
Value = Var(22)+1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
Trigger1 = Command != "C溜め"
Trigger1 = Time = [0,26]
V = 7
Value = 1

[State -1]
Type = VarSet
Trigger1 = Time = 24
V = 7
Value = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 27
Value = s700, 0

[State -1]
Type = Explod
Trigger1 = Time = 27
Anim = 10700
ID = 10700
PosType = P1
Pos = -16,-76
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
TriggerAll = Var(7) = 1
Trigger1 = Time = [8,14]
Value = 224

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 250

;---------------------------------------------------------------------------
; 立ち強溜め特殊１
[Statedef 250]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 250
SprPriority = 2


[State -1]
Type = veladd
Trigger1 = anim = 250
Trigger1 = AnimElemtime(2) = 0
X = 4

[State -1]
Type = velset
Trigger1 = anim = 250
Trigger1 = AnimElemtime(5) = 0
X = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = MoveContact
Trigger2 = MoveReversed
V = 7
Value = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 4 , >= 0
V = 7
Value = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = anim = 250
Trigger1 = AnimElem = 2
StateNo = 227
ID = 227
PosType = P1Ownpal = 1
SprPriority = 5

[State -1]
Type = PlaySnd
Trigger1 = anim = 250
Trigger1 = AnimElem = 1
Trigger1 = random <= 300
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = anim = 250
Trigger1 = AnimElem = 1
Trigger1 = random >= 600
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = anim = 250
Trigger1 = AnimElem = 2
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = MoveHit
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.50
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = anim = 250
Trigger1 = AnimElem = 2
Attr = S, NA
Damage = Ceil(FVar(0)*(180-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
GuardFlag = 
Priority = 2, Miss
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
hitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -40-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = Low
Air.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -.05*Var(50),IfElse(Var(50)=1,-8.2,FVar(25))
Air.Velocity = -.05*Var(50),IfElse(Var(50)=1,-8,FVar(25))
Down.Velocity = -.05,-2.5
Ground.CornerPush.VelOff = -2.5*Var(50)
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -6
YAccel = .48
Kill = 1
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*140), Ceil(0.85*FVar(30)*140)
GivePower = Floor(FVar(31)*140), Floor(0.50*FVar(31)*140)
id = 250
Down.Bounce = 1



[State -2]
Type = Helper
TriggerAll = MoveHit = 1
TriggerAll = P2MoveType = H
Trigger1 = NumHelper(170000) = 0
Trigger1 = NumTarget(250) > 0
Trigger1 = Target(250),Time = 0
StateNo = 170000
ID = 170000
PosType = P1
Pos = 80,-60
random = 20,20
Ownpal = 1
Persistent = 0
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = posadd
Trigger1 = AnimElemtime(7) = 0
x = -8
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = posadd
Trigger1 = AnimElemtime(8) = 0
x = -8
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = AttackDist
Trigger1 = AnimElem = 2, < 2
Value = 0
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 立ち強溜め特殊２エフェクト
[Statedef 227]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 227
sprpriority = 5

[State -1]
Type = BindToParent
Trigger1 = 1
pos = 50,-60
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[State -1]
Type = AngleDraw
Trigger1 = 1
Scale = 0.8,0.8

[State -1]
Type = AngleAdd
Trigger1 = Time = 0
Value = -30

[State -1]
Type = DestroySelf
Trigger1 = AnimTime = 0
Trigger2 = Parent,MoveType = H




;---------------------------------------------------------------------------
;C2A
[Statedef 400]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 400
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,6
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = var(1) = 0
Trigger1 = Time = 1
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = var(1) = 1
Trigger1 = Time = 1
Value = s200, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = var(1) = 2
Trigger1 = Time = 1
Value = s200, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = C, NA
Damage = Ceil(FVar(0)*(30-Var(4)%2))
Priority  = IfElse(Var(57)%10=4,2,1), Hit
AnimType  = Light
HitFlag = MAFD
GuardFlag = M
PauseTime = 6,8+8*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 6,6
HitSound   = s10,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -3.8
Air.Velocity = -2*Var(50),IfElse(Var(50)=1,-6.6*FVar(36),-2)
Down.Velocity = -4,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
YAccel = .54
ID = 400
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(23+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*40), Ceil(0.85*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.50*FVar(31)*40)
Down.Bounce = 1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-5,IfElse(Var(50)=2,-6,-5.8))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(20)/10%10 = 0
V = 20
Value = Var(20)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;F2A
[Statedef 401]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 401
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,6
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Trigger1 = var(1) = 0
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Trigger1 = var(1) = 1
Value = s200, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Trigger1 = var(1) = 2
Value = s200, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
Trigger1 = Time = 0
Trigger1 = NumExplod(406) = 1
ID = 406

[State -1]
Type = Explod
Trigger1 = AnimElem = 4
ID = 406
PosType = P1
Pos = 47,-32
Anim = 406
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 2
Attr = C, NA
Damage = Ceil(FVar(0)*(30-Var(4)%2))
Priority  = IfElse(Var(57)%10=4,2,1), Hit
AnimType  = Light
HitFlag = MAFD
GuardFlag = M
PauseTime = 6,8+8*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 6,6
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -3.8
Air.Velocity = -2*Var(50),IfElse(Var(50)=1,-6.6*FVar(36),-2)
Down.Velocity = -4,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
YAccel = .54
ID = 401
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(23+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*40), Ceil(0.85*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.50*FVar(31)*40)
Down.Bounce = 1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-5,IfElse(Var(50)=2,-6,-5.8))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(20)/10%10 = 0
V = 20
Value = Var(20)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1



;---------------------------------------------------------------------------
;C2B
[Statedef 410]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 410
SprPriority = 2
Facep2 = 1

[State -1]
Type = Helper
Trigger1 = Time <= 10
Trigger1 = numhelper(9600) = 0
StateNo = 9600
ID = 9600
PosType = P1
pos = 0,0
Ownpal = 1
SprPriority = 5

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarRandom
Trigger1 = time = 0
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = random < 400
Trigger1 = AnimElem = 2
Value = s210, var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 3
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 5
ID = 415
PosType = P1
Pos = 7,-32
Anim = 415
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.65
FV = 1
Value = 0.65
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = C, NA
Damage    = Ceil(FVar(0)*(55-Var(4)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = L
Priority  = IfElse(Var(57)%10=4,3,2), Hit
PauseTime = 5,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -4
Guard.Velocity = -10
Air.Velocity = IfElse(Var(50)=1,-0.5,-4.5),IfElse(Var(50)=1,-3.4*FVar(36),-2)
Down.Velocity = -4.5,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
YAccel = .54
ID = 410
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 0
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*55), Ceil(0.85*FVar(30)*55)
GivePower = Floor(FVar(31)*55), Floor(0.50*FVar(31)*55)
Down.Bounce = 1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-5.5,IfElse(Var(50)=2,-5.5,-5.5))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(21)/10%10 = 0
V = 21
Value = Var(21)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;F2B
[Statedef 411]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 411
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 3
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElemtime(3) = 0
ID = 416
PosType = P1
Pos = 50,-45
Anim = 416
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.65
FV = 1
Value = 0.65
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = C, NA
Damage    = Ceil(FVar(0)*(55-Var(4)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = L
Priority  = IfElse(Var(57)%10=4,3,2), Hit
PauseTime = 5,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -4
Guard.Velocity = -10
Air.Velocity = IfElse(Var(50)=1,-0.5,-4.5),IfElse(Var(50)=1,-3.6*FVar(36),-2)
Down.Velocity = -4.5,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
YAccel = .54
ID = 410
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 0
Fall.Recover = 0
GetPower = Ceil(FVar(30)*55), Ceil(0.85*FVar(30)*55)
GivePower = Floor(FVar(31)*55), Floor(0.50*FVar(31)*55)
Down.Bounce = 1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-5.5,IfElse(Var(50)=2,-5.5,-5.5))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(21)/10%10 = 0
V = 21
Value = Var(21)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;E2B
[Statedef 412]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 412
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 2
X = 8
Y = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 3
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 2
Anim = 415
ID = 417
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 2
IgnoreHitPause = 1
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.65
FV = 1
Value = 0.65
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = C, NA
Damage    = Ceil(FVar(0)*(55-Var(4)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = L
Priority  = IfElse(Var(57)%10=4,3,2), Hit
PauseTime = 10,10+11*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Trip
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -0.5,-3.6*FVar(36)
Guard.Velocity = -10
Air.Velocity = IfElse(Var(50)=1,-0.5,-4.5),IfElse(Var(50)=1,-3.4*FVar(36),-2)
Down.Velocity = -4.5,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
YAccel = .54
Kill = 1
Guard.Kill = 0
ID = 410
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*55), Ceil(0.85*FVar(30)*55)
GivePower = Floor(FVar(31)*55), Floor(0.50*FVar(31)*55)
Down.Bounce = 1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-5.5,IfElse(Var(50)=2,-5.5,-5.5))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(21)/10%10 = 0
V = 21
Value = Var(21)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;C2C
[Statedef 420]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 420
SprPriority = 2
Facep2 = 1

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = velset
Trigger1 = AnimElemtime(3) >= 2
Trigger1 = AnimElemtime(4) <= 0
x = 18
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = velset
Trigger1 = AnimElemtime(4) = 1
x = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = posadd
Trigger1 = AnimElemtime(4) = 1
x = 18
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = posadd
Trigger1 = AnimElemtime(4) = 1
x = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = velset
Trigger1 = AnimElemtime(7) >= 1
Trigger1 = AnimElemtime(8) <= 0
x = 15
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = velset
Trigger1 = AnimElemtime(8)= 1
x = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = posadd
Trigger1 = AnimElemtime(8) = 1
x = 15
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Explod
Trigger1 = AnimElem = 9
ID = 425
PosType = P1
Pos = -10,-20
Anim = 425
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = random > 700
Trigger1 = AnimElem = 5
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = random < 300
Trigger1 = AnimElem = 5
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 8
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.55
FV = 1
Value = 0.55
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 9
Attr = C, NA
Damage    = Ceil(FVar(0)*(90-Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = L
Priority  = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Trip
Air.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -0.5,-4.2*FVar(36)
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-8*FVar(36),-2)
Down.Velocity = -2,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Fall.XVelocity = 0
EnvShake.Time = 10
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .54
ID = 420
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*80), Ceil(0.85*FVar(30)*80)
GivePower = Floor(FVar(31)*80), Floor(0.50*FVar(31)*80)
Down.Bounce = 1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4,IfElse(Var(50)=2,-4,-4))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(23)/10%10 = 0
V = 23
Value = Var(23)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1




;---------------------------------------------------------------------------
;C2C
[Statedef 430]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 430
SprPriority = 2
Facep2 = 1

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = random > 700
Trigger1 = AnimElem = 2
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = random < 300
Trigger1 = AnimElem = 2
Value = s212, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.65
FV = 1
Value = 0.65
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5
Attr = C, NA
Damage    = Ceil(FVar(0)*(90-Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = L
Priority  = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Trip
Air.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-3.6*FVar(36)
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-8*FVar(36),-2)
Down.Velocity = -2,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Fall.XVelocity = 0
EnvShake.Time = 10
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .54
ID = 430
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*80), Ceil(0.85*FVar(30)*80)
GivePower = Floor(FVar(31)*80), Floor(0.50*FVar(31)*80)
Down.Bounce = 1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4,IfElse(Var(50)=2,-4,-4))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(23)/10%10 = 0
V = 23
Value = Var(23)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1



;---------------------------------------------------------------------------
;C2C
[Statedef 440]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 440
SprPriority = 2
Facep2 = 1


[State -1]
Type = posadd
Trigger1 = AnimElemtime(3) = 0
x = 15
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = velset
Trigger1 = AnimElemtime(3) >= 0
Trigger1 = AnimElemtime(5) <= 3
x = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = velset
Trigger1 = AnimElemtime(8) = 0
x = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 10950
PosType = P1
Pos = 30,0
Anim = 10950
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 0


[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = random > 700
Trigger1 = AnimElem = 2
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = random < 300
Trigger1 = AnimElem = 2
Value = s212, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.65
FV = 1
Value = 0.65
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = time = 0
Attr = C, NA
Damage    = Ceil(FVar(0)*(60-Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = L
Priority  = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Trip
Air.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-3.6*FVar(36)
Guard.Velocity = -8
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-8*FVar(36),-2)
Down.Velocity = -2,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Fall.XVelocity = 0
EnvShake.Time = 10
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .54
ID = 440
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*60), Ceil(0.85*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.50*FVar(31)*60)
Down.Bounce = 1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4,IfElse(Var(50)=2,-4,-4))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(23)/10%10 = 0
V = 23
Value = Var(23)+10

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;CJA
[Statedef 600]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 600
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 605
PosType = P1
Pos = 58,-55
Anim = 605
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Trigger1 = random < 300
Value = s101, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
Trigger1 = Time = 0
Trigger1 = NumExplod(605) = 1
ID = 605


[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 != 3
Trigger1 = AnimElem = 3
Attr = A, NA
Damage  = Ceil(FVar(0)*(30-Var(4)%2))
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,2,1), Hit
PauseTime = 6,6+6*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 6,6
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
AirGuard.CtrlTime = 7
Ground.Velocity = -3.5
Air.Velocity = -1.4*Var(50),IfElse(Var(50)=1,-6.8*FVar(36),-2)
AirGuard.Velocity = -2,-1
Down.Velocity = -2.4,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
YAccel = .54
ID = 600
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(21+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
Down.Bounce = 1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.4,IfElse(Var(50)=2,-4.8,-5.5))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(20)/100 = 0
V = 20
Value = Var(20)+100

[State 50, 1]
type = VarSet
trigger1 = animelem = 3
sysvar(1) = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

;---------------------------------------------------------------------------
;EJA
[Statedef 601]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 601
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,6
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 606
PosType = P1
Pos = 15,-90
Anim = 606
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Trigger1 = var(1) = 0
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Trigger1 = var(1) = 1
Value = s200, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Trigger1 = var(1) = 2
Value = s200, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
Trigger1 = Time = 0
Trigger1 = NumExplod(606) = 1
ID = 606


[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = A, NA
Damage  = Ceil(FVar(0)*(30-Var(4)%2))
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,2,1), Hit
PauseTime = 6,6+6*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 6,6
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 11
Ground.HitTime  = 11
AirGuard.CtrlTime = 7
Ground.Velocity = -3.5
Air.Velocity = -1.4*Var(50),IfElse(Var(50)=1,-6.8*FVar(36),-2)
AirGuard.Velocity = -2,-1
Down.Velocity = -2.8,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
YAccel = .54
ID = 600
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(21+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
Down.Bounce = 1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.4,IfElse(Var(50)=2,-4.8,-5.5))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(20)/100 = 0
V = 20
Value = Var(20)+100

[State 50, 1]
type = VarSet
trigger1 = animelem = 3
sysvar(1) = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

;---------------------------------------------------------------------------
;CJB
[Statedef 610]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 610
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarRandom
Trigger1 = time = 0
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 3
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = random < 300
Trigger1 = AnimElem = 2
Value = s210, var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 615
PosType = P1
Pos = 38,-73
Anim = 615
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = A, NA
Damage = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,3,2), Hit
PauseTime = 8,8+8*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 8,8
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Med
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
AirGuard.CtrlTime = 7
Ground.Velocity = -4
Guard.Velocity = -6.5
Air.Velocity = -1.4*Var(50),IfElse(Var(50)=1,-8*FVar(36),-2)
AirGuard.Velocity = -4,-1
Down.Velocity = -2.8,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
YAccel = .54
ID = 610
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*80), Ceil(0.85*FVar(30)*80)
GivePower = Floor(FVar(31)*80), Floor(0.50*FVar(31)*80)
Down.Bounce = 1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.4,IfElse(Var(50)=2,-4.8,-6))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(21)/100 = 0
V = 21
Value = Var(21)+100

[State 50, 1]
type = VarSet
trigger1 = animelem = 3
sysvar(1) = -1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

;---------------------------------------------------------------------------
;EJB
[Statedef 611]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 611
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarRandom
Trigger1 = time = 0
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 4
Value = s30, 3
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = random < 300
Trigger1 = AnimElem = 3
Value = s210, var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 616
PosType = P1
Pos = 0,-80
Anim = 616
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = A, NA
Damage = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,3,2), Hit
PauseTime = 8,8+8*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 8,8
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Med
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
AirGuard.CtrlTime = 7
Ground.Velocity = -4
Guard.Velocity = -6.5
Air.Velocity = -1.4*Var(50),IfElse(Var(50)=1,-8*FVar(36),-2)
AirGuard.Velocity = -4,-1
Down.Velocity = -2.4,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
YAccel = .54
ID = 610
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*80), Ceil(0.85*FVar(30)*80)
GivePower = Floor(FVar(31)*80), Floor(0.50*FVar(31)*80)
Down.Bounce = 1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.2,IfElse(Var(50)=2,-4.8,-6))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(21)/100 = 0
V = 21
Value = Var(21)+100

[State 50, 1]
type = VarSet
trigger1 = animelem = 3
sysvar(1) = -1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1


;---------------------------------------------------------------------------
;EJB
[Statedef 612]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 612
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarRandom
Trigger1 = time = 0
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 3
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 9
Value = s30, 3
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = random < 300
Trigger1 = AnimElem = 3
Value = s210, var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 617
PosType = P1
Pos = 28,-73
Anim = 616
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 9
ID = 617
PosType = P1
Pos = 8,-73
Anim = 617
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = A, NA
Damage = Ceil(FVar(0)*(40-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,3,2), Hit
PauseTime = 8,8+8*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 8,8
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Med
Ground.Type = High
Ground.SlideTime = 11
Ground.HitTime  = 11
AirGuard.CtrlTime = 7
Ground.Velocity = -4
Guard.Velocity = -6.5
Air.Velocity = -1.4*Var(50),IfElse(Var(50)=1,-8*FVar(36),-2)
AirGuard.Velocity = -4,-1
Down.Velocity = -2.4,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
YAccel = .54
ID = 612
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*40), Ceil(0.85*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.50*FVar(31)*40)
Down.Bounce = 1


[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 9
Attr = A, NA
Damage = Ceil(FVar(0)*(40-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,3,2), Hit
PauseTime = 8,8+8*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 8,8
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Med
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
AirGuard.CtrlTime = 7
Ground.Velocity = -4
Guard.Velocity = -6.5
Air.Velocity = -1.4*Var(50),IfElse(Var(50)=1,-8*FVar(36),-2)
AirGuard.Velocity = -4,-1
Down.Velocity = -2.4,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
YAccel = .54
ID = 613
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*40), Ceil(0.85*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.50*FVar(31)*40)
Down.Bounce = 1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.2,IfElse(Var(50)=2,-4.8,-6))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(21)/100 = 0
V = 21
Value = Var(21)+100

[State 50, 1]
type = VarSet
trigger1 = animelem = 3
sysvar(1) = -1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1


;---------------------------------------------------------------------------
;EJB
[Statedef 613]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 613
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarRandom
Trigger1 = time = 0
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 3
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -1]
Type = PlaySnd
Trigger1 = random < 300
Trigger1 = AnimElem = 3
Value = s210, var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 618
PosType = P1
Pos = 8,-73
Anim = 617
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1



[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = A, NA
Damage = Ceil(FVar(0)*(50-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,3,2), Hit
PauseTime = 8,8+8*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 8,8
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Med
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
AirGuard.CtrlTime = 7
Ground.Velocity = -4
Guard.Velocity = -6.5
Air.Velocity = -1.4*Var(50),IfElse(Var(50)=1,-8*FVar(36),-2)
AirGuard.Velocity = -4,-1
Down.Velocity = -2.4,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
YAccel = .54
ID = 613
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*80), Ceil(0.85*FVar(30)*80)
GivePower = Floor(FVar(31)*80), Floor(0.50*FVar(31)*80)
Down.Bounce = 1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.2,IfElse(Var(50)=2,-4.8,-6))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(21)/100 = 0
V = 21
Value = Var(21)+100

[State 50, 1]
type = VarSet
trigger1 = animelem = 3
sysvar(1) = -1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1



;---------------------------------------------------------------------------
;CJC
[Statedef 620]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 620
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Trigger1 = random < 300
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Trigger1 = random > 700
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 625
PosType = P1
Pos = 35,-60
Anim = 625
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.90*FVar(1)
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = A, NA
Damage = Ceil(FVar(0)*(95-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
AirGuard.CtrlTime = 7
Ground.Velocity = -4.5
Guard.Velocity = -7.5
Air.Velocity = -1.4*Var(50),IfElse(Var(50)=1,-8*FVar(36),-2)
AirGuard.Velocity = -3.2,-1
Down.Velocity = -2.8,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
EnvShake.Time = 10
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .54
ID = 620
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*120), Ceil(0.85*FVar(30)*120)
GivePower = Floor(FVar(31)*120), Floor(0.50*FVar(31)*120)
Down.Bounce = 1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.4,IfElse(Var(50)=2,-4.8,-6.5))
IgnoreHitPause = 1
Persistent = 1

[State 50, 1]
type = VarSet
trigger1 = animelem = 3
sysvar(1) = -1

[State -1]
Type = VarSet
Trigger1 = Var(22)/100 = 0
V = 22
Value = Var(22)+100

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

;---------------------------------------------------------------------------
;EJC
[Statedef 621]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 621
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Trigger1 = random < 300
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Trigger1 = random > 700
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 626
PosType = P1
Pos = -5,-95
Anim = 1175
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.90*FVar(1)
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = A, NA
Damage = Ceil(FVar(0)*(95-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
AirGuard.CtrlTime = 7
Ground.Velocity = -4.5
Guard.Velocity = -7.5
Air.Velocity = -1.4*Var(50),IfElse(Var(50)=1,-8*FVar(36),-2)
AirGuard.Velocity = -3.2,-1
Down.Velocity = -2.8,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
EnvShake.Time = 10
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .54
ID = 620
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*120), Ceil(0.85*FVar(30)*120)
GivePower = Floor(FVar(31)*120), Floor(0.50*FVar(31)*120)
Down.Bounce = 1


[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.4,IfElse(Var(50)=2,-4.8,-6.5))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(22)/100 = 0
V = 22
Value = Var(22)+100


[State 50, 1]
type = VarSet
trigger1 = animelem = 3
sysvar(1) = -1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1



;---------------------------------------------------------------------------
;EJC
[Statedef 622]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 622
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 105, 1]
type = Velset
trigger1 = Time = 0
y = 0

[State 105, 1]
type = Veladd
trigger1 = Time = 1
y = -6.5

[State 105, 1]
type = Velset
trigger1 = Time = 1
x = 1.3

[State -1]
Type = VelSet
Trigger1 = animelemTime(9) = 0
X = 8
Y = 7


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 9
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 9
Value = s110, 0
Channel = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = AnimElemtime(9) = 0
Trigger1 = random < 499
Value = s1800, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElemtime(9) = 0
Trigger1 = random > 500
Value = s800, 7
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 627
PosType = P1
Pos = -10,-70
Anim = 626
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = Explod
Trigger1 = AnimElem = 10
ID = 627
PosType = P1
Pos = 58,-55
Anim = 605
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.90*FVar(1)
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = A, NA
Damage = Ceil(FVar(0)*(55-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
AirGuard.CtrlTime = 7
Ground.Velocity = -4.5
Guard.Velocity = -7.5
Air.Velocity = -1.4*Var(50),IfElse(Var(50)=1,-5*FVar(36),-2)
AirGuard.Velocity = -3.2,-1
Down.Velocity = -2.8,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
EnvShake.Time = 10
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .54
ID = 622
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*55), Ceil(0.85*FVar(30)*55)
GivePower = Floor(FVar(31)*55), Floor(0.50*FVar(31)*55)
Down.Bounce = 1


[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 10
Attr = A, NA
Damage = Ceil(FVar(0)*(75-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
AirGuard.CtrlTime = 7
Ground.Velocity = -4.5
Guard.Velocity = -7.5
Air.Velocity = -8*Var(50),IfElse(Var(50)=1,7*FVar(36),-2)
AirGuard.Velocity = -3.2,-1
Down.Velocity = -2.8,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
EnvShake.Time = 10
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .48
ID = 623
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
Fall.RecoverTime = 0
GetPower = Ceil(FVar(30)*120), Ceil(0.85*FVar(30)*120)
GivePower = Floor(FVar(31)*120), Floor(0.50*FVar(31)*120)
Down.Bounce = 1



[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.4,IfElse(Var(50)=2,-4.8,-6.5))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(22)/100 = 0
V = 22
Value = Var(22)+100


[State 50, 1]
type = VarSet
trigger1 = animelem = 3
sysvar(1) = -1

[State 50, 1]
type = VarSet
trigger1 = animelem = 10
sysvar(1) = 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1




;---------------------------------------------------------------------------
;投げ・発動
;     
;     投げのステートは少し複雑ですが順序良くならべればなんてことありません。
;     800：投げの発生と失敗した時
;     810：投げが成功した時の自分の動き
;     811：投げが成功した瞬間の相手の状態
;     812：投げが成功した時の相手の飛んでいく状態
;     とこんな具合です、投げは自分の他に相手の分も記述しなくてはなりません
;     でもそれだけです。

[Statedef 800]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 800
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimTime = 0
V = 54
Value = 0

[State -1]
Type = VarSet
TriggerAll = Time = 1
Trigger1 = P2MoveType = A
Trigger2 = (P2StateNo != [100,104]) && P2MoveType != H && EnemyNear(Var(3)),Ctrl = 0
V = 54
Value = -1

[State -1]
Type = VelSet
TriggerAll = Time = 0
Trigger1 = Var(57)%10 != 4
Trigger2 = PrevStateNo != [100,101]
X = 0
Y = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = Facing

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 8
Value = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) = 0
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 != 4
Trigger1 = P2MoveType != H || P2StateNo = [120,159]
Trigger1 = P2BodyDist X = [-33,33]
Trigger1 = Time = 2
Attr = S, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
HitFlag = M-          ;コンボの途中から投げが入らないよう設定してある
Priority = 1, Miss    ;１は優先順位が低いので技がでないかミスするという設定
SparkNo = -1          ;-をつければスパークエフェクトは無い
Guard.SparkNo = -1
SprPriority = 1       ;２Ｐより上にカンフーマンが表示される
P1Facing = ifelse (command = "holdfwd", 1, -1) ;前を押したらターンする設定
P2Facing = 1          ;？
P1StateNo = 810       ;投げが成功した場合の移動する１Ｐのステート
P2StateNo = 811       ;投げが成功した場合の移動する２Ｐのステート
Fall.Recover = 0
Fall.XVelocity = 0

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) != 0
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 != 4
Trigger1 = P2MoveType != H || P2StateNo = [120,159]
Trigger1 = P2BodyDist X = [-33,33]
Trigger1 = Time = 2
Attr = S, NT
HitFlag = M-
Priority = 1, Miss
SparkNo = -1
Guard.SparkNo = -1
SprPriority = 1
P1Facing = ifelse (FrontEdgeDist<BackEdgeDist, -1, 1)
P2Facing = 1
P1StateNo = 810
P2StateNo = 811
Fall.Recover = 0
Fall.XVelocity = 0
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) = 0
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 = 4
Trigger1 = P2StateNo != [150,159]
Trigger1 = P2BodyDist X = [-33,33]
Trigger1 = Time = 2
Attr = S, NT
HitFlag = MFD
Priority = 2, Miss
SparkNo = -1
Guard.SparkNo = -1
SprPriority = 1
P1Facing = ifelse (command = "holdfwd", 1, -1)
P2Facing = 1
P1StateNo = 810
P2StateNo = 811
Fall.Recover = 0
Fall.XVelocity = 0
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) != 0
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 = 4
Trigger1 = P2StateNo != [150,159]
Trigger1 = P2BodyDist X = [-33,33]
Trigger1 = Time = 2
Attr = S, NT
HitFlag = MFD
Priority = 2, Miss
SparkNo = -1
Guard.SparkNo = -1
SprPriority = 1
P1Facing = ifelse (FrontEdgeDist<BackEdgeDist, -1, 1)
P2Facing = 1
P1StateNo = 810
P2StateNo = 811
Fall.Recover = 0
Fall.XVelocity = 0
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s800, ifelse(random>500,0,1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;投げ・投げている自分
;     このステートでは相手を設定した場所に固定した後、相手を飛ばしています
;     ここで相手の動きを制御しているのはtype = TargetBindというステートです
;     これを一定時間事にやっていくと綺麗に投げ飛ばされているように見えます。
;     そしてここにはHitDefが無いのでダメージはtype = TargetLifeAddで
;     ダメージを減らしています

[Statedef 810]
Type    = S
MoveType= A
Physics = N
VelSet = 0,0
Anim = 810

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarSet
Trigger1 = Time < 10
Trigger1 = NumTarget
Trigger1 = Target,StateNo != [811,812]
V = 54
Value = 1

[State -1]
Type = VarSet
Trigger1 = AnimTime = 0
V = 54
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 8
FV = 28
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
FV = 28
Value = IfElse(Target,Const(Size.Head.Pos.Y)>-60,0,IfElse((Target,Const(Size.Head.Pos.Y)=[-80,-60]),1,2))

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s10, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 8
Value = s5100, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1, EnvShake]
Type = EnvShake
Trigger1 = AnimElem = 8
Time = 10
Freq = 80
Ampl = 4
Persistent = 0

[State -1, Explod]
Type = Explod
Trigger1 = AnimElem = 8
Anim = 15100
ID = 15100
Postype = P1
Pos = 42,0
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
Removetime = -2
Removeongethit = 1


[State -1]
Type = VarRandom
Trigger1 = time = 0
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 6
Value = s800, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 18
Value = s800, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 6
Value = s800, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 18
Value = s800, 5
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Explod
TriggerAll = Var(0)/10%10 = 0
TriggerAll = Var(54) = -1
Trigger1 = Time = 1
Anim = 21001
ID = 21001
PosType = Left
Pos = IfElse(TeamSide=1,0,186), 120
Scale = 0.5,0.5
BindTime = -1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
TriggerAll = Var(0)/10%10 = 0
TriggerAll = Var(54) = -1
Trigger1 = Time = 1
Anim = 21005
ID = 21005
PosType = Left
Pos = IfElse(TeamSide=1,0,186), 120
Scale = 0.5,0.5
BindTime = -1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
TriggerAll = Var(0)/10%10 = 0
TriggerAll = Var(54) = -1
Trigger1 = Time = 1
Anim = 21006
ID = 21006
PosType = Left
Pos = IfElse(TeamSide=1,0,186), 120
Scale = 0.5,0.5
BindTime = -1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = Var(54) = -1
Trigger1 = Time = 1
StateNo = 15100
ID = 15101
PosType = P2
Pos = 50,Const(Size.Mid.Pos.Y)
Scale = 0.5,0.5
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = TargetState
Trigger1 = Var(54) = 0
Trigger1 = Time = [1,8]
Trigger1 = EnemyNear(Var(3)),Command = "holdfwd" || EnemyNear(Var(3)),Command = "holdback"
Trigger1 = EnemyNear(Var(3)),Command = "x" || EnemyNear(Var(3)),Command = "a" && EnemyNear(Var(3)),Command = "z"
Value = 816

[State -1]
Type = ChangeState
Trigger1 = Var(54) = 0
Trigger1 = Time = [1,8]
Trigger1 = EnemyNear,Command = "holdfwd" || EnemyNear(Var(3)),Command = "holdback"
Trigger1 = EnemyNear(Var(3)),Command = "x" || EnemyNear(Var(3)),Command = "a" && EnemyNear(Var(3)),Command = "z"
Value = 815


[State -1]
Type = TargetBind
Trigger1 = AnimElem = 1
Pos = 72, 0


[State -1]
Type = TargetBind
Trigger1 = AnimElem = 3
Pos = -4, -86

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 4
Pos = 0, -90

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 5
Pos = -26, -88

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 6
Pos = -36, -95

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 7
Pos = -30, -96

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 8
Pos = 42, 0

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 18
Value = Ceil(FVar(30)*150)

[State -1]
Type = TargetPowerAdd
Trigger1 = AnimElem = 18
Value = Floor(FVar(31)*150)

[State -1]
Type = TargetLifeAdd
Trigger1 = AnimElem = 18
Value = -Ceil(FVar(0)/(1.00-(0.08*FVar(4)))*(150-Var(4)%2))

[State -1]
Type = HitAdd
Trigger1 = AnimElem = 18
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VelSet
Trigger1 = Time = 0
X = 0
Y = 0

[State -1]
Type = PosSet
Trigger1 = AnimElem = 1
Y = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 18
Anim = 805
ID = 805
PosType = P1
Pos = 56,-8
Ownpal = 1
SprPriority = 8
IgnoreHitPause = 1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 18
Value = s20, 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 18
StateNo = 160000
ID = 160001
PosType = P1
Pos = 58,-20
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetState
Trigger1 = animelemTime(1) = 0
Value = 811
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetState
Trigger1 = animelemTime(6) = 0
Value = 812
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetState
Trigger1 = animelemTime(8) = 0
Value = 813
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetState
Trigger1 = animelemTime(18) = 0
Value = 814
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Veladd
Trigger1 = animelemTime(23) = 0
X = -4.5
Y = -2.5

[State -1]
Type = Veladd
Trigger1 = animelemTime(23) >= 1
Trigger1 = animelemTime(27) <= 3
X = .05
Y = .35

[State -1]
Type = Velset
Trigger1 = animelemTime(28) = 0
X = 0
Y = 0

[State -1]
Type = posset
Trigger1 = animelemTime(28) = 0
Y = 0


[State -1]
Type = Explod
Trigger1 = animelemTime(28) = 0
Anim = 10052
ID = 10052
PosType = P1
Pos = 0,0
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 0
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = animelemTime(28) = 0
Value = s40, 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = TargetState
Trigger1 = animelemTime(27) = 0
Value = 8150
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;投げ・投げられている相手
; 
;     ここは投げられた瞬間の相手のステートです
;     たいしたことは書いてありませんがtypeがAになっている事です。
;     相手が投げれて空中にいる事を設定して次の821ステートに移動します

[Statedef 811]
Type    = A
MoveType= H
Physics = N

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State -1]
type = ChangeAnim2
Trigger1 = time = 0
Value = 811
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



;---------------------------------------------------------------------------
;投げ・投げられている相手
; 
;     ここは投げられた瞬間の相手のステートです
;     たいしたことは書いてありませんがtypeがAになっている事です。
;     相手が投げれて空中にいる事を設定して次の821ステートに移動します

[Statedef 812]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0


[State -1]
type = ChangeAnim2
Trigger1 = time = 0
Value = 812
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;投げ・相手の空中の状態
;     
;     これは投げられている相手の状態ととれる行動を設定しています
;     type = SelfStateは相手のリカバー状態を設定する物でこの状態ならこれ。
;     と言うように地上近く、空中、叩きつけられた時と３つ設定しています。

[Statedef 813]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim2
Trigger1 = Time = 0
Value = 813


[Statedef 814]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim2
Trigger1 = Time = 0
Value = 814

[State -1]
Type = selfstate
trigger1 = alive = 0
Trigger1 = Time = 8
Value = 5150


[Statedef 8150]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = selfstate
trigger1 = alive = 0
Trigger1 = Time = 0
Value = 5150

[State -1]
Type = selfstate
trigger1 = alive = 1
Trigger1 = Time = 15
Value = 5120
ctrl = 0

;---------------------------------------------------------------------------
;投げ抜け
[Statedef 815]
Type     = S
MoveType = H
Physics  = N
Anim     = 5310
Ctrl     = 0
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarSet
Trigger1 = Var(0)/10000%10 = 0
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 10815
ID = 10815
Postype = P1
Pos = 7,-50
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 54
Value = 0

[State -1]
Type = PosAdd
Trigger1 = Time = 0
Trigger1 = FrontEdgeBodyDist <= 10
X = -10+FrontEdgeBodyDist

[State -1] 
Type = VelSet
Trigger1 = Time = [1,8]
X = -3

[State -1] 
Type = VelSet
Trigger1 = Time = [9,11]
X = -2

[State -1] 
Type = VelSet
Trigger1 = Time = [12,14]
X = -1

[State -1] 
Type = VelSet
Trigger1 = Time = [15,17]
X = -0.5

[State -1] 
Type = VelSet
Trigger1 = Time = 18
X = 0

[State -1] 
Type = ChangeState
Trigger1 = Time = 20
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;投げ抜け・相手
[Statedef 816]
Type     = S
MoveType = H
Physics  = N
Ctrl     = 0
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Turn
Trigger1 = Time = 0
Trigger1 = P2Dist X < 0

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = VelSet
Trigger1 = Time = [1,8]
X = -3

[State -1] 
Type = VelSet
Trigger1 = Time = [9,11]
X = -2

[State -1] 
Type = VelSet
Trigger1 = Time = [12,14]
X = -1

[State -1] 
Type = VelSet
Trigger1 = Time = [15,17]
X = -0.5

[State -1] 
Type = VelSet
Trigger1 = Time = 18
X = 0

[State -1]
Type = PlaySnd
TriggerAll = SelfAnimExist(5310) && AuthorName = "H" || SelfAnimExist(5310) && AuthorName = "YoungKirei & Take.K"
Trigger1 = Time = 0
Value = s5310, 1+Random%3
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5310) && AuthorName = "H" || SelfAnimExist(5310) && AuthorName = "YoungKirei & Take.K"
TriggerAll = SelfAnimExist(5002)
Trigger1 = Time = 0
Value = 5310

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5002)
TriggerAll = Anim != 5310
Trigger1 = Time = 0
Value = 5002

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5007)
TriggerAll = Anim = 5002
Trigger1 = AnimTime = 0
Value = 5007

[State -1] 
Type = SelfState
Trigger1 = Time = 20
Value = 0
Ctrl = 1



;---------------------------------------------------------------------------
;空中投げ
[Statedef 820]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 820
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 8
Value = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) = 0
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 != 4
TriggerAll = Var(4) >= 1
Trigger1 = Var(50) = 1
Trigger1 = (P2StateNo != [150,159]) || P2StateNo = 155 && EnemyNear(Var(3)),Ctrl
Trigger1 = P2BodyDist X = [-41,41]
Trigger1 = Time = 1
Attr = A, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
HitFlag = AF          ;コンボの途中から投げが入らないよう設定してある
Priority = 1, Miss    ;１は優先順位が低いので技がでないかミスするという設定
SparkNo = -1          ;-をつければスパークエフェクトは無い
Guard.SparkNo = -1
SprPriority = 1       ;２Ｐより上にカンフーマンが表示される
P1Facing = ifelse (command = "holdback", -1, 1) ;前を押したらターンする設定
P2Facing = 1          ;？
P1StateNo = 830       ;投げが成功した場合の移動する１Ｐのステート
P2StateNo = 832       ;投げが成功した場合の移動する２Ｐのステート
Fall = 1
Air.Fall = 1
Fall.Recover = 0
Fall.XVelocity = 0
ID = 830
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) != 0
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 != 4
TriggerAll = Var(4) >= 1
Trigger1 = Var(50) = 1
Trigger1 = (P2StateNo != [150,159]) || P2StateNo = 155 && EnemyNear(Var(3)),Ctrl
Trigger1 = P2BodyDist X = [-41,41]
Trigger1 = Time = 1
Attr = A, NT
HitFlag = AF
Priority = 1, Miss
SparkNo = -1
Guard.SparkNo = -1
SprPriority = 1
P1Facing = ifelse (FrontEdgeDist<BackEdgeDist, 1, -1)
P2Facing = 1
P1StateNo = 830
P2StateNo = 832
Fall = 1
Air.Fall = 1
Fall.Recover = 0
Fall.XVelocity = 0
ID = 830
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) = 0
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 = 4
TriggerAll = Var(4) >= 1
Trigger1 = Var(50) = 1
Trigger1 = (P2StateNo != [150,159]) || P2StateNo = 155 && EnemyNear(Var(3)),Ctrl
Trigger1 = P2BodyDist X = [-41,41]
Trigger1 = Time = 1
Attr = A, NT
HitFlag = AF
Priority = 2, Miss
SparkNo = -1
Guard.SparkNo = -1
SprPriority = 1
P1Facing = ifelse (command = "holdback", -1, 1)
P2Facing = 1
P1StateNo = 830
P2StateNo = 832
Fall = 1
Air.Fall = 1
Fall.Recover = 0
Fall.XVelocity = 0
ID = 830
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) != 0
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 = 4
TriggerAll = Var(4) >= 1
Trigger1 = Var(50) = 1
Trigger1 = P2BodyDist X = [-41,41]
Trigger1 = (P2StateNo != [150,159]) || P2StateNo = 155 && EnemyNear(Var(3)),Ctrl
Trigger1 = Time = 1
Attr = A, NT
HitFlag = AF
Priority = 2, Miss
SparkNo = -1
Guard.SparkNo = -1
SprPriority = 1
P1Facing = ifelse (FrontEdgeDist<BackEdgeDist, 1, -1)
P2Facing = 1
P1StateNo = 830
P2StateNo = 832
Fall = 1
Air.Fall = 1
Fall.Recover = 0
Fall.XVelocity = 0
ID = 830
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)






[State 800, 1]
Type = HitDef
TriggerAll = Var(59) = 0
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 != 4
TriggerAll = Var(4) = 0
Trigger1 = Var(50) = 1
Trigger1 = (P2StateNo != [150,159]) || P2StateNo = 155 && EnemyNear(Var(3)),Ctrl
Trigger1 = P2BodyDist X = [-41,41]
Trigger1 = Time = 1
Attr = A, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
HitFlag = AF          ;コンボの途中から投げが入らないよう設定してある
Priority = 1, Miss    ;１は優先順位が低いので技がでないかミスするという設定
SparkNo = -1          ;-をつければスパークエフェクトは無い
Guard.SparkNo = -1
SprPriority = 1       ;２Ｐより上にカンフーマンが表示される
P1Facing = ifelse (command = "holdback", -1, 1) ;前を押したらターンする設定
P2Facing = 1          ;？
P1StateNo = 840       ;投げが成功した場合の移動する１Ｐのステート
P2StateNo = 842       ;投げが成功した場合の移動する２Ｐのステート
Fall = 1
Air.Fall = 1
Fall.Recover = 0
Fall.XVelocity = 0
ID = 840
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) != 0
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 != 4
TriggerAll = Var(4) = 0
Trigger1 = Var(50) = 1
Trigger1 = (P2StateNo != [150,159]) || P2StateNo = 155 && EnemyNear(Var(3)),Ctrl
Trigger1 = P2BodyDist X = [-41,41]
Trigger1 = Time = 1
Attr = A, NT
HitFlag = AF
Priority = 1, Miss
SparkNo = -1
Guard.SparkNo = -1
SprPriority = 1
P1Facing = ifelse (FrontEdgeDist<BackEdgeDist, 1, -1)
P2Facing = 1
P1StateNo = 840
P2StateNo = 842
Fall = 1
Air.Fall = 1
Fall.Recover = 0
Fall.XVelocity = 0
ID = 840
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) = 0
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 = 4
TriggerAll = Var(4) = 0
Trigger1 = Var(50) = 1
Trigger1 = (P2StateNo != [150,159]) || P2StateNo = 155 && EnemyNear(Var(3)),Ctrl
Trigger1 = P2BodyDist X = [-41,41]
Trigger1 = Time = 1
Attr = A, NT
HitFlag = AF
Priority = 2, Miss
SparkNo = -1
Guard.SparkNo = -1
SprPriority = 1
P1Facing = ifelse (command = "holdback", -1, 1)
P2Facing = 1
P1StateNo = 840
P2StateNo = 842
Fall = 1
Air.Fall = 1
Fall.Recover = 0
Fall.XVelocity = 0
ID = 840
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) != 0
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 = 4
TriggerAll = Var(4) = 0
Trigger1 = Var(50) = 1
Trigger1 = P2BodyDist X = [-41,41]
Trigger1 = (P2StateNo != [150,159]) || P2StateNo = 155 && EnemyNear(Var(3)),Ctrl
Trigger1 = Time = 1
Attr = A, NT
HitFlag = AF
Priority = 2, Miss
SparkNo = -1
Guard.SparkNo = -1
SprPriority = 1
P1Facing = ifelse (FrontEdgeDist<BackEdgeDist, 1, -1)
P2Facing = 1
P1StateNo = 840
P2StateNo = 842
Fall = 1
Air.Fall = 1
Fall.Recover = 0
Fall.XVelocity = 0
ID = 840
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)




[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s800, ifelse(random>500,0,1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

;---------------------------------------------------------------------------
;空中投げ-01
[Statedef 830]
Type    = A
MoveType= A
Physics = N
Anim = 830


[State -1]
Type = VelSet
Trigger1 = Time = 0
X = 0
Y = 0

[State -1]
Type = Veladd
Trigger1 = AnimElem = 8
Y = -6.5

[State -1]
Type = VelAdd
Trigger1 = AnimElemtime(8) >= 1
Y = .5


[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1


[State -1] 
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 5
FV = 28
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
FV = 28
Value = IfElse(Target,Const(Size.Head.Pos.Y)>-60,0,IfElse((Target,Const(Size.Head.Pos.Y)=[-80,-60]),1,2))

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s10, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = VarRandom
Trigger1 = time = 0
V = 1
Range = 0,3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 6
Value = s800, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 6
Value = s800, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = Var(1) >= 2 
Trigger1 = AnimElem = 6
Value = s800, 6
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = TargetBind
Trigger1 = AnimElem = 1
Pos = 56, 0


[State -1]
Type = TargetBind
Trigger1 = AnimElem = 3
Pos = -4, -86

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 4
Pos = 0, -90

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 5
Pos = -26, -88

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 6
Pos = -26, -98

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 7
Pos = -16, -96

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 8
Pos = 42, 0


[State -1]
Type = TargetState
Trigger1 = animelemTime(1) = 0
Value = 832
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetState
Trigger1 = animelemTime(6) = 0
Value = 833
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetState
Trigger1 = animelemTime(8) = 0
Value = 834
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = TargetBind
Trigger1 = AnimElem = 1
Pos = 56, 0

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 3
Pos = -4, -86

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 4
Pos = 0, -90

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 5
Pos = -26, -88

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 6
Pos = -26, -98

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 7
Pos = -16, -96

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 8
Pos = 42, 0


[State -1]
Type = TargetState
Trigger1 = animelemTime(1) = 0
Value = 832
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetState
Trigger1 = animelemTime(6) = 0
Value = 833
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetState
Trigger1 = animelemTime(8) = 0
Value = 834
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = Target(830),Time = 1
Trigger1 = Target(830),StateNo = 835
Value = s5100, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Target(830),Time = 1
Trigger1 = Target(830),StateNo = 835
StateNo = 839
ID = 839
PosType = P1
Pos = 0,0
size.xscale = 0.5
size.yscale = 0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = (Vel Y > 0) && (Pos Y >= -50)
Value = 831
Ctrl = 0

;---------------------------------------------------------------------------
;エフェクト
[Statedef 839]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 15100
sprpriority = 5
vel = 0,0

[State -1]
Type = Trans
Trigger1 = 1
Trans = Add

[state 1230]
type = posset
triggerall = time = 0
trigger1 = enemy(0),stateno = 835
trigger2 = enemy(0),stateno = 845
trigger3 = enemy(0),stateno = 847
trigger4 = enemy(0),stateno = 848
trigger5 = enemy(0),stateno = 5110
trigger6 = enemy(0),stateno = 5150
x = enemy(0),pos X
y = 0

[state 1230]
type = posset
triggerall = time = 0
trigger1 = enemy(1),stateno = 835
trigger2 = enemy(1),stateno = 845
trigger3 = enemy(1),stateno = 837
trigger4 = enemy(1),stateno = 848
trigger5 = enemy(1),stateno = 5110
trigger6 = enemy(1),stateno = 5150
x = enemy(1),pos X
y = 0



[State -1]
Type = DestroySelf
trigger1 = animtime = 0


;エフェクト
[Statedef 849]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 9999
sprpriority = 5
vel = 0,0


[State -1]
Type = Helper
trigger1 = enemy(0),stateno = 848
trigger1 = enemy(0),time = 1
trigger2 = enemy(1),stateno = 848
trigger2 = enemy(1),time = 1
trigger3 = enemy(0),stateno = 5110
trigger3 = enemy(0),time = 1
trigger4 = enemy(1),stateno = 5110
trigger4 = enemy(1),time = 1
StateNo = 839
size.xscale = 0.5
size.yscale = 0.5
ID = 839
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
trigger1 = enemy(0),stateno = 848
trigger2 = enemy(1),stateno = 848
trigger3 = enemy(0),stateno = 5110
trigger4 = enemy(1),stateno = 5110
Value = s5100, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = DestroySelf
trigger1 = time = 80


;---------------------------------------------------------------------------
;空中投げ
[Statedef 831]
Type    = A
MoveType= A
Physics = N
Anim = 831


[State -1]
Type = VelSet
Trigger1 = AnimElemtime(3) = 0
X = 0
Y = 0

[State -1]
Type = PosSet
Trigger1 = AnimElemtime(3) = 0
Y = 0


[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 3
Value = s800, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 3
Value = s800, 5
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) >= 2
Trigger1 = AnimElem = 3
Value = s800, 7
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = VarAdd
Trigger1 = AnimElem = 3
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 3
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 3
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 3
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 4
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.90*FVar(1)
IgnoreHitPause = 1


[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 3
Value = Ceil(FVar(30)*100)

[State -1]
Type = TargetPowerAdd
Trigger1 = AnimElem = 3
Value = Floor(FVar(31)*100)

[State -1]
Type = TargetLifeAdd
Trigger1 = AnimElem = 3
Value = -Ceil(FVar(0)/(1.00-(0.08*FVar(4)))*(100-Var(4)%2))



[State -1]
Type = HitAdd
Trigger1 = AnimElem = 3
Value = 1
IgnoreHitPause = 1
Persistent = 0


[State -1]
Type = Explod
Trigger1 = AnimElem = 3
Anim = 805
ID = 805
PosType = P1
Pos = 56,-8
Ownpal = 1
SprPriority = 8
IgnoreHitPause = 1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s20, 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 3
StateNo = 160000
ID = 160001
PosType = P1
Pos = 58,-20
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = TargetState
Trigger1 = animelemTime(3) = 0
Value = 814
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Veladd
Trigger1 = animelemTime(9) = 0
X = -4.5
Y = -2.5

[State -1]
Type = Veladd
Trigger1 = animelemTime(9) >= 1
Trigger1 = animelemTime(13) <= 3
X = .05
Y = .35

[State -1]
Type = Velset
Trigger1 = animelemTime(14) = 0
X = 0
Y = 0

[State -1]
Type = posset
Trigger1 = animelemTime(14) = 0
Y = 0


[State -1]
Type = Explod
Trigger1 = animelemTime(14) = 0
Anim = 10052
ID = 10052
PosType = P1
Pos = 0,0
Ownpal = 1
Scale = 0.5,0.5
SprPriority = 0
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = animelemTime(14) = 0
Value = s40, 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = TargetState
Trigger1 = animelemTime(13) = 0
Value = 8150
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1




;---------------------------------------------------------------------------
;投げ・投げられている相手
[Statedef 832]
Type    = A
MoveType= H
Physics = N


[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State -1]
type = ChangeAnim2
Trigger1 = time = 0
Value = 811
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



;---------------------------------------------------------------------------
;投げ・投げられている相手
; 
;     ここは投げられた瞬間の相手のステートです
;     たいしたことは書いてありませんがtypeがAになっている事です。
;     相手が投げれて空中にいる事を設定して次の821ステートに移動します

[Statedef 833]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0


[State -1]
type = ChangeAnim2
Trigger1 = time = 0
Value = 812
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;投げ・相手の空中の状態
;     
;     これは投げられている相手の状態ととれる行動を設定しています
;     type = SelfStateは相手のリカバー状態を設定する物でこの状態ならこれ。
;     と言うように地上近く、空中、叩きつけられた時と３つ設定しています。

[Statedef 834]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Veladd
Trigger1 = time = 0
Y = 11

[State -1]
Type = VelAdd
Trigger1 = time >= 1
Y = .5

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 = Time = 0
Value = 5050

[State -1]
Type = ChangeState
Trigger1 = (Vel Y > 0) && (Pos Y >= 0)
Value = 835
Ctrl = 0


[Statedef 835]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State -1]
Type = Velset
Trigger1 = animelemTime(1) >= 0
X = 0
Y = 0

[State -1]
Type = posset
Trigger1 = animelemTime(1) >= 0
Y = 0


[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim2
Trigger1 = Time = 0
Value = 813


[State -1, EnvShake]
Type = EnvShake
Trigger1 = time = 0
Time = 10
Freq = 80
Ampl = 4
Persistent = 0



;---------------------------------------------------------------------------
;空中投げ-02
[Statedef 840]
Type    = A
MoveType= A
Physics = N
Anim = 840


[State -1]
Type = VelSet
Trigger1 = Time = 0
X = 0
Y = 0

[State -1]
Type = Veladd
Trigger1 = AnimElem = 10
x = 1.2

[State -1]
Type = Veladd
Trigger1 = AnimElem = 8
Y = -6.5

[State -1]
Type = VelAdd
Trigger1 = AnimElemtime(8) >= 1
Y = .5


[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1


[State -1] 
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 5
FV = 28
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
FV = 28
Value = IfElse(Target,Const(Size.Head.Pos.Y)>-60,0,IfElse((Target,Const(Size.Head.Pos.Y)=[-80,-60]),1,2))

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s10, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -1]
Type = Explod
Trigger1 = AnimElem = 1
ID = 10840
PosType = P1
Pos = ifelse (command = "holdback", -30,30),-80
Anim = 10840
Ownpal = 1
Scale = 0.5,0.5
bindtime = -1
SprPriority = 4
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = null;Explod
Trigger1 = AnimElem = 1
ID = 10815
PosType = P1
Pos = ifelse (command = "holdback", -30,30),-80
Anim = 10815
Scale = 0.5,0.5
Ownpal = 1
bindtime = -1
SprPriority = 4
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1



[State -1]
Type = VarRandom
Trigger1 = time = 0
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 6
Value = s800, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = Var(1) >= 1
Trigger1 = AnimElem = 6
Value = s800, 8
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = TargetBind
Trigger1 = AnimElem = 1
Pos = 56, 0


[State -1]
Type = TargetBind
Trigger1 = AnimElem = 3
Pos = -4, -86

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 4
Pos = 0, -90

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 5
Pos = -26, -88

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 6
Pos = -26, -98

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 7
Pos = -16, -96

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 8
Pos = 42, 0


[State -1]
Type = TargetState
Trigger1 = animelemTime(1) = 0
Value = 842
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetState
Trigger1 = animelemTime(6) = 0
Value = 843
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetState
Trigger1 = animelemTime(8) = 0
Value = 844
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = Target(840),Time = 1
Trigger1 = Target(840),StateNo = 845
Value = s5100, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Target(840),Time = 1
Trigger1 = Target(840),StateNo = 845
StateNo = 839
ID = 839
size.xscale = 0.5
size.yscale = 0.5
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = (Vel Y > 0) && (Pos Y >= -60)
Value = 841
Ctrl = 0


;--------------------------------------------------------
;空中投げ
[Statedef 841]
Type    = A
MoveType= A
Physics = N
Anim = 841


[State -1]
Type = VelSet
Trigger1 = AnimElemtime(3) = 0
X = 0
Y = 0

[State -1]
Type = PosSet
Trigger1 = AnimElemtime(3) = 0
Y = 0


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 3
Value = s800, 3
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = Var(1) >= 1
Trigger1 = AnimElem = 3
Value = s800, 9
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -1]
Type = VarAdd
Trigger1 = AnimElem = 3
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 3
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 3
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 3
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 4
Trigger1 = FVar(1) > 0.30
FV = 1
Value = 0.30
IgnoreHitPause = 1


[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 3
Value = Ceil(FVar(16)*50)

[State -1]
Type = TargetPowerAdd
Trigger1 = AnimElem = 3
Value = Ceil(IfElse(FVar(16)=0,1,FVar(16))*15)

[State -1]
Type = TargetLifeAdd
Trigger1 = AnimElem = 3
Value = -Ceil(FVar(0)/(1.00-(0.08*FVar(4)))*(160-Var(4)%2))



[State -1]
Type = HitAdd
Trigger1 = AnimElem = 3
Value = 1
IgnoreHitPause = 1
Persistent = 0


[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 1116
PosType = P1
Pos = -40,-30
Anim = 1116
Ownpal = 1
bindtime = -1
SprPriority = 4
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s20, 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 3
StateNo = 160000
ID = 160001
PosType = P1
Pos = 58,-40
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = TargetState
Trigger1 = animelemTime(3) = 0
Value = 846
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Target(840),Time = 1
Trigger1 = Target(840),StateNo = 847
Value = s5100, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Helper
Trigger1 = Target(840),Time = 1
Trigger1 = Target(840),StateNo = 847
StateNo = 839
ID = 839
PosType = P1
Pos = 0,0
size.xscale = 0.5
size.yscale = 0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Helper
Trigger1 = Target(840),Time = 1
Trigger1 = Target(840),StateNo = 847
StateNo = 849
ID = 849
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = posset
Trigger1 = animelemTime(3) = 0
Y = 0


[State -1]
Type = Explod
Trigger1 = animelemTime(3) = 0
Anim = 10052
ID = 10052
PosType = P1
Pos = 0,0
Ownpal = 1
Scale = 0.5,0.5
SprPriority = 0
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = animelemTime(3) = 0
Value = s40, 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1


;---------------------------------------------------------------------------
;投げ・投げられている相手
[Statedef 842]
Type    = A
MoveType= H
Physics = N


[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State -1]
type = ChangeAnim2
Trigger1 = time = 0
Value = 811
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



;---------------------------------------------------------------------------
;投げ・投げられている相手
; 
;     ここは投げられた瞬間の相手のステートです
;     たいしたことは書いてありませんがtypeがAになっている事です。
;     相手が投げれて空中にいる事を設定して次の821ステートに移動します

[Statedef 843]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0


[State -1]
type = ChangeAnim2
Trigger1 = time = 0
Value = 812
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;投げ・相手の空中の状態
;     
;     これは投げられている相手の状態ととれる行動を設定しています
;     type = SelfStateは相手のリカバー状態を設定する物でこの状態ならこれ。
;     と言うように地上近く、空中、叩きつけられた時と３つ設定しています。

[Statedef 844]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Veladd
Trigger1 = time = 0
X = -1.2
Y = 10

[State -1]
Type = VelAdd
Trigger1 = time >= 1
Y = .5

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 = Time = 0
Value = 5050


[State -1]
Type = ChangeState
Trigger1 = (Vel Y > 0) && (Pos Y >= 0)
Value = 845
Ctrl = 0


[Statedef 845]
Type    = A
MoveType= H
Physics = N

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Velset
Trigger1 = Time = 0
X = 0
Y = 0

[State -1]
Type = posset
Trigger1 = Time = 0
Y = 0

[State -1]
Type = Velset
Trigger1 = Time = 1
X = -1.2
Y = -8

[State -1]
Type = VelAdd
Trigger1 = time >= 1
Y = .42

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = 5101

[State -1]
Type = ChangeAnim
Triggerall = anim = 5101
Trigger1 = animTime = 0
Trigger2 = time = 10
Value = 5161


[State -1, EnvShake]
Type = EnvShake
Trigger1 = time = 0
Time = 10
Freq = 80
Ampl = 4
Persistent = 0



[Statedef 846]
Type    = A
MoveType= H
Physics = N

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Veladd
Trigger1 = time = 0
X = -0.2
Y = 10

[State -1]
Type = VelAdd
Trigger1 = time >= 1
Y = .5

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 = Time = 0
Value = 5050

[State -1]
Type = ChangeState
Trigger1 = Time >= 2
Trigger1 = (Vel Y > 0) && (Pos Y >= 0)
Value = 847
Ctrl = 0


[Statedef 847]
Type    = A
MoveType= H
Physics = N

[State -1]
Type = PlayerPush
Trigger1 = time <= 10
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Velset
Trigger1 = Time = 0
X = 0
Y = 0

[State -1]
Type = posset
Trigger1 = Time = 0
Y = 0

[State -1]
Type = Velset
Trigger1 = Time = 1
X = -0.2
Y = -8

[State -1]
Type = VelAdd
Trigger1 = time >= 1
Y = .4

[State -1, EnvShake]
Type = EnvShake
Trigger1 = time = 0
Time = 10
Freq = 80
Ampl = 4
Persistent = 0

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = 5101

[State -1]
Type = ChangeAnim
Triggerall = anim = 5101
Trigger1 = animTime = 0
Trigger2 = time = 10
Value = 5161


[State -1]
Type = ChangeState
Trigger1 = Time >= 10
Trigger1 = (Vel Y > 0) && (Pos Y >= 0)
Value = 848
Ctrl = 0



[Statedef 848]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State -1]
Type = Velset
Trigger1 = Time = 0
X = 0
Y = 0

[State -1]
Type = posset
Trigger1 = Time = 0
Y = 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, EnvShake]
Type = EnvShake
Trigger1 = time = 0
Time = 10
Freq = 80
Ampl = 4
Persistent = 0

[State -1]
Type = ChangeAnim
Trigger1 = selfanimexist(5112)
Trigger1 = Time = 0
Value = 5112

[State -1]
Type = ChangeAnim
Trigger1 = selfanimexist(5171)
Trigger1 != selfanimexist(5112)
Trigger1 = anim != 5112
Trigger1 = Time = 0
Value = 5171


[State -1]
Type = null;selfstate
trigger1 = alive = 0
Trigger1 = Time = 0
Value = 5150

[State -1]
Type = selfstate
;triggerall = alive = 1
trigger1 = animtime = 0
Trigger2 = Time = 20
Value = 5110
ctrl = 0




;---------------------------------------------------------------------------
;無名の月
[Statedef 1000]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
VelSet = 0,0
Anim      = 1000
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = PlaySnd
Trigger1 = anim = 1000
Trigger1 = AnimElem = 11
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = anim = 1000
Trigger1 = AnimElem = 11
Value = s1000, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Explod
Trigger1 = anim = 1000
Trigger1 = AnimElem = 11
ID = 1005
PosType = P1
Pos = 10,-40
Anim = 1005
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
RemoveTime = -2
BindTime = -1
RemoveOnGetHit = 1



[State 105, 1]
type = Veladd
Trigger1 = anim = 1000
trigger1 = AnimElemTime(5) = 0
x = 7.5
y = -7.6


[State 105, 1]
type = VelSet
Trigger1 = anim = 1000
trigger1 = AnimElemtime(17) = 1
Trigger2 = anim = 1001
trigger2 = AnimElemtime(4) = 1
x = 0
y = 0

[State 105, 1]
type = posSet
Trigger1 = anim = 1000
trigger1 = AnimElemTime(17) = 1
Trigger2 = anim = 1001
trigger2 = AnimElemtime(4) = 1
y = 0

[State 100]
type = VelAdd
Trigger1 = anim = 1000
trigger1 = AnimElemtime(5) >= 1
trigger1 = AnimElemtime(17) <= 0
Trigger2 = anim = 1001
trigger2 = AnimElemtime(4) <= 0
x = -0.1
y = 0.4

[State 100]
type = StateTypeSet
Trigger1 = anim = 1000
trigger1 = AnimElemtime(5) >= 1
trigger1 = AnimElemtime(17) <= 0
Trigger2 = anim = 1001
trigger2 = AnimElemtime(4) <= 0
statetype = A
Physics = N

[State 100]
type = StateTypeSet
Trigger1 = anim = 1000
trigger1 = AnimElemtime(17) >= 1
Trigger2 = anim = 1001
trigger2 = AnimElemtime(4) >= 1
statetype = S
Physics = N


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = anim = 1000
Trigger1 = AnimElem = 11
Attr = C, SA
Damage = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = 2, Hit
PauseTime = 8,8+8*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 8,8
HitSound = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -Random%20
SparkNo = -1
Guard.SparkNo = -1
AnimType = Hard
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -0.5,-4
Guard.Velocity = -6
Air.Velocity = IfElse(Var(50)=1,-0.5,-3),IfElse(Var(50)=1,-3.8,FVar(25))
Down.Velocity = -3,-2.5
Ground.CornerPush.VelOff = -1.5
Guard.CornerPush.VelOff = -7
Air.CornerPush.VelOff = IfElse(Var(50)=1,-1.5,-4)
Down.CornerPush.VelOff = -4
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
P2Facing = 1
ID = 5600
Down.Bounce = 1

[State 1450]
type = targetstate
trigger1 = animelemtime(10) >= 0
trigger1 = movehit
value = 5600
IgnoreHitPause = 1
Persistent = 1

[State -1test]
Type = changeanim
Triggerall = anim = 1000
Triggerall = animelemtime(11) = 4
Triggerall = anim != 1001
triggerall = numtarget(5600) = 0
trigger1 = facing = 1
trigger1 = (enemynear,ScreenPos x) - (ScreenPos x) <= 18
trigger2 = facing = -1
trigger2 = (ScreenPos x) - (enemynear,ScreenPos x) <= 18
Value = 1001
IgnoreHitPause = 1
Persistent = 0


[State -1test]
Type = changeanim
Triggerall = anim = 1000
Triggerall = animelemtime(11) = 4
Triggerall = anim != 1001
triggerall = numtarget(5600) >= 1
Triggerall = Target(5600),Time >= 10
trigger1 = facing = 1
trigger1 = (enemynear,ScreenPos x) - (ScreenPos x) <= 18
trigger2 = facing = -1
trigger2 = (ScreenPos x) - (enemynear,ScreenPos x) <= 18
Value = 1001
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlayerPush
Trigger1 = anim = 1000
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(17) <= 0
Trigger2 = anim = 1001
trigger2 = animelemtime(4) <= 0
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 105, 1]
type = null;posadd
Trigger1 = anim = 1001
trigger1 = AnimElemtime(4) = 0
x = 8

[State -1]
Type = turn
Trigger1 = anim = 1001
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
Persistent = 1


[State -1]
Type = Explod
Trigger1 = anim = 1000
Trigger1 = animelemtime(17) = 1
Trigger2 = anim = 1001
trigger2 = animelemtime(4) = 1
Anim = 10052
ID = 10052
PosType = P1
Pos = 0,0
Ownpal = 1
Scale = 0.5,0.5
SprPriority = 0
IgnoreHitPause = 1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = anim = 1000
Trigger1 = animelemtime(17) = 1
Trigger2 = anim = 1001
trigger2 = animelemtime(4) = 1
Value = s40, 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1


;---------------------------------------------------------------------------
;無名の月
[Statedef 1050]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1050
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = anim = 1050
Trigger1 = AnimElem = 11
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = anim = 1050
Trigger1 = AnimElem = 11
Value = s1050, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Explod
Trigger1 = anim = 1050
Trigger1 = AnimElem = 11
ID = 1055
PosType = P1
Pos = 20,-30
Anim = 1055
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
RemoveTime = -2
BindTime = -1
RemoveOnGetHit = 1



[State 105, 1]
type = Veladd
Trigger1 = anim = 1050
trigger1 = AnimElemTime(5) = 0
x = 7.0
y = -7.6


[State 105, 1]
type = VelSet
Trigger1 = anim = 1050
trigger1 = AnimElemtime(17) = 1
Trigger2 = anim = 1001
trigger2 = AnimElemtime(4) = 1
x = 0
y = 0

[State 105, 1]
type = posSet
Trigger1 = anim = 1050
trigger1 = AnimElemTime(17) = 1
Trigger2 = anim = 1001
trigger2 = AnimElemtime(4) = 1
y = 0

[State 100]
type = VelAdd
Trigger1 = anim = 1050
trigger1 = AnimElemtime(5) >= 1
trigger1 = AnimElemtime(17) <= 0
Trigger2 = anim = 1001
trigger2 = AnimElemtime(4) <= 0
x = -0.1
y = 0.4

[State 100]
type = StateTypeSet
Trigger1 = anim = 1050
trigger1 = AnimElemtime(5) >= 1
trigger1 = AnimElemtime(17) <= 0
Trigger2 = anim = 1001
trigger2 = AnimElemtime(4) <= 0
statetype = A
Physics = N

[State 100]
type = StateTypeSet
Trigger1 = anim = 1050
trigger1 = AnimElemtime(17) >= 1
Trigger2 = anim = 1001
trigger2 = AnimElemtime(4) >= 1
statetype = S
Physics = N


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = anim = 1050
Trigger1 = AnimElem = 11
Attr = C, SA
Damage = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = 2, Hit
PauseTime = 8,15+15*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 8,8
HitSound = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -Random%20
SparkNo = -1
Guard.SparkNo = s161
AnimType = Hard
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -0.5,-8
Guard.Velocity = -6
Air.Velocity = IfElse(Var(50)=1,-0.5,-3),IfElse(Var(50)=1,-3.8,FVar(25))
Down.Velocity = -3,-2.5
Ground.CornerPush.VelOff = -1.5
Guard.CornerPush.VelOff = -7
Air.CornerPush.VelOff = IfElse(Var(50)=1,-1.5,-4)
Down.CornerPush.VelOff = -4
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
id = 1050
Down.Bounce = 1

[State -1]
Type = changeanim
Triggerall = anim = 1050
Triggerall = animelemtime(11) = 4
Triggerall = anim != 1001
trigger1 = facing = 1
trigger1 = (enemynear,ScreenPos x) - (ScreenPos x) <= 20
trigger2 = facing = -1
trigger2 = (ScreenPos x) - (enemynear,ScreenPos x) <= 20
Value = 1001
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlayerPush
Trigger1 = anim = 1050
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(17) <= 0
Trigger2 = anim = 1001
trigger2 = animelemtime(4) <= 0
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 105, 1]
type = null;posadd
Trigger1 = anim = 1001
trigger1 = AnimElemtime(4) = 0
x = 8

[State -1]
Type = turn
Trigger1 = anim = 1001
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
Persistent = 1


[State -1]
Type = Explod
Trigger1 = anim = 1050
Trigger1 = animelemtime(17) = 1
Trigger2 = anim = 1001
trigger2 = animelemtime(4) = 1
Anim = 10052
ID = 10052
PosType = P1
Pos = 0,0
Ownpal = 1
Scale = 0.5,0.5
SprPriority = 0
IgnoreHitPause = 1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = anim = 1050
Trigger1 = animelemtime(17) = 1
Trigger2 = anim = 1001
trigger2 = animelemtime(4) = 1
Value = s40, 1

[State -2]
Type = VarSet
Triggerall = numtarget(1050) >= 1
Trigger1 = anim = 1050
Trigger1 = animelemtime(17) = 3
Trigger2 = anim = 1001
trigger2 = animelemtime(4) = 3
V = 2
Value = 412
IgnoreHitPause = 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1





;---------------------------------------------------------------------------
;双ね鐘楼-弱１段目
[Statedef 1100]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1100
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1100, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
Trigger1 = AnimElemtime(4) = 0
X = 10

[State -1]
Type = veladd
Trigger1 = AnimElemtime(4) = 0
X = 10

[State -1]
Type = Explod
Trigger1 = AnimElem = 4
ID = 1105
PosType = P1
Pos = 15,-35
Anim = 1105
Ownpal = 1
bindtime = -1
SprPriority = 4
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = S, SA
Damage = Ceil(FVar(0)*(80-Var(4)%2)), Ceil(FVar(1)*14)
HitFlag = MAFD
GuardFlag = M
Priority = 2, Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s161
AnimType = Hard
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -7
Air.Velocity = -2*Var(50),IfElse(Var(50)=1,-7,FVar(25))
Down.Velocity = -7,-2.5
Ground.CornerPush.VelOff = -13
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -4
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
ID = 1100
Down.Bounce = 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
trigger1 = var(1) != 0
Trigger1 = AnimelemTime(6) >= 2
Trigger1 = AnimelemTime(7) <= 2
Value = var(1)
Ctrl = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;-------------------------------------------------------------------
;双ね鐘楼-弱２段目溜め
[Statedef 1110]
Type      = S
MoveType  = A
Physics   = N
Ctrl      = 0
Anim      = 1110
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = veladd
Trigger1 = time >= 0
X = vel x*-.07

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
Trigger1 = Command != "A溜め"
Trigger1 = Command != "B溜め"
Trigger1 = Command != "C溜め"
Trigger1 = Time = [1,15]
V = 1
Value = 1


[State -1]
Type = PlaySnd
Trigger1 = Time = 15
Value = s700, 0

[State -1]
Type = Explod
Trigger1 = Time = 15
Anim = 10700
ID = 10700
PosType = P1
Pos = -10,-70
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
TriggerAll = Var(1) = 1
Trigger1 = Time = [5,14]
Value = 111055

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 111056



;-------------------------------------------------------------------
;双ね鐘楼-弱２段目
[Statedef 111055]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 111055
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s1110, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = veladd
Trigger1 = AnimElemtime(1) = 0
X = 7

[State -1]
Type = Explod
Trigger1 = AnimElem = 2
ID = 1115
PosType = P1
Pos = -20,-30
Anim = 1115
Ownpal = 1
bindtime = -1
SprPriority = 4
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 2
Attr = S, SA
Damage = Ceil(FVar(0)*(80-Var(4)%2)), Ceil(FVar(1)*14)
HitFlag = MAFD
GuardFlag = M
Priority = 2, Hit
PauseTime = 8,13+13*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s161
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -7
Air.Velocity = -2*Var(50),IfElse(Var(50)=1,-7,FVar(25))
Down.Velocity = -7,-2.5
Ground.CornerPush.VelOff = -13
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -4
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = Ceil(38+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
ID = 1110
Down.Bounce = 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
trigger1 = var(1) != 0
Trigger1 = AnimelemTime(3) >= 3
Trigger1 = AnimelemTime(4) <= 3
Value = var(1)
Ctrl = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1




;-------------------------------------------------------------------
;双ね鐘楼-弱２段目MAX
[Statedef 111056]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 111055
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s1110, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = veladd
Trigger1 = AnimElemtime(1) = 0
X = 7

[State -1]
Type = Explod
Trigger1 = AnimElem = 2
ID = 1115
PosType = P1
Pos = -20,-30
Anim = 1115
Ownpal = 1
bindtime = -1
SprPriority = 4
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 2
Attr = S, SA
Damage = Ceil(FVar(0)*(120-Var(4)%2)), Ceil(FVar(1)*14)
HitFlag = MAFD
GuardFlag = 
Priority = 2, Hit
PauseTime = 8,13+13*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s161
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -7
Air.Velocity = -2*Var(50),IfElse(Var(50)=1,-7,FVar(25))
Down.Velocity = -7,-2.5
Ground.CornerPush.VelOff = -13
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -4
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = Ceil(38+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
ID = 1110
Down.Bounce = 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
trigger1 = var(1) != 0
Trigger1 = AnimelemTime(3) >= 3
Trigger1 = AnimelemTime(4) <= 3
Value = var(1)
Ctrl = 0


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1






;-------------------------------------------------------------------
;双ね鐘楼-弱２段目（裏）
[Statedef 1111]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1111
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 55
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = var(55) = 0
Trigger1 = AnimElem = 12
Value = s1110, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = var(55) = 1
Trigger1 = AnimElem = 12
Value = s212, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 12
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = veladd
Trigger1 = AnimElemtime(4) = 0
X = 4
y = -7.5

[State -1]
Type = veladd
Trigger1 = AnimElemtime(4) >= 1
Trigger1 = AnimElemtime(11) <= 3
X = -0.04
y = 0.6

[State -1]
Type = velset
Trigger1 = AnimElemtime(12) = 0
x = 0
y = 0

[State -1]
Type = posset
Trigger1 = AnimElemtime(12) = 0
y = 0

[State 100]
type = StateTypeSet
trigger1 = AnimElemtime(4) >= 1
trigger1 = AnimElemtime(11) <= 3
statetype = A
Physics = N

[State 100]
type = StateTypeSet
trigger1 = AnimElemtime(12) >= 0
statetype = S
Physics = N


[State -1]
Type = Explod
Trigger1 = AnimElem = 12
ID = 1116
PosType = P1
Pos = -40,-30
Anim = 1116
Ownpal = 1
bindtime = -1
SprPriority = 4
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 12
Attr = S, SA
Damage = Ceil(FVar(0)*(80-Var(4)%2)), Ceil(FVar(1)*14)
HitFlag = MAFD
GuardFlag = H
Priority = 2, Hit
PauseTime = 8,16+16*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s161
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -7
Air.Velocity = -2*Var(50),IfElse(Var(50)=1,-7,FVar(25))
Down.Velocity = -7,-2.5
Ground.CornerPush.VelOff = -13
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -4
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = Ceil(41+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
ID = 1110
Down.Bounce = 1


[State -1]
Type = Explod
Trigger1 = animelemtime(12) = 0
Anim = 10052
ID = 10052
PosType = P1
Pos = 0,0
Ownpal = 1
Scale = 0.5,0.5
SprPriority = 0
IgnoreHitPause = 1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = animelemtime(12) = 0
Value = s40, 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
trigger1 = var(1) != 0
Trigger1 = AnimelemTime(14) >= 1
Trigger1 = AnimelemTime(15) <= 0
Value = var(1)
Ctrl = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1


;-------------------------------------------------------------------
;双ね鐘楼-弱３段目
[Statedef 1120]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1120
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s1120, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 1125
PosType = P1
Pos = -30,-80
Anim = 1125
Ownpal = 1
bindtime = -1
SprPriority = 4
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = S, SA
Damage = Ceil(FVar(0)*(80-Var(4)%2)), Ceil(FVar(1)*14)
HitFlag = MAFD
GuardFlag = M
Priority = 2, Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s161
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-5
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-7,FVar(25))
Down.Velocity = -7,-2.5
Ground.CornerPush.VelOff = -13
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -4
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
ID = 1120
Down.Bounce = 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1




;-------------------------------------------------------------------
;双ね鐘楼-中３段目（裏）
[Statedef 11240]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 11240
SprPriority = 1
Facep2 = 1


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.78
FV = 1
Value = 0.78
IgnoreHitPause = 1

[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.4,IfElse(Var(50)=2,-4.8,-7))
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(21)%10 = 0
V = 21
Value = Var(21)+1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
trigger1 = random > 500
Trigger1 = AnimElem = 7
Value = s1120, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
trigger1 = random <= 500
Trigger1 = AnimElem = 7
Value = s212, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = animelem = 8
Attr = S, NA
AnimType  = hard
Damage    = Ceil(FVar(0)*(70-Var(4)%2))
HitFlag = MAFD
GuardFlag = H
Priority = 2, Hit
PauseTime = 3,8+8*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 3,8
HitSound = s10, 5
GuardSound = s120,0
SparkXY = -Random%20, -55-Random%20
SparkNo = -1
Guard.SparkNo = s160
Ground.Type = trip
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -5,-1
Air.Velocity = -0.5*Var(50),IfElse(Var(50)=1,-6.6,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -6
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -6
YAccel = .48
Kill = 1
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
ID = 212
Down.Bounce = 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
type = varset
trigger1 = RoundState >= 3
trigger1 = animtime = 0
trigger1 = numtarget(212) > 0
v = 54
value = 6
ignorehitpause = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1




;-------------------------------------------------------------------
;双ね鐘楼-弱３段目（裏）
[Statedef 1121]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1124
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1121, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = S, SA
Damage = Ceil(FVar(0)*(80-Var(4)%2)), Ceil(FVar(1)*14)
HitFlag = MAFD
GuardFlag = L
Priority = 2, Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10, 5
GuardSound = s120,0
SparkXY = -Random%20, -30-Random%20
SparkNo = -1
Guard.SparkNo = s161
AnimType = hard
Ground.Type = trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-5
Air.Velocity = -.5*Var(50),IfElse(Var(50)=1,-7,FVar(25))
Down.Velocity = -7,-2.5
Ground.CornerPush.VelOff = -13
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -4
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
;Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
ID = 1120
Down.Bounce = 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1


;---------------------------------------------------------------------------
;双ね鐘楼-中１段目
[Statedef 1150]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1101
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1100, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
Trigger1 = AnimElemtime(4) = 0
X = 10

[State -1]
Type = veladd
Trigger1 = AnimElemtime(4) = 0
X = 18

[State -1]
Type = Explod
Trigger1 = AnimElem = 4
ID = 1105
PosType = P1
Pos = 15,-35
Anim = 1105
Ownpal = 1
bindtime = -1
SprPriority = 4
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = S, SA
Damage = Ceil(FVar(0)*(80-Var(4)%2)), Ceil(FVar(1)*14)
HitFlag = MAFD
GuardFlag = M
Priority = 2, Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s161
AnimType = Hard
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -7
Air.Velocity = -2*Var(50),IfElse(Var(50)=1,-7,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = -13
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -4
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
ID = 1100
Down.Bounce = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
trigger1 = var(1) != 0
Trigger1 = AnimelemTime(6) >= 2
Trigger1 = AnimelemTime(7) <= 2
Value = var(1)
Ctrl = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;-------------------------------------------------------------------
;双ね鐘楼-中３段目
[Statedef 1122]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1121
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 55
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0



[State -1]
Type = PlaySnd
Trigger1= Var(55) = 0
Trigger1 = AnimElemtime(3) = 0
Value = s1122, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1= Var(55) = 1
Trigger1 = AnimElemtime(3) = 0
Value = s1122, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1= Var(55) = 2
Trigger1 = AnimElemtime(3) = 0
Value = s1110, 4
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -1]
Type = Explod
Trigger1 = AnimElem = 3
ID = 1127
PosType = P1
Pos = -20,-70
Anim = 626
Ownpal = 1
bindtime = -1
SprPriority = 4
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Attr = S, SA
Damage = Ceil(FVar(0)*(80-Var(4)%2)), Ceil(FVar(1)*14)
HitFlag = MAFD
GuardFlag = M
Priority = 2, Hit
PauseTime = 10,15+15*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -70-Random%20
SparkNo = -1
Guard.SparkNo = s161
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-8.5
Air.Velocity = -.05*Var(50),IfElse(Var(50)=1,-8,FVar(25))
Down.Velocity = -3,-2.5
Ground.CornerPush.VelOff = -13
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -4
YAccel = .47
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = Ceil(40+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
ID = 1120
Down.Bounce = 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1


;-------------------------------------------------------------------
;双ね鐘楼-強３段目溜め
[Statedef 1123]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1122
PowerAdd  = 0
Facep2 = 1


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
Trigger1 = Command != "A溜め"
Trigger1 = Command != "B溜め"
Trigger1 = Command != "C溜め"
Trigger1 = Time = [1,15]
V = 1
Value = 1


[State -1]
Type = PlaySnd
Trigger1 = Time = 15
Value = s700, 0

[State -1]
Type = Explod
Trigger1 = Time = 15
Anim = 10700
ID = 10700
PosType = P1
Pos = 28,-65
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
TriggerAll = Var(1) = 1
Trigger1 = Time = [8,14]
Value = 112355

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 112356
;-------------------------------------------------------------------
;双ね鐘楼-強３段目
[Statedef 112355]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 112255
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 55
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PosAdd
Trigger1 = Anim = 112255
Trigger1 = AnimElemtime(2) = 0
X = 10

[State -1]
Type = veladd
Trigger1 = Anim = 112255
Trigger1 = AnimElemtime(2) = 0
X = 20

[State -1]
Type = null;velset
Trigger1 = Anim = 112255
Trigger1 = AnimElemtime(2) >= 1
Trigger1 = AnimElemtime(5) <= 3
X = 8

[State -1]
Type = PlaySnd
Trigger1 = Anim = 112255
Trigger1 = var(55) = 0
Trigger1 = AnimElemtime(2) = 0
Value = s1120, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 112255
Trigger1 = var(55) = 1
Trigger1 = AnimElemtime(2) = 0
Value = s1120, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 112255
Trigger1 = AnimElem = 2
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Explod
Trigger1 = anim = 112255
Trigger1 = AnimElem = 2
ID = 1128
PosType = P1
Pos = 20,-47
Anim = 1127
scale = 1,0.5
Ownpal = 1
bindtime = -1
SprPriority = 4
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = time = 0
Attr = S, SA
Damage = Ceil(FVar(0)*(80-Var(4)%2)), Ceil(FVar(1)*14)
HitFlag = MAFD
GuardFlag = M
Priority = 2, Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -60-Random%20
SparkNo = -1
Guard.SparkNo = s161
AnimType = back
Ground.Type = high
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -.5,-8.5
Air.Velocity = -.05*Var(50),IfElse(Var(50)=1,-8,FVar(25))
Down.Velocity = -3,-2.5
Ground.CornerPush.VelOff = -13
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -4
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
ID = 1120
Down.Bounce = 1

[State -2]
Type = VarSet
Trigger1 = numtarget(1120) >= 1
V = 2
Value = 112
IgnoreHitPause = 1


[State -1]
Type = changeanim
Triggerall = anim = 112255
Triggerall = animelemtime(5) = 3
Triggerall = anim != 1123
Trigger1 = enemynear,p2bodydist x <= 0
trigger2 = facing = 1
trigger2 = ScreenPos x >= enemynear,ScreenPos x
trigger3 = facing = -1
trigger3 = ScreenPos x <= enemynear,ScreenPos x
Value = 1123
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlayerPush
Trigger1 = anim = 112255
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(7) <= 0
Trigger2 = anim = 1123
trigger2 = animelemtime(2) <= 0
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -1]
Type = turn
Trigger1 = anim = 1123
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
Persistent = 1



[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1



[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1



;-------------------------------------------------------------------
;双ね鐘楼-強３段目MAX
[Statedef 112356]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 112255
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 55
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PosAdd
Trigger1 = Anim = 112255
Trigger1 = AnimElemtime(2) = 0
X = 10

[State -1]
Type = velset
Trigger1 = Anim = 112255
Trigger1 = AnimElemtime(2) >= 0
Trigger1 = AnimElemtime(4) <= 4
X = 13



[State -1]
Type = PlaySnd
Trigger1 = Anim = 112255
trigger1 = var(55) = 0
Trigger1 = AnimElemtime(2) = 0
Value = s1120, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 112255
trigger1 = var(55) = 1
Trigger1 = AnimElemtime(2) = 0
Value = s1120, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 112255
trigger1 = var(55) = 2
Trigger1 = AnimElemtime(2) = 0
Value = s1110, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = Anim = 112255
Trigger1 = AnimElem = 2
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Explod
Trigger1 = anim = 112255
Trigger1 = AnimElem = 2
ID = 1128
PosType = P1
Pos = 20,-47
Anim = 1127
Ownpal = 1
scale = 1,0.5
bindtime = -1
SprPriority = 4
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = anim = 112255
Trigger1 = AnimElem = 2
ID = 107
PosType = P1
Pos = 0,0
Anim = 107
Ownpal = 1
bindtime = 1
SprPriority = 4
Persistent = 0
RemoveTime = -2


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = time = 0
Attr = S, SA
Damage = Ceil(FVar(0)*(120-Var(4)%2)), Ceil(FVar(1)*14)
HitFlag = MAFD
GuardFlag = 
Priority = 2, Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -60-Random%20
SparkNo = -1
Guard.SparkNo = s161
AnimType = back
Ground.Type = high
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -.5,-8.5
Air.Velocity = -.05*Var(50),IfElse(Var(50)=1,-8,FVar(25))
Down.Velocity = -3,-2.5
Ground.CornerPush.VelOff = -13
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -4
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
ID = 1120
Down.Bounce = 1


[State -2]
Type = Helper
TriggerAll = MoveHit = 1
TriggerAll = P2MoveType = H
Trigger1 = NumHelper(170000) = 0
Trigger1 = NumTarget(1120) > 0
Trigger1 = Target(1120),Time = 0
StateNo = 170000
ID = 170000
PosType = P1
Pos = 60,-50
random = 20,20
Ownpal = 1
Persistent = 0
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = changeanim
Triggerall = anim = 112255
Triggerall = animelemtime(5) = 3
Triggerall = anim != 1123
Trigger1 = enemynear,p2bodydist x <= 0
trigger2 = facing = 1
trigger2 = ScreenPos x >= enemynear,ScreenPos x
trigger3 = facing = -1
trigger3 = ScreenPos x <= enemynear,ScreenPos x
Value = 1123
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlayerPush
Trigger1 = anim = 112255
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(7) <= 0
Trigger2 = anim = 1123
trigger2 = animelemtime(2) <= 0
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -1]
Type = turn
Trigger1 = anim = 1123
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
Persistent = 1



[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1



[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1


;---------------------------------------------------------------------------
;虎落笛-弱
[Statedef 1210]
type    = S
physics = S
anim = 1300
ctrl = 0
sprpriority = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s100, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElemtime(6) = 0
Anim = 102
ID = 102
Postype = P1
Pos = -30,0
Scale = 1,1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 1
Removetime = -2
Removeongethit = 1

[State -1]
Type = Explod
Trigger1 = AnimElemtime(10) = 0
Anim = 103
ID = 103
Postype = P1
Pos = -30,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 1
Removetime = -2
Removeongethit = 1



[State -1]
type = AfterImage
trigger1 = time = 8
time = 20
length = 15
framegap = 3
TimeGap  = 1
;FrameFap = 1
trans = add
palcontrast = 150,150,150
Peresistent = 1
IgnoreHitPause = 1
PalAdd = -10,-10,-10
palmul = 0.5,0.5,0.5




[State 100, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = animelemtime(5) >= 0
x = 6


[State -1]
Type = PlaySnd
Trigger1 = Time = 36
Value = s700, 0

[State -1]
Type = Explod
Trigger1 = Time = 36
Anim = 10700
ID = 10700
PosType = P1
Pos = 0,-66
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 100, 5]
type = ChangeState
Trigger1 = time <= 35
Trigger1 = Command != "A溜め"
Trigger1 = Command != "B溜め"
Trigger1 = Command != "C溜め"
value = 1200
ctrl = 0

[State 100, 5]
type = ChangeState
Trigger1 = time = 40
value = 1220
ctrl = 0




[Statedef 1200]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1200
PowerAdd  = 0


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
trigger1 = anim = 1200
trigger1 = var(1) = 0
Trigger1 = AnimElem = 3
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
trigger1 = anim = 1200
trigger1 = var(1) = 1
Trigger1 = AnimElem = 3
Value = s1200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
trigger1 = anim = 1200
Trigger1 = AnimElem = 3
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
trigger1 = anim = 1200
Trigger1 = AnimElemtime(3) = 0
X = 15

[State -1]
Type = veladd
trigger1 = anim = 1200
Trigger1 = AnimElemtime(3) = 0
X = 20

[State -1]
Type = velset
trigger1 = anim = 1200
trigger1 = AnimElemtime(3) >= 1
trigger1 = AnimElemtime(5) <= 2
X = ifelse(prevstateno = 1210,10,12)

[State -1]
Type = Explod
trigger1 = anim = 1200
Trigger1 = AnimElem = 3
ID = 1205
PosType = P1
Pos = 15,-35
Anim = 1105
Ownpal = 1
bindtime = -1
SprPriority = 4
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
trigger1 = prevstateno = 1260
TriggerAll = Var(25)/10%10 < 3
trigger1 = anim = 1200
Trigger1 = time = 0
Attr = S, SA
Damage = Ceil(FVar(0)*(80-Var(4)%2)), Ceil(FVar(1)*14)
HitFlag = MAFD
GuardFlag = M
Priority = 2, Hit
PauseTime = 8,15+15*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s161
AnimType = up
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -.5,-9.5
Air.Velocity = -.5*Var(50),IfElse(Var(50)=1,-7,FVar(25))
Down.Velocity = -.5,-2.5
Ground.CornerPush.VelOff = -13
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -4
YAccel = .45
Kill = 1
Fall = 1
Air.Fall = 1
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
id = 1200
Down.Bounce = 1


[State -1]
Type = HitDef
trigger1 = prevstateno = 1210
TriggerAll = Var(25)/10%10 < 3
trigger1 = anim = 1200
Trigger1 = time = 0
Attr = S, SA
Damage = Ceil(FVar(0)*(80-Var(4)%2)), Ceil(FVar(1)*14)
HitFlag = MAFD
GuardFlag = M
Priority = 2, Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s161
AnimType = up
Ground.Type = trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -.5,-2.5
Air.Velocity = -.5*Var(50),IfElse(Var(50)=1,-7,FVar(25))
Down.Velocity = -.5,-2.5
Ground.CornerPush.VelOff = -13
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -4
YAccel = .48
Kill = 1
Fall = 1
Air.Fall = 1
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
id = 1200
Down.Bounce = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -2]
Type = VarSet
Trigger1 = time >= 30
Trigger1 = numtarget(1200) >= 1
V = 2
Value = 412
IgnoreHitPause = 1



[State -1test]
Type = changeanim
Triggerall = anim = 1200
Triggerall = animelemtime(5) = 2
Triggerall = anim != 1250
trigger1 = facing = 1
trigger1 = (enemynear,ScreenPos x) - (ScreenPos x) <= 15
trigger2 = facing = -1
trigger2 = (ScreenPos x) - (enemynear,ScreenPos x) <= 15
Value = 1250
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlayerPush
Trigger1 = anim = 1200
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(8) <= 2
Trigger2 = anim = 1250
trigger2 = animelemtime(3) <= 2
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = turn
Trigger1 = anim = 1250
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1



[Statedef 1220]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1200
PowerAdd  = 0


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
trigger1 = anim = 1200
trigger1 = var(1) = 0
Trigger1 = AnimElem = 3
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
trigger1 = anim = 1200
trigger1 = var(1) = 1
Trigger1 = AnimElem = 3
Value = s1200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
trigger1 = anim = 1200
Trigger1 = AnimElem = 3
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
trigger1 = anim = 1200
Trigger1 = AnimElemtime(3) = 0
X = 15

[State -1]
Type = veladd
trigger1 = anim = 1200
Trigger1 = AnimElemtime(3) = 0
X = 20


[State -1]
Type = Explod
Trigger1 = anim = 1200
Trigger1 = AnimElem = 3
ID = 107
PosType = P1
Pos = 0,0
Anim = 107
Ownpal = 1
bindtime = 1
SprPriority = 4
Persistent = 0
RemoveTime = -2


[State -1]
Type = velset
trigger1 = anim = 1200
trigger1 = AnimElemtime(3) >= 1
trigger1 = AnimElemtime(7) <= 2
X = 12

[State -1]
Type = velset
trigger1 = anim = 1250
trigger1 = AnimElemtime(1) >= 0
trigger1 = AnimElemtime(2) <= 2
X = 12

[State -1]
Type = Explod
trigger1 = anim = 1200
Trigger1 = AnimElem = 3
ID = 1205
PosType = P1
Pos = 15,-35
Anim = 1105
Ownpal = 1
bindtime = -1
SprPriority = 4
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
trigger1 = prevstateno = 1260
TriggerAll = Var(25)/10%10 < 3
trigger1 = anim = 1200
Trigger1 = time = 0
Attr = S, SA
Damage = Ceil(FVar(0)*(120-Var(4)%2)), Ceil(FVar(1)*14)
HitFlag = MAFD
GuardFlag =
Priority = 2, Hit
PauseTime = 8,15+15*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s161
AnimType = up
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -.5,-9.5
Air.Velocity = -.5*Var(50),IfElse(Var(50)=1,-7,FVar(25))
Down.Velocity = -.5,-2.5
Ground.CornerPush.VelOff = -13
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -4
YAccel = .48
Kill = 1
Fall = 1
Air.Fall = 1
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
id = 1200
Down.Bounce = 1


[State -1]
Type = HitDef
trigger1 = prevstateno = 1210
TriggerAll = Var(25)/10%10 < 3
trigger1 = anim = 1200
Trigger1 = time = 0
Attr = S, SA
Damage = Ceil(FVar(0)*(120-Var(4)%2)), Ceil(FVar(1)*14)
HitFlag = MAFD
GuardFlag =
Priority = 2, Hit
PauseTime = 8,15+15*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound   = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = s161
AnimType = up
Ground.Type = trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -.5,-2.5
Air.Velocity = -.5*Var(50),IfElse(Var(50)=1,-7,FVar(25))
Down.Velocity = -.5,-2.5
Ground.CornerPush.VelOff = -13
Air.CornerPush.VelOff = -3*Var(50)
Down.CornerPush.VelOff = -4
YAccel = .48
Kill = 1
Fall = 1
Air.Fall = 1
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
id = 1200
Down.Bounce = 1



[State -2]
Type = Helper
TriggerAll = MoveHit = 1
TriggerAll = P2MoveType = H
Trigger1 = NumHelper(170000) = 0
Trigger1 = NumTarget(1200) > 0
Trigger1 = Target(1200),Time = 0
StateNo = 170000
ID = 170000
PosType = P1
Pos = 40,-40
random = 20,20
Ownpal = 1
Persistent = 0
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1


[State -1test]
Type = changeanim
Triggerall = anim = 1200
Triggerall = animelemtime(5) = 2
Triggerall = anim != 1250
trigger1 = facing = 1
trigger1 = (enemynear,ScreenPos x) - (ScreenPos x) <= 15
trigger2 = facing = -1
trigger2 = (ScreenPos x) - (enemynear,ScreenPos x) <= 15
Value = 1250
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PlayerPush
Trigger1 = anim = 1200
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(8) <= 2
Trigger2 = anim = 1250
trigger2 = animelemtime(3) <= 2
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = turn
Trigger1 = anim = 1250
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1





;---------------------------------------------------------------------------
;虎落笛-中

[Statedef 1260]
type    = S
physics = S
anim = 1300
ctrl = 0
sprpriority = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s100, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElemtime(6) = 0
Anim = 102
ID = 102
Postype = P1
Pos = -30,0
Scale = 1,1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 1
Removetime = -2
Removeongethit = 1

[State -1]
Type = Explod
Trigger1 = AnimElemtime(10) = 0
Anim = 103
ID = 103
Postype = P1
Pos = -30,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 1
Removetime = -2
Removeongethit = 1


[State -1]
type = AfterImage
trigger1 = time = 8
time = 20
length = 15
framegap = 3
TimeGap  = 1
;FrameFap = 1
trans = add
palcontrast = 150,150,150
Peresistent = 1
IgnoreHitPause = 1
PalAdd = -10,-10,-10
palmul = 0.5,0.5,0.5



[State 100, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = animelemtime(5) >= 0
x = 6

[State 100, 5]
type = ChangeState
Trigger1 = time <= 35
Trigger1 = Command != "A溜め"
Trigger1 = Command != "B溜め"
Trigger1 = Command != "C溜め"
value = 1200
ctrl = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 36
Value = s700, 0

[State -1]
Type = Explod
Trigger1 = Time = 36
Anim = 10700
ID = 10700
PosType = P1
Pos = 0,-66
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 100, 5]
type = ChangeState
Trigger1 = time = 40
value = 1220
ctrl = 0




;---------------------------------------------------------------------------
;はりの月舎迦-弱

[Statedef 1300]
type    = S
physics = S
anim = 1300
ctrl = 0
sprpriority = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s100, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElemtime(6) = 0
Anim = 102
ID = 102
Postype = P1
Pos = -30,0
Scale = 1,1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 1
Removetime = -2
Removeongethit = 1

[State -1]
Type = Explod
Trigger1 = AnimElemtime(10) = 0
Anim = 103
ID = 103
Postype = P1
Pos = -30,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 1
Removetime = -2
Removeongethit = 1



[State 100, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = animelemtime(5) >= 0
x = 6


[State 100, 5]
type = ChangeState
TriggerAll = Var(57)/100%10 = 4
TriggerAll = command = "holddown"
TriggerAll = numhelper(1505) = 0
trigger1 = facing = 1
trigger1 = (enemynear,ScreenPos x) - (ScreenPos x) <= 140
trigger2 = facing = -1
trigger2 = (ScreenPos x) - (enemynear,ScreenPos x) <= 140
value = 131095
ctrl = 0

[State 100, 5]
type = ChangeState
TriggerAll = Var(57)/100%10 != 2
trigger1 = facing = 1
trigger1 = (enemynear,ScreenPos x) - (ScreenPos x) <= 140
trigger2 = facing = -1
trigger2 = (ScreenPos x) - (enemynear,ScreenPos x) <= 140
value = 1310
ctrl = 0

[State 100, 5]
type = ChangeState
TriggerAll = Var(57)/100%10 = 2
TriggerAll = numhelper(1505) != 0
trigger1 = facing = 1
trigger1 = (enemynear,ScreenPos x) - (ScreenPos x) <= 140
trigger2 = facing = -1
trigger2 = (ScreenPos x) - (enemynear,ScreenPos x) <= 140
value = 1310
ctrl = 0

[State 100, 5]
type = ChangeState
TriggerAll = Var(57)/100%10 = 2
TriggerAll = numhelper(1505) = 0
trigger1 = facing = 1
trigger1 = (enemynear,ScreenPos x) - (ScreenPos x) <= 140
trigger2 = facing = -1
trigger2 = (ScreenPos x) - (enemynear,ScreenPos x) <= 140
value = 131095
ctrl = 0



[Statedef 1310]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1310
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 12
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 12
Value = s1000, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Explod
Trigger1 = AnimElem = 12
ID = 1315
PosType = P1
Pos = 0,-40
Anim = 1315
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
RemoveTime = -2
BindTime = -1
RemoveOnGetHit = 1



[State 105, 1]
type = Veladd
trigger1 = AnimElemTime(5) = 0
x = 8.5
y = -7.6

[State 105, 1]
type = VelSet
trigger1 = AnimElemtime(5) = 1
trigger1 = vel x >= 7.5
x = 8.0

[State 100]
type = VelAdd
trigger1 = AnimElemtime(5) >= 1
trigger1 = AnimElemtime(17) <= 0
y = 0.4

[State 100]
type = VelAdd
trigger1 = AnimElemtime(5) >= 1
trigger1 = AnimElemtime(12) <= 0
x = -0.1

[State 100]
type = VelAdd
trigger1 = AnimElemtime(12) >= 1
trigger1 = AnimElemtime(17) <= 0
x = -0.2



[State 105, 1]
type = VelSet
trigger1 = AnimElemtime(17) = 1
x = 0
y = 0

[State 105, 1]
type = posSet
trigger1 = AnimElemTime(17) = 1
y = 0


[State 100]
type = StateTypeSet
trigger1 = AnimElemtime(5) >= 1
trigger1 = AnimElemtime(17) <= 0
statetype = A
Physics = N

[State 100]
type = StateTypeSet
trigger1 = AnimElemtime(17) >= 1
statetype = S
Physics = N


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 12
Attr = C, SA
Damage = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = 2, Hit
PauseTime = 8,8+8*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 8,8
HitSound = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -Random%20
SparkNo = -1
Guard.SparkNo = s161
AnimType = Hard
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -0.5,-4
Guard.Velocity = -6
Air.Velocity = IfElse(Var(50)=1,-0.5,-3),IfElse(Var(50)=1,-3.8,FVar(25))
Down.Velocity = -3,-2.5
Ground.CornerPush.VelOff = -1.5
Guard.CornerPush.VelOff = -7
Air.CornerPush.VelOff = IfElse(Var(50)=1,-1.5,-4)
Down.CornerPush.VelOff = -4
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
P2Facing = -1
ID = 5600
Down.Bounce = 1


[State 1450]
type = targetstate
trigger1 = animelemtime(11) >= 0
trigger1 = movehit
value = 5600
IgnoreHitPause = 1
Persistent = 1


[State -1]
Type = PlayerPush
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(17) <= 0
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = turn
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
Persistent = 1


[State -1]
Type = Explod
Trigger1 = animelemtime(17) = 1
Anim = 10052
ID = 10052
PosType = P1
Pos = 0,0
Ownpal = 1
Scale = 0.5,0.5
SprPriority = 0
IgnoreHitPause = 1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = animelemtime(17) = 1
Value = s40, 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1




[Statedef 131095]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 131095
PowerAdd  = 0
Facep2 = 1


[State 100, 5]
type = ChangeState
TriggerAll = Var(57)/100%10 = 4
TriggerAll = command != "holddown"
trigger1 = time =[0,3]
value = ifelse(prevstateno = 1300,1310,1320)
ctrl = 0


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 12
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 12
Value = s1050, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Helper
Trigger1 = AnimElem = 12
StateNo = 150695
ID = 1505
PosType = P1
pos = -29, -35
Ownpal = 1
facaing = -1
SprPriority = 5



[State 105, 1]
type = Veladd
trigger1 = AnimElemTime(5) = 0
x = 8.5
y = -7.6

[State 105, 1]
type = VelSet
trigger1 = AnimElemtime(5) = 1
trigger1 = vel x >= 7.5
x = 8.0

[State 100]
type = VelAdd
trigger1 = AnimElemtime(5) >= 1
trigger1 = AnimElemtime(17) <= 0
y = 0.4

[State 100]
type = VelAdd
trigger1 = AnimElemtime(5) >= 1
trigger1 = AnimElemtime(12) <= 0
x = -0.2

[State 100]
type = VelAdd
trigger1 = AnimElemtime(12) >= 1
trigger1 = AnimElemtime(17) <= 0
x = -0.2



[State 105, 1]
type = VelSet
trigger1 = AnimElemtime(17) = 1
x = 0
y = 0

[State 105, 1]
type = posSet
trigger1 = AnimElemTime(17) = 1
y = 0


[State 100]
type = StateTypeSet
trigger1 = AnimElemtime(5) >= 1
trigger1 = AnimElemtime(17) <= 0
statetype = A
Physics = N

[State 100]
type = StateTypeSet
trigger1 = AnimElemtime(17) >= 1
statetype = S
Physics = N


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlayerPush
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(17) <= 0
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = turn
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
Persistent = 1


[State -1]
Type = Explod
Trigger1 = animelemtime(17) = 1
Anim = 10052
ID = 10052
PosType = P1
Pos = 0,0
Ownpal = 1
Scale = 0.5,0.5
SprPriority = 0
IgnoreHitPause = 1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = animelemtime(17) = 1
Value = s40, 1


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1





;---------------------------------------------------------------------------
;はりの月舎迦-中

[Statedef 1350]
type    = S
physics = S
anim = 1300
ctrl = 0
sprpriority = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s100, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElemtime(6) = 0
Anim = 102
ID = 102
Postype = P1
Pos = -30,0
Scale = 1,1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 1
Removetime = -2
Removeongethit = 1

[State -1]
Type = Explod
Trigger1 = AnimElemtime(10) = 0
Anim = 103
ID = 103
Postype = P1
Pos = -30,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 1
Removetime = -2
Removeongethit = 1



[State 100, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = animelemtime(5) >= 0
x = 6

[State 100, 5]
type = ChangeState
TriggerAll = Var(57)/100%10 = 4
TriggerAll = command = "holddown"
TriggerAll = numhelper(1505) = 0
trigger1 = facing = 1
trigger1 = (enemynear,ScreenPos x) - (ScreenPos x) <= 140
trigger2 = facing = -1
trigger2 = (ScreenPos x) - (enemynear,ScreenPos x) <= 140
value = 131095
ctrl = 0


[State 100, 5]
type = ChangeState
TriggerAll = Var(57)/100%10 != 2
trigger1 = facing = 1
trigger1 = (enemynear,ScreenPos x) - (ScreenPos x) <= 140
trigger2 = facing = -1
trigger2 = (ScreenPos x) - (enemynear,ScreenPos x) <= 140
value = 1320
ctrl = 0

[State 100, 5]
type = ChangeState
TriggerAll = Var(57)/100%10 = 2
TriggerAll = numhelper(1505) != 0
trigger1 = facing = 1
trigger1 = (enemynear,ScreenPos x) - (ScreenPos x) <= 140
trigger2 = facing = -1
trigger2 = (ScreenPos x) - (enemynear,ScreenPos x) <= 140
value = 1320
ctrl = 0

[State 100, 5]
type = ChangeState
TriggerAll = Var(57)/100%10 = 2
TriggerAll = numhelper(1505) = 0
trigger1 = facing = 1
trigger1 = (enemynear,ScreenPos x) - (ScreenPos x) <= 140
trigger2 = facing = -1
trigger2 = (ScreenPos x) - (enemynear,ScreenPos x) <= 140
value = 131095
ctrl = 0




[Statedef 1320]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1320
PowerAdd  = 0
Facep2 = 1


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 12
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 12
Value = s1050, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Explod
Trigger1 = AnimElem = 12
ID = 1325
PosType = P1
Pos = -15,-30
Anim = 1325
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
RemoveTime = -2
BindTime = -1
RemoveOnGetHit = 1



[State 105, 1]
type = Veladd
trigger1 = AnimElemTime(5) = 0
x = 8.5
y = -7.6

[State 105, 1]
type = VelSet
trigger1 = AnimElemtime(5) = 1
trigger1 = vel x >= 7.5
x = 8.0

[State 100]
type = VelAdd
trigger1 = AnimElemtime(5) >= 1
trigger1 = AnimElemtime(16) <= 0
y = 0.4

[State 100]
type = VelAdd
trigger1 = AnimElemtime(5) >= 1
trigger1 = AnimElemtime(12) <= 0
x = -0.1

[State 100]
type = VelAdd
trigger1 = AnimElemtime(12) >= 1
trigger1 = AnimElemtime(16) <= 0
x = -0.2


[State 105, 1]
type = VelSet
trigger1 = AnimElemtime(16) = 1
x = 0
y = 0

[State 105, 1]
type = posSet
trigger1 = AnimElemTime(16) = 1
y = 0


[State 100]
type = StateTypeSet
trigger1 = AnimElemtime(5) >= 1
trigger1 = AnimElemtime(16) <= 0
statetype = A
Physics = N

[State 100]
type = StateTypeSet
trigger1 = AnimElemtime(16) >= 1
statetype = S
Physics = N


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 12
Attr = C, SA
Damage = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = 2, Hit
PauseTime = 8,15+15*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 8,8
HitSound = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -Random%20
SparkNo = -1
Guard.SparkNo = s161
AnimType = Hard
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -0.5,-8
Guard.Velocity = -6
Air.Velocity = IfElse(Var(50)=1,-0.5,-3),IfElse(Var(50)=1,-3.8,FVar(25))
Down.Velocity = -3,-2.5
Ground.CornerPush.VelOff = -1.5
Guard.CornerPush.VelOff = -7
Air.CornerPush.VelOff = IfElse(Var(50)=1,-1.5,-4)
Down.CornerPush.VelOff = -4
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
id = 1320
Down.Bounce = 1


[State -1]
Type = PlayerPush
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(16) <= 0
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 105, 1]
type = null;posadd
trigger1 = AnimElemtime(16) = 0
x = 8

[State -1]
Type = turn
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
Persistent = 1


[State -1]
Type = Explod
Trigger1 = animelemtime(16) = 1
Anim = 10052
ID = 10052
PosType = P1
Pos = 0,0
Ownpal = 1
Scale = 0.5,0.5
SprPriority = 0
IgnoreHitPause = 1
RemoveTime = -2
RemoveOnGetHit = 1

[State -2]
Type = VarSet
Triggerall = numtarget(1320) >= 1
Trigger1 = animelemtime(16) = 3
V = 2
Value = 412
IgnoreHitPause = 1


[State -1]
Type = PlaySnd
Trigger1 = animelemtime(16) = 1
Value = s41, IfElse((Var(26)=[2,3]),1,11)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1





;---------------------------------------------------------------------------
;瑠璃の月-弱

[Statedef 1400]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 1400
SprPriority = 2


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = 1
Trigger1 = Var(22)/100 = 0
V = 22
Value = Var(22)+100


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 7
Value = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1400, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Explod
Trigger1 = AnimElem = 5
ID = 1405
PosType = P1
Pos = 5,-50
Anim = 1405
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = 1
RemoveTime = -2
RemoveOnGetHit = 1


[State 105, 1]
type = Velset
trigger1 = Time = 0
y = 0

[State 105, 1]
type = Veladd
trigger1 = Time = 1
y = -8.5

[State 105, 1]
type = Velset
trigger1 = Time = 1
x = 1.3


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5
Attr = A, NA
Damage = Ceil(FVar(0)*(110-Var(4)%2))
HitFlag = MAF
GuardFlag = HA
Priority = 3, Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -30-Random%20
SparkNo = -1
Guard.SparkNo = s160
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Ground.Velocity = -5
Guard.Velocity = -7
Air.Velocity = -1.5*Var(50),IfElse(Var(50)=1,-7.4,FVar(25))
AirGuard.Velocity = -3,-1.4
Down.Velocity = -3.2,-2.5
Ground.CornerPush.VelOff = -6
Air.CornerPush.VelOff = -2.5*Var(50)
Down.CornerPush.VelOff = -5.2
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
id = 5600
p2facing = 1
Down.Bounce = 1


[State 1450]
type = targetstate
trigger1 = animelemtime(5) >= 0
trigger1 = movehit
value = 5600
IgnoreHitPause = 1
Persistent = 1

[State 50, 1]
type = VarSet
trigger1 = animelem = 5
sysvar(1) = -1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1




;---------------------------------------------------------------------------
;瑠璃の月-中

[Statedef 1450]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 1450
SprPriority = 2


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = 1
Trigger1 = Var(22)/100 = 0
V = 22
Value = Var(22)+100


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 7
Value = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1450, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Explod
Trigger1 = AnimElem = 5
ID = 1405
PosType = P1
Pos = 5,-50
Anim = 1405
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = 1
RemoveTime = -2
RemoveOnGetHit = 1


[State 105, 1]
type = Velset
trigger1 = Time = 0
y = 0

[State 105, 1]
type = Veladd
trigger1 = Time = 1
y = -8.5

[State 105, 1]
type = Velset
trigger1 = Time = 1
x = 1.3


[State -1]
Type = VarAdd
Trigger1 = MoveHit
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5
Attr = A, NA
Damage = Ceil(FVar(0)*(110-Var(4)%2))
HitFlag = MAF
GuardFlag = HA
Priority = 3, Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -30-Random%20
SparkNo = -1
Guard.SparkNo = s160
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Ground.Velocity = -5
Guard.Velocity = -7
Air.Velocity = -1.5*Var(50),IfElse(Var(50)=1,-7.4,FVar(25))
AirGuard.Velocity = -3,-1.4
Down.Velocity = -3.2,-2.5
Ground.CornerPush.VelOff = -6
Air.CornerPush.VelOff = -2.5*Var(50)
Down.CornerPush.VelOff = -5.2
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil(0.85*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.50*FVar(31)*30)
id = 5600
p2facing = 1
Down.Bounce = 1


[State 1450]
type = targetstate
trigger1 = animelemtime(5) >= 0
trigger1 = movehit
value = 5600
IgnoreHitPause = 1
Persistent = 1

[State 50, 1]
type = VarSet
trigger1 = animelem = 5
sysvar(1) = -1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1





;---------------------------------------------------------------------------
; ナイフ投げ溜め（斜め鈍角）
[Statedef 1500]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 1500
Facep2 = 1


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 2
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
Trigger1 = Command != "A溜め" && Command != "B溜め" && Command != "C溜め" 
Trigger1 = Time = [0,16]
V = 1
Value = 1

[State -1]
Type = VarSet
Trigger1 = Time = 16
V = 1
Value = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 16
Value = s700, 0

[State -1]
Type = Explod
Trigger1 = Time = 16
Anim = 10700
ID = 10700
PosType = P1
Pos = -32,-63
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
TriggerAll = Var(1) = 1
Trigger1 = Time = [10,14]
Value = 15001

[State -1]
Type = ChangeState
TriggerAll = Var(57)/100%10 = 4
Trigger1 = AnimTime = 0
Value = 15004

[State -1]
Type = ChangeState
TriggerAll = Var(57)/100%10 != 4
Trigger1 = AnimTime = 0
Value = 15002

;---------------------------------------------------------------------------
; ナイフ投げ溜め（斜め鋭角）
[Statedef 1515]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 1500
Facep2 = 1


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 2
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
Trigger1 = Command != "A溜め" && Command != "B溜め" && Command != "C溜め" 
Trigger1 = Time = [0,16]
V = 1
Value = 1

[State -1]
Type = VarSet
Trigger1 = Time = 16
V = 1
Value = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 16
Value = s700, 0

[State -1]
Type = Explod
Trigger1 = Time = 16
Anim = 10700
ID = 10700
PosType = P1
Pos = -32,-63
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
TriggerAll = Var(1) = 1
Trigger1 = Time = [10,14]
Value = 15003

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 15004

;---------------------------------------------------------------------------
;隠しナイフ-弱ノーマル（鈍角）
[Statedef 15001]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1501
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s1500, ifelse(random <= 499,0,1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Helper
Trigger1 = AnimElem = 3
StateNo = 1501
ID = 1505
PosType = P1
pos = 36, -73
Ownpal = 1
SprPriority = 5


[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;隠しナイフ-弱ガード不能（鈍角）
[Statedef 15002]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1501
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s1500, ifelse(random <= 499,0,1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Helper
Trigger1 = AnimElem = 3
StateNo = 150001
ID = 1505
PosType = P1
pos = 36, -73
Ownpal = 1
SprPriority = 5


[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;隠しナイフ-弱ノーマル（鋭角）
[Statedef 15003]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1501
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s1500, ifelse(random <= 499,0,1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Helper
Trigger1 = AnimElem = 3
StateNo = 1501
ID = 1505
PosType = P1
pos = 36, -73
Ownpal = 1
SprPriority = 5


[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1


;---------------------------------------------------------------------------
;隠しナイフ-弱ガード不能（鋭角）
[Statedef 15004]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1501
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s1500, ifelse(random <= 499,0,1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Helper
Trigger1 = AnimElem = 3
StateNo = 150001
ID = 1505
PosType = P1
pos = 36, -73
Ownpal = 1
SprPriority = 5


[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1





;---------------------------------------------------------------------------
;隠しナイフ-中
[Statedef 1550]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1550
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1500, ifelse(random <= 499,0,1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 4
StateNo = 1505
ID = 1505
PosType = P1
pos = 36, -73
Ownpal = 1
SprPriority = 5

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1




;---------------------------------------------------------------------------
;隠しナイフ空中-弱

[Statedef 1510]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 1510
SprPriority = 2


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = 1
Trigger1 = Var(22)/100 = 0
V = 22
Value = Var(22)+100


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 7
Value = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s1500, ifelse(random <= 499,0,1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 6
StateNo = 1506
ID = 1505
PosType = P1
pos = 25, -40
Ownpal = 1
SprPriority = 5

[State 105, 1]
type = Velset
trigger1 = Time = 0
y = 0

[State 105, 1]
type = Veladd
trigger1 = Time = 1
y = -8.5

[State 105, 1]
type = Velset
trigger1 = Time = 1
x = -1.3


[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 50, 1]
type = VarSet
trigger1 = animelem = 5
sysvar(1) = -1



;---------------------------------------------------------------------------
;隠しナイフ空中-中

[Statedef 1560]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 1560
SprPriority = 2


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = 1
Trigger1 = Var(22)/100 = 0
V = 22
Value = Var(22)+100


[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 7
Value = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1500, ifelse(random <= 499,0,1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
StateNo = 1506
ID = 1505
PosType = P1
pos = 25, -35
Ownpal = 1
SprPriority = 5

[State 105, 1]
type = Velset
trigger1 = Time = 0
y = 0

[State 105, 1]
type = Veladd
trigger1 = Time = 1
y = -8.5

[State 105, 1]
type = Velset
trigger1 = Time = 1
x = 1.3


[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 50, 1]
type = VarSet
trigger1 = animelem = 5
sysvar(1) = 1

;---------------------------------------------------------------------------
;ナイフ回収
[Statedef 1570]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1570
PowerAdd  = 0


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1570, ifelse(random <= 499,0,1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Animelem = 8
Value = s2500,7
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1




;---------------------------------------------------------------------
;ナイフ斜め飛び-遠距離
[Statedef 1501]
Type    = S
MoveType= A
Physics = N
Juggle  = 0
Ctrl = 0
Anim = 1571
SprPriority = 5

[State -1]
Type     = NotHitBy
Trigger1 = 1
Value    = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time     = 1

[State -1]
Type = velset
Trigger1 = time >= 0
trigger1 = parent,stateno = 15001
x = 10
y = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = velset
Trigger1 = time >= 0
trigger1 = parent,stateno = 15003
x = 11
y = 4
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = HitDef
TriggerAll = parent,Var(25)/10%10 < 3
Trigger1 = time = 0
Attr = C, NA
Damage    = Ceil(parent,FVar(0)*(110-parent,Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = L
Priority  = 2, Hit
PauseTime = 2,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 2,10
HitSound = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -0.5,-7.5
Guard.Velocity = -10
Air.Velocity = IfElse(parent,Var(50)=1,-0.5,-5),IfElse(parent,Var(50)=1,-3.2,parent,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -12
Air.CornerPush.VelOff = IfElse(parent,Var(50)=1,0,-6)
Down.CornerPush.VelOff = -6
YAccel = .47
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(parent,FVar(30)*30), Ceil(0.85*parent,FVar(30)*30)
GivePower = Floor(parent,FVar(31)*30), Floor(0.50*parent,FVar(31)*30)
id = 1501
Down.Bounce = 1


[State -2]
Type = Helper
Trigger1 = time%2 = 0
Trigger1 = Pos Y <= -5
StateNo = 1580
ID = 1580
PosType = P1
Pos = -4,-3
Ownpal = 1
SprPriority = 4
BindTime = -1
IgnoreHitPause = 1
size.yscale = 0.8
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -2]
Type = Helper
TriggerAll = MoveHit = 1
TriggerAll = P2MoveType = H
Trigger1 = NumHelper(16100) = 0 && NumHelper(16110) = 0
Trigger2 = NumTarget(1501) > 0
Trigger2 = Target(1501),Time = 0
StateNo = 16100
ID = 16100+IfElse(Var(38)=0,0,10)
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
BindTime = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = explod
Trigger1 = Moveguarded
ID = 10120
PosType = P1
Pos = 0,0
Scale = 0.5,0.5
Anim = IfElse((1.00*Parent,Var(35)/Parent,Var(32)=[0.00,0.34]),10122,10121)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = 1
RemoveTime = -2


[State -2]
Type = parentVarAdd
TriggerAll = parent,Var(0)/10000%10 = 0
TriggerAll = MoveGuarded = 1
Trigger1 = parent,FVar(7) = [40,99]
Trigger2 = (parent,FVar(7) = [1,39]) && (Target,Var(42)%10 != [1,5]) && (Target,PrevStateNo != [150,159]) || (parent,FVar(7) = [1,39]) && (Target,Var(42)%10 != 1) && (Target,PrevStateNo = [150,159])
V = 35
Value = -Floor(100*parent,FVar(22))
IgnoreHitPause = 1

[State -2]
Type = parentVarAdd
TriggerAll = parent,Var(58) = 0
TriggerAll = RoundState = 2
Trigger1 = parent,Var(35) < 0
Trigger1 = parent,FVar(23) = 0
V = 2
Value = -1000
IgnoreHitPause = 1

[State -2]
Type = TargetState
TriggerAll = parent,Var(58) = 0
TriggerAll = RoundState = 2
Trigger1 = parent,Var(35) < 0
Trigger1 = parent,FVar(23) = 0
Trigger1 = EnemyNear(parent,Var(3)),StateNo = 150 || EnemyNear(parent,Var(3)),StateNo = 152 || EnemyNear(parent,Var(3)),StateNo = 154
Value = 5310
IgnoreHitPause = 1

[State -2]
Type = Helper
TriggerAll = parent,Var(58) = 0
TriggerAll = RoundState = 2
Trigger1 = NumHelper(5315) = 0
Trigger1 = parent,Var(35) < 0
Trigger1 = parent,FVar(23) = 0
Trigger1 = EnemyNear(Var(3)),StateNo = 5310
StateNo = 5315
PosType = P2
Pos = 0, 0
Ownpal = 1
ID = 5315
IgnoreHitPause = 1


[State -1]
Type = ChangeState
Trigger1 = (Vel Y > 0) && (Pos Y >= -1)
Value = 1502
Ctrl = 0


[State -1]
Type = ChangeState
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= 0
IgnoreHitPause = 0
Value = 1503
Ctrl = 0



;---------------------------------------------------------------------
;ナイフ斜め飛び-遠距離
[Statedef 150001]
Type    = S
MoveType= A
Physics = N
Juggle  = 0
Ctrl = 0
Anim = 1572
SprPriority = 5

[State -1]
Type     = NotHitBy
Trigger1 = 1
Value    = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time     = 1


[State -1]
Type = velset
Trigger1 = time >= 0
trigger1 = parent,stateno = 15002
x = 10
y = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = velset
Trigger1 = time >= 0
trigger1 = parent,stateno = 15004
x = 11
y = 4
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 3201, Angle 4]
type = Angleset
trigger1 = Time = 0
value = -180/pi * atan((vel y) / (vel x))

[State 3201, Facing]
type = AngleDraw
trigger1 = time >= 0
scale = 1, 1


[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = HitDef
TriggerAll = parent,Var(25)/10%10 < 3
Trigger1 = time = 0
Attr = C, NA
Damage    = Ceil(parent,FVar(0)*(130-parent,Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = 
Priority  = 2, Hit
PauseTime = 2,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 2,10
HitSound = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -0.5,-3.6
Guard.Velocity = -10
Air.Velocity = IfElse(parent,Var(50)=1,-0.5,-5),IfElse(parent,Var(50)=1,-3.2,parent,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -12
Air.CornerPush.VelOff = IfElse(parent,Var(50)=1,0,-6)
Down.CornerPush.VelOff = -6
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(parent,FVar(30)*30), Ceil(0.85*parent,FVar(30)*30)
GivePower = Floor(parent,FVar(31)*30), Floor(0.50*parent,FVar(31)*30)
id = 1501
Down.Bounce = 1


[State -2]
Type = Helper
Trigger1 = time%2 = 0
Trigger1 = Pos Y <= -5
StateNo = 1580
ID = 1580
PosType = P1
Pos = -4,-3
Ownpal = 1
SprPriority = 4
BindTime = -1
IgnoreHitPause = 1
size.yscale = 0.8
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -2]
Type = Helper
TriggerAll = MoveHit = 1
TriggerAll = P2MoveType = H
Trigger1 = NumHelper(170000) = 0
Trigger1 = NumTarget(1501) > 0
Trigger1 = Target(1501),Time = 0
StateNo = 170000
ID = 170000
PosType = P1
Pos = 10,0
random = 20,20
Ownpal = 1
Persistent = 0
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999





[State -1]
Type = ChangeState
Trigger1 = (Vel Y > 0) && (Pos Y >= -1)
Value = 1502
Ctrl = 0


[State -1]
Type = ChangeState
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= 0
IgnoreHitPause = 0
Value = 1503
Ctrl = 0



;---------------------------------------------------------------------
;ナイフ斜め飛び-近距離
[Statedef 1506]
Type    = S
MoveType= A
Physics = N
Juggle  = 0
Ctrl = 0
Anim = 1572
SprPriority = 5

[State -1]
Type     = NotHitBy
Trigger1 = 1
Value    = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time     = 1

[State -1]
Type = velset
Trigger1 = time >= 0
x = 9
y = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 3201, Angle 4]
type = Angleset
trigger1 = Time = 0
value = -180/pi * atan((vel y) / (vel x))

[State 3201, Facing]
type = AngleDraw
trigger1 = time >= 0
scale = 1, 1


[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = HitDef
TriggerAll = parent,Var(25)/10%10 < 3
Trigger1 = time = 0
Attr = C, NA
Damage    = Ceil(parent,FVar(0)*(110-parent,Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = MA
Priority  = 2, Hit
PauseTime = 2,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 2,10
HitSound = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -0.5,-7.5
Guard.Velocity = -10
Air.Velocity = IfElse(parent,Var(50)=1,-0.5,-5),IfElse(parent,Var(50)=1,-3.2,parent,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -12
Air.CornerPush.VelOff = IfElse(parent,Var(50)=1,0,-6)
Down.CornerPush.VelOff = -6
YAccel = .47
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(parent,FVar(30)*30), Ceil(0.85*parent,FVar(30)*30)
GivePower = Floor(parent,FVar(31)*30), Floor(0.50*parent,FVar(31)*30)
id = 1501
Down.Bounce = 1


[State -2]
Type = Helper
Trigger1 = time%2 = 0
Trigger1 = Pos Y <= -5
StateNo = 1580
ID = 1580
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 4
BindTime = -1
IgnoreHitPause = 1
size.yscale = 0.8
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -2]
Type = Helper
TriggerAll = MoveHit = 1
TriggerAll = P2MoveType = H
Trigger1 = NumHelper(16100) = 0 && NumHelper(16110) = 0
Trigger2 = NumTarget(1501) > 0
Trigger2 = Target(1501),Time = 0
StateNo = 16100
ID = 16100+IfElse(Var(38)=0,0,10)
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
BindTime = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = explod
Trigger1 = Moveguarded
ID = 10120
PosType = P1
Pos = 0,0
Scale = 0.5,0.5
Anim = IfElse((1.00*Parent,Var(35)/Parent,Var(32)=[0.00,0.34]),10122,10121)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = 1
RemoveTime = -2


[State -2]
Type = parentVarAdd
TriggerAll = parent,Var(0)/10000%10 = 0
TriggerAll = MoveGuarded = 1
Trigger1 = parent,FVar(7) = [40,99]
Trigger2 = (parent,FVar(7) = [1,39]) && (Target,Var(42)%10 != [1,5]) && (Target,PrevStateNo != [150,159]) || (parent,FVar(7) = [1,39]) && (Target,Var(42)%10 != 1) && (Target,PrevStateNo = [150,159])
V = 35
Value = -Floor(100*parent,FVar(22))
IgnoreHitPause = 1

[State -2]
Type = parentVarAdd
TriggerAll = parent,Var(58) = 0
TriggerAll = RoundState = 2
Trigger1 = parent,Var(35) < 0
Trigger1 = parent,FVar(23) = 0
V = 2
Value = -1000
IgnoreHitPause = 1

[State -2]
Type = TargetState
TriggerAll = parent,Var(58) = 0
TriggerAll = RoundState = 2
Trigger1 = parent,Var(35) < 0
Trigger1 = parent,FVar(23) = 0
Trigger1 = EnemyNear(parent,Var(3)),StateNo = 150 || EnemyNear(parent,Var(3)),StateNo = 152 || EnemyNear(parent,Var(3)),StateNo = 154
Value = 5310
IgnoreHitPause = 1

[State -2]
Type = Helper
TriggerAll = parent,Var(58) = 0
TriggerAll = RoundState = 2
Trigger1 = NumHelper(5315) = 0
Trigger1 = parent,Var(35) < 0
Trigger1 = parent,FVar(23) = 0
Trigger1 = EnemyNear(Var(3)),StateNo = 5310
StateNo = 5315
PosType = P2
Pos = 0, 0
Ownpal = 1
ID = 5315
IgnoreHitPause = 1


[State -1]
Type = ChangeState
Trigger1 = (Vel Y > 0) && (Pos Y >= -1)
Value = 1502
Ctrl = 0


[State -1]
Type = ChangeState
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= 0
IgnoreHitPause = 0
Value = 1503
Ctrl = 0


;---------------------------------------------------------------------
;ナイフ斜め飛び-逆近距離
[Statedef 150695]
Type    = S
MoveType= A
Physics = N
Juggle  = 0
Ctrl = 0
Anim = 1572
SprPriority = 5
facaing = -1

[State -1]
Type = turn
Trigger1 = time = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type     = NotHitBy
Trigger1 = 1
Value    = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time     = 1

[State -1]
Type = velset
Trigger1 = time >= 0
x = 9
y = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 3201, Angle 4]
type = Angleset
trigger1 = Time = 0
value = -180/pi * atan((vel y) / (vel x))

[State 3201, Facing]
type = AngleDraw
trigger1 = time >= 0
scale = 1, 1


[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = HitDef
TriggerAll = parent,Var(25)/10%10 < 3
Trigger1 = time = 0
Attr = C, NA
Damage    = Ceil(parent,FVar(0)*(110-parent,Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = MA
Priority  = 2, Hit
PauseTime = 2,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 2,10
HitSound = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -0.5,-7.5
Guard.Velocity = -10
Air.Velocity = IfElse(parent,Var(50)=1,-0.5,-5),IfElse(parent,Var(50)=1,-3.2,parent,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -12
Air.CornerPush.VelOff = IfElse(parent,Var(50)=1,0,-6)
Down.CornerPush.VelOff = -6
YAccel = .47
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(parent,FVar(30)*30), Ceil(0.85*parent,FVar(30)*30)
GivePower = Floor(parent,FVar(31)*30), Floor(0.50*parent,FVar(31)*30)
id = 1501
Down.Bounce = 1


[State -2]
Type = Helper
Trigger1 = time%2 = 0
Trigger1 = Pos Y <= -5
StateNo = 1580
ID = 1580
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 4
BindTime = -1
IgnoreHitPause = 1
size.yscale = 0.8
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -2]
Type = Helper
TriggerAll = MoveHit = 1
TriggerAll = P2MoveType = H
Trigger1 = NumHelper(16100) = 0 && NumHelper(16110) = 0
Trigger2 = NumTarget(1501) > 0
Trigger2 = Target(1501),Time = 0
StateNo = 16100
ID = 16100+IfElse(Var(38)=0,0,10)
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
BindTime = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = explod
Trigger1 = Moveguarded
ID = 10120
PosType = P1
Pos = 0,0
Scale = 0.5,0.5
Anim = IfElse((1.00*Parent,Var(35)/Parent,Var(32)=[0.00,0.34]),10122,10121)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = 1
RemoveTime = -2


[State -2]
Type = parentVarAdd
TriggerAll = parent,Var(0)/10000%10 = 0
TriggerAll = MoveGuarded = 1
Trigger1 = parent,FVar(7) = [40,99]
Trigger2 = (parent,FVar(7) = [1,39]) && (Target,Var(42)%10 != [1,5]) && (Target,PrevStateNo != [150,159]) || (parent,FVar(7) = [1,39]) && (Target,Var(42)%10 != 1) && (Target,PrevStateNo = [150,159])
V = 35
Value = -Floor(100*parent,FVar(22))
IgnoreHitPause = 1

[State -2]
Type = parentVarAdd
TriggerAll = parent,Var(58) = 0
TriggerAll = RoundState = 2
Trigger1 = parent,Var(35) < 0
Trigger1 = parent,FVar(23) = 0
V = 2
Value = -1000
IgnoreHitPause = 1

[State -2]
Type = TargetState
TriggerAll = parent,Var(58) = 0
TriggerAll = RoundState = 2
Trigger1 = parent,Var(35) < 0
Trigger1 = parent,FVar(23) = 0
Trigger1 = EnemyNear(parent,Var(3)),StateNo = 150 || EnemyNear(parent,Var(3)),StateNo = 152 || EnemyNear(parent,Var(3)),StateNo = 154
Value = 5310
IgnoreHitPause = 1

[State -2]
Type = Helper
TriggerAll = parent,Var(58) = 0
TriggerAll = RoundState = 2
Trigger1 = NumHelper(5315) = 0
Trigger1 = parent,Var(35) < 0
Trigger1 = parent,FVar(23) = 0
Trigger1 = EnemyNear(Var(3)),StateNo = 5310
StateNo = 5315
PosType = P2
Pos = 0, 0
Ownpal = 1
ID = 5315
IgnoreHitPause = 1


[State -1]
Type = ChangeState
Trigger1 = (Vel Y > 0) && (Pos Y >= -1)
Value = 1502
Ctrl = 0


[State -1]
Type = ChangeState
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= 0
IgnoreHitPause = 0
Value = 1503
Ctrl = 0


;---------------------------------------------------------------------
;ナイフ斜め飛び-逆近距離
[Statedef 150696]
Type    = S
MoveType= A
Physics = N
Juggle  = 0
Ctrl = 0
Anim = 1572
SprPriority = 5
facaing = -1


[State -1]
Type     = NotHitBy
Trigger1 = 1
Value    = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time     = 1

[State -1]
Type = velset
Trigger1 = time = 0
trigger1 = parent,stateno != 2501
trigger1 = enemynear,p2dist x >= 100
x = 9*cos(atan(150/p2dist x))
y = 9*sin(atan(150/p2dist x))
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = velset
Trigger1 = time = 0
trigger1 = parent,stateno != 2501
trigger1 = enemynear,p2dist x < 100
x = 5
y = 10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = velset
Trigger1 = time = 0
trigger1 = parent,stateno = 2501
trigger1 = enemynear,p2dist x >= 100
x = 9*cos(atan(55/p2dist x))
y = 9*sin(atan(55/p2dist x))
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = velset
Trigger1 = time = 0
trigger1 = parent,stateno = 2501
trigger1 = enemynear,p2dist x < 100
x = 10
y = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 3201, Angle 4]
type = Angleset
trigger1 = Time >= 0
value = -180/pi * atan((vel y) / (vel x))

[State 3201, Facing]
type = AngleDraw
trigger1 = time >= 0
scale = 1, 1


[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = HitDef
TriggerAll = parent,Var(25)/10%10 < 3
Trigger1 = time = 0
Attr = C, NA
Damage    = Ceil(parent,FVar(0)*(210-parent,Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = MA
Priority  = 2, Hit
PauseTime = 2,15+15*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 2,10
HitSound = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -0.5,-7.5
Guard.Velocity = -10
Air.Velocity = IfElse(parent,Var(50)=1,-0.5,-5),IfElse(parent,Var(50)=1,-3.2,parent,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -12
Air.CornerPush.VelOff = IfElse(parent,Var(50)=1,0,-6)
Down.CornerPush.VelOff = -6
YAccel = .47
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(parent,FVar(30)*30), Ceil(0.85*parent,FVar(30)*30)
GivePower = Floor(parent,FVar(31)*30), Floor(0.50*parent,FVar(31)*30)
id = 1501
Down.Bounce = 1




[State -2]
Type = Helper
Trigger1 = time%2 = 0
Trigger1 = Pos Y <= -5
StateNo = 1580
ID = 1580
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 4
BindTime = -1
IgnoreHitPause = 1
size.yscale = 0.8
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -2]
Type = Helper
TriggerAll = MoveHit = 1
TriggerAll = P2MoveType = H
Trigger1 = NumHelper(16100) = 0 && NumHelper(16110) = 0
Trigger1 = NumTarget(1501) > 0
Trigger1 = Target(1501),Time = 0
StateNo = 16100
ID = 16100+IfElse(Var(38)=0,0,10)
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
BindTime = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = explod
Trigger1 = Moveguarded
ID = 10120
PosType = P1
Pos = 0,0
Scale = 0.5,0.5
Anim = IfElse((1.00*Parent,Var(35)/Parent,Var(32)=[0.00,0.34]),10122,10121)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = 1
RemoveTime = -2


[State -2]
Type = parentVarAdd
TriggerAll = parent,Var(0)/10000%10 = 0
TriggerAll = MoveGuarded = 1
Trigger1 = parent,FVar(7) = [40,99]
Trigger2 = (parent,FVar(7) = [1,39]) && (Target,Var(42)%10 != [1,5]) && (Target,PrevStateNo != [150,159]) || (parent,FVar(7) = [1,39]) && (Target,Var(42)%10 != 1) && (Target,PrevStateNo = [150,159])
V = 35
Value = -Floor(100*parent,FVar(22))
IgnoreHitPause = 1

[State -2]
Type = parentVarAdd
TriggerAll = parent,Var(58) = 0
TriggerAll = RoundState = 2
Trigger1 = parent,Var(35) < 0
Trigger1 = parent,FVar(23) = 0
V = 2
Value = -1000
IgnoreHitPause = 1

[State -2]
Type = TargetState
TriggerAll = parent,Var(58) = 0
TriggerAll = RoundState = 2
Trigger1 = parent,Var(35) < 0
Trigger1 = parent,FVar(23) = 0
Trigger1 = EnemyNear(parent,Var(3)),StateNo = 150 || EnemyNear(parent,Var(3)),StateNo = 152 || EnemyNear(parent,Var(3)),StateNo = 154
Value = 5310
IgnoreHitPause = 1

[State -2]
Type = Helper
TriggerAll = parent,Var(58) = 0
TriggerAll = RoundState = 2
Trigger1 = NumHelper(5315) = 0
Trigger1 = parent,Var(35) < 0
Trigger1 = parent,FVar(23) = 0
Trigger1 = EnemyNear(Var(3)),StateNo = 5310
StateNo = 5315
PosType = P2
Pos = 0, 0
Ownpal = 1
ID = 5315
IgnoreHitPause = 1


[State -1]
Type = ChangeState
Trigger1 = (Vel Y > 0) && (Pos Y >= -1)
Value = 1502
Ctrl = 0


[State -1]
Type = ChangeState
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= 0
IgnoreHitPause = 0
Value = 1503
Ctrl = 0






;------------------------------------------------------------------
;ナイフ水平飛び
[Statedef 1505]
Type    = S
MoveType= A
Physics = N
Juggle  = 0
Ctrl = 0
Anim = 1572
SprPriority = 5

[State -1]
Type     = NotHitBy
Trigger1 = 1
Value    = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time     = 1

[State -1]
Type = velset
Trigger1 = time >= 0
x = 11.2
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = HitDef
TriggerAll = parent,Var(25)/10%10 < 3
Trigger1 = time = 0
Attr = C, NA
Damage    = Ceil(parent,FVar(0)*(110-parent,Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = MA
Priority  = 2, Hit
PauseTime = 2,15+15*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 2,10
HitSound = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -0.5,-7.5
Guard.Velocity = -10
Air.Velocity = IfElse(parent,Var(50)=1,-0.5,-5),IfElse(parent,Var(50)=1,-3.2,parent,FVar(25))
Down.Velocity = -4,-2.5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -12
Air.CornerPush.VelOff = IfElse(parent,Var(50)=1,0,-6)
Down.CornerPush.VelOff = -6
YAccel = .47
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(parent,FVar(30)*30), Ceil(0.85*parent,FVar(30)*30)
GivePower = Floor(parent,FVar(31)*30), Floor(0.50*parent,FVar(31)*30)
id = 1501
Down.Bounce = 1


[State -2]
Type = Helper
Trigger1 = time%2 = 0
Trigger1 = Pos Y <= -5
StateNo = 1580
ID = 1580
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 4
BindTime = -1
IgnoreHitPause = 1
size.yscale = 0.8
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -2]
Type = Helper
TriggerAll = MoveHit = 1
TriggerAll = P2MoveType = H
Trigger1 = NumHelper(16100) = 0 && NumHelper(16110) = 0
Trigger2 = NumTarget(1501) > 0
Trigger2 = Target(1501),Time = 0
StateNo = 16100
ID = 16100+IfElse(Var(38)=0,0,10)
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
BindTime = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = explod
Trigger1 = Moveguarded
ID = 10120
PosType = P1
Pos = 0,0
Scale = 0.5,0.5
Anim = IfElse((1.00*Parent,Var(35)/Parent,Var(32)=[0.00,0.34]),10122,10121)
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = 1
RemoveTime = -2

[State -2]
Type = parentVarAdd
TriggerAll = parent,Var(0)/10000%10 = 0
TriggerAll = MoveGuarded = 1
Trigger1 = parent,FVar(7) = [40,99]
Trigger2 = (parent,FVar(7) = [1,39]) && (Target,Var(42)%10 != [1,5]) && (Target,PrevStateNo != [150,159]) || (parent,FVar(7) = [1,39]) && (Target,Var(42)%10 != 1) && (Target,PrevStateNo = [150,159])
V = 35
Value = -Floor(100*parent,FVar(22))
IgnoreHitPause = 1

[State -2]
Type = parentVarAdd
TriggerAll = parent,Var(58) = 0
TriggerAll = RoundState = 2
Trigger1 = parent,Var(35) < 0
Trigger1 = parent,FVar(23) = 0
V = 2
Value = -1000
IgnoreHitPause = 1

[State -2]
Type = TargetState
TriggerAll = parent,Var(58) = 0
TriggerAll = RoundState = 2
Trigger1 = parent,Var(35) < 0
Trigger1 = parent,FVar(23) = 0
Trigger1 = EnemyNear(parent,Var(3)),StateNo = 150 || EnemyNear(parent,Var(3)),StateNo = 152 || EnemyNear(parent,Var(3)),StateNo = 154
Value = 5310
IgnoreHitPause = 1

[State -2]
Type = Helper
TriggerAll = parent,Var(58) = 0
TriggerAll = RoundState = 2
Trigger1 = NumHelper(5315) = 0
Trigger1 = parent,Var(35) < 0
Trigger1 = parent,FVar(23) = 0
Trigger1 = EnemyNear(Var(3)),StateNo = 5310
StateNo = 5315
PosType = P2
Pos = 0, 0
Ownpal = 1
ID = 5315
IgnoreHitPause = 1


[State -1]
Type = ChangeState
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= 0
IgnoreHitPause = 0
Value = 1503
Ctrl = 0





;------------------------------------------------------------------
;ナイフ斜め飛び-刺さり
[Statedef 1502]
Type    = S
MoveType= I
Physics = N
Juggle  = 0
Ctrl = 0
Anim = 1574
SprPriority = 5

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
trigger1 = vel y > 8
Value = 1575
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = turn
Trigger1 = Time = 0
trigger1 = vel y > 8
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = posadd
Trigger1 = Time = 0
trigger1 = vel y > 8
x = 8
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Helper
trigger1 = Time >= 1
trigger1 = rootdist x <= 12
trigger1 = rootdist x >= -12
trigger1 = numhelper(1590) = 0
StateNo = 1590
ID = 1590
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
BindTime = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = velset
Trigger1 = time >= 0
x = 0
y = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = posset
Trigger1 = time >= 0
y = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1000, 0]
type = Explod
trigger1 = time = 0
anim = 1579
ID = 1579
postype = p1
pos = 0,0
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1

[State -1]
Type = PlaySnd
trigger1 = time = 0
Value = s1579, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 1000, 0]
type = Explod
trigger1 = time = 10
anim = 1576 + teamside
ID = 1577
postype = p1
pos = 0,-15
scale = 0.5,0.5
facing = ifelse(facing= -1 ,-1,1)
bindtime = -1
removetime = -1
sprpriority = 3
ownpal = 1

[State 1000, 0]
type = RemoveExplod
Trigger1 = time >= 15
trigger1 = root,stateno = 1570
trigger1 = root,animelemtime(4) = 4
id = 1577
ignorehitpause = 1


[State -1]
Type = DestroySelf
Trigger1 = time >= 15
trigger1 = root,stateno = 1570
trigger1 = root,animelemtime(4) = 4
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



;------------------------------------------------------------------
;ナイフ-跳ね返り
[Statedef 1503]
Type    = S
MoveType= I
Physics = N
Juggle  = 0
Ctrl = 0
Anim = 1573
SprPriority = 5


[State 1000, 0]
type = Explod
trigger1 = time = 0
anim = 1579
ID = 1579
postype = p1
pos = 20,15
bindtime = 1
removetime = -2
sprpriority = 5
ownpal = 1
facing = -1


[State -1]
Type = PlaySnd
trigger1 = time = 0
Value = s1579, 1
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -1]
Type = velset
trigger1 = time = 0
trigger1 = parent,Var(57)/100%10 = 1 || parent,Var(57)/100%10 = 3
trigger2 = time = 0
trigger2 = prevstateno = 250006
x = -2.5
y = -10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = velset
trigger1 = time = 0
trigger1 = parent,Var(57)/100%10 = 2 || parent,Var(57)/100%10 = 4
trigger1 = prevstateno != 250006
x = (ParentDist X)/54
y = -10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = veladd
Trigger1 = time >= 1
y = .4
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = Helper
Triggerall = time%2 = 0
Triggerall = time >= 2
Trigger1 = Pos Y <= -vel y*2.5
StateNo = 1580
ID = 1580
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 4
BindTime = -1
IgnoreHitPause = 1
size.yscale = 0.8
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -2]
Type = Helper
Trigger1 = NumHelper(5605) = 0
Trigger1 = root,Var(25)/10%10 = 0
Trigger1 = root,Var(25)%10 = [0,3]
Trigger1 = NumTarget(5600) > 0
Trigger1 = Target(5600),Time = 1
Trigger1 = Target(5600),StateNo = 5602 || Target(5600),StateNo = 5603
StateNo = 5605
PosType = P1
Pos = 0, 0
Ownpal = 1
ID = 5605


[State -1]
Type = ChangeState
TriggerAll = root,Var(57)/100%10 = 2 || root,Var(57)/100%10 = 4
triggerall = root,stateno = 50 || root,stateno = 110 || root,stateno = 115
trigger1 = root,animelemtime(2) >= 2
trigger1 = rootdist x < 20
trigger1 = rootdist x > -20
trigger1 = rootdist y < 70
trigger1 = rootdist y > -40
Value = 150055
Ctrl = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
Trigger1 = (Vel Y > 0) && (Pos Y >= -10)
Value = 1504
Ctrl = 0





;------------------------------------------------------------------
;ナイフ空中キャッチ
[Statedef 150055]
Type    = S
MoveType= I
Physics = N
Juggle  = 0
Ctrl = 0
Anim = 1573
SprPriority = 5
id = 1505

[State -1]
Type = DestroySelf
trigger1 = time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


;------------------------------------------------------------------
;ナイフ跳ね返り-刺さり
[Statedef 1504]
Type    = S
MoveType= I
Physics = N
Juggle  = 0
Ctrl = 0
Anim = 1575
SprPriority = 5


[State 1000, 0]
type = Explod
trigger1 = time = 0
anim = 1579
ID = 1579
postype = p1
pos = 0,0
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1

[State -1]
Type = PlaySnd
trigger1 = time = 0
Value = s1579, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -2]
Type = Helper
trigger1 = Time >= 1
trigger1 = rootdist x <= 20
trigger1 = rootdist x >= -20
trigger1 = numhelper(1590) = 0
StateNo = 1590
ID = 1590
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
BindTime = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = velset
Trigger1 = time >= 0
x = 0
y = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = posset
Trigger1 = time >= 0
y = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1000, 0]
type = Explod
trigger1 = time = 10
anim = 1576 + teamside
ID = 1577
postype = p1
pos = 0,-15
scale = 0.5,0.5
facing = ifelse(facing= -1 ,-1,1)
bindtime = -1
removetime = -1
sprpriority = 3
ownpal = 1

[State 1000, 0]
type = RemoveExplod
Trigger1 = time >= 15
trigger1 = root,stateno = 1570
trigger1 = root,animelemtime(4) = 4
id = 1577
ignorehitpause = 1


[State -1]
Type = DestroySelf
Trigger1 = time >= 15
trigger1 = root,stateno = 1570
trigger1 = root,animelemtime(4) = 4
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



;------------------------------------------------------------------
;ナイフ-残像
[Statedef 1580]
Type    = S
MoveType= I
Physics = N
Juggle  = 0
Ctrl = 0
Anim = 1576
SprPriority = 4

[State 810, Bind 1]
type = trans
trigger1 = time >= 0
trans = add
IgnoreHitPause = 1

[State 3201, Angle 3]
type = Varset
trigger1 = Time = 0
fvar(1) = parent,vel x

[State 3201, Angle 3]
type = Varset
trigger1 = Time = 0
fvar(2) = parent,vel y

[State 3201, Angle 4]
type = Angleset
trigger1 = Time = 0
value = -180/pi * atan((parent,vel y) / (parent,vel x))

[State 3201, Facing]
type = AngleDraw
trigger1 = time >= 0
scale = (0.3+0.015*(((fvar(1)) * (fvar(1))) + ((fvar(2)) * (fvar(2))))),0.5
persistent = 1

[State -1]
Type = velset
Trigger1 = time >= 0
x = 0
y = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 1000, 0]
type = PalFX
trigger1 = time >= 0
time = 20
add = -256*time/15,-256*time/15,-256*time/15
ignorehitpause = 1
persistent = 1


[State -1]
Type = DestroySelf
trigger1 = animtime = 0
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



;------------------------------------------------------------------
;ナイフ-回収範囲内
[Statedef 1590]
Type    = S
MoveType= I
Physics = N
Juggle  = 0
Ctrl = 0
Anim = 1576
SprPriority = 4


[State -1]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
Flag2 = Invisible
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = DestroySelf
trigger1 = root,stateno = 1570
trigger1 = root,animelemtime(4) = 4
trigger2 = rootdist x > 20
trigger3 = rootdist x < -20
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


;---------------------------------------------------------------------------
;陰陽螺旋-弱（投げ）
[Statedef 1600]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1600
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s1600, ifelse(random <= 499,0,1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 1510,ReversalDef]
type = ReversalDef
trigger1 = AnimElem >= 3
attr = S,SA
reversal.attr = SC,NA,SA
sparkxy = 0,0
sparkno = s1650
pausetime = 8,8
hitsound = s10, 0
p1stateno = 1605
p2stateno = 1630


[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1


;---------------------------------------------------------------------------
;陰陽螺旋-中（投げ）
[Statedef 1610]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1605
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s1600, ifelse(random <= 499,0,1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 1510,ReversalDef]
type = ReversalDef
trigger1 = AnimElem >= 3
attr = S,SA
reversal.attr = SA,NA,SA
sparkxy = 0,0
sparkno = s1650
pausetime = 8,8
hitsound = s10, 0
p1stateno = 1605
p2stateno = 1630


[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1


;---------------------------------------------------------------------------
;陰陽螺旋-2
[Statedef 1605]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
PowerAdd  = 50
Sprpriority = 4

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = anim + 20

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Trigger1 = random <= 599
Value = s1800, 8
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 1
Pos = 0, 0

[State -1]
Type = Width
Trigger1 = AnimElem = 1
Edge = 30,5

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 2
Pos = -10, 0

[State -1]
Type = TargetLifeAdd
Trigger1 = AnimElem = 3
Value = -Ceil(FVar(0)/(1.00-(0.08*FVar(4)))*(140-Var(4)%2))


[State -1]
Type = TargetState
Trigger1 = AnimElemTime(3) = 0
Value = 1631
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = turn
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------

[Statedef 1630]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0
Sprpriority = 3

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = EnemyNear,Time <= 13
Trigger1 = Time = 0
Value = 5010

[State -1]
Type = ChangeAnim
Trigger1 = EnemyNear,Time >= 14
Trigger1 = Time = 0
Value = 5000

[State -1] 
Type = SelfState
Trigger1 = Time >= 10
Trigger1 = P2MoveType != A
Value = 5035



[Statedef 1631]
Type    = A
MoveType= H
Physics = N
VelSet = 6,-6
Sprpriority = 5

[State -1]
Type = Turn
Trigger1 = Time = 0

[State -1]
Type = NotHitBy
Trigger1 = Vel Y <= 4
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 0
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050

[State -1] ;これは重力これは毎フレーム事に0.4の力が加わります
Type = VelAdd
Trigger1 = 1
y = .4

[State -1] 
Type = SelfState
TriggerAll = Vel Y > 4
TriggerAll = Pos Y >= -20
TriggerAll = Alive
TriggerAll = CanRecover
Trigger1 = Command = "recovery" || Command = "a" || Command = "b" || Command = "c" || Command = "x" || Command = "y" || Command = "z"
Value = 5200

[State -1] 
Type = SelfState
TriggerAll = Vel Y > 4
TriggerAll = Alive
TriggerAll = CanRecover
Trigger1 = Command = "recovery" || Command = "a" || Command = "b" || Command = "c" || Command = "x" || Command = "y" || Command = "z"
Value = 5210 

[State -1] 
Type = HitFallSet
TriggerAll = Vel Y > 4
Trigger1 = 1
Value = 1 

[State -1] 
Type = SelfState
Trigger1 = Vel Y > 4
Trigger1 = Pos Y >= 0
Value = 5100 




;---------------------------------------------------------------------------
;陰陽螺鈿-弱（空かし）
[Statedef 1650]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1600
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s1600, ifelse(random <= 499,0,1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 1510,ReversalDef]
type = ReversalDef
trigger1 = AnimElem >= 3
attr = S,SA
reversal.attr = SC,NA,SA
sparkxy = 0,0
sparkno = s1650
pausetime = 8,8
hitsound = s10, 0
p1stateno = 1625
p2stateno = 1640


[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1


;---------------------------------------------------------------------------
;陰陽螺鈿-中（空かし）
[Statedef 1660]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
Anim      = 1605
PowerAdd  = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s1600, ifelse(random <= 499,0,1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 1510,ReversalDef]
type = ReversalDef
trigger1 = AnimElem >= 3
attr = S,SA
reversal.attr = SA,NA,SA
sparkxy = 0,0
sparkno = s1650
pausetime = 8,8
hitsound = s10, 0
p1stateno = 1625
p2stateno = 1640


[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1


;---------------------------------------------------------------------------
;陰陽螺鈿-2
[Statedef 1625]
Type      = S
MoveType  = A
Physics   = S
Ctrl      = 0
PowerAdd  = 50
Sprpriority = 4

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = anim + 10

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Trigger1 = random <= 599
Value = s1800, 5
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 1
Pos = 0, 0

[State -1]
Type = Width
Trigger1 = AnimElem = 1
Edge = 30,5

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 2
Pos = -5, 0


[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = 0,31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = turn
Trigger1 = AnimTime = 0
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = Ctrlset
Trigger1 = AnimelemTime(4) >= 2
value = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------

[Statedef 1640]
type    = S
physics = N  
movetype= H
ctrl = 0
velset = 0,0

[State 7102, 1]
type = posset
trigger1 = time = 1
trigger1 = p2stateno != [1600,1680]
y = 0 

[State 7102, 1]
type = SelfState
trigger1 = time = 1
trigger1 = p2stateno != [1600,1680]
value = 0 
ctrl = 1

[State 910, 1]
type = Changeanim2
trigger1 = time = 0
value = 1640

[State 910, 1]
type = turn
trigger1 = time = 10

[State 910, 2]
type = Velset
trigger1 = time = 10
x = -5.5

[State 910, 2]
type = posset
trigger1 = time = 0
y = 0

[State 910, 3]
type = Velmul
trigger1 = time >= 10
x = .86

[State 901, 4]
type = sprpriority
trigger1 = time > 10
value = 5


[State 910, 7]
type = Selfstate
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;転猫

[Statedef 1800]
type    = A
movetype= A
physics = N
anim = 1800
ctrl = 0

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
Trigger1 = Time = 0
StateNo = 8000
ID = 8000
PosType = P1
Pos = 0,-60
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State -1]
Type = VarSet
Trigger1 = Time = 0
sysvar(1) = 1

[State 5210, 1] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 19
add = 96,96,96 ;256,256,256
sinadd = 96,96,96,3

[State 5210, 1]
type = PosFreeze
trigger1 = Time = 0
value = 1

[State 5210, 2] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -20

[State 5210, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5210, 1] 
type = VelMul
trigger1 = Time = 1
x = .8
y = .8

[State 5210, 1]
type = VelAdd
trigger1 = Time = 1
y = -4.5

[State 5210, 1] 
type = VelMul
trigger1 = Time = 1
trigger1 = Vel Y > 0
y = .5

[State 5210, 1]
type = VelAdd
trigger1 = Time = 1
trigger1 = Vel Y > -3
y = -2

[State 5210, 1]
type = VelAdd
trigger1 = Time = 1
trigger1 = Vel Y > -2
y = -1

[State 5210, 2] ;Go up
type = VelSet
TriggerAll = Var(59) <= 0
trigger1 = Time = 1
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
y = -5.4

[State 5210, 2] ;Go fwd
type = VelSet
TriggerAll = Var(59) <= 0
trigger1 = Time = 1
trigger1 = Command = "holdfwd"
x = 2.6
y = -8.4

[State 5210, 2] ;Go back
type = VelSet
TriggerAll = Var(59) <= 0
trigger1 = Time = 1
trigger1 = Command = "holdback"
x = -2.6
y = -8.4

[State -1, AI]
type = VelSet
TriggerAll = Var(59) > 0
triggerAll = Time = 1
trigger1 = P2BodyDist X != [-60,60]
Trigger1 = Var(58) = [0,59]
Trigger2 = EnemyNear,MoveType != A
trigger2 = P2BodyDist X = [-60,60]
Trigger2 = Var(58) = [0,59]
Trigger3 = EnemyNear,MoveType = A
trigger3 = P2BodyDist X = [-60,60]
Trigger3 = Var(58) = [0,19]
y = -5.4

[State -1, AI]
type = VelSet
TriggerAll = Var(59) > 0
triggerAll = Time = 1
trigger1 = P2BodyDist X != [-80,80]
Trigger1 = Var(58) = [60,69]
Trigger2 = EnemyNear,MoveType != A
trigger2 = P2BodyDist X = [-80,80]
Trigger2 = Var(58) = [60,69]
Trigger3 = EnemyNear,MoveType = A
trigger3 = P2BodyDist X = [-80,80]
Trigger3 = Var(58) = [20,89]
x = 2.6
y = -8.4

[State -1, AI]
type = VelSet
TriggerAll = Var(59) > 0
triggerAll = Time = 1
trigger1 = P2BodyDist X != [-80,80]
Trigger1 = Var(58) = [70,99]
Trigger2 = EnemyNear,MoveType != A
trigger2 = P2BodyDist X = [-80,80]
Trigger2 = Var(58) = [70,99]
Trigger3 = EnemyNear,MoveType = A
trigger3 = P2BodyDist X = [-80,80]
Trigger3 = Var(58) = [90,99]
x = -2.6
y = -8.4

[State 5210, 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 19

[State 5210, 4]
type = CtrlSet
trigger1 = animelemTime(9) >= 0
value = 1

[State 5210, 5]
type = StateTypeSet
trigger1 = Time = 1
Physics  = A




[State -1]
Type = PlaySnd
trigger1 = var(1) = 0
Trigger1 = AnimElem = 7
Value = s1800, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
trigger1 = var(1) = 1
Trigger1 = AnimElem = 7
Value = s1800, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
trigger1 = var(1) = 2
Trigger1 = AnimElem = 7
Value = s1800, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s30, 4
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State -1]
Type = Explod
Trigger1 = AnimElem = 7
ID = 1805
PosType = P1
Pos = 35,-35
Anim = 1805
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1


[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 7
Attr = A, NA
Damage = Ceil(FVar(0)*(110-Var(4)%2))
HitFlag = MAF
GuardFlag = HA
Priority = 3, Hit
PauseTime = 10,10+10*IfElse(Var(38)>0,1,0)+Var(41)
Guard.PauseTime = 10,10
HitSound = s20, 0
GuardSound = s120,0
SparkXY = -Random%20, -30-Random%20
SparkNo = -1
Guard.SparkNo = -1
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Ground.Velocity = -5
Guard.Velocity = -7
Air.Velocity = -1.5*Var(50),IfElse(Var(50)=1,-7.4,FVar(25))
AirGuard.Velocity = -3,-1.4
Down.Velocity = -3.2,-2.5
Ground.CornerPush.VelOff = -6
Air.CornerPush.VelOff = -2.5*Var(50)
Down.CornerPush.VelOff = -5.2
YAccel = .48
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(parent,FVar(30)*30), Ceil(0.85*parent,FVar(30)*30)
GivePower = Floor(parent,FVar(31)*30), Floor(0.50*parent,FVar(31)*30)
id = 5600
p2facing = 1
Down.Bounce = 1


[State 1450]
type = targetstate
trigger1 = animelemtime(5) >= 0
trigger1 = movehit
value = 5600
IgnoreHitPause = 1
Persistent = 1


[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1



[State 5210, 5] ;Land on ground
type = ChangeState
trigger1 = Time > 1
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMP_LAND
ctrl = 1




