; ヒットスパーク  打撃
[Statedef 6000]
SprPriority = 5
Anim = 6001

[State ]
Type = Turn
Trigger1 = Time = 0

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 6000
Anim = 6000
PosType = P1
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6001
StateNo = 6001
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0
ID = 6001
StateNo = 6001
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PosAdd
Trigger1 = Time = 0
X = Random%6*Cond(Random%2=0,1,-1)
Y = Random%6*Cond(Random%2=0,1,-1)

[State ]
Type = AngleDraw
Trigger1 = 1
Scale = 1.10-Time*0.05,1.10-Time*0.05

[State ]
Type = VelSet
Trigger1 = Time = 0
X = 0.00+(Random%81*Cond(Random%2=0,1,-1))/10
Y = 0.00+(Random%61+20)/10

[State ]
Type = PosSet
Trigger1 = Vel Y + Pos Y >= 0
Y = 0

[State ]
Type = VelSet
Trigger1 = Pos Y >= 0
Y = 0

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 6001
PosType = P1
Random = 20,20
Vel = 0.00+(Random%81*Cond(Random%2=0,1,-1))/10,(-Random%61-20)/10
Anim = 6001
RemoveTime = 21
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6001
PosType = P1
Random = 20,20
Vel = 0.00+(Random%81*Cond(Random%2=0,1,-1))/10,(-Random%61-20)/10
Anim = 6001
RemoveTime = 21
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ModifyExplod
Trigger1 = 1
ID = 6001
Scale = 1.10-Time*0.05,1.10-Time*0.05

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow

[State ]
Type = DestroySelf
Trigger1 = Time = 21

;---------------------------------------------------------------------------
; ヒットスパーク  玉
[Statedef 6001]
SprPriority = 5
Anim = 6001

[State ]
Type = PosAdd
Trigger1 = Time = 0
X = Random%6*Cond(Random%2=0,1,-1)
Y = Random%6*Cond(Random%2=0,1,-1)

[State ]
Type = AngleDraw
Trigger1 = 1
Scale = 1.10-Time*0.05,1.10-Time*0.05

[State ]
Type = VelSet
Trigger1 = Time = 0
X = 0.00+(Random%81*Cond(Random%2=0,1,-1))/10
Y = 0.00+((Random%61+20)*Cond(Random%2=0,1,-1))/10

[State ]
Type = PosSet
Trigger1 = Vel Y + Pos Y >= 0
Y = 0

[State ]
Type = VelSet
Trigger1 = Pos Y >= 0
Y = 0

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow

[State ]
Type = DestroySelf
Trigger1 = Time = 21

;---------------------------------------------------------------------------
; ヒットスパーク  斬撃
[Statedef 6010]
SprPriority = 5
Anim = 6010

[State ]
Type = Turn
Trigger1 = Time = 0

[State ]
Type = PosAdd
Trigger1 = Time = 0
X = Random%6*Cond(Random%2=0,1,-1)
Y = Random%6*Cond(Random%2=0,1,-1)

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 6011
Anim = 6011
PosType = P1
Scale = 1.0+Cond(IsHelper(6011),1,0),1.0+Cond(IsHelper(6011),1,0)
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6001
StateNo = 6001
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0
ID = 6001
StateNo = 6001
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0
ID = 6001
StateNo = 6001
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 6001
PosType = P1
Random = 20,20
Vel = 0.00+(Random%81*Cond(Random%2=0,1,-1))/10,(-Random%61-20)/10
Anim = 6001
RemoveTime = 21
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6001
PosType = P1
Random = 20,20
Vel = 0.00+(Random%81*Cond(Random%2=0,1,-1))/10,(-Random%61-20)/10
Anim = 6001
RemoveTime = 21
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ModifyExplod
Trigger1 = 1
ID = 6001
Scale = 1.10-Time*0.05,1.10-Time*0.05

[State ]
Type = Explod
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6012
PosType = P1
Random = 10,10
Anim = 6012+Random%3
Facing = Cond(Random%2=0,1,-1)
Ownpal = 1
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow

[State ]
Type = DestroySelf
Trigger1 = Time = 22

;---------------------------------------------------------------------------
; ヒットスパーク  斬撃2
[Statedef 6011]
SprPriority = 5
Anim = 6011

[State ]
Type = Turn
Trigger1 = Time = 0

[State ]
Type = PosAdd
Trigger1 = Time = 0
X = Random%6*Cond(Random%2=0,1,-1)
Y = Random%6*Cond(Random%2=0,1,-1)

[State ]
Type = Explod
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6012
PosType = P1
Random = 10,10
Anim = 6012+Random%3
Facing = Cond(Random%2=0,1,-1)
Ownpal = 1
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow

[State ]
Type = DestroySelf
Trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; ヒットスパーク  必殺技
[Statedef 6020]
SprPriority = 5
Anim = 114

[State ]
Type = Turn
Trigger1 = Time = 0

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 6020
Anim = 6020
PosType = P1
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PosAdd
Trigger1 = Time = 0
X = Random%6*Cond(Random%2=0,1,-1)
Y = Random%6*Cond(Random%2=0,1,-1)

[State ]
Type = AngleDraw
Trigger1 = 1
Scale = 1.00-Time*0.03,1.00-Time*0.03

[State ]
Type = VelSet
Trigger1 = Time = 0
X = 0.00+(Random%81*Cond(Random%2=0,1,-1))/10
Y = 0.00+((Random%61+20)*Cond(Random%2=0,1,-1))/10

[State ]
Type = PosSet
Trigger1 = Vel Y + Pos Y >= 0
Y = 0

[State ]
Type = VelSet
Trigger1 = Pos Y >= 0
Y = 0

[State ]
Type = AfterImage
Trigger1 = Time = 0
Time = 30
Trans = Add
FrameGap = 1
Length   = 8
PalContrast = 80 , 80 , 256
PalAdd = -32 , -32 , -32
PalMul = 1 , 1 , 1

[State ]
Type = Helper
Trigger1 = Time = 0
ID = 6021
StateNo = 6021
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6021
StateNo = 6021
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow

[State ]
Type = DestroySelf
Trigger1 = Time = 30

;---------------------------------------------------------------------------
; ヒットスパーク 必殺技 玉
[Statedef 6021]
SprPriority = 5
Anim = 114

[State ]
Type = PosAdd
Trigger1 = Time = 0
X = Random%6*Cond(Random%2=0,1,-1)
Y = Random%6*Cond(Random%2=0,1,-1)

[State ]
Type = AngleDraw
Trigger1 = 1
Scale = 1.00-Time*0.03,1.00-Time*0.03

[State ]
Type = VelSet
Trigger1 = Time = 0
X = 0.00+(Random%81*Cond(Random%2=0,1,-1))/10
Y = 0.00+((Random%61+20)*Cond(Random%2=0,1,-1))/10

[State ]
Type = PosSet
Trigger1 = Vel Y + Pos Y >= 0
Y = 0

[State ]
Type = VelSet
Trigger1 = Pos Y >= 0
Y = 0

[State ]
Type = AfterImage
Trigger1 = Time = 0
Time = 30
Trans = Add
FrameGap = 1
Length   = 8
PalContrast = 80 , 80 , 256
PalAdd = -32 , -32 , -32
PalMul = 1 , 1 , 1

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow

[State ]
Type = DestroySelf
Trigger1 = Time = 30

;---------------------------------------------------------------------------
; ヒットスパーク  必殺技＋打撃
[Statedef 6030]
SprPriority = 5
Anim = 114

[State ]
Type = Turn
Trigger1 = Time = 0

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 6000
Anim = 6000
PosType = P1
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 6020
Anim = 6020
PosType = P1
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PosAdd
Trigger1 = Time = 0
X = Random%6*Cond(Random%2=0,1,-1)
Y = Random%6*Cond(Random%2=0,1,-1)

[State ]
Type = AngleDraw
Trigger1 = 1
Scale = 1.00-Time*0.03,1.00-Time*0.03

[State ]
Type = VelSet
Trigger1 = Time = 0
X = 0.00+(Random%81*Cond(Random%2=0,1,-1))/10
Y = 0.00+((Random%61+20)*Cond(Random%2=0,1,-1))/10

[State ]
Type = PosSet
Trigger1 = Vel Y + Pos Y >= 0
Y = 0

[State ]
Type = VelSet
Trigger1 = Pos Y >= 0
Y = 0

[State ]
Type = AfterImage
Trigger1 = Time = 0
Time = 30
Trans = Add
FrameGap = 1
Length   = 8
PalContrast = 80 , 80 , 256
PalAdd = -32 , -32 , -32
PalMul = 1 , 1 , 1

[State ]
Type = Helper
Trigger1 = Time = 0
ID = 6021
StateNo = 6021
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6021
StateNo = 6021
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6001
StateNo = 6001
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0
ID = 6001
StateNo = 6001
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 6001
PosType = P1
Random = 20,20
Vel = 0.00+(Random%81*Cond(Random%2=0,1,-1))/10,(-Random%61-20)/10
Anim = 6001
RemoveTime = 21
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 6001
PosType = P1
Random = 20,20
Vel = 0.00+(Random%81*Cond(Random%2=0,1,-1))/10,(-Random%61-20)/10
Anim = 6001
RemoveTime = 21
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6001
PosType = P1
Random = 20,20
Vel = 0.00+(Random%81*Cond(Random%2=0,1,-1))/10,(-Random%61-20)/10
Anim = 6001
RemoveTime = 21
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ModifyExplod
Trigger1 = 1
ID = 6001
Scale = 1.10-Time*0.05,1.10-Time*0.05

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow

[State ]
Type = DestroySelf
Trigger1 = Time = 30

;---------------------------------------------------------------------------
; ヒットスパーク  必殺技＋斬撃
[Statedef 6040]
SprPriority = 5
Anim = 114

[State ]
Type = Turn
Trigger1 = Time = 0

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 6020
Anim = 6020
PosType = P1
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 6010
Anim = 6010
PosType = P1
RemoveTime = 12
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 6011
Anim = 6011
PosType = P1
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PosAdd
Trigger1 = Time = 0
X = Random%6*Cond(Random%2=0,1,-1)
Y = Random%6*Cond(Random%2=0,1,-1)

[State ]
Type = AngleDraw
Trigger1 = 1
Scale = 1.00-Time*0.03,1.00-Time*0.03

[State ]
Type = VelSet
Trigger1 = Time = 0
X = 0.00+(Random%81*Cond(Random%2=0,1,-1))/10
Y = 0.00+((Random%61+20)*Cond(Random%2=0,1,-1))/10

[State ]
Type = PosSet
Trigger1 = Vel Y + Pos Y >= 0
Y = 0

[State ]
Type = VelSet
Trigger1 = Pos Y >= 0
Y = 0

[State ]
Type = AfterImage
Trigger1 = Time = 0
Time = 30
Trans = Add
FrameGap = 1
Length   = 8
PalContrast = 80 , 80 , 256
PalAdd = -32 , -32 , -32
PalMul = 1 , 1 , 1

[State ]
Type = Helper
Trigger1 = Time = 0
ID = 6021
StateNo = 6021
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6021
StateNo = 6021
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6001
StateNo = 6001
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0
ID = 6001
StateNo = 6001
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 6001
PosType = P1
Random = 20,20
Vel = 0.00+(Random%81*Cond(Random%2=0,1,-1))/10,(-Random%61-20)/10
Anim = 6001
RemoveTime = 21
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 6001
PosType = P1
Random = 20,20
Vel = 0.00+(Random%81*Cond(Random%2=0,1,-1))/10,(-Random%61-20)/10
Anim = 6001
RemoveTime = 21
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6001
PosType = P1
Random = 20,20
Vel = 0.00+(Random%81*Cond(Random%2=0,1,-1))/10,(-Random%61-20)/10
Anim = 6001
RemoveTime = 21
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ModifyExplod
Trigger1 = 1
ID = 6001
Scale = 1.10-Time*0.05,1.10-Time*0.05

[State ]
Type = Explod
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6012
PosType = P1
Random = 10,10
Anim = 6012+Random%3
Facing = Cond(Random%2=0,1,-1)
Ownpal = 1
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow

[State ]
Type = DestroySelf
Trigger1 = Time = 30

;---------------------------------------------------------------------------
; ヒットスパーク  打撃＋斬撃
[Statedef 6050]
SprPriority = 5
Anim = 6010

[State ]
Type = Turn
Trigger1 = Time = 0

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 6000
Anim = 6000
PosType = P1
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PosAdd
Trigger1 = Time = 0
X = Random%6*Cond(Random%2=0,1,-1)
Y = Random%6*Cond(Random%2=0,1,-1)

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 6011
Anim = 6011
PosType = P1
Scale = 1.0+Cond(IsHelper(6011),1,0),1.0+Cond(IsHelper(6011),1,0)
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6001
StateNo = 6001
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0
ID = 6001
StateNo = 6001
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0
ID = 6001
StateNo = 6001
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 6001
PosType = P1
Random = 20,20
Vel = 0.00+(Random%81*Cond(Random%2=0,1,-1))/10,(-Random%61-20)/10
Anim = 6001
RemoveTime = 21
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6001
PosType = P1
Random = 20,20
Vel = 0.00+(Random%81*Cond(Random%2=0,1,-1))/10,(-Random%61-20)/10
Anim = 6001
RemoveTime = 21
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ModifyExplod
Trigger1 = 1
ID = 6001
Scale = 1.10-Time*0.05,1.10-Time*0.05

[State ]
Type = Explod
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6012
PosType = P1
Random = 10,10
Anim = 6012+Random%3
Facing = Cond(Random%2=0,1,-1)
Ownpal = 1
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow

[State ]
Type = DestroySelf
Trigger1 = Time = 22

;---------------------------------------------------------------------------
; ガードスパーク
[Statedef 6100]
SprPriority = 5
Anim = 6101

[State ]
Type = Turn
Trigger1 = IsHelper(6100)
Trigger1 = Time = 0

[State ]
Type = Explod
Trigger1 = IsHelper(6100)
Trigger1 = Time = 0
ID = 6100
Anim = 6100
PosType = P1
SprPriority = 5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PosAdd
Trigger1 = Time = 0
X = Random%11*Cond(Random%2=0,1,-1)
Y = Random%11*Cond(Random%2=0,1,-1)

[State ]
Type = Trans
Trigger1 = 1
Trans = Add
Alpha = 128-Time*2,256

[State ]
Type = AngleDraw
Trigger1 = 1
Scale = 0.35-Time*0.01,0.35-Time*0.01

[State ]
Type = VelSet
Trigger1 = Time = 0
X = 0.00+(Random%81-30)/10
Y = 0.00+Random%51*Cond(Random%2=0,1,-1)/10

[State ]
Type = VelAdd
Trigger1 = Time > 0
X = .25

[State ]
Type = AfterImage
Trigger1 = Time = 0
Time = 40
Trans = Add
FrameGap = 1
Length   = 8
PalContrast = 80 , 80 , 256
PalAdd = -32 , -32 , -32
PalMul = 1 , 1 , 1

[State ]
Type = Helper
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
Trigger1 = IsHelper(6100)
ID = 6101
StateNo = 6100
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
Trigger1 = IsHelper(6100)
ID = 6101
StateNo = 6100
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
Trigger1 = IsHelper(6100)
ID = 6101
StateNo = 6100
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
Trigger1 = IsHelper(6100)
ID = 6101
StateNo = 6100
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = IsHelper(6100)
Trigger1 = Time = 0
ID = 6101
StateNo = 6100
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = IsHelper(6100)
Trigger1 = Time = 0
ID = 6101
StateNo = 6100
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow

[State ]
Type = DestroySelf
Trigger1 = Time = 26

;---------------------------------------------------------------------------
; BPAエフェクト
[StateDef 6500]
Anim = 10030
SprPriority = 5

[State ]
Type = Trans
Trigger1 = 1
Trans = Add

[State ]
Type = VarAdd
Trigger1 = Time = [1,25]
FV  = 1
Value = -0.08

[State ]
Type = VarAdd
Trigger1 = Time = [1,16]
FV = 2
Value = 0.3

[State ]
Type = AngleDraw
Trigger1 = 1
Scale = 2.00+FVar(1),2.00+FVar(1)

[State ]
Type = VarAdd
Trigger1 = Time = [60,75]
V = 3
Value = 16

[State ]
Type = BGPalFX
Trigger1 = Time = [0,75]
Add = -255+Var(3),-255+Var(3),-255+Var(3)
Time = 1

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s10, 2

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s2000, 0

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 10020
Anim = 10020
PosType = P1
SprPriority = 4
BindTime = -1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 10010
Anim = 10010
PosType = P1
SprPriority = 4
BindTime = -1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = ModifyExplod
Trigger1 = 1
ID = 10010
Scale = 0.30+FVar(2),0.30+FVar(2)

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 10000
Anim = 10000
PosType = Back 
Pos = 0,Ceil(ScreenHeight/2+120)
Scale = 0.5,0.5
SprPriority = -10
BindTime = -1
RemoveTime = 75
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 10000
Anim = 10000
PosType = Back 
Pos = 320,Ceil(ScreenHeight/2+120)
Scale = 0.5,0.5
SprPriority = -10
BindTime = -1
RemoveTime = 75
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = ModifyExplod
Trigger1 = Time >= 59
ID = 10000
Trans = Add
Alpha = 256-Var(3),256

[State ]
Type = Explod
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
Trigger1 = IsHelper(10001)
ID = 10005
Anim = 10005
Pos = 0,Ceil(ScreenHeight/2+120)
PosType = Back
SprPriority = -9
BindTime = -1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
Flag2 = NoFG

[State ]
Type = DestroySelf
Trigger1 = Time = 75

;---------------------------------------------------------------------------
; BPAエフェクト
[StateDef 6510]
Anim = 10030
SprPriority = 5

[State ]
Type = Trans
Trigger1 = 1
Trans = Add

[State ]
Type = VarAdd
Trigger1 = Time = [1,25]
FV  = 1
Value = -0.08

[State ]
Type = VarAdd
Trigger1 = Time = [1,16]
FV = 2
Value = 0.3

[State ]
Type = AngleDraw
Trigger1 = 1
Scale = 2.00+FVar(1),2.00+FVar(1)

[State ]
Type = VarAdd
Trigger1 = Time = [105,120]
V = 3
Value = 16

[State ]
Type = BGPalFX
Trigger1 = 1
Add = -255+Var(3),-255+Var(3),-255+Var(3)
Time = 1

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s10, 2

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s2000, 0

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 10020
Anim = 10020
PosType = P1
SprPriority = 4
BindTime = -1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 10010
Anim = 10010
PosType = P1
SprPriority = 4
BindTime = -1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = ModifyExplod
Trigger1 = 1
ID = 10010
Scale = 0.30+FVar(2),0.30+FVar(2)

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 10000
Anim = 10000
PosType = Back 
Pos = 0,Ceil(ScreenHeight/2+120)
Scale = 0.5,0.5
SprPriority = -10
BindTime = -1
RemoveTime = -1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 10000
Anim = 10000
PosType = Back 
Pos = 320,Ceil(ScreenHeight/2+120)
Scale = 0.5,0.5
SprPriority = -10
BindTime = -1
RemoveTime = -1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = ModifyExplod
Trigger1 = Time >= 104
ID = 10000
Trans = Add
Alpha = 256-Var(3),256

[State ]
Type = RemoveExplod
Trigger1 = Var(3) = 256
ID = 10000

[State ]
Type = Explod
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
Trigger1 = IsHelper(10001)
ID = 10005
Anim = 10005
Pos = 0,Ceil(ScreenHeight/2+120)
PosType = Back
SprPriority = -9
BindTime = -1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
Flag2 = NoFG

[State ]
Type = RemoveExplod
Trigger1 = Time >= 120
Trigger2 = Parent,StateNo = 3001

[State ]
Type = DestroySelf
Trigger1 = Time >= 120
Trigger2 = Parent,StateNo = 3001

;---------------------------------------------------------------------------
; BPAエフェクト
[StateDef 6520]
Anim = 9999
SprPriority = 5

[State ]
Type = BGPalFX
Trigger1 = 1
Add = -255,-255,-255
Time = 1

[State ]
Type = Explod
Trigger1 = Time = 1
ID = 10000
Anim = 10000
PosType = Back 
Pos = 0,Ceil(ScreenHeight/2+120)
Scale = 0.5,0.5
SprPriority = -10
BindTime = -1
RemoveTime = -1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = Explod
Trigger1 = Time = 1
ID = 10000
Anim = 10000
PosType = Back 
Pos = 320,Ceil(ScreenHeight/2+120)
Scale = 0.5,0.5
SprPriority = -10
BindTime = -1
RemoveTime = -1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = RemoveExplod
Trigger1 = Parent,StateNo = 3001
Trigger1 = Parent,AnimElem = 22, = 1

[State ]
Type = DestroySelf
Trigger1 = Parent,StateNo = 3001
Trigger1 = Parent,AnimElem = 22, = 1

;---------------------------------------------------------------------------
; BBBエフェクト
[StateDef 6600]
Anim = 705
SprPriority = 5

[State ]
Type = VarAdd
Trigger1 = Time = [120,150]
V = 3
Value = 8

[State ]
Type = VarAdd
Trigger1 = Time = [1,32]
FV = 1
Value = 0.05

[State ]
Type = VarAdd
Trigger1 = Time = [1,16]
FV = 2
Value = 0.3

[State ]
Type = BGPalFX
Trigger1 = Time = [0,150]
Add = -255+Var(3),-255+Var(3),-255+Var(3)
Time = 1

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s900, 0

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 10010
Anim = 10010
PosType = P1
SprPriority = 4
BindTime = -1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = ModifyExplod
Trigger1 = 1
ID = 10010
Scale = 0.30+FVar(2),0.30+FVar(2)

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 20000
Anim = 20000
PosType = Back 
Pos = 160,Ceil(ScreenHeight/2)
SprPriority = -9
BindTime = -1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = ModifyExplod
Trigger1 = 1
ID = 20000
Scale = 1.00+FVar(1),1.00+FVar(1)

[State ]
Type = Explod
Trigger1 = Time = 14
ID = 20010
Anim = 20010
Pos = 0,Ceil(ScreenHeight/2+120)
PosType = Back
SprPriority = -10
Trans = Add
Alpha = 256-Var(3),256
BindTime = -1
RemoveTime = 136
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = ModifyExplod
Trigger1 = Time >= 14
ID = 20010
Trans = Add
Alpha = 256-Var(3),256

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 20020
Anim = 20020
PosType = P1
SprPriority = 5
BindTime = -1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 20020
Anim = 20020
PosType = P1
Facing = -1
SprPriority = 5
BindTime = -1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = Helper
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6021
StateNo = 6021
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6021
StateNo = 6021
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6021
StateNo = 6021
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = VarRandom
Trigger1 = Time = [6,16]
V = 4
Range = -60,60
Persistent = 2

[State ]
Type = Explod
Trigger1 = Root,Var(0)%10 = 0
Trigger1 = Time = [6,16]
ID = 6001+Time-6
Anim = 6001
PosType = P1 
Pos = 30+Cond(Time<6,0,(Time-6)*15),-10
Random = 10,10
Facing = Cond(Random%2=0,1,-1)
Vel = 0.00+Var(4)/10,0.00+(Random%51-20)/10
Accel = Cond(Var(4)>=0,-.1,.1),-.1
SprPriority = 5
RemoveTime = 40
Persistent = 2
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = Explod
Trigger1 = Root,Var(0)%10 = 0
Trigger1 = Time = [6,16]
ID = 6001+Time-6
Anim = 6001
PosType = P1 
Pos = -30-Cond(Time<6,0,(Time-6)*15),-10
Random = 10,10
Facing = Cond(Random%2=0,1,-1)
Vel = 0.00+Var(4)/10,0.00+(Random%51-20)/10
Accel = Cond(Var(4)>=0,-.1,.1),-.1
SprPriority = 5
RemoveTime = 40
Persistent = 2
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = ModifyExplod
Trigger1 = Time >= 6
ID = 6001
Scale = 0.5-(Time-6)*0.01,0.5-(Time-6)*0.01

[State ]
Type = ModifyExplod
Trigger1 = Time >= 8
ID = 6003
Scale = 0.5-(Time-8)*0.01,0.5-(Time-8)*0.01

[State ]
Type = ModifyExplod
Trigger1 = Time >= 10
ID = 6005
Scale = 0.5-(Time-10)*0.01,0.5-(Time-10)*0.01

[State ]
Type = ModifyExplod
Trigger1 = Time >= 12
ID = 6007
Scale = 0.5-(Time-12)*0.01,0.5-(Time-12)*0.01

[State ]
Type = ModifyExplod
Trigger1 = Time >= 14
ID = 6009
Scale = 0.5-(Time-14)*0.01,0.5-(Time-14)*0.01

[State ]
Type = ModifyExplod
Trigger1 = Time >= 16
ID = 6011
Scale = 0.5-(Time-16)*0.01,0.5-(Time-16)*0.01

[State ]
Type = AssertSpecial
Trigger1 = Time <= 26
Flag = Noshadow

[State ]
Type = AssertSpecial
Trigger1 = Time > 26
Flag = Noshadow
Flag2 = Invisible
Flag3 = NoFG

[State ]
Type = DestroySelf
Trigger1 = Time = 150

;---------------------------------------------------------------------------
; BBBエフェクト2
[StateDef 6610]
Anim = 705
SprPriority = 5

[State ]
Type = VarAdd
Trigger1 = Time = [1,32]
FV = 1
Value = 0.05

[State ]
Type = VarAdd
Trigger1 = Time = [1,16]
FV = 2
Value = 0.3

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s900, 0

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 10010
Anim = 10010
PosType = P1
SprPriority = 4
BindTime = -1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = ModifyExplod
Trigger1 = 1
ID = 10010
Scale = 0.30+FVar(2),0.30+FVar(2)

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 20020
Anim = 20020
PosType = P1
SprPriority = 5
BindTime = -1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = Explod
Trigger1 = Time = 0
ID = 20020
Anim = 20020
PosType = P1
Facing = -1
SprPriority = 5
BindTime = -1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = Helper
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6021
StateNo = 6021
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6021
StateNo = 6021
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 0 && Root,Var(0)%10 = 0
ID = 6021
StateNo = 6021
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = VarRandom
Trigger1 = Time = [6,16]
V = 4
Range = -60,60
Persistent = 2

[State ]
Type = Explod
Trigger1 = Root,Var(0)%10 = 0
Trigger1 = Time = [6,16]
ID = 6001+Time-6
Anim = 6001
PosType = P1 
Pos = 30+Cond(Time<6,0,(Time-6)*15),-10
Random = 10,10
Facing = Cond(Random%2=0,1,-1)
Vel = 0.00+Var(4)/10,0.00+(Random%51-20)/10
Accel = Cond(Var(4)>=0,-.1,.1),-.1
SprPriority = 5
RemoveTime = 40
Persistent = 2
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = Explod
Trigger1 = Root,Var(0)%10 = 0
Trigger1 = Time = [6,16]
ID = 6001+Time-6
Anim = 6001
PosType = P1 
Pos = -30-Cond(Time<6,0,(Time-6)*15),-10
Random = 10,10
Facing = Cond(Random%2=0,1,-1)
Vel = 0.00+Var(4)/10,0.00+(Random%51-20)/10
Accel = Cond(Var(4)>=0,-.1,.1),-.1
SprPriority = 5
RemoveTime = 40
Persistent = 2
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State ]
Type = ModifyExplod
Trigger1 = Time >= 6
ID = 6001
Scale = 0.5-(Time-6)*0.01,0.5-(Time-6)*0.01

[State ]
Type = ModifyExplod
Trigger1 = Time >= 8
ID = 6003
Scale = 0.5-(Time-8)*0.01,0.5-(Time-8)*0.01

[State ]
Type = ModifyExplod
Trigger1 = Time >= 10
ID = 6005
Scale = 0.5-(Time-10)*0.01,0.5-(Time-10)*0.01

[State ]
Type = ModifyExplod
Trigger1 = Time >= 12
ID = 6007
Scale = 0.5-(Time-12)*0.01,0.5-(Time-12)*0.01

[State ]
Type = ModifyExplod
Trigger1 = Time >= 14
ID = 6009
Scale = 0.5-(Time-14)*0.01,0.5-(Time-14)*0.01

[State ]
Type = ModifyExplod
Trigger1 = Time >= 16
ID = 6011
Scale = 0.5-(Time-16)*0.01,0.5-(Time-16)*0.01

[State ]
Type = AssertSpecial
Trigger1 = Time <= 26
Flag = Noshadow

[State ]
Type = AssertSpecial
Trigger1 = Time > 26
Flag = Noshadow
Flag2 = Invisible

[State ]
Type = DestroySelf
Trigger1 = Time = 56

;---------------------------------------------------------------------------
; 空中ダッシュヘルパー
[Statedef 114]
SprPriority = 5
Anim = 114

[State ]
Type = Turn
Trigger1 = Time = 0
Trigger1 = IsHelper(115)

[State ]
Type = Explod
Trigger1 = Time = 0
Trigger1 = IsHelper(114) || IsHelper(115)
ID = 113
PosType = P1
Pos = -35,70
Anim = 113
SprPriority = 4

[State ]
Type = PosAdd
Trigger1 = Time = 0
X = Random%11*Cond(Random%2=0,1,-1)
Y = Random%11*Cond(Random%2=0,1,-1)

[State ]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 0,359

[State ]
Type = AngleDraw
Trigger1 = 1
Value = Var(3)
Scale = 1.00-Time*0.03,1.00-Time*0.03

[State ]
Type = VelSet
Trigger1 = Time = 0
X = -2.00+(Random%81-80)/10
Y = 0.00+Random%41*Cond(Random%2=0,1,-1)/10

[State ]
Type = AfterImage
Trigger1 = Time = 0
Time = 30
Trans = Add
FrameGap = 1
Length   = 8
PalContrast = 80 , 80 , 256
PalAdd = -32 , -32 , -32
PalMul = 1 , 1 , 1

[State ]
Type = Helper
Trigger1 = Time = 0
Trigger1 = IsHelper(114) || IsHelper(115)
ID = 116
StateNo = 114

[State ]
Type = Helper
Trigger1 = Time = 0
Trigger1 = IsHelper(114) || IsHelper(115)
ID = 116
StateNo = 114

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow

[State ]
Type = DestroySelf
Trigger1 = Time = 30

;---------------------------------------------------------------------------
;特殊やられ演出ヘルパー
[Statedef 5605]
Anim = 9999

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s5100, 0

[State ]
Type = Explod
Trigger1 = IsHelper(5605)
Trigger1 = Time = 0
Anim = 15600
ID = 15600
Postype = P2
Pos = -10,EnemyNear(Root,Var(57)),Const(Size.Mid.Pos.Y)
Ownpal = 1
SprPriority = 4

[State ]
Type = Explod
Trigger1 = IsHelper(5705)
Trigger1 = Time = 0
Anim = 15100
ID = 15100
Postype = P2
Ownpal = 1
SprPriority = 4

[State ]
Type = Explod
Trigger1 = IsHelper(5705)
Trigger1 = Time = 0
Anim = 10040
ID = 10040
Postype = P2
Ownpal = 1
SprPriority = 3

[State ]
Type = DestroySelf
Trigger1 = Time = 1

;---------------------------------------------------------------------------
;部分無敵ヘルパー
[Statedef 9500]
Anim = Cond(IsHelper(9500),9500,9501)

[State ]
Type = BindToParent
Trigger1 = 1

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = -1

[State ]
Type = PlayerPush
Trigger1 = 1
Value = 1

[State ]
Type = DestroySelf
Trigger1 = AnimTime = 0
Trigger2 = Parent,MoveType = H

[State ]
Type = DestroySelf
Trigger1 = IsHelper(9500)
Trigger1 = Parent,StateNo != 230

[State ]
Type = DestroySelf
Trigger1 = IsHelper(9501)
Trigger1 = Parent,StateNo != 1110

;---------------------------------------------------------------------------
; イントロヘルパー
[Statedef 185]
Type = A
Anim = 905
SprPriority = 4

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = PalFX
Trigger1 = Time = 0
Color = 0
Time = 9999

[State ]
Type = Explod
Trigger1 = Time = 1
ID = 906
Anim = 906
PosType = P1
SprPriority = 5

[State ]
Type = Explod
Trigger1 = Time >= 30
ID = 906
Anim = 906
PosType = P1
SprPriority = 5
Persistent = 10

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow

;---------------------------------------------------------------------------
; イントロヘルパー
[Statedef 186]
Type = A
Anim = 1005
SprPriority = 4

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = AngleDraw
Trigger1 = 1

[State ]
Type = AngleAdd
Trigger1 = Time > 0
Value = 30

[State ]
Type = PlaySnd
Trigger1 = IsHelper(186)
Value = s40, 2
Channel = 5
Persistent = 10

[State ]
Type = PlaySnd
Trigger1 = IsHelper(187)
Trigger1 = Time >= 3
Value = s40, 2
Channel = 5
Persistent = 10

[State ]
Type = VelSet
Trigger1 = IsHelper(186)
Trigger1 = Time = [1,8]
X = -8
Y = -8

[State ]
Type = VelSet
Trigger1 = IsHelper(186)
Trigger1 = Time = 9
X = -4
Y = -4

[State ]
Type = VelSet
Trigger1 = IsHelper(186)
Trigger1 = Time = 10
X = -3
Y = -3

[State ]
Type = VelSet
Trigger1 = IsHelper(186)
Trigger1 = Time = 11
X = -2
Y = -2

[State ]
Type = VelSet
Trigger1 = IsHelper(186)
Trigger1 = Time = 12
X = -1
Y = -1

[State ]
Type = VelSet
Trigger1 = IsHelper(186)
Trigger1 = Time = 13
X = -0.5
Y = -0.5

[State ]
Type = VelSet
Trigger1 = IsHelper(187)
Trigger1 = Time = [1,8]
X = 8
Y = -8

[State ]
Type = VelSet
Trigger1 = IsHelper(187)
Trigger1 = Time = 9
X = 4
Y = -4

[State ]
Type = VelSet
Trigger1 = IsHelper(187)
Trigger1 = Time = 10
X = 3
Y = -3

[State ]
Type = VelSet
Trigger1 = IsHelper(187)
Trigger1 = Time = 11
X = 2
Y = -2

[State ]
Type = VelSet
Trigger1 = IsHelper(187)
Trigger1 = Time = 12
X = 1
Y = -1

[State ]
Type = VelSet
Trigger1 = IsHelper(187)
Trigger1 = Time = 13
X = 0.5
Y = -0.5

[State ]
Type = VelSet
Trigger1 = IsHelper(188)
Trigger1 = Time = [1,8]
X = -12
Y = -4

[State ]
Type = VelSet
Trigger1 = IsHelper(188)
Trigger1 = Time = 9
X = -6
Y = -3

[State ]
Type = VelSet
Trigger1 = IsHelper(188)
Trigger1 = Time = 10
X = -4
Y = -2

[State ]
Type = VelSet
Trigger1 = IsHelper(188)
Trigger1 = Time = 11
X = -3
Y = -1.5

[State ]
Type = VelSet
Trigger1 = IsHelper(188)
Trigger1 = Time = 12
X = -2
Y = -1

[State ]
Type = VelSet
Trigger1 = IsHelper(188)
Trigger1 = Time = 13
X = -1
Y = -0.5

[State ]
Type = VelSet
Trigger1 = IsHelper(189)
Trigger1 = Time = [1,8]
X = 12
Y = -4

[State ]
Type = VelSet
Trigger1 = IsHelper(189)
Trigger1 = Time = 9
X = 6
Y = -3

[State ]
Type = VelSet
Trigger1 = IsHelper(189)
Trigger1 = Time = 10
X = 4
Y = -2

[State ]
Type = VelSet
Trigger1 = IsHelper(189)
Trigger1 = Time = 11
X = 3
Y = -1.5

[State ]
Type = VelSet
Trigger1 = IsHelper(189)
Trigger1 = Time = 12
X = 2
Y = -1

[State ]
Type = VelSet
Trigger1 = IsHelper(189)
Trigger1 = Time = 13
X = 1
Y = -0.5

[State ]
Type = VelSet
Trigger1 = IsHelper(190)
Trigger1 = Time = [1,8]
X = -4
Y = -10

[State ]
Type = VelSet
Trigger1 = IsHelper(190)
Trigger1 = Time = 9
X = -3
Y = -5

[State ]
Type = VelSet
Trigger1 = IsHelper(190)
Trigger1 = Time = 10
X = -2
Y = -4

[State ]
Type = VelSet
Trigger1 = IsHelper(190)
Trigger1 = Time = 11
X = -1.5
Y = -3

[State ]
Type = VelSet
Trigger1 = IsHelper(190)
Trigger1 = Time = 12
X = -1
Y = -2

[State ]
Type = VelSet
Trigger1 = IsHelper(190)
Trigger1 = Time = 13
X = -0.5
Y = -1

[State ]
Type = VelSet
Trigger1 = IsHelper(191)
Trigger1 = Time = [1,8]
X = 4
Y = -10

[State ]
Type = VelSet
Trigger1 = IsHelper(191)
Trigger1 = Time = 9
X = 3
Y = -5

[State ]
Type = VelSet
Trigger1 = IsHelper(191)
Trigger1 = Time = 10
X = 2
Y = -4

[State ]
Type = VelSet
Trigger1 = IsHelper(191)
Trigger1 = Time = 11
X = 1.5
Y = -3

[State ]
Type = VelSet
Trigger1 = IsHelper(191)
Trigger1 = Time = 12
X = 1
Y = -2

[State ]
Type = VelSet
Trigger1 = IsHelper(191)
Trigger1 = Time = 13
X = 0.5
Y = -1

[State ]
Type = VelSet
Trigger1 = IsHelper(192)
Trigger1 = Time = [1,8]
Y = -12

[State ]
Type = VelSet
Trigger1 = IsHelper(192)
Trigger1 = Time = 9
Y = -6

[State ]
Type = VelSet
Trigger1 = IsHelper(192)
Trigger1 = Time = 10
Y = -4

[State ]
Type = VelSet
Trigger1 = IsHelper(192)
Trigger1 = Time = 11
Y = -3

[State ]
Type = VelSet
Trigger1 = IsHelper(192)
Trigger1 = Time = 12
Y = -2

[State ]
Type = VelSet
Trigger1 = IsHelper(192)
Trigger1 = Time = 13
Y = -1

[State ]
Type = VelSet
Trigger1 = Time = 14
X = 0
Y = 0

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow

[State ]
Type = DestroySelf
Trigger1 = Time = 300

;---------------------------------------------------------------------------
; ブービートラップ成功ヘルパー
[Statedef 242]
Type = A
SprPriority = -5
Anim = 241

[State ]
Type = BindToParent
Trigger1 = 1

[State ]
Type = AfterImage
Trigger1 = Time = 0
Time = 10
Trans = Add
FrameGap = 1
Length   = 20
PalContrast = 50 , 50 , 256
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
Flag2 = Invisible

[State ]
Type = DestroySelf
Trigger1 = Time = 10

;---------------------------------------------------------------------------
; 5Hヘルパー
[Statedef 225]
Type = A
MoveType = A
SprPriority = 4
Anim = 225

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = VelSet
Trigger1 = Time > 0
X = 12

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = Time > 0
Attr = S, NP
Damage = Ceil(Parent,FVar(0)*(45-Parent,Var(5)%2))
Priority  = 2, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 9+Cond(Parent,Var(38)=1,5,0)
Ground.HitTime  = 9+Cond(Parent,Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 9
SprPriority = 5
Ground.Velocity = -4*Parent,FVar(4)
Air.Velocity = -1*Parent,FVar(4),-4
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 26
GetPower = Ceil(60*Parent,Var(39)*0.1), 0
GivePower = Ceil(60*(10-Parent,Var(39))*0.1), 0

[State ]
Type = HitDef
Trigger1 = Parent,Var(25) = 4

[State ]
Type = ParentVarSet
Trigger1 = MoveContact = 1
FV = 7
Value = 0
IgnoreHitPause = 1

[State ]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1 && Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6010
ID = 6010
PosType = P2
Pos = Cond(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 6100
ID = 6100
PosType = P2
Pos = 0,0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Parent,Var(47) = 15
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = Parent,Var(47) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228

[State ]
Type = DestroySelf
Trigger1 = MoveHit = 1
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; ナイフ消滅ヘルパー
[Statedef 226]
Type = A
SprPriority = 2
Anim = 1005

[State ]
Type = Turn
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 1226
IgnoreHitPause = 1

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = Trans
Trigger1 = 1
Trans = Add
Alpha = 256-Time*10,256
IgnoreHitPause = 1

[State ]
Type = AngleDraw
Trigger1 = 1
IgnoreHitPause = 1

[State ]
Type = AngleAdd
Trigger1 = 1
Value = -50
IgnoreHitPause = 1

[State ]
Type = VelSet
Trigger1 = Time = 0
X = -1.50+(0.00+Random%11*Cond(Random%2=0,1,-1))/10
Y = -5.00+(0.00+Random%11*Cond(Random%2=0,1,-1))/10

[State ]
Type = VelAdd
Trigger1 = Time > 0
Y = .4

[State ]
Type = DestroySelf
Trigger1 = Time = 25

;---------------------------------------------------------------------------
; ナイフ設置ヘルパー
[Statedef 227]
Type = A
VelSet = 0,0
SprPriority = 3

[State ]
Type = ChangeState
Trigger1 = Root,Var(47) = 15
Trigger1 = Time = 0
Value = 226
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = Root,Var(47) < 15 && Time = 0
Trigger1 = Root,Cond(1,Var(47):=Var(47)+1,0)
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ChangeAnim
Trigger1 = Time = 0
Value = 2005+Random%5

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s2006, 1
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = PosSet
Trigger1 = Time = 0
Y = 0

[State ]
Type = ChangeState
Trigger1 = Root,StateNo = 2000
Trigger1 = Root,AnimElem = 5
Value = 2005

;---------------------------------------------------------------------------
; ナイフ反射ヘルパー
[Statedef 228]
Type = A
SprPriority = 2
Anim = 1005

[State ]
Type = Turn
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 1226
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s2006, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = AngleDraw
Trigger1 = 1
IgnoreHitPause = 1

[State ]
Type = AngleAdd
Trigger1 = 1
Value = -30
IgnoreHitPause = 1

[State ]
Type = VelSet
Trigger1 = Time = 0
X = -2.00+(0.00+Random%11*Cond(Random%2=0,1,-1))/10
Y = -6.00+(0.00+Random%11*Cond(Random%2=0,1,-1))/10

[State ]
Type = VelAdd
Trigger1 = Time > 0
Y = .4

[State ]
Type = ChangeState
Trigger1 = Pos Y >= 0
Value = 227

;---------------------------------------------------------------------------
; 2Hヘルパー
[Statedef 425]
Type = A
MoveType = A
SprPriority = 4
Anim = 425+IsHelper(426)

[State ]
Type = AngleDraw
Trigger1 = 1
Value = 30+(IsHelper(426))*30
IgnoreHitPause = 1

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = VelSet
Trigger1 = Time > 0
X = 9-(IsHelper(426))*2
Y = -7-(IsHelper(426))*2

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = IsHelper(425) && Time > 0
Attr = A, NP
Damage = Ceil(Parent,FVar(0)*(30-Parent,Var(5)%2))
Priority  = 2, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 9+Cond(Parent,Var(38)=1,5,0)
Ground.HitTime  = 9+Cond(Parent,Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 9
SprPriority = 5
Ground.Velocity = -4*Parent,FVar(4)
Air.Velocity = -1*Parent,FVar(4),-4
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 26
GetPower = Ceil(60*Parent,Var(39)*0.1), 0
GivePower = Ceil(60*(10-Parent,Var(39))*0.1), 0

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = IsHelper(426) && Time > 0
Attr = A, NP
Damage = Ceil(Parent,FVar(0)*(45-Parent,Var(5)%2))
Priority  = 2, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 9+Cond(Parent,Var(38)=1,5,0)
Ground.HitTime  = 9+Cond(Parent,Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 9
SprPriority = 5
Ground.Velocity = -4*Parent,FVar(4)
Air.Velocity = -1*Parent,FVar(4),-4
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 26
GetPower = Ceil(60*Parent,Var(39)*0.1), 0
GivePower = Ceil(60*(10-Parent,Var(39))*0.1), 0

[State ]
Type = HitDef
Trigger1 = Parent,Var(25) = 4

[State ]
Type = ParentVarSet
Trigger1 = MoveContact = 1
FV = 7
Value = 0
IgnoreHitPause = 1

[State ]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1 && Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6010
ID = 6010
PosType = P2
Pos = Cond(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 6100
ID = 6100
PosType = P2
Pos = 0,0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = IsHelper(425) && Parent,Var(47) = 15
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = IsHelper(425) && Parent,Var(47) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228

[State ]
Type = DestroySelf
Trigger1 = MoveHit = 1
Trigger2 = IsHelper(426) && Time > 1
Trigger2 = FrontEdgeDist <= -40
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; JHヘルパー
[Statedef 625]
Type = A
MoveType = A
SprPriority = 4
Anim = 625

[State ]
Type = AngleDraw
Trigger1 = 1
Value = -45
IgnoreHitPause = 1

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = VelSet
Trigger1 = Time > 0
X = 7
Y = 9

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = Time > 0
Attr = A, NP
Damage = Ceil(Parent,FVar(0)*(45-Parent,Var(5)%2))
Priority  = 2, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 9
Ground.HitTime  = 9
SprPriority = 5
Ground.Velocity = -1*Parent,FVar(4),-4
Guard.Velocity = -4
Air.Velocity = -1*Parent,FVar(4),-4
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 26
GetPower = Ceil(60*Parent,Var(39)*0.1), 0
GivePower = Ceil(60*(10-Parent,Var(39))*0.1), 0

[State ]
Type = HitDef
Trigger1 = Parent,Var(25) = 4

[State ]
Type = ParentVarSet
Trigger1 = MoveContact = 1
FV = 7
Value = 0
IgnoreHitPause = 1

[State ]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1 && Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6010
ID = 6010
PosType = P2
Pos = Cond(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 6100
ID = 6100
PosType = P2
Pos = 0,0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ChangeState
Trigger1 = Parent,Var(47) >= 15
Trigger1 = Pos Y >= 0
Value = 226

[State ]
Type = ChangeState
Trigger1 = Parent,Var(47) < 15
Trigger1 = Pos Y >= 0
Value = 227

[State ]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Parent,Var(47) = 15
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = Parent,Var(47) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228

[State ]
Type = DestroySelf
Trigger1 = MoveHit = 1
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; バインディングヘルパー
[Statedef 1005]
Type = A
MoveType = A
SprPriority = 4
Anim = 1005

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = ChangeAnim
Trigger1 = Time = 10
Value = 1006

[State ]
Type = VarAdd
Trigger1 = Time = [1,9]
FV = 1
Value = -0.1

[State ]
Type = VarAdd
Trigger1 = Time >= 1
V = 3
Value = 25

[State ]
Type = Trans
Trigger1 = Time = [0,9]
Trans = Add
Alpha = 256-Var(3),256

[State ]
Type = Trans
Trigger1 = Time >= 10
Trans = Add
IgnoreHitPause = 1

[State ]
Type = AngleDraw
Trigger1 = Time = [0,9]
Scale = 1.50+FVar(1),1.50+FVar(1)

[State ]
Type = AngleDraw
Trigger1 = Time >= 10
Scale = 0.50,0.50
IgnoreHitPause = 1

[State ]
Type = AngleAdd
Trigger1 = Time = [0,9]
Value = -20

[State ]
Type = AngleSet
Trigger1 = Time = 10
Value = 0
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = P2MoveType = H
Trigger1 = P2StateNo = [1015,1016]
Trigger1 = Time >= 10
Attr = S, ST
Damage = Ceil(Parent,FVar(0)*(30-Parent,Var(5)%2))
Priority  = 1, Miss
AnimType  = Light
HitFlag = MAF
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 11
Ground.HitTime  = 11
SprPriority = 5
Ground.Velocity = -1.5*Parent,FVar(4),-4
Air.Velocity = -1.5*Parent,FVar(4),-4
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 24
GetPower = 0, 0
GivePower = 0, 0

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = P2StateNo != [1015,1016]
Trigger1 = Time >= 10
Attr = S, ST
Damage = Ceil(Parent,FVar(0)*(30-Parent,Var(5)%2))
Priority  = 1, Miss
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 11
Ground.HitTime  = 11+Cond(P2StateType=C,1,0)
Guard.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,FVar(4)
Air.Velocity = -2*Parent,FVar(4),-6.5
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
ID = 1000
P2StateNo = 1015
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 1
GetPower = 0, 0
GivePower = 0, 0

[State ]
Type = HitDef
Trigger1 = Parent,Var(25) = 4

[State ]
Type = ParentVarSet
Trigger1 = MoveContact = 1
FV = 7
Value = 0
IgnoreHitPause = 1

[State ]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6010
ID = 6010
PosType = P2
Pos = Cond(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 6100
ID = 6100
PosType = P2
Pos = 0,0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = AssertSpecial
Trigger1 = Time >= 10
Flag = Noshadow
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Parent,StateNo = 1000
Trigger1 = Parent,AnimElem = 4
V = 5
Value = 1

[State ]
Type = ChangeState
Trigger1 = MoveHit = 1
Value = 1006

[State ]
Type = DestroySelf
Trigger1 = Time = 540
Trigger2 = Var(5) = 1
IgnoreHitPause = 1

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 1026
ID = 1026
PosType = P2
Pos = 0,-50
Facing = Cond(Random%2=0,1,-1)
Ownpal = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 1026
ID = 1026
PosType = P2
Pos = 0,-50
Facing = Cond(Random%2=0,1,-1)
Ownpal = 1
Persistent = 0

[State ]
Type = AttackDist
Trigger1 = 1
Value = 75

[State ]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Value = 1025

;---------------------------------------------------------------------------
; バインディングヘルパー2
[Statedef 1006]
Type = A
MoveType = A
SprPriority = 4

[State ]
Type = Trans
Trigger1 = Anim = 1006
Trans = Add

[State ]
Type = AngleDraw
Trigger1 = Anim = 1006
Scale = 0.50,0.50

[State ]
Type = ParentVarAdd
Trigger1 = Parent,Var(4) = 0 && Parent,FVar(1) = 1.00
Trigger1 = Time = 0
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 0 && Parent,FVar(1) = 1.00
Trigger1 = Time = 0
FV = 1
Value = 0.30
IgnoreHitPause = 1

[State ]
Type = ChangeAnim
Trigger1 = Anim = 1006
Trigger1 = AnimTime = 0
Value = 1007

[State ]
Type = TargetState
Trigger1 = NumTarget(1000) > 0
Trigger1 = Time < 89
Value = 1015

[State ]
Type = TargetState
Trigger1 = NumTarget(1000) > 0
Trigger1 = Time = 89
Value = 1016

[State ]
Type = VarRandom
Trigger1 = Time = 0
V = 3
Range = 0,1
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(3) = 0
Trigger1 = Time = 0
Value = s241, 0
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Var(3) = 1
Trigger1 = Time = 0
Value = s1005, 0
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Time = 1
ID = 1008
PosType = P2
Pos = 0,-50
Anim = 1008
Ownpal = 1
SprPriority = 6

[State ]
Type = RemoveExplod
Trigger1 = NumTarget(1000) = 0
ID = 1008

[State ]
Type = EnvShake
Trigger1 = Time = 1
Time  = 12
Ampl  = 4
Freq  = 90

[State ]
Type = PlaySnd
Trigger1 = Time = [1,11]
Value = s20, 1
IgnoreHitPause = 1
Persistent = 2

[State ]
Type = Helper
Trigger1 = Time = 1
StateNo = 6011
ID = 6011
PosType = P2
Pos = 10,-85
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 3
StateNo = 6011
ID = 6011
PosType = P2
Pos = -10,-75
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 5
StateNo = 6011
ID = 6011
PosType = P2
Pos = 10,-65
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 7
StateNo = 6011
ID = 6011
PosType = P2
Pos = -10,-55
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 9
StateNo = 6011
ID = 6011
PosType = P2
Pos = 10,-45
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Time = 11
StateNo = 6011
ID = 6011
PosType = P2
Pos = -10,-35
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Time = 89
Trigger2 = NumTarget > 0
Trigger2 = Target,StateNo != 1015
Anim = 1020
ID = 1020
PosType = P2
Pos = 0,-60
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = Root,Var(47) < 13
Trigger1 = Time = 89
StateNo = 1025
ID = 1025
PosType = P2
Pos = 0,-50
Facing = Cond(Random%2=0,1,-1)
Ownpal = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = Root,Var(47) < 13
Trigger1 = Time = 89
StateNo = 1025
ID = 1025
PosType = P2
Pos = 0,-50
Facing = Cond(Random%2=0,1,-1)
Ownpal = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = Time <= 88
Trigger1 = NumTarget > 0
Trigger1 = Target,StateNo != 1015
Trigger2 = Root,Var(47) >= 13
Trigger2 = Time = 89
StateNo = 1026
ID = 1026
PosType = P2
Pos = 0,-50
Facing = Cond(Random%2=0,1,-1)
Ownpal = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = Time <= 88
Trigger1 = NumTarget > 0
Trigger1 = Target,StateNo != 1015
Trigger2 = Root,Var(47) >= 13
Trigger2 = Time = 89
StateNo = 1026
ID = 1026
PosType = P2
Pos = 0,-50
Facing = Cond(Random%2=0,1,-1)
Ownpal = 1
Persistent = 0

[State ]
Type = PosSet
Trigger1 = Time = 89
Trigger2 = NumTarget > 0
Trigger2 = Target,StateNo != 1015
X = Ceil(EnemyNear(Root,Var(57)),Pos X)
IgnoreHitPause = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = Time = 90
Trigger2 = NumTarget > 0
Trigger2 = Target,StateNo != 1015
Value = 1025

;---------------------------------------------------------------------------
; バインディングヘルパー3
[Statedef 1015]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State ]
Type = PosSet
Trigger1 = Pos Y >= -9
Y = -10
Persistent = 0

[State ]
Type = HitFallSet
Trigger1 = 1
Value = 0

[State ]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1

[State ]
Type = PlayerPush
Trigger1 = 1
Value = 0

[State ]
Type = ChangeAnim
Trigger1 = 1
Value = 5010

[State ]
Type = SelfState
Trigger1 = Time >= 10
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
; バインディングヘルパー4
[Statedef 1016]
Type    = A
MoveType= H
Physics = N
VelSet = -1.5,-4

[State ]
Type = ChangeAnim
Trigger1 = Time = 0
Value = 5030

[State ]
Type = ChangeAnim
Trigger1 = (Anim = [5030,5035]) && AnimTime = 0
Value = Cond(Anim=5035||!SelfAnimExist(5035),5050,5035)

[State ]
Type = VelAdd
Trigger1 = Time >= 1
Y = .42

[State ]
Type = HitFallSet
Trigger1 = Vel Y > 3
Value = 1

[State ]
Type = SelfState
TriggerAll = Vel Y > 3
TriggerAll = Alive && CanRecover
Trigger1 = Command = "recovery" || Command = "a" || Command = "b" || Command = "c" || Command = "x" || Command = "y" || Command = "z"
Value = 5210

[State ]
Type = SelfState
Trigger1 = (Vel Y > 0) && (Pos Y >= 0)
Value = 5100
Ctrl = 0

;---------------------------------------------------------------------------
; バインディングナイフヘルパー
[Statedef 1025]
Type = A
SprPriority = 2
Anim = 1005

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = AngleDraw
Trigger1 = 1

[State ]
Type = AngleAdd
Trigger1 = 1
Value = -30
IgnoreHitPause = 1

[State ]
Type = VelSet
Trigger1 = Time = 0
X = -2.00+(0.00+Random%21*Cond(Random%2=0,1,-1))/10
Y = -5.00+(0.00+Random%21*Cond(Random%2=0,1,-1))/10

[State ]
Type = VelAdd
Trigger1 = Time > 0
Y = .4

[State ]
Type = ChangeState
Trigger1 = Pos Y >= 0
Value = 227

;---------------------------------------------------------------------------
; バインディングナイフ消滅ヘルパー
[Statedef 1026]
Type = A
SprPriority = 2
Anim = 1005

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s2006, 0

[State ]
Type = Trans
Trigger1 = 1
Trans = Add
Alpha = 256-Time*8,256

[State ]
Type = AngleDraw
Trigger1 = 1

[State ]
Type = AngleAdd
Trigger1 = 1
Value = -50

[State ]
Type = VelSet
Trigger1 = Time = 0
X = -3.00+(0.00+Random%21*Cond(Random%2=0,1,-1))/10
Y = -6.00+(0.00+Random%21*Cond(Random%2=0,1,-1))/10

[State ]
Type = VelAdd
Trigger1 = Time > 0
Y = .45

[State ]
Type = DestroySelf
Trigger1 = Time = 32

;---------------------------------------------------------------------------
; ハンティングヘルパー
[Statedef 1115]
Type = A
SprPriority = 4
Anim = 1005

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = VarAdd
Trigger1 = Time >= 12
V = 3
Value = 6

[State ]
Type = Trans
Trigger1 = Time >= 11
Trans = Add
Alpha = 256-Var(3),256

[State ]
Type = AngleDraw
Trigger1 = 1

[State ]
Type = AngleAdd
Trigger1 = Time <= 11
Value = -70

[State ]
Type = AngleAdd
Trigger1 = Time > 12
Value = -35

[State ]
Type = AngleSet
Trigger1 = IsHelper(1115)
Trigger1 = Time = 11
Value = 30

[State ]
Type = VelSet
Trigger1 = IsHelper(1115)
Trigger1 = Time = 12
X = -2
Y = -6

[State ]
Type = VelSet
Trigger1 = IsHelper(1116)
Trigger1 = Time = 12
X = 3.5
Y = -6

[State ]
Type = VelAdd
Trigger1 = Time > 13
Y = .35

[State ]
Type = PosAdd
Trigger1 = IsHelper(1115)
Trigger1 = Time = 1
X = 15
Y = -5

[State ]
Type = PosAdd
Trigger1 = IsHelper(1116)
Trigger1 = Time = 1
X = -20
Y = 8

[State ]
Type = PosAdd
Trigger1 = IsHelper(1115)
Trigger1 = Time = 2
X = 25
Y = 0

[State ]
Type = PosAdd
Trigger1 = IsHelper(1116)
Trigger1 = Time = 2
X = -10
Y = 5

[State ]
Type = PosAdd
Trigger1 = IsHelper(1115)
Trigger1 = Time = 3
X = 10
Y = 5

[State ]
Type = PosAdd
Trigger1 = IsHelper(1116)
Trigger1 = Time = 3
X = -20
Y = 0

[State ]
Type = PosAdd
Trigger1 = IsHelper(1115)
Trigger1 = Time = 4
X = 15
Y = 5

[State ]
Type = PosAdd
Trigger1 = IsHelper(1116)
Trigger1 = Time = 4
X = 0
Y = -10

[State ]
Type = PosAdd
Trigger1 = IsHelper(1115)
Trigger1 = Time = 5
X = 15
Y = 15

[State ]
Type = PosAdd
Trigger1 = IsHelper(1116)
Trigger1 = Time = 5
X = 0
Y = -5

[State ]
Type = PosAdd
Trigger1 = IsHelper(1115)
Trigger1 = Time = 6
X = 5
Y = 15

[State ]
Type = PosAdd
Trigger1 = IsHelper(1116)
Trigger1 = Time = 6
X = 5
Y = -15

[State ]
Type = PosAdd
Trigger1 = IsHelper(1115)
Trigger1 = Time = 7
X = 4
Y = 20

[State ]
Type = PosAdd
Trigger1 = IsHelper(1116)
Trigger1 = Time = 7
X = 5
Y = -20

[State ]
Type = PosAdd
Trigger1 = IsHelper(1115)
Trigger1 = Time = 8
X = -5
Y = 15

[State ]
Type = PosAdd
Trigger1 = IsHelper(1116)
Trigger1 = Time = 8
X = 10
Y = -10

[State ]
Type = PosAdd
Trigger1 = IsHelper(1115)
Trigger1 = Time = 9
X = -5
Y = 10

[State ]
Type = PosAdd
Trigger1 = IsHelper(1116)
Trigger1 = Time = 9
X = 15
Y = -10

[State ]
Type = PosAdd
Trigger1 = IsHelper(1115)
Trigger1 = Time = 10
X = -5
Y = 15

[State ]
Type = PosAdd
Trigger1 = IsHelper(1116)
Trigger1 = Time = 10
X = 15
Y = -5

[State ]
Type = PosAdd
Trigger1 = IsHelper(1115)
Trigger1 = Time = 11
X = -70
Y = -25

[State ]
Type = PosAdd
Trigger1 = IsHelper(1116)
Trigger1 = Time = 11
X = 15
Y = 5

[State ]
Type = Helper
Trigger1 = Time = 1
StateNo = 1116
ID = 1116

[State ]
Type = Helper
Trigger1 = Time = 3
StateNo = 1116
ID = 1117

[State ]
Type = Helper
Trigger1 = Time = 5
StateNo = 1116
ID = 1118

[State ]
Type = Helper
Trigger1 = Time = 7
StateNo = 1116
ID = 1119

[State ]
Type = Helper
Trigger1 = Time = 9
StateNo = 1116
ID = 1120

[State ]
Type = AssertSpecial
Trigger1 = Time >= 11
Flag = Noshadow

[State ]
Type = DestroySelf
Trigger1 = Time = 64

;---------------------------------------------------------------------------
; ハンティングヘルパー2
[Statedef 1116]
Type = A
SprPriority = 4
Anim = 1005

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = Trans
Trigger1 = 1
Trans = Add
Alpha = 128-Time*16,256

[State ]
Type = AngleDraw
Trigger1 = 1

[State ]
Type = AngleSet
Trigger1 = IsHelper(1116)
Value = -140

[State ]
Type = AngleSet
Trigger1 = IsHelper(1117)
Value = -280

[State ]
Type = AngleSet
Trigger1 = IsHelper(1118)
Value = -420

[State ]
Type = AngleSet
Trigger1 = IsHelper(1119)
Value = -560

[State ]
Type = AngleSet
Trigger1 = IsHelper(1120)
Value = -700

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow

[State ]
Type = DestroySelf
Trigger1 = Time = 9

;---------------------------------------------------------------------------
; トリックナイフLヘルパー
[Statedef 1205]
Type = A
MoveType = A
Anim = 1205
SprPriority = 4

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = AngleDraw
Trigger1 = 1
IgnoreHitPause = 1

[State ]
Type = AngleAdd
Trigger1 = Time = [0,74]
Value = -50

[State ]
Type = AngleSet
Trigger1 = Time = 75
Value = -20
IgnoreHitPause = 1

[State ]
Type = VelSet
Trigger1 = Time = 0
X = 0
Y = -20

[State ]
Type = VelSet
Trigger1 = Time = 4
X = -1.4
Y = -3

[State ]
Type = VelAdd
Trigger1 = Time = [5,74]
Y = .125

[State ]
Type = VelSet
Trigger1 = Time = 75
X = 12
Y = 6

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s30, 5
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 75
Value = s40, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = Time >= 75
Attr = S, SP
Damage = Ceil(Parent,FVar(0)*(35-Parent,Var(5)%2))
Priority  = 2, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 11+Cond(Parent,Var(38)=1,5,0)
Ground.HitTime  = 11+Cond(Parent,Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,FVar(4)
Air.Velocity = -1*Parent,FVar(4),-4
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 26
GetPower = Ceil(140*Parent,Var(39)*0.1), 0
GivePower = Ceil(140*(10-Parent,Var(39))*0.1), 0

[State ]
Type = HitDef
Trigger1 = Parent,Var(25) = 4

[State ]
Type = ParentVarSet
Trigger1 = MoveContact = 1
FV = 7
Value = 0
IgnoreHitPause = 1

[State ]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1 && Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6010
ID = 6010
PosType = P2
Pos = Cond(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 6100
ID = 6100
PosType = P2
Pos = 0,0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Value = 226
IgnoreHitPause = 1

[State ]
Type = DestroySelf
TriggerAll = Time >= 75
Trigger1 = FrontEdgeDist <= -40
Trigger2 = MoveHit = 1
IgnoreHitPause = 1

[State ]
Type = ChangeState
TriggerAll = Time >= 75
Trigger1 = Pos Y >= -5
Value = 1206

;---------------------------------------------------------------------------
; トリックナイフLヘルパー2
[Statedef 1206]
Type = A
MoveType = A
Anim = 1206
SprPriority = 4

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = AngleDraw
Trigger1 = 1
Value = 20
IgnoreHitPause = 1

[State ]
Type = PosSet
Trigger1 = Time = 0
Y = -5

[State ]
Type = VelSet
Trigger1 = Time = 0
X = 12
Y = -6

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s2006, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = Time >= 0
Attr = S, SP
Damage = Ceil(Parent,FVar(0)*(45-Parent,Var(5)%2))
Priority  = 2, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 11+Cond(Parent,Var(38)=1,5,0)
Ground.HitTime  = 11+Cond(Parent,Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,FVar(4)
Air.Velocity = -1*Parent,FVar(4),-4
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 26
GetPower = Ceil(140*Parent,Var(39)*0.1), 0
GivePower = Ceil(140*(10-Parent,Var(39))*0.1), 0

[State ]
Type = HitDef
Trigger1 = Parent,Var(25) = 4

[State ]
Type = ParentVarSet
Trigger1 = MoveContact = 1
FV = 7
Value = 0
IgnoreHitPause = 1

[State ]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1 && Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6010
ID = 6010
PosType = P2
Pos = Cond(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 6100
ID = 6100
PosType = P2
Pos = 0,0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Parent,Var(47) = 15
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = Parent,Var(47) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228

[State ]
Type = DestroySelf
Trigger1 = MoveHit = 1
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; トリックナイフMヘルパー
[Statedef 1215]
Type = A
MoveType = A
Anim = 1215
SprPriority = 4

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = AngleDraw
Trigger1 = 1
IgnoreHitPause = 1

[State ]
Type = AngleAdd
Trigger1 = Time = [7,37]
Value = -50
IgnoreHitPause = 1

[State ]
Type = AngleSet
Trigger1 = Time = 0
Value = 50
IgnoreHitPause = 1

[State ]
Type = AngleSet
Trigger1 = Time = 38
Value = -70
IgnoreHitPause = 1

[State ]
Type = VelSet
Trigger1 = Time = 0
X = 8
Y = -16

[State ]
Type = VelSet
Trigger1 = Time = 7
X = -1.2
Y = -3.5

[State ]
Type = VelAdd
Trigger1 = Time = [8,37]
X = .1
Y = .2

[State ]
Type = VelSet
Trigger1 = Time = 38
X = 6
Y = 13

[State ]
Type = PlaySnd
Trigger1 = Time = 7
Value = s30, 5
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 38
Value = s40, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = Time = [0,7]
Attr = S, SP
Damage = Ceil(Parent,FVar(0)*(45-Parent,Var(5)%2))
Priority  = 2, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 11+Cond(Parent,Var(38)=1,5,0)
Ground.HitTime  = 11+Cond(Parent,Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,FVar(4)
Air.Velocity = -1*Parent,FVar(4),-4
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 26
GetPower = Ceil(140*Parent,Var(39)*0.1), 0
GivePower = Ceil(140*(10-Parent,Var(39))*0.1), 0

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = Time >= 38
Attr = S, SP
Damage = Ceil(Parent,FVar(0)*(45-Parent,Var(5)%2))
Priority  = 2, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 11+Cond(Parent,Var(38)=1,5,0)
Ground.HitTime  = 11+Cond(Parent,Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,FVar(4)
Air.Velocity = -1*Parent,FVar(4),-4
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 26
GetPower = Ceil(140*Parent,Var(39)*0.1), 0
GivePower = Ceil(140*(10-Parent,Var(39))*0.1), 0

[State ]
Type = HitDef
Trigger1 = Parent,Var(25) = 4

[State ]
Type = ParentVarSet
Trigger1 = MoveContact = 1
FV = 7
Value = 0
IgnoreHitPause = 1

[State ]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1 && Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6010
ID = 6010
PosType = P2
Pos = Cond(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 6100
ID = 6100
PosType = P2
Pos = 0,0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ChangeState
TriggerAll = Time >= 38
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Value = 226
IgnoreHitPause = 1

[State ]
Type = DestroySelf
TriggerAll = Time >= 38
Trigger1 = FrontEdgeDist <= -40
Trigger2 = MoveHit = 1
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = Time <= 8
Trigger1 = MoveContact = 1 || MoveReversed = 1
Value = 1217

[State ]
Type = ChangeState
TriggerAll = Time >= 38
Trigger1 = Pos Y >= -5
Value = 1216

;---------------------------------------------------------------------------
; トリックナイフMヘルパー2
[Statedef 1216]
Type = A
MoveType = A
Anim = 1216
SprPriority = 4

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = AngleDraw
Trigger1 = 1
Value = 70
IgnoreHitPause = 1

[State ]
Type = PosSet
Trigger1 = Time = 0
Y = -5

[State ]
Type = VelSet
Trigger1 = Time = 0
X = 6
Y = -13

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s2006, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = Time >= 0
Attr = S, SP
Damage = Ceil(Parent,FVar(0)*(45-Parent,Var(5)%2))
Priority  = 2, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 11+Cond(Parent,Var(38)=1,5,0)
Ground.HitTime  = 11+Cond(Parent,Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,FVar(4)
Air.Velocity = -1*Parent,FVar(4),-4
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 26
GetPower = Ceil(140*Parent,Var(39)*0.1), 0
GivePower = Ceil(140*(10-Parent,Var(39))*0.1), 0

[State ]
Type = HitDef
Trigger1 = Parent,Var(25) = 4

[State ]
Type = ParentVarSet
Trigger1 = MoveContact = 1
FV = 7
Value = 0
IgnoreHitPause = 1

[State ]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1 && Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6010
ID = 6010
PosType = P2
Pos = Cond(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 6100
ID = 6100
PosType = P2
Pos = 0,0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Parent,Var(47) = 15
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = Parent,Var(47) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228

[State ]
Type = DestroySelf
Trigger1 = MoveHit = 1
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; トリックナイフMヘルパー3
[Statedef 1217]
Type = A
MoveType = A
Anim = 1217
SprPriority = 4

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 0
IgnoreHitPause = 1

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = AngleDraw
Trigger1 = 1
IgnoreHitPause = 1

[State ]
Type = AngleAdd
Trigger1 = Time = [0,39]
Value = -50
IgnoreHitPause = 1

[State ]
Type = AngleSet
Trigger1 = Time = 40
Value = -70
IgnoreHitPause = 1

[State ]
Type = VelSet
Trigger1 = Time = 0
X = -2.4
Y = -4

[State ]
Type = VelAdd
Trigger1 = Time = [1,39]
X = .12
Y = .16

[State ]
Type = VelSet
Trigger1 = Time = 40
X = 6
Y = 13

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s30, 5
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 40
Value = s40, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = Time >= 40
Attr = S, SP
Damage = Ceil(Parent,FVar(0)*(45-Parent,Var(5)%2))
Priority  = 2, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 11+Cond(Parent,Var(38)=1,5,0)
Ground.HitTime  = 11+Cond(Parent,Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,FVar(4)
Air.Velocity = -1*Parent,FVar(4),-4
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 26
GetPower = Ceil(140*Parent,Var(39)*0.1), 0
GivePower = Ceil(140*(10-Parent,Var(39))*0.1), 0

[State ]
Type = HitDef
Trigger1 = Parent,Var(25) = 4

[State ]
Type = ParentVarSet
Trigger1 = MoveContact = 1
FV = 7
Value = 0
IgnoreHitPause = 1

[State ]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1 && Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6010
ID = 6010
PosType = P2
Pos = Cond(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 6100
ID = 6100
PosType = P2
Pos = 0,0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Value = 226
IgnoreHitPause = 1

[State ]
Type = DestroySelf
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -40
Trigger2 = MoveHit = 1
IgnoreHitPause = 1

[State ]
Type = ChangeState
TriggerAll = Time >= 40
Trigger1 = Pos Y >= -5
Value = 1216

;---------------------------------------------------------------------------
; トリックナイフHヘルパー
[Statedef 1225]
Type = A
MoveType = A
Anim = 1225
SprPriority = 4

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = AngleDraw
Trigger1 = 1
IgnoreHitPause = 1

[State ]
Type = AngleAdd
Trigger1 = Time = [20,59]
Value = -50
IgnoreHitPause = 1

[State ]
Type = AngleSet
Trigger1 = Time = 0
Value = 10
IgnoreHitPause = 1

[State ]
Type = AngleSet
Trigger1 = Time = 60
Value = -135
IgnoreHitPause = 1

[State ]
Type = VelSet
Trigger1 = Time = 0
X = 12
Y = -2.5

[State ]
Type = VelSet
Trigger1 = Time = 20
X = 2
Y = -5

[State ]
Type = VelAdd
Trigger1 = Time = [21,59]
Y = .3

[State ]
Type = VelSet
Trigger1 = Time = 60
X = -10
Y = 10

[State ]
Type = PlaySnd
Trigger1 = Time = 20
Value = s30, 5
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 60
Value = s40, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = 1
Attr = S, SP
Damage = Ceil(Parent,FVar(0)*(45-Parent,Var(5)%2))
Priority  = 2, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 11+Cond(Parent,Var(38)=1,5,0)
Ground.HitTime  = 11+Cond(Parent,Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,FVar(4)
Air.Velocity = -1*Parent,FVar(4),-4
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 26
GetPower = Ceil(140*Parent,Var(39)*0.1), 0
GivePower = Ceil(140*(10-Parent,Var(39))*0.1), 0

[State ]
Type = HitDef
Trigger1 = Parent,Var(25) = 4

[State ]
Type = ParentVarSet
Trigger1 = MoveContact = 1
FV = 7
Value = 0
IgnoreHitPause = 1

[State ]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1 && Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6010
ID = 6010
PosType = P2
Pos = Cond(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 6100
ID = 6100
PosType = P2
Pos = 0,0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ChangeState
TriggerAll = Time >= 60
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Value = 226
IgnoreHitPause = 1

[State ]
Type = ChangeState
TriggerAll = Time <= 20
Trigger1 = MoveContact = 1 || MoveReversed = 1
Value = 1217

[State ]
Type = ChangeState
TriggerAll = Time >= 60
Trigger1 = Pos Y >= -5
Value = 1226

[State ]
Type = DestroySelf
TriggerAll = Time >= 60
Trigger1 = MoveHit = 1
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; トリックナイフHヘルパー2
[Statedef 1226]
Type = A
MoveType = A
Anim = 1226
SprPriority = 4

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = AngleDraw
Trigger1 = 1
Value = -225
IgnoreHitPause = 1

[State ]
Type = PosSet
Trigger1 = Time = 0
Y = -5

[State ]
Type = VelSet
Trigger1 = Time = 0
X = -10
Y = -10

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s2006, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = Time >= 0
Attr = S, SP
Damage = Ceil(Parent,FVar(0)*(45-Parent,Var(5)%2))
Priority  = 2, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 11+Cond(Parent,Var(38)=1,5,0)
Ground.HitTime  = 11+Cond(Parent,Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,FVar(4)
Air.Velocity = -1*Parent,FVar(4),-4
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 26
GetPower = Ceil(140*Parent,Var(39)*0.1), 0
GivePower = Ceil(140*(10-Parent,Var(39))*0.1), 0

[State ]
Type = HitDef
Trigger1 = Parent,Var(25) = 4

[State ]
Type = ParentVarSet
Trigger1 = MoveContact = 1
FV = 7
Value = 0
IgnoreHitPause = 1

[State ]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1 && Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6010
ID = 6010
PosType = P2
Pos = Cond(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 6100
ID = 6100
PosType = P2
Pos = 0,0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Parent,Var(47) = 15
Trigger2 = Time > 1
Trigger2 = BackEdgeDist <= -10
Value = 226
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = Parent,Var(47) < 15
Trigger1 = Time > 1
Trigger1 = BackEdgeDist <= -10
Value = 228

[State ]
Type = DestroySelf
Trigger1 = MoveHit = 1
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; トライナイフヘルパー
[Statedef 1305]
Type = A
MoveType = A
SprPriority = 4
Anim = 1305+Cond(IsHelper(1306),1,Cond(IsHelper(1307),2,0))

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = AngleDraw
Trigger1 = 1
Value = Cond(IsHelper(1306),-30,Cond(IsHelper(1307),30,5))
IgnoreHitPause = 1

[State ]
Type = VelSet
Trigger1 = IsHelper(1305)
Trigger1 = Time > 0
X = 12
Y = -1

[State ]
Type = VelSet
Trigger1 = IsHelper(1306)
Trigger1 = Time > 0
X = 11
Y = 4

[State ]
Type = VelSet
Trigger1 = IsHelper(1307)
Trigger1 = Time > 0
X = 11
Y = -7

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = Time >= 1
Attr = S, SP
Damage = Ceil(Parent,FVar(0)*(35-Parent,Var(5)%2))
Priority  = 2, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 11+Cond(Parent,Var(38)=1,5,0)
Ground.HitTime  = 11+Cond(Parent,Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,FVar(4)
Air.Velocity = -1*Parent,FVar(4),-4
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 26
GetPower = Ceil(60*Parent,Var(39)*0.1), 0
GivePower = Ceil(60*(10-Parent,Var(39))*0.1), 0

[State ]
Type = HitDef
Trigger1 = Parent,Var(25) = 4

[State ]
Type = ParentVarSet
Trigger1 = MoveContact = 1
FV = 7
Value = 0
IgnoreHitPause = 1

[State ]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1 && Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6010
ID = 6010
PosType = P2
Pos = Cond(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 6100
ID = 6100
PosType = P2
Pos = 0,0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ChangeState
Trigger1 = Parent,Var(47) >= 15
Trigger1 = Pos Y >= 0
Value = 226

[State ]
Type = ChangeState
Trigger1 = Parent,Var(47) < 15
Trigger1 = Pos Y >= 0
Value = 227

[State ]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Parent,Var(47) = 15
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = Parent,Var(47) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228

[State ]
Type = DestroySelf
Trigger1 = MoveHit = 1
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; 空中トライナイフヘルパー
[Statedef 1355]
Type = A
MoveType = A
SprPriority = 4
Anim = 1355+Cond(IsHelper(1356),1,Cond(IsHelper(1357),2,0))

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = AngleDraw
Trigger1 = 1
Value = Cond(IsHelper(1356),-30,Cond(IsHelper(1357),-15,-45))
IgnoreHitPause = 1

[State ]
Type = VelSet
Trigger1 = IsHelper(1355)
Trigger1 = Time > 0
X = 6
Y = 8

[State ]
Type = VelSet
Trigger1 = IsHelper(1356)
Trigger1 = Time > 0
X = 8
Y = 6.5

[State ]
Type = VelSet
Trigger1 = IsHelper(1357)
Trigger1 = Time > 0
X = 10
Y = 5

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = Time >= 1
Attr = S, SP
Damage = Ceil(Parent,FVar(0)*(45-Parent,Var(5)%2))
Priority  = 2, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 11+Cond(Parent,Var(38)=1,5,0)
Ground.HitTime  = 11+Cond(Parent,Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,FVar(4)
Air.Velocity = -1*Parent,FVar(4),-4
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 26
GetPower = Ceil(60*Parent,Var(39)*0.1), 0
GivePower = Ceil(60*(10-Parent,Var(39))*0.1), 0

[State ]
Type = HitDef
Trigger1 = Parent,Var(25) = 4

[State ]
Type = ParentVarSet
Trigger1 = MoveContact = 1
FV = 7
Value = 0
IgnoreHitPause = 1

[State ]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1 && Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6010
ID = 6010
PosType = P2
Pos = Cond(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 6100
ID = 6100
PosType = P2
Pos = 0,0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ChangeState
Trigger1 = Parent,Var(47) >= 15
Trigger1 = Pos Y >= 0
Value = 226

[State ]
Type = ChangeState
Trigger1 = Parent,Var(47) < 15
Trigger1 = Pos Y >= 0
Value = 227

[State ]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Parent,Var(47) = 15
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = Parent,Var(47) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228

[State ]
Type = DestroySelf
Trigger1 = MoveHit = 1
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; 蜂の巣ヘルパー1
[Statedef 2005]
Type = A
VelSet = 0,0
SprPriority = 3
Facep2 = 1
Anim = 1005

[State ]
Type = VarSet
Trigger1 = 1
V = 1
Value = 0

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = AngleDraw
Trigger1 = 1

[State ]
Type = AngleSet
Trigger1 = Time = 0
Value = -100

[State ]
Type = AngleAdd
Trigger1 = Time = [0,99]
Value = -2.6

[State ]
Type = VarRandom
Trigger1 = Time = 0
V = 5
Range = -50,50

[State ]
Type = VarRandom
Trigger1 = Time = 0
V = 6
Range = -70,-10

[State ]
Type = VelSet
Trigger1 = Time = 0
X = (0.00+Var(5))/100
Y = (0.00+Var(6))/100

[State ]
Type = VelSet
Trigger1 = Time = 100
X = 0
Y = 0

[State ]
Type = ChangeState
Trigger1 = Time = 100
Trigger1 = Root,StateNo != 3001
Trigger2 = Time >= 100
Trigger2 = Root,StateNo = 3001 && Root,Time >= 139
Value = 2006

;---------------------------------------------------------------------------
; 蜂の巣ヘルパー2
[Statedef 2006]
Type = A
MoveType = A
VelSet = 0,0
SprPriority = 4
Anim = 2050

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = VelSet
Trigger1 = Time = 1
X = 29

[State ]
Type = PlaySnd
Trigger1 = Time = 1
Value = s40, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = HitDef
TriggerAll = Root,Var(25) < 4
Trigger1 = Time >= 1
Attr = S, SP
Damage = Ceil(Root,FVar(0)*(55+Root,Var(15)*15-Root,Var(5)%2)),Ceil(Root,FVar(0)*(15+Root,Var(15)*5))
Priority  = 2, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 11+Cond(Root,Var(38)=1,5,0)
Ground.HitTime  = 11+Cond(Root,Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Root,FVar(4)
Air.Velocity = 0,-11
AirGuard.Velocity = -3*Root,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = 0, 0
GivePower = 0, 0

[State ]
Type = HitDef
Trigger1 = Root,Var(25) = 4

[State ]
Type = ParentVarSet
Trigger1 =! IsHelper(1025)
Trigger1 = MoveContact = 1
FV = 7
Value = 0
IgnoreHitPause = 1

[State ]
Type = Null
Trigger1 = IsHelper(1025) && MoveContact = 1
Trigger1 = Root,Cond(1,FVar(7):=0,1)
IgnoreHitPause = 1

[State ]
Type = ParentVarAdd
Trigger1 =! IsHelper(1025)
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = IsHelper(1025) && MoveHit = 1
Trigger1 = Root,Cond(1,FVar(7):=0,1)
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ParentVarSet
Trigger1 = Root,Var(4) = 1 && Root,FVar(1) = 1.00
Trigger1 = IsHelper(1005) || ! IsHelper(1025)
Trigger1 = MoveHit = 1
FV = 1
Value = 0.70
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = Root,Var(4) = 1 && Root,FVar(1) = 1.00
Trigger1 = IsHelper(1025) && MoveHit = 1
Trigger1 = Root,Cond(1,FVar(1):=0.70,1)
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6010
ID = 6010
PosType = P2
Pos = Cond(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Root,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 6100
ID = 6100
PosType = P2
Pos = 0,0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Root,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Root,Var(47) = 15
Trigger2 = Time > 1
Trigger2 = FrontEdgeDist <= -10
Value = 226

[State ]
Type = ChangeState
Trigger1 = Root,Var(47) < 15
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -10
Value = 228

[State ]
Type = DestroySelf
Trigger1 = MoveHit = 1

;---------------------------------------------------------------------------
; ハイチェイスヘルパー
[Statedef 3005]
Type = A
MoveType = A
Anim = 3005
SprPriority = 4

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = PosAdd
Trigger1 = Time = 0
X = Random%6*Cond(Random%2=0,1,-1)
Y = Random%6*Cond(Random%2=0,1,-1)

[State ]
Type = AngleDraw
Trigger1 = 1

[State ]
Type = AngleAdd
Trigger1 = Time = [0,89]
Value = -50

[State ]
Type = AngleSet
Trigger1 = Time = 90
Value = 0

[State ]
Type = VelSet
Trigger1 = Time = 0
X = -1.2+(0.00+Random%61*Cond(Random%2=0,1,-1))/100
Y = -5.5+(0.00+Random%61*Cond(Random%2=0,1,-1))/100

[State ]
Type = VelAdd
Trigger1 = Time = [1,89]
Y = .125

[State ]
Type = PlaySnd
Trigger1 = IsHelper(3005)
Trigger1 = Time = 0
Value = s30, 5
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ChangeState
Trigger1 = Time = 90
Value = 3006

;---------------------------------------------------------------------------
; ハイチェイスヘルパー2
[Statedef 3006]
Type = A
MoveType = A
Anim = 3006
SprPriority = 4

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = VelSet
Trigger1 = Time = 0
X = 0
Y = 0

[State ]
Type = VelSet
Trigger1 = Parent,StateNo = 3001 && Parent,Time >= 180
X = 13.5
Y = 0

[State ]
Type = PlaySnd
Trigger1 = IsHelper(3005)
Trigger1 = Parent,StateNo = 3001 && Parent,Time >= 180
Trigger1 = Vel X = 13.5
Value = s40, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = Parent,StateNo = 3001 && Parent,Time >= 180
Attr = S, HP
Damage = Ceil(Parent,FVar(0)*(15-Parent,Var(5)%2))
Priority  = 2, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 11+Cond(Root,Var(38)=1,5,0)
Ground.HitTime  = 11+Cond(Root,Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,FVar(4)
Air.Velocity = 0,-11
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = 0, 0
GivePower = 0, 0

[State ]
Type = HitDef
Trigger1 = Parent,Var(25) = 4

[State ]
Type = ParentVarSet
Trigger1 = MoveContact = 1
FV = 7
Value = 0
IgnoreHitPause = 1

[State ]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1 && Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6010
ID = 6010
PosType = P2
Pos = Cond(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 6100
ID = 6100
PosType = P2
Pos = 0,0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Value = 226
IgnoreHitPause = 1

[State ]
Type = DestroySelf
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -40

[State ]
Type = ChangeState
Trigger1 = MoveHit = 1
Value = 3007

;---------------------------------------------------------------------------
; ハイチェイスヘルパー3
[Statedef 3007]
Type = A
MoveType = A
Anim = 1217
SprPriority = 4

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 0
IgnoreHitPause = 1

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = AngleDraw
Trigger1 = 1
IgnoreHitPause = 1

[State ]
Type = AngleAdd
Trigger1 = Time = [0,39]
Value = -50

[State ]
Type = AngleSet
Trigger1 = Time = 40
Value = -70
IgnoreHitPause = 1

[State ]
Type = VelSet
Trigger1 = Time = 0
X = -2.4
Y = -4

[State ]
Type = VelAdd
Trigger1 = Time = [1,39]
X = .12
Y = .16

[State ]
Type = VelSet
Trigger1 = Time = 40
X = 6
Y = 13

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s30, 5
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 40
Value = s40, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = Time >= 40
Attr = S, SP
Damage = Ceil(Parent,FVar(0)*(15-Parent,Var(5)%2))
Priority  = 2, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 11+Cond(Root,Var(38)=1,5,0)
Ground.HitTime  = 11+Cond(Root,Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,FVar(4)
Air.Velocity = 0,-11
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(140*Parent,Var(39)*0.1), 0
GivePower = Ceil(140*(10-Parent,Var(39))*0.1), 0

[State ]
Type = HitDef
Trigger1 = Parent,Var(25) = 4

[State ]
Type = ParentVarSet
Trigger1 = MoveContact = 1
FV = 7
Value = 0
IgnoreHitPause = 1

[State ]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1 && Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6010
ID = 6010
PosType = P2
Pos = Cond(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 6100
ID = 6100
PosType = P2
Pos = 0,0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Value = 226
IgnoreHitPause = 1

[State ]
Type = DestroySelf
Trigger1 = Time > 1
Trigger1 = FrontEdgeDist <= -40
Trigger2 = MoveHit = 1
IgnoreHitPause = 1

[State ]
Type = ChangeState
TriggerAll = Time >= 40
Trigger1 = Pos Y >= -5
Value = 3008

;---------------------------------------------------------------------------
; ハイチェイスヘルパー4
[Statedef 3008]
Type = A
MoveType = A
Anim = 1216
SprPriority = 4

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = AngleDraw
Trigger1 = 1
Value = 70
IgnoreHitPause = 1

[State ]
Type = PosSet
Trigger1 = Time = 0
Y = -5

[State ]
Type = VelSet
Trigger1 = Time = 0
X = 6
Y = -13

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s2006, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = HitDef
TriggerAll = Parent,Var(25) < 4
Trigger1 = Time >= 0
Attr = S, SP
Damage = Ceil(Parent,FVar(0)*(15-Parent,Var(5)%2))
Priority  = 2, Dodge
AnimType  = Light
HitFlag = MAFD
GuardFlag = MA
PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)),1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
Guard.PauseTime = 1+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0)), 2+Cond(P2StateType=A,2,Cond(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
Ground.Type = Low
Ground.SlideTime = 11+Cond(Root,Var(38)=1,5,0)
Ground.HitTime  = 11+Cond(Root,Var(38)=1,5,0)+Cond(P2StateType=C,1,0)
Guard.HitTime  = 11
SprPriority = 5
Ground.Velocity = -4*Parent,FVar(4)
Air.Velocity = 0,-5
AirGuard.Velocity = -3*Parent,FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .42
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 30
GetPower = Ceil(140*Parent,Var(39)*0.1), 0
GivePower = Ceil(140*(10-Parent,Var(39))*0.1), 0

[State ]
Type = HitDef
Trigger1 = Parent,Var(25) = 4

[State ]
Type = ParentVarSet
Trigger1 = MoveContact = 1
FV = 7
Value = 0
IgnoreHitPause = 1

[State ]
Type = ParentVarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = ParentVarSet
Trigger1 = Parent,Var(4) = 1 && Parent,FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.95
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = MoveHit = 1
StateNo = 6010
ID = 6010
PosType = P2
Pos = Cond(MoveType=H,Ceil(P2Dist X/2),0),0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Helper
Trigger1 = MoveGuarded = 1
StateNo = 6100
ID = 6100
PosType = P2
Pos = 0,0-Ceil(P2BodyDist Y)
Facing = -1*Facing*EnemyNear(Parent,Var(57)),Facing
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ChangeState
Trigger1 = MoveGuarded = 1 || MoveReversed = 1
Trigger2 = Parent,Var(47) = 15
Trigger2 = Time > 3
Trigger2 = FrontEdgeDist <= -10
Value = 226
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = Parent,Var(47) < 15
Trigger1 = Time > 3
Trigger1 = FrontEdgeDist <= -10
Value = 228

[State ]
Type = DestroySelf
Trigger1 = MoveHit = 1
Trigger2 = Time <= 3
Trigger2 = FrontEdgeDist <= -10
IgnoreHitPause = 1

;---------------------------------------------------------------------------
; NULLヘルパー
[Statedef 9999]
Type = A
MoveType = A
Anim = 9999

[State ]
Type = DestroySelf
Trigger1 = Parent,StateNo != 0 || Parent,Ctrl

;---------------------------------------------------------------------------
; ゲージ
[Statedef 25000]
Type = A
Anim = 9999

[State ]
Type = VarSet
Trigger1 = P2StateNo = 5120
V = 59
Value = 9

[State ]
Type = VarAdd
Trigger1 = Var(59) > 0
Trigger1 = P2StateNo != 5120
V = 59
Value = -1

[State ]
Type = PosSet
Trigger1 = 1
X = Ceil(EnemyNear(Parent,Var(57)),Pos X)-10*Facing
Y = 999

[State ]
Type = Turn
Trigger1 = Facing = EnemyNear(Parent,Var(57)),Facing

[State ]
Type = ParentVarSet
Trigger1 = Parent,Var(26) = [1,3]
Trigger1 = Parent,Var(14) <= Ceil(516-(1.00*Parent,Life/Parent,Var(56))*258)
V = 14
Value = Cond(Parent,Var(26)=3,1,Ceil(516-(1.00*Parent,Life/Parent,Var(56))*258))

[State ]
Type = PowerAdd
Trigger1 = Parent,Var(26) = [2,3]
Value = Cond(Parent,Var(26)=2,99999,-99999)

[State ]
Type = VarSet
Trigger1 = FVar(39) >= 1.70
FV = 39
Value = 0

[State ]
Type = VarSet
Trigger1 = Parent,StateNo = 195 && Parent,AnimElem = 9
FV = 39
Value = 0.1

[State ]
Type = VarAdd
Trigger1 = FVar(39) >= 0.1
FV = 39
Value = 0.1

[State ]
Type = VarSet
Trigger1 = Parent,Var(14) = Ceil(516-(1.00*Parent,Life/Parent,Var(56))*258)
Trigger2 = Parent,Var(14) <= 50
V = 1
Value = Floor(120+90*Cos(0.3125*Time))

[State ]
Type = PalFx
Trigger1 = Parent,Var(14) = Ceil(516-(1.00*Parent,Life/Parent,Var(56))*258)
Time = 9999
Add = 0+Var(1),0+Var(1),0+Var(1)

[State ]
Type = PalFx
Trigger1 = Parent,Var(14) <= 50
Time = 9999
Add = 0,0-Var(1),0-Var(1)

[State ]
Type = PalFx
Trigger1 = Parent,Var(14) != Ceil(516-(1.00*Parent,Life/Parent,Var(56))*258)
Trigger1 = Parent,Var(14) > 50
Time = 1
Add = 0,0,0

[State ]
Type = Helper
Trigger1 = FVar(35) = 0 && NumHelper(28000) = 0
Trigger1 = RoundState > 0
StateNo = 28000
PosType = Left
SuperMoveTime = 99
PauseMoveTime = 99
ID = 28000

[State ]
Type = Helper
Trigger1 = FVar(36) = 0 && NumHelper(28001) = 0
Trigger1 = RoundState > 0
StateNo = 28000
PosType = Left
SuperMoveTime = 99
PauseMoveTime = 99
ID = 28001

[State ]
Type = VarSet
Trigger1 = FVar(35) > LeftEdge
FV = 35
Value = LeftEdge

[State ]
Type = VarSet
Trigger1 = FVar(36) < RightEdge
FV = 36
Value = RightEdge

[State ]
Type = VarSet
Trigger1 = 1
FV = 37
Value = CameraPos X/CameraZoom+Root,Pos X*CameraZoom-FVar(35)-Root,Cond(Facing=1,15,19)/CameraZoom

[State ]
Type = VarSet
Trigger1 = 1
FV = 38
Value = -CameraPos X/CameraZoom-Root,Pos X*CameraZoom+FVar(36)-Root,Cond(Facing=1,19,15)/CameraZoom

[State ]
Type = RemoveExplod
Trigger1 = Var(0)/100%10 = 0
Trigger1 = NumExplod(26000) > 0
ID = 25000

[State ]
Type = Explod
Trigger1 = Parent,Var(0)/100%10 = 0
Trigger1 = TeamSide = 1 && NumExplod(25000) = 0
Anim = 25000
PosType = Left
Pos = 0, Ceil(ScreenHeight+64)-Floor(Parent,Var(0)/10000)-Var(5)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 6
ID = 25000

[State ]
Type = Explod
Trigger1 = Parent,Var(0)/100%10 = 0
Trigger1 = TeamSide = 2 && NumExplod(25000) = 0
Anim = 25001
PosType = Right
Pos = 1, Ceil(ScreenHeight+64)-Floor(Parent,Var(0)/10000)-Var(5)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 6
ID = 25000

[State ]
Type = Explod
Trigger1 = Parent,Var(0)/100%10 = 0
Trigger1 = TeamSide = 1 && NumExplod(25000) = 1
Anim = 25005
PosType = Left
Pos = 0, Ceil(ScreenHeight+64)-Floor(Parent,Var(0)/10000)-Var(5)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 6
ID = 25000

[State ]
Type = Explod
Trigger1 = Parent,Var(0)/100%10 = 0
Trigger1 = TeamSide = 2 && NumExplod(25000) = 1
Anim = 25006
PosType = Right
Pos = 1, Ceil(ScreenHeight+64)-Floor(Parent,Var(0)/10000)-Var(5)
BindTime = -1
RemoveTime = -1
Ownpal = 1
Scale = 0.5,0.5
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 6
ID = 25000

[State ]
Type = RemoveExplod
Trigger1 = Var(0)/100%10 = 0
Trigger1 = NumExplod(26000) > 0
ID = 26000

[State ]
Type = Explod
TriggerAll = NumExplod(25000) > 0
Trigger1 = Parent,Var(0)/100%10 = 0 && TeamSide = 1
Trigger1 = NumExplod(26000) = 0
Anim = 26010+Ceil(Parent,Var(30)/10%10)
PosType = Left
Pos = 116, Ceil(ScreenHeight+87)-Floor(Parent,Var(0)/10000)-Var(5)
Scale = 0.5,0.5
BindTime = -1
Ownpal = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 7
ID = 26000

[State ]
Type = Explod
TriggerAll = NumExplod(25000) > 0
Trigger1 = Parent,Var(0)/100%10 = 0 && TeamSide = 2
Trigger1 = NumExplod(26000) = 0
Anim = 26010+Ceil(Parent,Var(30)/10%10)
PosType = Right
Pos = -130, Ceil(ScreenHeight+87)-Floor(Parent,Var(0)/10000)-Var(5)
Scale = 0.5,0.5
BindTime = -1
Ownpal = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 7
ID = 26000

[State ]
Type = Explod
TriggerAll = NumExplod(25000) > 0
Trigger1 = Parent,Var(0)/100%10 = 0 && TeamSide = 1
Trigger1 = NumExplod(26000) = 1
Anim = 26000+Ceil(Parent,Var(30)%10)
PosType = Left
Pos = 126, Ceil(ScreenHeight+87)-Floor(Parent,Var(0)/10000)-Var(5)
Scale = 0.5,0.5
BindTime = -1
Ownpal = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 7
ID = 26000

[State ]
Type = Explod
TriggerAll = NumExplod(25000) > 0
Trigger1 = Parent,Var(0)/100%10 = 0 && TeamSide = 2
Trigger1 = NumExplod(26000) = 1
Anim = 26000+Ceil(Parent,Var(30)%10)
PosType = Right
Pos = -120, Ceil(ScreenHeight+87)-Floor(Parent,Var(0)/10000)-Var(5)
Scale = 0.5,0.5
BindTime = -1
Ownpal = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 7
ID = 26000

[State ]
Type = Explod
TriggerAll = Parent,Var(0)/100%10 = 0
TriggerAll = Time > 0 && TeamSide = 1
Trigger1 = Parent,Life > 0
Trigger1 = NumExplod(25010) = 0
Anim = 25010
PosType = Left
BindTime = -1
RemoveTime = -1
Ownpal = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 7
ID = 25010

[State ]
Type = Explod
TriggerAll = Parent,Var(0)/100%10 = 0
TriggerAll = Time > 0 && TeamSide = 2
Trigger1 = Parent,Life > 0
Trigger1 = NumExplod(25011) = 0
Anim = 25011
PosType = Right
BindTime = -1
RemoveTime = -1
Ownpal = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 7
ID = 25011

[State ]
Type = Explod
TriggerAll = Parent,Var(0)/100%10 = 0
TriggerAll = Time > 0 && TeamSide = 1
TriggerAll = Parent,Var(14) > 258
Trigger1 = NumExplod(25020) = 0
Anim = 25020
PosType = Left
BindTime = -1
RemoveTime = -1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25020

[State ]
Type = Explod
TriggerAll = Parent,Var(0)/100%10 = 0
TriggerAll = Time > 0 && TeamSide = 2
TriggerAll = Parent,Var(14) > 258
Trigger1 = NumExplod(25021) = 0
Anim = 25021
PosType = Right
BindTime = -1
RemoveTime = -1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 25021

[State ]
Type = Explod
TriggerAll = Parent,Var(0)/100%10 = 0
TriggerAll = Time > 0 && TeamSide = 1
Trigger1 = NumExplod(25030) = 0
Anim = 25030
PosType = Left
BindTime = -1
RemoveTime = -1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 7
ID = 25030

[State ]
Type = Explod
TriggerAll = Parent,Var(0)/100%10 = 0
TriggerAll = Time > 0 && TeamSide = 2
Trigger1 = NumExplod(25031) = 0
Anim = 25031
PosType = Right
BindTime = -1
RemoveTime = -1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 7
ID = 25031

[State ]
Type = RemoveExplod
TriggerAll = Parent,Var(0)/100%10 = 0
Trigger1 = NumExplod(27000) > 0
ID = 27000

[State ]
Type = Explod
TriggerAll = Parent,Var(0)/100%10 = 0
TriggerAll = Time > 0 && TeamSide = 1
Trigger1 = Parent,Var(15) < 3
Trigger1 = NumExplod(27000) = 0
Anim = 27002-Parent,Var(15)
PosType = Left
Pos = 61, Ceil(ScreenHeight+87)-Floor(Parent,Var(0)/10000)-Var(5)
BindTime = -1
Ownpal = 1
Scale = 0.5,0.5
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 7
ID = 27000

[State ]
Type = Explod
TriggerAll = Parent,Var(0)/100%10 = 0
TriggerAll = Time > 0 && TeamSide = 2
Trigger1 = Parent,Var(15) < 3
Trigger1 = NumExplod(27000) = 0
Anim = 27002-Parent,Var(15)
PosType = Right
Pos = -85, Ceil(ScreenHeight+87)-Floor(Parent,Var(0)/10000)-Var(5)
BindTime = -1
Ownpal = 1
Scale = 0.5,0.5
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 7
ID = 27000

[State ]
Type = Explod
TriggerAll = Parent,Var(0)/100%10 = 0
TriggerAll = Time > 0 && TeamSide = 1
Trigger1 = Parent,Var(15) < 3
Trigger1 = NumExplod(27000) = 1
Anim = 27012-Parent,Var(15)
PosType = Left
Pos = 61, Ceil(ScreenHeight+87)-Floor(Parent,Var(0)/10000)-Var(5)
BindTime = -1
Ownpal = 1
Scale = 0.5,0.5
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 7
ID = 27000

[State ]
Type = Explod
TriggerAll = Parent,Var(0)/100%10 = 0
TriggerAll = Time > 0 && TeamSide = 2
Trigger1 = Parent,Var(15) < 3
Trigger1 = NumExplod(27000) = 1
Anim = 27012-Parent,Var(15)
PosType = Right
Pos = -85, Ceil(ScreenHeight+87)-Floor(Parent,Var(0)/10000)-Var(5)
BindTime = -1
Ownpal = 1
Scale = 0.5,0.5
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 7
ID = 27000

[State ]
Type = Explod
TriggerAll = Parent,Var(0)/100%10 = 0
TriggerAll = TeamSide = 1
Trigger1 = Parent,StateNo = 195 && Parent,AnimElem = 9
Trigger1 = NumExplod(27005) = 0
Anim = 27005
PosType = Left
Pos = 97-Parent,Var(15)*12, Ceil(ScreenHeight+87)-Floor(Parent,Var(0)/10000)-Var(5)
BindTime = -1
Ownpal = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 27005

[State ]
Type = Explod
TriggerAll = Parent,Var(0)/100%10 = 0
TriggerAll = TeamSide = 2
Trigger1 = Parent,StateNo = 195 && Parent,AnimElem = 9
Trigger1 = NumExplod(27005) = 0
Anim = 27005
PosType = Right
Pos = -49-Parent,Var(15)*12, Ceil(ScreenHeight+87)-Floor(Parent,Var(0)/10000)-Var(5)
BindTime = -1
Ownpal = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 27005

[State ]
Type = Explod
TriggerAll = Parent,Var(0)/100%10 = 0
TriggerAll = TeamSide = 1
Trigger1 = Parent,StateNo = 195 && Parent,AnimElem = 9
Trigger1 = NumExplod(955) = 0
Anim = 955
PosType = Left
Pos = 97-Parent,Var(15)*12, Ceil(ScreenHeight+87)-Floor(Parent,Var(0)/10000)-Var(5)
BindTime = -1
Ownpal = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 955

[State ]
Type = Explod
TriggerAll = Parent,Var(0)/100%10 = 0
TriggerAll = TeamSide = 1
Trigger1 = Parent,StateNo = 195 && Parent,AnimElem = 9
Trigger1 = NumExplod(956) = 0
Anim = 955
PosType = Left
Pos = 97-Parent,Var(15)*12, Ceil(ScreenHeight+87)-Floor(Parent,Var(0)/10000)-Var(5)
BindTime = -1
Ownpal = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 956

[State ]
Type = Explod
TriggerAll = Parent,Var(0)/100%10 = 0
TriggerAll = TeamSide = 1
Trigger1 = Parent,StateNo = 195 && Parent,AnimElem = 9
Trigger1 = NumExplod(957) = 0
Anim = 955
PosType = Left
Pos = 97-Parent,Var(15)*12, Ceil(ScreenHeight+87)-Floor(Parent,Var(0)/10000)-Var(5)
BindTime = -1
Ownpal = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 957

[State ]
Type = Explod
TriggerAll = Parent,Var(0)/100%10 = 0
TriggerAll = TeamSide = 2
Trigger1 = Parent,StateNo = 195 && Parent,AnimElem = 9
Trigger1 = NumExplod(955) = 0
Anim = 955
PosType = Right
Pos = -49-Parent,Var(15)*12, Ceil(ScreenHeight+87)-Floor(Parent,Var(0)/10000)-Var(5)
BindTime = -1
Ownpal = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 955

[State ]
Type = Explod
TriggerAll = Parent,Var(0)/100%10 = 0
TriggerAll = TeamSide = 2
Trigger1 = Parent,StateNo = 195 && Parent,AnimElem = 9
Trigger1 = NumExplod(956) = 0
Anim = 955
PosType = Right
Pos = -49-Parent,Var(15)*12, Ceil(ScreenHeight+87)-Floor(Parent,Var(0)/10000)-Var(5)
BindTime = -1
Ownpal = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 956

[State ]
Type = Explod
TriggerAll = Parent,Var(0)/100%10 = 0
TriggerAll = TeamSide = 2
Trigger1 = Parent,StateNo = 195 && Parent,AnimElem = 9
Trigger1 = NumExplod(957) = 0
Anim = 955
PosType = Right
Pos = -49-Parent,Var(15)*12, Ceil(ScreenHeight+87)-Floor(Parent,Var(0)/10000)-Var(5)
BindTime = -1
Ownpal = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 8
ID = 957

[State ]
Type = ModifyExplod
Trigger1 = NumExplod(27005) = 1
Scale = 0.5+FVar(39),0.5+FVar(39)
ID = 27005

[State ]
Type = ModifyExplod
Trigger1 = NumExplod(955) = 1
Scale = 0.10-FVar(39)/5.0,0.10+FVar(39)/5.0
ID = 955

[State ]
Type = ModifyExplod
Trigger1 = NumExplod(956) = 1
Scale = 0.10+FVar(39)/5.0,0.10-FVar(39)/5.0
ID = 956

[State ]
Type = ModifyExplod
Trigger1 = NumExplod(957) = 1
Scale = 0.10+FVar(39)/5.0,0.10+FVar(39)/5.0
ID = 957

[State ]
Type = ModifyExplod
Trigger1 = NumExplod(25010) > 0
PosType = Left
Pos = 131, Ceil(ScreenHeight+74)-Floor(Parent,Var(0)/10000)-Var(5)
Scale = 0.00+(0.50*Parent,Life/Parent,Var(56)),0.50
ID = 25010

[State ]
Type = ModifyExplod
Trigger1 = NumExplod(25011) > 0
PosType = Right
Pos = -131, Ceil(ScreenHeight+74)-Floor(Parent,Var(0)/10000)-Var(5)
Scale = 0.00+(0.50*Parent,Life/Parent,Var(56)),0.50
ID = 25011

[State ]
Type = ModifyExplod
Trigger1 = NumExplod(25020) > 0
PosType = Left
Pos = 2, Ceil(ScreenHeight+74)-Floor(Parent,Var(0)/10000)-Var(5)
Scale = 0.00+(0.50*(Parent,Var(14)-258)/258),0.50
ID = 25020

[State ]
Type = ModifyExplod
Trigger1 = NumExplod(25021) > 0
PosType = Right
Pos = -2, Ceil(ScreenHeight+74)-Floor(Parent,Var(0)/10000)-Var(5)
Scale = 0.00+(0.50*(Parent,Var(14)-258)/258),0.50
ID = 25021

[State ]
Type = ModifyExplod
Trigger1 = NumExplod(25030) > 0
PosType = Left
Pos = 131, Ceil(ScreenHeight+79)-Floor(Parent,Var(0)/10000)-Var(5)
Scale = Cond(Parent,Var(14)>258,0.50,0.00+(0.50*Parent,Var(14)/258)),0.50
ID = 25030

[State ]
Type = ModifyExplod
Trigger1 = NumExplod(25031) > 0
PosType = Right
Pos = -131, Ceil(ScreenHeight+79)-Floor(Parent,Var(0)/10000)-Var(5)
Scale = Cond(Parent,Var(14)>258,0.50,0.00+(0.50*Parent,Var(14)/258)),0.50
ID = 25031

[State ]
Type = RemoveExplod
Trigger1 = Parent,Var(14) <= 258
Trigger1 = NumExplod(25020) > 0
ID = 25020

[State ]
Type = RemoveExplod
Trigger1 = Parent,Var(14) <= 258
Trigger1 = NumExplod(25021) > 0
ID = 25021

[State ]
Type = DestroySelf
Trigger1 = RoundState = 0

[State ]
Type = VarSet
TriggerAll = Parent,Var(59) <= 0 && RoundState = 2
Trigger1 = Parent,Command = "a" || Parent,Command = "b" || Parent,Command = "c"
Trigger2 = Parent,Command = "x" || Parent,Command = "y" || Parent,Command = "z" || Parent,Command = "start"
Trigger3 = Parent,Command = "up" || Parent,Command = "down" || Parent,Command = "fwd" || Parent,Command = "back"
V = 4
Value = 7

[State ]
Type = VarSet
Trigger1 = Parent,Var(59) <= 0 && RoundState = 2
Trigger1 = Parent,Command = "a" || Parent,Command = "b" || Parent,Command = "c"
V = 2
Value = Cond(Parent,Command="a",1,Cond(Parent,Command="b",2,3))

[State ]
Type = VarSet
Trigger1 = Parent,Var(59) <= 0 && RoundState = 2
Trigger1 = Parent,Command = "x" || Parent,Command = "y" || Parent,Command = "z" || Parent,Command = "start"
V = 2
Value = Cond(Parent,Command="x",4,Cond(Parent,Command="y",5,Cond(Parent,Command="z",6,7)))

[State ]
Type = VarSet
Trigger1 = Parent,Var(59) <= 0 && RoundState = 2
Trigger1 = Var(2) > 0 && Parent,Var(10)/10%10 >= 2
Trigger1 = Parent,Command = "holddown" && Parent,Command = "holdback"
V = 3
Value = 1

[State ]
Type = VarSet
Trigger1 = Parent,Var(59) <= 0 && RoundState = 2
Trigger1 = Var(2) > 0
Trigger1 = Parent,Command = "holddown" && Parent,Command != "holdfwd" && Parent,Command != "holdback"
V = 3
Value = 2

[State ]
Type = VarSet
Trigger1 = Parent,Var(59) <= 0 && RoundState = 2
Trigger1 = Var(2) > 0 && Parent,Var(10)%10 >= 2
Trigger1 = Parent,Command = "holddown" && Parent,Command = "holdfwd"
V = 3
Value = 3

[State ]
Type = VarSet
Trigger1 = Parent,Var(59) <= 0 && RoundState = 2
Trigger1 = Var(2) > 0 && Parent,Var(10)/10%10 >= 2
Trigger1 = Parent,Command = "holdback" && Parent,Command != "holdup" && Parent,Command != "holddown"
V = 3
Value = 4

[State ]
Type = VarSet
Trigger1 = Parent,Var(59) <= 0 && RoundState = 2
Trigger1 = Var(2) > 0 && Parent,Var(10)%10 >= 2
Trigger1 = Parent,Command = "holdfwd" && Parent,Command != "holdup" && Parent,Command != "holddown"
V = 3
Value = 6

[State ]
Type = VarSet
Trigger1 = Parent,Var(59) <= 0 && RoundState = 2
Trigger1 = Var(2) > 0 && Parent,Var(10)/10%10 >= 2
Trigger1 = Parent,Command = "holdback" && Parent,Command = "holdup"
V = 3
Value = 7

[State ]
Type = VarSet
Trigger1 = Parent,Var(59) <= 0 && RoundState = 2
Trigger1 = Var(2) > 0
Trigger1 = Parent,Command = "holdup" && Parent,Command != "holdfwd" && Parent,Command != "holdback"
V = 3
Value = 8

[State ]
Type = VarSet
Trigger1 = Parent,Var(59) <= 0 && RoundState = 2
Trigger1 = Var(2)%10 > 0 && Parent,Var(10)%10 >= 2
Trigger1 = Parent,Command = "holdfwd" && Parent,Command = "holdup"
V = 3
Value = 9

[State ]
Type = VarSet
TriggerAll = Parent,Var(59) <= 0 && RoundState = 2
Trigger1 = Parent,Command = "FF" || Parent,Command = "BB"
V = 2
Value = Cond(Parent,Command="FF",100,110)

[State ]
Type = VarSet
Trigger1 = Parent,Var(59) <= 0 && RoundState = 2
Trigger1 = Parent,Command = "bjump" || Parent,Command = "jump" || Parent,Command = "fjump"
V = 2
Value = Cond(Parent,Command="bjump",130,Cond(Parent,Command="jump",140,150))

[State ]
Type = VarSet
Trigger1 = Parent,Var(59) <= 0 && RoundState = 2
Trigger1 = Parent,Command = "22c" || Parent,Command = "22y" || Parent,Command = "22z"
V = 2
Value = 120+Cond(Parent,Command="22c",3,Cond(Parent,Command="22y",5,6))

[State ]
Type = VarSet
Trigger1 = Parent,Var(59) <= 0 && RoundState = 2
Trigger1 = Parent,Command = "214a" || Parent,Command = "214b" || Parent,Command = "214c"
V = 2
Value = 250+Cond(Parent,Command="214a",1,Cond(Parent,Command="214b",2,3))

[State ]
Type = VarSet
Trigger1 = Parent,Var(59) <= 0 && RoundState = 2
Trigger1 = Parent,Command = "236c"
V = 2
Value = 223

[State ]
Type = VarSet
Trigger1 = Parent,Var(59) <= 0 && RoundState = 2
Trigger1 = Parent,Command = "623a" || Parent,Command = "623b" || Parent,Command = "623c" || Parent,Command = "623z"
V = 2
Value = 210+Cond(Parent,Command="623a",1,Cond(Parent,Command="623b",2,Cond(Parent,Command="623c",3,6)))

[State ]
Type = VarSet
Trigger1 = Parent,Var(59) <= 0 && RoundState = 2
Trigger1 = Parent,Command != "22z" && Parent,Command = "22z2"
V = 2
Value = 296

[State ]
Type = VarAdd
Trigger1 = Var(4) > 0
V = 4
Value = -1

[State ]
Type = VarRangeSet
Trigger1 = Var(2) + Var(3) != 0 && Var(4) = 0
First = 2
Last = 4
Value = 0

[State ]
Type = VarRangeSet
TriggerAll = Parent,Time < 2
TriggerAll = Var(2) + Var(3) + Var(4) != 0
Trigger1 = Parent,StateNo = 50 || Parent,StateNo = 100 || Parent,StateNo = 102 || Parent,StateNo = 105 || Parent,StateNo = 107
Trigger2 = Parent,StateNo = 110 || Parent,StateNo = 112 || Parent,StateNo = 115 || Parent,StateNo = 117
Trigger3 = Parent,StateNo = [200,3999]
First = 2
Last = 4
Value = 0

[State ]
Type = VarSet
Trigger1 = Var(6) = 0 && Parent,Var(0)/10000 > 0
V = 5
Value = -Parent,Var(0)/10000

[State ]
Type = VarAdd
Trigger1 = Var(6) < 25 && RoundState = 2
Trigger2 = Var(6) < 50
Trigger2 = RoundState = 3 ||! Alive
V = 6
Value = 1

[State ]
Type = VarAdd
Trigger1 = Var(6) = [1,12]
V = 5
Value = Floor(1+Cond(Parent,Var(0)/10000>0,Parent,Var(0)/10000/25.0,0)+Var(6)*0.5)

[State ]
Type = VarAdd
Trigger1 = Var(6) = [13,24]
V = 5
Value = Floor(1+Cond(Parent,Var(0)/10000>0,Parent,Var(0)/10000/25.0,0)+6-(Var(6)-12)*0.5)

[State ]
Type = VarAdd
Trigger1 = Var(6) = [26,37]
V = 5
Value = -Floor(1+Cond(Parent,Var(0)/10000>0,Parent,Var(0)/10000/25.0,0)+(Var(6)-25)*0.5)

[State ]
Type = VarAdd
Trigger1 = Var(6) = [38,49]
V = 5
Value = -Floor(1+Cond(Parent,Var(0)/10000>0,Parent,Var(0)/10000/25.0,0)+6-(Var(6)-37)*0.5)

;---------------------------------------------------------------------------
; 端検出
[Statedef 28000]
Type = A
Anim = 9999

[State ]
Type = PosSet
Trigger1 = Time = 0
X = 0
Y = 0

[State ]
Type = Projectile
Trigger1 = Time = 0
Velocity = Cond(IsHelper(28000),-1000,1000),0
ProjID = 28000+IsHelper(28001)*10
ProjAnim = 9999
Offset = 0,0
ProjStageBound = 0
ProjEdgeBound = 99999
ProjRemoveTime = 10
SuperMoveTime = 99
PauseMoveTime = 99

[State ]
Type = VarSet
Trigger1 = IsHelper(28000) && Root,NumProjID(28000) = 1
Trigger2 = IsHelper(28001) && Root,NumProjID(28010) = 1
V = 1
Value = Time*1000

[State ]
Type = Projectile
TriggerAll = Var(1) < 10000 && Var(2) = 0
Trigger1 = IsHelper(28000) && Root,NumProjID(28000)+Root,NumProjID(28001)+Root,NumProjID(28002)+Root,NumProjID(28003) = 0
Trigger2 = IsHelper(28001) && Root,NumProjID(28010)+Root,NumProjID(28011)+Root,NumProjID(28012)+Root,NumProjID(28013) = 0
Velocity = Cond(IsHelper(28000),-100,100),0
ProjID = 28001+IsHelper(28001)*10
ProjAnim = 9999
Offset = Var(1)*Cond(IsHelper(28000),-1,1),0
ProjStageBound = 0
ProjEdgeBound = 99999
ProjRemoveTime = 9
SuperMoveTime = 99
PauseMoveTime = 99

[State ]
Type = VarSet
TriggerAll = Var(1) < 10000
Trigger1 = IsHelper(28000) && Root,NumProjID(28001) = 1
Trigger2 = IsHelper(28001) && Root,NumProjID(28011) = 1
V = 2
Value = Var(1)+((Time-1)-Var(1)/1000)*100

[State ]
Type = Projectile
TriggerAll = Var(1) < 10000 && Var(3) = 0
Trigger1 = IsHelper(28000) && Root,NumProjID(28000)+Root,NumProjID(28001)+Root,NumProjID(28002)+Root,NumProjID(28003) = 0
Trigger2 = IsHelper(28001) && Root,NumProjID(28010)+Root,NumProjID(28011)+Root,NumProjID(28012)+Root,NumProjID(28013) = 0
Velocity = Cond(IsHelper(28000),-10,10),0
ProjID = 28002+IsHelper(28001)*10
ProjAnim = 9999
Offset = Var(2)*Cond(IsHelper(28000),-1,1),0
ProjStageBound = 0
ProjEdgeBound = 99999
ProjRemoveTime = 9
SuperMoveTime = 99
PauseMoveTime = 99

[State ]
Type = VarSet
TriggerAll = Var(1) < 10000
Trigger1 = IsHelper(28000) && Root,NumProjID(28002) = 1
Trigger2 = IsHelper(28001) && Root,NumProjID(28012) = 1
V = 3
Value = Var(2)+((Time-2)-Var(2)/1000%10-Var(2)/100%10)*10

[State ]
Type = Projectile
TriggerAll = Var(1) < 10000 && Var(4) = 0
Trigger1 = IsHelper(28000) && Root,NumProjID(28000)+Root,NumProjID(28001)+Root,NumProjID(28002)+Root,NumProjID(28003) = 0
Trigger2 = IsHelper(28001) && Root,NumProjID(28010)+Root,NumProjID(28011)+Root,NumProjID(28012)+Root,NumProjID(28013) = 0
Velocity = Cond(IsHelper(28000),-1,1),0
ProjID = 28003+IsHelper(28001)*10
ProjAnim = 9999
Offset = Var(3)*Cond(IsHelper(28000),-1,1),0
ProjStageBound = 0
ProjEdgeBound = 99999
ProjRemoveTime = 9
SuperMoveTime = 99
PauseMoveTime = 99

[State ]
Type = VarSet
TriggerAll = Var(1) < 10000
Trigger1 = IsHelper(28000) && Root,NumProjID(28003) = 1
Trigger2 = IsHelper(28001) && Root,NumProjID(28013) = 1
V = 4
Value = Var(3)+((Time-3)-Var(3)/1000%10-Var(3)/100%10-Var(3)/10%10)

[State ]
Type = ParentVarSet
Trigger1 = 1
FV = 35+IsHelper(28001)
Value = Cond(IsHelper(28000),-Var(4),Var(4))

[State ]
Type = DestroySelf
TriggerAll = Time > 3
Trigger1 = IsHelper(28000) && Root,NumProjID(28000)+Root,NumProjID(28001)+Root,NumProjID(28002)+Root,NumProjID(28003) = 0
Trigger2 = IsHelper(28001) && Root,NumProjID(28010)+Root,NumProjID(28011)+Root,NumProjID(28012)+Root,NumProjID(28013) = 0
Trigger3 = Time > 40

;---------------------------------------------------------------------------
; ダウン
[Statedef 30000]
Anim = 9999

[State ]
Type = PlaySnd
Trigger1 = Time = 2
Trigger1 = TeamMode = Single || TeamMode = Turns
Value = s30000, 0

[State ]
Type = VarAdd
Trigger1 = Time >= 14
FV = 1
Value = 0.1

[State ]
Type = Explod
Trigger1 = Time = 1
Anim = 30006
PosType = Left
Pos = -10, Ceil(ScreenHeight/2+10)
BindTime = -1
Scale = 0.5,0.5
SuperMoveTime = 999
PauseMoveTime = 999
OnTop = 1
ID = 30000

[State ]
Type = Explod
Trigger1 = Time = 1
Anim = 30000
PosType = Left
Pos = -10, Ceil(ScreenHeight/2+10)
BindTime = -1
Scale = 0.5,0.5
SuperMoveTime = 999
PauseMoveTime = 999
OnTop = 1
ID = 30000

[State ]
Type = Explod
Trigger1 = Time = 1
Anim = 30007
PosType = Left
Pos = 155, Ceil(ScreenHeight/2+85)
BindTime = -1
Scale = 0.5,0.5
SuperMoveTime = 999
PauseMoveTime = 999
OnTop = 1
ID = 30001

[State ]
Type = Explod
Trigger1 = Time = 1
Anim = 30001
PosType = Left
Pos = 155, Ceil(ScreenHeight/2+85)
BindTime = -1
Scale = 0.5,0.5
SuperMoveTime = 999
PauseMoveTime = 999
OnTop = 1
ID = 30001

[State ]
Type = Explod
Trigger1 = Time = 1
Anim = 30008
PosType = Left
Pos = 350, Ceil(ScreenHeight/2-20)
BindTime = -1
Scale = 0.5,0.5
SuperMoveTime = 999
PauseMoveTime = 999
OnTop = 1
ID = 30002

[State ]
Type = Explod
Trigger1 = Time = 1
Anim = 30002
PosType = Left
Pos = 350, Ceil(ScreenHeight/2-20)
BindTime = -1
Scale = 0.5,0.5
SuperMoveTime = 999
PauseMoveTime = 999
OnTop = 1
ID = 30002

[State ]
Type = Explod
Trigger1 = Time = 12
Anim = 30005
PosType = Left
Pos = 160, Ceil(ScreenHeight/2)
BindTime = -1
SprPriority = -5
SuperMoveTime = 999
PauseMoveTime = 999
ID = 30005

[State ]
Type = ModifyExplod
Trigger1 = 1
ID = 30005
Scale = 2.0+FVar(1),2.0+FVar(1)

[State ]
Type = DestroySelf
Trigger1 = RoundState = 4

;---------------------------------------------------------------------------
; 勝者
[Statedef 30010]
Anim = 9999

[State ]
Type = PalFx
Trigger1 = Time = [58,69]
Time = 1
Add = 0-(Time-57)*20,0-(Time-57)*20,0-(Time-57)*20

[State ]
Type = Explod
Trigger1 = Time = 1 || Time = 8 || Time = 16
Anim = 30015+(Time=8)+(Time=16)*10
PosType = Left
Pos = Ceil(Cond(Time=16,160,135))+(Time=8)*50, Ceil(ScreenHeight/2)+Cond(Time=1,-45,Cond(Time=8,-55,40))
BindTime = -1
SuperMoveTime = 999
PauseMoveTime = 999
OnTop = 1
ID = 30010+(Time=8)+(Time=16)*10

[State ]
Type = Explod
Trigger1 = Time = 1 || Time = 8 || Time = 16
Anim = 30010+(Time=8)+(Time=16)*10
PosType = Left
Pos = Ceil(Cond(Time=16,160,135))+(Time=8)*50, Ceil(ScreenHeight/2)+Cond(Time=1,-45,Cond(Time=8,-55,40))
BindTime = -1
Ownpal = 1
SuperMoveTime = 999
PauseMoveTime = 999
OnTop = 1
ID = 30010+(Time=8)+(Time=16)*10

[State ]
Type = VarAdd
Trigger1 = Time = [1,10]
FV = 1
Value = -0.2

[State ]
Type = ModifyExplod
Trigger1 = 1
ID = 30010
Scale = 2.5+FVar(1),2.5+FVar(1)

[State ]
Type = VarAdd
Trigger1 = Time = [9,18]
FV = 2
Value = -0.2

[State ]
Type = ModifyExplod
Trigger1 = 1
ID = 30011
Scale = 2.5+FVar(2),2.5+FVar(2)

[State ]
Type = VarAdd
Trigger1 = Time = [17,26]
FV = 3
Value = -0.2

[State ]
Type = ModifyExplod
Trigger1 = 1
ID = 30020
Scale = 2.5+FVar(3),2.5+FVar(3)
