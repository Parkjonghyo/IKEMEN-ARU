; これは闇のアギトのＣＮＳファイルです。
; コメントを参考にしてＣＮＳを理解してください

;Var(0) = コンフィグ
;Var(1) = 音声
;Var(2) = キャンセル
;Var(3) = ハイジャンプ
;Var(4) = コンボ時間カウント
;Var(5) = ヒット数補正
;Var(6) = 
;Var(7) = 
;Var(8) = 
;Var(9) = 特殊コマンド制限用
;Var(10) = レバー入れコマンド制限用
;Var(11) = 2段ジャンプ、空中ダッシュ回数
;Var(12) = リバーサルアタック
;Var(13) = ライフ持ち越し用
;Var(14) = Pゲージ
;Var(15) = エンハンス用
;Var(16) = ダッシュ慣性付き垂直ジャンプ判定
;Var(17)〜Var(19) = スーパーアーマー
;Var(20) = 
;Var(21) = 
;Var(22) = 
;Var(23) = 
;Var(24) = 
;Var(25) = ループコンボ制限
;Var(26) = PゲージBゲージMAXモード/PゲージBゲージ0モード
;Var(27) = 画面はしノックバック
;Var(28) = ダメージカウンター
;Var(29) = ダメージカウンター
;Var(30) = エクステンドチャージ補正表示用
;Var(31) = 特定攻撃のコンボ補正
;Var(32) = 黒ビート、インバリッド判定
;Var(33) = 黒ビート、インバリッド判定
;Var(34) = 特殊Bダッシュコマンド制限
;Var(35) = Bダッシュ使用回数
;Var(36) = 黒ビート、インバリッドカウンター
;Var(37) = 暗転時間カウント
;Var(38) = カウンター判定
;Var(39) = 増加ゲージ分割割合
;Var(40) = 
;Var(41) = 
;Var(42) = 
;Var(43) = 
;Var(44) = 
;Var(45) = 
;Var(46) = 
;Var(47) = ナイフ本数制限
;Var(48) = 
;Var(49) = 
;Var(50) = 
;Var(51) = 
;Var(52) = 
;Var(53) = 
;Var(54) = 
;Var(55) = 
;Var(56) = ライフ記憶用
;Var(57) = AIEnemyNear切り替え用
;Var(58) = AIランダム
;Var(59) = AI

;FVar(0) = コンボ補正
;FVar(1) = 特定攻撃のコンボ補正
;FVar(2) = エクステンドチャージ補正
;FVar(3) = 根性値補正
;FVar(4) = ノックバック補正
;FVar(5) = ヒット数補正
;FVar(6) = defencemulバグ用
;FVar(7) = 画面はしノックバック
;FVar(8) = Pゲージ補正
;FVar(9) = Bダッシュ補正
;FVar(10) = ガード削りKO用
;FVar(11) = 防御係数
;FVar(12) = 
;FVar(13) = 
;FVar(14) = 
;FVar(16) = 
;FVar(25) = 
;FVar(26) = 
;FVar(27) = 
;FVar(39) = やられモーションのアニメ変更用

; これは闇のアギトの定数と状態のファイルです。
; 絶対記入し、削除はしないでください。
[Data]
  ;体力ゲージの初期値
Life = 1000
  ;攻撃力（これ以上に設定すると強くなる）
Power = 5000
Attack = 100
  ;防御力（これ以上に設定すると強くなる）
Defence = 100
  ;コンボをくらっている時にあがる防御力
Fall.Defence_Up = 50
  ;倒れてから起上がるまでのフレーム数
Liedown.Time = 30
  ;空中でどれだけコンボが繋がるか（高くすると無限コンボになるので注意）
AirJuggle = 15
  ;hitdefで設定していない時の基本ヒットスパークナンバー
SparkNo = 2
  ;設定してない時のガードナンバー
Guard.SparkNo = 40
  ;KOした時に声にエコーをかけるか（１でＯＮ）
KO.Echo = 0
 Volume = 100
  IntPersistIndex = 13
FloatPersistIndex = 2

[Size]
xscale = 1           ;水平方向の縮尺（通常１）
yscale = 1           ;垂直方向の縮尺（通常１）
ground.back = 16     ;キャラの幅(後方,地上)
ground.front = 17    ;キャラの幅(前方,地上)
air.back = 16        ;キャラの幅(後方,空中)
air.front = 17       ;キャラの幅(前方,空中)
height = 65          ;キャラの高さ
attack.dist = 160    ;攻撃をした時相手がガード体制に入る最低距離
proj.attack.dist = 90;攻撃をした時相手がガード体制に入る最低距離（飛び道具）
proj.doscale = 0     ;上で設定した縮尺を飛び道具にも適用するか（１でＯＮ）   
head.pos = -5, -90   ;頭の大体の座標
mid.pos = -5, -50    ;体の中心の大体の座標
shadowoffset = 0     ;影の垂直方向のオフセット
draw.offset = 0,0    ;使用しない

[Velocity]
walk.fwd  = 1.8      ;前進の速度
walk.back = -1.4     ;後退の速度
run.fwd  = 4.6, 0    ;前ダッシュの速度（ホップする時はyを-にする）
run.back = -4.5,-3.8 ;後ダッシュの速度（ホップする時はyを-にする）
jump.neu = 0,-8.5    ;垂直ジャンプの速度
jump.back = -2.6.0    ;後ジャンプの速度
jump.fwd = 2.2       ;前ジャンプの速度
runjump.back = -3.1,-8.5 ;後ダッシュしながらのジャンプ速度(オプション)
runjump.fwd = 2.7,-8.5     ;前ダッシュしながらのジャンプ速度(オプション)
airjump.neu = 0,-8.5      ;２段ジャンプ以降の垂直ジャンプの速度(オプション)
airjump.back = -2.6      ;２段ジャンプ以降の後ジャンプの速度(オプション)
airjump.fwd = 2.2         ;２段ジャンプ以降の前ジャンプの速度

[Movement]
airjump.num = 0      ;空中でジャンプする回数
airjump.height = 35  ;空中でジャンプする最低限の高さ
yaccel = .46         ;重力
stand.friction = .85  ;立ち状態の摩擦係数
crouch.friction = .82 ;屈み状態の摩擦係数

;---------------------------------------------------------------------------
; ステイトの解説
; [Statedef STATENO]
; type = ?      S/C/A/L  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｌ：ダウン
; movetype = ?  I/A/H    Ｉ：通常状態/Ａ：攻撃状態/Ｈ：ダメージをくらってる状態
; physics = ?   S/C/A/N  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｎ：無し
; juggle = ?             その攻撃に使うジャグル数
;

;---------------------------------------------------------------------------
; タイムオーバーで負けた時
[Statedef 170]
Type = S
Ctrl = 0
Anim = 170
VelSet = 0,0

[State 170, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s170, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
Trigger1 = Time >= 0
Trigger1 = Time <= 200
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作１
[Statedef 180]
Type = S
Ctrl = 0
Anim = 181
VelSet = 0,0

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = Var(1) = 1
Trigger1 = Time = 0
Value = 181
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 5
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1115, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 4
ID = 6012
PosType = P1
Pos = 25,-40
Anim = 6012+Random%3
Facing = IfElse(Random%2=0,1,-1)
RemoveTime = -2
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 6
ID = 6012
PosType = P1
Pos = 40,-75
Anim = 6012+Random%3
Facing = IfElse(Random%2=0,1,-1)
RemoveTime = -2
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 8
ID = 6012
PosType = P1
Pos = 35,-120
Anim = 6012+Random%3
Facing = IfElse(Random%2=0,1,-1)
RemoveTime = -2
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 10
ID = 6012
PosType = P1
Pos = 5,-130
Anim = 6012+Random%3
Facing = IfElse(Random%2=0,1,-1)
RemoveTime = -2
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 12
ID = 6012
PosType = P1
Pos = -35,-130
Anim = 6012+Random%3
Facing = IfElse(Random%2=0,1,-1)
RemoveTime = -2
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 4
Anim = 51
ID = 51
Postype = P1
Pos = 0,0
Vel = -2,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
Removetime = -2

[State -1]
Type = Explod
Trigger1 = AnimElem = 4
Anim = 51
ID = 51
Postype = P1
Pos = 20,0
Vel = 2,0
Facing = -1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
Removetime = -2

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time <= 120
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作２
[Statedef 181]
Type = S
Ctrl = 0
Anim = 182
VelSet = 0,0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarRandom
Trigger1 = Time = 30
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = Time = 30
Value = s750, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = Time = 30
Value = s3000, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 30
ID = 185
PosType = P1
Pos = 0,0
StateNo = 185
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 5
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
ID = 186
PosType = P1
Pos = 0,-70
StateNo = 186
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 10
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
ID = 187
PosType = P1
Pos = 0,-70
StateNo = 186
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 10
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
ID = 188
PosType = P1
Pos = 0,-70
StateNo = 186
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 10
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
ID = 189
PosType = P1
Pos = 0,-70
StateNo = 186
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 10
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
ID = 190
PosType = P1
Pos = 0,-70
StateNo = 186
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 10
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
ID = 191
PosType = P1
Pos = 0,-70
StateNo = 186
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 10
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
ID = 192
PosType = P1
Pos = 0,-70
StateNo = 186
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 10
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1]
Type = AssertSpecial
Trigger1 = Time <= 220
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 負けた次のラウンド開始前の動作
[Statedef 189]
Type = S
Ctrl = 0
Anim = 189
VelSet = 0,0

[State 170, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s185, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 5
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 6
Anim = 1020
ID = 1020
PosType = P1
Pos = 0,-60
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; 開始前の動作 1
[Statedef 191]
Type = S
Ctrl = 0
Anim = 190
VelSet = 0,0

[State -1] 
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State -1]
Type = VarRandom
Trigger1 = Enemy,Name != "Rouga_Zanma"
Trigger1 = Time = 10
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Enemy,Name != "Rouga_Zanma"
Trigger1 = Var(1) = 0
Trigger1 = Time = 10
Value = s190, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Enemy,Name != "Rouga_Zanma"
Trigger1 = Var(1) = 1
Trigger1 = Time = 10
Value = s190, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Enemy,Name = "Rouga_Zanma"
Trigger1 = Time = 10
Value = s190, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerSet
Trigger1 = RoundNo = 1
Trigger1 = Time = 0
Value = 1000
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; エンハンス
[Statedef 195]
Type = S
Ctrl = 0
Anim = 195
MoveType = I
Physics = S
Sprpriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s190, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s195, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s195, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 9
Value = s191, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Var(15) < 3
Trigger1 = AnimElem = 9
V = 15
Value = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 9
StateNo = 196
ID = 196
Ownpal = 1
SprPriority = 4

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 立ち弱
[Statedef 200]
Type    = S                      
MoveType= A                      
Physics = S                      
Juggle  = 0                      
;Commonly-used controllers:
Ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
Anim = 200                       ;このステートで表示するスプライトステート番号(0で変化無し)
SprPriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s40, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 1
V = 1
Range = 0,4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = Time = 1
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = Time = 1
Value = s200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = Time = 1
Value = s200, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Var(4) = 0
Trigger1 = FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = AnimElem = 2
Attr = S, NA                                             ;立ち状態で、通常の攻撃(ｓは立ち、ｎは通常、aは攻撃を表す)
Damage = Ceil(FVar(0)*(12-Var(5)%2))                     ;ダメージ量（左が当たった時、右はガードした時）
AnimType = Light                                         ;当てた時の相手のポーズ（light/midium/hard/back）から選択
GuardFlag = MA                                           ;ガードできる状態（ｍaは全ての状態でガード可能）
HitFlag = MAFD                                           ;当てる事のできる条件
Priority = 1, Hit                                        ;攻撃の優先権（0弱い　4通常　7強い
PauseTime = 7+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)),7+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,6));攻撃が当たった時の硬直時間（左が自分、右が相手）
Guard.PauseTime = 7+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 7+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound = s20, 0                                        ;ヒットした時の音（ｓ*,*にすると自分の音を使う）
GuardSound = s120, 0+Random%2                            ;ガードした時の音（同上）
SparkXY = -Random%20, -50-Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low                                       ;相手のくらった場所（High：頭、体, Low：足, Trip：足払い）
Ground.SlideTime = 9                                    ;相手が後にすべる時間
Ground.HitTime  = 9+IfElse(P2StateType=C,1,0)           ;コンボが繋がる時間（高くしすぎない事）
Guard.HitTime  = 9
Ground.Velocity = -4.5*FVar(4)                          ;地上で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
AirGuard.Velocity = -2*FVar(4),-1.2                     ;空中で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
Air.Type = Low                                          ;空中で相手がくらった場所（上と同じ）
Air.Velocity = -1.2*FVar(4),-4                          ;空中で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -3.2*FVar(4)
Down.CornerPush.VelOff = -3.2*FVar(4)
Fall.XVelocity = 0
YAccel = .42
ID = 200
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 25
GetPower = Ceil(140*Var(39)*0.1), Ceil(60*Var(39)*0.1)
GivePower = Ceil(140*(10-Var(39))*0.1), Ceil(60*(10-Var(39))*0.1)

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear,BackEdgeBodyDist <= 0 || EnemyNear,FrontEdgeBodyDist <= 0
Trigger1 = MoveHit = 1
FV = 7
Value = -4.5*FVar(4)
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;立ち中
[Statedef 210]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 210
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s40, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s40, 4
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s210, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Var(4) = 0
Trigger1 = FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = AnimElem = 3
Attr = S, NA
Damage = Ceil(FVar(0)*(15-Var(5)%2))
Priority  = 2, Hit
AnimType  = Midium
HitFlag = MAFD
GuardFlag = MA
PauseTime = 9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)),9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,6))
Guard.PauseTime = 9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 14+IfElse(Var(38)=1,5,0)
Ground.HitTime  = 14+IfElse(Var(38)=1,5,0)+IfElse(P2StateType=C,2,0)
Guard.HitTime  = 14
Ground.Velocity = -7.5*FVar(4)
Air.Velocity = -1.2*FVar(4),-5
AirGuard.Velocity = -2.2*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -9.5
Air.CornerPush.VelOff = -3.2*FVar(4)
Down.CornerPush.VelOff = -3.2*FVar(4)
Fall.XVelocity = 0
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 29
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear,BackEdgeBodyDist <= 0 || EnemyNear,FrontEdgeBodyDist <= 0
Trigger1 = MoveHit = 1
FV = 7
Value = -7.5*FVar(4)
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;立ち強
[Statedef 220]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 220
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -10

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s40, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 3
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 3
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 3
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 3
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 9
StateNo = 225
ID = 225
Pos = 26,-78
Ownpal = 1
SprPriority = 4

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;ヒャッハー！
[Statedef 230]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
VelSet = 0,0
Ctrl = 0
Anim = 230
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -8

[State -1]
Type = Helper
Trigger1 = Time = 14
StateNo = 9500
ID = 9500
Ownpal = 1
Keyctrl = 0

[State -1]
Type = PosSet
TriggerAll = NumHelper(9500) > 0
TriggerAll = Time = [15,33]
Trigger1 = Facing = 1
Trigger1 = Pos X > Helper(9500),Pos X
Trigger2 = Facing = -1
Trigger2 = Pos X < Helper(9500),Pos X
X = Ceil(Helper(9500),Pos X)

[State -1] 
Type = StateTypeSet
Trigger1 = AnimElem = 5
StateType = A
Physics = N

[State -1]
Type = Explod
Trigger1 = AnimElem = 5
Anim = 51
ID = 51
Postype = P1
Pos = -10,0
Vel = -1,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
Removetime = -2

[State -1]
Type = Explod
Trigger1 = AnimElem = 5
Anim = 51
ID = 51
Postype = P1
Pos = 0,0
Vel = 1,0
Facing = -1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
Removetime = -2

[State -1] 
Type = VelSet
Trigger1 = AnimElem = 5
X = 8
Y = -5.4

[State -1] 
Type = VelAdd
Trigger1 = Vel X >= 1.2
Trigger1 = Time >= 4
X = -.32

[State -1] 
Type = VelAdd
Trigger1 = Time >= 4
Y = .28

[State -1]
Type = PosSet
Trigger1 = AnimTime = 0
Y = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s100, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 8
Value = s230, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 8
Value = s30, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Var(4) = 0
Trigger1 = FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = AnimElem = 9
Attr = A, NA
Damage = Ceil(FVar(0)*(30-Var(5)%2))
Priority  = 3, Hit
AnimType  = Midium
HitFlag = MAFD
GuardFlag = MA
PauseTime = 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)),11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,6))
Guard.PauseTime = 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 14+IfElse(Var(38)=1,5,0)
Ground.HitTime  = 14+IfElse(Var(38)=1,5,0)+IfElse(P2StateType=C,2,0)
Guard.HitTime  = 14
Ground.Velocity = -7.5*FVar(4)
Air.Velocity = -3*FVar(4),15
AirGuard.Velocity = -3*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -9.5
Air.CornerPush.VelOff = -4*FVar(4)
Down.CornerPush.VelOff = -4*FVar(4)
Fall.XVelocity = 0
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State -1]
Type = HitDef
TriggerAll = Var(25) = [-1,1]
TriggerAll = P2StateType != S && P2StateType != C
Trigger1 = AnimElem = 9
Attr = A, NA
Damage = Ceil(FVar(0)*(30-Var(5)%2))
Priority  = 3, Hit
AnimType  = Midium
HitFlag = MAFD
GuardFlag = MA
PauseTime = 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)),10+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,6))
Guard.PauseTime = 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 14+IfElse(Var(38)=1,5,0)
Ground.HitTime  = 14+IfElse(Var(38)=1,5,0)+IfElse(P2StateType=C,2,0)
Guard.HitTime  = 14
Ground.Velocity = -7.5*FVar(4)
Air.Velocity = -3*FVar(4),15
AirGuard.Velocity = -3*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -9.5
Air.CornerPush.VelOff = -4*FVar(4)
Down.CornerPush.VelOff = -4*FVar(4)
Fall.XVelocity = 0
YAccel = .42
ID = 5700
P2Facing = 1
P2StateNo = 5700
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State -1]
Type = HitDef
TriggerAll = Var(25) = [-1,1]
TriggerAll = Var(38) = 1
Trigger1 = AnimElem = 9
Attr = A, NA
Damage = Ceil(FVar(0)*(30-Var(5)%2))
Priority  = 3, Hit
AnimType  = Midium
HitFlag = MAFD
GuardFlag = MA
PauseTime = 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)),10+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,6))
Guard.PauseTime = 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 14+IfElse(Var(38)=1,5,0)
Ground.HitTime  = 14+IfElse(Var(38)=1,5,0)+IfElse(P2StateType=C,2,0)
Guard.HitTime  = 14
Ground.Velocity = -7.5*FVar(4)
Air.Velocity = -3*FVar(4),15
AirGuard.Velocity = -3*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -9.5
Air.CornerPush.VelOff = -4*FVar(4)
Down.CornerPush.VelOff = -4*FVar(4)
Fall.XVelocity = 0
YAccel = .42
ID = 5700
P2Facing = 1
P2StateNo = 5700
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear,BackEdgeBodyDist <= 0 || EnemyNear,FrontEdgeBodyDist <= 0
Trigger1 = MoveHit = 1
FV = 7
Value = -7.5*FVar(4)
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 52

;---------------------------------------------------------------------------
;ブービートラップ
[Statedef 240]
Type    = S
Physics = S
Juggle  = 0
VelSet = 0,0
Ctrl = 0
SprPriority = 2
Facep2 = 1

[State -1]
Type = ChangeAnim
Trigger1 = PrevStateNo != 800
Trigger1 = Time = 0
Value = 240
Persistent = 0

[State -1]
Type = ChangeAnim
Trigger1 = PrevStateNo = 800
Trigger1 = Time = 0
Value = 240
Elem = 2
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = PrevStateNo != 800
Trigger1 = Time = 0
V = 14
Value = -16

[State -1]
Type = NotHitBy
Trigger1 = Anim = 240
Trigger1 = AnimElem = 4
Value = , NA, SA, HA ,NP, SP, HP
Time = 31

[State -1]
Type = VelSet
Trigger1 = Anim = 240
Trigger1 = Time >= 0
X = Const(Velocity.Walk.Fwd.X)

[State -1]
Type = ChangeState
Trigger1 = Anim = 240
Trigger1 = AnimTime = 0
Value = 245

[State -1]
Type = ChangeState
Trigger1 = Anim = 240
Trigger1 = Time >= 31
Trigger1 = P2BodyDist X = [-10,10]
Trigger1 = P2StateType = S || P2StateType = C
Value = 241

;---------------------------------------------------------------------------
;ブービートラップ
[Statedef 245]
Type    = S
Physics = S
Juggle  = 0
VelSet = 0,0
Ctrl = 0
Anim = 245
SprPriority = 2

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s240, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 2
Anim = 51
ID = 51
Postype = P1
Pos = 40,0
Vel = 2,0
Facing = -1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
Removetime = -2

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s100, 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 20
Value = s41, 0

[State -1]
type = StateTypeSet
Trigger1 = Time = [3,19]
StateType = A

[State -1]
Type = StateTypeSet
Trigger1 = Time = 20
StateType = S

[State -1]
Type = PosAdd
Trigger1 = Time = [3,19]
X = -7

[State -1]
Type = PosAdd
Trigger1 = Time = 3
Y = -4

[State -1]
Type = PosAdd
Trigger1 = Time = [4,5]
Y = -3

[State -1]
Type = PosAdd
Trigger1 = Time = [6,7]
Y = -2

[State -1]
Type = PosAdd
Trigger1 = Time = [8,10]
Y = -1

[State -1]
Type = PosAdd
Trigger1 = Time = [11,13]
Y = 1

[State -1]
Type = PosAdd
Trigger1 = Time = [14,15]
Y = 2

[State -1]
Type = PosAdd
Trigger1 = Time = [17,18]
Y = 3

[State -1]
Type = PosAdd
Trigger1 = Time = 19
Y = 4

[State -1]
Type = Explod
Trigger1 = Time = 19
Anim = 50
ID = 50
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
RemoveTime = -2

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;ブービートラップ成功
[Statedef 241]
Type    = A
Physics = N
Juggle  = 0
VelSet = 0,0
Ctrl = 0
Anim = 241
SprPriority = 2
Facep2 = 1

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s241, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 1
Anim = 10040
ID = 10040
Postype = P1
Pos = 0,0
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
Removetime = -2

[State -1]
Type = Helper
Trigger1 = AnimElem = 1
StateNo = 242
ID = 242
Ownpal = 1
SprPriority = 4

[State -1] 
Type = StateTypeSet
Trigger1 = AnimElem = 6
StateType = S
Physics = S

[State -1] 
Type = PosAdd
Trigger1 = Time = [0,9]
X = 10

[State -1] 
Type = PosAdd
Trigger1 = Time = [0,1]
Y = -3

[State -1] 
Type = PosAdd
Trigger1 = Time = [2,3]
Y = -2

[State -1] 
Type = PosAdd
Trigger1 = Time = 4
Y = -1

[State -1] 
Type = PosAdd
Trigger1 = Time = 5
Y = 1

[State -1] 
Type = PosAdd
Trigger1 = Time = [6,7]
Y = -2

[State -1] 
Type = PosAdd
Trigger1 = Time = [8,9]
Y = 3

[State -1]
Type = PosSet
Trigger1 = Time = 10
Y = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 52
Ctrl = 1

;---------------------------------------------------------------------------
;屈み弱
[Statedef 400]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 400
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s40, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 1
V = 1
Range = 0,4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = Time = 1
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = Time = 1
Value = s200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = Time = 1
Value = s200, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Var(4) = 0
Trigger1 = FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = AnimElem = 2
Attr = C, NA
Damage = Ceil(FVar(0)*(12-Var(5)%2))
Priority  = 1, Hit
AnimType  = Light
HitFlag = MAFD
GuardFlag = L
PauseTime = 7+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)),7+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,6))
Guard.PauseTime = 7+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 7+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s10,0
GuardSound = s120,0+Random%2
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 9
Ground.HitTime  = 9+IfElse(P2StateType=C,1,0)
Guard.HitTime  = 9
Ground.Velocity = -4.5*FVar(4)
Air.Velocity = -1.2*FVar(4),-4
AirGuard.Velocity = -2.2*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -3.2*FVar(4)
Down.CornerPush.VelOff = -3.2*FVar(4)
Fall.XVelocity = 0
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 25
GetPower = Ceil(140*Var(39)*0.1), Ceil(60*Var(39)*0.1)
GivePower = Ceil(140*(10-Var(39))*0.1), Ceil(60*(10-Var(39))*0.1)

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear,BackEdgeBodyDist <= 0 || EnemyNear,FrontEdgeBodyDist <= 0
Trigger1 = MoveHit = 1
FV = 7
Value = -4.5*FVar(4)
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;屈み中
[Statedef 410]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 410
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 5
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
Trigger1 = Time = [5,7]
X = 5

[State -1]
Type = PosAdd
Trigger1 = Time = [8,9]
X = 3

[State -1]
Type = PosAdd
Trigger1 = Time = [10,11]
X = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 6
Anim = 51
ID = 51
Postype = P1
Pos = -20,0
Vel = -1,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
Removetime = -2

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s210, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Var(4) = 0
Trigger1 = FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = AnimElem = 8
Attr = C, NA
Damage = Ceil(FVar(0)*(15-Var(5)%2))
Priority  = 1, Hit
AnimType  = Midium
HitFlag = MAFD
GuardFlag = L
PauseTime = 9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)),9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,6))
Guard.PauseTime = 9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,2
GuardSound = s120,0+Random%2
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 12
Ground.HitTime  = 12
Ground.Velocity = -0.5*FVar(4),-5
Air.Velocity = -0.5*FVar(4),-5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -9
Air.CornerPush.VelOff = -2*FVar(4)
Down.CornerPush.VelOff = -2*FVar(4)
Fall.XVelocity = 0
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2StateType=S||P2StateType=C,0,1)
Fall.RecoverTime = 29
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear,BackEdgeBodyDist <= 0 || EnemyNear,FrontEdgeBodyDist <= 0
Trigger1 = MoveHit = 1
FV = 7
Value = -2*FVar(4)
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 170
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;屈み強
[Statedef 420]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 420
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -8

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s40, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 3
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 3
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 3
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 3
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 8
StateNo = 425
ID = 425
Pos = 15,-86
Ownpal = 1
SprPriority = 4

[State -1]
Type = Helper
Trigger1 = Time = 8
StateNo = 426
ID = 426
Pos = -6,-100
Ownpal = 1
SprPriority = 4

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;空中弱
[Statedef 600]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 600
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s40, 3
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = Time = 1
V = 1
Range = 0,4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = Time = 1
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = Time = 1
Value = s200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = Time = 1
Value = s200, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Var(4) = 0
Trigger1 = FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = AnimElem = 2
Attr = A, NA
Damage = Ceil(FVar(0)*(12-Var(5)%2))
Priority  = 2, Hit
AnimType  = Light
HitFlag = MAFD
GuardFlag = HA
PauseTime = 7+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)),7+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,6))
Guard.PauseTime = 7+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 7+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s10,0
GuardSound = s120,0+Random%2
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 9
Ground.HitTime  = 9+IfElse(P2StateType=C,1,0)
Guard.HitTime  = 9
Ground.Velocity = -4.5*FVar(4)
Air.Velocity = -1.2*FVar(4),-4
AirGuard.Velocity = -2.2*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -5.5
Air.CornerPush.VelOff = -3.2*FVar(4)
Down.CornerPush.VelOff = -3.2*FVar(4)
Fall.XVelocity = 0
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 25
GetPower = Ceil(140*Var(39)*0.1), Ceil(60*Var(39)*0.1)
GivePower = Ceil(140*(10-Var(39))*0.1), Ceil(60*(10-Var(39))*0.1)

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear,BackEdgeBodyDist <= 0 || EnemyNear,FrontEdgeBodyDist <= 0
Trigger1 = MoveHit = 1
FV = 7
Value = -4.5*FVar(4)
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

;---------------------------------------------------------------------------
;空中中
[Statedef 610]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 610
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s40, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 3
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 3
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 3
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 3
Value = s210, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Var(4) = 0
Trigger1 = FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = AnimElem = 6
Attr = A, NA
Damage = Ceil(FVar(0)*(15-Var(5)%2))
Priority  = 3, Hit
AnimType  = Midium
HitFlag = MAFD
GuardFlag = HA
PauseTime = 9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)),9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,6))
Guard.PauseTime = 9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 14+IfElse(Var(38)=1,5,0)
Ground.HitTime  = 14+IfElse(Var(38)=1,5,0)+IfElse(P2StateType=C,2,0)
Guard.HitTime  = 14
Ground.Velocity = -7.5*FVar(4)
Air.Velocity = -1.2*FVar(4),-5
AirGuard.Velocity = -2.2*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -9.5
Air.CornerPush.VelOff = -3.2*FVar(4)
Down.CornerPush.VelOff = -3.2*FVar(4)
Fall.XVelocity = 0
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 29
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear,BackEdgeBodyDist <= 0 || EnemyNear,FrontEdgeBodyDist <= 0
Trigger1 = MoveHit = 1
FV = 7
Value = -7.5*FVar(4)
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

;---------------------------------------------------------------------------
;空中強
[Statedef 620]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 620
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -13

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 3
V = 1
Range = 0,5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 3
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 3
Value = s220, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 3
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 4
StateNo = 625
ID = 625
Pos = 38,-80
Ownpal = 1
SprPriority = 4

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

;---------------------------------------------------------------------------
;くたばりやがれ！
[Statedef 630]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 630
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -7

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s210, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Var(4) = 0
Trigger1 = FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = AnimElem = 4
Attr = A, NA
Damage = Ceil(FVar(0)*(30-Var(5)%2))
Priority  = 3, Hit
AnimType  = Midium
HitFlag = MAFD
GuardFlag = HA
PauseTime = 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)),11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,6))
Guard.PauseTime = 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 11+IfElse(Var(38)=1,5,0)
Ground.HitTime  = 11+IfElse(Var(38)=1,5,0)
Ground.Velocity = -3*FVar(4),15
Guard.Velocity = -6
Air.Velocity = -3*FVar(4),15
AirGuard.Velocity = -3,-1.2
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -7
Air.CornerPush.VelOff = -4*FVar(4)
Down.CornerPush.VelOff = -4*FVar(4)
Fall.XVelocity = 0
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
Fall.RecoverTime = 31
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State -1]
Type = HitDef
TriggerAll = Var(25) = [-1,1]
TriggerAll = P2StateType = S || P2StateType = C
Trigger1 = AnimElem = 4
Attr = A, NA
Damage = Ceil(FVar(0)*(30-Var(5)%2))
Priority  = 3, Hit
AnimType  = Midium
HitFlag = MAFD
GuardFlag = HA
PauseTime = 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)),10+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,6))
Guard.PauseTime = 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 11+IfElse(Var(38)=1,5,0)
Ground.HitTime  = 11+IfElse(Var(38)=1,5,0)
Ground.Velocity = -3*FVar(4),15
Guard.Velocity = -6
Air.Velocity = -3*FVar(4),15
AirGuard.Velocity = -3,-1.2
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -7
Air.CornerPush.VelOff = -4*FVar(4)
Down.CornerPush.VelOff = -4*FVar(4)
Fall.XVelocity = 0
YAccel = .42
ID = 5700
P2Facing = 1
P2StateNo = 5710-IfElse(Var(38)=1,10,0)
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
Fall.RecoverTime = 31
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear,BackEdgeBodyDist <= 0 || EnemyNear,FrontEdgeBodyDist <= 0
Trigger1 = MoveHit = 1
FV = 7
Value = -3*FVar(4)
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

;---------------------------------------------------------------------------
;Bダッシュ
[Statedef 700]
Type    = S
Physics = S
Ctrl = 0
Anim = 700
PowerAdd = -1000
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Var(35) < 6
Trigger1 = Time = 0
V = 35
Value = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s700, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 2
Anim = 52
ID = 52
Postype = P1
Pos = 15,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
Removetime = -2

[State -1]
Type = PlaySnd
Trigger1 = Time = 2
Value = s700, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 0
ID = 705
PosType = P1
Pos = 0,-30
Anim = 705
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = Time = 2
ID = 706
PosType = P1
Pos = 50,-70
Anim = 706
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1] 
Type = VelSet
Trigger1 = Time >= 2
X = 12

[State -1]
Type = AfterImage
Trigger1 = Time = 2
Time = 9999
Trans = AddAlpha
Alpha = 256,160
TimeGap  = 1
FrameGap = 1
Length   = 8
PalBright = 0 , 0 , 0
PalContrast = 50 , 50 , 256
PalPostBright = 0,0,0
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State -1] 
Type = ChangeState
Trigger1 = Time >= 15
Trigger1 = Command != "holdfwd"
Value = 701

;---------------------------------------------------------------------------
;Bダッシュ2
[Statedef 701]
Type    = S
Physics = S
Ctrl = 0
Anim = 701

[State -1] 
Type = VelSet
Trigger1 = Time = [0,1]
X = 8

[State -1] 
Type = VelSet
Trigger1 = Time = [2,3]
X = 5

[State -1] 
Type = VelSet
Trigger1 = Time = [4,5]
X = 3

[State -1] 
Type = VelSet
Trigger1 = Time = [6,7]
X = 2

[State -1] 
Type = VelSet
Trigger1 = Time = [8,9]
X = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;特殊Bダッシュ
[Statedef 702]
Type    = S
Physics = S
Ctrl = 0
PowerAdd = -1000
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Var(35) < 6
Trigger1 = Time = 0
V = 35
Value = 1

[State -1] 
Type = ChangeAnim
Trigger1 = Time = 0
Value = 700
Elem = 2

[State -1]
Type = Explod
Trigger1 = Time = 0
Anim = 52
ID = 52
Postype = P1
Pos = 15,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
Removetime = -2

[State -1]
Type = Explod
Trigger1 = Time = 0
ID = 706
PosType = P1
Pos = 50,-70
Anim = 706
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1] 
Type = VelSet
Trigger1 = Time >= 0
X = 12

[State -1]
Type = AfterImage
Trigger1 = Time = 0
Time = 9999
Trans = AddAlpha
Alpha = 256,160
TimeGap  = 1
FrameGap = 1
Length   = 8
PalBright = 0 , 0 , 0
PalContrast = 50 , 50 , 256
PalPostBright = 0,0,0
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State -1] 
Type = ChangeState
Trigger1 = Time >= 13
Trigger1 = Command != "holdfwd"
Value = 701

;---------------------------------------------------------------------------
;Bエアダッシュ
[Statedef 710]
Type    = A
Physics = A
Ctrl = 0
VelSet = 0,0
Anim = 710
PowerAdd = -1000
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Var(35) < 6
Trigger1 = Time = 0
V = 35
Value = 1

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 1
Anim = -1
Time = 13
MoveTime = 13
P2DefMul = 1
Darken = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s700, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 13
Value = s700, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 0
ID = 705
PosType = P1
Pos = 0,-30
Anim = 705
Ownpal = 1
SprPriority = 4
RemoveTime = -2
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 13
ID = 706
PosType = P1
Pos = 50,-70
Anim = 706
Ownpal = 1
SprPriority = 4
RemoveTime = -2
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = VelSet
Trigger1 = Time < 13
X = 0
Y = 0

[State -1] 
Type = VelSet
Trigger1 = Time = 13
Y = -2

[State -1] 
Type = VelSet
Trigger1 = Time >= 13
X = 13

[State -1]
Type = AfterImage
Trigger1 = Time = 13
Time = 9999
Trans = AddAlpha
Alpha = 256,160
TimeGap  = 1
FrameGap = 1
Length   = 8
PalBright = 0 , 0 , 0
PalContrast = 50 , 50 , 256
PalPostBright = 0,0,0
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State -1]
Type = VelAdd
Trigger1 = Time = [13,47]
Y = -.3

;---------------------------------------------------------------------------
;Bジャンプ
[Statedef 720]
Type    = S
Physics = S
Ctrl = 0
VelSet = 0,0
Anim = 720
PowerAdd = -1000
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 1
Anim = -1
Time = 17
MoveTime = 17
P2DefMul = 1
Darken = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s700, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 17
Value = s700, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 0
ID = 705
PosType = P1
Pos = 0,-30
Anim = 705
Ownpal = 1
SprPriority = 4
RemoveTime = -2
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AfterImage
Trigger1 = Time = 17
Time = 9999
Trans = AddAlpha
Alpha = 256,160
TimeGap  = 1
FrameGap = 1
Length   = 8
PalBright = 0 , 0 , 0
PalContrast = 50 , 50 , 256
PalPostBright = 0,0,0
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State -1] 
Type = StateTypeSet
Trigger1 = Time = 17
StateType = A
Physics = A

[State -1]
Type = Explod
Trigger1 = Time = 17
Anim = 10040
ID = 10040
Postype = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
Removetime = -2

[State -1] 
Type = VelSet
Trigger1 = Time = 17
X = 4.4
Y = -7

[State -1] 
Type = CtrlSet
Trigger1 = Time > 17
Value = 1

;---------------------------------------------------------------------------
;Bエアジャンプ
[Statedef 730]
Type    = A
Physics = A
Ctrl = 0
VelSet = 0,0
Anim = 720
PowerAdd = -1000
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Var(35) < 6
Trigger1 = Time = 0
V = 35
Value = 1

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 1
Anim = -1
Time = 17
MoveTime = 17
P2DefMul = 1
Darken = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s700, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 17
Value = s850, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 17
Value = s700, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 0
ID = 705
PosType = P1
Pos = 0,-30
Anim = 705
Ownpal = 1
SprPriority = 4
RemoveTime = -2
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AfterImage
Trigger1 = Time = 17
Time = 9999
Trans = AddAlpha
Alpha = 256,160
TimeGap  = 1
FrameGap = 1
Length   = 8
PalBright = 0 , 0 , 0
PalContrast = 50 , 50 , 256
PalPostBright = 0,0,0
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State -1]
Type = Explod
Trigger1 = Time = 17
Anim = 10040
ID = 10040
Postype = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
Removetime = -2

[State -1] 
Type = PosFreeze
Trigger1 = Time < 17

[State -1] 
Type = VelSet
Trigger1 = Time = 17
X = 6.4
Y = -9.4

[State -1] 
Type = CtrlSet
Trigger1 = Time > 17
Value = 1

;---------------------------------------------------------------------------
;B落下
[Statedef 740]
Type    = A
Physics = A
Ctrl = 0
Anim = 740
PowerAdd = -1000

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 1
Anim = -1
Time = 17
MoveTime = 17
P2DefMul = 1
Darken = 0

[State -1]
Type = NotHitBy
Trigger1 = AnimElem = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 23

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s700, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 17
Value = s700, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 0
ID = 705
PosType = P1
Pos = 0,-95
Anim = 705
Ownpal = 1
SprPriority = 4
RemoveTime = -2
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = PosFreeze
Trigger1 = Time < 17

[State -1] 
Type = VelSet
Trigger1 = Time < 17
Y = 0

[State -1]
Type = AfterImage
Trigger1 = Time = 17
Time = 9999
Trans = AddAlpha
Alpha = 256,160
TimeGap  = 1
FrameGap = 1
Length   = 8
PalBright = 0 , 0 , 0
PalContrast = 50 , 50 , 256
PalPostBright = 0,0,0
PalAdd = -30 , -30 , -30
PalMul = 1 , 1 , 1

[State -1] 
Type = CtrlSet
Trigger1 = Time > 17
Value = 1

;---------------------------------------------------------------------------
;Bカウンター
[Statedef 750]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
PowerAdd = -1000
Anim = 750
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,20]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 1
Anim = -1
Time = 11
MoveTime = 11
P2DefMul = 1
Darken = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 1
Value = s750, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 1
Value = s750, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s700, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 0
ID = 705
PosType = P1
Pos = 0,-55
Anim = 705
Ownpal = 1
SprPriority = 4
RemoveTime = -2
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s40, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 5
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VelSet
Trigger1 = Time = [12,20]
X = 2

[State -1]
Type = VelSet
Trigger1 = Time = 21
X = 0

[State -1]
Type = VarSet
Trigger1 = Var(4) = 0
Trigger1 = FVar(1) = 1.00
Trigger1 = MoveHit = 1
FV = 1
Value = 0.10
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = AnimElem = 8
Attr = S, NA
Damage = 0
Priority  = 4, Hit
AnimType  = Hard
HitFlag = MAFD
GuardFlag = M
PauseTime = 9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)),9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,6))
Guard.PauseTime = 9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s10,3
GuardSound = s120,0+Random%2
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -0.5*FVar(4),-4
Guard.Velocity = -7*FVar(4)
Air.Velocity = -0.5*FVar(4),-4
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -8
Air.CornerPush.VelOff = -6*FVar(4)
Down.CornerPush.VelOff = -6*FVar(4)
Fall.XVelocity = 0
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = 0, 0
GivePower = 0, 0

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear,BackEdgeBodyDist <= 0 || EnemyNear,FrontEdgeBodyDist <= 0
Trigger1 = MoveHit = 1
FV = 7
Value = -0.5*FVar(4)
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;投げ・発動
;     
;     投げのステートは少し複雑ですが順序良くならべればなんてことありません。
;     800：投げの発生と失敗した時
;     810：投げが成功した時の自分の動き
;     811：投げが成功した瞬間の相手の状態
;     812：投げが成功した時の相手の飛んでいく状態
;     とこんな具合です、投げは自分の他に相手の分も記述しなくてはなりません
;     でもそれだけです。

[Statedef 800]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
VelSet = 0,0
Ctrl = 0
Anim = 800
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -16

[State -1]
Type = VelSet
Trigger1 = Time >= 1
X = Const(Velocity.Walk.Fwd.X)

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) = 0
TriggerAll = Var(25) < 4
Trigger1 = Time = 4
Attr = S, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
HitFlag = M-          ;コンボの途中から投げが入らないよう設定してある
Priority = 1, Miss    ;１は優先順位が低いので技がでないかミスするという設定
SparkNo = -1          ;-をつければスパークエフェクトは無い
Guard.SparkNo = s160
SprPriority = 1       ;２Ｐより上にカンフーマンが表示される
P1Facing = ifelse (command = "holdfwd", 1, -1) ;前を押したらターンする設定
P2Facing = 1          ;？
P1StateNo = 810       ;投げが成功した場合の移動する１Ｐのステート
P2StateNo = 811       ;投げが成功した場合の移動する２Ｐのステート
Fall = 1
Fall.Recover = 0

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) != 0
TriggerAll = Var(25) < 4
Trigger1 = Time = 4
Attr = S, NT
HitFlag = M-
Priority = 1, Miss
SparkNo = -1
Guard.SparkNo = s160
SprPriority = 1
P1Facing = ifelse (FrontEdgeDist<BackEdgeDist, 1, -1)
P2Facing = 1
P1StateNo = 810
P2StateNo = 811
Fall = 1
Fall.Recover = 0

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 240

;---------------------------------------------------------------------------
;投げ・投げている自分
;     このステートでは相手を設定した場所に固定した後、相手を飛ばしています
;     ここで相手の動きを制御しているのはtype = TargetBindというステートです
;     これを一定時間事にやっていくと綺麗に投げ飛ばされているように見えます。
;     そしてここにはHitDefが無いのでダメージはtype = TargetLifeAddで
;     ダメージを減らしています

[Statedef 810]
Type    = S
MoveType= A
Physics = N
VelSet = 0,0
SprPriority = -1
Anim = 810

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s805, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s20, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 8
Value = s20, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = EnvShake
Trigger1 = AnimElem = 4
Trigger2 = AnimElem = 8
Time  = 8
Ampl  = 4
Freq  = 90

[State -1]
Type = SprPriority
Trigger1 = AnimElem = 8
Value = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s800, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s800, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 1
Pos = 40,-15

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 2
Pos = 35,-10

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 3
Pos = 30,-10

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 5
Pos = 50,-15

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 6
Pos = 55,-15

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 7
Pos = 52,-12

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 8
Pos = 30,-20

[State -1]
Type = Width
Trigger1 = 1
Edge = 55,0

[State -1]
Type = Helper
Trigger1 = Time = 1
StateNo = 6020
ID = 6020
PosType = P1
Pos = 30,-75
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 4
ID = 6012
PosType = P2
Pos = 0,-65
Anim = 6012+Random%3
Facing = IfElse(Random%2=0,1,-1)
RemoveTime = -2
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 8
StateNo = 6011
ID = 6011
PosType = P2
Pos = 0,-90
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 8
ID = 6012
PosType = P2
Pos = 0,-90
Anim = 6012+Random%3
Facing = IfElse(Random%2=0,1,-1)
RemoveTime = -2
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetLifeAdd
Trigger1 = AnimElem = 8
Value = -Ceil(FVar(2)*FVar(11)*(28-Var(5)%2))

[State -1]
Type = HitAdd
Trigger1 = AnimElem = 8
Value = 1

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 8
V = 5
Value = 2
IgnoreHitPause = 1

[State -1]
Type = TargetState
Trigger1 = Time <= 33
Value = 811
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetState
Trigger1 = AnimElem = 8
Value = 812

[State -1]
Type = VarSet
Trigger1 = FVar(1) = 1.00
Trigger1 = AnimTime = 0
FV = 1
Value = 0.60
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

[State -1]
Type = TargetState
Trigger1 = Time = [0,6]
Trigger1 = EnemyNear,Command = "holdfwd" || EnemyNear,Command = "holdback"
Trigger1 = EnemyNear,Command = "b"
Value = 816

[State -1]
Type = ChangeState
Trigger1 = Time = [0,6]
Trigger1 = EnemyNear,Command = "holdfwd" || EnemyNear,Command = "holdback"
Trigger1 = EnemyNear,Command = "b"
Value = 815

[State -1]
Type = Pause
Trigger1 = Time = 6
Time = 16

;---------------------------------------------------------------------------
;投げ・投げられている相手
; 
;     ここは投げられた瞬間の相手のステートです
;     たいしたことは書いてありませんがtypeがAになっている事です。
;     相手が投げれて空中にいる事を設定して次の821ステートに移動します

[Statedef 811]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Time = 0
Value = 5010

[State -1] 
Type = SelfState
Trigger1 = Time >= 10
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;投げ・相手の空中の状態
;     
;     これは投げられている相手の状態ととれる行動を設定しています
;     type = SelfStateは相手のリカバー状態を設定する物でこの状態ならこれ。
;     と言うように地上近く、空中、叩きつけられた時と３つ設定しています。

[Statedef 812]
Type    = A
MoveType= H
Physics = N
VelSet = 0,-4

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 0
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050

[State -1] 
Type = VelAdd
Trigger1 = Time >= 1
Y = .42

[State -1] 
Type = SelfState
Trigger1 = (Vel Y > 0) && (Pos Y >= 0)
Value = 5100
Ctrl = 0

;---------------------------------------------------------------------------
;投げぬけ
[Statedef 815]
Type     = A
Physics  = N
Anim     = 950
Ctrl     = 0
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PosSet
Trigger1 = Pos Y > 0
Trigger1 = Time = 0
Y = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s950, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s955, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s955, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s110, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
Anim = 955
ID = 955
Pos = 10,-50
PosType = P1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
Anim = 955
ID = 955
Pos = 10,-50
PosType = P2
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = VelSet
Trigger1 = Time = 1
X = -5
Y = -1.8

[State -1]
Type = Helper
Trigger1 = Time = 1
ID = 115
PosType = P1
Pos = -35,-70
StateNo = 114
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = Time = 1
ID = 115
PosType = P2
Pos = -35,-70
StateNo = 114
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0

[State -1] 
Type = VelAdd
Trigger1 = Time > 1
Y = .28

[State -1] 
Type = ChangeState
Trigger1 = Time > 1
Trigger1 = Pos Y >= 0 && Vel Y >= 0
Value = 52

;---------------------------------------------------------------------------
;投げぬけ・相手
[Statedef 816]
Type     = A
Physics  = N
Anim     = 122
Ctrl     = 0
VelSet = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PosSet
Trigger1 = Pos Y > 0
Trigger1 = Time = 0
Y = 0

[State -1] 
Type = VelSet
Trigger1 = Time = 1
X = -5
Y = -1.8

[State -1] 
Type = VelAdd
Trigger1 = Time > 1
Y = .28

[State -1] 
Type = SelfState
Trigger1 = Time > 1
Trigger1 = Pos Y >= 0 && Vel Y >= 0
Value = 52

;---------------------------------------------------------------------------
;大ジャンプ
[Statedef 850]
Type    = U
Physics = U

[State -1] 
Type = VarSet
TriggerAll = Time = 0
Trigger1 = PrevStateNo != 5120
Trigger1 = Command = "jump"
Trigger2 = PrevStateNo = 5120
Trigger2 = Command != "holdfwd" && Command != "holdback"
V = 3
Value = 1

[State -1] 
Type = VarSet
TriggerAll = Time = 0
Trigger1 = PrevStateNo != 5120
Trigger1 = Command = "fjump"
Trigger2 = PrevStateNo = 5120
Trigger2 = Command = "holdfwd"
V = 3
Value = 2

[State -1] 
Type = VarSet
TriggerAll = Time = 0
Trigger1 = PrevStateNo != 5120
Trigger1 = Command = "bjump"
Trigger2 = PrevStateNo = 5120
Trigger2 = Command = "holdback"
V = 3
Value = 3

[State -1, AI] 
Type = ChangeState
TriggerAll = Var(59) > 0
Trigger1 = Var(3) = [1,3]
Trigger1 = StateType != A
Value = 39

[State -1] 
Type = ChangeState
TriggerAll = Var(59) <= 0
Trigger1 = Var(3) = [1,3]
Trigger1 = StateType != A
Value = 40

[State -1] 
Type = ChangeState
Trigger1 = Var(3) = [1,3]
Trigger1 = StateType = A
Value = 45

;---------------------------------------------------------------------------
; Pチャージ
[Statedef 900]
Type    = S
Physics = S
Anim    = 900
Ctrl    = 0
VelSet = 0,0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s900, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s900, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time >= 29
Value = s900, 1
Channel = 2
IgnoreHitPause = 1
Persistent = 12
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 0
ID = 905
PosType = P1
Pos = 0,0
Anim = 905
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = Time = 0
ID = 906
PosType = P1
Pos = 0,0
Anim = 906
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = Time >= 29
ID = 906
PosType = P1
Pos = 0,0
Anim = 906
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 10
RemoveTime = -2
RemoveOnGetHit = 1

[State -1] 
Type = VarAdd
Trigger1 = Var(59) <= 0
Trigger1 = FVar(2) < 1.99
Trigger1 = Life > 10
Trigger1 = Time >= 32
Trigger1 = Command = "Extend"
FV = 2
Value = 0.01

[State -1] 
Type = LifeAdd
Trigger1 = Var(59) <= 0
Trigger1 = FVar(2) < 1.99
Trigger1 = Life > 10
Trigger1 = Time >= 32
Trigger1 = Command = "Extend"
Value = -10

[State -1]
Type = VarAdd
Trigger1 = Var(59) <= 0
Trigger1 = FVar(2) < 1.99
Trigger1 = Var(14) < Ceil(516-(1.00*Life/Var(56))*258)
Trigger1 = Time >= 32
Trigger1 = Command = "Extend"
V = 14
Value = 3

[State -1]
Type = VarAdd
TriggerAll = Var(14) < Ceil(516-(1.00*Life/Var(56))*258)
TriggerAll = Time >= 32
Trigger1 = Time%9 = [0,3]
Trigger2 = Time%9 = [5,7]
V = 14
Value = 1

[State -1]
Type = VarSet
Trigger1 = Var(14) > Ceil(516-(1.00*Life/Var(56))*258)
V = 14
Value = Ceil(516-(1.00*Life/Var(56))*258)

[State -1]
Type = StopSnd
Trigger1 = Time >= 32
Trigger1 = Command != "Y溜め"
Channel = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = ChangeState
Trigger1 = Time >= 32
Trigger1 = Command != "Y溜め"
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; アドヴァンスドチャージ
[Statedef 910]
Type    = S
Physics = S
Anim    = 900
Ctrl    = 0
VelSet = 0,0
Facep2 = 1
PowerAdd = -1000

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = 63

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s900, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time >= 29
Value = s900, 1
Channel = 2
IgnoreHitPause = 1
Persistent = 12
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s700, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s700, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 0
ID = 705
PosType = P1
Pos = 10,-70
Anim = 705
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = Time = 0
ID = 905
PosType = P1
Pos = 0,0
Anim = 905
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = Time = 0
ID = 906
PosType = P1
Pos = 0,0
Anim = 906
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = Time >= 29
ID = 906
PosType = P1
Pos = 0,0
Anim = 906
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 10
RemoveTime = -2
RemoveOnGetHit = 1

[State -1] 
Type = VarAdd
Trigger1 = Var(59) <= 0
Trigger1 = FVar(2) < 1.99
Trigger1 = Life > 10
Trigger1 = Time >= 10
Trigger1 = Command = "Extend"
FV = 2
Value = 0.01

[State -1] 
Type = LifeAdd
Trigger1 = Var(59) <= 0
Trigger1 = FVar(2) < 1.99
Trigger1 = Life > 10
Trigger1 = Time >= 10
Trigger1 = Command = "Extend"
Value = -10

[State -1]
Type = VarAdd
Trigger1 = Var(59) <= 0
Trigger1 = FVar(2) < 1.99
Trigger1 = Var(14) < Ceil(516-(1.00*Life/Var(56))*258)
Trigger1 = Time >= 10
Trigger1 = Command = "Extend"
V = 14
Value = 3

[State -1]
Type = VarAdd
TriggerAll = Var(14) < Ceil(516-(1.00*Life/Var(56))*258)
TriggerAll = Time >= 10
Trigger1 = Time%9 = [0,3]
Trigger2 = Time%9 = [5,7]
V = 14
Value = 1

[State -2]
Type = VarSet
Trigger1 = Var(14) > Ceil(516-(1.00*Life/Var(56))*258)
V = 14
Value = Ceil(516-(1.00*Life/Var(56))*258)

[State -1] 
Type = ChangeState
Trigger1 = Time >= 10
Trigger1 = Command != "Y溜め"
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;Bエスケープ
[Statedef 950]
Type     = A
Physics  = N
Anim     = 950
Ctrl     = 0
VelSet = 0,0
PowerAdd = -4000
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PosSet
Trigger1 = Pos Y > 0
Trigger1 = Time = 0
Y = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s950, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s955, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s955, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s110, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
Anim = 955
ID = 955
Pos = 10,-50
PosType = P1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = VelSet
Trigger1 = Time = 1
X = IfElse(Command="holdfwd",9,-9)
Y = -1.8

[State -1] 
Type = VelAdd
Trigger1 = Vel X < -4
Trigger1 = Time >= 2
X = .15

[State -1] 
Type = VelAdd
Trigger1 = Vel X > 4
Trigger1 = Time >= 2
X = -.15

[State -1]
Type = Helper
Trigger1 = Time = 1
ID = 114+IfElse(Command="holdfwd",0,1)
PosType = P1
Pos = 35*IfElse(Command="holdfwd",1,-1),-70
StateNo = 114
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0

[State -1] 
Type = VelAdd
Trigger1 = Time > 1
Y = .28

[State -1] 
Type = ChangeState
Trigger1 = Time > 1
Trigger1 = Pos Y >= 0 && Vel Y >= 0
Value = 52

;---------------------------------------------------------------------------
;バインディング
[Statedef 1000]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1000
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -47

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 4
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 4
Value = s1000, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 4
Value = s1000, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 5
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s40, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
StateNo = 1005
ID = 1005
Pos = 0, -70
Ownpal = 1
SprPriority = 4

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;グラウンディング
[Statedef 1100]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1100
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -16

[State -1]
Type = VelSet
Trigger1 = Time = [0,11]
X = 7.5

[State -1]
Type = VelSet
Trigger1 = Time = [12,13]
X = 2

[State -1]
Type = VelSet
Trigger1 = Time = [14,16]
X = 1

[State -1]
Type = VelSet
Trigger1 = Time = [17,18]
X = 0

[State -1]
Type = VelSet
Trigger1 = Time = [19,45]
X = -0.5

[State -1]
Type = VelSet
Trigger1 = AnimElem = 5
Y = -6.5

[State -1]
Type = VelAdd
Trigger1 = Time = [14,45]
Y = .42

[State -1]
Type = VelSet
Trigger1 = AnimElem = 14
X = 0
Y = 0

[State -1]
type = PosSet
Trigger1 = AnimElem = 14
Y = 0

[State -1] 
Type = StateTypeSet
Trigger1 = AnimElem = 5
StateType = A
Physics = N

[State -1] 
Type = StateTypeSet
Trigger1 = AnimElem = 14
StateType = S
Physics = S

[State -1]
Type = Explod
Trigger1 = AnimElem = 1
Anim = 51
ID = 51
Postype = P1
Pos = -20,0
Vel = -2,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
Removetime = -2

[State -1]
Type = Explod
Trigger1 = AnimElem = 5
Anim = 10040
ID = 10040
Postype = P1
Pos = 0,0
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
Removetime = -2

[State -1]
Type = Explod
Trigger1 = AnimElem = 14
Anim = 50
ID = 50
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
RemoveTime = -2

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 14
Value = s41, 0

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = AnimElem = 6
Attr = S, SA
Damage = Ceil(FVar(0)*(60-Var(5)%2))
Priority  = 2, Hit
AnimType  = Midium
HitFlag = MAFD
GuardFlag = MA
PauseTime = 7+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)),7+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,6))
Guard.PauseTime = 7+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 7+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 11+IfElse(Var(38)=1,5,0)
Ground.HitTime  = 11+IfElse(Var(38)=1,5,0)+IfElse(P2StateType=C,1,0)
Guard.HitTime  = 11
Ground.Velocity = -7.5*FVar(4)
Air.Velocity = -1.2*FVar(4),-5
AirGuard.Velocity = -2.2*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -9.5
Air.CornerPush.VelOff = -3.2*FVar(4)
Down.CornerPush.VelOff = -3.2*FVar(4)
Fall.XVelocity = 0
YAccel = .42
ID = 1100
Kill = 1
Guard.Kill = 0
Fall = 0
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 29
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear,BackEdgeBodyDist <= 0 || EnemyNear,FrontEdgeBodyDist <= 0
Trigger1 = MoveHit = 1
FV = 7
Value = -7.5*FVar(4)
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = NumTarget(1100) > 0
Trigger1 = Target(1100),StateNo != [120,159]
Trigger1 = AnimElem = 7 , >= 1
Value = 1101

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;グラウンディング2
[Statedef 1101]
Type    = A
MoveType= A
Physics = N
Juggle  = 0
Ctrl = 0
Anim = 1101
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s210, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VelSet
Trigger1 = Time = 0
Y = -4

[State -1]
Type = VelAdd
Trigger1 = 1
Y = .3

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = AnimElem = 5
Attr = A, SA
Damage = Ceil(FVar(0)*(135-Var(5)%2))
Priority  = 3, Hit
AnimType  = Midium
HitFlag = MAFD
GuardFlag = MA
PauseTime = 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)),11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,6))
Guard.PauseTime = 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,2
GuardSound = s120,0+Random%2
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 11+IfElse(Var(38)=1,5,0)
Ground.HitTime  = 11+IfElse(Var(38)=1,5,0)
Ground.Velocity = -1*FVar(4),-5
Guard.Velocity = -7*FVar(4)
Air.Velocity = -3*FVar(4),15
AirGuard.Velocity = -3,-1.2
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -8
Air.CornerPush.VelOff = -4*FVar(4)
Down.CornerPush.VelOff = -4*FVar(4)
Fall.XVelocity = 0
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State -1]
Type = HitDef
TriggerAll = Var(25) = [-1,1]
TriggerAll = P2StateType = S || P2StateType = C
Trigger1 = AnimElem = 5
Attr = A, SA
Damage = Ceil(FVar(0)*(135-Var(5)%2))
Priority  = 3, Hit
AnimType  = Midium
HitFlag = MAFD
GuardFlag = MA
PauseTime = 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)),10+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,6))
Guard.PauseTime = 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 11+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,2
GuardSound = s120,0+Random%2
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 11+IfElse(Var(38)=1,5,0)
Ground.HitTime  = 11+IfElse(Var(38)=1,5,0)
Ground.Velocity = -1*FVar(4),-5
Guard.Velocity = -7*FVar(4)
Air.Velocity = -3*FVar(4),15
AirGuard.Velocity = -3,-1.2
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -8
Air.CornerPush.VelOff = -4*FVar(4)
Down.CornerPush.VelOff = -4*FVar(4)
Fall.XVelocity = 0
YAccel = .42
ID = 5700
P2Facing = 1
P2StateNo = 5700
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(280*Var(39)*0.1), Ceil(140*Var(39)*0.1)
GivePower = Ceil(280*(10-Var(39))*0.1), Ceil(140*(10-Var(39))*0.1)

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear,BackEdgeBodyDist <= 0 || EnemyNear,FrontEdgeBodyDist <= 0
Trigger1 = MoveHit = 1
FV = 7
Value = -1*FVar(4)
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 52
Ctrl = 1

;---------------------------------------------------------------------------
;ハンティング
[Statedef 1110]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1110
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -14

[State -1]
Type = Helper
Trigger1 = Time = 4
StateNo = 9500
ID = 9501
Ownpal = 1
Keyctrl = 0

[State -1]
Type = PosSet
TriggerAll = NumHelper(9501) > 0
TriggerAll = Time >= 5
Trigger1 = Facing = 1
Trigger1 = Pos X > Helper(9501),Pos X
Trigger2 = Facing = -1
Trigger2 = Pos X < Helper(9501),Pos X
X = Ceil(Helper(9501),Pos X)

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
Anim = 51
ID = 51
Postype = P1
Pos = -30,0
Vel = -2,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
Removetime = -2

[State -1]
Type = Explod
Trigger1 = AnimElem = 3
Anim = 10040
ID = 10040
Postype = P1
Pos = 0,0
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
Removetime = -2

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s850, 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s1110, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s1115, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s1115, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 6
Anim = 1115
ID = 1115
Postype = P1
Pos = 30,-30
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
Removetime = -2
RemoveOnGetHit = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 6
StateNo = 1115
ID = 1115
PosType = P1
Pos = 55,-65
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 6
StateNo = 1115
ID = 1116
PosType = P1
Pos = 60,-10
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VelSet
Trigger1 = AnimElem = 3
X = 7.2
Y = -7

[State -1]
Type = VelAdd
Trigger1 = Time >= 5
Y = .5

[State -1] 
Type = StateTypeSet
Trigger1 = AnimElem = 3
StateType = A
Physics = N

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = AnimElem = 8
Attr = A, SA
Damage = Ceil(FVar(0)*(40-Var(5)%2))
Priority  = 3, Hit
AnimType  = Midium
HitFlag = MAFD
GuardFlag = MA
PauseTime = 9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)),9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,6))
Guard.PauseTime = 9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 9+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,2
GuardSound = s120,0+Random%2
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 11+IfElse(Var(38)=1,5,0)
Ground.HitTime  = 11+IfElse(Var(38)=1,5,0)
Ground.Velocity = -1*FVar(4),-5
Guard.Velocity = -6*FVar(4)
Air.Velocity = -1*FVar(4),-5
AirGuard.Velocity = -2.5*FVar(4),-1.2
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -7
Air.CornerPush.VelOff = -2.5*FVar(4)
Down.CornerPush.VelOff = -2.5*FVar(4)
Fall.XVelocity = 0
YAccel = .42
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 1
Fall.RecoverTime = 38
GetPower = Ceil(140*Var(39)*0.1), Ceil(60*Var(39)*0.1)
GivePower = Ceil(140*(10-Var(39))*0.1), Ceil(60*(10-Var(39))*0.1)

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear,BackEdgeBodyDist <= 0 || EnemyNear,FrontEdgeBodyDist <= 0
Trigger1 = MoveHit = 1
FV = 7
Value = -1*FVar(4)
IgnoreHitPause = 1

[State -1]
Type = ChangeState
Trigger1 = MoveGuarded
Value = 1111
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 52
Ctrl = 1

;---------------------------------------------------------------------------
;ハンティング2
[Statedef 1111]
Type    = A
MoveType= A
Physics = N
Juggle  = 0
Ctrl = 0
SprPriority = 2
Facep2 = 1

[State -1]
Type = PlayerPush
Trigger1 = Anim = 1110
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VelAdd
Trigger1 = Anim = 1110
Y = .5

[State -1] 
Type = StateTypeSet
Trigger1 = Anim = 1110
Trigger1 = AnimTime = 0
StateType = S
Physics = S

[State -1]
Type = Explod
Trigger1 = Anim = 1110
Trigger1 = AnimTime = 0
Anim = 50
ID = 50
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
RemoveTime = -2

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1110
Trigger1 = AnimTime = 0
Value = s41, 0

[State -1] 
Type = ChangeAnim
Trigger1 = Anim = 1110
Trigger1 = AnimTime = 0
Value = 1111

[State -1]
Type = VelSet
Trigger1 = Anim = 1111
X = 0
Y = 0

[State -1]
Type = PosSet
Trigger1 = Anim = 1111
Y = 0

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = Anim = 1111
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;チェーンソー
[Statedef 1120]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1120
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -10

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 5
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1115, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 4
Anim = 51
ID = 51
Postype = P1
Pos = 0,0
Vel = -1,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
Removetime = -2

[State -1]
Type = VelSet
Trigger1 = Time = [3,8]
Trigger2 = Time = [17,24]
X = 1

[State -1]
Type = VelSet
Trigger1 = Time = [9,16]
X = 2

[State -1]
Type = HitDef
TriggerAll = Var(25) < 4
Trigger1 = AnimElem = 4
Attr = S, SA
Damage = Ceil(FVar(0)*(0-Var(5)%2))
Priority  = 3, Hit
AnimType  = Midium
HitFlag = MAFD
GuardFlag = M
PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)),2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,6))
Guard.PauseTime = 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0)), 2+IfElse(P2StateType=A,2,IfElse(P2StateType=L,2,0))
HitSound   = s20,1
GuardSound = s120,0+Random%2
SparkXY = -Random%20, -20-Random%20
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 11+IfElse(Var(38)=1,5,0)
Ground.HitTime  = 11+IfElse(Var(38)=1,5,0)
Ground.Velocity = -1*FVar(4),-5
Guard.Velocity = -6*FVar(4)
Air.Velocity = -1*FVar(4),-5
Ground.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = -7
Air.CornerPush.VelOff = -2.5*FVar(4)
Down.CornerPush.VelOff = -2.5*FVar(4)
Fall.XVelocity = 0
YAccel = .42
ID = 5600
P2Facing = 1
P1StateNo = 1121
P2StateNo = 1130
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = 0, 0
GivePower = 0, 0

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;チェーンソー・投げている自分
;     このステートでは相手を設定した場所に固定した後、相手を飛ばしています
;     ここで相手の動きを制御しているのはtype = TargetBindというステートです
;     これを一定時間事にやっていくと綺麗に投げ飛ばされているように見えます。
;     そしてここにはHitDefが無いのでダメージはtype = TargetLifeAddで
;     ダメージを減らしています
[Statedef 1121]
Type    = S
MoveType= A
Physics = N
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1121

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = VarSet
Trigger1 = FVar(1) = 1.00
Trigger1 = Var(4) = 0
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = EnvShake
Trigger1 = Time = 1
Trigger2 = Time = 25
Time  = 8
Ampl  = 4
Freq  = 90

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s1125, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 1
Value = s20, 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = [5,25]
Value = s20, 1
IgnoreHitPause = 1
Persistent = 4
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 1
Pos = 40,-10

[State -1]
Type = Width
Trigger1 = 1
Edge = 30,0

[State -1]
Type = Helper
Trigger1 = Time = 1
StateNo = 6040
ID = 6040
PosType = P2
Pos = 0,-65
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 13
StateNo = 6040
ID = 6040
PosType = P2
Pos = 0,-65
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = [5,21]
StateNo = 6010
ID = 6010
PosType = P2
Pos = 0,-65
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 4
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = Time = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = TargetLifeAdd
Trigger1 = Time = 1
Value = -Ceil(FVar(0)*(25-Var(5)%2))
Kill = 0

[State -1]
Type = TargetLifeAdd
Trigger1 = Time = [5,21]
Value = -Ceil(FVar(0)*(25-Var(5)%2))
Kill = 0
Persistent = 4

[State -1]
Type = TargetLifeAdd
Trigger1 = Time = 25
Value = -Ceil(FVar(0)*(70-Var(5)%2))

[State -1]
Type = PowerAdd
Trigger1 = Time = 25
Value = Ceil(420*Var(39)*0.1)

[State -1]
Type = TargetPowerAdd
Trigger1 = Time = 25
Value = Ceil(420*(10-Var(39))*0.1)

[State -1]
Type = VarAdd
Trigger1 = Time = 1
V = 5
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitAdd
Trigger1 = Time = 1
Value = 1

[State -1]
Type = VarAdd
Trigger1 = Time = [5,25]
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 4

[State -1]
Type = HitAdd
Trigger1 = Time = [5,25]
Value = 1
Persistent = 4

[State -1]
Type = TargetVelSet
Trigger1 = Time = [2,22]
X = -0.3*FVar(4)
Y = -1.5
Persistent = 4

[State -1]
Type = TargetVelSet
Trigger1 = Time = [4,24]
X = 0
Y = 0
Persistent = 4

[State -1]
Type = VelSet
Trigger1 = NumTarget(5600) > 0
Trigger1 = Target(5600),BackEdgeDist <= 5
Trigger1 = Time = [2,22]
X = -0.6*FVar(4)
Persistent = 4

[State -1]
Type = VelSet
Trigger1 = Time = [4,24]
X = 0
Y = 0
Persistent = 4

[State -1]
Type = TargetState
Trigger1 = AnimElem = 13
Value = 5610

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;チェーンソー・投げられている相手
; 
;     ここは投げられた瞬間の相手のステートです
;     たいしたことは書いてありませんがtypeがAになっている事です。
;     相手が投げれて空中にいる事を設定して次の821ステートに移動します

[Statedef 1130]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State -1]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim2
Trigger1 = Time = 0
Value = 1130

[State -1] 
Type = SelfState
Trigger1 = Time >= 10
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;トリックナイフ弱
[Statedef 1200]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1200
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -11

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 5
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s40, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 4
StateNo = 1205
ID = 1205
Pos = 5, -75
Ownpal = 1
SprPriority = 4

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;トリックナイフ中
[Statedef 1210]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1210
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -11

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 5
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s40, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 4
StateNo = 1215
ID = 1215
Pos = 5, -75
Ownpal = 1
SprPriority = 4

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;トリックナイフ強
[Statedef 1220]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1220
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -11

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 5
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s40, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 4
StateNo = 1225
ID = 1225
Pos = 5, -75
Ownpal = 1
SprPriority = 4

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; トライナイフ
[Statedef 1300]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 1300
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -39

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 7
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 7
Value = s220, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 7
Value = s220, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1305, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 8
Value = s30, 2
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 8
Value = s40, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 10
StateNo = 1305
ID = 1305
Pos = 22,-72
Ownpal = 1
SprPriority = 4

[State -1]
Type = Helper
Trigger1 = Time = 10
StateNo = 1305
ID = 1306
Pos = 22,-72
Ownpal = 1
SprPriority = 4

[State -1]
Type = Helper
Trigger1 = Time = 10
StateNo = 1305
ID = 1307
Pos = 22,-72
Ownpal = 1
SprPriority = 4

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 空中トライナイフ
[Statedef 1350]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 1350
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Time = 0
V = 14
Value = -28

[State -1]
Type = Helper
Trigger1 = Time = 9
StateNo = 1355
ID = 1355
Pos = -5,-30
Ownpal = 1
SprPriority = 4

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s1350, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time = 9
StateNo = 1355
ID = 1356
Pos = -5,-30
Ownpal = 1
SprPriority = 4

[State -1]
Type = Helper
Trigger1 = Time = 9
StateNo = 1355
ID = 1357
Pos = -5,-30
Ownpal = 1
SprPriority = 4

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State -1]
Type = VelSet
Trigger1 = Time = 0
X = -1
Y = -2
