;///////////////////////////////////////////////////////////////////
;"Sagat" CNS File 
;Made By H''
;///////////////////////////////////////////////////////////////////
	 
;---------------------------------------------------------------------
;基本設定 
;---------------------------------------------------------------------
;変数表
;キャラクター用固有変数
;   var(0)  : リバーサルフラグ　その１
;   var(1)  : リバーサルフラグ　その２
;   Var(2)  :
;   Var(3)  :
;   Var(4)  :
;   Var(5)  :
;   Var(6)  :
;   Var(7)  :
;   Var(8)  :
;   Var(9)  :
;   Var(10) :
;   Var(11) : ダメージ量
;	Var(12) : 連打判定　その１
;	Var(13) : 連打判定　その２
;	Var(14) : 弱中強判定
;   var(15) : MoveHit判定持続
;   Var(16) : 飛び道具用ヒットエフェクトランダム
;   Var(17) : アングリーチャージ
;   Var(18) : リバーサルフラグ
;---------------------------------------------------------------------

	 
[Data] 
life = 1028           ; 体力ゲージ、上限値（デフォルト：1000）
attack = 100          ; 攻撃力（％）
defence = 100         ; 防御力（％）
fall.defence_up = 50  ; 空中コンボ修正率（％）
liedown.time = 60     ; ダウン時間
airjuggle = 15        ; 空中コンボ
sparkno = 2           ; 初期ヒットスパーク番号
guard.sparkno = 40    ; 初期ガードスパーク番号
KO.echo = 0           ; ＫＯボイスエコー（0:OFF、1:ON）
volume = 100          ; キャラボイスボリューム値
IntPersistIndex = 30
FloatPersistIndex = 30
 
[Size] 
xscale = 0.8333	; 水平サイズ倍率
yscale = 1		; 垂直サイズ倍率
ground.back = 20	; キャラ幅（地上、後ろ側）
ground.front = 20	; キャラ幅（地上、前側）
air.back = 17		; キャラ幅（空中、後ろ側）
air.front = 17	; キャラ幅（空中、前側）
z.width = 10		; キャラ幅（ｚ軸）
height = 60		; キャラの高さ（ジャンプで飛び越せる高さ）
attack.width = 4,4	;Default attack width: back, front
attack.dist = 160	;Default attack distance
proj.attack.dist = 90;Default attack distance for projectiles
proj.doscale = 0	;Set to 1 to scale projectiles too
head.pos = -5,-110	; 頭部座標
mid.pos = 0,-70	; 体中心部座標
shadowoffset = 0	; キャラの影・オフセット値
 
[Velocity] 
walk.fwd  = 2.67		 ; 前進速度
walk.back = -2.22		 ; 後退速度
run.fwd  = 3.73,0	     ; 前ダッシュ速度（y<0の場合、ホップステップ）
run.back = -8.4,-3	     ; バックステップ速度（y=0の場合、走り）
jump.neu = 0,-8.2		 ; 垂直ジャンプ速度
jump.back = -2.3		 ; 後方ジャンプ速度
jump.fwd = 	2		     ; 前方ジャンプ速度
runjump.back =-3.45,-9.43; 後方ジャンプ速度（ダッシュ中）
runjump.fwd = 3,-9.43	 ; 前方ジャンプ速度（ダッシュ中）
airjump.neu = 0,0		 ; 空中垂直ジャンプ速度
airjump.back = 0,0		 ; 空中後方ジャンプ速度
airjump.fwd = 0,0		 ; 空中前方ジャンプ速度
 
[Movement] 
airjump.num = 0	; 空中ジャンプ回数
airjump.height = 35	; 空中ジャンプ最低高度
yaccel = .47		; キャラ重力加速度
stand.friction = .85	; 摩擦係数（立ち状態）
crouch.friction = .82; 摩擦係数（しゃがみ状態）
  
;===================================================================
;基本動作 
;===================================================================

	 
;---------------------------------------------------------------------
;バックステップ 
;------------------------ 開始
[Statedef 105]
type = S
movetype = I
physics = S
anim = 105
ctrl = 0
velset = 0, 0

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A
physics = N

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = Const(velocity.run.back.x)
y = Const(velocity.run.back.y)

[State 105,VelAdd]
type = VelAdd
trigger1 = AnimElem = 2, > 0
y = .6

[State 105, VelMul]
type = VelMul
trigger1 = AnimElem = 2, > 0
x = .94

[State 105,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 6

[State 105,VelAdd]
type = VelSet
trigger1 = AnimElem = 2, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
x = 0

[State 106,PosSet]
type = PosSet
trigger1 = AnimElem = 2, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
y = 0

[State -2,AfterImageTime]
type = AfterImageTime
trigger1 = PrevStateNo = 4520
trigger1 = AnimElem = 2, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
time = 0

[State 105,End]
type = ChangeState
trigger1 = AnimElem = 2, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 106

;------------------------ 停止
[Statedef 106]
type = S
movetype = I
physics = S
anim = 106
velset = 0, 0

[State 106, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 3,3

[State 106, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
 
;-----------------------------------------------------------------
;ラン 
;------------------------ 動作
[Statedef 100]
type    = S
movetype = I
physics = N
ctrl = 0
VelSet = 0,0

[State 100,ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 100

[State 100,VelSet]
type = VelSet
trigger1 = AnimElem = 2,= 0
x = Const(velocity.run.fwd.x)

[State 100,ChangeState]
type = ChangeState
trigger1 = Command != "holdfwd" && Time >= 10
value = 101
ctrl = 1

[State 100,ChangeState]
type = ChangeState
trigger1 = Command = "holdupfwd"
value = 40

[State 100,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3, 2
channel = 5

[State 100,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4,=1
value = 3, 3
channel = 5

[State 100,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7,=1
value = 3, 4
channel = 5

[State 100,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

;------------------------ 停止
[Statedef 101]
type = S
movetype = I
physics = S

[State 101,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 3,5

[State 101, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 101

[State 101,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
 
;---------------------------------------------------------------------
;ステップ 
;------------------------ 開始
[Statedef 110]
type = S
movetype = I
physics = S
anim = 110
ctrl = 0
velset = 0, 0

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A
physics = N

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 6.5

[State 105,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 2

[State 105, VelMul]
type = VelMul
trigger1 = AnimElem = 2, > 0
x = .95

[State 105,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 111

;------------------------ 停止
[Statedef 111]
type = S
movetype = I
physics = S
anim = 111
velset = 0, 0

[State 106, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 3,3

[State 106, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
  
;===================================================================
;デモ 
;===================================================================

	 
;-----------------------------------------------------------------
;タイムアップ 
;------------------------ 負け
[Statedef 170]
type = S
ctrl = 0
anim = 175
velset = 0,0

[State 170,AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

;------------------------ 引き分け
[Statedef 175]
type = S
ctrl = 0
velset = 0,0

[State 175,ChangeState]
type = ChangeState
trigger1 = Time = 0
value = 170
 
;-----------------------------------------------------------------
;勝利 
[Statedef 180]
type = S

[State 180,ChangeState]
type = ChangeState
trigger1 = Time = 0
value = 180+random%4

;------------------------ 1
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0,0

[State 184, SOUND]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 0

[State 181,AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

;------------------------ 2
[Statedef 182]
type = S
ctrl = 0
anim = 181
velset = 0,0,0

[State 184, SOUND]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2

[State 181,AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

;------------------------ 3
[Statedef 183]
type = S
ctrl = 0
anim = 182
velset = 0,0,0

[State 182,PlaySnd]
type = PlaySnd
trigger1 = animelem = 15
value = 0, 3

[State 182,AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

;------------------------ 4
[Statedef 184]
type = S
ctrl = 0
anim = 183
velset = 0,0,0

[State 182,PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = 0, 3

[State 182,AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

 
;---------------------------------------------------------------------------
;プレイントロ 
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 190,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190,4]
type = ChangeState
Triggerall = Time = 0
triggerall = Numenemy
trigger1 = enemy,authorName = "H”"
trigger1 = P2Name = "cvsadon" || P4Name = "cvsadon"
value = 191

[State 190,4]
type = ChangeState
Triggerall = Time = 0
triggerall = Numenemy
trigger1 = P2Name = "cvsryu" || P4Name = "cvsryu"
trigger2 = P2Name = "svcryu" || P4Name = "svcryu"
trigger3 = P2Name = "ryu" || P4Name = "ryu"
trigger4 = P2Name = "Ryu" || P4Name = "Ryu"
value = 193

[State 190,4]
type = ChangeState
Triggerall = Time = 0
triggerall = Numenemy
trigger1 = P2Name = "cvsking" || P4Name = "cvsking" || P2Name = "King" || P4Name = "King"
trigger2 = P2Name = "cvsjoe" || P4Name = "cvsjoe" || P2Name = "Joe Higashi" || P4Name = "Joe Higashi"
trigger3 = P2Name = "SAMCHAY" || P4Name = "SAMCHAY"
trigger4 = P2Name = "Hwa Jai" || P4Name = "Hwa Jai"
value = 194

[State 190,4]
type = ChangeState
Trigger1 = Time = 0
Trigger1 = random < 200
trigger1 = P2Name != "cvsdan" && P4Name != "cvsdan" && P2Name != "Dan Hibiki" && P4Name != "Dan Hibiki"
value = 189

[State 820,ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 190

[State 4000,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 0
channel = 3

[State 191,4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
	 
;---------------------------------------------------------------------
; イントロ（通常2） 
[Statedef 189]
type = S
physics = N
ctrl = 0
anim = 194
velset = 0, 0
sprpriority = 1

[State 191, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 4000,Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 7920
id = 7920
scale = const(Size.xscale),const(Size.yscale)
sprpriority = 2
bindtime = -1
ownpal = 1

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 4
id = 7920

[State 4000,Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 7900
id = 7900
postype = p1
vel = 0,0
scale = const(Size.xscale),const(Size.yscale)
sprpriority = 2
bindtime = 1
ownpal = 1

[State 4900, 16]
type = modifyExplod
trigger1 = AnimElem = 5
id = 7900
postype = p1
vel = -4,-2
accel = 0,.55

[State 4000,Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 7910
id = 7910
postype = p1
vel = 0,0
removetime = 32
scale = const(Size.xscale),const(Size.yscale)
sprpriority = 2
bindtime = 1
ownpal = 1

[State 4900, 16]
type = modifyExplod
trigger1 = AnimElem = 5,=0
id = 7910
postype = p1
pos = 8,-54
vel = 3,-5
accel = 0,.55

[State 4000,Explod]
type = Explod
trigger1 = AnimElem = 5,=1
anim = 7911
id = 7910
postype = p1
pos = 24,-78
vel = 2,-4
accel = 0,.65
removetime = 25
scale = const(Size.xscale),const(Size.yscale)
sprpriority = 2
bindtime = 1
ownpal = 1

[State 4900, 16]
type = modifyExplod
trigger1 = AnimElem = 5,>0
id = 7910
trans = addalpha
alpha = 256-(Time-47)*6,(Time-47)*6

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 10
id = 7900

[State 195,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 4, 2

[State 195,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 0
channel = 0

[State 191, 3]
type = ChangeState
trigger1 = AnimTime  = 0
value = 0
ctrl = 0
 
;---------------------------------------------------------------------
; イントロ（対アドン） 
;------------------------ 1
[Statedef 191]
type = S
physics = N
ctrl = 0
anim = 191
velset = 0, 0
sprpriority = 1

[State 191, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 4400,VarSet]
type = VarSet
trigger1 = time = 0
var(10) = abs(floor(pos x))

[State 4400,PosAdd]
type = PosAdd
trigger1 = time = 0
x = var(10)-60

[State 4400,PosAdd]
type = PosSet
trigger1 = AnimElem = 74
x = -(var(10)) * facing

[State 191, 3]
type = ChangeState
trigger1 = AnimTime  = 0
value = 192

;------------------------ 2
[Statedef 192]
type = S
physics = N
ctrl = 0
anim = 192
velset = 0, 0
sprpriority = 1

[State 191, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 4000,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 0
channel = 3

[State 191, 3]
type = ChangeState
trigger1 = AnimTime  = 0
value = 0
ctrl = 0
 
;---------------------------------------------------------------------
; イントロ（対リュウ） 
[Statedef 193]
type = S
physics = N
ctrl = 0
anim = 193
velset = 0, 0
sprpriority = 1

[State 191, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 4000,Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 7000
scale = const(Size.xscale),const(Size.yscale)
sprpriority = 2
bindtime = 1
ownpal = 1

[State 191, 3]
type = ChangeState
trigger1 = AnimTime  = 0
value = 0
ctrl = 0
 
;---------------------------------------------------------------------
; イントロ（対ムエタイ） 
[Statedef 194]
type = S
physics = N
ctrl = 0
anim = 195
velset = 0, 0
sprpriority = 1

[State 3000,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 191, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 195,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1
channel = 0

[State 191, 3]
type = ChangeState
trigger1 = AnimTime  = 0
value = 0
ctrl = 0
  
;-------------------------------------------------------------------------------
;挑発 
[Statedef 195]
type = S
movetype = I
physics = S
anim = 195
velset = 0, 0
ctrl = 0

[State 195,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1
channel = 0

[State 195,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
  
;===================================================================
;通常攻撃 
;===================================================================
	 
;-------------------------------------------------------------------
;立ち 
;----------------------------
;立ち弱パンチ
[Statedef 200]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 200
ctrl = 0
poweradd = 0

[State 200,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -15
ignorehitpause = 1

[State 200,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -70
ignorehitpause = 1

[State 200,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 2
attr = S, NA
animtype = Light
damage    = ceil(ifelse((35*fvar(10))<7,7,(35*fvar(10))))
getpower = Ceil(72*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = Ceil(9*IfElse(Var(47),.5,1)),Ceil(9*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 0
guardsound = S6, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 11+var(34)*2
ground.velocity = -4.5*IfElse(Var(47),.7,1)
air.velocity = -3.5*IfElse(Var(47),.7,1),-6.5
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = !Var(47)
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 200,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 200,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
;立ち中パンチ
[Statedef 210]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 210
ctrl = 0
triggerall = var(25) < 1
poweradd = Ceil(18*fvar(5))

[State 210,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -15
ignorehitpause = 1

[State 210,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -65
ignorehitpause = 1

[State 210,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 3
attr = S, NA
animtype = Medium
damage    = ceil(ifelse((77*fvar(10))<7,7,(77*fvar(10))))
getpower = Ceil(IfElse(var(41)>1,72,143)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = Ceil(11*IfElse(Var(47),.5,1)),Ceil(11*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 1
guardsound = S6, 0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 15+var(34)*2
ground.velocity = -8*IfElse(Var(47),.7,1)
air.velocity = -5*IfElse(Var(47),.7,1),-6
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = !Var(47)
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 210,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 210,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
;遠距離立ち強パンチ
[Statedef 220]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 220
ctrl = 0
poweradd = Ceil(18*fvar(5))

[State 220,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -25
ignorehitpause = 1

[State 220,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -85
ignorehitpause = 1

[State 220,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 3
attr = S, NA
animtype = Hard
damage    = ceil(ifelse((112*fvar(10))<7,7,(112*fvar(10))))
getpower = Ceil(IfElse(var(41)>1,72,214)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(13*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 2
guardsound = S6, 0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 18+var(34)*3
ground.velocity = -10*IfElse(Var(47),.7,1)
air.velocity = -5*IfElse(Var(47),.7,1),-6
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = !Var(47)
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 220,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 220,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
;近距離立ち強パンチ
[Statedef 225]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 225
ctrl = 0
poweradd = Ceil(18*fvar(5))

[State 220,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -20
ignorehitpause = 1

[State 220,VarSet]
type = VarSet
trigger1 = Time = 0 || animelem = 4
var(21) = -75-(animelem=4)*40
ignorehitpause = 1

[State 220,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 3 || AnimElem = 4
attr = S, NA
animtype = Hard
damage    = ceil(ifelse(((77+(animelem=4)*14)*fvar(10))<7,7,((77+(animelem=4)*14)*fvar(10))))
getpower = Ceil(IfElse(var(41)>1,72,214)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(13*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 2
guardsound = S6, 0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 18+var(34)*3
ground.velocity = -10*IfElse(Var(47),.7,1)
air.velocity = -3.5*IfElse(Var(47),.7,1),-7.5
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = !Var(47)
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 220,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 220,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
;立ち弱キック
[Statedef 230]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 230
ctrl = 0
poweradd = 0

[State 230,VarSet]
type = VarSet
trigger1 = Time = 0 || animelem = 4
var(20) = 0-(animelem=4)*30
ignorehitpause = 1

[State 230,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -35
ignorehitpause = 1

[State 230,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 3 || AnimElem = 4
attr = S, NA
animtype = Light
damage    = ceil(ifelse(((14+(animelem=4)*14)*fvar(10))<7,7,((14+(animelem=4)*14)*fvar(10))))
getpower = Ceil(72*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = Ceil(9*IfElse(Var(47),.5,1)),Ceil(9*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 3
guardsound = S6, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 11+var(34)*2
ground.velocity = -4.5*IfElse(Var(47),.7,1)
air.velocity = -5*IfElse(Var(47),.7,1),-6
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = !Var(47)
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 230,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 230,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
; 立ち中キック
[Statedef 240]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 240
ctrl = 0
poweradd = Ceil(18*fvar(5))

[State 230,VarSet]
type = VarSet
trigger1 = Time = 0 || animelem = 4
var(20) = 0-(animelem=4)*30
ignorehitpause = 1

[State 240,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -70
ignorehitpause = 1

[State 240,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 3 || AnimElem = 4
attr = S, NA
animtype = Medium
damage    = ceil(ifelse(((28+(animelem=4)*35)*fvar(10))<7,7,((28+(animelem=4)*35)*fvar(10))))
getpower = Ceil(IfElse(var(41)>1,72,143)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = Ceil(11*IfElse(Var(47),.5,1)),Ceil(11*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 4
guardsound = S6, 0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 15+var(34)*2
ground.velocity = -8*IfElse(Var(47),.7,1)
air.velocity = -5*IfElse(Var(47),.7,1),-6
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = !Var(47)
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 240,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 240,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
;立ち強キック
[Statedef 250]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 250
ctrl = 0
poweradd = Ceil(18*fvar(5))

[State 4020, 0]
type = AfterImageTime
trigger1 = Time = 0
trigger1 = !Var(47)
time = 0
ignorehitpause = 1

[State 230,VarSet]
type = VarSet
trigger1 = Time = 0 || animelem = 4
var(20) = 0-(animelem=4)*30
ignorehitpause = 1

[State 250,VarSet]
type = VarSet
trigger1 = Time = 0 || animelem = 4
var(21) = -70-(animelem=4)*20
ignorehitpause = 1

[State 250,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 3
attr = S, NA
animtype = Hard
damage    = ceil(ifelse((35*fvar(10))<7,7,(35*fvar(10))))
getpower = Ceil(IfElse(var(41)>1,72,214)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(13*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 18+var(34)*3
ground.velocity = -10*IfElse(Var(47),.7,1)
air.velocity = -3.5*IfElse(Var(47),.7,1),-6.5
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = !Var(47)
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 250,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 4
attr = S, NA
animtype = Hard
damage    = ceil(ifelse((91*fvar(10))<7,7,(91*fvar(10))))
getpower = Ceil(IfElse(var(41)>1,72,214)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(13*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = High
ground.slidetime = 17
ground.hittime  = 18+var(34)*3
ground.velocity = -10*IfElse(Var(47),.7,1)
air.velocity = -5*IfElse(Var(47),.7,1),-6
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = !Var(47)
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 250,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 250,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
 
;-------------------------------------------------------------------
;屈み 
;----------------------------
;しゃがみ弱パンチ
[Statedef 400]
type    = C
movetype= A
physics = C
velset = 0,0
anim = 400
ctrl = 0
poweradd = 0

[State 400,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10
ignorehitpause = 1

[State 400,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -45
ignorehitpause = 1

[State 400,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 2
attr = C, NA
animtype = Light
damage    = ceil(ifelse((28*fvar(10))<7,7,(28*fvar(10))))
getpower = Ceil(72*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = Ceil(9*IfElse(Var(47),.5,1)),Ceil(9*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 0
guardsound = S6, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 11+var(34)*2
ground.velocity = -4.5*IfElse(Var(47),.7,1)
air.velocity = -5*IfElse(Var(47),.7,1),-6
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = !Var(47)
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 400,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 400,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;----------------------------
; しゃがみ中パンチ
[Statedef 410]
type    = C
movetype= A
physics = C
velset = 0,0
anim = 410
ctrl = 0
poweradd = Ceil(18*fvar(5))

[State 410,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10

[State 410,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -45

[State 410,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 2
attr = C, NA
animtype = Medium
damage    = ceil(ifelse((70*fvar(10))<7,7,(70*fvar(10))))
getpower = Ceil(IfElse(var(41)>1,72,143)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = Ceil(11*IfElse(Var(47),.5,1)),Ceil(11*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 1
guardsound = S6, 0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 15+var(34)*2
ground.velocity = -8*IfElse(Var(47),.7,1)
air.velocity = -5*IfElse(Var(47),.7,1),-6
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = !Var(47)
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 410,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 410,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;----------------------------
; しゃがみ強パンチ
[Statedef 420]
type    = C
movetype= A
physics = C
velset = 0,0
anim = 420
ctrl = 0
poweradd = Ceil(18*fvar(5))

[State 420,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -15

[State 420,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -55

[State 220,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 2
attr = S, NA
animtype = Hard
damage    = ceil(ifelse((105*fvar(10))<7,7,(105*fvar(10))))
getpower = Ceil(IfElse(var(41)>1,72,214)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(13*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 2
guardsound = S6, 0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 18+var(34)*3
ground.velocity = -10*IfElse(Var(47),.7,1)
air.velocity = -5*IfElse(Var(47),.7,1),-6
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = !Var(47)
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 420,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 420,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;----------------------------
; しゃがみ弱キック
[Statedef 430]
type    = C
movetype= A
physics = C
velset = 0,0
anim = 430
ctrl = 0

[State 430,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10

[State 430,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -10

[State 430,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 2
attr = C, NA
animtype = Light
damage    = ceil(ifelse((28*fvar(10))<7,7,(28*fvar(10))))
getpower = Ceil(72*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = L
hitflag = MAF
pausetime = Ceil(9*IfElse(Var(47),.5,1)),Ceil(9*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 3
guardsound = S6, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 11+var(34)*2
ground.velocity = -4.5*IfElse(Var(47),.7,1)
air.velocity = -5.5*IfElse(Var(47),.7,1),-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 430,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 430,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;----------------------------
; しゃがみ中キック
[Statedef 440]
type    = C
movetype= A
physics = C
velset = 0,0
anim = 440
ctrl = 0
poweradd = Ceil(18*fvar(5))

[State 430,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10

[State 430,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -10

[State 440,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 4
attr = S, NA
animtype = Medium
damage    = ceil(ifelse((70*fvar(10))<7,7,(70*fvar(10))))
getpower = Ceil(IfElse(var(41)>1,72,143)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = L
hitflag = MAF
pausetime = Ceil(11*IfElse(Var(47),.5,1)),Ceil(11*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 4
guardsound = S6, 0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 15+var(34)*2
ground.velocity = -8*IfElse(Var(47),.7,1)
air.velocity = -5*IfElse(Var(47),.7,1),-6
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = !Var(47)
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 440,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 440,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-------------------------------------------------------------------------------
; しゃがみ強キック
[Statedef 450]
type    = C
movetype= A
physics = C
velset = 0,0
anim = 450
ctrl = 0
poweradd = Ceil(18*fvar(5))

[State 450,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10

[State 450,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -10

[State 450, HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 4
attr = C, NA
damage    = ceil(ifelse((105*fvar(10))<7,7,(105*fvar(10))))
getpower = Ceil(IfElse(var(41)>1,72,214)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
animtype = Hard
hitflag = MAF
guardflag = L
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(13*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = Trip
ground.slidetime = 17
ground.hittime  = 18+var(34)*3
ground.velocity = -1*IfElse(Var(47),.7,1),-6
guard.velocity = -10*IfElse(Var(47),.7,1)
air.velocity = -1*IfElse(Var(47),.7,1),-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
air.fall = 1
fall.recover = 0
yaccel = .5
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 450,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 450,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
 
;-------------------------------------------------------------------
;ジャンプ 
;----------------------------
;ジャンプ弱パンチ
[Statedef 600]
type    = A
movetype= A
physics = A
anim = 600
poweradd= 0
ctrl = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -100

[State 600,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 2
attr = A, NA
animtype = Light
damage    = ceil(ifelse((42*fvar(10))<7,7,(42*fvar(10))))
getpower = Ceil(72*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = HA
hitflag = MAF
pausetime = Ceil(9*IfElse(Var(47),.25,1)),Ceil(9*IfElse(Var(47),.25,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 0
guardsound = S6, 0
ground.type = High
ground.slidetime = 9
ground.hittime  = 10+var(34)*2
ground.velocity = -5*IfElse(Var(47),.7,1)
air.velocity = -3.5*IfElse(Var(47),.7,1),-6.5
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = !Var(47)
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 600,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

;----------------------------
;ジャンプ中パンチ
[Statedef 610]
type    = A
movetype= A
physics = A
anim = 610
poweradd= Ceil(18*fvar(5))
ctrl = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -110

[State 605,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 2
attr = A, NA
animtype = Medium
damage    = ceil(ifelse((77*fvar(10))<7,7,(77*fvar(10))))
getpower = Ceil(IfElse(var(41)>1,72,143)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = HA
hitflag = MAF
pausetime = Ceil(9*IfElse(Var(47),.5,1)),Ceil(9*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 1
guardsound = S6, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 11+var(34)*2
ground.velocity = -5*IfElse(Var(47),.7,1)
air.velocity = -2*IfElse(Var(47),.7,1),-8.5
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = !Var(47)
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 600,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

;----------------------------
;ジャンプ強パンチ
[Statedef 620]
type    = A
movetype= A
physics = A
anim = 620
poweradd= Ceil(18*fvar(5))
ctrl = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -115

[State 620,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 3
attr = A, NA
animtype = Hard
damage    = ceil(ifelse((112*fvar(10))<7,7,(112*fvar(10))))
getpower = Ceil(IfElse(var(41)>1,72,214)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = HA
hitflag = MAF
pausetime = Ceil(9*IfElse(Var(47),.5,1)),Ceil(9*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 2
guardsound = S6, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 11+var(34)*3
ground.velocity = -5*IfElse(Var(47),.7,1)
air.velocity = -5*IfElse(Var(47),.7,1),-6
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = !Var(47)
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 620,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

;----------------------------
;ジャンプ弱キック
[Statedef 630]
type    = A
movetype= A
physics = A
anim = 630
ctrl = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -55

[State 630,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 2
attr = A, NA
animtype = Light
damage    = ceil(ifelse((42*fvar(10))<7,7,(42*fvar(10))))
getpower = Ceil(72*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = HA
hitflag = MAF
pausetime = Ceil(9*IfElse(Var(47),.5,1)),Ceil(9*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
ground.slidetime = 9
ground.hittime  = 10+var(34)*2
ground.velocity = -5*IfElse(Var(47),.7,1)
air.velocity = -3.5*IfElse(Var(47),.7,1),-6.5
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = !Var(47)
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 630,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

;----------------------------
;ジャンプ中キック
[Statedef 640]
type    = A
movetype= A
physics = A
anim = 640
poweradd= Ceil(18*fvar(5))
ctrl = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -70

[State 605,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 2
attr = A, NA
animtype = Medium
damage    = ceil(ifelse((70*fvar(10))<7,7,(70*fvar(10))))
getpower = Ceil(IfElse(var(41)>1,72,143)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = HA
hitflag = MAF
pausetime = Ceil(9*IfElse(Var(47),.5,1)),Ceil(9*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 4
guardsound = S6, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 11+var(34)*2
ground.velocity = -5*IfElse(Var(47),.7,1)
air.velocity = -5*IfElse(Var(47),.7,1),-6
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = !Var(47)
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 630,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

;----------------------------
;ジャンプ強キック
[Statedef 650]
type    = A
movetype= A
physics = A
anim = 650
poweradd= Ceil(18*fvar(5))
ctrl = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -20

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -65

[State 655,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 2
attr = A, NA
animtype = Hard
damage    = ceil(ifelse((98*fvar(10))<7,7,(98*fvar(10))))
getpower = Ceil(IfElse(var(41)>1,72,214)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = HA
hitflag = MAF
pausetime = Ceil(9*IfElse(Var(47),.5,1)),Ceil(9*IfElse(Var(47),.5,1))
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 11+var(34)*3
ground.velocity = -5*IfElse(Var(47),.7,1)
air.velocity = -5*IfElse(Var(47),.7,1),-6
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = !Var(47)
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 630,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I
 
;-------------------------------------------------------------------
;通常投げ 
;-------------------------------------------------------------------
	 
;----------------------------
;タイガーキャリー（Ｐ通常投げ） 
[Statedef 800]
type = S
movetype = A
physics = S
ctrl = 0
anim = 800
velset = 0, 0
poweradd = Ceil(18*fvar(5))

[State 800,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = 0
[State 800,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = 0

[State 800,HitDef]
type = Hitdef
trigger1 = !var(47)
trigger1 = Time = 0
trigger1 = P2MoveType != H
trigger1 = P2StateNo != [150,155]
attr = S, NT
priority = 3,Miss
hitonce = 1
getpower = 0
givepower = 35,35
hitflag = M-
numhits = 0
sparkno = -1
p1facing = ifelse (command = "holdfwd", 1,-1)
p2facing = -1
p1stateno = 810
p2stateno = 820
p2getp1state = 1
hitsound = -1
fall = 1
fall.recover = 0

[State 800,HitDef]
type = Hitdef
trigger1 = var(47)
trigger1 = Time = 0
trigger1 = P2StateNo != [150,155]
attr = S, NT
priority = 3,Miss
hitonce = 1
getpower = 0
givepower = 35,35
hitflag = MF
numhits = 0
sparkno = -1
p1facing = ifelse (command = "holdfwd", 1,-1)
p2facing = -1
p1stateno = 810
p2stateno = 820
p2getp1state = 1
hitsound = -1
fall = 1
fall.recover = 0

[State 800,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 800,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,9
channel = 0

[State 800,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
;タイガーキャリー（成功）
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810

[State 810,Width]
type = Width
triggerall = Time = 0
trigger1 = BackEdgeBodyDist < 50
edge = 0,50

[State 810,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 7,0

[State 885,PosSet]
type = PosSet
trigger1 = AnimElem = 1,< 6
triggerall = (Target,Command = "holdfwd" || Target,Command = "holdback") && (Target,Command = "c" || Target,Command = "z")
triggerall = fvar(17) = 1 || (fvar(12) != [100,109]) && (fvar(12) = [0,999])
y = 0

[State 810,TargetBind]
type = ChangeState
trigger1 = AnimElem = 1,< 6
triggerall = (Target,Command = "holdfwd" || Target,Command = "holdback") && (Target,Command = "c" || Target,Command = "z")
triggerall = fvar(17) = 1 || (fvar(12) != [100,109]) && (fvar(12) = [0,999])
value = 950

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 810,Width]
type = Width
triggerall = AnimElem = 4
trigger1 = FrontEdgeBodyDist < 100
edge = 100,0

[State 810,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S0, 7
channel = 0

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem= 1
pos = -40*const(Size.xscale), -100

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 2
pos = 0*const(Size.xscale), -120

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem= 3
pos = 25*const(Size.xscale), -115

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 4
pos = 125*const(Size.xscale),-70

[State 4010,SprPriority]
type = SprPriority
trigger1 = AnimElem = 3
value = -1

[State 4010,SprPriority]
type = SprPriority
trigger1 = AnimElem = 4
value = 0

[State 810,targetState]
type = targetState
trigger1 = AnimElem = 5
value = 830

[State -2,2]
type = VarSet
trigger1 = AnimElem = 5
var(42) = 1

[State 810,TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 5
value = -Ceil(ifelse((fvar(10)>.1),133*fvar(10),6))

[State 810,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
; タイガーキャリー（相手１）
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 820,Screenbound]
type = screenbound
Trigger1 = 1
value = 1
movecamera = 0,0

[State 820,ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

;----------------------------
;タイガーキャリー（相手２）
[Statedef 830]
type    = A
movetype= H
physics = N
velset = 5,-5

[State 830,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 830,veladd]
type = veladd
trigger1 = 1
y = .55

[State 830,velset]
type = velset
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 15
x = 2

[State 830,End]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 15
value = 5100
 
;----------------------------
;タイガーレイジ（Ｋ通常投げ） 
[Statedef 850]
type = S
movetype = A
physics = S
ctrl = 0
anim = 850
velset = 0, 0
poweradd = Ceil(18*fvar(5))

[State 800,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = 0
[State 800,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = 0

[State 850,HitDef]
type = Hitdef
trigger1 = !var(47)
trigger1 = Time = 0
trigger1 = P2MoveType != H
trigger1 = P2StateNo != [150,155]
attr = S, NT
priority = 3,Miss
hitonce = 1
getpower = 0
givepower = 35, 35
hitflag = M-
numhits = 0
sparkno = -1
p1facing = ifelse (command = "holdfwd", 1,-1)
p2facing = 1
p1stateno = 860
p2stateno = 870
p2getp1state = 1
hitsound = -1
fall = 1
fall.recover = 0

[State 850,HitDef]
type = Hitdef
trigger1 = var(47)
trigger1 = Time = 0
trigger1 = P2StateNo != [150,155]
attr = S, NT
priority = 3,Miss
hitonce = 1
getpower = 0
givepower = 35, 35
hitflag = MF
numhits = 0
sparkno = -1
p1facing = ifelse (command = "holdfwd", 1,-1)
p2facing = 1
p1stateno = 860
p2stateno = 870
p2getp1state = 1
hitsound = -1
fall = 1
fall.recover = 0

[State 850,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 850,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,9
channel = 0

[State 850,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
;タイガーレイジ（成功１）
[Statedef 860]
type = S
movetype = A
physics = S
anim = 860
velset = 0, 0
ctrl = 0

[State 810,Width]
type = Width
triggerall = Time = 0
trigger1 = FrontEdgeBodyDist < 75
trigger2 = BackEdgeBodyDist < 75
edge = 75,0

[State 860,TargetState]
type = TargetState
trigger1 = Time = 0
value = 870

[State 860,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 7,0

[State 860,VarSet]
type = VarSet
trigger1 = Time = 0
var(12) = 0

[State 860,VarSet]
type = VarSet
trigger1 = Time = 0
var(13) = 0

[State 860,VarSet]
type = VarSet
trigger1 = Time = 0
var(14) = 100

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElemNo(0) = 1
pos = 75*const(Size.xscale), -75

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElemNo(0) = 2
pos = 65*const(Size.xscale), -125

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
pos = 60*const(Size.xscale), -140

[State 885,PosSet]
type = PosSet
trigger1 = AnimElem = 1,< 3
trigger1 = (Target,Command = "holdfwd" || Target,Command = "holdback") && (Target,Command = "z" || Target,Command = "c")
triggerall = fvar(17) = 1 || (fvar(12) != [100,109]) && (fvar(12) = [0,999])
y = 0
[State 860,ChangeState]
type = ChangeState
trigger1 = AnimElem = 1,< 3
trigger1 = (Target,Command = "holdfwd" || Target,Command = "holdback") && (Target,Command = "z" || Target,Command = "c")
triggerall = fvar(17) = 1 || (fvar(12) != [100,109]) && (fvar(12) = [0,999])
value = 950

[State 865,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0,1
channel = 0

[State 860,TargetState]
type = TargetState
trigger1 = AnimTime = 0
value = 871

[State 860,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 861

;----------------------------
;タイガーレイジ（成功２）
[Statedef 861]
type = S
movetype = A
physics = S
velset = 0, 0
hitcountpersist = 1

[State 861,TargetState]
type = TargetState
trigger1 = Time = 0
value = 871

[State 861,VarAdd]
type = VarAdd
trigger1 = Time = 0
var(12) = 1

[State 861,ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 861+ifelse(var(13)<0,0,var(13))

[State 861,VarSet]
type = VarSet
trigger1 = Time = 0
var(13) = -4

[State 861,VarAdd]
type = VarAdd
triggerall = Var(13)<3
trigger1 = !Var(59)
trigger1 = Command = "random"
trigger2 = Var(59)
trigger2 = time >= 0
var(13) = 1

[State 861,VarAdd]
type = VarAdd
triggerall = var(14) > 0
trigger1 = Target,Command = "random"
var(14) = -3

[State 861,VarAdd]
type = VarAdd
trigger1 = var(14) > 0
var(14) = -1

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElemNo(0) = 1
trigger2 = AnimElemNo(0) = 4
pos = 75*const(Size.xscale), -115

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElemNo(0) = 2
pos = 70*const(Size.xscale), -85

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElemNo(0) = 3
pos = 70*const(Size.xscale), -105

[State 4010,SprPriority]
type = SprPriority
trigger1 = AnimElemNo(0) = 1 || AnimElemNo(0) = 4
value = 0

[State 4010,SprPriority]
type = SprPriority
trigger1 = AnimElemNo(0) = [2,3]
value = -1

[State 861,HitAdd]
type = HitAdd
trigger1 = AnimElem = 2
value = 1

[State -2,2]
type = VarSet
trigger1 = AnimElem = 2
var(42) = 1

[State 861,TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 2
value =  -Ceil(ifelse((fvar(10)>.1),ifelse(var(12)<2,56,21)*fvar(10),7))
kill = 0

[State 861,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,6
channel = 0

[State 861,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 5,5

[State 861,Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 8200+(random%8)
pos =floor(70*const(Size.xscale)),-85
postype = P1
sprpriority = 5
facing = -1
bindtime = 1
ownpal = 1
persistent = 0
ignorehitpause = 1
pausemovetime = -1
Supermovetime = -1

[State 861,TargetState]
type = TargetState
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
value = 871

[State 861,TargetState]
type = TargetState
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
value = 872

[State 861,ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Target,life > 20
trigger1 = Var(14) > 0
trigger1 = var(12) = [1,8]
value = 861

[State 861,ChangeState]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Target,life <= 20
trigger2 = Var(14) <= 0
trigger3 = var(12) > 8
value = 865

;----------------------------
;タイガーレイジ（成功３）
[Statedef 865]
type = S
movetype = A
physics = S
anim = 865
velset = 0, 0

[State 865,TargetBind]
type = TargetState
trigger1 = Time = 0
value = 873

[State 4010,SprPriority]
type = SprPriority
trigger1 = AnimElemNo(0) = 1 || AnimElemNo(0) = 3
value = 0

[State 4010,SprPriority]
type = SprPriority
trigger1 = AnimElemNo(0) = 2
value = -1

[State 865,HitAdd]
type = HitAdd
trigger1 = AnimElem = 3
value = 1

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 1
pos = 75*const(Size.xscale), -115

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 2
pos = 70*const(Size.xscale), -85

[State 865,TargetBind]
type = TargetBind
trigger1 = AnimElem = 3
pos = 75*const(Size.xscale),-85

[State 865,TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 3
value =  -Ceil(ifelse((fvar(10)>.1),21*fvar(10),6))

[State 865,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 5,5

[State 865,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,7
channel = 0

[State 865,Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 8200+(random%8)
pos =75,-75
postype = P1
sprpriority = 5
facing = -1
bindtime = 1
ownpal = 1
persistent = 0
ignorehitpause = 1
pausemovetime = -1
Supermovetime = -1

[State 865,TargetBind]
type = TargetBind
trigger1 = AnimElem = 3
pos = 75*const(Size.xscale),ifelse((-85-Target,const(Size.mid.pos.y)<-15),-15,(-85-Target,const(Size.mid.pos.y)))

[State 865,TargetBind]
type = TargetState
trigger1 = AnimElem = 3
value = 875

[State 865,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
;タイガーレイジ（相手１）
[Statedef 870]
type = A
movetype = H
physics = N
velset = 0, 0
ctrl = 0

[State 870,ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 870

[State 870,screenbound]
type = screenbound
Trigger1 = 1
value = 1
movecamera = 0,0

;----------------------------
;タイガーレイジ（相手２）
[Statedef 871]
type = A
movetype = H
physics = N
velset = 0, 0
ctrl = 0

[State 871,ChangeAnim2]
type = ChangeAnim2
trigger1 = anim != [871,872]
trigger2 = anim = 872 && animtime = 0
value = 871

[State 871,ChangeAnim2]
type = ChangeAnim2
trigger1 = Command = "random"
value = 872

[State 871,screenbound]
type = screenbound
Trigger1 = 1
value = 1
movecamera = 0,0

;----------------------------
;タイガーレイジ（相手３）
[Statedef 872]
type = A
movetype = H
physics = N
velset = 0, 0
ctrl = 0

[State 872,ChangeAnim2]
type = ChangeAnim2
trigger1 = anim != [873,874]
trigger2 = anim = 874 && animtime = 0
value = 873

[State 872,ChangeAnim2]
type = ChangeAnim2
trigger1 = Command = "random"
value = 874

[State 872,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 4218,23
channel = 0
persistent = 0

[State 872,screenbound]
type = screenbound
Trigger1 = 1
value = 1
movecamera = 0,0

;----------------------------
;タイガーレイジ（相手４）
[Statedef 873]
type = A
movetype = H
physics = N
velset = 0, 0
ctrl = 0

[State 870,ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 875

[State 872,screenbound]
type = screenbound
Trigger1 = 1
value = 1
movecamera = 0,0

;----------------------------
;タイガーレイジ（相手５）
[Statedef 875]
type = A
movetype = H
physics = N
velset = -4,-7

[State 875,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 4218,23
channel = 0
persistent = 0

[State 875,ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 5050

[State 875,ChangeAnim]
type = ChangeAnim
trigger1 = anim = 5050
trigger1 = Vel Y >= 1
trigger1 = SelfAnimExist(5060)
value = 5060
persistent = 0

[State 875,VelAdd]
type = VelAdd
trigger1 = 1
y = .45

[State 875,Muteki]
type = NotHitBy
trigger1 = 1
value = SCA

[State 875,SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 25
value = 5100
   
;===================================================================
;必殺技 
;===================================================================
	 
;-------------------------------------------------------------------------------
;タイガーショット 
;------------------------弱
[Statedef 1000]
type = S
movetype = A
physics = S
anim = 1000
ctrl = 0
velset = 0,0

[State 3000,PowerAdd]
type = PowerAdd
trigger1 = Time = 0 && var(17) = 0
value = floor(72*fvar(5))

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(17) = -1
var(17) = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(22)=-1
var(25) = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = 100
[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = 100

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=1
value = 0,11
channel = 0

[State 1200,helper]
type = helper
trigger1 = AnimElem = 3
name = "TigerShot"
id = 7100
pos = floor(115*const(Size.xscale)),-85
postype = p1
stateno = 7100
helpertype = normal
ownpal = 1
keyctrl = 0
ignorehitpause = 1
persistent = 0
size.xscale = 1
size.yscale = 1

[State 1000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------中
[Statedef 1010]
type = S
movetype = A
physics = S
anim = 1000
ctrl = 0
velset = 0,0

[State 3000,PowerAdd]
type = PowerAdd
trigger1 = Time = 0 && var(17) = 0
value = floor(72*fvar(5))

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(17) = -1
var(17) = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(22)=-1
var(25) = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = 100
[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = 100

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=1
value = 0,11
channel = 0

[State 1200,helper]
type = helper
trigger1 = AnimElem = 3
name = "TigerShot"
id = 7110
pos = floor(115*const(Size.xscale)),-85
postype = p1
stateno = 7100
helpertype = normal
ownpal = 1
keyctrl = 0
ignorehitpause = 1
persistent = 0
size.xscale = 1
size.yscale = 1

[State 1000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------強
[Statedef 1020]
type = S
movetype = A
physics = S
anim = 1000
ctrl = 0
velset = 0,0

[State 3000,PowerAdd]
type = PowerAdd
trigger1 = Time = 0 && var(17) = 0
value = floor(72*fvar(5))

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(17) = -1
var(17) = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(22)=-1
var(25) = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = 100
[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = 100

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=1
value = 0,11
channel = 0

[State 1200,helper]
type = helper
trigger1 = AnimElem = 3
name = "TigerShot"
id = 7120
pos = floor(115*const(Size.xscale)),-85
postype = p1
stateno = 7100
helpertype = normal
ownpal = 1
keyctrl = 0
ignorehitpause = 1
persistent = 0
size.xscale = 1
size.yscale = 1

[State 1000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
	 
;---------------------------------------------------------------------------
;タイガーショット（飛び道具） 
;------------------------発生
[Statedef 7100]
type = A
movetype = I
physics = N
ctrl = 0
velset = IfElse((IsHelper(7120)=1||IsHelper(7150)=1),5,IfElse((IsHelper(7110)=1||IsHelper(7140)=1),4.25,3.5)),0
SprPriority = 3

[State 1050, VarSet]
type = VarSet
Trigger1 = Time = 0
trigger1 = Root,var(17)
var(2) = 1

[State 820,ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
value = 7100+(var(2))

[State 200,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 2,1

[State 1050, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(34) = parent,var(34)
ignorehitpause = 1

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(46) = parent,var(46)
ignorehitpause = 1

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(47) = parent,var(47)
ignorehitpause = 1

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(0) = floor((IfElse((IsHelper(7120)=1||IsHelper(7150)=1),70,IfElse((IsHelper(7110)=1||IsHelper(7140)=1),63,56))+(var(2))*7)*root,fvar(10))
ignorehitpause = 1

[State 1050, ParentVarAdd]
type = ParentVarAdd
trigger1 = root,projhittime(1050) = 1
var(25) = 1
persistent = 0

[State 1050, VarSet]
type = VarSet
trigger1 = root,projhittime(1050) = 1
var(1) = 4
persistent = 0

[State 1050,Projectile]
type = Projectile
trigger1 = IsHelper(7100)=1||IsHelper(7110)=1||IsHelper(7120)=1
trigger1 = Root,var(25) = 0
trigger1 = time = 1
attr = A, SP
projid = 1050+(var(2))*2000
projanim = 7110
projhitanim = -1
Projremanim = -1
Projcancelanim = -1
projedgebound = ifelse((time = 1),120,40)
projstagebound = ifelse((time = 1),120,40)
velocity = vel X, vel Y
projshadow = -1,-1,-1
damage    = ceil(ifelse(var(0)<7,7,var(0))),ceil(ifelse((var(0)/8)<7,7,(var(0)/8)))
animtype = Hard
air.animtype = Back
getpower = floor(IfElse(var(2),0,IfElse((Root,var(41)>1),72,143)*(fvar(5)))),floor(IfElse(var(2),0,36)*(fvar(5)))
givepower = 35, 35
guardflag = MA
hitflag = HAF
hitsound = S5,10+(var(2))
guardsound = S6,1
pausetime = 4,Ceil(9*IfElse(var(47),.5,1))
sparkno = S8210+(random%8)+(var(2))*10
guard.sparkno = S8105
sparkxy = 0, 0
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4.5,-7
yaccel = .5
air.fall = 1
fall.recover = !var(47)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1
persistent = 0

[State 1050,Projectile]
type = Projectile
trigger1 = IsHelper(7100)=1||IsHelper(7110)=1||IsHelper(7120)=1
trigger1 = Root,var(25) > 0
trigger1 = time = 1
attr = A, SP
projid = 1050+(var(2))*2000
projanim = 7110
projhitanim = -1
Projremanim = -1
Projcancelanim = -1
projedgebound = ifelse((time = 1),120,40)
projstagebound = ifelse((time = 1),120,40)
velocity = vel X, vel Y
projshadow = -1,-1,-1
damage    = ceil(ifelse(var(0)<7,7,var(0))),ceil(ifelse((var(0)/8)<7,7,(var(0)/8)))
animtype = Hard
air.animtype = Back
getpower = floor(IfElse(var(2),0,IfElse((Root,var(41)>1),72,143)*(fvar(5)))),floor(IfElse(var(2),0,36)*(fvar(5)))
givepower = 35, 35
guardflag = MA
hitflag = HA
hitsound = S5,10+(var(2))
guardsound = S6,1
pausetime = 4,Ceil(9*IfElse(var(47),.5,1))
sparkno = S8210+(random%8)+(var(2))*10
guard.sparkno = S8105
sparkxy = 0, 0
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4.5,-7
yaccel = .5
air.fall = 1
fall.recover = !var(47)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1
persistent = 0

[State 1050,Projectile]
type = Projectile
trigger1 = IsHelper(7130)=1||IsHelper(7140)=1||IsHelper(7150)=1
trigger1 = Root,var(25) = 0
trigger1 = time = 1
attr = A, SP
projid = 1050+(var(2))*2000
projanim = 7110
projhitanim = -1
Projremanim = -1
Projcancelanim = -1
projedgebound = ifelse((time = 1),120,40)
projstagebound = ifelse((time = 1),120,40)
velocity = vel X, vel Y
projshadow = -1,-1,-1
damage    = ceil(ifelse(var(0)<7,7,var(0))),ceil(ifelse((var(0)/8)<7,7,(var(0)/8)))
animtype = Hard
air.animtype = Back
getpower = floor(IfElse(var(2),0,IfElse((Root,var(41)>1),72,143)*(fvar(5)))),floor(IfElse(var(2),0,36)*(fvar(5)))
givepower = 35, 35
guardflag = MA
hitflag = MF
hitsound = S5,10+(var(2))
guardsound = S6,1
pausetime = 4,Ceil(9*IfElse(var(47),.5,1))
sparkno = S8210+(random%8)+(var(2))*10
guard.sparkno = S8105
sparkxy = 0, 0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4.5,-7
yaccel = .5
air.fall = 1
fall.recover = !var(47)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1
persistent = 0

[State 1050,Projectile]
type = Projectile
trigger1 = IsHelper(7130)=1||IsHelper(7140)=1||IsHelper(7150)=1
trigger1 = Root,var(25) > 0
trigger1 = time = 1
attr = A, SP
projid = 1050+(var(2))*2000
projanim = 7110
projhitanim = -1
Projremanim = -1
Projcancelanim = -1
projedgebound = ifelse((time = 1),120,40)
projstagebound = ifelse((time = 1),120,40)
velocity = vel X, vel Y
projshadow = -1,-1,-1
damage    = ceil(ifelse(var(0)<7,7,var(0))),ceil(ifelse((var(0)/8)<7,7,(var(0)/8)))
animtype = Hard
air.animtype = Back
getpower = floor(IfElse(var(2),0,IfElse((Root,var(41)>1),72,143)*(fvar(5)))),floor(IfElse(var(2),0,36)*(fvar(5)))
givepower = 35, 35
guardflag = MA
hitflag = MA
hitsound = S5,10+(var(2))
guardsound = S6,1
pausetime = 4,Ceil(9*IfElse(var(47),.5,1))
sparkno = S8210+(random%8)+(var(2))*10
guard.sparkno = S8105
sparkxy = 0, 0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4.5,-7
yaccel = .5
air.fall = 1
fall.recover = !var(47)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1
persistent = 0

[State 1050, COUNTER HIT EFFECT]
type = helper
triggerall = var(46)
trigger1 = root,projhittime(1050) = 1
id = 8130
name = "COUNTER HIT EFFECT"
pos = 0,0
postype = P1
stateno = 8130
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999
supermovetime = 99999
size.xscale = 1
size.yscale = 1

[State 1050,Projectile]
type = projectile
trigger1 = Root,NumProjID(3050) = 0
trigger1 = Root,Projhittime(3050) = 1
projanim = 7215
projremovetime = 2
projhitanim = -1
projedgebound = 120
projstagebound = 120
projid = 3060
projhits = 1
postype = P2
offset = 0,(enemynear,const(Size.mid.pos.Y))
attr = A, HP
damage    = 0
animtype = Back
getpower = 0
givepower = 0
guardflag = MA
hitflag = HAF
hitsound = -1
numhits = 0
guardsound = -1
pausetime = 0,9
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4.5,-7
yaccel = .5
air.fall = 1
fall.recover = !var(47)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 44
palfx.add = 159,8,15
palfx.mul = 100,20,25
palfx.color = 100
envshake.time = 10
envshake.ampl = 2
forcestand = 1
persistent = 0

[State -2,攻撃種類判別]
type = ParentVarSet
trigger1 = root,projhittime(1050+(var(2))*2000) = 1
fvar(11) = 1
ignorehitpause = 1

[State 1050, VarSet]
type = VarSet
trigger1 = var(1) = 4
ignorehitpause = 1
var(1) = 0

[State 1050, VarSet]
type = VarSet
trigger1 = root,ProjContactTime(1050+(var(2))*2000) = 1
ignorehitpause = 1
var(1) = 1

[State 1050, VarSet]
type = VarAdd
trigger1 = var(1)
ignorehitpause = 1
var(1) = 1

[State 1050, PosFreeze]
type = PosFreeze
trigger1 = var(1)
value = 1
ignorehitpause = 1
persistent = 1

[State 1050, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40 && !var(1)

[State 1050, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = !root,NumProjID(1050+(var(2))*2000)
value = 7150

;------------------------ 消滅
[Statedef 7150]
type = A
movetype = I
physics = N
ctrl = 0
anim = 20000
velset = 0,0

[State 810,Explod]
type = Explod
trigger1 = Time =0
anim = 7150+(var(2))
id = 7150
pos = 0,0
postype = P1
sprpriority = 5
bindtime = 1
ownpal = 1

[State 1060, COUNTER HIT EFFECT]
type = helper
triggerall = !NumHelper(8130)
triggerall = var(46)
trigger1 = Root,projhittime(3050) = 1
trigger2 = Root,projhittime(3060) = 1
id = 8130
name = "COUNTER HIT EFFECT"
pos = 0,0
postype = P1
stateno = 8130
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999
supermovetime = 99999
size.xscale = 1
size.yscale = 1

[State 1005,end]
type = Destroyself
trigger1 = Time =0
  
;-------------------------------------------------------------------------------
;グランドタイガーショット 
;------------------------弱
[Statedef 1030]
type = S
movetype = A
physics = S
anim = 1030
ctrl = 0
velset = 0,0

[State 3000,PowerAdd]
type = PowerAdd
trigger1 = Time = 0 && var(17) = 0
value = floor(72*fvar(5))

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(17) = -1
var(17) = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(22)=-1
var(25) = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = 100
[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = 100

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=1
value = 0,11
channel = 0

[State 1200,helper]
type = helper
trigger1 = AnimElem = 3
name = "TigerShot"
id = 7130
pos = floor(115*const(Size.xscale)),-50
postype = p1
stateno = 7100
helpertype = normal
ownpal = 1
keyctrl = 0
ignorehitpause = 1
persistent = 0
size.xscale = 1
size.yscale = 1

[State 1000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;------------------------中
[Statedef 1040]
type = S
movetype = A
physics = S
anim = 1040
ctrl = 0
velset = 0,0

[State 3000,PowerAdd]
type = PowerAdd
trigger1 = Time = 0 && var(17) = 0
value = floor(72*fvar(5))

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(17) = -1
var(17) = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(22)=-1
var(25) = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = 100
[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = 100

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=1
value = 0,11
channel = 0

[State 1200,helper]
type = helper
trigger1 = AnimElem = 3
name = "TigerShot"
id = 7140
pos = floor(115*const(Size.xscale)),-50
postype = p1
stateno = 7100
helpertype = normal
ownpal = 1
keyctrl = 0
ignorehitpause = 1
persistent = 0
size.xscale = 1
size.yscale = 1

[State 1000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;------------------------強
[Statedef 1050]
type = S
movetype = A
physics = S
anim = 1050
ctrl = 0
velset = 0,0

[State 3000,PowerAdd]
type = PowerAdd
trigger1 = Time = 0 && var(17) = 0
value = floor(72*fvar(5))

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(17) = -1
var(17) = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(22)=-1
var(25) = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = 100
[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = 100

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=1
value = 0,11
channel = 0

[State 1200,helper]
type = helper
trigger1 = AnimElem = 3
name = "TigerShot"
id = 7150
pos = floor(115*const(Size.xscale)),-50
postype = p1
stateno = 7100
helpertype = normal
ownpal = 1
keyctrl = 0
ignorehitpause = 1
persistent = 0
size.xscale = 1
size.yscale = 1

[State 1000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
 
;---------------------------------------------------------------------
;タイガーアッパーカット 
;----------------------------
;タイガーアッパーカット・弱（開始）
[Statedef 1100]
type = S
movetype = A
physics = S
anim = 1100
ctrl = 0
velset = 0,0

[State 3000,PowerAdd]
type = PowerAdd
trigger1 = Time = 0 && var(17) = 0
value = floor(72*fvar(5))

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(17) = -1
var(17) = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(22)=-1
var(25) = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10
ignorehitpause = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 || AnimElem = 3 || AnimElem = 4
var(21) = -ifelse((AnimElem=3||AnimElem=4),floor(55-P2bodydist Y),25)
ignorehitpause = 1

[State 1100,Muteki]
type = NotHitBy
trigger1 = AnimElem = 2,< 0
value = SCA

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2, 1

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,12
channel = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(15) = 0

[State 1050, VarSet]
type = VarSet
trigger1 = Time = 0 || AnimElem = 4
var(11) = floor((ifelse((animelem=4),63,126)+var(17)*14)*fvar(10))
ignorehitpause = 1

[State 1100,通常１]
type = HitDef
triggerall = var(25) < 1 && !var(17)
trigger1 = !MoveContact
trigger1 = AnimElem = 2 || AnimElem = 3
attr = S, SA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = Ceil(IfElse(var(41)>1,72,143)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S5,2
guardsound = S6,0
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(12*IfElse(Var(47),.5,1))
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 1100,通常２]
type = HitDef
triggerall = var(25) < 1 && !var(17)
trigger1 = !MoveContact
trigger1 = AnimElem = 4
attr = A, SA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = Ceil(IfElse(var(41)>1,72,143)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S5,2
guardsound = S6,0
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(12*IfElse(Var(47),.5,1))
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 1100,アングリーチャージ１]
type = HitDef
triggerall = var(25) < 1 && var(17) && !var(18)
trigger1 = !MoveContact
trigger1 = AnimElem = 2 || AnimElem = 3
attr = S, HA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S5,11
guardsound = S6,0
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(12*IfElse(Var(47),.5,1))
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 44
palfx.add = 159,8,15
palfx.mul = 100,20,25
palfx.color = 100
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 1100,アングリーチャージ１]
type = HitDef
triggerall = var(25) < 1 && var(17) && !var(18)
trigger1 = !MoveContact
trigger1 = AnimElem = 4
attr = A, HA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S5,11
guardsound = S6,0
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(12*IfElse(Var(47),.5,1))
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 44
palfx.add = 159,8,15
palfx.mul = 100,20,25
palfx.color = 100
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 1100,アングリーチャージ２]
type = HitDef
triggerall = var(25) < 1 && var(17) && var(18)
trigger1 = !MoveContact
trigger1 = AnimElem = 2 || AnimElem = 3
attr = S, HA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag =
hitflag = MAF
hitsound = S5,11
guardsound = S6,0
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(12*IfElse(Var(47),.5,1))
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 44
palfx.add = 159,8,15
palfx.mul = 100,20,25
palfx.color = 100
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 1100,アングリーチャージ２]
type = HitDef
triggerall = var(25) < 1 && var(17) && var(18)
trigger1 = !MoveContact
trigger1 = AnimElem = 4
attr = A, HA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag =
hitflag = MAF
hitsound = S5,11
guardsound = S6,0
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(12*IfElse(Var(47),.5,1))
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 44
palfx.add = 159,8,15
palfx.mul = 100,20,25
palfx.color = 100
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State -2,VarSet]
type = VarSet
trigger1 = MoveContact
var(15) = 1

[State 710,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 105,VelAdd]
type = PosAdd
trigger1 = AnimElem = 2
x = 12*const(Size.xscale)

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A
physics = N

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 4
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 45, PlaySnd]
type = PlaySND
trigger1 = AnimElem = 4
value = 3,0

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 5
y = -9

[State 105,VelAdd]
type = VelAdd
trigger1 = AnimElem = 4,> 0
y = .7

[State 5150, 6]
type = VelMul
trigger1 = 1
x = 0.825

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 0

[State 4000,Explod]
type = Explod
trigger1 = !NumExplod(7600) && AnimElem = 2 && var(17)
id = 7600
anim = 7600
scale = 1,1
pos =-5,0
sprpriority = 2
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 4000,Explod]
type = RemoveExplod
trigger1 = NumExplod(7600) && AnimElem = 3 && var(17)
id = 7600
ignorehitpause = 1

[State 4000,Explod]
type = Explod
trigger1 = !NumExplod(7650) && AnimElem = 3 && var(17)
id = 7650
anim = 7650
scale = 1,.8333
pos =0,-25
sprpriority = 2
bindtime = -1
removetime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = NumExplod(7650) && AnimElem = 5 && var(17)
id = 7650
ignorehitpause = 1

[State 4000,Explod]
type = Explod
trigger1 = !NumExplod(7660) && AnimElem = 5 && var(17)
id = 7660
anim = 7660
scale = 1,.8333
pos =0,-12
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 105,End]
type = ChangeState
trigger1 = AnimElem = 4, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1130

;----------------------------
;タイガーアッパーカット・中（開始）
[Statedef 1110]
type = S
movetype = A
physics = S
anim = 1110
ctrl = 0
velset = 0,0

[State 3000,PowerAdd]
type = PowerAdd
trigger1 = Time = 0 && var(17) = 0
value = floor(72*fvar(5))

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(17) = -1
var(17) = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(22)=-1
var(25) = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10
ignorehitpause = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 || AnimElem = 3 || AnimElem = 4
var(21) = -ifelse((AnimElem=3||AnimElem=4),floor(55-P2bodydist Y),25)
ignorehitpause = 1

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2, 1

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,12
channel = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(15) = 0

[State 1100,Muteki]
type = NotHitBy
trigger1 = AnimElem = 2,< 0
value = SCA

[State 1050, VarSet]
type = VarSet
trigger1 = Time = 0 || AnimElem = 4
var(11) = floor((ifelse((animelem=4),63,133)+var(17)*14)*fvar(10))
ignorehitpause = 1

[State 1110,通常１]
type = HitDef
triggerall = var(25) < 1 && !var(17)
trigger1 = !MoveContact
trigger1 = AnimElem = 2 || AnimElem = 3
attr = S, SA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = Ceil(IfElse(var(41)>1,72,143)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S5,2
guardsound = S6,0
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(12*IfElse(Var(47),.5,1))
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 1100,通常２]
type = HitDef
triggerall = var(25) < 1 && !var(17)
trigger1 = !MoveContact
trigger1 = AnimElem = 4
attr = A, SA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = Ceil(IfElse(var(41)>1,72,143)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S5,2
guardsound = S6,0
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(12*IfElse(Var(47),.5,1))
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 1110,アングリーチャージ１]
type = HitDef
triggerall = var(25) < 1 && var(17) && !var(18)
trigger1 = !MoveContact
trigger1 = AnimElem = 2 || AnimElem = 3
attr = S, HA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S5,11
guardsound = S6,0
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(12*IfElse(Var(47),.5,1))
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 44
palfx.add = 159,8,15
palfx.mul = 100,20,25
palfx.color = 100
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 1100,アングリーチャージ２]
type = HitDef
triggerall = var(25) < 1 && var(17) && !var(18)
trigger1 = !MoveContact
trigger1 = AnimElem = 4
attr = A, HA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S5,11
guardsound = S6,0
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(12*IfElse(Var(47),.5,1))
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 44
palfx.add = 159,8,15
palfx.mul = 100,20,25
palfx.color = 100
envshake.time = 10
envshake.ampl = 2
forcestand = 1


[State 1110,アングリーチャージ１]
type = HitDef
triggerall = var(25) < 1 && var(17) && var(18)
trigger1 = !MoveContact
trigger1 = AnimElem = 2 || AnimElem = 3
attr = S, HA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag =
hitflag = MAF
hitsound = S5,11
guardsound = S6,0
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(12*IfElse(Var(47),.5,1))
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 44
palfx.add = 159,8,15
palfx.mul = 100,20,25
palfx.color = 100
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 1100,アングリーチャージ２]
type = HitDef
triggerall = var(25) < 1 && var(17) && var(18)
trigger1 = !MoveContact
trigger1 = AnimElem = 4
attr = A, HA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag =
hitflag = MAF
hitsound = S5,11
guardsound = S6,0
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(12*IfElse(Var(47),.5,1))
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 44
palfx.add = 159,8,15
palfx.mul = 100,20,25
palfx.color = 100
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State -2,VarSet]
type = VarSet
trigger1 = MoveContact
var(15) = 1

[State 710,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 105,VelAdd]
type = PosAdd
trigger1 = AnimElem = 2
x = 12*const(Size.xscale)

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A
physics = N

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 4
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 45, PlaySnd]
type = PlaySND
trigger1 = AnimElem = 4
value = 3,0

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 7
y = -10

[State 105,VelAdd]
type = VelAdd
trigger1 = AnimElem = 4,> 0
y = .65

[State 5150, 6]
type = VelMul
trigger1 = 1
x = 0.825

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 0

[State 4000,Explod]
type = Explod
trigger1 = !NumExplod(7600) && AnimElem = 2 && var(17)
id = 7600
anim = 7600
scale = 1,1
pos =-5,0
sprpriority = 2
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 4000,Explod]
type = RemoveExplod
trigger1 = NumExplod(7600) && AnimElem = 3 && var(17)
id = 7600
ignorehitpause = 1

[State 4000,Explod]
type = Explod
trigger1 = !NumExplod(7650) && AnimElem = 3 && var(17)
id = 7650
anim = 7650
scale = 1,.8333
pos =0,-25
sprpriority = 2
bindtime = -1
removetime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = NumExplod(7650) && AnimElem = 5 && var(17)
id = 7650
ignorehitpause = 1

[State 4000,Explod]
type = Explod
trigger1 = !NumExplod(7660) && AnimElem = 5 && var(17)
id = 7660
anim = 7660
scale = 1,.8333
pos =0,-12
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 105,End]
type = ChangeState
trigger1 = AnimElem = 4, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1130

;----------------------------
;タイガーアッパーカット・強（開始）
[Statedef 1120]
type = S
movetype = A
physics = S
anim = 1120
ctrl = 0
velset = 0,0

[State 3000,PowerAdd]
type = PowerAdd
trigger1 = Time = 0 && var(17) = 0
value = floor(72*fvar(5))

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(17) = -1
var(17) = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(22)=-1
var(25) = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10
ignorehitpause = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 || AnimElem = 3 || AnimElem = 4
var(21) = -ifelse((AnimElem=3||AnimElem=4),floor(55-P2bodydist Y),25)
ignorehitpause = 1

[State 1100,Muteki]
type = NotHitBy
trigger1 = AnimElem = 3,< 0
value = SCA

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2, 1

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,12
channel = 0

[State -2,VarSet]
type = VarSet
trigger1 = 1
var(11) = Ceil((ifelse((animelem=2),49,ifelse((animelem=3),35,ifelse((animelem=4),21,14)))+var(17)*7)*fvar(10))
ignorehitpause = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(15) = 0

[State 1100,通常１]
type = HitDef
triggerall = var(25) < 1 && !var(17)
trigger1 = animelem = 2 || animelem = 3
attr = S, SA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = Ceil(IfElse(var(41)>1,72,143)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S5,2
guardsound = S6,0
pausetime = Ceil(11*IfElse(Var(47),.5,1)),Ceil(10*IfElse(Var(47),.5,1))
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 1100,通常２]
type = HitDef
triggerall = var(25) < 1 && !var(17)
trigger1 = animelem = 4 || animelem = 5 || animelem = 6
attr = A, SA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = Ceil(IfElse(var(41)>1,72,143)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S5,2
guardsound = S6,0
pausetime = Ceil(11*IfElse(Var(47),.5,1)),Ceil(10*IfElse(Var(47),.5,1))
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 1100,アングリーチャージ１]
type = HitDef
triggerall = var(25) < 1 && var(17) && !var(18)
trigger1 = animelem = 2 || animelem = 3
attr = S, HA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S5,11
guardsound = S6,0
pausetime = Ceil(11*IfElse(Var(47),.5,1)),Ceil(10*IfElse(Var(47),.5,1))
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 44
palfx.add = 159,8,15
palfx.mul = 100,20,25
palfx.color = 100
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 1100,アングリーチャージ２]
type = HitDef
triggerall = var(25) < 1 && var(17) && !var(18)
trigger1 = animelem = 4 || animelem = 5 || animelem = 6
attr = A, HA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S5,11
guardsound = S6,0
pausetime = Ceil(11*IfElse(Var(47),.5,1)),Ceil(10*IfElse(Var(47),.5,1))
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 44
palfx.add = 159,8,15
palfx.mul = 100,20,25
palfx.color = 100
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 1100,アングリーチャージ１]
type = HitDef
triggerall = var(25) < 1 && var(17) && var(18)
trigger1 = animelem = 2 || animelem = 3
attr = S, HA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag =
hitflag = MAF
hitsound = S5,11
guardsound = S6,0
pausetime = Ceil(11*IfElse(Var(47),.5,1)),Ceil(10*IfElse(Var(47),.5,1))
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 44
palfx.add = 159,8,15
palfx.mul = 100,20,25
palfx.color = 100
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 1100,アングリーチャージ２]
type = HitDef
triggerall = var(25) < 1 && var(17) && var(18)
trigger1 = animelem = 4 || animelem = 5 || animelem = 6
attr = A, HA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag =
hitflag = MAF
hitsound = S5,11
guardsound = S6,0
pausetime = Ceil(11*IfElse(Var(47),.5,1)),Ceil(10*IfElse(Var(47),.5,1))
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 44
palfx.add = 159,8,15
palfx.mul = 100,20,25
palfx.color = 100
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State -2,VarSet]
type = VarSet
trigger1 = MoveContact = 1
trigger1 = animelem = 6,<0
var(25) = 0

[State -2,VarSet]
type = VarSet
trigger1 = MoveContact
var(15) = 1

[State 710,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 105,VelAdd]
type = PosAdd
trigger1 = AnimElem = 2
x = 12*const(Size.xscale)

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A
physics = N

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 4
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 45, PlaySnd]
type = PlaySND
trigger1 = AnimElem = 4
value = 3,0

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 10.5
y = -11

[State 105,VelAdd]
type = VelAdd
trigger1 = AnimElem = 4,> 0
y = .625

[State 5150, 6]
type = VelMul
trigger1 = 1
x = 0.825

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 7
x = 0

[State 4000,Explod]
type = Explod
trigger1 = !NumExplod(7600) && AnimElem = 2 && var(17)
id = 7600
anim = 7600
scale = 1,1
pos =-5,0
sprpriority = 2
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 4000,Explod]
type = RemoveExplod
trigger1 = NumExplod(7600) && AnimElem = 3 && var(17)
id = 7600
ignorehitpause = 1

[State 4000,Explod]
type = Explod
trigger1 = !NumExplod(7650) && AnimElem = 3 && var(17)
id = 7650
anim = 7650
scale = 1,.8333
pos =0,-25
sprpriority = 2
bindtime = -1
removetime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = NumExplod(7650) && AnimElem = 7 && var(17)
id = 7650
ignorehitpause = 1

[State 4000,Explod]
type = Explod
trigger1 = !NumExplod(7660) && AnimElem = 7 && var(17)
id = 7660
anim = 7660
scale = 1,.8333
pos =0,-12
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 105,End]
type = ChangeState
trigger1 = AnimElem = 4, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1130

;----------------------------
;タイガーアッパーカット（着地）
[Statedef 1130]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1130
velset = 0, 0
movehitpersist = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(17) = 0

[State 1102, PosSet]
type = PosSet
trigger1 = Time = 0
Y = 0

[State 52, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 3,3

[State 1102, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
 
;---------------------------------------------------------------------
;タイガークラッシュ 
;----------------------------
;タイガークラッシュ（開始）
[Statedef 1200]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0

[State 3000,PowerAdd]
type = PowerAdd
trigger1 = Time = 0 && var(17) = 0
value = floor(72*fvar(5))

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(17) = -1
var(17) = 1

[State 1100,Muteki]
type = NotHitBy
trigger1 = AnimElem = 3,< 0 && var(17)
value = SCA

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(14) = ifelse(Command="TigerCrash_a",0,ifelse(Command="TigerCrash_c",2,1))

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0 && var(59)
trigger1 = EnemyNear,StateNo = 5120
var(14) = 0

[State 820,ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
value = 1200+var(14)*10

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(22)=-1
var(25) = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10
ignorehitpause = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -25
ignorehitpause = 1

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2, 1

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,13
channel = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(15) = 0

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(11) = floor((28+var(14)*7)*fvar(10))
ignorehitpause = 1

[State 1200,通常]
type = HitDef
triggerall = var(25) < 1
trigger1 = Time = 0 && !var(17)
attr = S, SA
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = floor(IfElse(var(41)>1,72,143)*fvar(5)),floor(36*fvar(5))
givepower = 35, 35
guardflag = MA
hitflag = MAF
pausetime = Ceil(13*IfElse(var(47),.5,1)),Ceil(13*IfElse(var(47),.5,1))
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0
air.velocity = -5.5,-6
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 1
fall.recover = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 1200,アングリーチャージ１]
type = HitDef
triggerall = var(25) < 1
trigger1 = Time = 0 && var(17) && !var(18)
attr = S, HA
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = Ceil(13*IfElse(var(47),.5,1)),Ceil(13*IfElse(var(47),.5,1))
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0
air.velocity = -5.5,-6
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 1
fall.recover = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 1200,アングリーチャージ２]
type = HitDef
triggerall = var(25) < 1
trigger1 = Time = 0 && var(17) && var(18)
attr = S, HA
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = 0
givepower = 35, 35
guardflag =
hitflag = MAF
pausetime = Ceil(13*IfElse(var(47),.5,1)),Ceil(13*IfElse(var(47),.5,1))
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0
air.velocity = -5.5,-6
yaccel = .5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 1
fall.recover = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State -2,VarSet]
type = VarSet
trigger1 = MoveContact
var(15) = 1

[State 3001, Super]
type = Helper
trigger1 = AnimTime = 0
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 105,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1210

;----------------------------
;タイガークラッシュ（上昇）
[Statedef 1210]
type = A
movetype = A
physics = N
anim = 1201
ctrl = 0
velset = 11,-7.5

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10
ignorehitpause = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -65
ignorehitpause = 1

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(11) = floor((28+var(14)*7+var(17)*14)*fvar(10))
ignorehitpause = 1

[State 1210,通常]
type = HitDef
triggerall = var(25) < 1
trigger1 = Time = 0 && !var(17)
attr = A, SA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = Ceil(IfElse(var(41)>1,72,143)*fvar(5)),Ceil(36*fvar(5))
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S5,5
guardsound = S6,0
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(13*IfElse(Var(47),.5,1))
sparkno = S8210+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -7,-3.5
air.velocity = -5,-6
guard.velocity = -11
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 1210,アングリーチャージ１]
type = HitDef
triggerall = var(25) < 1
trigger1 = Time = 0 && var(17) && !var(18)
attr = A, HA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S5,11
guardsound = S6,0
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(13*IfElse(Var(47),.5,1))
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -7,-3.5
air.velocity = -5,-6
guard.velocity = -11
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 44
palfx.add = 159,8,15
palfx.mul = 100,20,25
palfx.color = 100
envshake.time = 10
envshake.ampl = 2

[State 1210,アングリーチャージ２]
type = HitDef
triggerall = var(25) < 1
trigger1 = Time = 0 && var(17) && var(18)
attr = A, HA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag =
hitflag = MAF
hitsound = S5,11
guardsound = S6,0
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(13*IfElse(Var(47),.5,1))
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -7,-3.5
air.velocity = -5,-6
guard.velocity = -11
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 44
palfx.add = 159,8,15
palfx.mul = 100,20,25
palfx.color = 100
envshake.time = 10
envshake.ampl = 2

[State -2,VarSet]
type = VarSet
trigger1 = MoveContact
var(15) = 1

[State 45, PlaySnd]
type = PlaySND
trigger1 = Time = 0
value = 3,0

[State 105,VelAdd]
type = VelAdd
trigger1 = Time > 0
y = 1

[State 105,VelAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 10*const(Size.xscale)

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 1
y = 0

[State 710,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 4000,Explod]
type = Explod
trigger1 = AnimElem = 1 && var(17)
id = 7500
anim = 7500
postype = P1
pos = 0,18
scale = const(Size.xscale),const(Size.yscale)
sprpriority = 2
bindtime = -1
removetime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 4900, 16]
type = modifyExplod
trigger1 = NumExplod(7500) && AnimElem = 2
id = 7500
postype = P1
pos = 0,0

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 4
id = 7500
ignorehitpause = 1

[State 4000,Explod]
type = Explod
trigger1 = AnimElem = 4 && var(17)
id = 7510
anim = 7510
scale = const(Size.xscale),const(Size.yscale)
sprpriority = 2
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 105,End]
type = ChangeState
trigger1 = Time > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1230

;----------------------------
;タイガークラッシュ（着地）
[Statedef 1230]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1230
velset = 0, 0
movehitpersist = 1

[State 1102, PosSet]
type = PosSet
trigger1 = Time = 0
Y = 0

[State 52, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 3,3

[State 1102, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
  
;===================================================================
;スーパーコンボ 
;===================================================================

	 
;---------------------------------------------------------------------------
;タイガーキャノン 
;----------------------------
; タイガーキャノン_LV.1（開始）
[Statedef 3000]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 3000

[State 3000,AfterImage]
type = AfterImage
trigger1 = time = 0 && !var(47) && !var(36) && var(22)!=-1
time = 999999999
length = 9
TimeGap  = 2
FrameGap = 3
palbright = 0,0,0
palcontrast = 100,100,100
palpostbright = 0,0,0
paladd = -30,-30,-30
palmul = .75,.75,.75
trans = add1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && (var(22)=[-2,-1])
var(25) = 0

[state 3000,VarSet]
type = VarSet
trigger1 = Time = 0
var(36) = 0

[State 3000,PowerAdd]
type = PowerAdd
triggerall = time = 0
trigger1 = Var(30) <= 1 || (Var(30) = 2 && !fvar(8)) || (Var(30) = [3,4]) || (Var(30) = 5 && !fvar(8))
value = -ifelse(Var(30)=2,1500,1000)

[State 3000,Varadd]
type = VarSet
triggerall = Time = 0
trigger1 = (Var(30) = 4 && (100*life/const(data.life))>30)
trigger2 = Var(47)
fvar(37) = 0.00001

[State 3000,Varadd]
type = VarSet
triggerall = Time = 0
trigger1 = (Var(30) = [4,5]) && Fvar(8)
fvar(8) = 0

[State 3000,NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 56

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,14
channel = 0

[State 3000,Super]
type = Helper
trigger1 = AnimElem = 2,=1
persistent = 0
id = 8000
name = "super"
pos = floor(-20*const(Size.xscale)),-72
postype = P1
stateno = ifelse((Var(30)=[4,6]),8010,8000)
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 3000,Pause]
type = SuperPause
trigger1 = AnimElem = 2,=1
time = 50+(var(36)*2)
movetime = 50+(var(36)*2)
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3000, VarSet]
type = VarSet
trigger1 = AnimElem = 2,=1
trigger1 = enemynear,stateno != [120,155]
trigger1 = !(enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "H”" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane")
trigger2 = enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
trigger3 = enemynear,authorname = "H”" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4400,4405]))
trigger4 = enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane" && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
fvar(22) = 50+(var(36)*2)

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,15
channel = 0

[State 1200,helper]
type = helper
trigger1 = AnimElem = 3,=2
name = "TigerShot"
id = 7200
pos = floor(105*const(Size.xscale)),-85
postype = p1
stateno = 7200
helpertype = normal
ownpal = 1
keyctrl = 0
ignorehitpause = 1
persistent = 0
size.xscale = 1
size.yscale = 1

[State 1000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
; タイガーキャノン_LV.2（開始）
[Statedef 3010]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 3000
poweradd = -2000

[State 3001,AfterImage]
type = AfterImage
trigger1 = Time = 0 && var(22)!=-1
time = 999999999
length = 9
TimeGap  = 2
FrameGap = 3
trans = add1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && (var(22)=[-2,-1])
var(25) = 0

[state 3000,VarSet]
type = VarSet
trigger1 = Time = 0
var(36) = 1

[State 3001,NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 60

[State 3001,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,14
channel = 0

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 2,=1
persistent = 0
id = 8001
name = "super"
pos = floor(-20*const(Size.xscale)),-72
postype = P1
stateno = 8000
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 3001,Pause]
type = SuperPause
trigger1 = AnimElem = 2,=1
time = 50+(var(36)*2)
movetime = 50+(var(36)*2)
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3000, VarSet]
type = VarSet
trigger1 = AnimElem = 2,=1
trigger1 = enemynear,stateno != [120,155]
trigger1 = !(enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "H”" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane")
trigger2 = enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
trigger3 = enemynear,authorname = "H”" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4400,4405]))
trigger4 = enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane" && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
fvar(22) = 50+(var(36)*2)

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,15
channel = 0

[State 1200,helper]
type = helper
trigger1 = AnimElem = 3,=2
name = "TigerShot"
id = 7210
pos = floor(105*const(Size.xscale)),-85
postype = p1
stateno = 7200
helpertype = normal
ownpal = 1
keyctrl = 0
ignorehitpause = 1
persistent = 0
size.xscale = 1
size.yscale = 1

[State 1000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
; タイガーキャノン_LV.3（開始）
[Statedef 3020]
type = S
movetype = A
physics = S
ctrl = 0
Anim = 3000
velset = 0, 0

[State 3002,AfterImage]
type = AfterImage
trigger1 = Time = 0 && var(22)!=-1
time = 999999999
length = 9
TimeGap  = 2
FrameGap = 3
palbright = 30,30,30
palcontrast = 220,100,100
palpostbright = 0,0,0
paladd = 40,-35,-35
palmul = .65,.45,.45
trans = add1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && (var(22)=[-2,-1])
var(25) = 0

[state 3000,VarSet]
type = VarSet
trigger1 = Time = 0
var(36) = 2

[State 3002,PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = -ifelse(Var(30)=5,1000,3000)

[State 3002,Varadd]
type = VarSet
trigger1 = Time = 0 && (Var(30) = 4 || Var(30) = 6)
fvar(37) = 0.00001

[State 3002,Varadd]
type = VarSet
triggerall = Time = 0
trigger1 = (Var(30) = [4,5]) && Fvar(8)
fvar(8) = 0

[State 3002,NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 66

[State 3002,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,14
channel = 0

[State 3002, Super]
type = Helper
trigger1 = AnimElem = 2,=1
persistent = 0
id = 8002
name = "super"
pos = floor(-20*const(Size.xscale)),-72
postype = P1
stateno = ifelse((Var(30)=[4,6]),8010,8000)
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 3002,Pause]
type = SuperPause
trigger1 = AnimElem = 2,=1
time = 50+(var(36)*2)
movetime = 50+(var(36)*2)
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3000, VarSet]
type = VarSet
trigger1 = AnimElem = 2,=1
trigger1 = enemynear,stateno != [120,155]
trigger1 = !(enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "H”" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane")
trigger2 = enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
trigger3 = enemynear,authorname = "H”" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4400,4405]))
trigger4 = enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane" && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
fvar(22) = 50+(var(36)*2)

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,15
channel = 0

[State 1200,helper]
type = helper
trigger1 = AnimElem = 3,=2
name = "TigerShot"
id = 7220
pos = floor(105*const(Size.xscale)),-85
postype = p1
stateno = 7200
helpertype = normal
ownpal = 1
keyctrl = 0
ignorehitpause = 1
persistent = 0
size.xscale = 1
size.yscale = 1

[State 1000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
	 
;-------------------------------------------------------------------------------
; タイガーキャノン（飛び道具） 
;------------------------ 弾
[Statedef 7200]
type = A
movetype = I
physics = N
ctrl = 0
anim = 7200
velset = IfElse((IsHelper(7220)=1||IsHelper(7250)=1),9,IfElse((IsHelper(7210)=1||IsHelper(7240)=1),7.5,6)),0
SprPriority = 5

[State 200,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 2,1

[State 1050, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(34) = parent,var(34)
ignorehitpause = 1

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(46) = parent,var(46)
ignorehitpause = 1

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(47) = parent,var(47)
ignorehitpause = 1

[State 1050, ParentVarAdd]
type = ParentVarAdd
trigger1 = Root,projhittime(3050) = 1
var(25) = 1

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(0) = floor((IfElse((IsHelper(7220)=1||IsHelper(7250)=1),63,IfElse((IsHelper(7210)=1||IsHelper(7240)=1),56,42))-IfElse((IsHelper(7230)=1||IsHelper(7240)=1||IsHelper(7250)=1),7,0))*root,fvar(10))
ignorehitpause = 1

[State 1050,Projectile]
type = Projectile
trigger1 = IsHelper(7200)=1 || IsHelper(7210)=1 || IsHelper(7220)=1
trigger1 = Root,var(25) = 0
trigger1 = Time = 0
attr = A, HP
projanim = 7210
projremovetime = 999999
projid = 3050
projhits = IfElse((IsHelper(7220)=1||IsHelper(7250)=1),6,IfElse((IsHelper(7210)=1||IsHelper(7240)=1),5,4))
projmisstime = 0
projhitanim = -1
Projremanim = -1
Projcancelanim = -1
projedgebound = ifelse((time = 0),120,40)
projstagebound = ifelse((time = 0),120,40)
velocity = vel X, vel Y
projshadow = -1,-1,-1
damage    = ceil(ifelse(var(0)<7,7,var(0))),ceil(ifelse((var(0)/8)<7,7,(var(0)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = HAF
hitsound = S5,10
guardsound = S6,1
pausetime = 4,Ceil(9*IfElse(var(47),.5,1))
sparkno = -1
guard.sparkno = S8105
sparkxy = 0, 0
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3.5,-6.5
air.velocity = -3.5,-6.5
guard.velocity = -11
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1
persistent = 0

[State 1050,Projectile]
type = Projectile
trigger1 = IsHelper(7200)=1 || IsHelper(7210)=1 || IsHelper(7220)=1
trigger1 = Root,var(25) > 0
trigger1 = Time = 0
attr = A, HP
projanim = 7210
projremovetime = 999999
projid = 3050
projhits = IfElse((IsHelper(7220)=1||IsHelper(7250)=1),6,IfElse((IsHelper(7210)=1||IsHelper(7240)=1),5,4))
projmisstime = 0
projhitanim = -1
Projremanim = -1
Projcancelanim = -1
projedgebound = ifelse((time = 0),120,40)
projstagebound = ifelse((time = 0),120,40)
velocity = vel X, vel Y
projshadow = -1,-1,-1
damage    = ceil(ifelse(var(0)<7,7,var(0))),ceil(ifelse((var(0)/8)<7,7,(var(0)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = HA
hitsound = S5,10
guardsound = S6,1
pausetime = 4,Ceil(9*IfElse(var(47),.5,1))
sparkno = -1
guard.sparkno = S8105
sparkxy = 0, 0
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3.5,-6.5
air.velocity = -3.5,-6.5
guard.velocity = -11
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1
persistent = 0

[State 1050,Projectile]
type = Projectile
trigger1 = IsHelper(7230)=1 || IsHelper(7240)=1 || IsHelper(7250)=1
trigger1 = Root,var(25) = 0
trigger1 = Time = 0
attr = A, HP
projanim = 7210
projremovetime = 999999
projid = 3050
projhits = IfElse((IsHelper(7250)=1),6,IfElse((IsHelper(7240)=1),5,4))
projmisstime = 0
projhitanim = -1
Projremanim = -1
Projcancelanim = -1
projedgebound = ifelse((time = 0),120,40)
projstagebound = ifelse((time = 0),120,40)
velocity = vel X, vel Y
projshadow = -1,-1,-1
damage    = ceil(ifelse(var(0)<7,7,var(0))),ceil(ifelse((var(0)/8)<7,7,(var(0)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S5,10
guardsound = S6,1
pausetime = 4,Ceil(9*IfElse(var(47),.5,1))
sparkno = -1
guard.sparkno = S8105
sparkxy = 0, 0
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3.5,-6.5
air.velocity = -3.5,-6.5
guard.velocity = -11
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1
persistent = 0

[State 1050,Projectile]
type = Projectile
trigger1 = IsHelper(7230)=1 || IsHelper(7240)=1 || IsHelper(7250)=1
trigger1 = Root,var(25) > 0
trigger1 = Time = 0
attr = A, HP
projanim = 7210
projremovetime = 999999
projid = 3050
projhits = IfElse((IsHelper(7250)=1),6,IfElse((IsHelper(7240)=1),5,4))
projmisstime = 0
projhitanim = -1
Projremanim = -1
Projcancelanim = -1
projedgebound = ifelse((time = 0),120,40)
projstagebound = ifelse((time = 0),120,40)
velocity = vel X, vel Y
projshadow = -1,-1,-1
damage    = ceil(ifelse(var(0)<7,7,var(0))),ceil(ifelse((var(0)/8)<7,7,(var(0)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = MA
hitsound = S5,10
guardsound = S6,1
pausetime = 4,Ceil(9*IfElse(var(47),.5,1))
sparkno = -1
guard.sparkno = S8105
sparkxy = 0, 0
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3.5,-6.5
air.velocity = -3.5,-6.5
guard.velocity = -11
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1
persistent = 0

[State -2,攻撃種類判別]
type = ParentVarSet
trigger1 = Root,projhittime(3050) = 1
fvar(11) = 2
ignorehitpause = 1

[State 1050, COUNTER HIT EFFECT]
type = helper
triggerall = var(46)
trigger1 = Root,projhittime(3050) = 1
id = 8130
name = "COUNTER HIT EFFECT"
pos = 0,0
postype = P1
stateno = 8130
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999
supermovetime = 99999
size.xscale = 1
size.yscale = 1

[State 1050,Projectile]
type = projectile
trigger1 = Root,NumProjID(3050) = 0
trigger1 = Root,projhittime(3050) = 1
trigger1 = IsHelper(7220)=1 || IsHelper(7250)=1
projanim = 7215
projremovetime = 2
projhitanim = -1
projedgebound = 120
projstagebound = 120
projid = 3060
projhits = 1
postype = P2
offset = 0,(enemynear,const(Size.mid.pos.Y))
attr = A, HP
damage    = 0
animtype = Back
getpower = 0
givepower = 0
guardflag = MA
hitflag = HAF
hitsound = -1
numhits = 0
guardsound = -1
pausetime = 0,9
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3.5,-6.5
air.velocity = -3.5,-6.5
guard.velocity = -11
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 44
palfx.add = 159,8,15
palfx.mul = 100,20,25
palfx.color = 100
envshake.time = 10
envshake.ampl = 2
forcestand = 1
persistent = 0

[State 1050, VarSet]
type = VarSet
trigger1 = Root,ProjContactTime(3050) = 1
ignorehitpause = 1
var(1) = 5

[State 1050, VarSet]
type = VarAdd
trigger1 = var(1) > 0
ignorehitpause = 1
var(1) = -1

[State 1050, PosFreeze]
type = PosFreeze
trigger1 = var(1)
value = 1
ignorehitpause = 1

[State 3001, Super]
type = Explod
trigger1 = root,projhittime(3050) = 1
id = 8220
name = "projhit_s"
pos = 0,0
postype = P1
anim = 8220+(random%8)
ownpal = 1
ontop = 1
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
size.xscale = 1
size.yscale = 1

[State 1050, DestroySelf]
type = DestroySelf
trigger1 = Time > 0
trigger1 = FrontEdgeDist <= -40 && !var(1)

[State 1100, ChangeState]
type = ChangeState
trigger1 = Time > 0
trigger1 = Root,NumProj= 0
value = 7250

;------------------------ 消滅
[Statedef 7250]
type = A
movetype = A
physics = N
ctrl = 0
anim = 20000
velset = 0,0

[State 810,Explod]
type = Explod
trigger1 = Time =0
anim = 7250
id = 7250
pos = 0,0
postype = P1
sprpriority = 5
bindtime = 1
ownpal = 1

[State 1005,end]
type = Destroyself
trigger1 = Time =0
  	
;---------------------------------------------------------------------------
;グランドタイガーキャノン 
;----------------------------
;グランドタイガーキャノン_LV.1（開始）
[Statedef 3030]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 3030

[State 3000,AfterImage]
type = AfterImage
trigger1 = time = 0 && !var(47) && !var(36) && var(22)!=-1
time = 999999999
length = 9
TimeGap  = 2
FrameGap = 3
palbright = 0,0,0
palcontrast = 100,100,100
palpostbright = 0,0,0
paladd = -30,-30,-30
palmul = .75,.75,.75
trans = add1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && (var(22)=[-2,-1])
var(25) = 0

[state 3000,VarSet]
type = VarSet
trigger1 = Time = 0
var(36) = 0

[State 3000,PowerAdd]
type = PowerAdd
triggerall = time = 0
trigger1 = Var(30) <= 1 || (Var(30) = 2 && !fvar(8)) || (Var(30) = [3,4]) || (Var(30) = 5 && !fvar(8))
value = -ifelse(Var(30)=2,1500,1000)

[State 3000,Varadd]
type = VarSet
triggerall = Time = 0
trigger1 = (Var(30) = 4 && (100*life/const(data.life))>30)
trigger2 = Var(47)
fvar(37) = 0.00001

[State 3000,Varadd]
type = VarSet
triggerall = Time = 0
trigger1 = (Var(30) = [4,5]) && Fvar(8)
fvar(8) = 0

[State 3000,NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 56

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,14
channel = 0

[State 3000,Super]
type = Helper
trigger1 = AnimElem = 2,=1
persistent = 0
id = 8000
name = "super"
pos = floor(-35*const(Size.xscale)),-42
postype = P1
stateno = ifelse((Var(30)=[4,6]),8010,8000)
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 3000,Pause]
type = SuperPause
trigger1 = AnimElem = 2,=1
time = 50+(var(36)*2)
movetime = 50+(var(36)*2)
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3000, VarSet]
type = VarSet
trigger1 = AnimElem = 2,=1
trigger1 = enemynear,stateno != [120,155]
trigger1 = !(enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "H”" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane")
trigger2 = enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
trigger3 = enemynear,authorname = "H”" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4400,4405]))
trigger4 = enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane" && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
fvar(22) = 50+(var(36)*2)

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,15
channel = 0

[State 1200,helper]
type = helper
trigger1 = AnimElem = 3,=2
name = "TigerShot"
id = 7230
pos = floor(105*const(Size.xscale)),-50
postype = p1
stateno = 7200
helpertype = normal
ownpal = 1
keyctrl = 0
ignorehitpause = 1
persistent = 0

[State 1000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
;グランドタイガーキャノン_LV.2（開始）
[Statedef 3040]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 3030
poweradd = -2000

[State 3001,AfterImage]
type = AfterImage
trigger1 = Time = 0 && var(22)!=-1
time = 999999999
length = 9
TimeGap  = 2
FrameGap = 3
trans = add1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && (var(22)=[-2,-1])
var(25) = 0

[state 3000,VarSet]
type = VarSet
trigger1 = Time = 0
var(36) = 1

[State 3001,NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 60

[State 3001,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,14
channel = 0

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 2,=1
persistent = 0
id = 8001
name = "super"
pos = floor(-35*const(Size.xscale)),-42
postype = P1
stateno = 8000
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 3001,Pause]
type = SuperPause
trigger1 = AnimElem = 2,=1
time = 50+(var(36)*2)
movetime = 50+(var(36)*2)
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3000, VarSet]
type = VarSet
trigger1 = AnimElem = 2,=1
trigger1 = enemynear,stateno != [120,155]
trigger1 = !(enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "H”" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane")
trigger2 = enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
trigger3 = enemynear,authorname = "H”" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4400,4405]))
trigger4 = enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane" && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
fvar(22) = 50+(var(36)*2)

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,15
channel = 0

[State 1200,helper]
type = helper
trigger1 = AnimElem = 3,=2
name = "TigerShot"
id = 7240
pos = floor(105*const(Size.xscale)),-50
postype = p1
stateno = 7200
helpertype = normal
ownpal = 1
keyctrl = 0
ignorehitpause = 1
persistent = 0

[State 1000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
;グランドタイガーキャノン_LV.3（開始）
[Statedef 3050]
type = S
movetype = A
physics = S
ctrl = 0
Anim = 3030
velset = 0, 0

[State 3002,AfterImage]
type = AfterImage
trigger1 = Time = 0 && var(22)!=-1
time = 999999999
length = 9
TimeGap  = 2
FrameGap = 3
palbright = 30,30,30
palcontrast = 220,100,100
palpostbright = 0,0,0
paladd = 40,-35,-35
palmul = .65,.45,.45
trans = add1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && (var(22)=[-2,-1])
var(25) = 0

[state 3000,VarSet]
type = VarSet
trigger1 = Time = 0
var(36) = 2

[State 3002,PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = -ifelse(Var(30)=5,1000,3000)

[State 3002,Varadd]
type = VarSet
trigger1 = Time = 0 && (Var(30) = 4 || Var(30) = 6)
fvar(37) = 0.00001

[State 3002,Varadd]
type = VarSet
triggerall = Time = 0
trigger1 = (Var(30) = [4,5]) && Fvar(8)
fvar(8) = 0

[State 3002,NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 66

[State 3002,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,14
channel = 0

[State 3002, Super]
type = Helper
trigger1 = AnimElem = 2,=1
persistent = 0
id = 8002
name = "super"
pos = floor(-35*const(Size.xscale)),-42
postype = P1
stateno = ifelse((Var(30)=[4,6]),8010,8000)
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 3002,Pause]
type = SuperPause
trigger1 = AnimElem = 2,=1
time = 50+(var(36)*2)
movetime = 50+(var(36)*2)
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3000, VarSet]
type = VarSet
trigger1 = AnimElem = 2,=1
trigger1 = enemynear,stateno != [120,155]
trigger1 = !(enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "H”" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane")
trigger2 = enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
trigger3 = enemynear,authorname = "H”" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4400,4405]))
trigger4 = enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane" && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
fvar(22) = 50+(var(36)*2)

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,15
channel = 0

[State 1200,helper]
type = helper
trigger1 = AnimElem = 3,=2
name = "TigerShot"
id = 7250
pos = floor(105*const(Size.xscale)),-50
postype = p1
stateno = 7200
helpertype = normal
ownpal = 1
keyctrl = 0
ignorehitpause = 1
persistent = 0

[State 1000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
 
;---------------------------------------------------------------------------
;タイガーレイド_LV.1 
;----------------------------開始動作
[Statedef 3100]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 3100

[State 3000,AfterImage]
type = AfterImage
trigger1 = time = 0 && !var(47) && !var(36) && var(22)!=-1
time = 999999999
length = 9
TimeGap  = 2
FrameGap = 3
palbright = 0,0,0
palcontrast = 100,100,100
palpostbright = 0,0,0
paladd = -30,-30,-30
palmul = .75,.75,.75
trans = add1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && (var(22)=[-2,-1])
var(25) = 0

[state 3000,VarSet]
type = VarSet
trigger1 = Time = 0
var(36) = 0

[State 3000,PowerAdd]
type = PowerAdd
triggerall = time = 0
trigger1 = Var(30) <= 1 || (Var(30) = 2 && !fvar(8)) || (Var(30) = [3,4]) || (Var(30) = 5 && !fvar(8))
value = -ifelse(Var(30)=2,1500,1000)

[State 3000,Varadd]
type = VarSet
triggerall = Time = 0
trigger1 = (Var(30) = 4 && (100*life/const(data.life))>30)
trigger2 = Var(47)
fvar(37) = 0.00001

[State 3000,Varadd]
type = VarSet
triggerall = Time = 0
trigger1 = (Var(30) = [4,5]) && Fvar(8)
fvar(8) = 0

[State 3000,NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 56

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,14
channel = 0

[State 3000,Super]
type = Helper
trigger1 = AnimElem = 1,=3
persistent = 0
id = 8000
name = "super"
pos = floor(40*const(Size.xscale)),-100
postype = P1
stateno = ifelse((Var(30)=[4,6]),8010,8000)
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 3000,Pause]
type = SuperPause
trigger1 = AnimElem = 1,=3
time = 50+(var(36)*2)
movetime = 50+(var(36)*2)
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3000, VarSet]
type = VarSet
trigger1 = AnimElem = 2,=1
trigger1 = enemynear,stateno != [120,155]
trigger1 = !(enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "H”" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane")
trigger2 = enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
trigger3 = enemynear,authorname = "H”" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4400,4405]))
trigger4 = enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane" && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
fvar(22) = 50+(var(36)*2)

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(15) = 0

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,17
channel = 0

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 2, 1

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 11 || AnimElem = 17
value = 4, 5

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
physics = N

[State 105,VelAdd]
type = VelSet
trigger1 = AnimElem = 4
x = 2.8

[State 450,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10

[State 450,VarSet]
type = VarSet
trigger1 = Time = 0 || AnimElem = 12
var(21) = ifelse((AnimElem=12),-65,-10)

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(11) = ifelse((AnimElem=12),49,56)
ignorehitpause = 1

[State 3000,HitDef]
type = HitDef
triggerall = var(25) < 6
trigger1 = AnimElem = 6
attr = A, HA
air.animtype = Back
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = 0,0
givepower = 35, 35
guardflag = L
hitflag = MAF
pausetime = 5,5
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -6
air.velocity = -5.5,-6
yaccel = .5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 3000,HitDef]
type = HitDef
triggerall = var(25) < 6
trigger1 = AnimElem = 12
attr = A, HA
air.animtype = Back
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = 0,0
givepower = 35, 35
guardflag = L
hitflag = MAF
pausetime = 5,5
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = High
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -6
air.velocity = -5.5,-6
yaccel = .5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State -2,VarSet]
type = VarSet
trigger1 = movehit
var(15) = 1

[State 105,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 3101

;----------------------------フィニッシュ
[Statedef 3101]
type = A
movetype = A
physics = N
ctrl = 0
velset = 10,0

[State 820,ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
value = 3120+var(36)*10

[State 3001, Super]
type = Helper
trigger1 = Time = 0
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 45, PlaySnd]
type = PlaySND
trigger1 = Time = 0
value = 3,0

[State 4000,Explod]
type = Explod
trigger1 = AnimElem = 4 && var(36)=2
id = 7300
anim = 7300
removetime = -1
sprpriority = 2
bindtime = -1
ownpal = 1

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 9 && var(36)=2
id = 7300
ignorehitpause = 1

[State 4000,Explod]
type = Explod
trigger1 = AnimElem = 9 && var(36)=2
id = 7310
anim = 7310
sprpriority = 2
bindtime = -1
ownpal = 1

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 4, 5

[State 450,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -25

[State 450,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -65

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(11) = ifelse((var(36)=2),35,ifelse((var(36)=1),28,21))
ignorehitpause = 1

[State 3000,HitDef]
type = HitDef
triggerall = var(25) < ifelse(var(36)=0,6,7)
trigger1 = AnimElem = 5 || AnimElem = 7
attr = A, HA
air.animtype = Back
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = 0,0
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = 5,4
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -6
air.velocity = -5.5,-6
yaccel = .5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 3000,HitDef]
type = HitDef
triggerall = var(25) < ifelse(var(36)=0,6,7)
trigger1 = AnimElem = 6
attr = A, HA
air.animtype = Back
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = 0,0
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = 5,4
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = High
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -6
air.velocity = -5.5,-6
yaccel = .5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 1100, HitDef]
type = HitDef
triggerall = var(25) < ifelse(var(36)=0,6,7)
trigger1 = AnimElem = 8
attr = A, HA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S5,5
guardsound = S6,0
pausetime = 5,4
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -5.5,-6
air.velocity = -5.5,-6
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = ifelse(var(36)=2,44,15*var(34))
palfx.add = ifelse(var(36)=2,159,255),ifelse(var(36)=2,8,255),ifelse(var(36)=2,15,255)
palfx.mul = ifelse(var(36)=2,100,130),ifelse(var(36)=2,20,130),ifelse(var(36)=2,25,130)
palfx.color = ifelse(var(36)=2,100,255)
envshake.time = 10
envshake.ampl = 2
forcestand = 1
persistent = 0
id = 3100

[State -2,VarSet]
type = VarSet
trigger1 = movehit
var(15) = 1

[State 105,VelAdd]
type = VelSet
trigger1 = AnimElem = 11
x = 0

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 12
statetype = S
physics = S

[State 1102, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
 
;---------------------------------------------------------------------------
;タイガーレイド_LV.2 
;----------------------------開始動作
[Statedef 3110]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 3110
poweradd = -2000

[State 3001,AfterImage]
type = AfterImage
trigger1 = Time = 0 && var(22)!=-1
time = 999999999
length = 9
TimeGap  = 2
FrameGap = 3
trans = add1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && (var(22)=[-2,-1])
var(25) = 0

[state 3000,VarSet]
type = VarSet
trigger1 = Time = 0
var(36) = 1

[State 3001,NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 60

[State 3001,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,14
channel = 0

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 1,=3
persistent = 0
id = 8001
name = "super"
pos = floor(40*const(Size.xscale)),-100
postype = P1
stateno = 8000
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 3001,Pause]
type = SuperPause
trigger1 = AnimElem = 1,=3
time = 50+(var(36)*2)
movetime = 50+(var(36)*2)
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3000, VarSet]
type = VarSet
trigger1 = AnimElem = 2,=1
trigger1 = enemynear,stateno != [120,155]
trigger1 = !(enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "H”" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane")
trigger2 = enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
trigger3 = enemynear,authorname = "H”" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4400,4405]))
trigger4 = enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane" && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
fvar(22) = 50+(var(36)*2)

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(15) = 0

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,17
channel = 0

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 2, 1

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 11 || AnimElem = 17
value = 4, 5

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
physics = N

[State 105,VelAdd]
type = VelSet
trigger1 = AnimElem = 4
x = 2.8

[State 450,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10

[State 450,VarSet]
type = VarSet
trigger1 = Time = 0 || AnimElem = 12 || AnimElem = 18
var(21) = ifelse((AnimElem=12||AnimElem=18),-65,-10)

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(11) = ifelse((AnimElem=18),63,ifelse((AnimElem=12),49,56))
ignorehitpause = 1

[State 3000,HitDef]
type = HitDef
triggerall = var(25) < 7
trigger1 = AnimElem = 6 || AnimElem = 18
attr = A, HA
air.animtype = Back
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = 0,0
givepower = 35, 35
guardflag = L
hitflag = MAF
pausetime = 5,5
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -6
air.velocity = -5.5,-6
yaccel = .5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 3000,HitDef]
type = HitDef
triggerall = var(25) < 7
trigger1 = AnimElem = 12
attr = A, HA
air.animtype = Back
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = 0,0
givepower = 35, 35
guardflag = L
hitflag = MAF
pausetime = 5,5
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = High
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -6
air.velocity = -5.5,-6
yaccel = .5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State -2,VarSet]
type = VarSet
trigger1 = movehit
var(15) = 1

[State 105,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 3101
 
;---------------------------------------------------------------------------
;タイガーレイド_LV.3 
;----------------------------開始動作
[Statedef 3120]
type = S
movetype = A
physics = S
ctrl = 0
Anim = 3110
velset = 0, 0

[State 3002,AfterImage]
type = AfterImage
trigger1 = Time = 0 && var(22)!=-1
time = 999999999
length = 9
TimeGap  = 2
FrameGap = 3
palbright = 30,30,30
palcontrast = 220,100,100
palpostbright = 0,0,0
paladd = 40,-35,-35
palmul = .65,.45,.45
trans = add1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && (var(22)=[-2,-1])
var(25) = 0

[state 3000,VarSet]
type = VarSet
trigger1 = Time = 0
var(36) = 2

[State 3002,PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = -ifelse(Var(30)=5,1000,3000)

[State 3002,Varadd]
type = VarSet
trigger1 = Time = 0 && (Var(30) = 4 || Var(30) = 6)
fvar(37) = 0.00001

[State 3002,Varadd]
type = VarSet
triggerall = Time = 0
trigger1 = (Var(30) = [4,5]) && Fvar(8)
fvar(8) = 0

[State 3002,NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 66

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(15) = 0

[State 3002,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,14
channel = 0

[State 3002, Super]
type = Helper
trigger1 = AnimElem = 1,=3
persistent = 0
id = 8002
name = "super"
pos = floor(40*const(Size.xscale)),-100
postype = P1
stateno = ifelse((Var(30)=[4,6]),8010,8000)
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 3002,Pause]
type = SuperPause
trigger1 = AnimElem = 1,=3
time = 50+(var(36)*2)
movetime = 50+(var(36)*2)
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3000, VarSet]
type = VarSet
trigger1 = AnimElem = 2,=1
trigger1 = enemynear,stateno != [120,155]
trigger1 = !(enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "H”" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane")
trigger2 = enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
trigger3 = enemynear,authorname = "H”" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4400,4405]))
trigger4 = enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane" && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
fvar(22) = 50+(var(36)*2)

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,17
channel = 0

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 2, 1

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 11 || AnimElem = 17
value = 4, 5

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
physics = N

[State 105,VelAdd]
type = VelSet
trigger1 = AnimElem = 4
x = 2.8

[State 450,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10

[State 450,VarSet]
type = VarSet
trigger1 = Time = 0 || AnimElem = 12 || AnimElem = 18
var(21) = ifelse((AnimElem=12||AnimElem=18),-65,-10)

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(11) = ifelse((AnimElem=18),98,ifelse((AnimElem=12),77,84))
ignorehitpause = 1

[State 3000,HitDef]
type = HitDef
triggerall = var(25) < 7
trigger1 = AnimElem = 6 || AnimElem = 18
attr = A, HA
air.animtype = Back
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = 0,0
givepower = 35, 35
guardflag = L
hitflag = MAF
pausetime = 5,5
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -6
air.velocity = -5.5,-6
yaccel = .5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 3000,HitDef]
type = HitDef
triggerall = var(25) < 7
trigger1 = AnimElem = 12
attr = A, HA
air.animtype = Back
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = 0,0
givepower = 35, 35
guardflag = L
hitflag = MAF
pausetime = 5,5
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = High
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -6
air.velocity = -5.5,-6
yaccel = .5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State -2,VarSet]
type = VarSet
trigger1 = movehit
var(15) = 1

[State 105,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 3101
 
;---------------------------------------------------------------------------
;タイガージェノサイド_LV.1 
;----------------------------開始動作→タイガークラッシュ
[Statedef 3200]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 3200

[State 3000,AfterImage]
type = AfterImage
trigger1 = time = 0 && !var(47) && !var(36) && var(22)!=-1
time = 999999999
length = 9
TimeGap  = 2
FrameGap = 3
palbright = 0,0,0
palcontrast = 100,100,100
palpostbright = 0,0,0
paladd = -30,-30,-30
palmul = .75,.75,.75
trans = add1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && (var(22)=[-2,-1])
var(25) = 0

[state 3000,VarSet]
type = VarSet
trigger1 = Time = 0
var(36) = 0

[State 3000,PowerAdd]
type = PowerAdd
triggerall = time = 0
trigger1 = Var(30) <= 1 || (Var(30) = 2 && !fvar(8)) || (Var(30) = [3,4]) || (Var(30) = 5 && !fvar(8))
value = -ifelse(Var(30)=2,1500,1000)

[State 3000,Varadd]
type = VarSet
triggerall = Time = 0
trigger1 = (Var(30) = 4 && (100*life/const(data.life))>30)
trigger2 = Var(47)
fvar(37) = 0.00001

[State 3000,Varadd]
type = VarSet
triggerall = Time = 0
trigger1 = (Var(30) = [4,5]) && Fvar(8)
fvar(8) = 0

[State 3000,NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 56

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,14
channel = 0

[State 3000,Super]
type = Helper
trigger1 = AnimElem = 1,=3
persistent = 0
id = 8000
name = "super"
pos = floor(40*const(Size.xscale)),-100
postype = P1
stateno = ifelse((Var(30)=[4,6]),8010,8000)
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 3000,Pause]
type = SuperPause
trigger1 = AnimElem = 1,=3
time = 50+(var(36)*2)
movetime = 50+(var(36)*2)
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3000, VarSet]
type = VarSet
trigger1 = AnimElem = 2,=1
trigger1 = enemynear,stateno != [120,155]
trigger1 = !(enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "H”" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane")
trigger2 = enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
trigger3 = enemynear,authorname = "H”" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4400,4405]))
trigger4 = enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane" && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
fvar(22) = 50+(var(36)*2)

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(15) = 0

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2, 1

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,16
channel = 0

[State 105,VelAdd]
type = PosAdd
trigger1 = AnimElem = 4 && P2BodyDist X >= 47*const(Size.xscale)
x = 47*const(Size.xscale)
persistent = 0

[State 105,VelAdd]
type = VelSet
trigger1 = AnimElem = 4
x = 8
y = -1.5

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A
physics = N

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 4
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 45, PlaySnd]
type = PlaySND
trigger1 = AnimElem = 4
value = 3,0

[State 105,VelAdd]
type = VelAdd
trigger1 = AnimElem = 7,> 0
y = .75

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 7= 0
x = 0
y = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10
ignorehitpause = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6
var(21) = -ifelse((AnimElem=5||AnimElem=6),65,ifelse((AnimElem = 4),45,25))
ignorehitpause = 1

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(11) = ifelse((AnimElem=6||AnimElem = 5),21,ifelse((AnimElem=4),42,49))
ignorehitpause = 1

[State 3000,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 3 || AnimElem = 5
attr = A, HA
air.animtype = Back
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = 0,0
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = 5,4
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -4.5
air.velocity = -5.5,-6
yaccel = .5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 3000,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 4 || AnimElem = 6
attr = A, HA
air.animtype = Back
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = 0,0
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = 5,4
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = High
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -4.5
air.velocity = -5.5,-6
yaccel = .5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State -2,VarSet]
type = VarSet
trigger1 = movehit
var(15) = 1

[State 105,End]
type = ChangeState
trigger1 = AnimElem = 7, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3201

;----------------------------タイガーブロウ
[Statedef 3201]
type = S
movetype = A
physics = S
anim = 3201
ctrl = 0
velset = 0,0

[State 1102, PosSet]
type = PosSet
trigger1 = Time = 0
Y = 0

[State 52, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 3,3

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2, 1

[State 105,VelAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 14*const(Size.xscale)

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A
physics = N

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 4
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 45, PlaySnd]
type = PlaySND
trigger1 = AnimElem = 4
value = 3,0

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 7.5
y = -9.5

[State 105,VelAdd]
type = VelAdd
trigger1 = AnimElem = 4,> 0
y = .625

[State 5150, 6]
type = VelMul
trigger1 = 1
x = 0.825

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 6
x = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10
ignorehitpause = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 || AnimElem = 3 || AnimElem = 4
var(21) = -ifelse((Time=0),25,floor(55-P2bodydist Y))
ignorehitpause = 1

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(11) = ifelse((AnimElem=2),42,38)
ignorehitpause = 1

[State 1100, HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 2 || AnimElem = 3 || AnimElem = 4
attr = A, HA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S5,2
guardsound = S6,0
pausetime = 5,4
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State -2,VarSet]
type = VarSet
trigger1 = movehit
var(15) = 1

[state -3]
type = VarSet
trigger1 = animelem = 4,<0
trigger1 = MoveContact
var(25) = 0
ignorehitpause = 1

[State 710,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 105,End]
type = ChangeState
trigger1 = AnimElem = 4, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3230

;----------------------------
;タイガージェノサイド（着地）
[Statedef 3230]
type = S
movetype = I
physics = S
ctrl = 0
anim = 3230
velset = 0, 0
movehitpersist = 1

[State 1102, PosSet]
type = PosSet
trigger1 = Time = 0
Y = 0

[State 52, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 3,3

[State 1102, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
 
;---------------------------------------------------------------------------
;タイガージェノサイド_LV.2 
;----------------------------開始動作→タイガークラッシュ
[Statedef 3210]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 3200
poweradd = -2000

[State 3001,AfterImage]
type = AfterImage
trigger1 = Time = 0 && var(22)!=-1
time = 999999999
length = 9
TimeGap  = 2
FrameGap = 3
trans = add1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && (var(22)=[-2,-1])
var(25) = 0

[state 3000,VarSet]
type = VarSet
trigger1 = Time = 0
var(36) = 1

[State 3001,NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 60

[State 3001,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,14
channel = 0

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 1,=3
persistent = 0
id = 8001
name = "super"
pos = floor(40*const(Size.xscale)),-100
postype = P1
stateno = 8000
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 3001,Pause]
type = SuperPause
trigger1 = AnimElem = 1,=3
time = 50+(var(36)*2)
movetime = 50+(var(36)*2)
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3000, VarSet]
type = VarSet
trigger1 = AnimElem = 2,=1
trigger1 = enemynear,stateno != [120,155]
trigger1 = !(enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "H”" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane")
trigger2 = enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
trigger3 = enemynear,authorname = "H”" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4400,4405]))
trigger4 = enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane" && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
fvar(22) = 50+(var(36)*2)

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(15) = 0

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2, 1

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,16
channel = 0

[State 105,VelAdd]
type = PosAdd
trigger1 = AnimElem = 4 && P2BodyDist X >= 47*const(Size.xscale)
x = 47*const(Size.xscale)
persistent = 0

[State 105,VelAdd]
type = VelSet
trigger1 = AnimElem = 4
x = 8
y = -1.5

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A
physics = N

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 4
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 45, PlaySnd]
type = PlaySND
trigger1 = AnimElem = 4
value = 3,0

[State 105,VelAdd]
type = VelAdd
trigger1 = AnimElem = 7,> 0
y = .75

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 7= 0
x = 0
y = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10
ignorehitpause = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6
var(21) = -ifelse((AnimElem=5||AnimElem=6),65,ifelse((AnimElem = 4),45,25))
ignorehitpause = 1

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(11) = ifelse((AnimElem = 5),35,ifelse((AnimElem=4),42,49))
ignorehitpause = 1

[State 3000,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 3 || AnimElem = 5
attr = A, HA
air.animtype = Back
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = 0,0
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = 5,4
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -4.5
air.velocity = -5.5,-6
yaccel = .5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 3000,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 4
attr = A, HA
air.animtype = Back
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = 0,0
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = 5,4
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = High
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -4.5
air.velocity = -5.5,-6
yaccel = .5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State -2,VarSet]
type = VarSet
trigger1 = movehit
var(15) = 1

[State 105,End]
type = ChangeState
trigger1 = AnimElem = 7, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3211

;----------------------------タイガーブロウ
[Statedef 3211]
type = S
movetype = A
physics = S
anim = 3211
ctrl = 0
velset = 0,0

[State 1102, PosSet]
type = PosSet
trigger1 = Time = 0
Y = 0

[State 52, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 3,3

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2, 1

[State 105,VelAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 14*const(Size.xscale)

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A
physics = N

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 4
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 45, PlaySnd]
type = PlaySND
trigger1 = AnimElem = 4
value = 3,0

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 9
y = -12

[State 105,VelAdd]
type = VelAdd
trigger1 = AnimElem = 4,> 0
y = .62

[State 5150, 6]
type = VelMul
trigger1 = 1
x = 0.95

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 9
x = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10
ignorehitpause = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6 || AnimElem = 7
var(21) = -ifelse((Time=0),25,floor(55-P2bodydist Y))
ignorehitpause = 1

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(11) = ifelse((AnimElem=2),42,ifelse((AnimElem=3),35,ifelse((AnimElem=4),28,21)))
ignorehitpause = 1

[State 1100, HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6 || AnimElem = 7
attr = A, HA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S5,2
guardsound = S6,0
pausetime = 5,4
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 19
ground.hittime  = 17
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State -2,VarSet]
type = VarSet
trigger1 = movehit
var(15) = 1

[state -3]
type = VarSet
trigger1 = animelem = 7,<0
trigger1 = MoveContact
var(25) = 0
ignorehitpause = 1

[State 710,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 105,End]
type = ChangeState
trigger1 = AnimElem = 4, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3230
 
;---------------------------------------------------------------------------
;タイガージェノサイド_LV.3 
;----------------------------開始動作→タイガークラッシュ
[Statedef 3220]
type = S
movetype = A
physics = S
ctrl = 0
Anim = 3200
velset = 0, 0

[State 3002,AfterImage]
type = AfterImage
trigger1 = Time = 0 && var(22)!=-1
time = 999999999
length = 9
TimeGap  = 2
FrameGap = 3
palbright = 30,30,30
palcontrast = 220,100,100
palpostbright = 0,0,0
paladd = 40,-35,-35
palmul = .65,.45,.45
trans = add1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && (var(22)=[-2,-1])
var(25) = 0

[state 3000,VarSet]
type = VarSet
trigger1 = Time = 0
var(36) = 2

[State 3002,PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = -ifelse(Var(30)=5,1000,3000)

[State 3002,Varadd]
type = VarSet
trigger1 = Time = 0 && (Var(30) = 4 || Var(30) = 6)
fvar(37) = 0.00001

[State 3002,Varadd]
type = VarSet
triggerall = Time = 0
trigger1 = (Var(30) = [4,5]) && Fvar(8)
fvar(8) = 0

[State 3002,NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 66

[State 3002,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,14
channel = 0

[State 3002, Super]
type = Helper
trigger1 = AnimElem = 1,=3
persistent = 0
id = 8002
name = "super"
pos = floor(40*const(Size.xscale)),-100
postype = P1
stateno = ifelse((Var(30)=[4,6]),8010,8000)
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 3002,Pause]
type = SuperPause
trigger1 = AnimElem = 1,=3
time = 50+(var(36)*2)
movetime = 50+(var(36)*2)
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3000, VarSet]
type = VarSet
trigger1 = AnimElem = 2,=1
trigger1 = enemynear,stateno != [120,155]
trigger1 = !(enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "H”" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane")
trigger2 = enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
trigger3 = enemynear,authorname = "H”" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4400,4405]))
trigger4 = enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane" && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
fvar(22) = 50+(var(36)*2)

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(15) = 0

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2, 1

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,16
channel = 0

[State 105,VelAdd]
type = PosAdd
trigger1 = AnimElem = 4 && P2BodyDist X >= 47*const(Size.xscale)
x = 47*const(Size.xscale)
persistent = 0

[State 105,VelAdd]
type = VelSet
trigger1 = AnimElem = 4
x = 8
y = -1.5

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A
physics = N

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 4
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 45, PlaySnd]
type = PlaySND
trigger1 = AnimElem = 4
value = 3,0

[State 105,VelAdd]
type = VelAdd
trigger1 = AnimElem = 7,> 0
y = .75

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 7= 0
x = 0
y = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10
ignorehitpause = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6
var(21) = -ifelse((AnimElem=5||AnimElem=6),65,ifelse((AnimElem = 4),45,25))
ignorehitpause = 1

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(11) = ifelse((AnimElem=3),56,ifelse((AnimElem=4),42,21))
ignorehitpause = 1

[State 3000,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 3 || AnimElem = 5
attr = A, HA
air.animtype = Back
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = 0,0
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = 5,4
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -4.5
air.velocity = -5.5,-6
yaccel = .5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 3000,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 4 || AnimElem = 6
attr = A, HA
air.animtype = Back
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = 0,0
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = 5,4
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = High
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -4.5
air.velocity = -5.5,-6
yaccel = .5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State -2,VarSet]
type = VarSet
trigger1 = movehit
var(15) = 1

[State 105,End]
type = ChangeState
trigger1 = AnimElem = 7, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3221

;----------------------------タイガーアッパーカット１
[Statedef 3221]
type = S
movetype = A
physics = S
anim = 3221
ctrl = 0
velset = 0,0

[State 1102, PosSet]
type = PosSet
trigger1 = Time = 0
Y = 0

[State 52, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 3,3

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10
ignorehitpause = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 || AnimElem = 3 || AnimElem = 4
var(21) = -ifelse((AnimElem=3||AnimElem=4),floor(55-P2bodydist Y),25)
ignorehitpause = 1

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(11) = ifelse((AnimElem=4),21,ifelse((AnimElem=3),35,49))
ignorehitpause = 1

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2, 1

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 7
y = -6

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A
physics = N

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 4
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 45, PlaySnd]
type = PlaySND
trigger1 = AnimElem = 4
value = 3,0

[State 105,VelAdd]
type = VelAdd
trigger1 = AnimElem = 4,> 0
y = .6

[State 5150, 6]
type = VelMul
trigger1 = 1
x = 0.75

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 3000,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 2 || AnimElem = 4
attr = A, HA
air.animtype = Back
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = 0,0
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = 5,4
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 40
ground.velocity = -4.5
air.velocity = -5.5,-6
yaccel = .5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State 3000,HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 3
attr = A, HA
air.animtype = Back
animtype = Hard
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
getpower = 0,0
givepower = 35, 35
guardflag = M
hitflag = MAF
pausetime = 5,4
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
hitsound = S5, 5
guardsound = S6, 0
ground.type = High
ground.slidetime = 17
ground.hittime  = 40
ground.velocity = -4.5
air.velocity = -5.5,-6
yaccel = .5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State -2,VarSet]
type = VarSet
trigger1 = movehit
var(15) = 1

[State 105,End]
type = ChangeState
trigger1 = AnimElem = 4, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3222

;----------------------------タイガーアッパーカット２
[Statedef 3222]
type = S
movetype = A
physics = S
anim = 3222
ctrl = 0
velset = 0,0

[State 1102, PosSet]
type = PosSet
trigger1 = Time = 0
Y = 0

[State 52, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 3,3

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 2, 1

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
statetype = A
physics = N

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 6
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 45, PlaySnd]
type = PlaySND
trigger1 = AnimElem = 6
value = 3,0

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 6
x = 12
y = -12

[State 105,VelAdd]
type = VelAdd
trigger1 = AnimElem = 6,> 0
y = .65

[State 5150, 6]
type = VelMul
trigger1 = AnimElem = 10,< 0
x = 0.95

[State 5150, 6]
type = VelMul
trigger1 = AnimElem = 10,>= 0
x = 0.75

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 13
x = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10
ignorehitpause = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6 || AnimElem = 7 || AnimElem = 8 || AnimElem = 9
var(21) = -ifelse((Time=0),25,floor(55-P2bodydist Y))
ignorehitpause = 1

[State 1050, VarSet]
type = VarSet
trigger1 = 1
var(11) = ifelse((AnimElem=2),56,ifelse((AnimElem=3),42,28))
ignorehitpause = 1

[State 1100, HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6 || AnimElem = 7 || AnimElem = 8 || AnimElem = 9
attr = A, HA
damage    = ceil(ifelse(var(11)<7,7,var(11))),ceil(ifelse((var(11)/8)<7,7,(var(11)/8)))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S5,2
guardsound = S6,0
pausetime = 5,4
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130
envshake.time = 10
envshake.ampl = 2
forcestand = 1

[State -2,VarSet]
type = VarSet
trigger1 = movehit
var(15) = 1

[state -3]
type = VarSet
trigger1 = animelem = 9,<0
trigger1 = MoveContact
var(25) = 0
ignorehitpause = 1

[State 710,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 10
movetype = I

[State 105,End]
type = ChangeState
trigger1 = AnimElem = 6, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3230
 
;---------------------------------------------------------------------------
;アングリーチャージ 
;----------------------------
; アングリーチャージ（開始）
[Statedef 3300]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 3300

[State 3300,AfterImage]
type = AfterImage
trigger1 = time = 0 && !var(47) && !var(36) && var(22)!=-1
time = 999999999
length = 9
TimeGap  = 2
FrameGap = 3
palbright = 0,0,0
palcontrast = 100,100,100
palpostbright = 0,0,0
paladd = -30,-30,-30
palmul = .75,.75,.75
trans = add1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && (var(22)=[-2,-1])
var(25) = 0

[state 3000,VarSet]
type = VarSet
trigger1 = Time = 0
var(36) = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(17) = -1

[State 3000,PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = -ifelse(Var(30)=5,1000,3000)

[State 3002,Varadd]
type = VarSet
trigger1 = Time = 0 && (Var(30) = 4 || Var(30) = 6)
trigger2 = Var(47)
fvar(37) = 0.00001

[State 3002,Varadd]
type = VarSet
triggerall = Time = 0
trigger1 = (Var(30) = [4,5]) && Fvar(8)
fvar(8) = 0

[State 3000,NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 70

[State 3000,Super]
type = Helper
trigger1 = AnimElem = 2,=1
persistent = 0
id = 8000
name = "super"
pos = floor(15*const(Size.xscale)),-95
postype = P1
stateno = ifelse((Var(30)=[4,6]),8010,8000)
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 3000,Pause]
type = SuperPause
trigger1 = AnimElem = 2,=1
time = 50+(var(36)*2)
movetime = 50+(var(36)*2)
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3000, VarSet]
type = VarSet
trigger1 = AnimElem = 2,=1
trigger1 = enemynear,stateno != [120,155]
trigger1 = !(enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "H”" && enemynear,fvar(39) = 1)
trigger1 = !(enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane")
trigger2 = enemynear,authorname = "warusaki3" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
trigger3 = enemynear,authorname = "H”" && enemynear,fvar(39) = 1 && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4400,4405]))
trigger4 = enemynear,authorname = "mouser" && enemynear,name = "Hibiki Takane" && ((enemynear,stateno != [120,155]) && (enemynear,stateno != [4100,4120]))
fvar(22) = 50+(var(36)*2)

[State 4000,Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 7000
scale = const(Size.xscale),const(Size.yscale)
sprpriority = 2
bindtime = 1
ownpal = 1
supermovetime = 99999999

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9
value = 0,0
channel = 0

[State 1000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
  
;===================================================================
;特殊動作 
;===================================================================

	 
;-------------------------------------------------------------------
; 回りこみ 
[Statedef 4000]
type = S
movetype = I
physics = N
ctrl = 0
anim = 4000
velset = 0, 0

[State 4000,Width]
type = Width
trigger1 = 1
edge = 5,0

[State 4000,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 0,ifelse(Random <= 500,1,4)
channel = 0

[State 4000,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 0

[State 4000,HitBy]
type = HitBy
trigger1 = AnimElem = 6, < 0
value = SC, NT, ST, HT

[State 4000,PlayerPush]
type = PlayerPush
trigger1 = AnimElem = 6, < 0
value = 0

[State 4000,VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 5.25

[State 4000,VelSet]
type = VelSet
trigger1 = AnimElem = 6
x = 0

[State 4000,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2,=1
trigger1 = !Var(47)
time = 999999999
length = 9
TimeGap  = 2
FrameGap = 3
palbright = 0,0,0
palcontrast = ifelse(Var(47),40,100),ifelse(Var(47),160,100),ifelse(Var(47),180,100)
palpostbright = 0,0,0
paladd = ifelse(Var(47),-90,-30),ifelse(Var(47),10,-30),ifelse(Var(47),30,-30)
palmul = ifelse(Var(47),.25,.75),ifelse(Var(47),.45,.75),ifelse(Var(47),.55,.75)
trans = add1

[State 4000,Turn]
type = Turn
trigger1 = AnimTime = 0 && P2BodyDist X < -5

[State 4000,AfterImageTime]
type = AfterImageTime
trigger1 = AnimElem = 8
trigger1 = !Var(47)
time = 0

[State 4000,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
 
;-------------------------------------------------------------------
; 避け 
[Statedef 4010]
type = S
movetype = I
physics = S
ctrl = 0
anim = 4010
velset = 0, 0
sprpriority = -1

[State 4010,HitBy]
type = HitBy
trigger1 = 1
value = SC, NT, ST, HT

[State 4010,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 0, 4
channel = 0

[State 4010,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=1
value = 4, 2

[State 4010,PlayerPush]
type = PlayerPush
trigger1 = AnimElem = 2,>=0 && AnimElem = 4,<0
value = 0

[State 3100, AfterImage]
type = AfterImage
trigger1 = AnimElem = 2,=1
trigger1 = !Var(47)
time = 999999999
length = 9
TimeGap  = 2
FrameGap = 3
palbright = 0,0,0
palcontrast = ifelse(Var(47),40,100),ifelse(Var(47),160,100),ifelse(Var(47),180,100)
palpostbright = 0,0,0
paladd = ifelse(Var(47),-90,-30),ifelse(Var(47),10,-30),ifelse(Var(47),30,-30)
palmul = ifelse(Var(47),.25,.75),ifelse(Var(47),.45,.75),ifelse(Var(47),.55,.75)
trans = add1

[State 4010,AfterImageTime]
type = AfterImageTime
trigger1 = AnimElem = 4
trigger1 = !Var(47)
time = 0

[State 4010,SprPriority]
type = SprPriority
trigger1 = AnimTime = 0
value = 0

[State 4010,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
	 
;-----------------------------------------------------------------------------
;カウンター攻撃（パンチ） 
[Statedef 4020]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 220
ctrl = 0
poweradd = 0
sprpriority = 0

[State 4020,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -20
ignorehitpause = 1

[State 4020,VarSet]
type = VarSet
trigger1 = Time = 0
var(21) = -60
ignorehitpause = 1

[State 4020, 0]
type = AfterImageTime
trigger1 = Time = 0
trigger1 = !Var(47)
time = 0
ignorehitpause = 1

[State 4020, HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = Time = 0
attr = S, NA
damage    = ceil(ifelse((77*fvar(10))<7,7,(77*fvar(10))))
animtype = Back
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S5,2
guardsound = S6,0
pausetime = 15,15
sparkno = S8200+(random%8)
guard.sparkno = S8100
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.5,-7
air.velocity = -3.5,-7
guard.velocity = -10
yaccel = .5
fall = 1
fall.recover = !Var(47)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 15*var(34)
palfx.add = 255,255,255
palfx.mul = 130,130,130

[State 4020,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 4020,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
  
;-------------------------------------------------------------------
;ブロッキング 
;-------------------------------------------------------------------
	 
;------------------------
;ブロッキング（立ち） 
[Statedef 4300]
type    = S
movetype= I
physics = S
anim = 4300
velset = 0,0
ctrl = 0

[State 10000, End]
type = VarSet
trigger1 = Time = 0
var(39) = 1

[State 10000, End]
type = VarSet
trigger1 = Time = 0
var(35) = 0

[State 10000, End]
type = VarSet
trigger1 = Time = 0
var(44) = 1

[State 1000, 0]
type = PowerAdd
trigger1 = time = 0
value = 26

[State 10000, End]
type = NotHitBy
trigger1 = 1
value = SCA

[State -2,PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = 0, 4
channel = 0

[State -2,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 20, 9

[State -2, Explod(P2)]
type = Explod
trigger1 = Time = 0
anim = 8065
pos = Ceil(50*const(Size.xscale)),-75
postype = P1
sprpriority = 3
scale = .5,.5
bindtime = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
Supermovetime = -1

[State -2, 1]
type = PalFX
trigger1 = AnimElemNo(0) = 2
time = 1
add = 255,255,255
mul = 130,130,200

[State 151, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
 
;------------------------
;ブロッキング（しゃがみ） 
[Statedef 4301]
type    = C
movetype= I
physics = C
anim = 4301
velset = 0,0
ctrl = 0

[State 10000, End]
type = VarSet
trigger1 = Time = 0
var(39) = 1

[State 10000, End]
type = VarSet
trigger1 = Time = 0
var(35) = 0

[State 10000, End]
type = VarSet
trigger1 = Time = 0
var(44) = 1

[State 1000, 0]
type = PowerAdd
trigger1 = time = 0
value = 26

[State 10000, End]
type = NotHitBy
trigger1 = 1
value = SCA

[State -2,PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = 0, 4
channel = 0

[State -2,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 20, 9

[State -2, Explod(P2)]
type = Explod
trigger1 = Time = 0
anim = 8065
pos = Ceil(35*const(Size.xscale)),-40
postype = P1
sprpriority = 3
scale = .5,.5
bindtime = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
Supermovetime = -1

[State -2, 1]
type = PalFX
trigger1 = AnimElemNo(0) = 2
time = 1
add = 255,255,255
mul = 130,130,200

[State 151, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
 
;------------------------
;ブロッキング（空中） 
[Statedef 4302]
type    = A
movetype= I
physics = N
anim = 4302
velset = 0,0
ctrl = 0

[State 10000, End]
type = VarSet
trigger1 = Time = 0
var(35) = 0

[State 10000, End]
type = VarSet
trigger1 = Time = 0
var(39) = 1

[State 10000, End]
type = VarSet
trigger1 = Time = 0
var(44) = 1

[State 1000, 0]
type = PowerAdd
trigger1 = time = 0
value = 26

[State 10000, End]
type = NotHitBy
trigger1 = AnimElem = 4,< 0
value = SCA

[State -2,PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = 0, 4
channel = 0

[State -2,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 20, 9

[State -2, Explod(P2)]
type = Explod
trigger1 = Time = 0
anim = 8065
pos = 30,-80
postype = P1
sprpriority = 3
scale = .5,.5
bindtime = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
Supermovetime = -1

[State -2, 1]
type = PalFX
trigger1 = AnimElemNo(0) = 2
time = 1
add = 255,255,255
mul = 130,130,200

[State 100,0]
type = VelSet
trigger1 = AnimElem = 4,>= 0
y = -5
persistent = 0

[State 151, 3]
type = CtrlSet
trigger1 = AnimElem = 4,>= 0
value = 1

[State 1201,VelAdd]
type = VelAdd
trigger1 = AnimElem = 4,>= 0
y = .35

[State 1201,End]
type = ChangeState
trigger1 = AnimElem = 4,>= 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52
  
;---------------------------------------------------------------------
;ガードキャンセル攻撃 
[Statedef 4505]
type    = S
movetype= A
physics = S
anim = 1110
velset = 0,0
ctrl = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && var(22)=-1
var(25) = 0

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0
var(20) = -10
ignorehitpause = 1

[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 || AnimElem = 3 || AnimElem = 4
var(21) = -ifelse((AnimElem=3||AnimElem=4),65,25)
ignorehitpause = 1

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2, 1

[State 200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,12
channel = 0

[State 1100, HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 2 || AnimElem = 3
attr = S, HA
damage = ceil(ifelse((42*fvar(10))<7,7,(42*fvar(10)))),ceil(ifelse((42*fvar(10)/8)<7,7,(42*fvar(10)/8)))
animtype = DiagUp
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S5,2
guardsound = S6,0
pausetime = Ceil(13*IfElse(Var(47),.5,1)),Ceil(13*IfElse(Var(47),.5,1))
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 0

[State 1100, HitDef]
type = HitDef
triggerall = var(25) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 4
attr = A, HA
damage = ceil(ifelse((42*fvar(10))<7,7,(42*fvar(10)))),ceil(ifelse((42*fvar(10)/8)<7,7,(42*fvar(10)/8)))
animtype = DiagUp
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S5,2
guardsound = S6,0
pausetime = 15,15
sparkno = S8220+(random%8)
guard.sparkno = S8105
sparkxy = var(20),var(21)
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.8,-9.5
air.velocity = -1.8,-9.5
guard.velocity = -7
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 0

[State 710,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 105,VelAdd]
type = PosAdd
trigger1 = AnimElem = 2
x = 12*const(Size.xscale)

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A
physics = N

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 4
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 45, PlaySnd]
type = PlaySND
trigger1 = AnimElem = 4
value = 3,0

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 7
y = -10

[State 105,VelAdd]
type = VelAdd
trigger1 = AnimElem = 4,> 0
y = .65

[State 5150, 6]
type = VelMul
trigger1 = 1
x = 0.825

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 0

[State 105,End]
type = ChangeState
trigger1 = AnimElem = 4, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1130
  
;===================================================================
[Statedef -3] 
;===================================================================
	 
;----------------------------------------------
; 画面端の処理 
[state -3]
type = varset
trigger1 = numtarget
trigger1 = movecontact = 1
fvar(15) = target,GetHitVar(slidetime)
ignorehitpause = 1

[state -3]
type = varadd
trigger1 = numtarget
trigger1 = fvar(15)/1000 < target,GetHitVar(slidetime)
fvar(15) = 1000
ignorehitpause = 1

[state -3]
type = varset
trigger1 = numtarget
trigger1 = movecontact = 1
var(27) = target,GetHitVar(slidetime)
ignorehitpause = 1

[state -3]
type = varadd
trigger1 = var(27) > 0
var(27) = -1
ignorehitpause = 1

[state -3]
type = PosAdd
trigger1 = NumHelper(8000)=0
trigger1 = NumHelper(8001)=0
trigger1 = NumHelper(8002)=0
trigger1 = statetype!=A
trigger1 = ProjContact=0
trigger1 = movetype!=H
trigger1 = numtarget
trigger1 = target,statetype!=A
trigger1 = (target,stateno=[5000,5099])||(target,stateno=[150,169])
trigger1 = target,backedgebodydist < 5 || target,Frontedgebodydist < 5
trigger1 = var(27) > 0 && StateNo!= 4505
x = -1*Abs((target,GetHitVar(xvel))*(ifelse((target,statetype=C),(target,const(movement.crouch.friction)),(target,const(movement.stand.friction)))**(-1+fvar(15)/1000)))

[state -3]
type = Width
trigger1 = StateNo= [1000,1999]
trigger2 = StateNo= [3000,3999]
trigger3 = Var(47)
edge = 5,0
 
;-----------------------------------------------------------------
; サウンド関連 
;----------------------------
;ラウンド開始時音楽消去
[State -3, AssertSpecial]
type = AssertSpecial
triggerall = roundno = 1
trigger1 = roundstate < 2
flag = NoMusic

;----------------------------
;共通効果音（弱パンチ素振り）
[State -3,PlaySnd1]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 200 || StateNo = 205 || StateNo = 400 || StateNo = 600 || StateNo = 605
value = 4,0

;共通効果音（中パンチ素振り）
[State -3,PlaySnd1]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 210 || StateNo = 215 || StateNo = 410 || StateNo = 610 || StateNo = 615
value = 4,1

;共通効果音（強パンチ素振り）
[State -3,PlaySnd1]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 220 || StateNo = 225 || StateNo = 420 || StateNo = 620 || StateNo = 625 || StateNo = 4020
value = 4,2

;共通効果音（弱キック素振り）
[State -3,PlaySnd1]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 230 || StateNo = 235 || StateNo = 430 || StateNo = 630 || StateNo = 635
value = 4,3

;共通効果音（中キック素振り）
[State -3,PlaySnd1]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 240 || StateNo = 245 || StateNo = 440 || StateNo = 640 || StateNo = 645
value = 4,4

;共通効果音（強キック素振り）
[State -3,PlaySnd1]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 250 || StateNo = 255 || StateNo = 450 || StateNo = 650 || StateNo = 655 || StateNo = 300
value = 4,5

;---------------------------------------------------------------------
; 通常技用掛け声
[State -3,PlaySnd1]
type = PlaySnd
triggerall = Random < 200 && Time = 1
trigger1 = (StateNo = 200 || StateNo = 210 || StateNo = 215 || StateNo = 230 || StateNo = 240)
trigger2 = (StateNo = 400 || StateNo = 430 || StateNo = 600 || StateNo = 610 || StateNo = 630 || StateNo = 640)
value = 0,ifelse(Random < 100,4,5)
channel = 0

[State -3,PlaySnd1]
type = PlaySnd
triggerall =  Random < 200 && Time = 1
trigger1 = StateNo = 220 || StateNo = 225 || StateNo = 250
trigger2 = StateNo = 420 || StateNo = 450 || StateNo = 620 || StateNo = 650
trigger3 = StateNo = 4020
value = 0,ifelse(Random < 100,5,6)
channel = 0

[State -3,PlaySnd]
type = Stopsnd
trigger1 = RoundState = 2
channel = 3

;---------------------------------------------------------------------
; やられ音声
[State -3,PlaySnd]
type = PlaySnd
triggerall = Time = 1 && Alive && Random <= 400
triggerall = StateNo = 5000 || StateNo = 5010
trigger1 = Anim = 5000 || Anim = 5010 || Anim = 5020
value = 5000,ifelse(Random <= 200,0,10)
channel = 0

[State -3,PlaySnd]
type = PlaySnd
triggerall = Time = 1 && Alive && Random <= 400
triggerall = StateNo = 5000 || StateNo = 5010
trigger1 = Anim = 5001 || Anim = 5011 || Anim = 5021
trigger2 = Anim = 5002 || Anim = 5012 || Anim = 5022
value = 5000,ifelse(Random <= 200,10,20)
channel = 0

[State -3,PlaySnd]
type = PlaySND
triggerall = Alive && Random <= 400
trigger1 = StateNo = 5000 && Time = 1
trigger1 = GetHitVar(fall)
trigger2 = StateNo = 5020 && Time = 1
trigger3 = StateNo = 5071 && Time = 1
value = 5000,20
channel = 0

;---------------------------------------------------------------------
; 特殊動作用音声
;----------------------------オリコン発動
[State 200,PlaySnd]
type = PlaySnd
trigger1 = StateNo = 4200 && Time = 1
trigger2 = StateNo = 4210 && Time = 1
value = 0,8
channel = 0
;----------------------------パワーMAX発動
[State 4150,PlaySnd]
type = PlaySnd
trigger1 = StateNo = 4150 && Time = 6
value = 0,7
channel = 0
;----------------------------パワー溜め動作
[State 4100,PlaySnd]
type = PlaySnd
trigger1 = StateNo = 4100 && Time = 1
value = 0,8
channel = 0
;----------------------------ジャストディフェンス
[State 200,PlaySnd]
type = PlaySnd
trigger1 = StateNo = 4400 && Time = 1
trigger2 = StateNo = 4402 && Time = 1
trigger3 = StateNo = 4404 && Time = 1
value = 0,4
channel = 0
;----------------------------ダウン回避
[State 200,PlaySnd]
type = PlaySnd
trigger1 = (StateNo = 5210 || StateNo = 5201) && Time = 1
value = 0,1
channel = 0
;----------------------------投げ抜け（られ）
[State 200,PlaySnd]
type = PlaySnd
trigger1 = StateNo = 950 && Time = 1
value = 0,10
channel = 0
 
;-----------------------------------------------------------------
; エフェクト関連 
;----------------------------
; 特殊エフェクト処理
[State -2,AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = H && StateNo !=5110 && StateNo !=5120
time = 0

[state 3000,VarSet]
type = VarSet
trigger1 = MoveType = H && StateNo !=5110 && StateNo !=5120
trigger2 = StateNo != [3000,3999]
var(36) = 0

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo != [3100,3109]
id = 7300
ignorehitpause = 1
[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo != [3100,3109]
id = 7310
ignorehitpause = 1

;----------------------------
; 共通エフェクト（着地）
[State -2, Common Effect]
type = Explod
trigger1 = stateno = 52 && Time = 1
trigger2 = stateno = 106 && Time = 1
trigger3 = stateno = 111 && Time = 1
trigger4 = stateno = 1130 && Time = 1
trigger5 = stateno = 1230 && Time = 1
trigger6 = stateno = 3101 && AnimElem = 12,=1
trigger7 = stateno = 3201 && Time = 1
trigger8 = stateno = 3211 && Time = 1
trigger9 = stateno = 3221 && Time = 1
trigger10= stateno = 3222 && Time = 1
anim = 8030
scale = .5,.5
sprpriority = -1
ownpal = 1
Supermovetime = -1

;----------------------------
;共通エフェクト（ダッシュ）
[State -2, Common Effect]
type = Explod
trigger1 = stateno = 100 && Time = 1
trigger2 = stateno = 110 && Time = 1
anim = 8040
pos = 20,0
scale = .5,.5
sprpriority = 5
ownpal = 1
Supermovetime = -1

;----------------------------
;共通エフェクト（バックステップ）
[State -2, Common Effect]
type = Explod
trigger1 = stateno = 105 && Time = 1
anim = 8040
facing = -1
pos = -30,0
scale = .5,.5
sprpriority = 5
ownpal = 1
Supermovetime = -1

;---------------------------------------------------------------------------
; 炎系ヒットエフェクト
[State 3001, Super]
type = Helper
triggerall = !NumHelper(8300)
trigger1 = ProjHitTime(3060) = 1
trigger2 = NumTarget(3100)
trigger2 = MoveHit && StateNo = 3101 && var(36)=2
trigger3 = MoveHit && (StateNo = [1100,1199]) && var(17)
trigger4 = MoveHit && StateNo = 1210 && var(17)
id = 8300
name = "Fire"
pos = 0,0
postype = P2
stateno = 8300
helpertype = normal
keyctrl = 0
ownpal = 1
persistent = 0
ignorehitpause = 1
 
;---------------------------------------------------------------------
; 特殊ジャンプ管理 
[State -2,VarSet]
type = VarSet
triggerall = !Var(59)
trigger1 = Command = "holddown"
var(31) = 10

[State -2,VarSet]
type = Varadd
triggerall = !Var(59)
trigger1 = var(31) > 0 && StateNo != 40 && Command != "holddown"
var(31) = -1

[State -2,VarSet]
type = VarSet
trigger1 = MoveType = H || StateNo = 11
var(31) = 0

[State -2,VarSet]
type = VarSet
trigger1 = StateNo != 40 && StateType != A
var(32) = 0

 
;---------------------------------------------------------------------
; 防御値修正 
[State -3,K-DefenceMul]
type = LifeAdd
trigger1 = Alive
trigger1 = fvar(8)
trigger1 = Var(30) = 6
trigger1 = var(33) > life
value = Ceil(-(life-var(33))+((life-var(33))/1.225))

[State -3,DefenceMul]
type = VarSet
trigger1 = var(33) != life
var(33) = life
 
;---------------------------------------------------------------------
; 飛び道具ヒットエフェクトのランダム化 
[State 1000, 3]
type = VarRandom
trigger1 = 1
v = 16
range = 0,8
 
;---------------------------------------------------------------------
; アングリーチャージ 
[State -3,アングリーチャージ状態解除]
type = VarSet
triggerall = var(17) = 1
trigger1   = StateNo!= [1000,1099]
trigger1   = StateNo!= [1100,1199]
trigger1   = StateNo!= [1200,1299]
var(17) = 0

[State -2,Reversal]
type = VarSet
trigger1 = stateno=5001 || stateno=5011 || stateno=151 || stateno=153 || stateno=140 || stateno=5120
var(18) = 1
ignorehitpause = 1

[State -2,Reversal]
type = VarSet
trigger1 = stateno!=5001 && stateno!=5011 && stateno!=151 && stateno!=153 && stateno!=140 && stateno!=5120
trigger1   = StateNo!= [1000,1099]
trigger1   = StateNo!= [1100,1199]
trigger1   = StateNo!= [1200,1299]
var(18) = 0
ignorehitpause = 1
   
