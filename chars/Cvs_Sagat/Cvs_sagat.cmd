;=====================================================================
;  CMD File For "SAGAT"                               Made By H" 
;=====================================================================

;-| Button Remapping |-----------------------------------------------------
[Remap]
x = x
y = y
z = z
a = a
b = b
c = c
s = s

;-| Default Values |-------------------------------------------------------
[Defaults]
command.time = 15
command.buffer.time = 1
















	 
;=====================================================================
; Definition of the Commands 
;=====================================================================

	 
;AIフラグ 
[Command]
name = "AI0"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI1"
command = b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b
time = 0
[Command]
name = "AI2"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI3"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI4"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI5"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI6"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI7"
command = F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F
time = 0
[Command]
name = "AI8"
command = D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D
time = 0
[Command]
name = "AI9"
command = B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B
time = 0
[Command]
name = "AI10"
command = U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U
time = 0
[Command]
name = "AI11"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI12"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI13"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI14"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI15"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI16"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI17"
command = a,B,c,x,y,z,s,B,D,F,U,a,b,c,x,y,z,s,s
time = 0
[Command]
name = "AI18"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI19"
command = b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b
time = 0
[Command]
name = "AI20"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI21"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI22"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI23"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI24"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI25"
command = F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F
time = 0
[Command]
name = "AI26"
command = D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D
time = 0
[Command]
name = "AI27"
command = B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B
time = 0
[Command]
name = "AI28"
command = U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U
time = 0
[Command]
name = "AI29"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI30"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI31"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI32"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI33"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI34"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI35"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI36"
command = z,z,z,z,z,z,a,a,a,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI37"
command = z,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,z,z,z
time = 0
[Command]
name = "AI38"
command = z,z,z,z,z,a,a,a,z,z,z,z,z,a,a,a,z,z,z
time = 0
[Command]
name = "AI39"
command = z,z,z,z,z,a,a,a,z,z,z,z,z,z,a,a,z,z,z
time = 0
[Command]
name = "AI40"
command = z,z,z,z,a,a,a,z,z,z,z,a,z,z,a,a,z,z,z
time = 0
[Command]
name = "AI41"
command = z,z,z,a,z,z,z,z,z,z,z,z,z,a,a,z,z,z,z
time = 0
[Command]
name = "AI42"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI43"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,a,a,z
time = 0
[Command]
name = "AI44"
command = z,z,a,a,a,a,z,z,z,z,z,z,z,z,z,a,a,a,z
time = 0
[Command]
name = "AI45"
command = z,z,z,z,z,z,a,a,z,z,z,z,z,a,a,a,a,z,z
time = 0
[Command]
name = "AI46"
command = z,z,z,z,z,z,z,z,a,a,a,a,a,a,z,z,z,z,z
time = 0
[Command]
name = "AI47"
command = z,z,z,a,a,a,a,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI48"
command = z,z,z,z,z,a,a,a,z,z,z,a,a,a,z,z,a,z,a
time = 0
[Command]
name = "AI49"
command = z,z,z,z,a,a,a,z,z,z,z,z,a,a,a,z,z,z,z
time = 0
 
;-| Super Motions |--------------------------------------------------- 
[Command]
name = "TigerCanon_Lv.1"
command = ~D, DF, F, D, DF, x
time = 25

[Command]
name = "TigerCanon_Lv.2"
command = ~D, DF, F, D, DF, y
time = 25

[Command]
name = "TigerCanon_Lv.3"
command = ~D, DF, F, D, DF, z
time = 25

[Command]
name = "TigerCanon_Lv.1"
command = ~D, DF, F, D, DF, ~x
time = 25

[Command]
name = "TigerCanon_Lv.2"
command = ~D, DF, F, D, DF, ~y
time = 25

[Command]
name = "TigerCanon_Lv.3"
command = ~D, DF, F, D, DF, ~z
time = 25

[Command]
name = "TigerCanon"
command = ~D, DF, F, D, DF, x
time = 25

[Command]
name = "TigerCanon"
command = ~D, DF, F, D, DF, y
time = 25

[Command]
name = "TigerCanon"
command = ~D, DF, F, D, DF, z
time = 25

[Command]
name = "TigerCanon"
command = ~D, DF, F, D, DF, ~x
time = 25

[Command]
name = "TigerCanon"
command = ~D, DF, F, D, DF, ~y
time = 25

[Command]
name = "TigerCanon"
command = ~D, DF, F, D, DF, ~z
time = 25

[Command]
name = "GroundTigerCanon_Lv.1"
command = ~D, DB, B, D, DB, x
time = 25

[Command]
name = "GroundTigerCanon_Lv.2"
command = ~D, DB, B, D, DB, y
time = 25

[Command]
name = "GroundTigerCanon_Lv.3"
command = ~D, DB, B, D, DB, z
time = 25

[Command]
name = "GroundTigerCanon_Lv.1"
command = ~D, DB, B, D, DB, ~x
time = 25

[Command]
name = "GroundTigerCanon_Lv.2"
command = ~D, DB, B, D, DB, ~y
time = 25

[Command]
name = "GroundTigerCanon_Lv.3"
command = ~D, DB, B, D, DB, ~z
time = 25

[Command]
name = "GroundTigerCanon"
command = ~D, DB, B, D, DB, x
time = 25

[Command]
name = "GroundTigerCanon"
command = ~D, DB, B, D, DB, y
time = 25

[Command]
name = "GroundTigerCanon"
command = ~D, DB, B, D, DB, z
time = 25

[Command]
name = "GroundTigerCanon"
command = ~D, DB, B, D, DB, ~x
time = 25

[Command]
name = "GroundTigerCanon"
command = ~D, DB, B, D, DB, ~y
time = 25

[Command]
name = "GroundTigerCanon"
command = ~D, DB, B, D, DB, ~z
time = 25

[Command]
name = "TigerGenocide_Lv.1"
command = ~D, DF, F, D, DF, a
time = 25

[Command]
name = "TigerGenocide_Lv.2"
command = ~D, DF, F, D, DF, b
time = 25

[Command]
name = "TigerGenocide_Lv.3"
command = ~D, DF, F, D, DF, c
time = 25

[Command]
name = "TigerGenocide_Lv.1"
command = ~D, DF, F, D, DF, ~a
time = 25

[Command]
name = "TigerGenocide_Lv.2"
command = ~D, DF, F, D, DF, ~b
time = 25

[Command]
name = "TigerGenocide_Lv.3"
command = ~D, DF, F, D, DF, ~c
time = 25

[Command]
name = "TigerGenocide"
command = ~D, DF, F, D, DF, a
time = 25

[Command]
name = "TigerGenocide"
command = ~D, DF, F, D, DF, b
time = 25

[Command]
name = "TigerGenocide"
command = ~D, DF, F, D, DF, c
time = 25

[Command]
name = "TigerGenocide"
command = ~D, DF, F, D, DF, ~a
time = 25

[Command]
name = "TigerGenocide"
command = ~D, DF, F, D, DF, ~b
time = 25

[Command]
name = "TigerGenocide"
command = ~D, DF, F, D, DF, ~c
time = 25

[Command]
name = "TigerRaid_Lv.1"
command = ~D, DB, B, D, DB, a
time = 25

[Command]
name = "TigerRaid_Lv.2"
command = ~D, DB, B, D, DB, b
time = 25

[Command]
name = "TigerRaid_Lv.3"
command = ~D, DB, B, D, DB, c
time = 25

[Command]
name = "TigerRaid_Lv.1"
command = ~D, DB, B, D, DB, ~a
time = 25

[Command]
name = "TigerRaid_Lv.2"
command = ~D, DB, B, D, DB, ~b
time = 25

[Command]
name = "TigerRaid_Lv.3"
command = ~D, DB, B, D, DB, ~c
time = 25

[Command]
name = "TigerRaid"
command = ~D, DB, B, D, DB, a
time = 25

[Command]
name = "TigerRaid"
command = ~D, DB, B, D, DB, b
time = 25

[Command]
name = "TigerRaid"
command = ~D, DB, B, D, DB, c
time = 25

[Command]
name = "TigerRaid"
command = ~D, DB, B, D, DB, ~a
time = 25

[Command]
name = "TigerRaid"
command = ~D, DB, B, D, DB, ~b
time = 25

[Command]
name = "TigerRaid"
command = ~D, DB, B, D, DB, ~c
time = 25

[Command]
name = "AngryCharge"
command = ~D, DF, F, s

[Command]
name = "AngryCharge"
command = ~D, DF, F, ~s

 
;-| Special Motions |------------------------------------------------- 
[Command]
name = "TigerCrash_a"
command = ~F, D, DF, a

[Command]
name = "TigerCrash_b"
command = ~F, D, DF, b
[Command]
name = "TigerCrash_c"
command = ~F, D, DF, c

[Command]
name = "TigerCrash_a"
command = ~F, D, DF, ~a

[Command]
name = "TigerCrash_b"
command = ~F, D, DF, ~b

[Command]
name = "TigerCrash_c"
command = ~F, D, DF, ~c

[Command]
name = "TigerUppercut_x"
command = ~F, D, DF, x

[Command]
name = "TigerUppercut_y"
command = ~F, D, DF, y
[Command]
name = "TigerUppercut_z"
command = ~F, D, DF, z

[Command]
name = "TigerUppercut_x"
command = ~F, D, DF, ~x

[Command]
name = "TigerUppercut_y"
command = ~F, D, DF, ~y

[Command]
name = "TigerUppercut_z"
command = ~F, D, DF, ~z

[Command]
name = "TigerShot_x"
command = ~D, DF, F, x

[Command]
name = "TigerShot_y"
command = ~D, DF, F, y

[Command]
name = "TigerShot_z"
command = ~D, DF, F, z

[Command]
name = "TigerShot_x"
command = ~D, DF, F, ~x

[Command]
name = "TigerShot_y"
command = ~D, DF, F, ~y

[Command]
name = "TigerShot_z"
command = ~D, DF, F, ~z

[Command]
name = "TigerShot_a"
command = ~D, DF, F, a

[Command]
name = "TigerShot_b"
command = ~D, DF, F, b

[Command]
name = "TigerShot_c"
command = ~D, DF, F, c

[Command]
name = "TigerShot_a"
command = ~D, DF, F, ~a

[Command]
name = "TigerShot_b"
command = ~D, DF, F, ~b

[Command]
name = "TigerShot_c"
command = ~D, DF, F, ~c
 
;-| Double Tap |------------------------------------------------------ 
[Command]
name = "FF";Required (do not remove)
command = F, F
time = 10

[Command]
name = "BB";Required (do not remove)
command = B, B
time = 10
 
;-| 2/3 Button Combination |------------------------------------------ 
[Command]
name = "recovery_ground"
command = x+y+z
time = 1

[Command]
name = "Pow-MAX"
command = z+c
time = 1

[Command]
name = "recovery";Required (do not remove)
command = a+x
time = 1
 
;-| Dir + Button |---------------------------------------------------- 
[Command]
name = "GC_Attack"
command = /F,y+b
time = 1

[Command]
name = "GC_fwd"
command = /F,x+a
time = 1

[Command]
name = "GC_back"
command = /B,x+a
time = 1

[Command]
name = "fwd_c"
command = /F,c
time = 1

[Command]
name = "fwd_z"
command = /F,z
time = 1

[Command]
name = "back_c"
command = /B,c
time = 1

[Command]
name = "back_z"
command = /B,z
time = 1

[Command]
name = "down_y"
command = /D,y
time = 1

[Command]
name = "down_z"
command = /D,z
time = 1

[Command]
name = "charge1"
command = /c
time = 1

[Command]
name = "charge2"
command = /z
time = 1
 
;-| Single Button |--------------------------------------------------- 
[Command]
name = "x"
command = x
time = 1

[Command]
name = "a"
command = a
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "start"
command = s
time = 1

[Command]
name = "EX"
command = s
time = 1

;----------------------------- 方向
[Command]
name = "fwd"
command = F
time = 1

[Command]
name = "downfwd"
command = DF
time = 1

[Command]
name = "down"
command = D
time = 1

[Command]
name = "downback"
command = DB
time = 1

[Command]
name = "back"
command = B
time = 1

[Command]
name = "upback"
command = UB
time = 1

[Command]
name = "up"
command = U
time = 1

[Command]
name = "upfwd"
command = UF
time = 1

[Command]
name = "Not-Neutral"
command = $U
time = 1

[Command]
name = "Not-Neutral"
command = $F
time = 1

[Command]
name = "Not-Neutral"
command = $D
time = 1

[Command]
name = "Not-Neutral"
command = $B
time = 1

;----------------------------- レバガチャ
[Command]
name = "random"
command = x
time = 1

[Command]
name = "random"
command = y
time = 1

[Command]
name = "random"
command = z
time = 1

[Command]
name = "random"
command = a
time = 1

[Command]
name = "random"
command = b
time = 1

[Command]
name = "random"
command = c
time = 1

[Command]
name = "random"
command = F
time = 1

[Command]
name = "random"
command = DF
time = 1

[Command]
name = "random"
command = D
time = 1

[Command]
name = "random"
command = DB
time = 1

[Command]
name = "random"
command = B
time = 1

[Command]
name = "random"
command = UB
time = 1

[Command]
name = "random"
command = U
time = 1

[Command]
name = "random"
command = UF
time = 1
 
;-| Hold Button |----------------------------------------------------- 
[Command]
name = "hold_x"
command = /x
time = 1

[Command]
name = "hold_a"
command = /a
time = 1

[Command]
name = "hold_y"
command = /y
time = 1

[Command]
name = "hold_b"
command = /b
time = 1

[Command]
name = "hold_c"
command = /c
time = 1

[Command]
name = "hold_z"
command = /z
time = 1

[Command]
name = "hold_s"
command = /s
time = 1
 
;-| Hold Dir |-------------------------------------------------------- 
[Command]
name = "holdfwd";Required (do not remove)
command = /$F
time = 1

[Command]
name = "holdback";Required (do not remove)
command = /$B
time = 1

[Command]
name = "holdup";Required (do not remove)
command = /$U
time = 1

[Command]
name = "holddown";Required (do not remove)
command = /$D
time = 1

[Command]
name = "holdupfwd"
command = /UF
time = 1

[Command]
name = "holdupback"
command = /UB
time = 1
  
;=====================================================================
;CPU専用CNS 
;=====================================================================
	 
;---------------------------------------------------------------------------
; Walk 
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State -1, AI]
Type = ChangeState
triggerall = var(59)
trigger1 = Time = 0
Value = 0
Ctrl = 1

[State 20, 1]
type = VelSet
triggerall = !var(59)
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, 2]
type = VelSet
triggerall = !var(59)
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21

;---------------------------------------------------------------------------
; Walk(CPU)
[Statedef 19]
type    = S
physics = N
ctrl = 1
sprpriority = 0
velset = 0,0

[State -2]
Type = varset
Trigger1 = 1
fvar(29) = 60

[State 20, 1]
Type = VelSet
triggerall = Time = 0
triggerall = vel x = 0
trigger1 = P2StateType != L && Backedgebodydist < 30
trigger2 = P2StateType = L && P2BodyDist X >= 60
X = Const(Velocity.Walk.Fwd.X)

[State 20, 2]
Type = VelSet
triggerall = Time = 0
triggerall = vel x = 0
trigger1 = P2StateType != L && frontedgebodydist < 30
trigger2 = P2StateType = L && P2BodyDist X <= 60
X = Const(Velocity.Walk.Back.X)

[State 20, 3]
type = ChangeAnim
triggerall = Time = 0
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20, 4]
type = ChangeAnim
triggerall = Time = 0
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21

[State -1, AI]
Type = ChangeState
trigger1 = P2StateType != L && P2BodyDist X < 0
trigger2 = P2StateType = L && P2BodyDist X = [40,60]
trigger3 = Random > 980
trigger4 = Vel X = 0
Value = 0
Ctrl = 1
 
;---------------------------------------------------------------------
; Jump Start 
[Statedef 40]
type    = S
physics = S
ctrl = 0
sprpriority = 1
velset = 0,0

[State 4600,10]
type = ChangeState
trigger1 = Time = 0 && var(59)
value = 0
ctrl = 1

[State 120, 1]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((Var(30)>=3||var(43)&&floor(var(51)/10000%10)=1),39,40)

[State 40, 1]
type = NotHitBy
trigger1 = 1
value = SC,AT

[State 40, 2]
type = Turn
trigger1 = NumEnemy && Time = 0 && (PrevStateNo != [100,101]) && (PrevStateNo != [110,111]) && PrevStateNo != 4100
trigger1 = (enemynear,Pos X - Pos X) * facing < 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
trigger1 = PrevStateNo = [700,799]
var(36) = 1

[State 40, 1]
type = VarSet
trigger1 = Time = 0
var(32) = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
Trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
Trigger1 = command = "holdback"
sysvar(1) = -1

;------------------------ 小ジャンプ
[State 40, VarSet(12)]
type = VarSet
triggerall = var(32) = 0
trigger1 = PrevStateNo != 100 && PrevStateNo != 110 && PrevStateNo != 4100 && Command != "holdup" && (var(31) = 0 || var(31) > 0 && sysvar(1) = 0)
var(32) = ifelse((!var(43)&&var(30)<3||var(43)&&floor(var(51)/10000%10)=0),1,2)

[State 40,VelSet]
type = VelSet
trigger1 = AnimTime = 0 && var(32) = 2
x = ifelse(sysvar(1)=0,0,ifelse(sysvar(1)=1,const(velocity.jump.fwd.x),const(velocity.jump.back.x)))
y = floor(Const(velocity.jump.y)*.65)

;------------------------ 中ジャンプ
[State 40, VarSet(12)]
type = VarSet
triggerall = var(32) = 0 && Command != "holdup"
trigger1 = PrevStateNo != 100 && PrevStateNo != 110 && PrevStateNo != 4100 && var(31) > 0 && sysvar(1) != 0
trigger2 = (PrevStateNo = 100 || PrevStateNo = 110 || PrevStateNo != 4100) && sysvar(1) = 1
var(32) = ifelse((!var(43)&&var(30)<3||var(43)&&floor(var(51)/10000%10)=0),4,3)

[State 40,VelSet]
type = VelSet
trigger1 = AnimTime = 0 && var(32) = 3
x = ifelse(sysvar(1)=1,const(velocity.runjump.fwd.x),const(velocity.runjump.back.x))
y = floor(Const(velocity.jump.y)*.65)

;------------------------ 大ジャンプ
[State 40, VarSet(32)]
type = VarSet
triggerall = AnimTime = 0 && var(32) = 0
trigger1 = PrevStateNo != 100 && PrevStateNo != 110 && PrevStateNo != 4100 && Command = "holdup" && var(31) > 0
trigger2 = (PrevStateNo = 100 || PrevStateNo = 110 || PrevStateNo = 4100) && sysvar(1) = 1
var(32) = 4

[State 40,VelSet]
type = VelSet
trigger1 = AnimTime = 0 && var(32) = 4
x = ifelse(sysvar(1)=0,0,ifelse(sysvar(1)=1,const(velocity.jump.fwd.x)*1.5,const(velocity.jump.back.x)*1.5))
y = ifelse(sysvar(1)=0,const(velocity.jump.y)*1.10,const(velocity.jump.y))

;------------------------ ノーマルジャンプ
[State 40, VarSet(12)]
type = VarSet
triggerall = AnimTime = 0 && var(32) = 0
trigger1 = PrevStateNo != 100 && PrevStateNo != 110 && PrevStateNo != 4100 && Command = "holdup" && (var(31) = 0 || (var(32)!=4 && var(31)>0 && sysvar(1) = 0))
var(32) = 1

[State 40,VelSet]
type = VelSet
trigger1 = AnimTime = 0 && var(32) = 1
x = ifelse(sysvar(1)=0,0,ifelse(sysvar(1)=1,const(velocity.jump.fwd.x),const(velocity.jump.back.x)))
y = Const(velocity.jump.y)

[State 45, PlaySnd]
type = PlaySND
trigger1 = AnimTime = 0
value = 3,ifelse(var(32)>=3,1,0)

[State 3100, AfterImage]
type = AfterImage
triggerall = Var(30) = 1 || Var(30) = 2 && !fvar(8) || (Var(30) = [3,6])
trigger1 = Time = ifelse((Var(30)>=3||var(43)&&floor(var(51)/10000%10)=1),5,2) && var(32) >= 3
time = 20
length = 9
TimeGap  = 2
FrameGap = 3
palbright = 0,0,0
palcontrast = 100,100,100
palpostbright = 0,0,0
paladd = -30,-30,-30
palmul = .75,.75,.75
trans = add1

[State 3001, Super]
type = Helper
trigger1 = AnimTime = 0
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 4600,10]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------
; ノーマルジャンプ
[Statedef 39]
type    = S
physics = S
anim = ifelse((Var(30)>=3||var(43)&&floor(var(51)/10000%10)=1),39,40)
ctrl = 0
sprpriority = 1
velset = 0,0

[State 40, 1]
type = NotHitBy
Trigger1 = 1
value = SC,AT

[State 40, 2]
type = Turn
Trigger1 = NumEnemy && Time = 0 && (PrevStateNo!= [100,101]) && (PrevStateNo!= [110,111]) && PrevStateNo!= 4100
Trigger1 = (enemynear,Pos X - Pos X) * facing < 0

[State 40, 1]
type = varSet
Trigger1 = Time = 0
Trigger1 = PrevStateNo = [700,799]
var(36) = 1

[State 40, 1]
type = varSet
Trigger1 = Time = 0
var(32) = 1

[State 40, 1]
type = varSet
Trigger1 = Time = 0
sysvar(1) = 0

[State 39, 2]
type = VarSet
Trigger1 = !(EnemyNear(var(57)),HitDefAttr = SC,AT)
Trigger1 = EnemyNear(var(57)),StateType!= L || P2BodyDist X >= 30
Trigger1 = EnemyNear(var(57)),MoveType = H || Random <= 500 || EnemyNear(var(57)),StateType = L
sysvar(1) = 1

[State 39, 3]
type = VarSet
Trigger1 = !(EnemyNear(var(57)),HitDefAttr = SC,AT)
Trigger1 = EnemyNear(var(57)),StateType!= L
Trigger1 = EnemyNear(var(57)),MoveType!= H
Trigger1 = BackEdgeBodyDist>60
Trigger1 = Random <= 150
sysvar(1) = -1

[State 40,VelSet]
type = VelSet
Trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0,0,ifelse(sysvar(1)=1,const(velocity.jump.fwd.x),const(velocity.jump.back.x)))
y = Const(velocity.jump.y)

[State 45, PlaySnd]
type = PlaySND
Trigger1 = AnimTime = 0
value = 3,0

[State 3001, Super]
type = Helper
Trigger1 = AnimTime = 0
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 4600,10]
type = ChangeState
Trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------
; 大ジャンプ
[Statedef 41]
type    = S
physics = S
anim = ifelse((Var(30)>=3||var(43)&&floor(var(51)/10000%10)=1),39,40)
ctrl = 0
sprpriority = 1
velset = 0,0

[State 40, 1]
type = NotHitBy
Trigger1 = 1
value = SC,AT

[State 40, 2]
type = Turn
Trigger1 = NumEnemy && Time = 0 && (PrevStateNo!= [100,101]) && (PrevStateNo!= [110,111]) && PrevStateNo!= 4100
Trigger1 = (enemynear,Pos X - Pos X) * facing < 0

[State 40, 1]
type = varSet
Trigger1 = Time = 0
Trigger1 = PrevStateNo = [700,799]
var(36) = 1

[State 40, 1]
type = varSet
Trigger1 = Time = 0
var(32) = 4

[State 40, 1]
type = varSet
Trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = varSet
Trigger1 = EnemyNear,StateType!= L
Trigger1 = EnemyNear,MoveType = H || Random <= 800 || EnemyNear,StateType = L || P2BodyDist X > 0
Trigger2 = EnemyNear,StateNo = 5120
Trigger3 = var(30)=2&&fvar(8)
sysvar(1) = 1

[State 40, 3]
type = varSet
Trigger1 = EnemyNear,StateType!= L
Trigger1 = EnemyNear,MoveType!= H
Trigger1 = BackEdgeBodyDist>165
Trigger1 = Random <= 200
sysvar(1) = -1

[State 40,VelSet]
type = VelSet
Trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0,0,ifelse(sysvar(1)=1,const(velocity.jump.fwd.x)*1.5,const(velocity.jump.back.x)*1.5))
y = ifelse(sysvar(1)=0,const(velocity.jump.y)*1.10,const(velocity.jump.y))

[State 45, PlaySnd]
type = PlaySND
Trigger1 = AnimTime = 0
value = 3,1

[State 3100, AfterImage]
type = AfterImage
TriggerAll = var(30) = 1 || var(30) = 2 && !fvar(8) || (var(30) = [3,6])
Trigger1 = AnimTime = 0 && var(32) >= 3
time = 20
length = 9
TimeGap  = 2
FrameGap = 3
palbright = 0,0,0
palcontrast = 100,100,100
palpostbright = 0,0,0
paladd = -30,-30,-30
palmul = .75,.75,.75
trans = add1

[State 3001, Super]
type = Helper
Trigger1 = AnimTime = 0
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 4600,10]
type = ChangeState
Trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------
; 小ジャンプ
[Statedef 42]
type    = S
physics = S
anim = 39
ctrl = 0
sprpriority = 1
velset = 0,0

[State 40, 1]
type = NotHitBy
Trigger1 = 1
value = SC,AT

[State 40, 2]
type = Turn
Trigger1 = NumEnemy && Time = 0 && (PrevStateNo!= [100,101]) && (PrevStateNo!= [110,111]) && PrevStateNo!= 4100
Trigger1 = (enemynear,Pos X - Pos X) * facing < 0

[State 40, 1]
type = varSet
Trigger1 = Time = 0
Trigger1 = PrevStateNo = [700,799]
var(36) = 1

[State 40, 1]
type = varSet
Trigger1 = Time = 0
var(32) = 2

[State 40, 1]
type = varSet
Trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = varSet
Trigger1 = EnemyNear(var(57)),StateType!= L
Trigger1 = EnemyNear(var(57)),MoveType = H || Random <= 800 || EnemyNear(var(57)),StateType = L || EnemyNear(var(57)),StateType= C
Trigger2 = EnemyNear(var(57)),StateNo = 5120
sysvar(1) = 1

[State 40, 3]
type = varSet
Trigger1 = EnemyNear(var(57)),StateType!= L
Trigger1 = EnemyNear(var(57)),MoveType!= H
Trigger1 = BackEdgeBodyDist>60
Trigger1 = Random <= 200
sysvar(1) = -1

[State 40,VelSet]
type = VelSet
Trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0,0,ifelse(sysvar(1)=1,const(velocity.jump.fwd.x),const(velocity.jump.back.x)))
y = floor(Const(velocity.jump.y)*.65)

[State 45, PlaySnd]
type = PlaySND
Trigger1 = AnimTime = 0
value = 3,0

[State 3001, Super]
type = Helper
Trigger1 = AnimTime = 0
id = 8020
name = "jump Effect"
pos =0,0
postype = P1
stateno = 8020
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 4600,10]
type = ChangeState
Trigger1 = AnimTime = 0
value = 50
ctrl = 1
 
;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling) 
[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > -1
triggerall = Pos Y < -25
triggerall = alive
triggerall = CanRecover
Trigger1 = !var(59) && command = "recovery"
Trigger2 = var(59) && Random <= var(58)*100
value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE
 
;---------------------------------------------------------------------------
; GUARD 
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; GUARD (start)
[Statedef 120]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged

[State 120, 1]
type = ChangeAnim
Trigger1 = Time = 0 && anim!= 120+var(29)*10000
value = 120+var(29)*10000 + (statetype = C) + (statetype = A)*2

[State 120, 2]
type = StateTypeSet
Trigger1 = Time = 0 && statetype = S
physics = S

[State 120, 3]
type = StateTypeSet
Trigger1 = Time = 0 && statetype = C
physics = C

[State 120, 4]
type = StateTypeSet
Trigger1 = Time = 0 && statetype = A
physics = A

[State 120, Hi to Lo]
type = StateTypeSet
TriggerAll=Statetype = S
Trigger1 = !var(59) && !fvar(30)
Trigger1 = command = "holddown"
Trigger2 = var(59)
Trigger2 = EnemyNear,StateType!=A
;Trigger2 = Random <= var(58)*20||var(58)>9
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
TriggerAll=Statetype = C
Trigger1 = !var(59) && !fvar(30)
Trigger1 = command!= "holddown"
Trigger2 = var(59)
Trigger2 = EnemyNear,StateType=A
;Trigger2 = Random <= var(58)*20||var(58)>9
statetype = S
physics = S

[State 120, 5]
type = ChangeState
Trigger1 = AnimTime = 0
value = 130 + (statetype = C) + (statetype = A)*2

[State 120, Stop Guarding]
type = ChangeState
Trigger1 = !var(59) && !fvar(30)
Trigger1 = command!= "holdback"
Trigger2 = !inguarddist
Trigger3 = var(59) && var(58)=[1,9]
Trigger3 = P2BodyDist X<0
Trigger3 = Random <= (10-var(58))*40
value = 140
	 
;---------------------------------------------------------------------------
; STAND GUARD (guarding) 
[Statedef 130]
type    = S
physics = S

[State 130, 1]
type = ChangeAnim
Trigger1 = Anim!= 130
value = 130

[State 130, Hi to Lo]
type = ChangeState
TriggerAll = Time > 0
Trigger1 = !var(59)
Trigger1 = command = "holddown"
Trigger2 = var(59)
Trigger2 = EnemyNear,StateType!=A
Trigger2 = Random <= var(58)*20||var(58)>9
value = 131

[State 130, Stop Guarding]
type = ChangeState
Trigger1 = !var(59)
Trigger1 = command!= "holdback"
Trigger2 = !inguarddist
Trigger3 = var(59) && var(58)=[1,9]
Trigger3 = P2BodyDist X<0
Trigger3 = Random <= (10-var(58))*40
value = 140

;---------------------------------------------------------------------------
; CROUCH GUARD (guarding)
[Statedef 131]
type    = C
physics = C

[State 131, 1]
type = ChangeAnim
Trigger1 = Anim!= 131
value = 131

[State 131, Lo to Hi]
type = ChangeState
TriggerAll = Time > 0
Trigger1 = !var(59)
Trigger1 = command!= "holddown"
Trigger2 = var(59)
Trigger2 = EnemyNear,StateType=A
Trigger2 = Random <= var(58)*20||var(58)>9
value = 130

[State 131, Stop Guarding]
type = ChangeState
Trigger1 = !var(59)
Trigger1 = command!= "holdback"
Trigger2 = !inguarddist
Trigger3 = var(59) && var(58)=[1,9]
Trigger3 = P2BodyDist X<0
Trigger3 = Random <= (10-var(58))*40
value = 140

;---------------------------------------------------------------------------
; AIR GUARD (guarding)
[Statedef 132]
type    = A
physics = N

[State 132, 1]
type = ChangeAnim
Trigger1 = Anim!= 132
value = 132

[State 132, 2]
type = VelAdd
Trigger1 = 1
y = Const(movement.yaccel)

[State 132, 3]
type = varSet
Trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 132, 4]
type = VelSet
Trigger1 = sysvar(0)
y = 0

[State 132, 5]
type = PosSet
Trigger1 = sysvar(0)
y = 0

[State 132, 6]
type = ChangeState
Trigger1   = command = "holdback"
Trigger2   = var(59)
TriggerAll = sysvar(0) && inguarddist
value = 130

[State 132, 7]
type = ChangeState
Trigger1 = sysvar(0)
value = 52

[State 132, Stop Guarding]
type = ChangeState
Trigger1 = !var(59)
Trigger1 = command!= "holdback"
Trigger2 = !inguarddist
Trigger3 = var(59) && var(58)=[1,9]
Trigger3 = P2BodyDist X<0
Trigger3 = Random <= (10-var(58))*40
value = 140

 
;---------------------------------------------------------------------------
; GUARD (end) 
[Statedef 140]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged
ctrl = 1

[State 140, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 140 + (statetype = C) + (statetype = A)*2

[State 140, 2]
type = StateTypeSet
Trigger1 = Time = 0 && statetype = S
physics = S

[State 140, 3]
type = StateTypeSet
Trigger1 = Time = 0 && statetype = C
physics = C

[State 140, 4]
type = StateTypeSet
Trigger1 = Time = 0 && statetype = A
physics = A

[State 140, Hi to Lo]
type = StateTypeSet
TriggerAll=Statetype = S
Trigger1 = !var(59)
Trigger1 = command = "holddown"
Trigger2 = var(59)
Trigger2 = EnemyNear,StateType!=A
Trigger2 = Random <= var(58)*20||var(58)>9
statetype = C
physics = C

[State 140, Lo to Hi]
type = StateTypeSet
TriggerAll=Statetype = C
Trigger1 = !var(59)
Trigger1 = command!= "holddown"
Trigger2 = var(59)
Trigger2 = EnemyNear,StateType=A
Trigger2 = Random <= var(58)*20||var(58)>9
statetype = S
physics = S
 
;---------------------------------------------------------------------------
; SGUARDHIT (shaking) 
[Statedef 150]
type    = S
movetype= H
physics = N
velset = 0,0

[State 150, 1]
type = ChangeAnim
Trigger1 = 1
value = 150

[State 150, 2]
type = ChangeState
Trigger1 = HitShakeOver
value = 151 + 2*ifelse(!var(59),(command = "holddown"),(EnemyNear,StateType!=A))

[State 150, Hi to Lo]
type = StateTypeSet
TriggerAll=Statetype = S
Trigger1 = !var(59)
Trigger1 = command = "holddown"
Trigger2 = var(59)
Trigger2 = EnemyNear,StateType!=A
Trigger2 = Random <= var(58)*20||var(58)>9
statetype = C
physics = C

[State 150, Lo to Hi]
type = StateTypeSet
TriggerAll=Statetype = C
Trigger1 = !var(59)
Trigger1 = command!= "holddown"
Trigger2 = var(59)
Trigger2 = EnemyNear,StateType=A
Trigger2 = Random <= var(58)*20||var(58)>9
statetype = S
physics = S

[State 150, 3]
type = ForceFeedback
Trigger1 = time = 0
waveform = square
time = 3

;---------------------------------------------------------------------------
; CGUARDHIT (shaking)
[Statedef 152]
type    = C
movetype= H
physics = N
velset = 0,0

[State 152, 1]
type = ChangeAnim
Trigger1 = 1
value = 151

[State 152, 3]
type = ChangeState
Trigger1 = HitShakeOver
value = 151 + 2*ifelse(!var(59),(command = "holddown"),(EnemyNear,StateType!=A))

[State 152, Hi to Lo]
type = StateTypeSet
TriggerAll=Statetype = S
Trigger1 = !var(59)
Trigger1 = command = "holddown"
Trigger2 = var(59)
Trigger2 = EnemyNear,StateType!=A
Trigger2 = Random <= var(58)*20||var(58)>9
statetype = C
physics = C

[State 152, Lo to Hi]
type = StateTypeSet
TriggerAll=Statetype = C
Trigger1 = !var(59)
Trigger1 = command!= "holddown"
Trigger2 = var(59)
Trigger2 = EnemyNear,StateType=A
Trigger2 = Random <= var(58)*20||var(58)>9
statetype = S
physics = S

[State 152, 4]
type = ForceFeedback
Trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; AGUARDHIT (shaking)
[Statedef 154]
type    = A
movetype= H
physics = N
velset = 0,0

[State 154, 1]
type = ChangeAnim
Trigger1 = 1
value = 152

[State 154, 2]
type = ChangeState
Trigger1 = HitShakeOver
value = 155

[State 154, 3]
type = ForceFeedback
Trigger1 = time = 0
waveform = square
time = 4
 
;---------------------------------------------------------------------------
; SGUARDHIT2 (knocked back) 
[Statedef 151]
type    = S
movetype= H
physics = S
anim = 150+(P1name = "cvsiori"&&var(29))*10000

[State -3, 1]
type = varSet
Trigger1 = Time = 0
var(37) = 0

[State 151, 1]
type = HitVelSet
Trigger1 = PrevStateNo!=4400
Trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
Trigger1 = PrevStateNo=4400
Trigger1 = Time = 0
x = 0

[State 151, 2]
type = VelSet
Trigger1 = Time = GetHitvar(slidetime)
Trigger2 = HitOver
x = 0

[State 151, 3]
type = CtrlSet
Trigger1 = Time = GetHitvar(ctrltime)-(PrevStateNo=4400)*3
value = 1

[State 151, Hi to Lo]
type = StateTypeSet
TriggerAll = PrevStateNo!=4400
TriggerAll=Statetype = S
Trigger1 = !var(59)
Trigger1 = command = "holddown"
Trigger2 = var(59)
Trigger2 = EnemyNear,StateType!=A
Trigger2 = Random <= var(58)*20||var(58)>9
statetype = C
physics = C

[State 151, Lo to Hi]
type = StateTypeSet
TriggerAll = PrevStateNo!=4400
TriggerAll=Statetype = C
Trigger1 = !var(59)
Trigger1 = command!= "holddown"
Trigger2 = var(59)
Trigger2 = EnemyNear,StateType=A
Trigger2 = Random <= var(58)*20||var(58)>9
statetype = S
physics = S

[State 151, 4]
type = ChangeState
Trigger1 = PrevStateNo=4400
Trigger1 = Time = GetHitvar(ctrltime)-(PrevStateNo=4400)*3
Trigger2 = HitOver
value = 130
ctrl = 1

;---------------------------------------------------------------------------
; CGUARDHIT2 (knocked back)
[Statedef 153]
type    = C
movetype= H
physics = C
anim = 151+(P1name = "cvsiori"&&var(29))*10000

[State -3, 1]
type = varSet
Trigger1 = Time = 0
var(37) = 0

[State 153, 1]
type = HitVelSet
Trigger1 = PrevStateNo!=4402
Trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
Trigger1 = PrevStateNo=4402
Trigger1 = Time = 0
x = 0

[State 153, 2]
type = VelSet
Trigger1 = Time = GetHitvar(slidetime)
Trigger2 = HitOver
x = 0

[State 153, 3]
type = CtrlSet
Trigger1 = Time = GetHitvar(ctrltime)-(PrevStateNo=4402)*3
value = 1

[State 153, Hi to Lo]
type = StateTypeSet
TriggerAll = PrevStateNo!=4402
TriggerAll=Statetype = S
Trigger1 = !var(59)
Trigger1 = command = "holddown"
Trigger2 = var(59)
Trigger2 = EnemyNear,StateType!=A
Trigger2 = Random <= var(58)*20||var(58)>9
statetype = C
physics = C

[State 153, Lo to Hi]
type = StateTypeSet
TriggerAll = PrevStateNo!=4402
TriggerAll=Statetype = C
Trigger1 = !var(59)
Trigger1 = command!= "holddown"
Trigger2 = var(59)
Trigger2 = EnemyNear,StateType=A
Trigger2 = Random <= var(58)*20||var(58)>9
statetype = S
physics = S

[State 153, 4]
type = ChangeState
Trigger1 = PrevStateNo=4402
Trigger1 = Time = GetHitvar(ctrltime)-(PrevStateNo=4402)*3
Trigger2 = HitOver
value = 131
ctrl = 1

;---------------------------------------------------------------------------
; AGUARDHIT2 (knocked away)
[Statedef 155]
type    = A
movetype= H
physics = N
anim = 152

[State 155, 1]
type = HitVelSet
Trigger1 = Time = 0
x = 1
y = 1

[State 155, 2]
type = VelAdd
Trigger1 = 1
y = Const(movement.yaccel)

[State 155, 3]
type = CtrlSet
Trigger1 = Time = GetHitvar(ctrltime)
value = 1

[State 155, 4]
type = varSet
Trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 155, 5]
type = VelSet
Trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = PosSet
Trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = ChangeState
Trigger1   = command = "holdback"
Trigger2   = var(59)
TriggerAll = sysvar(0) && inguarddist
value = 130

[State 155, 7]
type = ChangeState
Trigger1 = sysvar(0)
value = 52
  
;-----------------------------------------------------------------
; ラン 
[Statedef 100]
type    = S
movetype = I
physics = N
ctrl = 0
VelSet = 0,0

[State -2]
Type = varset
Trigger1 = 1
fvar(29) = 60

[State 100,ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
value = 100

[State 100,VelSet]
type = VelSet
Trigger1 = AnimElem = 2,= 0
x = Const(velocity.run.fwd.x)

[State 100,ChangeState]
type = ChangeState
triggerall = Time >= 10
triggerall = var(59)
trigger1 = RoundState != 2
trigger2 = inguarddist && Random<250 || Facing!=EnemyNear(var(57)),Facing && P2BodyDist X <= 130 && EnemyNear(var(57)),MoveType!=H && (EnemyNear(var(57)),ctrl || EnemyNear(var(57)),StateNo=5120)
trigger3 = P2BodyDist X <= 40 && (EnemyNear(var(57)),statetype=L || P2BodyDist X <= 5 || (EnemyNear(var(57)),StateNo=[5200,5210]))
value = 101
ctrl = 1

[State 100,ChangeState]
type = ChangeState
triggerall = Time >= 10
trigger1 = !var(59)
trigger1 = Command != "holdfwd"
value = 101
ctrl = 1

[State 100, jump]
type=changestate
trigger1 = !var(59)
trigger1 = Command = "holdupfwd"
trigger2= var(59) && Random<25
trigger2= EnemyNear(var(57)),MoveType!=H && EnemyNear(var(57)),MoveType!=A
trigger2= p2bodydist x >= 150
value=40

[State 100,PlaySnd]
type = PlaySnd
Trigger1 = Time = 0
value = 3, 2
channel = 5

[State 100,PlaySnd]
type = PlaySnd
Trigger1 = AnimElem = 4,=1
value = 3, 3
channel = 5

[State 100,PlaySnd]
type = PlaySnd
Trigger1 = AnimElem = 7,=1
value = 3, 4
channel = 5

[State 100,AssertSpecial]
type = AssertSpecial
Trigger1 = 1
flag = NoWalk
 
;-------------------------------------------------------------------
; ゲージ溜め動作 
[Statedef 4100]
type = S
movetype = I
physics = N
ctrl = 0
anim = 4100
velset = 0, 0

[State 4100,varadd]
type = varadd
Trigger1 = Time < 20
fvar(37) = .25

[State 4100,varadd]
type = varadd
Trigger1 = Time >= 20
fvar(37) = 1

[State 4100,Poweradd]
type = Poweradd
trigger1 = Time < 20
value = 4

[State 4100,Poweradd]
type = Poweradd
trigger1 = Time >= 20
value = 15

[State 4100, Super]
type = Helper
Trigger1 = Time = 0 && NumHelper(8500) = 0
persistent = 0
id = 8500
name = "Power"
pos = 0,0
postype = P1
stateno = 8500
helpertype = normal
keyctrl = 0
ownpal = 1

[State 4100,ChangeState(CPU)]
type = ChangeState
TriggerAll = var(59)
Trigger1 = InGuardDist
Trigger2 = EnemyNear(var(57)),MoveType!= H
Trigger2 = P2BodyDist X = [-100,100]
Trigger2 = P2BodyDist Y >= -160-EnemyNear(var(57)),vel y*8
Trigger3 = EnemyNear(var(57)),MoveType!= H && EnemyNear(var(57)),Vel X > 0
value = 4101
ctrl = 0

[State 4100,ChangeState]
type = ChangeState
Trigger1 = !var(59)
Trigger1 = Command!= "charge1" || Command!= "charge2"
Trigger2 = fvar(37) >= 100 && var(30)=4
trigger3 = var(43)&&floor(var(50)/10000000%10)=1 && Power >= 3000
value = 4101
ctrl = 0
 
;-------------------------------------------------------------------
; AI起動ヘルパー 
[Statedef 10000]
anim=20000
ctrl=0

[State 10000,間違いで本体が来たら立ちへ移行]
type=selfstate
Trigger1=!ishelper
value=0

[State 10000,プレイヤー判定]
type=varset
Trigger1=command="up"&&root,command="up"
Trigger2=command="down"&&root,command="down"
Trigger3=command="back"&&root,command="back"
Trigger4=command="fwd"&&root,command="fwd"
Trigger5=command="a"&&root,command="a"
Trigger6=command="b"&&root,command="b"
Trigger7=command="c"&&root,command="c"
Trigger8=command="x"&&root,command="x"
Trigger9=command="y"&&root,command="y"
Trigger10=command="z"&&root,command="z"
Trigger11=command="start"&&root,command="start"
var(59)=-1

[State 10000,立ったら消失]
Type = DestroySelf
TriggerAll = isHelper
Trigger1 = root,var(59)||var(59)=-1
Trigger2=command="up"&&root,command="up"
Trigger3=command="down"&&root,command="down"
Trigger4=command="back"&&root,command="back"
Trigger5=command="fwd"&&root,command="fwd"
Trigger6=command="a"&&root,command="a"
Trigger7=command="b"&&root,command="b"
Trigger8=command="c"&&root,command="c"
Trigger9=command="x"&&root,command="x"
Trigger10=command="y"&&root,command="y"
Trigger11=command="z"&&root,command="z"
Trigger12=command="start"&&root,command="start"

[State 10000,ﾌﾗｸﾞON]
type=varset
TriggerAll=var(59)!=-1
Trigger1=root,command="up"
Trigger2=root,command="down"
Trigger3=root,command="back"
Trigger4=root,command="fwd"
Trigger5=root,command="a"
Trigger6=root,command="b"
Trigger7=root,command="c"
Trigger8=root,command="x"
Trigger9=root,command="y"
Trigger10=root,command="z"
Trigger11=root,command="start"
var(59)=1
  
;=====================================================================
; State Entry for Commands 
;=====================================================================
[Statedef -1]
	 
;=====================================================================
; キャンセル設定 
;=====================================================================

;---------------------------------------------------------------------
[State -1,キャンセル設定リセット]
type       = varset
trigger1   = var(22)
var(22)    = 0

;---------------------------------------------------------------------
[State -1,Lv.2スパコンキャンセル]
type       = varset
triggerall = RoundState = 2
triggerall = !var(22)
triggerall = Var(30) = 1 && var(36) = 1
trigger1   = (ProjHitTime(3050)=[1,18])&& (StateNo = 3010 || StateNo = 3040)
trigger2   = MoveHit && StateNo = [3210,3219]
trigger3   = MoveHit && StateNo = 3110
trigger4   = var(15) = 1 && StateNo = 3101
trigger5   = var(15) = 1 && StateNo = 3230
var(22)    = -1
ignorehitpause = 1

;------------------------
[State -1,スパコンキャンセル（EXグルーヴ）]
type       = varset
triggerall = RoundState = 2
triggerall = !var(22)
triggerall = MoveHit || ProjHit=1
TriggerAll = var(43)&&floor(var(50)/100000%10)=1 || var(30)=3&&floor(var(52)/100%10)=1 || var(30)=4 && floor(var(52)/10%10)=1 && fvar(8)=-1
trigger1   = (StateNo = [1000,1999])|| StateNo = 4505
var(22)    = -2
ignorehitpause = 1

;------------------------
[State -1,空振りキャンセル]
type       = varset
triggerall = RoundState = 2
triggerall = !var(22)
triggerall = !movecontact
triggerall = time < 4 || var(47)
trigger1   = (StateNo = [200,799])
var(22)    = 1
ignorehitpause = 1

;------------------------
[State -1,必殺技キャンセル]
type       = varset
triggerall = RoundState = 2
triggerall = !var(22)
triggerall = MoveContact
trigger1   = StateNo = 200 || StateNo = 210 || StateNo = 225 && AnimElem = 4,<0
trigger2   = (StateNo = 230 || StateNo = 240 || StateNo = 250) && AnimElem = 4,<0
trigger3   = StateNo = 400 || StateNo = 410 || StateNo = 430 || StateNo = 440
trigger4   = StateNo = 52
trigger5   = (StateNo = [200,699]) && var(43)&&floor(var(50)/1000000%10)=1
var(22)    = 2
ignorehitpause = 1

;------------------------
[State -1,SC・超必キャンセル]
type       = varset
triggerall = RoundState = 2
triggerall = !var(22)
triggerall = MoveContact
trigger1   = StateNo = 220 || StateNo = 225 || StateNo = 230 || StateNo = 420 || StateNo = 450
trigger2   = StateNo = 52
var(22)    = 3
ignorehitpause = 1

;------------------------
[State -1,オリジナルコンボ（必殺技）]
type       = varset
triggerall = RoundState = 2
triggerall = !var(22)
triggerall = var(47)
triggerall = StateNo != [1100,1129]
triggerall = StateNo != [1200,1229]
trigger1   = MoveContact && (StateNo = [1000,1999])
trigger2   = var(15) = 1 && (StateNo = 1130 || StateNo = 1230)
var(22)    = 4
ignorehitpause = 1

;------------------------
[State -1,オリジナルコンボ（通常技）]
type       = varset
triggerall = RoundState = 2
triggerall = !var(22)
triggerall = var(47)
trigger1   = StateNo = [200,799]
var(22)    = 5
ignorehitpause = 1
 
;=====================================================================
; スーパーコンボor超必殺技発動条件 
;=====================================================================
[State -1,Lv.3発動条件OFF]
type       = VarAdd
triggerall = RoundState = 2
triggerall = floor(var(40)/100%10) = 1
trigger1   = var(30)=1 && Power < 3000
trigger2   = var(30)=3 && Power < 3000
trigger3   = var(30)=4 && (Fvar(8) ^^ (100*life/const(data.life))<=30)
trigger4   = var(30)=5 && (Power >= 1000 ^^ Fvar(8))
trigger5   = var(30)=6 && !Fvar(8)
var(40)    = -100
ignorehitpause = 1

[State -1,Lv.3発動条件ON]
type       = VarAdd
triggerall = RoundState = 2
triggerall = floor(var(40)/100%10) = 0
trigger1   = var(30)=1 && Power >= 3000
trigger2   = var(30)=3 && Power >= 3000
trigger3   = var(30)=4 && (Fvar(8) && (100*life/const(data.life))<=30)
trigger4   = var(30)=5 && Power >= 1000 && Fvar(8)
trigger5   = var(30)=6 && Fvar(8)
var(40)    = 100
ignorehitpause = 1

[State -1,Lv.2発動条件OFF]
type       = VarAdd
triggerall = RoundState = 2
triggerall = floor(var(40)/10%10) = 1
trigger1   = var(30)=1 && Power < 2000
var(40)    = -10
ignorehitpause = 1

[State -1,Lv.2発動条件ON]
type       = VarAdd
triggerall = RoundState = 2
triggerall = floor(var(40)/10%10) = 0
trigger1   = var(30)=1 && Power >= 2000
var(40)    = 10
ignorehitpause = 1

[State -1,Lv.1発動条件OFF]
type       = VarAdd
triggerall = RoundState = 2
triggerall = floor(var(40)%10) = 1
trigger1   = var(30)=1 && Power < 1000
trigger2   = var(30)=2 && !Fvar(8) && Power < 1500
trigger3   = var(30)=4 && (!Fvar(8) && (100*life/const(data.life))>30 || Fvar(8) && (100*life/const(data.life))<=30)
trigger4   = var(30)=5 && (!Fvar(8) && Power < 1000 || Fvar(8) && Power >= 1000)
var(40)    = -1
ignorehitpause = 1

[State -1,Lv.1発動条件ON]
type       = VarAdd
triggerall = RoundState = 2
triggerall = floor(var(40)%10) = 0
trigger1   = var(30)=1 && Power >= 1000
trigger2   = var(30)=2 && (Fvar(8) || Power >= 1500)
trigger3   = var(30)=4 && (Fvar(8) ^^ (100*life/const(data.life))<=30)
trigger4   = var(30)=5 && (Fvar(8) ^^ Power >= 1000)
var(40)    = 1
ignorehitpause = 1
 
;=====================================================================
; リバーサル 
;=====================================================================

;---------------------------------------------------------------------
[State -1,タイガーキャノン]
type     = varset
trigger1 = !var(0) && Command="TigerCanon"
var(0)   = IfElse((Command="TigerCanon_Lv.3"),1300,IfElse((Command="TigerCanon_Lv.2"),1200,1100))

[State -1,グランドタイガーキャノン]
type     = varset
trigger1 = !var(0) && Command="TigerCanon"
var(0)   = IfElse((Command="TigerCanon_Lv.3"),2300,IfElse((Command="TigerCanon_Lv.2"),2200,2100))

[State -1,タイガージェノサイド]
type     = varset
trigger1 = !var(0) && Command="TigerGenocide"
var(0)   = IfElse((Command="TigerGenocide_Lv.3"),4300,IfElse((Command="TigerGenocide_Lv.2"),4200,4100))

[State -1,タイガーレイド]
type     = varset
trigger1 = !var(0) && Command="TigerRaid"
var(0)   = IfElse((Command="TigerRaid_Lv.3"),3300,IfElse((Command="TigerRaid_Lv.2"),3200,3100))

[State -1,アングリーチャージ]
type     = varset
trigger1 = !var(0) && Command = "AngryCharge"
var(0)   = 5000

[State -1,タイガークラッシュ]
type     = varset
trigger1 = !var(0) && (Command="TigerCrash_a"||Command="TigerCrash_b"||Command="TigerCrash_c")
var(0)   = IfElse((Command="TigerCrash_c"),33,IfElse((Command="TigerCrash_b"),32,31))

[State -1,タイガーアッパーカット]
type     = varset
trigger1 = !var(0) && (Command="TigerUppercut_x"||Command="TigerUppercut_y"||Command="TigerUppercut_z")
var(0)   = IfElse((Command="TigerUppercut_z"),23,IfElse((Command="TigerUppercut_y"),22,21))

[State -1,タイガーショット]
type     = varset
trigger1 = !var(0) && (Command="TigerShot_x"||Command="TigerShot_y"||Command="TigerShot_z")
var(0)   = IfElse((Command="TigerShot_z"),13,IfElse((Command="TigerShot_y"),12,11))

[State -1,グランドタイガーショット]
type     = varset
trigger1 = !var(0) && (Command="TigerShot_a"||Command="TigerShot_b"||Command="TigerShot_c")
var(0)   = IfElse((Command="TigerShot_c"),16,IfElse((Command="TigerShot_b"),15,14))

;---------------------------------------------------------------------
[State -1]
type     = varset
trigger1 = var(0) && !var(1)
var(1)   = 10

[State -1]
type     = varadd
trigger1 = var(1) > 0
var(1)   = -1

[State -1]
type     = varset
trigger1 = var(0) && !var(1)
var(0)   = 0
 
;=====================================================================
; AI動作 
;=====================================================================

;---------------------------------------------------------------------
[State -1, AI起動用ヘルパー]
type=helper
Trigger1=!NumHelper(10000)
Trigger1=roundstate=2
Trigger1=alive
Trigger1=var(59)=0
Trigger1=PrevStateNo=5900||PrevStateNo=190
Trigger1=ctrl&&stateno=0
helpertype=normal
name="AI"
stateno=10000
ID=10000
pos=9999,9999
keyctrl=1
pausemovetime=2147483647
supermovetime=2147483647
persistent = 0

[State -1, 関係無いステートに行かないように]
type=changestate
Trigger1= ishelper(10000)
Trigger1= stateno!=10000
value=10000

[State -1,AIフラグセット]
type = varset
TriggerAll = !var(59)
TriggerAll = RoundState = [1,2]
Trigger1 = Command = "AI0"
Trigger2 = Command = "AI1"
Trigger3 = Command = "AI2"
Trigger4 = Command = "AI3"
Trigger5 = Command = "AI4"
Trigger6 = Command = "AI5"
Trigger7 = Command = "AI6"
Trigger8 = Command = "AI7"
Trigger9 = Command = "AI8"
Trigger10 = Command = "AI9"
Trigger11 = Command = "AI10"
Trigger12 = Command = "AI11"
Trigger13 = Command = "AI12"
Trigger14 = Command = "AI13"
Trigger15 = Command = "AI14"
Trigger16 = Command = "AI15"
Trigger17 = Command = "AI16"
Trigger18 = Command = "AI17"
Trigger19 = Command = "AI18"
Trigger20 = Command = "AI19"
Trigger21 = Command = "AI20"
Trigger22 = Command = "AI21"
Trigger23 = Command = "AI22"
Trigger24 = Command = "AI23"
Trigger25 = Command = "AI24"
Trigger26 = Command = "AI25"
Trigger27 = Command = "AI26"
Trigger28 = Command = "AI27"
Trigger29 = Command = "AI28"
Trigger30 = Command = "AI29"
Trigger31 = Command = "AI30"
Trigger32 = Command = "AI31"
Trigger33 = Command = "AI32"
Trigger34 = Command = "AI33"
Trigger35 = Command = "AI34"
Trigger36 = Command = "AI35"
Trigger37 = Command = "AI36"
Trigger38 = Command = "AI37"
Trigger39 = Command = "AI38"
Trigger40 = Command = "AI39"
Trigger41 = Command = "AI40"
Trigger42 = Command = "AI41"
Trigger43 = Command = "AI42"
Trigger44 = Command = "AI43"
Trigger45 = Command = "AI44"
Trigger46 = Command = "AI45"
Trigger47 = Command = "AI46"
Trigger48 = Command = "AI47"
Trigger49 = Command = "AI48"
Trigger50 = Command = "AI49"
Trigger51 = NumHelper(10000)
Trigger51 = Helper(10000),var(59)
;Trigger52 = 1
var(59) = var(58)
	 
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; CPU専用 
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;飛び込みはジャンプ強キック主体
;[基本コンボ]
;@屈み弱キック→立ち弱パンチ ┬→ （近距離）強タイガーアッパーカット（タイガーレイド）
;                             └→ （遠距離）中タイガークラッシュ（タイガーレイド）
;A立ち弱パンチ → 立ち弱パンチ → 強タイガーアッパーカット（タイガーレイド）
;B近距離立ち強パンチ → 強タイガーアッパーカット
;C遠距離立ち強パンチ → タイガーキャノン
;D屈み強パンチ ┬→ グランドタイガーキャノン
;　屈み中キック ┘
;
;[起き攻め]連携技
;E屈み強パンチ → 立ち中パンチ → グランドタイガーショット

;〆はダメ安定なタイガーキャノン
;[オリジナルコンボ]
;F（画面中央）中タイガーアッパーカット → 近距離立ち強パンチ → 回り込み →中タイガーあｐｐ（ｒｙ
;G（画面端）　強タイガーアッパーカット → 強タイガーあｐｐ（ｒｙ
;H 屈み強キック → 立ち強キック（1段目） → Fへ

[State -3,リセット]
Type = varset
triggerall = var(59)
Trigger1 = EnemyNear(var(57)),MoveType != H
var(56) = 0

[State -3,コンボルート【オリコン】]
Type = varset
triggerall = var(59)
Trigger1 = var(56) = 0 && !Var(47)
Trigger1 = MoveContact=1 && StateNo = 1120
var(56) = 100
IgnoreHitPause = 1

[State -3,コンボルート【オリコン】]
Type = varset
triggerall = var(59)
Trigger1 = var(56) = 0 && Var(47)
Trigger1 = MoveContact=1 && StateNo = 1120
var(56) = 110
IgnoreHitPause = 1

[State -3,コンボルート@]
Type = varset
triggerall = var(59)
Trigger1 = var(56) = 0 && !Var(47)
Trigger1 = MoveContact=1 && StateNo = 430
var(56) = 10
IgnoreHitPause = 1

[State -3,コンボルートA]
Type = varset
triggerall = var(59)
Trigger1 = var(56) = 0 && !Var(47)
Trigger1 = MoveContact=1 && StateNo = 200
var(56) = 20
IgnoreHitPause = 1

[State -3,コンボルートE]
Type = varset
triggerall = var(59)
Trigger1 = var(56) = 0 && !Var(47)
Trigger1 = MoveContact=1 && StateNo = 420
var(56) = 30
IgnoreHitPause = 1

;------------------------------------------------------------------------------
;相手Y方向加速値保存（ＡＩ用）
[State -2,相手Y方向加速値保存1]
Type = varset
triggerall = var(59)
Trigger1 = P2StateNo!= [5000,5210]
Trigger1 = EnemyNear(var(57)),vel y!= 0
fvar(28)  = EnemyNear(var(57)),Const(MoveMent.Yaccel)
IgnoreHitPause = 1

[State -2,相手Y方向加速値保存2]
Type = varset
triggerall = var(59)
Trigger1 = P2StateNo = [5000,5210]
Trigger1 = EnemyNear(var(57)),vel y!= 0
fvar(28)  = EnemyNear(var(57)),GetHitVar(yaccel)
IgnoreHitPause = 1

[State -2,相手Y方向加速値保存3]
Type = varset
triggerall = var(59)
Trigger1 = EnemyNear(var(57)),vel y = 0
fvar(28) = 0
IgnoreHitPause = 1

;------------------------------------------------------------------------------
[State -1,反応速度]
type = VarRandom
triggerall = var(59)
trigger1 = GameTime%60= 1
v = 55
range = 26-var(58)*2,52-var(58)*4

[State -1,タッグ時生死確認]
Type = varset
triggerall = var(59)
Trigger1 = numenemy=1
var(57) = 0

[State -1,タッグ時生死確認]
Type = varset
triggerall = var(59)
Trigger1 = numenemy=2
var(57) = ifelse(EnemyNear(0),Alive,0,1)

[State -1,歩きの挙動不審を制御]
Type = varadd
triggerall = var(59)
Trigger1 = fvar(29)
fvar(29) = -1

[State -1,ｺﾝﾎﾞ確認変数ON]
Type = varset
Trigger1 = 1
fvar(30) = 0

	 
;---------------------------------------------------------------------
; ジャストディフェンス 
[State -2, Just Defended1]
type       = VarAdd
TriggerAll = !var(59)
Trigger1   = var(37) > 0
var(37)    = 1
ignorehitpause = 1

[State -2, Just Defended2]
type       = VarSet
TriggerAll = !var(59)
TriggerAll = var(37) = 0 && stateno!= [140,159]
Trigger1   = command = "back" && command!= "down" || command = "downback"
var(37)    = 1

[State -2, Just Defended4]
type       = VarSet
TriggerAll = !var(59)
TriggerAll = command!= "holdback"
Trigger1   = var(37) = [1,7]
Trigger2   = var(37) > 13
var(37)    = ifelse((var(37) = [1,7]),8,0)

[State -2, Just Defended5]
type       = ChangeState
TriggerAll = Var(30) = 6 || var(43)&&floor(var(50)/100%10)=1
TriggerAll = RoundState = 2 && statetype!= A && stateno = 150
Trigger1   = !var(59)
Trigger1   = var(37) = [1,7]
Trigger2 = var(59)
Trigger2 = (100*life/const(data.life))>30 && random <= var(58)*30 || (100*life/const(data.life))<=30 && random <= var(58)*50 || var(58)>10
Trigger2   = time = 0
value      = 4400
ignorehitpause = 1

[State -2, Just Defended6]
type       = ChangeState
TriggerAll = Var(30) = 6 || var(43)&&floor(var(50)/100%10)=1
TriggerAll = RoundState = 2 && statetype!= A && stateno = 152
Trigger1   = !var(59)
Trigger1   = var(37) = [1,7]
Trigger2   = var(59)
Trigger2   = (100*life/const(data.life))>30 && random <= var(58)*30 || (100*life/const(data.life))<=30 && random <= var(58)*50 || var(58)>10
Trigger2   = time = 0
value      = 4402
ignorehitpause = 1

[State -2, Just Defended7]
type       = ChangeState
TriggerAll = Var(30) = 6 || var(43)&&floor(var(50)/100%10)=1
TriggerAll = RoundState = 2 && statetype = A && stateno = 154
Trigger1   = !var(59)
Trigger1   = var(37) = [1,7]
Trigger2   = var(59)
Trigger2   = (100*life/const(data.life))>30 && random <= var(58)*30 || (100*life/const(data.life))<=30 && random <= var(58)*50 || var(58)>10
Trigger2   = time = 0
value      = 4404
ignorehitpause = 1
 
;---------------------------------------------------------------------
; ブロッキング 
[State -1, Blocking1]
type       = helper
TriggerAll = !var(59)
Trigger1   = !var(44) && !NumHelper(4310)
Trigger1   = var(30) = 3 || var(43)&&floor(var(50)/10%10)=1
Trigger1   = Var(32)!= 2 && Ctrl && command = "fwd"
stateno    = 4310
id         = 4310

[State -1, Blocking2]
type       = helper
TriggerAll = !var(59)
Trigger1   = !var(44) && !NumHelper(4311) && statetype!= A
Trigger1   = var(30) = 3 || var(43)&&floor(var(50)/10%10)=1
Trigger1   = Ctrl && command = "downfwd"
stateno    = 4311
id         = 4311

[State -3, Blocking]
type = HitOverride
TriggerAll = Var(30) = 3 || var(43)&&floor(var(50)/10%10)=1
TriggerAll = RoundState = 2
TriggerAll = !var(44)
TriggerAll = statetype!= A
Trigger1   = !var(59)
Trigger1 = Ctrl
Trigger1 = NumHelper(4310)
Trigger2 = var(59) && Ctrl
Trigger2 = (100*life/const(data.life))>30 && random <= var(58)*30 || (100*life/const(data.life))<=30 && random <= var(58)*50 || var(58)>10
attr = SA, AA, AP
stateno = 4300
time = 1
slot = 0

[State -3, Blocking]
type = HitOverride
TriggerAll = Var(30) = 3 || var(43)&&floor(var(50)/10%10)=1
TriggerAll = RoundState = 2
TriggerAll = !var(44)
TriggerAll = statetype!= A
Trigger1   = !var(59)
Trigger1 = Ctrl
Trigger1 = NumHelper(4311)
Trigger2 = var(59) && Ctrl
Trigger2 = (100*life/const(data.life))>30 && random <= var(58)*30 || (100*life/const(data.life))<=30 && random <= var(58)*50 || var(58)>10
attr = C, AA, AP
stateno = 4301
time = 1
slot = 1

[State -3, Blocking]
type = HitOverride
TriggerAll = Var(30) = 3 || var(43)&&floor(var(50)/10%10)=1
TriggerAll = RoundState = 2
TriggerAll = !var(44)
TriggerAll = statetype = A
Trigger1   = !var(59)
Trigger1   = NumHelper(4310)
Trigger1   = Ctrl
Trigger2 = var(59) && Ctrl
Trigger2 = (100*life/const(data.life))>30 && random <= var(58)*30 || (100*life/const(data.life))<=30 && random <= var(58)*50 || var(58)>10
attr = SCA, AA, AP
stateno = 4302
time = 1
slot = 2

[State -1, Blocking6]
type     = ChangeState
Trigger1 = var(35) = 2 && statetype!= A && Ctrl
value    = 4301

[State -1, Blocking7]
type     = ChangeState
Trigger1 = var(35) = 1 && statetype!= A && Ctrl
value    = 4300

[State -1, Blocking8]
type     = ChangeState
Trigger1 = var(35) = 1 && statetype = A && Ctrl
value    = 4302

[State -1, Blocking7]
type     = NotHitBy
Trigger1 = var(44) = 1
value    = SCA
Time     = 1

[State -1, Blocking8]
type     = VarSet
Trigger1 = StateNo!= [4300,4399]
var(44)  = 0
ignorehitpause = 1

[State -2, Just Defended]
type     = VarSet
Trigger1 = Ctrl!
var(35)  = 0
 
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; ガード 
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

;---------------------------------------------------------------------
[State -1,立ちガード]
type       = ChangeState
value      = 120
TriggerAll = var(59)
TriggerAll = RoundState=2 && StateType!= A && Ctrl
TriggerAll = (StateNo!=[120,155]) && !var(47)
TriggerAll = InGuardDist || (EnemyNear(var(57)),HitDefAttr = SCA,AA,AP && Abs(P2Dist X)<60)
Trigger1   = Random<=var(58)*100
Trigger1   = P2BodyDist X>90 || EnemyNear(var(57)),Time>=var(55)

;---------------------------------------------------------------------
[State -1,ガードキャンセル]
type       = ChangeState
value      = 4500
triggerall = var(59) && Random<=var(58)*5
triggerall = floor(var(40)%10)=1
triggerall = (var(30)=[1,2]) || (var(30)=[4,5])
triggerall = RoundState=2 && StateType != A
Triggerall = EnemyNear(var(57)),AnimTime<=-5 || var(58)<7
TriggerAll = EnemyNear(var(57)),Time>=var(55)||(!Time&&var(58)>9)||var(58)>10
triggerall = EnemyNear(var(57)),HitDefAttr = SCA,AA
triggerall = backedgebodydist <= 0
triggerall = (P2BodyDist X = [-5,40]) && (P2BodyDist Y = [-30,0])
trigger1   = (StateNo=150 || StateNo=152)
 
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 切り替えし 
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -3,]
Type = ChangeState
Value = 1120
TriggerAll = var(59)
TriggerAll = Random<=var(58)*50||var(58)>10
TriggerAll = RoundState = 2 && StateType!= A && (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
TriggerAll = (P2BodyDist X=[-5,50]) && (P2BodyDist Y=[-30,0])
TriggerAll = EnemyNear(var(57)),MoveType=A
Triggerall = EnemyNear(var(57)),AnimTime<=-3 || var(58)<7
TriggerAll = EnemyNear(var(57)),Time>=var(55)||(!Time&&var(58)>9)||var(58)>10
Trigger1   = EnemyNear(var(57)),Time>=var(55)||var(58)>10
Trigger2   = (PrevStateNo=[5000,5270])
Trigger3   = (PrevStateNo=[120,159])

;---------------------------------------------------------------------
[State -1,回り込み]
type       = ChangeState
value      = 4000
TriggerAll = var(59)
TriggerAll = Random<=var(58)*100||var(58)>10
TriggerAll = RoundState = 2 && StateType!= A && (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101) && InGuardDist
TriggerAll = !EnemyNear(var(57)),HitDefAttr = ,AT
TriggerAll = EnemyNear(var(57)),Time>=var(55)||(!Time&&var(58)>9)||var(58)>10||EnemyNear(var(57)),Ctrl
TriggerAll = P2BodyDist X>170 || (EnemyNear(var(57)),AnimTime<=-26 && !EnemyNear(var(57)),Ctrl)
TriggerAll = (var(30)=1 || var(30)=2 || var(30)=5)
Trigger1   = EnemyNear(var(57)),Time>=var(55)||var(58)>10
Trigger2   = (PrevStateNo = [5000,5270])
Trigger3   = (PrevStateNo = [120,159])
Trigger4   = EnemyNear(var(57)),Ctrl

;---------------------------------------------------------------------
[State -1,避け]
type       = ChangeState
value      = 4010
triggerall = var(59)
triggerall = RoundState = 2 && StateType != A && (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
triggerall = var(30)=4 && !var(43) || var(43)&&floor(var(51)/10%10)=[2,3]
triggerall = EnemyNear(var(57)),MoveType = A && !(EnemyNear(var(57)),HitDefAttr = SCA,NT,ST,HT)
triggerall = P2BodyDist Y >= -90
Triggerall = EnemyNear(var(57)),Time>=var(55)||var(58)>10
trigger1   = Random<=var(59)*15 && inguarddist && (P2BodyDist X = [-5,90])
trigger1   = (!enemy,numproj && Enemynear,AnimTime<=-10) || (enemy,numproj && Enemynear,AnimTime<=-29)
trigger2   = Random<=var(59)*3 && P2BodyDist X = [60,120]
trigger2   = EnemyNear(var(57)),MoveType != H && !enemy,numproj

;---------------------------------------------------------------------------
;ダウン回避
[State -1]
type = ChangeState
value = 5201
TriggerAll = Var(59) && Random<=var(58)*10
TriggerAll = Alive && fvar(21) = 0
TriggerAll = StateNo = 5050 || StateNo = 5071
TriggerAll = Vel Y > 0 && Pos Y >= 10
Trigger1   = var(30)=2 || var(30)=5 || var(30)=6
Trigger2   = var(43)&&floor(var(51)/100000%10)=1
persistent = 0
 
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
; 地上起き攻め 
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

;---------------------------------------------------------------------
[State -1,しゃがみ強パンチ]
type       = ChangeState
value      = 420
triggerall = var(59) && Random <= var(59)*15
triggerall = RoundState = 2 && StateType != A && (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
triggerall = EnemyNear(var(57)),StateType = L && EnemyNear(var(57)),StateNo = 5120
trigger1   = EnemyNear(var(57)),AnimTime = -9 && (P2BodyDist X = [0,70])

;---------------------------------------------------------------------
[State -1,弱タイガークラッシュ];裏周り狙い
type       = ChangeState
value      = 1200
triggerall = var(59) && Random <= var(59)*30
triggerall = RoundState = 2 && StateType != A && (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
triggerall = EnemyNear(var(57)),StateType = L && EnemyNear(var(57)),StateNo = 5120
trigger1   = EnemyNear(var(57)),AnimTime = -5 && (P2BodyDist X = [0,60])

  
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;連続技関連 
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
	 
;---------------------------------------------------------------------
;地上目押し 
;---------------------------------------------------------------------

;---------------------------------------------------------------------
[State -1,近距離立ち強パンチ]
type       = ChangeState
value      = IfElse(P2BodyDist X <= 20,225,220)
TriggerAll = var(59) && Random<=var(58)*100 || fvar(30)
TriggerAll = RoundState = 2 && StateType!= A && !InGuardDist
TriggerAll = EnemyNear(var(57)),StateType!= L &&  EnemyNear(var(57)),MoveType = H
TriggerAll = EnemyNear(var(57)),StateNo!= [120,159]
TriggerAll = (P2BodyDist X=[-5,15]) && (P2bodydist Y = [-65,0])
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = PrevStateNo = 52

;---------------------------------------------------------------------
[State -1,立ち弱パンチ]
type       = ChangeState
value      = 200
TriggerAll = var(59) && Random<=var(58)*100
TriggerAll = RoundState = 2 && StateType!= A && !InGuardDist
TriggerAll = EnemyNear(var(57)),StateType!= L &&  EnemyNear(var(57)),MoveType = H
TriggerAll = EnemyNear(var(57)),StateType!= C &&  EnemyNear(var(57)),StateNo!= [120,159]
TriggerAll = (P2BodyDist X=[-5,50]) && P2bodydist Y = 0
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = var(56) = 10 && P2bodydist X < 35 || PrevStateNo = 52

;---------------------------------------------------------------------
[State -1,しゃがみ弱キック]
type       = ChangeState
value      = 430
TriggerAll = var(59) && Random<=var(58)*100
TriggerAll = RoundState = 2 && StateType!= A && !InGuardDist
TriggerAll = EnemyNear(var(57)),StateType!= L &&  EnemyNear(var(57)),MoveType = H
TriggerAll = EnemyNear(var(57)),StateNo!= [120,159]
TriggerAll = (P2BodyDist X=[-5,50]) && P2bodydist Y = 0
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = var(56) = 10 && P2bodydist X < 35 || var(56) = 100 || PrevStateNo = 52

;---------------------------------------------------------------------
[State -1,立ち中パンチ]
type       = ChangeState
value      = 210
TriggerAll = var(59) && Random<=var(58)*100
TriggerAll = RoundState = 2 && StateType!= A && !InGuardDist
TriggerAll = EnemyNear(var(57)),StateType!= L &&  EnemyNear(var(57)),MoveType = H
TriggerAll = EnemyNear(var(57)),StateType!= C &&  EnemyNear(var(57)),StateNo!= [120,159]
TriggerAll = (P2BodyDist X=[-5,70]) && P2bodydist Y = 0
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = var(56) = 30
 
;---------------------------------------------------------------------
;地上隙付き 
;---------------------------------------------------------------------

;---------------------------------------------------------------------
[State -1,立ち弱パンチ]
type       = ChangeState
value      = 200
TriggerAll = var(59) && Random<=var(58)*100
TriggerAll = RoundState = 2 && StateType = S && !inguarddist
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),MoveType = I
TriggerAll = EnemyNear(var(57)),StateType!= C && EnemyNear(var(57)),AnimTime <= -2
TriggerAll = (P2bodydist X = [70,90]) && (P2bodydist Y = [-55,0])
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = (Enemynear,StateNo = [200,699])
Trigger1   = EnemyNear(var(57)),Time>=var(55)||var(58)>10

;---------------------------------------------------------------------
[State -1,遠距離立ちデヨ]
type       = ChangeState
value      = IfElse(P2BodyDist X <= 20,225,220)
TriggerAll = var(59) && Random<=var(58)*100
TriggerAll = RoundState = 2 && StateType = S && !inguarddist
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),MoveType = I
TriggerAll = EnemyNear(var(57)),StateType!= C && EnemyNear(var(57)),AnimTime <= -5
TriggerAll = (P2bodydist X = [70,90]) && (P2bodydist Y = [-55,0])
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = (Enemynear,StateNo = [200,699])
Trigger1   = EnemyNear(var(57)),Time>=var(55)||var(58)>10

;---------------------------------------------------------------------
[State -1,しゃがみ中キック]
type       = ChangeState
value      = 440
TriggerAll = var(59) && Random<=var(58)*100
TriggerAll = RoundState = 2 && StateType = S && !inguarddist
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),MoveType = I
TriggerAll = EnemyNear(var(57)),StateType = S && EnemyNear(var(57)),AnimTime <= -2
TriggerAll = (P2bodydist X = [50,85]) && P2bodydist Y = 0
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = (Enemynear,StateNo = [200,699])
Trigger1   = EnemyNear(var(57)),Time>=var(55)||var(58)>10

;---------------------------------------------------------------------
[State -1,タイガージェノサイド]
type       = ChangeState
value      = IfElse((floor(var(40)/100%10)=1&&(p2life>250||Var(30)=[4,5]))||Var(30)=3||Var(30)=6,3220,IfElse((floor(var(40)/10%10)>=1&&p2life>125&&Var(30)=1),3210,3200))
TriggerAll = var(59) && Random < var(58)*7*(2-(var(40)=1)+(p2life<250)+(var(40)>=100)*3+(var(40)>=10)*3+(Var(30)=3||Var(30)=6)*8)
triggerAll = var(40) > 0 && (Var(30)!=2 || Var(30)=2 && p2life<150)
TriggerAll = RoundState = 2 && StateType = S && !inguarddist
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),MoveType = I
TriggerAll = EnemyNear(var(57)),AnimTime <= -5
TriggerAll = (P2bodydist X = [-5,100]) && P2bodydist Y = 0
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = (Enemynear,StateNo = [200,699])
Trigger1   = EnemyNear(var(57)),Time>=var(55)||var(58)>10

;---------------------------------------------------------------------
[State -1,タイガーアッパーカット]
type       = ChangeState
value      = 1120
TriggerAll = var(59) && Random<=var(58)*100
TriggerAll = RoundState = 2 && StateType = S && !inguarddist && !var(47)
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),MoveType = I
TriggerAll = EnemyNear(var(57)),AnimTime <= -5
TriggerAll = (P2bodydist X = [-5,55]) && (P2bodydist Y = [-45,0])
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = (Enemynear,StateNo = [200,699])
Trigger1   = EnemyNear(var(57)),Time>=var(55)||var(58)>10
 
;---------------------------------------------------------------------
;地上繋ぎ 
;---------------------------------------------------------------------

;---------------------------------------------------------------------
[State -1,立ち弱パンチ]
type = ChangeState
value = 200
TriggerAll = var(59) && Random<=var(58)*100
TriggerAll = RoundState = 2 && StateType!= A
TriggerAll = EnemyNear(var(57)),MoveType=H
TriggerAll = (P2bodydist X = [-5,(40+((EnemyNear(var(57)),Vel X > 0)*EnemyNear(var(57)),Vel X)*2)]) && P2bodydist Y = 0
Triggerall = MoveHit
Trigger1   = StateNo = 200 && P2BodyDist X > 35 && var(56) = 20

;---------------------------------------------------------------------
[State -1,タイガーレイド]
type       = ChangeState
value      = IfElse((floor(var(40)/100%10)=1&&(p2life>250||Var(30)=[4,5]))||Var(30)=3||Var(30)=6,3120,IfElse((floor(var(40)/10%10)>=1&&p2life>125&&Var(30)=1),3110,3100))
TriggerAll = var(59)
triggerAll = var(40) > 0 && (Var(30)!=2 || Var(30)=2 && p2life<150)
triggerall = RoundState = 2 && StateType != A && !InGuardDist
TriggerAll = EnemyNear(var(57)),StateType != A
triggerall = EnemyNear(var(57)),Alive && EnemyNear(var(57)),MoveType=H
triggerall = (P2BodyDist X=[0,50]) && P2bodydist Y = 0
Triggerall = MoveHit && (StateNo = 220 || StateNo = 200 && var(56) = 10 || StateNo = 430 && P2BodyDist X > 25 || StateNo = 200 && PrevStateNo = 200 && var(56) = 20)
trigger1   = Random < var(58)*7*(2-(var(40)=1)+(p2life<250)+(var(40)>=100)*3+(var(40)>=10)*3+(Var(30)=3||Var(30)=6)*8)
trigger2   = Random < var(58)*100 && var(30)=4 && (100*life/const(data.life))<=30

;---------------------------------------------------------------------
[State -1,タイガージェノサイド]
type       = ChangeState
value      = IfElse((floor(var(40)/100%10)=1&&(p2life>250||Var(30)=[4,5]))||Var(30)=3||Var(30)=6,3220,IfElse((floor(var(40)/10%10)>=1&&p2life>125&&Var(30)=1),3210,3200))
TriggerAll = var(59)
triggerAll = var(40) > 0 && (Var(30)!=2 || Var(30)=2 && p2life<150)
triggerall = RoundState = 2 && StateType != A && !InGuardDist
TriggerAll = EnemyNear(var(57)),StateType != A
triggerall = EnemyNear(var(57)),Alive && EnemyNear(var(57)),MoveType=H
triggerall = (P2BodyDist X=[0,50]) && P2bodydist Y = 0
triggerall = MoveHit && (StateNo = 220 || StateNo = 420 || StateNo = 430 && P2BodyDist X > 25 || StateNo = 440)
trigger1   = Random < var(58)*7*(2-(var(40)=1)+(p2life<250)+(var(40)>=100)*3+(var(40)>=10)*3+(Var(30)=3||Var(30)=6)*8)
trigger2   = Random < var(58)*100 && var(30)=4 && (100*life/const(data.life))<=30

;---------------------------------------------------------------------
[State -1,タイガーキャノン]
type       = ChangeState
value      = IfElse((floor(var(40)/100%10)=1&&(p2life>250||Var(30)=[4,5]))||Var(30)=3||Var(30)=6,3020,IfElse((floor(var(40)/10%10)>=1&&p2life>125&&Var(30)=1),3010,3000))
TriggerAll = var(59)
triggerAll = var(40) > 0 && (Var(30)!=2 || Var(30)=2 && p2life<150)
triggerall = NumProj=0
triggerall = Numhelper(7100)=0 && Numhelper(7110)=0 && Numhelper(7120)=0 && Numhelper(7130)=0 && Numhelper(7140)=0 && Numhelper(7150)=0
triggerall = Numhelper(7200)=0 && Numhelper(7210)=0 && Numhelper(7220)=0 && Numhelper(7230)=0 && Numhelper(7240)=0 && Numhelper(7250)=0
triggerall = RoundState = 2 && StateType != A && !InGuardDist
TriggerAll = EnemyNear(var(57)),StateType != C
triggerall = EnemyNear(var(57)),Alive && EnemyNear(var(57)),MoveType=H
triggerall = P2BodyDist X >=0 && (P2BodyDist Y+(EnemyNear(var(57)),Vel Y+(fvar(28)*6))*6)+P2BodyDist X=[-75,15]
triggerall = MoveHit && StateNo = 220
trigger1   = Random < var(58)*7*(2-(var(40)=1)+(p2life<250)+(var(40)>=100)*3+(var(40)>=10)*3+(Var(30)=3||Var(30)=6)*8)
trigger2   = Random < var(58)*100 && var(30)=4 && (100*life/const(data.life))<=30

;---------------------------------------------------------------------
[State -1,グランドタイガーキャノン]
type       = ChangeState
value      = IfElse((floor(var(40)/100%10)=1&&(p2life>250||Var(30)=[4,5]))||Var(30)=3||Var(30)=6,3050,IfElse((floor(var(40)/10%10)>=1&&p2life>125&&Var(30)=1),3040,3030))
TriggerAll = var(59)
triggerAll = var(40) > 0 && (Var(30)!=2 || Var(30)=2 && p2life<150)
triggerall = NumProj=0
triggerall = Numhelper(7100)=0 && Numhelper(7110)=0 && Numhelper(7120)=0 && Numhelper(7130)=0 && Numhelper(7140)=0 && Numhelper(7150)=0
triggerall = Numhelper(7200)=0 && Numhelper(7210)=0 && Numhelper(7220)=0 && Numhelper(7230)=0 && Numhelper(7240)=0 && Numhelper(7250)=0
triggerall = RoundState = 2 && StateType != A && !InGuardDist
TriggerAll = EnemyNear(var(57)),StateType != A
triggerall = EnemyNear(var(57)),Alive && EnemyNear(var(57)),MoveType=H
triggerall = P2BodyDist X >=0 && P2bodydist Y = 0
triggerAll = MoveHit && (StateNo = 420 || StateNo = 430 && P2BodyDist X > 25 || StateNo = 440)
trigger1   = Random < var(58)*7*(2-(var(40)=1)+(p2life<250)+(var(40)>=100)*3+(var(40)>=10)*3+(Var(30)=3||Var(30)=6)*8)
trigger2   = Random < var(58)*100 && var(30)=4 && (100*life/const(data.life))<=30

;---------------------------------------------------------------------
[State -1,タイガーアッパーカット]
type = ChangeState
value = 1120
TriggerAll = var(59) && Random<=var(58)*100
TriggerAll = RoundState = 2 && (StateType != A || var(22)=-1)
TriggerAll = EnemyNear(var(57)),MoveType=H
TriggerAll = (P2bodydist X = [-5,(40+((EnemyNear(var(57)),Vel X > 0)*EnemyNear(var(57)),Vel X)*5)]) && P2bodydist Y = 0
TriggerAll = MoveHit
Trigger1   = StateNo = 200 && (var(56)=10||var(56)=30) || StateNo = 430 && P2BodyDist X > 25
Trigger2   = StateNo = 200 && PrevStateNo = 200 && var(56) = 20
Trigger3   = StateNo = 225 && AnimElem = 4,<0
Trigger4   = PrevStateNo = 3110 && StateNo = 3101 && AnimElem = 8,>0	

;---------------------------------------------------------------------
[State -1,タイガークラッシュ]
type = ChangeState
value = 1200
TriggerAll = var(59) && Random<=var(58)*100
TriggerAll = RoundState = 2 && StateType!= C
TriggerAll = EnemyNear(var(57)),MoveType=H
TriggerAll = (P2BodyDist X=[50,100]) && P2bodydist Y = 0
TriggerAll = MoveHit
Trigger1   = StateNo = 200 && var(56) = 10 || StateNo = 430 && (var(56)=30||P2BodyDist X > 35)
Trigger2   = StateNo = 200 && PrevStateNo = 200 && var(56) = 20
Trigger3   = StateNo = 225 && AnimElem = 4,<0

;---------------------------------------------------------------------
[State -1,タイガーショット]
type       = ChangeState
value      = IfElse(Random <= var(58)*3,1000,IfElse(Random <= var(58)*6,1010,1020))
TriggerAll = Var(59) && Random <= var(58)*100
triggerall = NumProj=0
triggerall = Numhelper(7100)=0 && Numhelper(7110)=0 && Numhelper(7120)=0 && Numhelper(7130)=0 && Numhelper(7140)=0 && Numhelper(7150)=0
triggerall = Numhelper(7200)=0 && Numhelper(7210)=0 && Numhelper(7220)=0 && Numhelper(7230)=0 && Numhelper(7240)=0 && Numhelper(7250)=0
triggerall = RoundState = 2 && StateType != A && !InGuardDist
TriggerAll = EnemyNear(var(57)),StateType != A
triggerall = EnemyNear(var(57)),Alive && EnemyNear(var(57)),MoveType=H
triggerall = P2BodyDist X >=0 && P2bodydist Y = 0
trigger1   = (ProjHitTime(3050)=[1,18]) && StateNo = 3040

;---------------------------------------------------------------------
[State -1,グランドタイガーショット]
type       = ChangeState
value      = IfElse(Random <= var(58)*3,1030,IfElse(Random <= var(58)*6,1040,1050))
TriggerAll = Var(59) && Random <= var(58)*100
triggerall = NumProj=0
triggerall = Numhelper(7100)=0 && Numhelper(7110)=0 && Numhelper(7120)=0 && Numhelper(7130)=0 && Numhelper(7140)=0 && Numhelper(7150)=0
triggerall = Numhelper(7200)=0 && Numhelper(7210)=0 && Numhelper(7220)=0 && Numhelper(7230)=0 && Numhelper(7240)=0 && Numhelper(7250)=0
triggerall = RoundState = 2 && StateType != A && !InGuardDist
TriggerAll = EnemyNear(var(57)),StateType != A
triggerall = EnemyNear(var(57)),Alive && EnemyNear(var(57)),MoveType=H
triggerall = P2BodyDist X >=0 && P2bodydist Y = 0
trigger1   = MoveHit && StateNo = 210
trigger2   = (ProjHitTime(3050)=[1,18]) && StateNo = 3010
 	
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;オリジナルコンボ 
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;---------------------------------------------------------------------
[State -1,オリコン発動・地上]
type       = ChangeState
value      = 4200
triggerall = var(59) && Random<=var(59)*100
triggerall = var(30)=2 && Power>=3000 && fvar(8)!
triggerall = RoundState=2 && statetype!=A && Ctrl
triggerall = !Enemynear,numproj && p2life >= 150
trigger1   = EnemyNear(var(57)),movetype = A && inguarddist
trigger1   = (P2BodyDist X = [-5,50]) && P2Bodydist Y >= 0
trigger1   = EnemyNear(var(57)),animtime <= -10 || PrevStateNo = 4000
trigger2   = (P2BodyDist X = [-5,50]) && (P2BodyDist Y=[-200,0])
trigger2   = EnemyNear(var(57)),BackEdgeBodyDist >= 5 && var(56) = 100
trigger3   = EnemyNear(var(57)),statetype = A && (EnemyNear(var(57)),ctrl || EnemyNear(var(57)),movetype = A)
trigger3   = EnemyNear(var(57)),vel X >= 0
Trigger3   = P2BodyDist X=[10,(50+((EnemyNear(var(57)),Vel X > 0)*EnemyNear(var(57)),Vel X)*5)]
Trigger3   = (P2BodyDist Y=[-70,-30]) && inguarddist

;---------------------------------------------------------------------
[State -1,オリコン発動・空中]
type       = ChangeState
value      = 4210
triggerall = var(59) && Random<=var(59)*100
triggerall = var(30)=2 && Power>=3000 && fvar(8)!
triggerall = RoundState=2 && statetype=A && Ctrl
triggerall = !Enemynear,numproj && p2life >= 150
Trigger1   = Vel X >= 0 && Vel Y > 0
Trigger1   = P2BodyDist X+(EnemyNear(var(57)),Vel X)*5-(Vel X)*5*(EnemyNear(var(57)),facing)*Facing*(EnemyNear(var(57)),StateType = A)=[-5,80]
Trigger1   = P2BodyDist Y+(EnemyNear(var(57)),Vel Y+(fvar(28)*5))*5-(Vel Y!=0)*(Vel Y+Const(MoveMent.Yaccel)*5)*5=[-25,20]
Trigger1   = EnemyNear(var(57)),MoveType=A && EnemyNear(var(57)),StateType!=A

;---------------------------------------------------------------------
[State -1,タイガーアッパーカット・強]
type = ChangeState
value = 1120
TriggerAll = var(59) && Random<=var(58)*100
TriggerAll = RoundState = 2 && StateType!= A && var(47)
TriggerAll = (fvar(37) = [300,1200]) || (fvar(37) > 300 && EnemyNear(var(57)),BackEdgeBodyDist < 5)
TriggerAll = P2BodyDist X=[-5,100]
Triggerall = P2BodyDist Y+(EnemyNear(var(57)),Vel Y+(fvar(28)*3))*3=[-25,10]
Trigger1   = EnemyNear(var(57)),MoveType=H && StateNo = 225 && MoveHit && var(22)=[2,5]
Trigger2   = EnemyNear(var(57)),MoveType=H && Ctrl && (var(56)=100||var(56)=110)
Trigger3   = PrevStateNo = 4000 && Ctrl

;---------------------------------------------------------------------
[State -1,タイガーキャノン]
type = ChangeState
value = 3000
TriggerAll = var(59) && Random<=var(58)*100
TriggerAll = RoundState = 2 && StateType!= A
TriggerAll = EnemyNear(var(57)),MoveType=H && var(47)
TriggerAll = P2BodyDist X=[-30,150]
TriggerAll = EnemyNear(var(57)),Vel Y > 0
Triggerall = (P2BodyDist Y+(EnemyNear(var(57)),Vel Y+(fvar(28)*6))*6)+P2BodyDist X=[-75,15]
Trigger1 = fvar(37) < 500 && Ctrl
Trigger2 = Ctrl && var(56) = 110 && EnemyNear(var(57)),BackEdgeBodyDist >= 5

;---------------------------------------------------------------------
[State -1,タイガーアッパーカット・中]
type = ChangeState
value = 1110
TriggerAll = var(59) && Random<=var(58)*100
TriggerAll = RoundState = 2 && StateType!= A && Ctrl && var(47)
TriggerAll = P2BodyDist X=[-5,40]
TriggerAll = P2BodyDist Y+(EnemyNear(var(57)),Vel Y+(fvar(28)*3))*3=[-25,10]
Trigger1   = EnemyNear(var(57)),MoveType=H && fvar(37) > 500
Trigger1   = PrevStateNo = 4000 && EnemyNear(var(57)),BackEdgeBodyDist >= 5
Trigger2   = PrevStateNo = 4200
Trigger3   = EnemyNear(var(57)),MoveType!= H

;---------------------------------------------------------------------
[State -1,しゃがみ強キック]
type       = ChangeState
value      = 450
TriggerAll = var(59) && Random<=var(58)*100
triggerall = RoundState = 2 && StateType != A && Ctrl && var(47)
triggerall = (P2bodydist X = [30,50]) && !P2bodydist Y
Trigger1   = PrevStateNo = 4200
Trigger2   = EnemyNear(var(57)),MoveType!= H

;---------------------------------------------------------------------
[State -1,タイガークラッシュ]
type = ChangeState
value = 1210
TriggerAll = var(59) && Random<=var(58)*100
TriggerAll = RoundState = 2 && StateType!= A && var(47)
TriggerAll = EnemyNear(var(57)),MoveType=H
TriggerAll = (P2BodyDist X=[-5,100])
Triggerall = P2BodyDist Y+(EnemyNear(var(57)),Vel Y+(fvar(28)*5))*5=[-75,-40]
Trigger1   = MoveHit && StateNo = 220

;---------------------------------------------------------------------
[State -1,立ち強パンチ]
type = ChangeState
value = IfElse(P2BodyDist X <= 20,225,220)
TriggerAll = var(59) && Random<=var(58)*100
TriggerAll = RoundState = 2 && StateType!= A
TriggerAll = EnemyNear(var(57)),MoveType=H && var(47) && fvar(37) > 500
TriggerAll = (P2bodydist X = [-5,(20+((EnemyNear(var(57)),Vel X > 0)*EnemyNear(var(57)),Vel X)*2)])
Triggerall = P2BodyDist Y+(EnemyNear(var(57)),Vel Y+(fvar(28)*2))*2=[-20,10]
Triggerall = MoveHit
Trigger1   = StateNo = 1110 && AnimElem = 4,<0
Trigger2   = PrevStateNo = 4000 && fvar(37) > 600

;---------------------------------------------------------------------
[State -1,立ち強キック]
type = ChangeState
value = 250
TriggerAll = var(59) && Random<=var(58)*100
TriggerAll = RoundState = 2 && StateType!= A
TriggerAll = EnemyNear(var(57)),MoveType=H && var(47)
TriggerAll = P2BodyDist X=[-5,55]
Triggerall = P2BodyDist Y+(EnemyNear(var(57)),Vel Y+(fvar(28)*5))*5=[-30,0]
Trigger1   = MoveHit && StateNo = 450

;---------------------------------------------------------------------
[State -1,回り込み]
type       = ChangeState
value      = 4000
TriggerAll = var(59) && Random<=var(58)*100
TriggerAll = RoundState = 2 && StateType!= A
TriggerAll = EnemyNear(var(57)),MoveType=H && var(47) && fvar(37) > 600
TriggerAll = MoveHit && var(22)=[2,5]
Trigger1   = StateNo = 225 || StateNo = 250
  
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;地上移動 
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

;---------------------------------------------------------------------
[State -1,歩き]
type       = ChangeState
value      = 19
triggerall = var(59)
triggerall = roundstate = 2 && StateType != A && !inguarddist
triggerall = p2BodyDist X >= -5 && EnemyNear(var(57)),MoveType = I
triggerall = StateNo!=19 && StateNo!=20 && !fvar(29) && Ctrl
trigger1   = Random <= 250 && P2BodyDist X >= 40
trigger2   = Random <= 400 && var(47) && EnemyNear(var(57)),MoveType != H
trigger3   = Random <= 10

;---------------------------------------------------------------------
[State -1,通常ジャンプ]
Type     = ChangeState
Value    = 39
TriggerAll = var(59)
TriggerAll = RoundState = 2 && StateType!= A && !inguarddist
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),MoveType!= H
TriggerAll = !inguarddist
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
trigger1   = Random <= 250 && var(47)
Trigger2   = Random = [10,20]

[State -1,大ジャンプ]
Type     = ChangeState
Value    = 41
TriggerAll = var(59)
TriggerAll = RoundState = 2 && StateType!= A && !inguarddist
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),MoveType!= H
TriggerAll = !inguarddist
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = P2BodyDist X >= 150 && Random <= var(58)*20

;---------------------------------------------------------------------
[State -1,ラン]
type       = ChangeState
value      = 100
triggerall = var(59)
triggerall = roundstate = 2 && StateType != A && !inguarddist
TriggerAll = (var(30)=[4,6]) && !var(43) || var(43)&&floor(var(51)%10)=2
TriggerAll = EnemyNear(var(57)),StateType!= L || P2BodyDist x > 150
TriggerAll = !Enemy,Numproj && EnemyNear(var(57)),MoveType!=A && (StateNo!=[100,101]) && Ctrl
trigger1   = Random <= 50 && P2BodyDist X >= 160
trigger2   = Random <= 250 && P2BodyDist X >= 40 && NumProj
trigger3   = EnemyNear(var(57)),StateType=A && EnemyNear(var(57)),MoveType=H && EnemyNear(var(57)),hitfall
trigger3   = P2BodyDist X >= 80 && P2BodyDist Y < -60
trigger4   = Random <= 5

;---------------------------------------------------------------------
[State -1,ステップ]
type       = ChangeState
value      = 110
TriggerAll = Var(59) && Random <= 15
TriggerAll = RoundState = 2 && StateType!= A && !inguarddist && FrontEdgeBodyDist > 90
TriggerAll = (var(30)=1||var(30)=2||var(30)=3) && !var(43) || var(43)&&floor(var(51)%10)=1
TriggerAll = EnemyNear(var(57)),StateType!= A && EnemyNear(var(57)),MoveType!= H
TriggerAll = !Enemy,Numproj && Ctrl && !var(47)
Trigger1   = P2BodyDist X > 150 && (EnemyNear(var(57)),vel x)*27 < 90 && EnemyNear(var(57)),MoveType!= A
Trigger2   = P2BodyDist X > 90 && Numproj
trigger3   = EnemyNear(var(57)),StateType = L && EnemyNear(var(57)),StateNo = 5120
trigger3   = (P2BodyDist X = [40,100]) && EnemyNear(var(57)),AnimTime = -20

;---------------------------------------------------------------------
[State -1,バックステップ]
type       = ChangeState
value      = 105
TriggerAll = Var(59) && Random <= 100
TriggerAll = RoundState = 2 && StateType!= A && !inguarddist && BackEdgeBodyDist > 77
TriggerAll = !numtarget && !Enemy,Numproj && PrevStateNo!= 4000 && !var(47)
triggerAll = EnemyNear(var(57)),StateType != L && EnemyNear(var(57)),StateNo != 5120
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = EnemyNear(var(57)),StateType!= A && P2BodyDist X = [-5,100]
Trigger2   = EnemyNear(var(57)),StateType = A && EnemyNear(var(57)),vel y >= 0
Trigger2   = (P2BodyDist X = [5,100]) && P2BodyDist Y = [-100,0]
trigger3   = EnemyNear(var(57)),StateType = L && EnemyNear(var(57)),StateNo = 5120
trigger3   = (P2BodyDist X = [0,60]) && Random <= var(59)*30
	 
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;地上立ち回り技振り 
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

	 
;---------------------------------------------------------------------
; 投げ 
;---------------------------------------------------------------------

;---------------------------------------------------------------------
[State -1,投げ]
type       = ChangeState
value      = IfElse(Random <= var(58)*3,800,850)
TriggerAll = Var(59) && Random <= var(58)*10
TriggerAll = RoundState = 2 && StateType!= A && !var(47)
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),MoveType!= H
TriggerAll = EnemyNear(var(57)),StateType!= A && EnemyNear(var(57)),MoveType!= A
TriggerAll = (P2BodyDist X = [-5,52]) && !P2BodyDist Y
TriggerAll = PrevStateNo!= 1200 && PrevStateNo!= 850
TriggerAll = EnemyNear(var(57)),Time>=var(55)||var(58)>10
Trigger1   = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
 
;---------------------------------------------------------------------
; ぶっぱ 
;---------------------------------------------------------------------

;---------------------------------------------------------------------
[State -1,タイガージェノサイド]
type       = ChangeState
value      = IfElse((floor(var(40)/100%10)=1&&(p2life>250||Var(30)=[4,5]))||Var(30)=3||Var(30)=6,3220,IfElse((floor(var(40)/10%10)>=1&&p2life>125&&Var(30)=1),3210,3200))
TriggerAll = var(59) && Random < var(58)*7*(2-(var(40)=1)+(p2life<250)+(var(40)>=100)*3+(var(40)>=10)*3+(Var(30)=3||Var(30)=6)*8)
triggerAll = var(40) > 1 && Var(30)=4 || var(40) >= 10 && Var(30)=1 || var(40) >= 100 && (Var(30)=[3,6])
TriggerAll = RoundState = 2 && StateType = S && !inguarddist
TriggerAll = EnemyNear(var(57)),StateType != L && EnemyNear(var(57)),MoveType != H
TriggerAll = EnemyNear(var(57)),MoveType=A || EnemyNear(var(57)),Ctrl
TriggerAll = EnemyNear(var(57)),StateType != A
TriggerAll = (P2bodydist X = [-5,55])
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = Random<=(11-var(58))*5
Trigger2   = Var(30)=4 && fvar(8) && fvar(37) < 20
Trigger3   = Var(30)=5 && fvar(8) && NumHelper(25050)
Trigger3   = Helper(25050),var(1) < 100
Trigger4   = Var(30)=6 && fvar(8) && fvar(37) < 10
trigger5   = Random < var(58)*20 && var(30)=4 && (100*life/const(data.life))<=30

;---------------------------------------------------------------------
[State -1,タイガーキャノン]
type       = ChangeState
value      = IfElse((floor(var(40)/100%10)=1&&(p2life>250||Var(30)=[4,5]))||Var(30)=3||Var(30)=6,3020,IfElse((floor(var(40)/10%10)>=1&&p2life>125&&Var(30)=1),3010,3000))
TriggerAll = var(59) && Random < var(58)*7*(2-(var(40)=1)+(p2life<250)+(var(40)>=100)*3+(var(40)>=10)*3+(Var(30)=3||Var(30)=6)*8)
triggerAll = var(40) > 1 && Var(30)=4 || var(40) >= 10 && Var(30)=1 || var(40) >= 100 && (Var(30)=[3,6])
TriggerAll = RoundState = 2 && StateType = S && !inguarddist
TriggerAll = EnemyNear(var(57)),StateType != L && EnemyNear(var(57)),MoveType != H
TriggerAll = EnemyNear(var(57)),MoveType=A || EnemyNear(var(57)),Ctrl
TriggerAll = EnemyNear(var(57)),StateType != C
TriggerAll = P2bodydist X >= 50
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = Random<=(11-var(58))*5
Trigger2   = Var(30)=4 && fvar(8) && fvar(37) < 20
Trigger3   = Var(30)=5 && fvar(8) && NumHelper(25050)
Trigger3   = Helper(25050),var(1) < 100
Trigger4   = Var(30)=6 && fvar(8) && fvar(37) < 10
trigger5   = Random < var(58)*20 && var(30)=4 && (100*life/const(data.life))<=30

;---------------------------------------------------------------------
[State -1,グランドタイガーキャノン]
type       = ChangeState
value      = IfElse((floor(var(40)/100%10)=1&&(p2life>250||Var(30)=[4,5]))||Var(30)=3||Var(30)=6,3050,IfElse((floor(var(40)/10%10)>=1&&p2life>125&&Var(30)=1),3040,3030))
TriggerAll = var(59) && Random < var(58)*7*(2-(var(40)=1)+(p2life<250)+(var(40)>=100)*3+(var(40)>=10)*3+(Var(30)=3||Var(30)=6)*8)
triggerAll = var(40) > 1 && Var(30)=4 || var(40) >= 10 && Var(30)=1 || var(40) >= 100 && (Var(30)=[3,6])
TriggerAll = RoundState = 2 && StateType = S && !inguarddist
TriggerAll = EnemyNear(var(57)),StateType != L && EnemyNear(var(57)),MoveType != H
TriggerAll = EnemyNear(var(57)),MoveType=A || EnemyNear(var(57)),Ctrl
TriggerAll = EnemyNear(var(57)),StateType != A
TriggerAll = P2bodydist X >= 50
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = Random<=(11-var(58))*5
Trigger2   = Var(30)=4 && fvar(8) && fvar(37) < 20
Trigger3   = Var(30)=5 && fvar(8) && NumHelper(25050)
Trigger3   = Helper(25050),var(1) < 100
Trigger4   = Var(30)=6 && fvar(8) && fvar(37) < 10
trigger5   = Random < var(58)*20 && var(30)=4 && (100*life/const(data.life))<=30
 
;---------------------------------------------------------------------
; 対空 
;---------------------------------------------------------------------

[State -3,対地上移動投げ対策]
Type       = ChangeState
value      = ifelse((Var(30)>=3||var(43)&&floor(var(51)/10000%10)=1),42,39)
TriggerAll = Var(59) && Random <= var(58)*100
TriggerAll = RoundState = 2 && StateType!= A && !var(47)
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),MoveType!= H
TriggerAll = EnemyNear(var(57)),StateType!=A && EnemyNear(var(57)),MoveType = A
TriggerAll = EnemyNear(var(57)),Vel X > 0
TriggerAll = EnemyNear(var(57)),HitDefAttr = SC,AT
TriggerAll = P2BodyDist X=[20,(55+(EnemyNear(var(57)),Vel X)*2)]
TriggerAll = EnemyNear(var(57)),Time>=var(55)||var(58)>10
Trigger1   = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)

[State -3,対空中攻撃]
Type       = ChangeState
value      = 250
TriggerAll = Var(59) && Random <= var(58)*100
TriggerAll = RoundState = 2 && StateType!= A && !var(47)
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),MoveType!= H
TriggerAll = EnemyNear(var(57)),StateNo!= 5031 && EnemyNear(var(57)),StateNo!= 5036 && EnemyNear(var(57)),StateNo!= 5041
TriggerAll = EnemyNear(var(57)),StateType=A && !inguarddist && EnemyNear(var(57)),Vel Y > 0
TriggerAll = P2BodyDist X=[60,(90+((EnemyNear(var(57)),Vel X > 0)*EnemyNear(var(57)),Vel X)*7)]
TriggerAll = P2BodyDist Y+(EnemyNear(var(57)),Vel Y+(fvar(28)*7))*7=[-65,-20]
TriggerAll = EnemyNear(var(57)),Time>=var(55)||var(58)>10
Trigger1   = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)

[State -3,対空中攻撃]
Type       = ChangeState
value      = 1120
TriggerAll = Var(59) && Random <= var(58)*100
TriggerAll = RoundState = 2 && StateType!= A && !var(47)
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),MoveType!= H
TriggerAll = EnemyNear(var(57)),StateNo!= 5031 && EnemyNear(var(57)),StateNo!= 5036 && EnemyNear(var(57)),StateNo!= 5041
TriggerAll = EnemyNear(var(57)),StateType=A
TriggerAll = P2BodyDist X=[10,(40+((EnemyNear(var(57)),Vel X > 0)*EnemyNear(var(57)),Vel X)*4)]
TriggerAll = (P2BodyDist Y=[-50,-10]) && inguarddist
TriggerAll = EnemyNear(var(57)),Time>=var(55)||var(58)>10
Trigger1   = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)

[State -3,対空中攻撃]
Type       = ChangeState
value      = IfElse(P2BodyDist X <= 20,225,220)
TriggerAll = Var(59) && Random <= var(58)*50
TriggerAll = RoundState = 2 && StateType!= A && !var(47)
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),MoveType!= H
TriggerAll = EnemyNear(var(57)),StateNo!= 5031 && EnemyNear(var(57)),StateNo!= 5036 && EnemyNear(var(57)),StateNo!= 5041
TriggerAll = EnemyNear(var(57)),StateType=A && !inguarddist && EnemyNear(var(57)),Vel Y > 0
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
TriggerAll = EnemyNear(var(57)),Time>=var(55)||var(58)>10
Trigger1 = P2BodyDist X=[70,(90+((EnemyNear(var(57)),Vel X > 0)*EnemyNear(var(57)),Vel X)*5)]
Trigger1 = P2BodyDist Y+(EnemyNear(var(57)),Vel Y+(fvar(28)*5))*5=[-55,-30]
Trigger2 = P2BodyDist X=[-5,15]
Trigger2 = P2BodyDist Y+(EnemyNear(var(57)),Vel Y+(fvar(28)*5))*6=[-85,-50]
 
;---------------------------------------------------------------------
; 下段 
;---------------------------------------------------------------------

;---------------------------------------------------------------------
[State -1,しゃがみ弱キック]
type       = ChangeState
value      = 430
triggerall = var(59) && Random <= var(59)*100
triggerall = RoundState = 2 && StateType != A && !InGuardDist && !var(47)
TriggerAll = EnemyNear(var(57)),StateType != L && EnemyNear(var(57)),MoveType != H
TriggerAll = EnemyNear(var(57)),StateType=S
triggerall = (P2bodydist X = [-5,55]) && !P2bodydist Y
TriggerAll = EnemyNear(var(57)),Time>=var(55)||var(58)>10
trigger1   = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)

;---------------------------------------------------------------------
[State -1,しゃがみ中キック]
type       = ChangeState
value      = 440
triggerall = var(59) && Random <= var(59)*25
triggerall = floor(var(40)/10%10) > 0
triggerall = RoundState = 2 && StateType != A && !InGuardDist && !var(47)
TriggerAll = EnemyNear(var(57)),StateType != L && EnemyNear(var(57)),MoveType != H
TriggerAll = EnemyNear(var(57)),StateType=S
triggerall = (P2bodydist X = [45,85]) && !P2bodydist Y
TriggerAll = EnemyNear(var(57)),Time>=var(55)||var(58)>10
trigger1   = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)

;---------------------------------------------------------------------
[State -1,タイガーレイド]
type       = ChangeState
value      = IfElse((floor(var(40)/100%10)=1&&(p2life>250||Var(30)=[4,5]))||Var(30)=3||Var(30)=6,3120,IfElse((floor(var(40)/10%10)>=1&&p2life>125&&Var(30)=1),3110,3100))
TriggerAll = var(59)
triggerAll = var(40) > 0 && (Var(30)!=2 || Var(30)=2 && p2life<150)
triggerall = RoundState = 2 && StateType != A && !InGuardDist && !var(47)
TriggerAll = EnemyNear(var(57)),StateType != L && EnemyNear(var(57)),MoveType != H
TriggerAll = EnemyNear(var(57)),StateType=S
triggerall = (P2bodydist X = [0,50]) && !P2bodydist Y
TriggerAll = EnemyNear(var(57)),Time>=var(55)||var(58)>10
triggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = Random <= var(59)*25
Trigger2   = Var(30)=4 && fvar(8) && fvar(37) < 20
Trigger3   = Var(30)=5 && fvar(8) && NumHelper(25050)
Trigger3   = Helper(25050),var(1) < 100
Trigger4   = Var(30)=6 && fvar(8) && fvar(37) < 10
 
;---------------------------------------------------------------------
; 中段 
;---------------------------------------------------------------------

;---------------------------------------------------------------------
[State -1,小ジャンプ]
type       = ChangeState
value      = 42
triggerall = var(59) && Random <= var(59)*10
triggerall = RoundState = 2 && StateType != A && !InGuardDist && !var(47)
TriggerAll = EnemyNear(var(57)),StateType != L && EnemyNear(var(57)),MoveType != H
TriggerAll = EnemyNear(var(57)),StateType=C
triggerall = (P2bodydist X = [-5,85]) && !P2bodydist Y
triggerall = Var(30)>=3||var(43)&&floor(var(51)/10000%10)=1
trigger1   = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)

 
;---------------------------------------------------------------------
; 牽制 
;---------------------------------------------------------------------

;---------------------------------------------------------------------
[State -1,パワーMAX発動]
type       = ChangeState
value      = 4150
triggerall = var(59)
triggerall = RoundState = 2 && statetype != A && (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101) && !InGuardDist
triggerall = var(30)=5 && Power >= 2000 && !fvar(8) || var(30)=4 && floor(var(52)/10%10)=1 && fvar(8)=-1
triggerall = EnemyNear(var(57)),StateType != L && EnemyNear(var(57)),MoveType != H && EnemyNear(var(57)),MoveType != A
triggerall = P2Life > 100 && !Enemynear,numproj && EnemyNear(var(57)),vel X <= 0
trigger1   = Random <= 50  && (P2BodyDist X != [120,180])
trigger2   = Random <= 250 && P2BodyDist X >= 180
trigger3   = Random <= 500 && EnemyNear(var(57)),StateType != L

;---------------------------------------------------------------------
[State -1,しゃがみデヨ]
type       = ChangeState
value      = 420
TriggerAll = Var(59) && Random <= var(58)*100
TriggerAll = RoundState = 2 && StateType!= A && !inguarddist
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),MoveType!= H
TriggerAll = EnemyNear(var(57)),StateType!= A
TriggerAll = (EnemyNear(var(57)),StateNo!= [120,159])||EnemyNear(var(57)),StateType=A
TriggerAll = !Enemy,Numproj
TriggerAll = (P2BodyDist X = [70,80]) && EnemyNear(var(57)),vel x <= 0
TriggerAll = P2BodyDist Y >= -35
Trigger1   = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)

;---------------------------------------------------------------------
[State -1,立ちデヨ]
type       = ChangeState
value      = IfElse(P2BodyDist X <= 20,225,220)
TriggerAll = Var(59) && Random <= var(58)*100
TriggerAll = RoundState = 2 && StateType!= A && !inguarddist
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),MoveType!= H
TriggerAll = EnemyNear(var(57)),StateType!= C
TriggerAll = (EnemyNear(var(57)),StateNo!= [120,159])||EnemyNear(var(57)),StateType=A
TriggerAll = !Enemy,Numproj
TriggerAll = (P2BodyDist X = [70,95]) && EnemyNear(var(57)),vel x <= 0
TriggerAll = P2BodyDist Y >= -55
Trigger1   = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)

;---------------------------------------------------------------------
[State -1,立ち中キック]
type       = ChangeState
value      = 240
TriggerAll = Var(59) && Random <= var(58)*100
TriggerAll = RoundState = 2 && StateType!= A && !inguarddist
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),MoveType!= H
TriggerAll = EnemyNear(var(57)),StateType!= C
TriggerAll = (EnemyNear(var(57)),StateNo!= [120,159])||EnemyNear(var(57)),StateType=A
TriggerAll = !Enemy,Numproj
TriggerAll = (P2BodyDist X = [80,110]) && EnemyNear(var(57)),vel x <= 0
TriggerAll = P2BodyDist Y >= -55
Trigger1   = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)

;---------------------------------------------------------------------
[State -1,タイガーショット]
type       = ChangeState
value      = IfElse(Random <= var(58)*3,1000,IfElse(Random <= var(58)*6,1010,1020))+(var(30)=4&&(100*life/const(data.life))<=30)*2000
TriggerAll = Var(59) && Random <= var(58)*25
triggerall = NumProj=0
triggerall = Numhelper(7100)=0 && Numhelper(7110)=0 && Numhelper(7120)=0 && Numhelper(7130)=0 && Numhelper(7140)=0 && Numhelper(7150)=0
triggerall = Numhelper(7200)=0 && Numhelper(7210)=0 && Numhelper(7220)=0 && Numhelper(7230)=0 && Numhelper(7240)=0 && Numhelper(7250)=0
TriggerAll = RoundState = 2 && StateType!= A && !inguarddist
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),StateType!=A && EnemyNear(var(57)),StateType!=C
TriggerAll = (EnemyNear(var(57)),StateNo!= [120,159]) && P2BodyDist Y = 0
Trigger1   = P2BodyDist X > 160 && EnemyNear(var(57)),vel x = 0 && EnemyNear(var(57)),MoveType = I
Trigger1   = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)

;---------------------------------------------------------------------
[State -1,グランドタイガーショット]
type       = ChangeState
value      = IfElse(Random <= var(58)*28,1030,IfElse(Random <= var(58)*31,1040,1050))+(var(30)=4&&(100*life/const(data.life))<=30)*2000
TriggerAll = Var(59) && Random <= var(58)*50
triggerall = NumProj=0
triggerall = Numhelper(7100)=0 && Numhelper(7110)=0 && Numhelper(7120)=0 && Numhelper(7130)=0 && Numhelper(7140)=0 && Numhelper(7150)=0
triggerall = Numhelper(7200)=0 && Numhelper(7210)=0 && Numhelper(7220)=0 && Numhelper(7230)=0 && Numhelper(7240)=0 && Numhelper(7250)=0
TriggerAll = RoundState = 2 && StateType!= A && !inguarddist
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),StateType!=A && EnemyNear(var(57)),StateType!=A
TriggerAll = (EnemyNear(var(57)),StateNo!= [120,159]) && P2BodyDist Y = 0
Trigger1   = P2BodyDist X > 130 && EnemyNear(var(57)),vel x = 0 && EnemyNear(var(57)),MoveType = I
Trigger1   = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)

;---------------------------------------------------------------------
[State -1,ジャンプ弱キック]
Type = ChangeState
value      = 630
TriggerAll = Var(59) || fvar(30)
TriggerAll = RoundState = 2 && StateType = A
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),MoveType!= H
TriggerAll = EnemyNear(var(57)),StateNo!= 5031 && EnemyNear(var(57)),StateNo!= 5036 && EnemyNear(var(57)),StateNo!= 5041
TriggerAll = Vel X > 0 && Vel Y > 0
TriggerAll = P2BodyDist X+(EnemyNear(var(57)),Vel X)*4-(Vel X)*4*(EnemyNear(var(57)),facing)*Facing*(EnemyNear(var(57)),StateType = A)=[-30,-5]
TriggerAll = P2BodyDist Y+(EnemyNear(var(57)),Vel Y+(fvar(28)*4))*4-(Vel Y!=0)*(Vel Y+Const(MoveMent.Yaccel)*4)*4=[15,50]
TriggerAll = (EnemyNear,StateNo!= [120,159])||EnemyNear,StateType!=A
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = Random <= var(58)*100

;---------------------------------------------------------------------
[State -1,ジャンプ中キック]
Type = ChangeState
value      = 640
TriggerAll = Var(59) || fvar(30)
TriggerAll = RoundState = 2 && StateType = A
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),MoveType!= H
TriggerAll = EnemyNear(var(57)),StateNo!= 5031 && EnemyNear(var(57)),StateNo!= 5036 && EnemyNear(var(57)),StateNo!= 5041
TriggerAll = Vel X < 0
TriggerAll = P2BodyDist X+(EnemyNear(var(57)),Vel X)*5-(Vel X)*5*(EnemyNear(var(57)),facing)*Facing*(EnemyNear(var(57)),StateType = A)=[-30,75]
TriggerAll = P2BodyDist Y+(EnemyNear(var(57)),Vel Y+(fvar(28)*5))*5-(Vel Y!=0)*(Vel Y+Const(MoveMent.Yaccel)*5)*5=[-25,40]
TriggerAll = (EnemyNear,StateNo!= [120,159])||EnemyNear,StateType!=A
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = Random <= var(58)*100

;---------------------------------------------------------------------
[State -1,ジャンプ強キック]
Type = ChangeState
value      = 650
TriggerAll = Var(59) || fvar(30)
TriggerAll = RoundState = 2 && StateType = A
TriggerAll = EnemyNear(var(57)),StateType!= L && EnemyNear(var(57)),MoveType!= H
TriggerAll = EnemyNear(var(57)),StateNo!= 5031 && EnemyNear(var(57)),StateNo!= 5036 && EnemyNear(var(57)),StateNo!= 5041
TriggerAll = Vel X >= 0 && Vel Y > 0
TriggerAll = P2BodyDist X+(EnemyNear(var(57)),Vel X)*4-(Vel X)*4*(EnemyNear(var(57)),facing)*Facing*(EnemyNear(var(57)),StateType = A)=[-5,80]
TriggerAll = P2BodyDist Y+(EnemyNear(var(57)),Vel Y+(fvar(28)*4))*4-(Vel Y!=0)*(Vel Y+Const(MoveMent.Yaccel)*4)*4=[-35,40]
TriggerAll = (EnemyNear,StateNo!= [120,159])||EnemyNear,StateType!=A
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = Random <= var(58)*100

;---------------------------------------------------------------------
[State -1,パワー溜め動作]
type       = ChangeState
value      = 4100
TriggerAll = var(59)
TriggerAll = RoundState = 2 && StateType != A && !inguarddist
TriggerAll = !fvar(8) && (var(30)=6 && fvar(37) <72 || var(30)=4 && fvar(37) <100 || var(30)!=4 && Power < 3000)
TriggerAll = var(30)=4 || var(43)&&floor(var(50)/10000000%10)=1
TriggerAll = !Enemy,Numproj && PrevStateNo != 4101
TriggerAll = (Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101)
trigger1   = Random <= 100-((100*life/const(data.life))<=30)*80 && P2BodyDist X >= 160
trigger2   = teammode = single
trigger2   = EnemyNear(var(57)),StateType = L
trigger2   = Random <= 150-((100*life/const(data.life))<=30)*110 && P2bodydist X >= 120

;---------------------------------------------------------------------
[State -1,挑発]
type       = ChangeState
value      = 195
triggerall = var(59) && Random <= var(59)
triggerall = roundstate = 2 && StateType != A && !inguarddist
triggerall = (Ctrl || StateNo=1 || StateNo=19)
triggerall = Life >= (Enemynear,Life)*3 && (100*life/const(data.life)) >= 75
triggerall = !enemy,numproj
trigger1   = EnemyNear(var(57)),movetype != A && EnemyNear(var(57)),vel X <= 0
trigger1   = P2BodyDist X >= 200
trigger2   = EnemyNear(var(57)),statetype = L && EnemyNear(var(57)),stateno != 5120
trigger2   = P2BodyDist X >= 120
    
;=====================================================================
; プレイヤー操作 
;=====================================================================


	 
;=====================================================================
; Super Arts 
;=====================================================================

;---------------------------------------------------------------------
[State -1,タイガーキャノン（LV.3）]
type       = ChangeState
value      =  3020
TriggerAll = !Var(59)
triggerall = NumProj=0
triggerall = Numhelper(7100)=0 && Numhelper(7110)=0 && Numhelper(7120)=0 && Numhelper(7130)=0 && Numhelper(7140)=0 && Numhelper(7150)=0
triggerall = Numhelper(7200)=0 && Numhelper(7210)=0 && Numhelper(7220)=0 && Numhelper(7230)=0 && Numhelper(7240)=0 && Numhelper(7250)=0
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199]) && floor(var(40)/100%10)=1
trigger1   = Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,3]) || var(47)&&(var(22)=[4,5]) || (var(22) = [-2,-1])
trigger1   = (var(30)=[0,1]) && Command = "TigerCanon_Lv.3" || (var(30)=[2,6]) && Command = "TigerCanon"
trigger2   = (stateno=5001 || stateno=5011 || stateno=151 || stateno=153 || stateno=140) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = (var(30)=[0,1]) && Var(0)=1300 || (var(30)=[2,6]) && Var(0)=[1100,1300]

;---------------------------------------------------------------------
[State -1,タイガーキャノン（LV.2）]
type       = ChangeState
value      =  3010
TriggerAll = !Var(59)
triggerall = NumProj=0
triggerall = Numhelper(7100)=0 && Numhelper(7110)=0 && Numhelper(7120)=0 && Numhelper(7130)=0 && Numhelper(7140)=0 && Numhelper(7150)=0
triggerall = Numhelper(7200)=0 && Numhelper(7210)=0 && Numhelper(7220)=0 && Numhelper(7230)=0 && Numhelper(7240)=0 && Numhelper(7250)=0
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199]) && floor(var(40)/10%10)=1
trigger1   = Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,3]) || var(47)&&(var(22)=[4,5]) || (var(22) = [-2,-1])
trigger1   = Command = "TigerCanon_Lv.3" && floor(var(40)/100%10)=0 || Command = "TigerCanon_Lv.2"
trigger2   = (stateno=5001 || stateno=5011 || stateno=151 || stateno=153 || stateno=140) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = Var(0)=1300 && floor(var(40)/100%10)=0 || Var(0)=1200

;---------------------------------------------------------------------
[State -1,タイガーキャノン（LV.1）]
type       = ChangeState
value      =  3000
TriggerAll = !Var(59)
triggerall = NumProj=0
triggerall = Numhelper(7100)=0 && Numhelper(7110)=0 && Numhelper(7120)=0 && Numhelper(7130)=0 && Numhelper(7140)=0 && Numhelper(7150)=0
triggerall = Numhelper(7200)=0 && Numhelper(7210)=0 && Numhelper(7220)=0 && Numhelper(7230)=0 && Numhelper(7240)=0 && Numhelper(7250)=0
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199]) && floor(var(40)%10)=1
trigger1   = Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,3]) || var(47)&&(var(22)=[4,5]) || (var(22) = [-2,-1])
trigger1   = Command = "TigerCanon_Lv.3" && floor(var(40)/100%10)=0 || Command = "TigerCanon_Lv.2" && floor(var(40)/10%10)=0 || Command = "TigerCanon_Lv.1"
trigger2   = (stateno=5001 || stateno=5011 || stateno=151 || stateno=153 || stateno=140) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = Var(0)=1300 && floor(var(40)/100%10)=0 || Var(0)=1200 && floor(var(40)/10%10)=0 || Var(0)=1100

;---------------------------------------------------------------------
[State -1,グランドタイガーキャノン（LV.3）]
type       = ChangeState
value      =  3050
TriggerAll = !Var(59)
triggerall = NumProj=0
triggerall = Numhelper(7100)=0 && Numhelper(7110)=0 && Numhelper(7120)=0 && Numhelper(7130)=0 && Numhelper(7140)=0 && Numhelper(7150)=0
triggerall = Numhelper(7200)=0 && Numhelper(7210)=0 && Numhelper(7220)=0 && Numhelper(7230)=0 && Numhelper(7240)=0 && Numhelper(7250)=0
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199]) && floor(var(40)/100%10)=1
trigger1   = Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,3]) || var(47)&&(var(22)=[4,5]) || (var(22) = [-2,-1])
trigger1   = (var(30)=[0,1]) && Command = "GroundTigerCanon_Lv.3" || (var(30)=[2,6]) && Command = "GroundTigerCanon"
trigger2   = (stateno=5001 || stateno=5011 || stateno=151 || stateno=153 || stateno=140) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = (var(30)=[0,1]) && Var(0)=1300 || (var(30)=[2,6]) && Var(0)=[1100,1300]

;---------------------------------------------------------------------
[State -1,グランドタイガーキャノン（LV.2）]
type       = ChangeState
value      =  3040
TriggerAll = !Var(59)
triggerall = NumProj=0
triggerall = Numhelper(7100)=0 && Numhelper(7110)=0 && Numhelper(7120)=0 && Numhelper(7130)=0 && Numhelper(7140)=0 && Numhelper(7150)=0
triggerall = Numhelper(7200)=0 && Numhelper(7210)=0 && Numhelper(7220)=0 && Numhelper(7230)=0 && Numhelper(7240)=0 && Numhelper(7250)=0
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199]) && floor(var(40)/10%10)=1
trigger1   = Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,3]) || var(47)&&(var(22)=[4,5]) || (var(22) = [-2,-1])
trigger1   = Command = "GroundTigerCanon_Lv.3" && floor(var(40)/100%10)=0 || Command = "GroundTigerCanon_Lv.2"
trigger2   = (stateno=5001 || stateno=5011 || stateno=151 || stateno=153 || stateno=140) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = Var(0)=1300 && floor(var(40)/100%10)=0 || Var(0)=1200

;---------------------------------------------------------------------
[State -1,グランドタイガーキャノン（LV.1）]
type       = ChangeState
value      =  3030
TriggerAll = !Var(59)
triggerall = NumProj=0
triggerall = Numhelper(7100)=0 && Numhelper(7110)=0 && Numhelper(7120)=0 && Numhelper(7130)=0 && Numhelper(7140)=0 && Numhelper(7150)=0
triggerall = Numhelper(7200)=0 && Numhelper(7210)=0 && Numhelper(7220)=0 && Numhelper(7230)=0 && Numhelper(7240)=0 && Numhelper(7250)=0
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199]) && floor(var(40)%10)=1
trigger1   = Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,3]) || var(47)&&(var(22)=[4,5]) || (var(22) = [-2,-1])
trigger1   = Command = "GroundTigerCanon_Lv.3" && floor(var(40)/100%10)=0 || Command = "GroundTigerCanon_Lv.2" && floor(var(40)/10%10)=0 || Command = "GroundTigerCanon_Lv.1"
trigger2   = (stateno=5001 || stateno=5011 || stateno=151 || stateno=153 || stateno=140) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = Var(0)=1300 && floor(var(40)/100%10)=0 || Var(0)=1200 && floor(var(40)/10%10)=0 || Var(0)=1100

;---------------------------------------------------------------------
[State -1,タイガージェノサイド（LV.3）]
type       = ChangeState
value      =  3220
TriggerAll = !Var(59)
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199]) && floor(var(40)/100%10)=1
trigger1   = Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,3]) || var(47)&&(var(22)=[4,5]) || (var(22) = [-2,-1])
trigger1   = (var(30)=[0,1]) && Command = "TigerGenocide_Lv.3" || (var(30)=[2,6]) && Command = "TigerGenocide"
trigger2   = (stateno=5001 || stateno=5011 || stateno=151 || stateno=153 || stateno=140) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = (var(30)=[0,1]) && Var(0)=4300 || (var(30)=[2,6]) && Var(0)=[4100,4300]

;---------------------------------------------------------------------
[State -1,タイガージェノサイド（LV.2）]
type       = ChangeState
value      =  3210
TriggerAll = !Var(59)
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199]) && floor(var(40)/10%10)=1
trigger1   = Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,3]) || var(47)&&(var(22)=[4,5]) || (var(22) = [-2,-1])
trigger1   = Command = "TigerGenocide_Lv.3" && floor(var(40)/100%10)=0 || Command = "TigerGenocide_Lv.2"
trigger2   = (stateno=5001 || stateno=5011 || stateno=151 || stateno=153 || stateno=140) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = Var(0)=4300 && floor(var(40)/100%10)=0 || Var(0)=4200

;---------------------------------------------------------------------
[State -1,タイガージェノサイド（LV.1）]
type       = ChangeState
value      =  3200
TriggerAll = !Var(59)
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199]) && floor(var(40)%10)=1
trigger1   = Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,3]) || var(47)&&(var(22)=[4,5]) || (var(22) = [-2,-1])
trigger1   = Command = "TigerGenocide_Lv.3" && floor(var(40)/100%10)=0 || Command = "TigerGenocide_Lv.2" && floor(var(40)/10%10)=0 || Command = "TigerGenocide_Lv.1"
trigger2   = (stateno=5001 || stateno=5011 || stateno=151 || stateno=153 || stateno=140) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = Var(0)=4300 && floor(var(40)/100%10)=0 || Var(0)=4200 && floor(var(40)/10%10)=0 || Var(0)=4100

;---------------------------------------------------------------------
[State -1,タイガーレイド（LV.3）]
type       = ChangeState
value      = 3120
TriggerAll = !Var(59)
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199]) && floor(var(40)/100%10)=1
trigger1   = Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,3]) || var(47)&&(var(22)=[4,5]) || (var(22) = [-2,-1])
trigger1   = (var(30)=[0,1]) && Command = "TigerRaid_Lv.3" || (var(30)=[2,6]) && Command = "TigerRaid"
trigger2   = (stateno=5001 || stateno=5011 || stateno=151 || stateno=153 || stateno=140) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = (var(30)=[0,1]) && Var(0)=3300 || (var(30)=[2,6]) && Var(0)=[3100,3300]

;---------------------------------------------------------------------
[State -1,タイガーレイド（LV.2）]
type       = ChangeState
value      = 3110
TriggerAll = !Var(59)
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199]) && floor(var(40)/10%10)=1
trigger1   = Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,3]) || var(47)&&(var(22)=[4,5]) || (var(22) = [-2,-1])
trigger1   = Command = "TigerRaid_Lv.3" && floor(var(40)/100%10)=0 || Command = "TigerRaid_Lv.2"
trigger2   = (stateno=5001 || stateno=5011 || stateno=151 || stateno=153 || stateno=140) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = Var(0)=3300 && floor(var(40)/100%10)=0 || Var(0)=3200

;---------------------------------------------------------------------
[State -1,タイガーレイド（LV.1）]
type       = ChangeState
value      = 3100
TriggerAll = !Var(59)
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199]) && floor(var(40)%10)=1
trigger1   = Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,3]) || var(47)&&(var(22)=[4,5]) || (var(22) = [-2,-1])
trigger1   = Command = "TigerRaid_Lv.3" && floor(var(40)/100%10)=0 || Command = "TigerRaid_Lv.2" && floor(var(40)/10%10)=0 || Command = "TigerRaid_Lv.1"
trigger2   = (stateno=5001 || stateno=5011 || stateno=151 || stateno=153 || stateno=140) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = Var(0)=4300 && floor(var(40)/100%10)=0 || Var(0)=4200 && floor(var(40)/10%10)=0 || Var(0)=4100

;---------------------------------------------------------------------
[State -1,アングリーチャージ]
type       = ChangeState
value      = 3300
TriggerAll = !Var(59)
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199]) && var(40)>0
trigger1   = Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,3]) || var(47)&&(var(22)=[4,5]) || (var(22) = [-2,-1])
trigger1   = Command = "AngryCharge"
trigger2   = (stateno=5001 || stateno=5011 || stateno=151 || stateno=153 || stateno=140) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = Var(0)=5000
 
;=====================================================================
; Special Arts 
;=====================================================================
;---------------------------------------------------------------------
[State -1,タイガークラッシュ]
type       = ChangeState
value      = 1200
TriggerAll = !Var(59)
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199])
trigger1   = Var(17)&&var(22)=3 || Ctrl || StateNo=40 || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,2]) || Var(30)=1&&var(22)=-1 || var(47)&&(var(22)=[3,5]) || var(22)=3&&var(43)&&floor(var(50)%100000)=1
trigger1   = Command = "TigerCrash_a" || Command = "TigerCrash_b" || Command = "TigerCrash_c"
trigger2   = (stateno=5001 || stateno=5011) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = var(0)=[31,33]

;---------------------------------------------------------------------
[State -1,タイガーアッパーカット・弱]
type       = ChangeState
value      = 1100
TriggerAll = !Var(59)
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199])
trigger1   = Var(17)&&var(22)=3 || Ctrl || StateNo=40 || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,2]) || Var(30)=1&&var(22)=-1 || var(47)&&(var(22)=[3,5]) || var(22)=3&&var(43)&&floor(var(50)%100000)=1
trigger1   = Command = "TigerUppercut_x"
trigger2   = (stateno=5001 || stateno=5011) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = var(0)=21

;---------------------------------------------------------------------
[State -1,タイガーアッパーカット・中]
type       = ChangeState
value      = 1110
TriggerAll = !Var(59)
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199])
trigger1   = Var(17)&&var(22)=3 || Ctrl || StateNo=40 || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,2]) || Var(30)=1&&var(22)=-1 || var(47)&&(var(22)=[3,5]) || var(22)=3&&var(43)&&floor(var(50)%100000)=1
trigger1   = Command = "TigerUppercut_y"
trigger2   = (stateno=5001 || stateno=5011) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = var(0)=22

;---------------------------------------------------------------------
[State -1,タイガーアッパーカット・強]
type       = ChangeState
value      = 1120
TriggerAll = !Var(59)
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199])
trigger1   = Var(17)&&var(22)=3 || Ctrl || StateNo=40 || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,2]) || Var(30)=1&&var(22)=-1 || var(47)&&(var(22)=[3,5]) || var(22)=3&&var(43)&&floor(var(50)%100000)=1
trigger1   = Command = "TigerUppercut_z"
trigger2   = (stateno=5001 || stateno=5011) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = var(0)=23

;---------------------------------------------------------------------
[State -1,タイガーショット・弱]
type       = ChangeState
value      = 1000
TriggerAll = !Var(59)
triggerall = NumProj=0
triggerall = Numhelper(7100)=0 && Numhelper(7110)=0 && Numhelper(7120)=0 && Numhelper(7130)=0 && Numhelper(7140)=0 && Numhelper(7150)=0
triggerall = Numhelper(7200)=0 && Numhelper(7210)=0 && Numhelper(7220)=0 && Numhelper(7230)=0 && Numhelper(7240)=0 && Numhelper(7250)=0
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199])
trigger1   = Var(17)&&var(22)=3 || Ctrl || StateNo=40 || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,2]) || Var(30)=1&&var(22)=-1 || var(47)&&(var(22)=[3,5]) || var(22)=3&&var(43)&&floor(var(50)%100000)=1
trigger1   = Command = "TigerShot_x"
trigger2   = (stateno=5001 || stateno=5011) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = var(0)=11

;---------------------------------------------------------------------
[State -1,タイガーショット・中]
type       = ChangeState
value      = 1010
TriggerAll = !Var(59)
triggerall = NumProj=0
triggerall = Numhelper(7100)=0 && Numhelper(7110)=0 && Numhelper(7120)=0 && Numhelper(7130)=0 && Numhelper(7140)=0 && Numhelper(7150)=0
triggerall = Numhelper(7200)=0 && Numhelper(7210)=0 && Numhelper(7220)=0 && Numhelper(7230)=0 && Numhelper(7240)=0 && Numhelper(7250)=0
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199])
trigger1   = Var(17)&&var(22)=3 || Ctrl || StateNo=40 || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,2]) || Var(30)=1&&var(22)=-1 || var(47)&&(var(22)=[3,5]) || var(22)=3&&var(43)&&floor(var(50)%100000)=1
trigger1   = Command = "TigerShot_y"
trigger2   = (stateno=5001 || stateno=5011) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = var(0)=12

;---------------------------------------------------------------------
[State -1,タイガーショット・強]
type       = ChangeState
value      = 1020
TriggerAll = !Var(59)
triggerall = NumProj=0
triggerall = Numhelper(7100)=0 && Numhelper(7110)=0 && Numhelper(7120)=0 && Numhelper(7130)=0 && Numhelper(7140)=0 && Numhelper(7150)=0
triggerall = Numhelper(7200)=0 && Numhelper(7210)=0 && Numhelper(7220)=0 && Numhelper(7230)=0 && Numhelper(7240)=0 && Numhelper(7250)=0
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199])
trigger1   = Var(17)&&var(22)=3 || Ctrl || StateNo=40 || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,2]) || Var(30)=1&&var(22)=-1 || var(47)&&(var(22)=[3,5]) || var(22)=3&&var(43)&&floor(var(50)%100000)=1
trigger1   = Command = "TigerShot_z"
trigger2   = (stateno=5001 || stateno=5011) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = var(0)=13

;---------------------------------------------------------------------
[State -1,グランドタイガーショット・弱]
type       = ChangeState
value      = 1030
TriggerAll = !Var(59)
triggerall = NumProj=0
triggerall = Numhelper(7100)=0 && Numhelper(7110)=0 && Numhelper(7120)=0 && Numhelper(7130)=0 && Numhelper(7140)=0 && Numhelper(7150)=0
triggerall = Numhelper(7200)=0 && Numhelper(7210)=0 && Numhelper(7220)=0 && Numhelper(7230)=0 && Numhelper(7240)=0 && Numhelper(7250)=0
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199])
trigger1   = Var(17)&&var(22)=3 || Ctrl || StateNo=40 || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,2]) || Var(30)=1&&var(22)=-1 || var(47)&&(var(22)=[3,5]) || var(22)=3&&var(43)&&floor(var(50)%100000)=1
trigger1   = Command = "TigerShot_a"
trigger2   = (stateno=5001 || stateno=5011) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = var(0)=14

;---------------------------------------------------------------------
[State -1,グランドタイガーショット・中]
type       = ChangeState
value      = 1040
TriggerAll = !Var(59)
triggerall = NumProj=0
triggerall = Numhelper(7100)=0 && Numhelper(7110)=0 && Numhelper(7120)=0 && Numhelper(7130)=0 && Numhelper(7140)=0 && Numhelper(7150)=0
triggerall = Numhelper(7200)=0 && Numhelper(7210)=0 && Numhelper(7220)=0 && Numhelper(7230)=0 && Numhelper(7240)=0 && Numhelper(7250)=0
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199])
trigger1   = Var(17)&&var(22)=3 || Ctrl || StateNo=40 || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,2]) || Var(30)=1&&var(22)=-1 || var(47)&&(var(22)=[3,5]) || var(22)=3&&var(43)&&floor(var(50)%100000)=1
trigger1   = Command = "TigerShot_b"
trigger2   = (stateno=5001 || stateno=5011) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = var(0)=15

;---------------------------------------------------------------------
[State -1,グランドタイガーショット・強]
type       = ChangeState
value      = 1050
TriggerAll = !Var(59)
triggerall = NumProj=0
triggerall = Numhelper(7100)=0 && Numhelper(7110)=0 && Numhelper(7120)=0 && Numhelper(7130)=0 && Numhelper(7140)=0 && Numhelper(7150)=0
triggerall = Numhelper(7200)=0 && Numhelper(7210)=0 && Numhelper(7220)=0 && Numhelper(7230)=0 && Numhelper(7240)=0 && Numhelper(7250)=0
triggerall = (StateType != A || var(22)=-1 && StateNo = [3100,3199])
trigger1   = Var(17)&&var(22)=3 || Ctrl || StateNo=40 || StateNo=100 && animelemtime(2) >1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,2]) || Var(30)=1&&var(22)=-1 || var(47)&&(var(22)=[3,5]) || var(22)=3&&var(43)&&floor(var(50)%100000)=1
trigger1   = Command = "TigerShot_c"
trigger2   = (stateno=5001 || stateno=5011) && HitOver || stateno=5120 && AnimTime = 0
trigger2   = var(0)=16
 
;=====================================================================
; Basic Animation 
;=====================================================================

;---------------------------------------------------------------------
[State -1,ステップ]
type       = ChangeState
value      = 110
triggerall = !Var(59)
triggerall = Command = "FF" && StateType = S && Ctrl
trigger1   = (var(30) = 1 || var(30) = 2 || var(30) = 3) && !var(43)
trigger2   = var(43)&&floor(var(51)%10)=1

;---------------------------------------------------------------------
[State -1,ラン]
type       = ChangeState
value      = 100
triggerall = !Var(59)
triggerall = Command = "FF" && StateType = S && Ctrl && StateNo != 100
trigger1   = (var(30) = 4 || var(30) = 5 || var(30) = 6) && !var(43)
trigger2   = var(43)&&floor(var(51)%10)=2

;---------------------------------------------------------------------
[State -1,バックステップ]
type       = ChangeState
value      = 105
triggerall = !Var(59)
trigger1   = Command = "BB" && StateType = S && Ctrl
 
;=====================================================================
; Basic Throws 
;=====================================================================

;---------------------------------------------------------------------
[State -1,タイガーキャリー（Ｐ通常投げ）]
type       = ChangeState
value      = 800
triggerall = !var(59)
triggerall = StateNo != 100 && StateType = S && (Ctrl ||var(22) = 5)
triggerall = P2MoveType != H && !P2StateType = A
trigger1   = Command = "fwd_z" && P2BodyDist X < 26
trigger2   = Command = "back_z" && P2BodyDist X < 26

;---------------------------------------------------------------------
[State -1,タイガーレイジ（Ｋ通常投げ）]
type       = ChangeState
value      = 850
triggerall = !var(59)
triggerall = StateNo != 100 && StateType = S && (Ctrl ||var(22) = 5)
triggerall = P2MoveType != H && !P2StateType = A
trigger1   = Command = "fwd_c" && P2BodyDist X < 26
trigger2   = Command = "back_c" && P2BodyDist X < 26
 
;---------------------------------------------------------------------
; Special Attacks , Moves and so on. 
;---------------------------------------------------------------------

;---------------------------------------------------------------------------
;ダウン回避
[State -1]
type = ChangeState
value = 5201
TriggerAll = !Var(59)
triggerall = Alive && fvar(21) = 0
triggerall = StateNo = 5050 || StateNo = 5071
triggerall = Vel Y > 0 && Pos Y >= 10
triggerall = command = "recovery"
trigger1   = var(30)=2 || var(30)=5 || var(30)=6
trigger2   = var(43)&&floor(var(51)/100000%10)=1
persistent = 0

;---------------------------------------------------------------------
[State -1,回り込み]
type       = ChangeState
value      = 4000
TriggerAll = !Var(59)
triggerall = Command = "recovery"  && StateType != A && ((Ctrl || Time < 2 && (stateno=[200,799]) || StateNo=100 && animelemtime(2) >1 || StateNo=101) || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5)))
trigger1   = (var(30)=1 || var(30)=2 || var(30)=5) && !var(43)
trigger2   = var(43)&&floor(var(51)/10%10)=1
trigger3   = var(43)&&floor(var(51)/10%10)=3 && Command = "holdfwd"

;---------------------------------------------------------------------
[State -1,避け]
type       = ChangeState
value      = 4010
TriggerAll = !Var(59)
triggerall = Command = "recovery"  && StateType != A && (Ctrl || Time < 2 && (stateno=[200,799]) || StateNo=100 && animelemtime(2) >1 || StateNo=101)
trigger1   = var(30)=4 && !var(43)
trigger2   = var(43)&&floor(var(51)/10%10)=2
trigger3   = var(43)&&floor(var(51)/10%10)=3

;---------------------------------------------------------------------
[State -1,カウンター攻撃（パンチ）]
type       = ChangeState
value      = 4020
TriggerAll = !Var(59)
triggerall = Command = "x" || Command = "y" || Command = "z"
trigger1   = StateNo = 4010
trigger1   = AnimElem = 3,>1

[State -1,カウンター攻撃（キック）]
type       = ChangeState
value      = 250
TriggerAll = !Var(59)
triggerall = Command = "a" || Command = "b" || Command = "c"
trigger1   = StateNo = 4010
trigger1   = Time = [14,23]

;---------------------------------------------------------------------
[State -1,パワー溜め動作]
type       = ChangeState
value      = 4100
TriggerAll = !Var(59)
TriggerAll = command = "charge1" && command = "charge2" && fvar(8)!
TriggerAll = statetype!= A && (var(30)=6 && fvar(37) <72 || var(30)=4 && fvar(37) <100 || var(30)!=4 && Power < 3000)
TriggerAll   = var(30)=4 || var(43)&&floor(var(50)/10000000%10)=1
Trigger1   = (Ctrl || Time < 2 && (stateno=[200,799]) || StateNo=100 && animelemtime(2) >1 || StateNo=101)

;---------------------------------------------------------------------
[State -1,パワーMAX発動]
type       = ChangeState
value      = 4150
TriggerAll = !Var(59)
TriggerAll = command = "Pow-MAX"
TriggerAll = statetype!= A && (Ctrl || Time < 2 && (stateno=[200,799]) || StateNo=100 && animelemtime(2) >1 || StateNo=101)
Trigger1   = var(30)=5 && Power >= 1000 && fvar(8)!
Trigger2   = var(30)=4 && floor(var(52)/10%10)=1 && fvar(8)=-1

[State -1,クイックMAX発動]
type       = ChangeState
value      = 4160
TriggerAll = !Var(59)
TriggerAll = command = "Pow-MAX"
triggerall = var(30)=4 && floor(var(52)/10%10)=1 && fvar(8)=-1
trigger1   = statetype != A && MoveContact
trigger1   = (StateNo = [200,799]) || var(22)=-2 || (StateNo = 150 || StateNo = 152)

;---------------------------------------------------------------------
[State -1,オリコン発動（地上）]
type       = ChangeState
value      = 4200
TriggerAll = !Var(59)
triggerall = command = "Pow-MAX"
triggerall = statetype != A && var(30)=2 && Power >= 3000 && fvar(8)!
trigger1   = (Ctrl || Time < 2 && (stateno=[200,799]) || StateNo=100 && animelemtime(2) >1 || StateNo=101)

[State -1,オリコン発動（空中）]
type       = ChangeState
value      = 4210
TriggerAll = !Var(59)
triggerall = command = "Pow-MAX"
triggerall = statetype = A && var(30)=2 && Power >= 3000 && fvar(8)!
trigger1   = (Ctrl || Time < 2 && (stateno=[200,799]) || StateNo=100 && animelemtime(2) >1 || StateNo=101)

;---------------------------------------------------------------------
[State -1,ガードキャンセル攻撃]
type       = ChangeState
value      = 4500
TriggerAll = !Var(59)
triggerall = Command = "GC_Attack"
triggerall = (StateNo = 150 || StateNo = 152) && StateType != A
trigger1   = (var(30)=1 && Power>=1000) || (var(30)=2 && (Power>=1500||Fvar(8))) || (var(30)=4 && Fvar(8)) || (var(30)=5 && (Power>=1000||Fvar(8)))
trigger2   = var(43)&&floor(var(51)/100%10)=1
trigger2   = (var(30)=3 && Power>=3000) || (var(30)=6 && Fvar(8))

;---------------------------------------------------------------------
[State -1,ガードキャンセル移動]
type       = ChangeState
value      = IfElse((Command = "GC_back"),4520,4510)
TriggerAll = !Var(59)
triggerall = Command = "GC_fwd" || Command = "GC_back"
triggerall = (StateNo = 150 || StateNo = 152) && StateType != A
trigger1   = (var(30)=1 && Power>=1000) || (var(30)=2 && (Power>=1500||Fvar(8))) || (var(30)=4 && Fvar(8)) || (var(30)=5 && (Power>=1000||Fvar(8)))
trigger2   = var(43)&&floor(var(51)/1000%10)=1
trigger2   = (var(30)=3 && Power>=3000) || (var(30)=6 && Fvar(8))
 
;=====================================================================
; Taunts 
;=====================================================================

;---------------------------------------------------------------------
[State -1,挑発]
type       = ChangeState
value      = 195
TriggerAll = !Var(59)
triggerall = command = "start"
trigger1   = StateType = S
trigger1   = Ctrl || StateNo=100 && animelemtime(2)>1 || StateNo=101 || StateNo=52 && Time>=2 || (var(22)=[1,2]) || Var(30)=1&&var(22)=-1 || var(47)&&(var(22)=[3,5]) || var(22)=3&&var(43)&&floor(var(50)%100000)=1
 
;=====================================================================
; Basic Arts 
;=====================================================================

;---------------------------------------------------------------------
[State -1,立ち弱パンチ]
type       = ChangeState
value      = 200
TriggerAll = !Var(59)
triggerall = Command = "x" && Command != "holddown"
trigger1   = StateType != A && ((Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101) || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5)))

;---------------------------------------------------------------------
[State -1,立ち中パンチ]
type       = ChangeState
value      = 210
TriggerAll = !Var(59)
triggerall = Command = "y" && Command != "holddown"
trigger1   = StateType != A && ((Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101) || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5)))
trigger2   = var(43)&&floor(var(50)/1000%10)=1 && MoveContact = 1
trigger2   = StateNo=200 || StateNo=230 || StateNo=400 || StateNo=430

;---------------------------------------------------------------------
[State -1,立ち強パンチ]
type       = ChangeState
value      = IfElse(P2BodyDist X <= 20,225,220)
TriggerAll = !Var(59)
triggerall = Command = "z" && Command != "holddown"
trigger1   = StateType != A && ((Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101) || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5)))
trigger2   = var(43)&&floor(var(50)/1000%10)=1 && MoveContact = 1
trigger2   = StateNo=200 || StateNo=210 || StateNo=230 || (StateNo=[240,245]) || StateNo=400 || StateNo=410 || StateNo=430 || StateNo=440

;---------------------------------------------------------------------
[State -1,立ち弱キック]
type       = ChangeState
value      = 230
TriggerAll = !Var(59)
triggerall = Command = "a" && Command != "holddown"
trigger1   = StateType != A && ((Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101) || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5)))
trigger2   = var(43)&&floor(var(50)/1000%10)=1 && MoveContact = 1
trigger2   = StateNo=200 || StateNo=400

;---------------------------------------------------------------------
[State -1,立ち中キック]
type       = ChangeState
value      = 240
TriggerAll = !Var(59)
triggerall = Command = "b" && Command != "holddown"
trigger1   = StateType != A && ((Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101) || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5)))
trigger2   = var(43)&&floor(var(50)/1000%10)=1 && MoveContact = 1
trigger2   = StateNo=200 || StateNo=210 || StateNo=230 || StateNo=400 || StateNo=410 || StateNo=430

;---------------------------------------------------------------------
[State -1,立ち強キック]
type       = ChangeState
value      = 250
TriggerAll = !Var(59)
triggerall = Command = "c" && Command != "holddown"
trigger1   = StateType != A && ((Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101) || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5)))
trigger2   = var(43)&&floor(var(50)/1000%10)=1 && MoveContact = 1
trigger2   = StateNo=200 || StateNo=210 || StateNo=220 || StateNo=230 || (StateNo=[240,245]) || StateNo=400 || StateNo=410 || StateNo=420 || StateNo=430 || StateNo=440

;---------------------------------------------------------------------
[State -1,しゃがみ弱パンチ]
type       = ChangeState
value      = 400
TriggerAll = !Var(59)
triggerall = Command = "x" && Command = "holddown"
trigger1   = StateType != A && ((Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101) || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5)))

;---------------------------------------------------------------------
[State -1,しゃがみ中パンチ]
type       = ChangeState
value      = 410
TriggerAll = !Var(59)
triggerall = Command = "y" && Command = "holddown"
trigger1   = StateType != A && ((Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101) || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5)))
trigger2   = var(43)&&floor(var(50)/1000%10)=1 && MoveContact = 1
trigger2   = StateNo=200 || StateNo=230 || StateNo=400 || StateNo=430

;---------------------------------------------------------------------
[State -1,しゃがみ強パンチ]
type       = ChangeState
value      = 420
TriggerAll = !Var(59)
triggerall = Command = "z" && Command = "holddown"
trigger1   = StateType != A && ((Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101) || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5)))
trigger2   = var(43)&&floor(var(50)/1000%10)=1 && MoveContact = 1
trigger2   = StateNo=200 || StateNo=210 || StateNo=230 || (StateNo=[240,245]) || StateNo=400 || StateNo=410 || StateNo=430 || StateNo=440

;---------------------------------------------------------------------
[State -1,しゃがみ弱キック]
type       = ChangeState
value      = 430
TriggerAll = !Var(59)
triggerall = Command = "a" && Command = "holddown"
trigger1   = StateType != A && ((Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101) || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5)))
trigger2   = var(43)&&floor(var(50)/1000%10)=1 && MoveContact = 1
trigger2   = StateNo=200 || StateNo=400

;---------------------------------------------------------------------
[State -1,しゃがみ中キック]
type       = ChangeState
value      = 440
TriggerAll = !Var(59)
triggerall = Command = "b" && Command = "holddown"
trigger1   = StateType != A && ((Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101) || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5)))
trigger2   = var(43)&&floor(var(50)/1000%10)=1 && MoveContact = 1
trigger2   = StateNo=200 || StateNo=210 || StateNo=230 || StateNo=400 || StateNo=410 || StateNo=430

;---------------------------------------------------------------------
[State -1,しゃがみ強キック]
type       = ChangeState
value      = 450
TriggerAll = !Var(59)
triggerall = Command = "c" && Command = "holddown"
trigger1   = StateType != A && ((Ctrl || StateNo=100 && animelemtime(2) >1 || StateNo=101) || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5)))
trigger2   = var(43)&&floor(var(50)/1000%10)=1 && MoveContact = 1
trigger2   = StateNo=200 || StateNo=210 || StateNo=220 || StateNo=230 || (StateNo=[240,245]) || StateNo=400 || StateNo=410 || StateNo=420 || StateNo=430 || StateNo=440

;---------------------------------------------------------------------
[State -1,ジャンプ弱パンチ]
type       = ChangeState
value      = 600
TriggerAll = !Var(59)
triggerall = Command = "x" && StateType = A
trigger1   = StateNo != 105
trigger1   = Ctrl || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5))

;---------------------------------------------------------------------
[State -1,ジャンプ中パンチ]
type       = ChangeState
value      = 610
TriggerAll = !Var(59)
triggerall = Command = "y" && StateType = A
trigger1   = StateNo != 105
trigger1   = Ctrl || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5))
trigger2   = var(43)&&floor(var(50)/10000%10)=1 && MoveContact = 1
trigger2   = StateNo=600 || StateNo=630

;---------------------------------------------------------------------
[State -1,ジャンプ強パンチ]
type       = ChangeState
value      = 620
TriggerAll = !Var(59)
triggerall = Command = "z" && StateType = A
trigger1   = StateNo != 105
trigger1   = Ctrl || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5))
trigger2   = var(43)&&floor(var(50)/10000%10)=1 && MoveContact = 1
trigger2   = StateNo=600 || StateNo=610 || StateNo=630 || StateNo=640

;---------------------------------------------------------------------
[State -1,ジャンプ弱キック]
type       = ChangeState
value      = 630
TriggerAll = !Var(59)
triggerall = Command = "a" && StateType = A
trigger1   = StateNo != 105
trigger1   = Ctrl || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5))
trigger2   = var(43)&&floor(var(50)/10000%10)=1 && MoveContact = 1
trigger2   = StateNo=600

;---------------------------------------------------------------------
[State -1,ジャンプ中キック]
type       = ChangeState
value      = 640
TriggerAll = !Var(59)
triggerall = Command = "b" && StateType = A
trigger1   = StateNo != 105
trigger1   = Ctrl || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5))
trigger2   = var(43)&&floor(var(50)/10000%10)=1 && MoveContact = 1
trigger2   = StateNo=600 || StateNo=610 || StateNo=630

;---------------------------------------------------------------------
[State -1,ジャンプ強キック]
type       = ChangeState
value      = 650
TriggerAll = !Var(59)
triggerall = Command = "c" && StateType = A
trigger1   = StateNo != 105
trigger1   = Ctrl || (var(47) && ((var(22)=[2,4]) || MoveContact && var(22)=5))
trigger2   = var(43)&&floor(var(50)/10000%10)=1 && MoveContact = 1
trigger2   = StateNo=600 || StateNo=610 || StateNo=620 || StateNo=630 || StateNo=640

  
;---------------------------------------------------------------------------
;クリップボード 
[State -2, クリップボード]
type = DisplayToClipboard
Trigger1 = 1
text = "AI=%d, Cancel%d, GP=%f"
params = floor(fvar(11)),var(56),fvar(15)
ignorehitpause = 1

[State -2, 距離確認デバック]
type = AppendToClipboard
Trigger1 = 1
text =  "P2X:%f,P2Y:%f,Vx%f,Vy%f,Py%f \n"
params = P2BodyDist x,P2BodyDist y,vel x,vel y,Pos y
IgnoreHitPause = 1
   
