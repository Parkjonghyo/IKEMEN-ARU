;Var(1)〜(2)   空中ジャンプ制御
;Var(3)        リコイルガード処理
;Var(4)〜(5)   エフェクト処理
;Var(6)〜(9)   ＲＦゲージ処理
;Var(10)       空中ダッシュ制御
;Var(12)       補正用
;Var(13)〜(16) 夜戦スイッチ用
;Var(17)       リコイル制限
;Var(18)       タッグ時バグ回避
;Var(20),(26)〜(28) AMゲージ処理
;Var(21)〜(25) その他補正用
;Var(30)　　　　ポーズ分岐
;var(31)〜(43)
;var(44)
;var(45)



[Data]
life = 1000
power = 3001
attack = 100
defence = 70
fall.defence_up = 100
liedown.time = 25
airjuggle = 50
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 10wa0
IntPersistIndex = 7
floatpersistindex = 35

[Size]
xscale = 1
yscale = 1
ground.back = 13
ground.front = 15
air.back = 12
air.front = 12
height = 40
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0   
head.pos = -0, -60
mid.pos = -0, -40
shadowoffset = 0

[Velocity]
walk.fwd  = 1.5
walk.back = -1.5
run.fwd  = 15, 0
jump.neu = 0,-7.8
jump.back = -6.2
jump.fwd = 6.2
runjump.back = -2.7,-8.0
runjump.fwd = 3,-8.5
airjump.neu = 0,-6.8
airjump.back = -4.5
airjump.fwd = 4.5

[Movement]
airjump.num = 0
airjump.height = 30
yaccel = .42
stand.friction = .85
crouch.friction = .80
;-------------------------------------------------------------------
;ポーズ分岐
[Statedef 190]
type = S


[State 190,]
type = ChangeState
trigger1 = Time = 1
value = 191



;---------------------------------------------------------------------------


[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 192]
type = AssertSpecial
trigger1 = 1
flag = Intro


[State 185]
type = Explod
trigger1 = time = 90
anim = 1407
id = 1407
pos = 0,0
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 2000]
type = PlaySnd
trigger1 = time = 90
value = S3200, 2


[State 106]
type = velset
trigger1 = AnimElem = 2
x = 0


[State 192, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0






;---------------------------------------------------------------------------
; 座り→立ち

[Statedef 12]
type    = S
physics = S
anim = 12

[State 12, 0]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = prevstateno = 5120
value = 13

[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; 空中ジャンプ開始

[Statedef 45]
type = A
physics = N
ctrl = 0
velset = 0,0

[State 45, 1]
type = VarSet
trigger1 = Time = 0
var(1) = 1

[State 45, 1]
type = ChangeAnim
trigger1 = SelfAnimExist(44)
value = 44

[State 45, 2]
type = ChangeAnim
trigger1 = !SelfAnimExist(44)
value = 41

[State 45, 3]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 45, 4]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 45, 5]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 45, 6]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[State 45, 7]
type = ChangeState
trigger1 = Time = 2
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; 二段ジャンプ

[Statedef 50]
type = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = command != "holdup"
var(2) = 0

[State 50, 1]
type = VarSet
trigger1 = command = "holdup"
var(2) = 1

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

;---------------------------------------------------------------------------
;落下


[Statedef 51]
type = A
physics = A

[State 51, 1]
type = VarSet
trigger1 = command != "holdup"
var(2) = 0

[State 51, 1]
type = VarSet
trigger1 = command = "holdup"
var(2) = 1

[State 51, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 51, 2]
type = ChangeAnim
trigger1 = Time = 0
value = 111



;---------------------------------------------------------------------------
;前ダッシュ_開始

[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 1
ctrl = 0
velset = 0,0

[State 101, 5]
type = HitBy
trigger1 = Time = 0
value = SCA,NA,SA,HA,NT,ST,HT
time = 4

[State 100]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 100, Helper];ダッシュエフェクト
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999


[State 100]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 100]
type = playerpush
trigger1 = Anim = 100
value = 1


[State 100, 5]
type = HitBy
trigger1 = Time = 0
value = SCA,NA,SA,HA,NT,ST,HT
time = 4

[State 100]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100]
type = ChangeState
trigger1 = Animtime = 0
value = 101
ctrl = 0

;--------------------------------------------------------------------------------------
;前ダッシュ_移動
[Statedef 101]
type    = S
physics = S
anim = 101
poweradd= 30
sprpriority = 1
ctrl = 0

[State 101]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1



[State 101]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 101]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 101]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 101]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 101, 5]
type = HitBy
trigger1 = Time = 0
value = SCA,NA,SA,HA,NT,ST,HT
time = 15

[State 101]
type = PlaySnd
trigger1 = Time = 1
value = 100,0

[State 101]
type = ChangeState
trigger1 = command != "holdfwd"
trigger1 = Time >= 15
value = 102
ctrl = 0

[State 101]
type = ChangeState
trigger1 = Anim = 101
trigger1 = Animtime = 0
trigger1 = command = "holdfwd"
value = 102
ctrl = 0

;ダッシュ停止
[Statedef 102]
type    = S
physics = N
anim = 102
sprpriority = 1
ctrl = 0

[State 102]
type = VelAdd
trigger1 = time >= 0
trigger1 = Vel X > 0
x = -0.275

[State 102]
type = Velset
trigger1 = time >= 0
trigger1 = Vel X < 0
x = 0

[State 102]
type = AfterImage
trigger1 = time = 1
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 102, 5]
type = HitBy
trigger1 = Time = 0
value = SCA,NA,SA,HA,NT,ST,HT
time = 9


[State 102]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 102]
type = AfterImageTime
Trigger1 = Animelem = 5
Time = 0

[State 102]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;バックダッシュ構え

[Statedef 105]
type    = S
physics = S
ctrl = 0
anim = 105
sprpriority = 1

[State 105, 5]
type = HitBy
trigger1 = Time = 0
value = SCA,NA,SA,HA,NT,ST,HT
time = 4



[State 105]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 105]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 105, Helper];ダッシュエフェクト
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = -1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999


[State 105]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 105]
type = ChangeState
;trigger1 = command = "holdback"
trigger1 = AnimTime = 0
value = 108

[State 105]
type = null;ChangeState
trigger1 = command != "holdback"
trigger1 = AnimTime = 0
value = 106

;バックステップ

[Statedef 106]
type     = A
physics  = N
anim     = 108
ctrl     = 0
poweradd= 30

[State 101, 5]
type = notHitBy
trigger1 = 1
value = SCA


[State 106]
type = Playerpush
trigger1 = Prevstateno = 109
value = 0

[State 106]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 106]
type = velset
trigger1 = AnimElem = 1
x = -3.75
y = -1.75

[State 106]
type = VelAdd
trigger1 = AnimelemTime(3) >= 0
y = 0.30

[State 106]
type = velset
trigger1 = AnimelemTime(3) >= 0
x = -1.5

[State 108]
type = velset
trigger1 = AnimelemTime(6) >= 0
x = 0

[State 106]
type = ChangeState
trigger1 = Pos y > 0
trigger1 = Vel y > 0
value = 107

;バックダッシュ(ステップ)着地

[Statedef 107]
type    = S
physics = S
ctrl = 0
anim = 107
ctrl = 0

[State 107]
type = hitby
trigger1 = time = 0
value = SCA,NA,SA,HA,NT,ST,HT
time = 9


[State 107]
type = VelSet
trigger1 = Time = 0
x = 0

[State 107]
type = VelSet
trigger1 = Time = 0
y = 0

[State 107]
type = PosSet
trigger1 = Time = 0
y = 0

[State 107]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 107]
type = PlaySnd
trigger1 = Time = 0
value = 47,0

[State 107]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;バックダッシュ

[Statedef 108]
type     = A
physics  = N
anim     = 106
ctrl     = 0
poweradd= 30

[State 101, 5]
type = notHitBy
trigger1 = 1
value = SCA

[State 108]
type = playerpush
trigger1 = Prevstateno = 109
value = 0

[State 108]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 108]
type = velset
trigger1 = AnimElem = 1
x = -8.4
y = -2.2

[State 108]
type = VelAdd
trigger1 = AnimelemTime(3) >= 0
y = 0.5

[State 108]
type = ChangeState
trigger1 = Pos y > 0
trigger1 = Vel y > 0
value = 107

;---------------------------------------------------------------------------
;空中前ダッシュ

[Statedef 110]
type    = A
movetype = A
physics = N
Velset = 0,0
ctrl = 0
anim = 110
poweradd= 30


[State 110]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 110]
type = velset
trigger1 = Time = 0
x = 15.5
y = 12

[State 110]
type = varset
trigger1 = Time = 0
v = 10
value = 1

[State 110]
type = PlaySnd
trigger1 = Time = 1
value = 100,0

[State 101, Helper]
Type = Helper
Trigger1 = Time = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999


[State 110]
type = ChangeState
trigger1 = command != "holdfwd"||var(59)
trigger1 = Time = 15
trigger2 = command != "holdfwd"
trigger2 = time >= 15
value = 111

[State 110]
type = ChangeState
trigger1 = command = "holdfwd"
trigger1 = time = 35
value = 111
ctrl = 1

[State 110]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 107
ctrl = 0

;空中前ダッシュ後

[Statedef 111]
type    = A
movetype= I
physics = A
ctrl = 1
anim = 111

[State 111]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 111]
type = Velset
trigger1 = time = 0
x = 4.7

[State 111]
type = PosSet
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
y = 0

[State 111]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;空中バックダッシュ

[StateDef 115]
Type = A
MoveType = I
Physics = N
Anim = 115
Ctrl = 0
VelSet = 0, 0
SprPriority = 0
poweradd= 30

;空中ダッシュ回数減少
[State 115, VarAdd]
Type = VarAdd
Trigger1 = Time = 0
V = 10
Value = -1

[State 115, StateTypeSet]
Type = StateTypeSet
Trigger1 = Time = 14
Physics = A

[State 115, VelSet]
Type = VelSet
Trigger1 = Time = 2
X = -6.0
Y = -2.0

[State 115, VelAdd]
Type = VelAdd
Trigger1 = Time > 2
Trigger1 = Time < 14
Y = 0.25

[State 115, Helper]
Type = Helper
Trigger1 = Time = 0
Persistent = 0
OwnPal = 1
Facing = -1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999


[State 115]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 115]
type = PlaySnd
trigger1 = Time = 1
value = 100,0

[State 115, CtrlSet]
Type = CtrlSet
Trigger1 = Time = 10
Value = 1

[State 115, ChangeState]
Type = ChangeState
Trigger1 = Time > 15
Value = 51

[State 115]
type = ChangeState
trigger1 = command != "holdback"
trigger1 = Time = 15
trigger2 = command != "holdback"
trigger2 = time >= 15
value = 116

[State 115]
type = ChangeState
trigger1 = command = "holdback"
trigger1 = time = 15
value = 116
ctrl = 1


;空中バックダッシュ後

[Statedef 116]
type    = A
movetype= I
physics = A
ctrl = 1
anim = 116

[State 116]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 116]
type = Velset
trigger1 = time = 0
x = -4.7

[State 116]
type = PosSet
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
y = 0

[State 116]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;立ち_リコイルガード
[Statedef 160]
type    = S
physics = S
anim = 160
ctrl = 0
SprPriority = -1



;青ゲージ_リコイル時
[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
trigger1 = time = 0
v = 7
value = ifelse(var(7)<=179,20,199-var(7))
supermove = 1
ignorehitpause = 1
persistent = 0

;赤ゲージ_リコイル時
[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
trigger1 = time = 0
v = 7
value = ifelse(var(7)<=394,5,399-var(7))
supermove = 1
ignorehitpause = 1
persistent = 0

[State 160]
type = PosFreeze
trigger1 = time >= 0

[State 160]
type = Explod
trigger1 = time = 0
anim = 7011
pos = 15,-40
postype = p1
ownpal = 1
ignorehitpause = 1
persistent = 0
sprpriority = 10
bindtime = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
supermove = 1

[State 160]
type = Explod
trigger1 = time = 0
anim = 7018
scale = 1,1
postype = p1
ownpal = 1
ignorehitpause = 1
persistent = 0
sprpriority = 10
bindtime = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
supermove = 1

[State 160]
type = Pause
trigger1 = time = 0
time = var(32)
movetime = var(32)
ignorehitpause = 1

[State 160]
type = Varset
Trigger1 = time = var(32)
v = 17
value = 30

[State 160]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = s120,1
Volume = 999
persistent = 0

[State 160, 5]
type = NotHitBy
Trigger1 = Time = var(32)
Trigger2 = Time >= var(32) 
trigger2 = command = "holdback" || var(59)
value2 = , NT,ST,HT
time = 6

[State 160]
type = ChangeState
Trigger1 = Time = var(32)
Trigger2 = Time >= var(32)
trigger2 = command = "holdback" || var(59)
value = 130
ctrl = 1

[state 160]
type = nothitby
trigger1 = 1
value = SCA

;---------------------------------------------------------------------------
;しゃがみ_リコイルガード
[Statedef 161]
type    = C
physics = C
anim = 161
ctrl = 0
SprPriority = -1


;青ゲージ_リコイル時
[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
trigger1 = time = 0
v = 7
value = ifelse(var(7)<=179,20,199-var(7))
supermove = 1
ignorehitpause = 1
persistent = 0

;赤ゲージ_リコイル時
[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
trigger1 = time = 0
v = 7
value = ifelse(var(7)<=394,5,399-var(7))
supermove = 1
ignorehitpause = 1
persistent = 0

[State 161]
type = PosFreeze
trigger1 = time >= 0

[State 161]
type = Explod
trigger1 = time = 0
anim = 7011
pos = 15,-20
postype = p1
ownpal = 1
ignorehitpause = 1
persistent = 0
sprpriority = 10
bindtime = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
supermove = 1

[State 160]
type = Explod
trigger1 = time = 0
anim = 7018
scale = 1,1
postype = p1
ownpal = 1
ignorehitpause = 1
persistent = 0
sprpriority = 10
bindtime = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
supermove = 1

[State 161]
type = Varset
Trigger1 = time = var(32)
v = 17
value = 30

[State 161]
type = Pause
trigger1 = time = 0
time = var(32)
movetime = var(32)
ignorehitpause = 1

[State 161]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = s120,1
Volume = 999
persistent = 0

[State 160, 5]
type = NotHitBy
Trigger1 = time = var(32)
Trigger2 = Time >= var(32) 
trigger2 = command = "holdback" || var(59)
value2 = , NT,ST,HT
time = 6

[State 161]
type = ChangeState
Trigger1 = time = var(32)
Trigger2 = Time >= var(32)
trigger2 = command = "holdback" || var(59)
value = 131
ctrl = 1

[state 160]
type = nothitby
trigger1 = 1
value = SCA

;---------------------------------------------------------------------------
;空中_リコイルガード
[Statedef 162]
type    = A
physics = N
anim = 162
ctrl = 0
SprPriority = -1



;青ゲージ_リコイル時
[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
trigger1 = time = 0
v = 7
value = ifelse(var(7)<=179,20,199-var(7))
supermove = 1
ignorehitpause = 1
persistent = 0

;赤ゲージ_リコイル時
[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
trigger1 = time = 0
v = 7
value = ifelse(var(7)<=394,5,399-var(7))
supermove = 1
ignorehitpause = 1
persistent = 0

[State 162]
type = PosFreeze
trigger1 = time >= 0

[State 162]
type = Explod
trigger1 = time = 0
anim = 7011
pos = 15,-40
postype = p1
ownpal = 1
ignorehitpause = 1
persistent = 0
sprpriority = 10
bindtime = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
supermove = 1

[State 162]
type = Pause
trigger1 = time = 0
time = var(32)
movetime = var(32)
ignorehitpause = 1

[State 162]
type = Varset
Trigger1 = time = var(32)
v = 17
value = 30

[State 162]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = s120,1
Volume = 999
persistent = 0

[State 162]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52
ctrl = 0

[State 160, 5]
type = NotHitBy
Trigger1 = Time = var(32)
Trigger2 = Time >= var(32) 
trigger2 = command = "holdback" || var(59)
value2 = , NT,ST,HT
time = 6

[State 162]
type = ChangeState
Trigger1 = Time = var(32)
Trigger2 = Time >= var(32) 
trigger2 = command = "holdback" || var(59)
value = 132
ctrl = 1

[state 160]
type = nothitby
trigger1 = 1
value = SCA


;---------------------------------------------------------------------------
;アーマーガ−ド（立ち）
[Statedef 165]
type = U
movetype = H
physics = U
anim = 150
ctrl = 0

[state 165]
type = ChangeAnim
trigger1 = statetype = C
trigger1 = time = 0
value = 151

[state 165]
type = nothitby
trigger1 = time >= 0
value = SCA

[state 165]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = s120,1
Volume = 999
persistent = 0
channnel = 4

[state 165]
type = PlaySnd
triggerall = palno = 12
trigger1 = AnimElemTime(1) = 0
trigger1 = random < 400
value = S0,160
channel = 0

[State 165]
type = Explod
trigger1 = statetype = C
trigger1 = time = 0
anim = 7011
pos = 15,-20
postype = p1
ownpal = 1
ignorehitpause = 1
persistent = 0
sprpriority = 10
bindtime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
supermove = 1

[State 165]
type = Explod
trigger1 = statetype = S
trigger1 = time = 0
anim = 7011
pos = 15,-40
postype = p1
ownpal = 1
ignorehitpause = 1
persistent = 0
sprpriority = 10
bindtime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
supermove = 1

[state 165]
type = ChangeState
trigger1 = time = 0
value = 130
ctrl = 1

;アーマーガ−ド（空中）
[Statedef 167]
type = A
movetype = H
physics = A
ctrl = 0
anim = 152
PowerAdd = 0

[state 167]
type = nothitby
trigger1 = time >= 0
value = SCA

[state 167]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = s120,1
Volume = 999
persistent = 0
channnel = 4

[State 167]
type = Explod
trigger1 = time = 0
anim = 7011
pos = 15,-40
postype = p1
ownpal = 1
ignorehitpause = 1
persistent = 0
sprpriority = 10
bindtime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
supermove = 1

[state 167]
type = ChangeState
trigger1 = time = 0
value = 132
ctrl = 1

;---------------------------------------------------------------------------
;負け
[Statedef 170]
type = S
ctrl = 0
anim = 5500
velset = 0,0
sprpriority = 0

[State 170]
type = explod
trigger1 = time = 1
anim =  7024
postype = p1
pos = 0,-20
scale = 1.5,1.5
sprpriority = 9

[State 170]
type = AssertSpecial
trigger1 = time = [0, 200]
flag = roundnotover

[State 170]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1


;---------------------------------------------------------------------------

;勝ち
[Statedef 180]
type = S


[State 180]
type = ChangeState
triggerall = MatchOver = 1
trigger1 = numpartner = 0
trigger2 = numpartner > 0
trigger2 = partner,alive = 0 || fvar(7) = 0
value = 181



[State 180]
type = ChangeState
trigger1 = MatchOver = 0
trigger2 = MatchOver = 1
trigger2 = numpartner > 0
trigger2 = partner,alive = 1 && fvar(7)
value = 185

;-------------------------------------------------------------------------------
;勝ち
[Statedef 185]
type = S
ctrl = 0
anim = 185
velset = 0,0
sprpriority = 0

[State 4973]
type = Explod
trigger1 = time >= 15 && time <= 100
trigger1 = timemod = 10,0
anim = 4960
id = 12070
pos = -20+(random%90),-1+(random%40)
vel = ifelse(facing=1,-13,13),7.2
postype = front
ownpal = 1
scale = 1.1,1.1
removetime = 99
sprpriority = 3
persistent = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 15 && time <= 100
trigger1 = timemod = 16,0
anim = 4962
id = 12090
pos = -10+(random%99),-33+(random%40)
vel = ifelse(facing=1,-13,13),6
postype = front
ownpal = 1
scale = 1.0,1.0
removetime = 99
sprpriority = 3
persistent = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 15 && time <= 100
trigger1 = timemod = 11,0
anim = 4963
id = 12100
pos = -40+(random%90),-52+(random%40)
vel = ifelse(facing=1,-13,13),5.1
postype = front
ownpal = 1
removetime = 99
sprpriority = 3
persistent = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 15 && time <= 100
trigger1 = timemod = 17,0
anim = 4960
id = 12100
pos = -22+(random%30),-60
vel = ifelse(facing=1,-10,10),7.6
accel = ifelse(facing=1,.075,-.075),ifelse(facing=1,.025,-.025)
postype = front
ownpal = 1
removetime = 99
sprpriority = 3
persistent = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 15 && time <= 100
trigger1 = timemod = 14,0
anim = 4961
id = 12100
pos = -16+(random%30),-60
vel = ifelse(facing=1,-10,10),4.6
accel = ifelse(facing=1,.075,-.075),ifelse(facing=1,.05,-.05)
postype = front
ownpal = 1
removetime = 99
sprpriority = 3
persistent = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 15 && time <= 100
trigger1 = timemod = 13,0
anim = 4964
id = 12100
pos = -10+(random%30),-55
vel = ifelse(facing=1,-10,10),7.8
accel = ifelse(facing=1,.075,-.075),ifelse(facing=1,.025,-.025)
postype = front
ownpal = 1
removetime = 99
persistent = 0
sprpriority = 3
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 15 && time <= 100
trigger1 = timemod = 14,0
anim = 4962
id = 12100
pos = -10+(random%40),-60
vel = ifelse(facing=1,-7,7),7.6
accel = ifelse(facing=1,.075,-.075),ifelse(facing=1,.025,-.025)
postype = front
ownpal = 1
removetime = 99
sprpriority = 3
persistent = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 15 && time <= 100
trigger1 = timemod = 13,0
anim = 4964
id = 12100
pos = 0+(random%30),-55
vel = ifelse(facing=1,-7,7),4.8
accel = ifelse(facing=1,.075,-.075),ifelse(facing=1,.015,-.015)
postype = front
ownpal = 1
removetime = 99
persistent = 0
sprpriority = 3
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 15 && time <= 100
trigger1 = timemod = 14,0
anim = 4963
id = 12100
pos = 0+(random%60),-60
vel = ifelse(facing=1,-7,7),4.6
accel = ifelse(facing=1,.075,-.075),0
postype = front
ownpal = 1
removetime = 99
sprpriority = 3
persistent = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 15 && time <= 100
trigger1 = timemod = 14,0
anim = 4961
id = 12100
pos = ifelse(facing=1,-15,15)+(random%60),-60
vel = -4,4
accel = ifelse(facing=1,.04,-.04),0
postype = front
ownpal = 1
removetime = 99
sprpriority = 3
persistent = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 15 && time <= 100
trigger1 = timemod = 13,0
anim = 4964
id = 12100
pos = 0+(random%30),-55
vel = -4,4
accel = ifelse(facing=1,.04,-.04),0
postype = front
ownpal = 1
removetime = 99
persistent = 0
sprpriority = 3
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 15 && time <= 100
trigger1 = timemod = 13,0
anim = 4964
id = 12100
pos = 10+(random%30),-55
vel = ifelse(facing=1,-4,4),2.8
postype = front
ownpal = 1
removetime = 99
persistent = 0
sprpriority = 3
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4972]
type = Explod
trigger1 = time >= 15 && time <= 100
trigger1 = timemod = 13,0
anim = 4964
id = 12100
pos = 40+(random%50),-55
vel = ifelse(facing=1,-4,4),2.8
postype = front
ownpal = 1
persistent = 0
sprpriority = 3
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999







;---------------------------------------------------------------------------
;ポーズ分岐
[Statedef 181]
type = S

[State 180,]
type = VarRandom
trigger1 = 1
v = 30
range = 0,20

[State 190,]
type = ChangeState
triggerall = var(45) = 0
trigger1 = var(30) <= 19
trigger1 = Time = 1
value = 182

[State 190,]
type = ChangeState
triggerall = var(45) = 0
trigger1 = var(30) = 20
trigger1 = Time = 1
value = 183

[State 190,]
type = ChangeState
triggerall = var(45) = 1
trigger1 = var(30) <= 20
trigger1 = Time = 0
value = 183

;---------------------------------------------------------------------------



;勝ち
[Statedef 182]
type = S
ctrl = 0
anim = 180
velset = 0,0
sprpriority = 0


[State 180,]
type = VarRandom
trigger1 = 1
v = 30
range = 0,2

[State 180,]
type = changeanim
trigger1 = time = 1
trigger1 = var(30) = 0
value = 180

[State 180,]
type = changeanim
trigger1 = time = 1
trigger1 = var(30) = 1
value = 181

[State 180,]
type = changeanim
trigger1 = time = 1
trigger1 = var(30) = 2
value = 182



[State 181]
type = explod
trigger1 = time = 1
anim =  7024
postype = p1
pos = 0,-20
scale = 2.0,2.0
sprpriority = 9




[State 185]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

;-----------------------------------------------------------------------

;勝ち
[Statedef 183]
type = S
ctrl = 0
anim = 180
velset = 0,0
sprpriority = 0



[State 180,]
type = changeanim
trigger1 = time = 1
value = 183


[State 180,]
type = changeanim
trigger1 = time = 1870
value = 186

[State 180,]
type = playsnd
trigger1 = time = 1
value = S9990

[State 181]
type = helper
trigger1 = time = 10
stateno =  184
postype = p1
pos = -50,-20
scale = 1.0,1.0
sprpriority = 9

[State 181]
type = helper
trigger1 = time = 10
stateno =  186
postype = p1
pos = 50,-20
scale = 1.0,1.0
sprpriority = 9

[State 181]
type = explod
trigger1 = time = 1
anim =  4021
postype = p1
pos = 0,-20
scale = 1.0,1.0
sprpriority = 9

[State 181]
type = explod
trigger1 = time = 1
anim =  7024
postype = p1
pos = 0,-20
scale = 2.0,2.0
sprpriority = 9

[State 181]
type = explod
trigger1 = time = 1
anim =  195
postype = p1
pos = 0,-20
scale = 1.0,1.0
sprpriority = 9

[State 181]
type = explod
trigger1 = time = 1850
anim =  195
postype = p1
pos = 0,-20
scale = 1.0,1.0
sprpriority = 9

[State 181]
type = explod
trigger1 = time = 1
anim =  184
postype = p1
pos = 0,0
scale = 1.0,1.0
sprpriority = 9


[State 181]
type = removeexplod
trigger1 = time = 1877
anim =  184




[State 185]
type = AssertSpecial
trigger1 = Time = [0,1900]
flag = RoundNotOver

;---------------------------------------------------------------------------
[Statedef 184]
type = A
movetype = A
physics = N
ctrl = 0
poweradd = 0
sprpriority = 7
anim = 187
ignorehitpause = 1

[State 181]
type = explod
trigger1 = time = 1855
anim =  193
postype = p1
pos = 0,0
scale = 1.0,1.0
sprpriority = 9


[State 3410]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1



[State 3410]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3410]
type = DestroySelf
trigger1 = time = 1875


;---------------------------------------------------------------------------
[Statedef 186]
type = A
movetype = A
physics = N
ctrl = 0
poweradd = 0
sprpriority = 7
anim = 188
ignorehitpause = 1

[State 181]
type = explod
trigger1 = time = 1855
anim =  193
postype = p1
pos = 0,0
scale = 1.0,1.0
sprpriority = 9


[State 3410]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1



[State 3410]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3410]
type = DestroySelf
trigger1 = time = 1875
;---------------------------------------------------------------------------

; HIT_TRIP2 (fall through air)
[Statedef 5071]
type    = A
movetype= H
physics = N

[State 5071, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5071, 2] ;Acceleration
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5071, 3] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 15
type = ChangeState
value = 5100

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 5100]
type    = L
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 0

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, Envshake]
type = envshake
Trigger1 = time = 0
time = 10
ampl = -3
freq = 110

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
;trigger1 = GetHitVar(fall.yvel) = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 5101

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

[State 5100]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = S5100,0

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100]
type = Explod
trigger1 = Time = 1
anim = 7004
id = 7004
postype = p1
pos = 0, 0
bindtime = 1
ownpal = 1
sprpriority = -1
under = sysvar(1) <= 10
supermove = 1
ignorehitpause = 1
pausemovetime = 20
supermovetime = 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 5101]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 10

[State 5101, 4]
type = VelSet
trigger1 = Time = 0
x = 0

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .6

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 2
type = ChangeState
value = 5110

;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 5110]
type    = L
movetype= H
physics = N

[State 5110, Envshake]
type = envshake
Trigger1 = time = 0
time = 10
ampl = -3
freq = 110

[State 5110, EnvShake]
type = null;FallEnvShake
trigger1 = Time = 0

[State 5110]
type = null;Explod
trigger1 = Time = 1
anim = 7004
id = 7004
postype = p1
pos = 0, 0
bindtime = 1
ownpal = 1
sprpriority = -1
under = sysvar(1) <= 10
supermove = 1
ignorehitpause = 1
pausemovetime = 20
supermovetime = 20

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

;---------------------------------------------------------------------------
; HIT_GETUP
[Statedef 5120]
type    = L
movetype= I
physics = N

[State 5120, 1a] ;Get up anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 5120, 1b] ;Get up anim (for hit up/diag-up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 5120, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5120, 4]
type = HitFallSet
trigger1 = AnimTime = 0
value = 1

[State 5120, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = AnimTime = 0
value = , NT,ST,HT
time = 12

[State 5120, 6] ;Can't be hit right after getting up (short time)
type = NotHitBy
trigger1 = AnimTime = 0
value2 = SCA
time = 3

[State 5120, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (still falling)
[Statedef 5200]
type    = A
movetype= H
physics = N

[State 5200, 1] ;Change anim if done with transition
type = ChangeAnim
trigger1 = Anim = 5035
trigger1 = AnimTime = 0
value = 5050

[State 5200, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5200, 3]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5201

; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type    = A
movetype= H
physics = A
anim = 5200

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -5

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
x = -2
y = -5.5

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201]
type = Explod
trigger1 = time = 1
anim = 7018
scale = 1,1
postype = p1
pos = 0,0
sprpriority = 4
supermove = 0
ownpal = 1

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 5201, 6]
type = GameMakeAnim
trigger1 = Time = 1
value = 60
pos = 0, 0
under = 1

;---------------------------------------------------------------------------
; HIT_AIRFALLRECOVER
[Statedef 5210]
type    = A
movetype= I
physics = N
anim = 5210
ctrl = 0

[State 5210, 1] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 5210, 1]
type = PosFreeze
trigger1 = Time = 0
value = 4

[State 5210, 2] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -20

[State 5210, 1] 
type = VelMul
trigger1 = Time = 4
x = .8
y = .8

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
y = -4.5

[State 5210, 1] 
type = VelMul
trigger1 = Time = 4
trigger1 = Vel Y > 0
y = .5

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -3
y = -2

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -2
y = -1

[State 5210, 2] ;Go up
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdup"
y = -2

[State 5210, 2] ;Go down
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holddown"
y = 1.5

[State 5210, 2] ;Go fwd
type = VelMul
trigger1 = Time = 4
trigger1 = Command = "holdfwd"
x = 1

[State 5210, 2] ;Go back
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdback"
x = -1

[State 5210, 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 15

[State 5210, 4]
type = CtrlSet
trigger1 = Time = 20
value = 1

[State 5210, 5]
type = VelAdd;Gravity
trigger1 = Time >= 4
y = .35

[State 5210, 5] ;Land on ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMP_LAND
ctrl = 1

;---------------------------------------------------------------------------
; Initialize (at the start of the round)
[Statedef 5900]
type = S

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundno = 1
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundno = 1
fvalue = 0

[State 5900, 3] ;Intro
type = ChangeState
trigger1 = roundno = 1
value = 190

[State 5900, 4]
type = VarSet
trigger1 = time = 0
trigger1 = var(35) > 0 
v = 35
value = 0

[State 5900, 5]
type = VarSet
trigger1 = time = 0
trigger1 = var(36) > 0 
v = 36
value = 0

;---------------------------------------------------------------------------
;立ち弱攻撃

[Statedef 200]
type    = S                      
movetype= A                      
physics = S                      
;juggle  = 1
velset = 0,0 
ctrl = 0
anim = 200
poweradd = 5
sprpriority = 2

[State 200]
type = PlaySnd
trigger1 = Time = 1
value = 200,0

[State 200]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA 
damage = ceil(10 * fvar(0))
animtype = Light
guardflag = MA
hitflag = MAF
getpower = 20
priority = 7, Hit
pausetime = 9,10
sparkno = S7000
guard.sparkno = S7007
sparkxy = -20, -30
hitsound = S200, 1
guardsound = S120, 0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
guard.ctrltime = 9
ground.velocity = -2.0
air.type = High
air.velocity = -2.0,-2.0
air.fall = 1
fall.recover = 1
fall.recovertime = ceil(20 * fvar(1)) + 9
;yaccel = 0.33


[State 200]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA 
damage = ceil(10 * fvar(0))
animtype = Light
guardflag = MA
hitflag = MAF
getpower = 20
priority = 7, Hit
pausetime = 9,10
sparkno = S7000
guard.sparkno = S7007
sparkxy = -20, -30
hitsound = S200, 1
guardsound = S120, 0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
guard.ctrltime = 9
ground.velocity = -2.0
air.type = High
air.velocity = -2.0,-2.0
air.fall = 1
fall.recover = 1
fall.recovertime = ceil(20 * fvar(1)) + 9
;yaccel = 0.33

[state 200]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.96 * (1 - 0.04*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 200]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;立ち中攻撃（近）

[Statedef 210]
type    = S
movetype= A
physics = S
;juggle  = 5
poweradd= 15
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 2

[State 210]
type = ChangeState
trigger1 = prevstateno = 410
trigger2 = prevstateno = 210
value = 215

[State 210]
type = PlaySnd
trigger1 = Time = 1
value = 210,0

[State 210]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Medium
damage = ceil(15 * fvar(0))
getpower = 40
guardflag = MA
hitflag = MAF
pausetime = 9,9
sparkno = S7001
guard.sparkno = S7007
sparkxy = -30,-60
hitsound = S210, 1
guardsound = S120, 0
ground.type = low
ground.slidetime = 15
ground.hittime  = 15
guard.ctrltime = 14
ground.velocity = -4
air.type = High
air.velocity = -2.5,-2.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 1
fall.recovertime = ceil(30 * fvar(1)) + 9
;yaccel = 0.33

[state 210]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.95 * (1 - 0.05*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 210]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
x = 1.5

[State 210]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;立ち中攻撃（遠）

[Statedef 215]
type    = S
movetype= A
physics = S
;juggle  = 4
poweradd= 15
ctrl = 0
velset = 0,0
anim = 215
sprpriority = 2

[State 215]
type = PlaySnd
trigger1 = Time = 1
value = 210,0

[State 215]
type = HitDef
trigger1 = AnimElem = 4
trigger1 = enemynear,canrecover=0||enemynear,hitfall=0
attr = S, NA
animtype  = Medium
damage = ceil(15 * fvar(0))
getpower = 40
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S7001
guard.sparkno = S7007
sparkxy = -30,-30
hitsound = S210, 1
guardsound = S120, 0
ground.type = low
ground.slidetime = 15
ground.hittime  = 15
guard.ctrltime = 14
ground.velocity = -4
air.type = High
air.velocity = -2.5,-2
air.fall = 1
fall.recover = 1
fall.recovertime = ceil(30 * fvar(1)) + 9
;yaccel = 0.33

[State 215]
type = velset
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
x = 4.0

[state 215]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.95 * (1 - 0.05*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 215]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;立ち強攻撃

[Statedef 220]
type    = A
movetype= A
physics = S
;juggle  = 5
poweradd= 35
ctrl = 0
velset = 0,0
anim = 220
sprpriority = 2

[State 220]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,0



[State 220]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage = ceil(20 * fvar(0))
getpower = 60
guardflag = MA
hitflag = MAF
pausetime = 9,9
sparkno = S7002
guard.sparkno = S7007
sparkxy = -30,-30
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
guard.ctrltime = 17
ground.velocity = -4
air.type = High
air.velocity = -1.8,-2.4
air.fall = 1
fall.recover = 1
fall.recovertime = ceil(40 * fvar(1)) + 9
;yaccel = 0.33

[State 215]
type = velset
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
x = 2.5



[state 220]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.94 * (1 - 0.06*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0


[State 221]
type = ChangeState
trigger1 = AnimTime = 0
value = 221
ctrl = 0


;-------------------------------------------------------------
;立ち強攻撃（二段目）

[Statedef 221]
type    = S
movetype= A
physics = S
;juggle  = 5
poweradd= 35
ctrl = 0
velset = 0,0
anim = 221
sprpriority = 2

[State 221]
type = PlaySnd
trigger1 = AnimElem = 1
value = 210,0



[State 221]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype  = Hard
damage = ceil(20 * fvar(0))
getpower = 60
guardflag = MA
hitflag = MAF
pausetime = 9,9
sparkno = S7002
guard.sparkno = S7007
sparkxy = -30,-60
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 16
ground.velocity = -4
air.type = High
air.velocity = -2.2,-2.1
air.fall = 1
fall.recover = 1
fall.recovertime = ceil(40 * fvar(1)) + 9
;yaccel = 0.33


[state 221]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.94 * (1 - 0.06*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 221]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[State 215]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
x = 2.0

;--------------------------------------------------------------------
;兜割り

[Statedef 230]
type    = S
movetype= A
physics = S
;juggle  = 7
poweradd= 20
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 230]
type = PlaySnd
trigger1 = AnimElem = 5
value = 210,0




[State 230]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = back
damage = ceil(50 * fvar(0))
HitFlag = MAF
getpower = 60
guardflag = H
priority = 6, HIT
pausetime = 9,9
sparkno = S7002
guard.sparkno = S7007
sparkxy = -10,-20
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -0.3
guard.ctrltime = 20
air.type = High
air.velocity = -3,20
air.fall = 1
fall.recover = 1
fall = 0
fall.recovertime = ceil(80 * fvar(1)) + 9
;yaccel = 0.33



[state 230]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.90 * (1 - 0.10*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 230]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;屈み弱攻撃

[Statedef 400]
type    = C
movetype= A
physics = C
;juggle  = 3
poweradd= 5
ctrl = 0
anim = 400
sprpriority = 2

[State 400]
type = PlaySnd
trigger1 = Time = 1
value = 200,0

[State 400]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = ceil(10 * fvar(0))
getpower = 20
priority  = 3 ,Hit
animtype  = Light
guardflag = L
hitflag = MAF
pausetime = 9,9
sparkno = S7000
guard.sparkno = S7007
sparkxy = -5,-10
hitsound = S200, 1
guardsound = S120, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
guard.ctrltime = 9
ground.velocity = -1.5
air.velocity = -1.5,-3
air.type = High
fall.recovertime = ceil(20 * fvar(1)) + 9
;yaccel = 0.33

[state 400]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.96 * (1 - 0.04*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 400]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
;屈み中攻撃

[Statedef 410]
type    = C
movetype= A
physics = C
;juggle  = 5
poweradd= 13
ctrl = 0
anim = 410
sprpriority = 2

[State 410]
type = ChangeState
trigger1 = prevstateno = 410
trigger2 = prevstateno = 210
value = 215

[State 410]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,0

[State 410]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage = ceil(20 * fvar(0))
getpower = 40
animtype  = Medium
priority  = 3 ,Hit
guardflag = M
hitflag = MAF
pausetime = 9,9
sparkno = S7001
guard.sparkno = S7007
sparkxy = -5,-10
hitsound = S210, 1
guardsound = S120, 0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
guard.ctrltime = 14
ground.velocity = -3
air.velocity = -4,-4
fall.recovertime = ceil(40 * fvar(1) * 0.85) + 9
;yaccel = 0.33

[state 410]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.95 * (1 - 0.05*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 410]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1



;---------------------------------------------------------------------------
;神風グレイブ

[Statedef 420]
type    = C
movetype= A
physics = C
;juggle  = 7
poweradd= 25
ctrl = 0
anim = 420
sprpriority = 2

[State 420, Speed]
type = Velset
trigger1 = AnimElem = 3
x = 2

[State 420, VelSet]
type = VelSet
trigger1 = AnimElem = 7
x = 0

[State 420, 3]
type = VarRandom
trigger1 = time = 0
v = 5
range = 0,4

[State 420]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,0

[State 430]
type = VarRandom
trigger1 = AnimElem = 1
v = 30
range = 0,2



[State 420]
type = HitDef
trigger1 = animelem = 4
attr = C, NA
damage  = ceil(30 * fvar(0))
hitflag = MAF
guardflag = M
hitflag = MAF
animtype = Hard
priority  = 4 ,Hit
getpower = 50
pausetime = 9,9
guard.sparkno = S7007
sparkno = S7002
sparkxy = -5,-30
hitsound   = S220,1
guardsound = S120,0
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
guard.ctrltime = 19
ground.velocity = -1.5,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -0.5,-6.4
guard.velocity = -5
fall.recovertime = ceil(60 * fvar(1)) + 9
fall = 0
air.fall = 1
fall.recover = 0
;yaccel = 0.33

[State 420]
type=varset
triggerall = P2MoveType =H
trigger1 = movehit
fvar(1) = fvar(1) * 0.94 * (1 - 0.06*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 420, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------

;空中弱攻撃

[Statedef 600]
type    = A
movetype= A
physics = A
;juggle  = 3
poweradd= 5
ctrl = 0
anim = 600
sprpriority = 2

[State 600]
type = PlaySnd
trigger1 = Time = 1
value = 200,0

[State 600]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
animtype  = light
damage = ceil(10 * fvar(0))
getpower = 20
hitflag = MAF
guardflag = HA
priority  = 2 ,Hit
pausetime = 9,9
sparkno = S7000
guard.sparkno = S7007
sparkxy = -5,-5
hitsound = S200, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 12
guard.hittime = 12
guard.ctrltime = 7
ground.velocity = -3
air.type = High
air.velocity = -2,-2
air.fall = 1
fall.recover = 1
fall.recovertime = ceil(20 * fvar(1)) + 9
;yaccel = 0.33

[state 600]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.94 * (1 - 0.06*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 600]
type = AfterImageTime
trigger1 = AnimTime = 0
time = 0

[State 600, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
ctrl = 1

;---------------------------------------------------------------------------
;空中中攻撃

[Statedef 610]
type    = A
movetype= A
physics = A
;juggle  = 5
poweradd= 13
ctrl = 0
anim = 610
sprpriority = 2

[State 610]
type = PlaySnd
trigger1 = Time = 1
value = 210,0

[State 610]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
animtype  = Medium
damage = ceil(15 * fvar(0))
getpower = 40
hitflag = MAF
guardflag = HA
priority  = 3 ,Hit
pausetime = 9,9
sparkno = S7001
guard.sparkno = S7007
sparkxy = -10,-10
hitsound = S210, 1
guardsound = S120, 0
ground.type = High
ground.hittime = 15
ground.slidetime = 10
guard.hittime = 15
guard.ctrltime = 14
ground.velocity = -5
air.type = High
airguard.velocity = -3,-4.5
air.velocity = -3,-4.7
air.fall = 1
fall.recover = 1
fall.recovertime = ceil(30 * fvar(1)) + 9
;yaccel = 0.33

[state 610]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.93 * (1 - 0.07*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 610]
type = AfterImageTime
trigger1 = AnimTime = 0
time = 0

[State 610]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
ctrl = 1

;---------------------------------------------------------------------------
;空中強攻撃

[Statedef 620]
type    = A
movetype= A
physics = A
;juggle  = 7
poweradd= 25
ctrl = 0
anim = 620
sprpriority = 2

[State 620]
type = PlaySnd
trigger1 = Time = 1
value = 210,0


[State 620]
type = HitDef
trigger1 = AnimElem= 3
attr = A, NA
damage = ceil(20 * fvar(0))
getpower = 60
hitflag = MAF
guardflag = HA
priority  = 5 ,Hit
pausetime = 9,9
sparkno = S7002
guard.sparkno = S7007
sparkxy = -10,-10
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -6
air.type = High
airguard.velocity = -3,-3
air.velocity = -12,3
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(40 * fvar(1)) + 9
;yaccel = 0.33


[state 620]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.92 * (1 - 0.08*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 620]
type = AfterImageTime
trigger1 = AnimTime = 0
time = 0

[State 620]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
ctrl = 1

;---------------------------------------------------------------------------
;投げ

[statedef 800]
type = S
movetype = A
Physics = S
velset = 0
ctrl = 0
anim = 800
;juggle = 0
SprPriority = 2
Facep2 = 1
poweradd = 20

[state 800]
type = varset 
trigger1 = time = 0
v = 1
value = 0


[State 800]
type = Hitdef
trigger1 = AnimElem = 2
attr = S, NT
hitflag = M-
priority = 1, Miss
sparkno = S7003
sparkxy = -10, -50
sprpriority = 1 
guard.dist = 0
P1Facing = ifelse (FrontEdgeDist<BackEdgeDist, 1, -1)
P2Facing = 1
p1stateno = 810
p2stateno = 813
hitsound   = S800,0

[State 800]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State 800]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;------------------------------------------------------------------------------------------
; 倒れこみ
[Statedef 810]
type    = S
movetype = A
physics = S
anim = 810
poweradd = 0
velset = 0,0

[State 810]
type = nothitby
trigger1 = 1
value = SCA

[State 810]
type = PlaySnd
trigger1 = AnimElem = 2
value = S1000,0




[State 810]
type = width
trigger1 = time = 0
edge = 30,5
persistent = 0





[State 810]
type = Targetlifeadd
trigger1 = animElem = 2
value = - 60


[State 810]
Type = HitAdd
Trigger1 = AnimElem = 2
Value = 1
IgnoreHitPause = 1
Persistent = 0




[State 810]
Type = ChangeState
Trigger1 = animtime = 0
Value = 0
ctrl = 1

;--------------------------------------------
[Statedef 811]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State 811]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1
IgnoreHitPause = 1


[State 811]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1


[State 811]
Type = ChangeAnim
Trigger1 = 1
Value = 5010

[State 811]
Type = SelfState
Trigger1 = Time >= 10
Trigger1 = P2MoveType != A
Value = 5035


;-----------------------------------------
[Statedef 813]
Type    = A
MoveType= H
Physics = N
VelSet = 7,-10

[State 813]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 30
IgnoreHitPause = 1
Persistent = 1


[State 813]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 0
Value = 5030

[State 813]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State 813]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050

[State 813]
Type = VelAdd
Trigger1 = 1
Y = .5

[State 813]
Type = HitFallSet
Trigger1 = 1
Value = 1

[State 813]
Type = SelfState
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
Value = 5100


;--------------------------------------------------------------------------
;壁バウンド時の相手動作
[Statedef 965]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 1

[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0



[State 965, アニメ変更]
type = ChangeAnim
trigger1 = Time = 0
value = 5002

[State 965, アニメ変更]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5050

[State 965, コモンサウンドから]
type = PlaySnd
triggerall = teammode = simul
trigger1 = Time = 0
value = F7,2

[State 965, コモンスパークから]
type = GameMakeAnim
triggerall = teammode = simul
trigger1 = Time = 0
value = 72
pos = 0, -60

[State 965, 速度加算]
type = VelSet
trigger1 = Time = 0
x = 1.2
y = -11.35

[State 965, 重力加算]
type = VelAdd
trigger1 = 1
y = .535

[State 965, 速度乗算]
type = VelMul
trigger1 = Time = 5
x = .75

[State 965, 相手ステート返却]
type = SelfState
trigger1 = (Vel y > -1) && (Pos y >= -1)
trigger1 = Time >= 10
value = 5100

;---------------------------------------------------------------------------
;ステーク_ダッシュ

[Statedef 1000]
type    = S
physics = S
anim = 100
sprpriority = 1
ctrl = 0
velset = 0,0

[State 1000, 5]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 4

[State 1000]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 1000, Helper];ダッシュエフェクト
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999



[State 1000]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1000]
type = playerpush
trigger1 = Anim = 100
value = 1

[State 1000]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1000]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1000]
type = ChangeState
trigger1 = Animtime = 0
value = 1001
ctrl = 0


;---------------------------------------------
;ステーク_ダッシュ2

[Statedef 1001]
type    = S
physics = S
anim = 1000
sprpriority = 1
ctrl = 0

[State 1001]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 9

[State 1001]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1001]
type = AfterImage
trigger1 = time = 0
time = 20
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1001]
type = AfterImage
trigger1 = time = 9
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1001]
Type = VelSet
Trigger1 = Time = [0,3]
X = 7

[State 1001]
Type = VelSet
Trigger1 = Time = [3,6]
X = 12

[State 1001]
Type = VelSet
Trigger1 = Time = [6,9]
X = 20

[State 1001]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1001]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1001]
type = PlaySnd
trigger1 = Time = 1
value = 100,0



[State 1001]
type = ChangeState
trigger1 = Anim = 1000
trigger1 = Animtime = 0
value = 1002
ctrl = 0


;------------------------------------------------------------------
;ステーク＿1段目

[Statedef 1002]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1001
sprpriority = 2
ctrl = 0




[State 1002]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1002]
type = AfterImage
trigger1 = time = 0
time = 13
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1002]
type = AfterImage
trigger1 = time = 13
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1002]
Type = VelSet
Trigger1 = Time = [0,6]
X = 8

[State 1002]
Type = VelSet
Trigger1 = Time = [7,13]
X = 5

[State 1002]
Type = VelSet
Trigger1 = Time = [14,18]
X = 3

[State 1002]
type = Explod
trigger1 = time = 0
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1002]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1002]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn



[State 1002]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = HARD
damage = ceil(20 * fvar(0)),3
getpower = 30
priority  = 7 ,Hit
guardflag = M
hitflag = MAF
pausetime = 35,50
sparkno = S1034
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S4100, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = 0,0
air.type = High
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(99 * fvar(1)) + 9
fall = 0
kill = 0



[State 1002]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.99 * (1 - 0.01*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0




[State 1002,Effect]
type = Explod
trigger1 = Animelem = 1
anim = 1007
ownpal = 1
sprpriority = 9
postype = p1
pos = 15,-28
bindtime = -1
pausemovetime = 9999
supermovetime = 0
ID = 1007
ignorehitpause = 1


[State 1002]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
ID = 1007
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1



[State 1002]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1002]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1002]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1002]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1002]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1002]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1002]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1002]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 1002]
type = ChangeState
trigger1 = movecontact
value = 1003
ctrl = 0

[State 1002]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ステーク＿2段目

[Statedef 1003]
type = S
movetype = A
Physics = S
velset = 0
ctrl = 0
anim = 1002
;juggle = 0
Facep2 = 1
poweradd = 0
sprpriority = 2



[State 1003]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype  = HARD
damage = ceil(80 * fvar(0)),20
getpower = 80
guardflag = M
hitflag = MAF
priority  = 4 ,Hit
pausetime = 1,5
sparkno = S7003
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S3200, 2
guardsound = S120, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = -12.5,-6.7
air.type = High
air.velocity = -12.5,-5.7
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
absolute = 1
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(200 * fvar(1)) + 9
fall = 1
absolute = 1
envshake.time = 15
envshake.freq = 80
envshake.ampl = -6




[State 1003]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.90 * (1 - 0.10*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0




[State 1003,Effect]
type = Explod
trigger1 = Animelem = 1
anim = 1003
ownpal = 1
sprpriority = 9
postype = p1
pos = 15,-30
bindtime = -1
pausemovetime = 9999
supermovetime = 0
ID = 1004
ignorehitpause = 1


[State 1003]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
ID = 1003
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1




[State 1003]
type = Explod
trigger1 = animelem = 2
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 1003]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;----------------------------------------------------------------------------

;プラズマうさみみ_待機

[statedef 1010]
type    = S
physics = S
anim = 1004
ctrl = 0
velset = 0,0
sprpriority = 1

[State 1010, 5]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 20

[State 1010]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5


[State 1010, Helper];ダッシュエフェクト
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999



[State 1010]
type = playerpush
trigger1 = Anim = 1004
value = 1

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1010]
type = ChangeState
trigger1 = Animtime = 0
value = 1011
ctrl = 0



;----------------------------------------------------------------
;プラズマうさみみ_ダッシュ

[Statedef 1011]
type    = S
physics = S
anim = 1005
ctrl = 0
sprpriority = 1


[State 1011, 5]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 36

[State 1011]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1011]
type = AfterImage
trigger1 = time = 0
time = 24
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1011]
type = AfterImage
trigger1 = time = 25
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 1011]
Type = VelSet
Trigger1 = Time = [0,3]
X = 10

[State 1011]
Type = VelSet
Trigger1 = Time = [3,7]
X = 15

[State 1011]
Type = VelSet
Trigger1 = Time = [7,12]
X = 30

[State 1011]
type = VelSet
trigger1 = time = [12,15]
x = 10

[State 1011]
type = VelSet
trigger1 = time = [15,18]
x = 7

[State 1011]
type = VelSet
trigger1 = time = [18,21]
x = 5


[State 1011]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1011]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1011]
type = PlaySnd
trigger1 = Time = 1
value = 100,0


[State 1011]
Type = ChangeState
Trigger1 = Time >= 1
Trigger1 = Time <= 13
Trigger1 = P2BodyDist X = [-20,20]
Trigger1 = p2bodydist Y = [-175,175]
Value = 1012


[State 1011]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

[State 1011]
type = ChangeState
Trigger1 = Time >= 13
trigger1 = command = "insatu"
value = 1600


;--------------------------------------------------------------
;プラズマうさみみ_攻撃

[Statedef 1012]
Type    = A
MoveType= A
Physics = N
;Juggle  = 3
VelSet = 0,0
Ctrl = 0
Anim = 1030
poweradd = 0
sprpriority = 2


[State 1012]
type = PlaySnd
trigger1 = Time = 3
value = s1200,0




[State 1012]
Type = PosAdd
Trigger1 = AnimElem = 1
Y = -70


[State 1012]
Type = VelSet
Trigger1 = AnimElem = 1
X = 0
Y = -1

[State 1012]
Type = VelSet
Trigger1 = AnimElem = 3
X = 1
Y = 15.0

[State 1012]
type = AfterImage
trigger1 = time = 5
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1012]
type = AfterImage
trigger1 = time = 15
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1012]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1012]
Type = Turn
Trigger1 = P2Dist X < -10
Trigger1 = AnimElem = 7



[State 1012]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1012]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1012]
type = PlaySnd
trigger1 = AnimElem = 3
value = 8000,0
channel = 0

[State 1012]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = HARD
damage = ceil(60 * fvar(0)),10
HITflag = MAF
getpower = 60
guardflag = H
priority  = 6 ,Hit
pausetime = 9,9
sparkno = S7021
guard.sparkno = S7007
sparkxy = -20,-30
hitsound = S220,1
guardsound = S120, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = 0,0
air.type = High
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 0
fall.recover = 0
fall.recovertime = ceil(120 * fvar(1)) + 9
fall = 0
p2stateno = 1395
;yaccel = 0.33




[State 1012, 9]
type = MoveHitReset
trigger1 = MoveContact
ignorehitpause = 1

[state 1012]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.92 * (1 - 0.08*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0



[State 1012]
type = Explod
trigger1 = animelem = 3
anim = 1271
id = 1271
vel = 0,0
pos = -24,-30
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 1012]
type = Explod
trigger1 = animelem = 3
anim = 1008
id = 1008
vel = 0,0
pos = 0,5
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1012]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1012]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1012]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1012]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1012]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1012]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1012]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1012]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999





[State 1012]
Type = ChangeState
trigger1 = Pos Y > 0
Value = 1013
Ctrl = 0

;--------------------------------------------
;特殊やられステート
[Statedef 1395]
type	= S
movetype= H
physics	= S
ctrl = 0


[State 1395, StateTypeSet]
Type = StateTypeSet
trigger1 = P2Stateno = 1012
trigger1 = time = 0
type	= S
physics	= S


[State 1395, ChangeAnim2]
Type = ChangeAnim2
trigger1 = time = 0
value = 1320

[State 1395]
type = HitFallSet
trigger1 = 1
value = 0

[State 1395]
type = PosSet
trigger1 = 1
y = 0

[State 1395]
Type = VelSet
trigger1 = 1
x = 0
y = 0


[State 1395]
Type = selfstate
trigger1 = time = 35
value = 5100
ctrl = 0


;--------------------------------------------------------------
;特殊やられステート
[Statedef 1396]
type	= S
movetype= H
physics	= S
ctrl = 0


[State 1396, StateTypeSet]
Type = StateTypeSet
trigger1 = P2Stateno = 1650
trigger1 = time = 0
type	= S
physics	= S


[State 1396, ChangeAnim2]
Type = ChangeAnim2
trigger1 = time = 0
value = 1320

[State 1396]
type = HitFallSet
trigger1 = 1
value = 0

[State 1396]
type = PosSet
trigger1 = 1
y = 0

[State 1396]
Type = VelSet
trigger1 = 1
x = 0
y = 0


[State 1396]
Type = selfstate
trigger1 = time = 26
value = 5100
ctrl = 0


;-------------------------------------------------------------
;プラズマうさみみ・着地

[Statedef 1013]
Type = S
MoveType = A
Physics = S
Ctrl = 0
Anim = 1017
SprPriority = 2
MoveHitPersist = 1


[State 1013, VelMul]
Type = VelMul
Trigger1 = Time = 0
X = 0.2

[State 1013, VelSet]
Type = VelSet
Trigger1 = Time = 0
Y = 0

[State 1013, PosSet]
Type = PosSet
Trigger1 = Time = 0
Y = 0

[State 1013, VelSet]
type = velset
trigger1 = time = 0
x = 1

[State 1013, VelSet]
type = veladd
trigger1 = time = 6
x = -1


[State 1013]
type = Explod
trigger1 = Animelem = 1
anim = 7010
id = 30040
pos = 0,0
postype = p1
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999



[State 1013, ChangeState]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;-------------------------------------------------------------------------

;リボルビング・バンカー_待機

[Statedef 1020]
type    = S
physics = S
anim = 1004
ctrl = 0
velset = 0,0
sprpriority = 1


[State 1020, 5]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 20

[State 1020]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5


[State 1020, Helper]
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999



[State 1020]
type = playerpush
trigger1 = Anim = 1004
value = 1

[State 1020]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1020]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1020]
type = ChangeState
trigger1 = Animtime = 0
value = 1021
ctrl = 0



;------------------------------------------------------------------------------------------------
;リボルビング・バンカー_ダッシュ

[Statedef 1021]
type    = S
physics = S
anim = 1005
ctrl = 0
sprpriority = 1


[State 1021, 5]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 36

[State 1021]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1021]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1021]
type = AfterImage
trigger1 = time = 0
time = 24
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1021]
type = AfterImage
trigger1 = time = 25
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1021]
Type = VelSet
Trigger1 = Time = [0,3]
X = 10

[State 1021]
Type = VelSet
Trigger1 = Time = [3,7]
X = 15

[State 1021]
Type = VelSet
Trigger1 = Time = [7,12]
X = 30

[State 1021]
type = VelSet
trigger1 = time = [12,15]
x = 7

[State 1021]
type = VelSet
trigger1 = time = [15,18]
x = 5

[State 1021]
type = VelSet
trigger1 = time >= 18
x = 3


[State 1021]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1021]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1021]
type = PlaySnd
trigger1 = Time = 1
value = 100,0



[State 1021]
Type = ChangeState
Trigger1 = Time >= 1
Trigger1 = Time <= 13
Trigger1 = P2BodyDist X = [-15,15]
Trigger1 = P2BodyDist Y = [-30,30]
Value = 1022

[State 1021]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

[State 1021]
type = ChangeState
Trigger1 = Time >= 13
trigger1 = command = "insatu"
value = 1600


;-----------------------------------------------------------------------------

;リボルビング・バンカー派生

[Statedef 1022]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1033
poweradd = 0
sprpriority = 7

[State 1022, 5]
type = NotHitBy
trigger1 = animelem = 1
value = SCA
time = 12



[State 1022]
type = playsnd
trigger1 = animelem = 1
value = 210,0

[State 1022]
Type = VelSet
Trigger1 = Time = [0,4]
X = 3

[State 1022]
Type = VelSet
Trigger1 = Time = [4,8]
X = 2

[State 1022]
Type = VelSet
Trigger1 = Time = [8,12]
X = 1

[State 1022]
type = Explod
trigger1 = animelem = 2
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1022]
type = AfterImage
trigger1 = animelem = 1
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1022]
type = HitDef
trigger1 = animelem = 3
attr = S, HP
damage = ceil(20 * fvar(0)),6
getpower = 20
hitflag = MAF
guardflag = M
priority = 7, HIT
pausetime = 50,90
sparkno = S1034
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S4100, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 25
ground.slidetime = 25
guard.hittime = 25
guard.ctrltime = 20
ground.velocity = 0,0
air.type = High
airguard.velocity = 0,0
air.velocity = 0,0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(40 * fvar(1)) + 9
fall = 0
kill = 0
;yaccel = 0.33

[State 1022]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.99 * (1 - 0.01*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 1022]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1022]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1022]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1022]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1022]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1022]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1022]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1022]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 1022]
type = changestate
trigger1 = movecontact
value = 1023
ctrl = 0

[State 1022]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------

;リボルビング・バンカー更に派生

[Statedef 1023]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1051
poweradd = 25
sprpriority = 7


[state 1023]
type = nothitby
trigger1 = animelemtime(3)<0
value = SCA

[State 1023]
type = VarRandom
trigger1 = AnimElem = 1
v = 30
range = 0,2


[state 1023]
type = Explod
trigger1 = animelem = 1
anim = 1040
scale = 1,1
postype = p1
pos = 55,-60
sprpriority = 9
ownpal = 1
ID = 1032
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1023]
type = Explod
trigger1 = animelem = 1
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1023]
type = HitDef
trigger1 = animelem = 2
attr = S, HP
damage = ceil(80 * fvar(0)),15
getpower = 80
hitflag = MAF
guardflag = M
priority = 7, HIT
pausetime = 9,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S3000, 0
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 30
ground.slidetime = 30
guard.hittime = 30
guard.ctrltime = 30
ground.velocity = -7.5,-9.4
air.type = High
airguard.velocity = -3,-3
air.velocity = -8.5 ,-9.9
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(180 * fvar(1)) + 9
fall = 1
absolute = 1
envshake.time = 15
envshake.freq = 80
envshake.ampl = -6
yaccel = 0.33
p2Stateno = 1350


[state 1023]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.90 * (1 - 0.10*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[state 1023]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1023]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1023]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1023]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1023]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1023]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1023]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1023]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[state 1023]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
[Statedef 1034]
type = A
movetype= H
physics = N
pausemove = 0

[State 1034]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X >= 0
x = 0
y = -5.5

[State 1034]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X < 0
x = 0
y = -5.5

[State 1034]
type = VelAdd
trigger1 = time >= 10
y = 0.33

[State 1034]
type = VelAdd
trigger1 = time >= 20
y = 0.11

[State 1034]
type = ChangeAnim2
trigger1 = time = 0
value = 4975

[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0


[State 1034]
type = SelfState
trigger1 = Pos Y > 0
value = 5110

;---------------------------------------------------------------------------
;チェーンガン_待機

[Statedef 1040]
type    = S
physics = S
anim = 1004
ctrl = 0
velset = 0,0
sprpriority = 1


[State 1040, 5]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 20

[State 1040]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5


[State 1040, Helper]
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999



[State 1040]
type = playerpush
trigger1 = Anim = 1004
value = 1

[State 1040]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1040]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1040]
type = ChangeState
trigger1 = Animtime = 0
value = 1041
ctrl = 0

;---------------------------------------------------------------------------------------------------
;チェーンガン_ダッシュ

[Statedef 1041]
type    = S
physics = S
movetype = A
anim = 1041
ctrl = 0
sprpriority = 1


[State 1041, 5]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 36

[State 1041]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1041]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1041]
type = AfterImage
trigger1 = time = 0
time = 24
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1041]
type = AfterImage
trigger1 = time = 25
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1041]
Type = VelSet
Trigger1 = Time = [0,3]
X = 10

[State 1041]
Type = VelSet
Trigger1 = Time = [3,7]
X = 15

[State 1041]
Type = VelSet
Trigger1 = Time = [7,12]
X = 30

[State 1041]
type = VelSet
trigger1 = time = [12,15]
x = 7

[State 1041]
type = VelSet
trigger1 = time = [15,18]
x = 5

[State 1041]
type = VelSet
trigger1 = time >= 18
x = 3


[State 1041]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1041]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1041]
type = PlaySnd
trigger1 = Time = 1
value = 100,0

[State 1041]
type = Hitdef
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 2, Miss
sparkno = S7003
sparkxy = -10, -50
sprpriority = 1
guard.dist = 0
P2Facing = 1
p1stateno = 1043
p2stateno = 811
hitsound   = S800,0
poweradd = 25


[State 1041]
type = playerpush
trigger1 = Anim = 1041
value = 1

[State 1041]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

[State 1041]
type = ChangeState
Trigger1 = Time >= 13
trigger1 = command = "insatu"
value = 1600



;---------------------------------------------
;チェーンガン_打ち上げ

[Statedef 1043]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1045
poweradd = 0
sprpriority = 7


[state 1043]
type = nothitby
trigger1 = animelem = 1
value = SCA

[State 1043]
type = VelSet
trigger1 = time = 1
x = 0

[State 1043]
type = playerpush
trigger1 = Anim = 1043
value = 1



[state 1043]
type = Explod
trigger1 = animelem = 1
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1043]
type = HitDef
trigger1 = animelem = 1
attr = S, HP
damage = ceil(20 * fvar(0)),15
getpower = 20
hitflag = MAF
guardflag = M
priority = 7, HIT
pausetime = 1,15
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S220,1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 30
ground.slidetime = 30
guard.hittime = 30
guard.ctrltime = 25
ground.velocity = 0,-7.7
air.type = High
airguard.velocity = -3,-3
air.velocity = 0,-7.2
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(99 * fvar(1)) + 9
fall = 1
yaccel = 0.33

[state 1043]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.99 * (1 - 0.01*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[state 1043]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1043]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1043]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1043]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1043]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1043]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1043]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1043]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[state 1043]
type = Explod
trigger1 = animelem = 1
anim = 1250
id = 1250
pos = -10,-60
scale = 0.8,1.0
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1043]
type = changestate
trigger1 = animtime = 0
value = 1044
ctrl = 0


;------------------------------------------------------------------
;チェーンガン　攻撃

[Statedef 1044]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1042
poweradd = 25
sprpriority = 7


[state 1044]
type = nothitby
trigger1 = animelem = 1
value = SCA

[State 1044]
type = VelSet
trigger1 = time = 1
x = 0

[State 1044]
type = playerpush
trigger1 = Anim = 1042
value = 1


[State 1044]
type = PlaySnd
trigger1 = Time = 3
value = 8000,8

[state 1044]
type = Explod
trigger1 = animelem = 3
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1044]
type = HitDef
trigger1 = animelem = 3
attr = S, HP
damage = ceil(10 * fvar(0)),15
getpower = 20
hitflag = MAF
guardflag = M
priority = 7, HIT
pausetime = 5,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 30
ground.slidetime = 30
guard.hittime = 30
guard.ctrltime = 25
ground.velocity = 0,-7
air.type = High
airguard.velocity = -3,-3
air.velocity = 0,0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(99 * fvar(1)) + 9
fall = 1
yaccel = 0.33

[State 1044]
type = HitDef
trigger1 = animelem = 4
attr = S, HP
damage = ceil(10 * fvar(0)),15
getpower = 20
hitflag = MAF
guardflag = M
priority = 7, HIT
pausetime = 5,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-80
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 30
ground.slidetime = 30
guard.hittime = 30
guard.ctrltime = 25
ground.velocity = 0,-7
air.type = High
airguard.velocity = -3,-3
air.velocity = 0,0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(99 * fvar(1)) + 9
fall = 1
envshake.time = 4
envshake.freq = 80
envshake.ampl = -4
yaccel = 0.33

[state 1044]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.90 * (1 - 0.10*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[state 1044]
type = Explod
trigger1 = time = 22
anim = 1044
id = 1044
pos = 20,-65
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = time = 24
anim = 1044
id = 1044
pos = 20,-65
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = time = 6
anim = 1044
id = 1044
pos = 20,-65
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = time = 8
anim = 1044
id = 1044
pos = 20,-65
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = time = 10
anim = 1044
id = 1044
pos = 20,-65
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[state 1044]
type = Explod
trigger1 = time = 12
anim = 1044
id = 1044
pos = 20,-65
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = time = 14
anim = 1044
id = 1044
pos = 20,-65
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = time = 16
anim = 1044
id = 1044
pos = 20,-65
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = time = 18
anim = 1044
id = 1044
pos = 20,-65
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = time = 20
anim = 1044
id = 1044
pos = 20,-65
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = time = 26
anim = 1044
id = 1044
pos = 20,-65
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = time = 28
anim = 1044
id = 1044
pos = 20,-65
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = time = 30
anim = 1044
id = 1044
pos = 20,-65
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = time = 32
anim = 1044
id = 1044
pos = 20,-65
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = time = 34
anim = 1044
id = 1044
pos = 20,-65
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = time = 36
anim = 1044
id = 1044
pos = 20,-65
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1044]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1044]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1044]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[state 1044]
type = changestate
trigger1 = time = 38
value = 1045
ctrl = 0

;-------------------------------------------------------------------
;チェーンガン 終了

[Statedef 1045]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1043
poweradd = 0
sprpriority = 7

[state 1045]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------------------------------
;ヘルパー用

[Statedef 1050]
type    = A
physics = N
anim = 1060
ctrl = 0
sprpriority = 5

[State 1050, NotHitBy]
Type = NotHitBy
Trigger1 = 1
Value = SCA

[State 1050, 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1050, 加色]
Type = Trans
Trigger1 = 1
Trans = Add
IgnoreHitPause = 1

[State 1050, リング拡大]
type = AngleDraw
trigger1 = 1
scale = time*0.6,time*0.6
value = 45

[State 1050, リング透明化]
type = PalFX
trigger1 = 1
time = 1
add = -(100+time*7),-(100+time*7),-(100+time*7)
invertall = 0
color = 256

[State 1050,DestroySelf]
type = DestroySelf
trigger1 = time = 60

;-----------------------------------------------------------------------
;三式爆雷

[Statedef 1100]
type = A
movetype = A
physics = A
ctrl = 0
anim = 1500
poweradd = 0
sprpriority = 7

[State 1100]
type = playerpush
trigger1 = Prevstateno = 109
value = 0


[State 1100, 5]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 15

[State 1100]
type = PlaySnd
trigger1 = animelem = 8
value = 8000,6

[State 1100]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1100]
type = AfterImage
trigger1 = animelem = 9
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1100, Helper]
Type = Helper
Trigger1 = animelem = 8
Persistent = 0
OwnPal = 1
PosType = P1
Pos = 15, -48
StateNo = 3410
Name = "sansiki"

[State 1100, Helper]
Type = Helper
Trigger1 = animelem = 8
Persistent = 0
OwnPal = 1
PosType = P1
Pos = 45, -65
StateNo = 3430
Name = "sansiki2"



[State 1100]
type = velset
trigger1 = AnimElem = 1
x = -5.75
y = -8.75

[State 1100]
type = VelAdd
trigger1 = AnimelemTime(3) >= 0
y = 0.07

[State 1100]
type = VelAdd
trigger1 = AnimelemTime(3) >= 0
x = 0.22

[State 1100]
type = velset
trigger1 = AnimelemTime(6) >= 0
x = -4.9


[State 1100]
type = velset
trigger1 = AnimelemTime(7) >= 0
x = -3.2

[State 1100]
type = Explod
trigger1 = animelem = 8
anim = 19000
scale = 0.7,0.5
pos = -15,-40
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999



[State 1100]
Type = ChangeState
trigger1 = Pos Y > 0
Value = 1013
Ctrl = 0


;------------------------------------------------------------------------
;爆雷　ヘルパー用

[Statedef 3410]
type = A
movetype = A
physics = N
ctrl = 0
poweradd = 0
sprpriority = 7
anim = 1501
ignorehitpause = 1


[State 3410]
type = velset
trigger1 = AnimElem = 1
x = 2.0
y = -3.2

[State 3410]
type = VelAdd
trigger1 = AnimelemTime(3) >= 0
y = 0.9



[State 3410]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1



[State 3410, Helper]
Type = Helper
trigger1 = Pos y > 0
Persistent = 0
OwnPal = 1
PosType = P1
Pos = 0, 0
StateNo = 3420
Name = "sansikib1"


[State 3410]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3410]
type = DestroySelf
trigger1 = Pos y > 0


------------------------------------------------------------------------
;爆雷　ヘルパー用

[Statedef 3420]
type = A
movetype = A
physics = N
ctrl = 0
poweradd = 0
sprpriority = 7
anim = 1502
ignorehitpause = 1

[State 3420]
type = PlaySnd
trigger1 = time = 1
value = 4100,1


[State 3420]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1

[State 3420]
type = HitDef
trigger1 = animelem = 1
attr = S, HP
damage    = ceil(30 * root,fvar(0)),4
getpower = 50
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 0,9
sparkno = S7003
guard.sparkno = S7006
sparkxy = -10,-10
;hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 25
ground.slidetime = 25
ground.velocity =0,-6.3
guard.hittime = 25
guard.ctrltime = 20
ground.velocity = 0,0
air.type = High
airguard.velocity =0,-4.4
air.velocity = 0,-7.8
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33


[state 1020]
type = parentvarset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = root,fvar(1) * 0.92
ignorehitpause = 1
persistent=0

[State 3420]
type = Explod
trigger1 = 1
anim = 4350
sprpriority = 9
ownpal = 1
scale = 0.6,0.7
pos = 0,0
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999

[State 3420]
type = Explod
trigger1 = 1
anim = 1034
sprpriority = 9
ownpal = 1
pos = 0,0
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999

[State 3420]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3420]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3420]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3420]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3420]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3420]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3420]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3420]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 3420]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3420]
type = DestroySelf
trigger1 = movehit
trigger2 = time = 6

;---------------------------------------------------------------------------

;爆雷　ヘルパー用2

[Statedef 3430]
type = A
movetype = A
physics = N
ctrl = 0
poweradd = 0
sprpriority = 7
anim = 1501
ignorehitpause = 1


[State 3430]
type = velset
trigger1 = AnimElem = 1
x = 2.4
y = -5.2

[State 3430]
type = VelAdd
trigger1 = AnimelemTime(3) >= 0
y = 0.9



[State 3430]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1




[State 3430, Helper]
Type = Helper
trigger1 = Pos y > 0
Persistent = 0
OwnPal = 1
PosType = P1
Pos = 0, 0
StateNo = 3440
Name = "sansikib2"


[State 3430]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3430]
type = DestroySelf
trigger1 = Pos y > 0


------------------------------------------------------------------------
;爆雷　ヘルパー用2

[Statedef 3440]
type = A
movetype = A
physics = N
ctrl = 0
poweradd = 0
sprpriority = 7
anim = 1502
ignorehitpause = 1


[State 3440]
type = PlaySnd
trigger1 = time = 1
value = 4100,1



[State 3440]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1

[State 3440]
type = HitDef
trigger1 = animelem = 1
attr = S, HP
damage    = ceil(30 * root,fvar(0)),4
getpower = 50
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 0,9
sparkno = S7003
guard.sparkno = S7006
sparkxy = -10,-10
;hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 25
ground.slidetime = 25
ground.velocity =0,-6.3
guard.hittime = 25
guard.ctrltime = 20
air.type = High
airguard.velocity =0,-4.4
air.velocity = 0,-7.8
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33

[state 1020]
type = parentvarset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = root,fvar(1) * 0.92
ignorehitpause = 1
persistent=0


[State 3440]
type = Explod
trigger1 = 1
anim = 4350
sprpriority = 9
ownpal = 1
scale = 0.6,0.7
pos = 0,0
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999

[State 3440]
type = Explod
trigger1 = 1
anim = 1034
sprpriority = 9
ownpal = 1
pos = 0,0
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999

[State 3440]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3440]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3440]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3440]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3440]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3440]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3440]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3440]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 3440]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3440]
type = DestroySelf
trigger1 = movehit
trigger2 = time = 6





;---------------------------------------------------------------------------
;徹甲脚_ダッシュ

[Statedef 1150]
type    = S
physics = S
anim = 100
sprpriority = 1
ctrl = 0
velset = 0,0

[State 1150, 5]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 4

[State 1150]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 1150, Helper];ダッシュエフェクト
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999



[State 1150]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1150]
type = playerpush
trigger1 = Anim = 100
value = 1

[State 1150]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1150]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1150]
type = ChangeState
trigger1 = Animtime = 0
value = 1151
ctrl = 0


;---------------------------------------------
;ステーク_ダッシュ2

[Statedef 1151]
type    = S
physics = S
anim = 1000
sprpriority = 1
ctrl = 0

[State 1151]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 6

[State 1151]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1151]
type = AfterImage
trigger1 = time = 0
time = 20
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1151]
type = AfterImage
trigger1 = time = 9
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1151]
Type = VelSet
Trigger1 = Time = [0,2]
X = 7

[State 1151]
Type = VelSet
Trigger1 = Time = [2,4]
X = 12

[State 1151]
Type = VelSet
Trigger1 = Time = [4,6]
X = 20

[State 1151]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1151]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1151]
type = PlaySnd
trigger1 = Time = 1
value = 100,0


[State 1151]
type = ChangeState
trigger1 = Anim = 1000
trigger1 = Animtime = 0
value = 1152
ctrl = 0


;------------------------------------------------------------------
;徹甲脚＿1段目

[Statedef 1152]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1010
sprpriority = 2
ctrl = 0


[State 1152]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1152]
type = AfterImage
trigger1 = time = 0
time = 10
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1152]
type = AfterImage
trigger1 = time = 10
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1152]
Type = VelSet
Trigger1 = Time = [0,10]
X = 8

[State 1152]
Type = VelSet
Trigger1 = Time = [10,12]
X = 0


[State 1152]
type = Explod
trigger1 = time = 0
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1152]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1152]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn



[State 1152]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = HARD
damage = ceil(30 * fvar(0)),3
getpower = 50
priority  = 7 ,Hit
guardflag = M
hitflag = MAF
pausetime = 9,9
sparkno = S7020
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = -6.2,-2.2
air.type = High
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
fall = 1




[State 1152]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.94 * (1 - 0.06*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0




[State 1152,Effect]
type = Explod
trigger1 = Animelem = 1
anim = 1011
ownpal = 1
sprpriority = 9
postype = p1
pos = 0,-28
bindtime = -1
pausemovetime = 9999
supermovetime = 0
ID = 1007
ignorehitpause = 1


[State 1152]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
ID = 1007
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1



[State 1152]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1152]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1152]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1152]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1152]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1152]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1152]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1152]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 1152]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;------------------------------------------------------------------
;徹甲脚_ダッシュ

[Statedef 1160]
type    = S
physics = S
anim = 100
sprpriority = 1
ctrl = 0
velset = 0,0

[State 1160, 5]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 4

[State 1160]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 1160, Helper];ダッシュエフェクト
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999



[State 1160]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1160]
type = playerpush
trigger1 = Anim = 100
value = 1

[State 1160]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1160]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1160]
type = ChangeState
trigger1 = Animtime = 0
value = 1161
ctrl = 0


;---------------------------------------------
;徹甲脚_ダッシュ2

[Statedef 1161]
type    = S
physics = S
anim = 1000
sprpriority = 1
ctrl = 0

[State 1161]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 6

[State 1161]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1161]
type = AfterImage
trigger1 = time = 0
time = 20
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1161]
type = AfterImage
trigger1 = time = 9
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1161]
Type = VelSet
Trigger1 = Time = [0,2]
X = 5

[State 1161]
Type = VelSet
Trigger1 = Time = [2,4]
X = 10

[State 1161]
Type = VelSet
Trigger1 = Time = [4,6]
X = 15

[State 1161]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1161]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1161]
type = PlaySnd
trigger1 = Time = 1
value = 100,0



[State 1161]
type = ChangeState
trigger1 = Anim = 1000
trigger1 = Animtime = 0
value = 1162
ctrl = 0


;------------------------------------------------------------------
;徹甲脚中＿1段目

[Statedef 1162]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1010
sprpriority = 2
ctrl = 0



[State 1162]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1162]
type = AfterImage
trigger1 = time = 0
time = 10
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1162]
type = AfterImage
trigger1 = time = 10
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1162]
Type = VelSet
Trigger1 = Time = [0,10]
X = 6

[State 1162]
Type = VelSet
Trigger1 = Time = [10,12]
X = 0


[State 1162]
type = Explod
trigger1 = time = 0
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1162]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1162]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn



[State 1162]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = HARD
damage = ceil(30 * fvar(0)),3
getpower = 50
priority  = 7 ,Hit
guardflag = M
hitflag = MAF
pausetime = 9,9
sparkno = S7020
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = -2.2,-4.3
air.type = High
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
fall = 1




[State 1162]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.94 * (1 - 0.06*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0




[State 1162,Effect]
type = Explod
trigger1 = Animelem = 1
anim = 1011
ownpal = 1
sprpriority = 9
postype = p1
pos = 0,-28
bindtime = -1
pausemovetime = 9999
supermovetime = 0
ID = 1007
ignorehitpause = 1


[State 1162]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
ID = 1007
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1



[State 1162]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1162]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1162]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1162]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1162]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1162]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1162]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1162]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1162]
type = ChangeState
trigger1 = movecontact
value = 1163
ctrl = 0

[State 1162]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------
;徹甲脚＿2段目

[Statedef 1163]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1012
sprpriority = 2
ctrl = 0


[State 1163]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1163]
type = AfterImage
trigger1 = time = 0
time = 10
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1163]
type = AfterImage
trigger1 = time = 10
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1163]
Type = VelSet
Trigger1 = Time = [0,10]
X = 0




[State 1163]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1163]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn



[State 1163]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype  = HARD
damage = ceil(30 * fvar(0)),3
getpower = 50
priority  = 7 ,Hit
guardflag = M
hitflag = MAF
pausetime = 9,9
sparkno = S7021
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = -5.2,-4.3
air.type = High
air.velocity = -5.2,-5.6
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
fall = 1




[State 1163]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.93 * (1 - 0.07*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0




[State 1163,Effect]
type = Explod
trigger1 = Animelem = 1
anim = 1013
ownpal = 1
sprpriority = 9
postype = p1
pos = 0,-28
bindtime = -1
pausemovetime = 9999
supermovetime = 0
ID = 1007
ignorehitpause = 1


[State 1163]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
ID = 1007
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1



[State 1163]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1163]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1163]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1163]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1163]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1163]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1163]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1163]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1163]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;------------------------------------------------------------------------------------
;徹甲脚_ダッシュ

[Statedef 1170]
type    = S
physics = S
anim = 100
sprpriority = 1
ctrl = 0
velset = 0,0

[State 1170, 5]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 4

[State 1170]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 1170, Helper];ダッシュエフェクト
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999



[State 1170]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1170]
type = playerpush
trigger1 = Anim = 100
value = 1

[State 1170]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1170]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1170]
type = ChangeState
trigger1 = Animtime = 0
value = 1171
ctrl = 0


;---------------------------------------------
;徹甲脚_ダッシュ2

[Statedef 1171]
type    = S
physics = S
anim = 1000
sprpriority = 1
ctrl = 0

[State 1171]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 6

[State 1171]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1171]
type = AfterImage
trigger1 = time = 0
time = 20
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1171]
type = AfterImage
trigger1 = time = 9
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1171]
Type = VelSet
Trigger1 = Time = [0,2]
X = 5

[State 1171]
Type = VelSet
Trigger1 = Time = [2,4]
X = 10

[State 1171]
Type = VelSet
Trigger1 = Time = [4,6]
X = 15

[State 1171]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1171]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1171]
type = PlaySnd
trigger1 = Time = 1
value = 100,0


[State 1171]
type = ChangeState
trigger1 = Anim = 1000
trigger1 = Animtime = 0
value = 1172
ctrl = 0


;------------------------------------------------------------------
;徹甲脚中＿1段目

[Statedef 1172]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1010
sprpriority = 2
ctrl = 0



[State 1172]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1172]
type = AfterImage
trigger1 = time = 0
time = 10
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1172]
type = AfterImage
trigger1 = time = 10
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1172]
Type = VelSet
Trigger1 = Time = [0,10]
X = 6

[State 1172]
Type = VelSet
Trigger1 = Time = [10,12]
X = 0


[State 1172]
type = Explod
trigger1 = time = 0
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1172]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1172]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn



[State 1172]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = HARD
damage = ceil(30 * fvar(0)),3
getpower = 50
priority  = 7 ,Hit
guardflag = M
hitflag = MAF
pausetime = 9,9
sparkno = S7020
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = -2.2,-4.3
air.type = High
air.velocity = -2.2,-4.3
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
fall = 1




[State 1172]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.93 * (1 - 0.07*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0




[State 1172,Effect]
type = Explod
trigger1 = Animelem = 1
anim = 1011
ownpal = 1
sprpriority = 9
postype = p1
pos = 0,-28
bindtime = -1
pausemovetime = 9999
supermovetime = 0
ID = 1007
ignorehitpause = 1


[State 1172]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
ID = 1007
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1



[State 1172]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1172]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1172]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1172]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1172]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1172]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1172]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1172]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1172]
type = ChangeState
trigger1 = movecontact
value = 1173
ctrl = 0

[State 1172]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------
;徹甲脚＿2段目

[Statedef 1173]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1012
sprpriority = 2
ctrl = 0



[State 1173]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1173]
type = AfterImage
trigger1 = time = 0
time = 10
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1173]
type = AfterImage
trigger1 = time = 10
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1173]
Type = VelSet
Trigger1 = Time = [0,10]
X = 0




[State 1173]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1173]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn



[State 1173]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = HARD
damage = ceil(30 * fvar(0)),3
getpower = 50
priority  = 7 ,Hit
guardflag = M
hitflag = MAF
pausetime = 9,9
sparkno = S7021
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = -2.7,-7.3
air.type = High
air.velocity = -3.7,-8.2
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
fall = 1




[State 1173]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.93 * (1 - 0.07*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0




[State 1173,Effect]
type = Explod
trigger1 = Animelem = 1
anim = 1013
ownpal = 1
sprpriority = 9
postype = p1
pos = 0,-28
bindtime = -1
pausemovetime = 9999
supermovetime = 0
ID = 1007
ignorehitpause = 1


[State 1173]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
ID = 1007
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1



[State 1173]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1173]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1173]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1173]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1173]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1173]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1173]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1173]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1173]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

[State 1173]
type = ChangeState
trigger1 = movecontact
value = 1174
ctrl = 0

;-----------------------------------------------------------------------------------
;ヒートタービン_待機

[Statedef 1174]
type    = S
movetype= A
physics = N
;juggle  = 7
ctrl = 0
anim = 252
sprpriority = 2
poweradd = 0

[State 1174]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1174]
type = AfterImage
trigger1 = animelem = 4
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 1174]
type = HitBy
trigger1 = Time = 0
value = SCA,NA,SA,HA,NT,ST,HT
time = 12



[State 1174]
type = ChangeState
trigger1 = animtime = 0
value = 1175


;---------------------------------------------------------------------------
;ヒートタービン_攻撃

[Statedef 1175]
type    = A
movetype= A
physics = A
;juggle  = 7
ctrl = 0
anim = 1014
velset = 7.0,-5.5
sprpriority = 2
poweradd = 0

[State 1175]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1175]
type = AfterImage
trigger1 = animelem = 4
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1




[State 1175]
type = PosAdd
trigger1 = Time = 0
y = -25

[State 1175]
type = VelAdd
trigger1 = AnimelemTime(1) >= 0
y = 0.35

[State 1175]
type = VelAdd
trigger1 = Animelem = 4
y = 0.95

[State 1175]
type = VelAdd
trigger1 = Animelem = 5
y = 0.75

[State 1175]
type = VelAdd
trigger1 = Animelem = 6
y = 0.55

[State 1175]
type = PlaySnd
trigger1 = movehit = 1
value = 3000,0




[State 1175]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
animtype  = Medium
damage = ceil(50 * fvar(0)),8
guardflag = M
hitflag = MAF
getpower = 60
priority = 4, HIT
pausetime = 9,9
sparkno = S7021
guard.sparkno = S7007
sparkxy = -30,-30
hitsound = S220,1
guardsound = S120, 0
ground.type = High
ground.slidetime = 20
guard.ctrltime = 10
ground.hittime  = 20
air.hittime = 20
ground.velocity = -4,-4.8
air.velocity = -5.8,-4.6
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(80 * fvar(1)) + 9
air.type = High
air.cornerpush.veloff    = 0
airguard.cornerpush.veloff= 0
;yaccel = 0.33
p2stateno =  1390



[State 1175]
type = Explod
trigger1 = NumHelper(272) = 0
trigger1 = Animelem = 4
anim = 1272
ownpal = 1
postype = p1
pos = -15,-28
bindtime = -1
scale = 1.0,1.0
sprpriority = 7
pausemovetime = 9999
supermovetime = 9999
ID = 1175
ignorehitpause = 1

[State 1175]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
trigger2 = statetype = S
trigger2 = 1
ID = 1175
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State 1175]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1175]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1175]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1175]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1175]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1175]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1175]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1175]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[state 1175]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.92 * (1 - 0.08*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0



[State 1012]
Type = ChangeState
trigger1 = Pos Y > 0
Value = 1176
Ctrl = 0

;----------------------------------------------------------------------------
;着地

[Statedef 1176]
type    = S
physics = S
ctrl = 0
anim = 107
ctrl = 0

[State 1176]
type = hitby
trigger1 = time = 0
value = SCA,NA,SA,HA,NT,ST,HT
time = 5


[State 1176]
type = VelSet
trigger1 = Time = 0
x = 0

[State 1176]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1176]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1176]
type = AfterImageTime
trigger1 = Time = 0
time = 0



[State 1176]
type = PlaySnd
trigger1 = Time = 0
value = 47,0


[state 1176]
trigger1 = time = 1
type = envshake
time = 20
freq = 100
ampl = 3


[State 1176]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;--------------------------------------------------------------------------------
;電光魚雷　弱

[Statedef 1200]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1300
sprpriority = 2

[State 1200]
type = PlaySnd
trigger1 = animelem = 3
value = 8000,6




[State 1200]
type = Helper
trigger1 = NumHelper(1200) = 0
trigger1 = NumHelper(1400) = 0
trigger1 = Animelem = 4
helpertype = normal
ownpal = 1
name = "huda1"
postype = p1
pos = 39,-60
pausemovetime = 0
supermovetime = 0
stateno = 1210
ID = 1200
ignorehitpause = 1



[State 1200]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------------------------------
;電光魚雷のステート

[Statedef 1210]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1402
poweradd = 25
sprpriority = 7

[State 1210]
type = velset
trigger1 = time = 1
x = 2.4
y = -2.2

[State 1210]
type = VelAdd
trigger1 = 1
y = 0.8


[State 1210]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1




[State 1210, Helper]
Type = Helper
trigger1 = Pos y > -5
Persistent = 0
OwnPal = 1
PosType = P1
Pos = 0, -5
scale = 0.25,0.25
StateNo = 1211
Name = "denkou1"
ID = 1200


[State 1210]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1210]
type = DestroySelf
trigger1 = Pos y > -5


;-------------------------------------------------------------------------------------
;電光魚雷　ヘルパー用

[Statedef 1211]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1403
poweradd = 0
sprpriority = 7

[State 1211, Trans]
Type = Trans
Trigger1 = 1
Trans = Add


[State 1211, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = 0.4, 0.35

[State 1211, VelSet]
type = VelSet
trigger1 = 1
x = 0.4
y = 0
;ignorehitpause =
;persistent =

[State 1211, VelAdd]
type = VelAdd
trigger1 = time >=60
x = 15
y = 0
;ignorehitpause =
;persistent =


[State 1211]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1

[State 1211]
type = HitDef
triggerall = ishelper
trigger1 = 1
attr = S, SP
damage    = ceil(30 * root,fvar(0)),6
getpower = 50
hitflag = MAF
guardflag = MA
priority = 5, HIT
pausetime = 3,9
sparkno = S7022
guard.sparkno = S7022
sparkxy = -10,-20
hitsound = S4100, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 30
ground.slidetime = 30
guard.hittime = 30
guard.ctrltime = 30
ground.velocity = 0,-7.2
air.type = High
airguard.velocity = 0,-3
air.velocity = 0,-3.2
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
fall = 1
;yaccel = 0.33



[State 1211]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1211]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1211]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1211]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1211]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1211]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1211]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1211]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 1211]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1211]
type = DestroySelf
trigger1 = time >= 150
trigger2 = movecontact


;--------------------------------------------------------------------------------
;電光魚雷　中

[Statedef 1230]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1300
sprpriority = 2

[State 1230]
type = PlaySnd
trigger1 = animelem = 3
value = 8000,6




[State 1230]
type = Helper
trigger1 = NumHelper(1200) = 0
trigger1 = NumHelper(1400) = 0
trigger1 = Animelem = 4
helpertype = normal
ownpal = 1
name = "huda1"
postype = p1
pos = 39,-60
pausemovetime = 0
supermovetime = 0
stateno = 1240
ID = 1200
ignorehitpause = 1



[State 1230]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------------------------------
;電光魚雷のステート

[Statedef 1240]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1200
poweradd = 25
sprpriority = 7

[State 1240]
type = velset
trigger1 = time = 1
x = 2.4
y = -2.2

[State 1240]
type = VelAdd
trigger1 = 1
y = 0.8



[State 1240]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1




[State 1240, Helper]
Type = Helper
trigger1 = Pos y > -5
Persistent = 0
OwnPal = 1
PosType = P1
Pos = 0, -5
StateNo = 1241
Name = "denkou1"
ID = 1200


[State 1240]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1240]
type = DestroySelf
trigger1 = Pos y > -5


;-------------------------------------------------------------------------------------
;電光魚雷　ヘルパー用

[Statedef 1241]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1403
poweradd = 0
sprpriority = 7

[State 1241, Trans]
Type = Trans
Trigger1 = 1
Trans = Add



[State 1241, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = 0.4, 0.35


[State 1241, VelSet]
type = VelSet
trigger1 = 1
x = 0.3
y = 0
;ignorehitpause =
;persistent =

[State 1241, VelAdd]
type = VelAdd
trigger1 = time >=75
x = 20
y = 0
;ignorehitpause =
;persistent =



[State 1241]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1

[State 1241]
type = HitDef
triggerall = ishelper
trigger1 = 1
attr = S, SP
damage    = ceil(30 * root,fvar(0)),6
getpower = 30
hitflag = MAF
guardflag = MA
priority = 5, HIT
pausetime = 3,9
sparkno = S7022
guard.sparkno = S7022
sparkxy = -10,-20
hitsound = S4100, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 30
ground.slidetime = 30
guard.hittime = 30
guard.ctrltime = 30
ground.velocity = 0,-7.2
air.type = High
airguard.velocity = 0,-3
air.velocity = 0,-3.2
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
fall = 1
;yaccel = 0.33



[State 1241]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1241]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1241]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1241]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1241]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1241]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1241]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1241]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 1241]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1241]
type = DestroySelf
trigger1 = time >= 150
trigger2 = movecontact

;--------------------------------------------------------------------------------
;電光魚雷　強

[Statedef 1260]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 25
ctrl = 0
velset = 0,0
anim = 1300
sprpriority = 2

[State 1260]
type = PlaySnd
trigger1 = animelem = 3
value = 8000,6




[State 1260]
type = Helper
trigger1 = NumHelper(1200) = 0
trigger1 = NumHelper(1400) = 0
trigger1 = Animelem = 4
helpertype = normal
ownpal = 1
name = "huda1"
postype = p1
pos = 39,-60
pausemovetime = 0
supermovetime = 0
stateno = 1270
ID = 1200
ignorehitpause = 1



[State 1260]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------------------------------
;電光魚雷のステート

[Statedef 1270]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1200
poweradd = 25
sprpriority = 7

[State 1270]
type = velset
trigger1 = time = 1
x = 2.4
y = -2.2

[State 1270]
type = VelAdd
trigger1 = 1
y = 0.8



[State 1270]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1




[State 1270, Helper]
Type = Helper
trigger1 = Pos y > -5
Persistent = 0
OwnPal = 1
PosType = P1
Pos = 0, -5
StateNo = 1271
Name = "denkou1"
ID = 1200


[State 1270]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1270]
type = DestroySelf
trigger1 = Pos y > -5


;-------------------------------------------------------------------------------------
;電光魚雷　ヘルパー用

[Statedef 1271]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1403
poweradd = 0
sprpriority = 7

[State 1271, Trans]
Type = Trans
Trigger1 = 1
Trans = Add


[State 1271, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = 0.4, 0.35


[State 1271, VelSet]
type = VelSet
trigger1 = 1
x = 0.3
y = 0
;ignorehitpause =
;persistent =

[State 1271, VelAdd]
type = VelAdd
trigger1 = time >=70
x = 20
y = 0
;ignorehitpause =
;persistent =



[State 1271]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1

[State 1271]
type = HitDef
triggerall = ishelper
trigger1 = 1
attr = S, SP
damage    = ceil(30 * root,fvar(0)),6
getpower = 50
hitflag = MAF
guardflag = MA
priority = 5, HIT
pausetime = 3,10
sparkno = S7022
guard.sparkno = S7022
sparkxy = -10,-20
hitsound = S4100, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 20
ground.velocity = 0,-6.8
air.type = High
airguard.velocity = 0,-3
air.velocity = 0,-2.8
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
fall = 1
;yaccel = 0.33




[State 1271]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 1271]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1271]
type = DestroySelf
trigger1 = time >= 150
trigger2 = movecontact


;------------------------------------------------------------------------------------
;特殊やられステート

[Statedef 1350]
type = A
movetype= H
physics = N

[State 1350]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X >= 0
x = -9
y = -9.7

[State 1350]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X < 0
x = 9
y = -9.7

[State 1350]
type = VelAdd
trigger1 = time >= 0
y = 0.2

[State 1350]
type = ChangeAnim2
trigger1 = time = 0
value = 1350



[State 1350]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 5656

[State 1350]
type = SelfState
trigger1 = Pos Y > 0
value = 5110

;-------------------------------------------------------------------
[Statedef 1370]
type = A
movetype= H
physics = N

[State 1370]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X >= 0
x = -12.6
y = 15.7

[State 1370]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X < 0
x = 12.6
y = 15.7

[State 1370]
type = VelAdd
trigger1 = time >= 0
y = 0.2

[State 1370]
type = ChangeAnim2
trigger1 = time = 0
value = 1350



[State 1370]
type = changestate
trigger1 = Pos Y > 0
value = 1380


;----------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 1380]
type    = L
movetype= H
physics = N

[State 1380, Envshake]
type = envshake
Trigger1 = time = 0
time = 10
ampl = -3
freq = 110

[State 0, PlayerPush]
type = PlayerPush
trigger1 =  1
value = 1
;ignorehitpause =
;persistent =


[State 1380, EnvShake]
type = null;FallEnvShake
trigger1 = Time = 0

[State 1380]
type = null;Explod
trigger1 = Time = 1
anim = 7004
id = 7004
postype = p1
pos = 0, 0
bindtime = 1
ownpal = 1
sprpriority = -1
under = sysvar(1) <= 10
supermove = 1
ignorehitpause = 1
pausemovetime = 20
supermovetime = 20

[State 1380, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 1380, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 1380, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 1380, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 1380, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1380, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 1380, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1380, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 1380, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 1380, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 1380, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 1380, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 1380, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 1380, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine


[State 1360]
type = SelfState
trigger1 = time = 80
value = 5120

;----------------------------------------------------------------------

[Statedef 1360]
type = A
movetype= H
physics = N

[State 1360]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X >= 0
x = -11.6
y = -3.7

[State 1360]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X < 0
x = 11.6
y = -3.7

[State 1360]
type = VelAdd
trigger1 = time >= 0
y = 0.2

[State 1360]
type = ChangeAnim2
trigger1 = time = 0
value = 1350



[State 1360]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 5656

[State 1360]
type = SelfState
trigger1 = Pos Y > 0
value = 5110


;--------------------------------------------------------------------------
[Statedef 1390]
type = A
movetype= H
physics = N

[State 1390]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X >= 0
x = -5.5
y = 11.5

[State 1390]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X < 0
x = 5.5
y = 11.5

[State 0, PlayerPush]
type = PlayerPush
trigger1 =  1
value = 1
;ignorehitpause =
;persistent =


[State 1390]
type = ChangeAnim2
trigger1 = time = 0
value = 1350



[State 1390]
type = changestate
trigger1 = Pos Y > 0
value = 1380


;----------------------------------------------------------------------------
;酸素魚雷（IC動作）

[Statedef 1300]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 1301
poweradd= 0
sprpriority = 2

[State 1300]
type = nothitby
trigger1 = 1
value = SCA



[State 1300]
type = velset
trigger1 = time = 0
x = 0

[State 1300]
type = velset
trigger1 = time = 0
y = 0

[State 1300]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 1300]
type = poweradd
trigger1 = time = 0
value = -2000

[State 1300]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 40
under = 1
supermove = 1
pausemove = 1



[State 1300]
type = AssertSpecial
trigger1 = time = [0,40]
flag = noFG
flag = timerfreeze


[State 1300]
type = pause
trigger1 = time = 1
time = 40
movetime = 40
darken = 0

[State 3000]
type = PlaySnd
trigger1 = time = 0
value = 20,1


[State 1300]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 3000]
type = Explod
trigger1 = time = 1
anim = 7015
pos = 0, -50
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 3000]
type = Explod
trigger1 = time = 1
anim = 7010
pos = 0, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999



[State 1300]
type = ChangeState
trigger1 = time =  40
value = 1301
ctrl = 1

;---------------------------------------------------------------------------
;酸素魚雷（攻撃）

[Statedef 1301]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1302
sprpriority = 2

[State 1300]
type = nothitby
trigger1 = animelem = 1
value = SCA
time = 8

[State 1301]
type = PlaySnd
trigger1 = AnimElem = 1
value = S8000,6

[State 1301]
type = Explod
trigger1 = time = 17
anim = 30040
id = 30040
pos = 0,0
postype = p1
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999

[State 1301]
type = Explod
trigger1 = time = 17
anim = 30030
scale = 1.2,1.2
postype = p1
pos = 0,0
sprpriority = 5
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999

[State 1301]
type = Explod
trigger1 = time = 28
anim = 1420
pos = 65, 10
sprpriority = 9
ontop = 1
ownpal = 1

[State 1301]
type = Helper
trigger1 = NumHelper(1400) = 0
trigger1 = Animelem = 1
helpertype = normal
ownpal = 1
name = "huda1"
postype = p1
pos = 39,-90
pausemovetime = 0
supermovetime = 0
stateno = 1400
ID = 1400
ignorehitpause = 1


[State 1301]
type = Helper
trigger1 = NumHelper(1401) = 0
trigger1 = Animelem = 1
helpertype = normal
ownpal = 1
name = "huda2"
postype = p1
pos = 54,-78
pausemovetime = 0
supermovetime = 0
stateno = 1400
ID = 1401
ignorehitpause = 1

[State 1301]
type = Helper
trigger1 = NumHelper(1402) = 0
trigger1 = Animelem = 1
helpertype = normal
ownpal = 1
name = "huda3"
postype = p1
pos = 14,-75
pausemovetime = 0
supermovetime = 0
stateno = 1400
ID = 1402
ignorehitpause = 1

[State 1301]
type = Helper
trigger1 = NumHelper(1403) = 0
trigger1 = Animelem = 1
helpertype = normal
ownpal = 1
name = "huda4"
postype = p1
pos = 29,-65
pausemovetime = 0
supermovetime = 0
stateno = 1400
ID = 1403
ignorehitpause = 1

[State 1301]
type = Helper
trigger1 = NumHelper(1404) = 0
trigger1 = Animelem = 1
helpertype = normal
ownpal = 1
name = "huda5"
postype = p1
pos = 44,-55
pausemovetime = 0
supermovetime = 0
stateno = 1400
ID = 1404
ignorehitpause = 1




[State 1301]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;魚雷のステート

[Statedef 1400]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1400
poweradd = 30
sprpriority = 7

[State 1400]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1400]
type = DestroySelf
trigger1 = time = 200



[State 1400]
type = velset
trigger1 = AnimElem = 1
x = 1.6
y = -3.2



[State 1400]
type = VelAdd
trigger1 = AnimelemTime(2) >= 0
y = 0.77



[State 1400]
type = velset
trigger1 = AnimElem = 4
x = 0



[State 1400]
type = HitDef
trigger1 = time = 15 > 10
attr = S, SP
damage    = ceil(0 * root,fvar(0)),5
getpower = 0
hitflag = MAFD
guardflag = MA
priority = 4, HIT
pausetime = 3,10
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-30
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 20
ground.velocity = -0.3,-7.9
air.type = High
airguard.velocity = -3,-3
air.velocity = -0.2,-9.2
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(99 * fvar(1)) + 9
fall = 1
;yaccel = 0.33



[State 1400, Helper]
type = Helper
trigger1 = NumHelper(1407) = 0
trigger1 = time = 100
helpertype = normal
ownpal = 1
name = "huda1-b"
postype = back
pos  = -410,0
pausemovetime = 0
supermovetime = 0
stateno = 1402
ID = 1407
ignorehitpause = 1


[State 1400, Helper]
type = Helper
trigger1 = NumHelper(1408) = 0
trigger1 = time = 110
helpertype = normal
ownpal = 1
name = "huda2-b"
postype = back
pos  = -410,0
pausemovetime = 0
supermovetime = 0
stateno = 1402
ID = 1408
ignorehitpause = 1

[State 1400, Helper]
type = Helper
trigger1 = NumHelper(1409) = 0
trigger1 = time = 120
helpertype = normal
ownpal = 1
name = "huda3-b"
postype = back
pos  = -410,0
pausemovetime = 0
supermovetime = 0
stateno = 1402
ID = 1409
ignorehitpause = 1

[State 1400, Helper]
type = Helper
trigger1 = NumHelper(1410) = 0
trigger1 = time = 140
helpertype = normal
ownpal = 1
name = "huda4-b"
postype = back
pos  = -410,0
pausemovetime = 0
supermovetime = 0
stateno = 1402
ID = 1410
ignorehitpause = 1


[State 1400, Helper]
type = Helper
trigger1 = NumHelper(1411) = 0
trigger1 = time = 150
helpertype = normal
ownpal = 1
name = "huda4-b"
postype = back
pos  = -410,0
pausemovetime = 0
supermovetime = 0
stateno = 1402
ID = 1411
ignorehitpause = 1


[State 1271]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

;---------------------------------------------------------------------------
;魚雷→ダムのステート

[Statedef 1402]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1403
poweradd = 0
sprpriority = 7

[State 1402]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1

[State 1402, Trans]
Type = Trans
Trigger1 = 1
Trans = Add


[State 1402, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = 0.7, 0.35

[State 1402]
type = VelSet
trigger1 = 1
x = 15.0



[State 1402]
type = HitDef
triggerall = ishelper
triggerall = root,var(25) = 0
trigger1 = animelem = 1
attr = S, SP
damage    = ceil(50 * root,fvar(0)),13
getpower = 0
hitflag = MAFD
guardflag = MA
priority = 5, HIT
pausetime = 1,9
sparkno = S7022
guard.sparkno = S7022
sparkxy = -10,-20
hitsound = S4100, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 30
ground.slidetime = 30
guard.hittime = 30
guard.ctrltime = 30
ground.velocity = 0,0
air.type = High
airguard.velocity = 0,0
air.velocity = 0,0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(100 * fvar(1)) + 9
fall = 0
;yaccel = 0.33



[State 1402]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 1402]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1402]
type = DestroySelf
trigger1 = time >= 100
trigger2 = movecontact

;------------------------------------------------------------------------
[Statedef 1403]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1420
poweradd = 0
sprpriority = 7

[State 1403, Trans]
Type = Trans
Trigger1 = 1
Trans = Add


[State 1403]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1



[State 1403]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3310]
type = DestroySelf
trigger1 = animtime = 0

;----------------------------------------------------------------------------
;夢想陰殺

[Statedef 1600]
type    = S
movetype= A
physics = N
;juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1600
sprpriority = 2


[state 1600]
type = nothitby
trigger1 = animelemtime(3)<0
value = SCA

[State 1600]
type = VarAdd
triggerall = var(8) = 0
trigger1 = time = 1
v = 7
value = -200
ignorehitpause = 1

[State 1600]
type = VarAdd
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 101
trigger1 = palno = [1,11]
trigger1 = time = 1
v = 7
value = -100
ignorehitpause = 1

[State 1600]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 100
trigger1 = palno = [1,11]
trigger1 = time = 1
v = 7
value = 0
ignorehitpause = 1

[State 1600]
type = VarAdd
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 51
trigger1 = time = 1
trigger1 = palno = 12
v = 7
value = -50
ignorehitpause = 1

[State 1600]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 50
trigger1 = time = 1
trigger1 = palno = 12
v = 7
value = 0
ignorehitpause = 1

[State 1600]
type = PlaySnd
trigger1 = time = 0
value = 20,0

[State 1600]
type = PlaySnd
trigger1 = Time = 1
value = s1200,0


[State 1600]
type = Explod
trigger1 = time = 0
anim = 7006
pos = 0, -50
ontop = 1
ownpal = 1
pausemovetime = 99999
supermovetime = 99999


[State 1600]
type = Explod
trigger1 = animelem = 2
anim = 1602
pos = 20, -55
sprpriority = 5
scale = 0.5,0.5
ontop = 1
ownpal = 1

[State 1600]
type = HitDef
trigger1 = AnimElem= 2
attr = S, SA
damage = ceil(80 * fvar(0)),10
getpower = 80
hitflag = MAF
guardflag = M
priority  = 9 ,Hit
pausetime = 9,9
sparkno = S7002
guard.sparkno = S7002
sparkxy = -20,-60
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 30
ground.slidetime = 30
guard.hittime = 20
guard.ctrltime = 20
ground.velocity = -5.4,-9.2
air.type = High
airguard.velocity = -3,-3
air.velocity = -5.4,-9.4
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(100 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 1350



[State 1402]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1600]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.92 * (1 - 0.08*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 1600]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;アンヴルナイユカッター

[Statedef 1650]
type    = S
movetype= A
physics = N
;juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1650
sprpriority = 4


[state 1650]
type = nothitby
trigger1 = animelemtime(3)<0
value = SCA

[State 1650]
type = PlaySnd
trigger1 = Time = 0
value = s1200,0


[State 1650]
type = PlaySnd
trigger1 = Time = 1
value = s1700,0





[State 1041]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1



[State 1041]
type = AfterImage
trigger1 = time = 4
time = 24
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1041]
type = AfterImage
trigger1 = time = 28
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 1041]
Type = VelSet
Trigger1 = Time = [0,2]
X = 3

[State 1041]
Type = VelSet
Trigger1 = Time = [2,4]
X = 5

[State 1041]
Type = VelSet
Trigger1 = Time = [4,34]
X = 10


[State 1650]
type = HitDef
trigger1 = AnimElem= 3
trigger2 = AnimElem= 4
attr = S, SA
damage = ceil(10 * fvar(0)),5
getpower = 30
hitflag = MAF
guardflag = L
priority  = 9 ,Hit
pausetime = 3,9
sparkno = S7020
guard.sparkno = S7002
sparkxy = -30,-10
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -2.4,0
air.type = High
airguard.velocity = -3,-3
air.velocity = -2.1,-7.4
air.fall = 0
fall = 0
fall.recover = 0
fall.recovertime = ceil(50 * fvar(1)) + 9
p2stateno = 1396
;yaccel = 0.33

[State 1650]
type = Explod
trigger1 = animelem = 3
trigger2 = AnimElem= 4
anim = 1652
pos = 50, 0
scale = 0.5,0.5
ownpal = 1
bindtime = -1
sprpriority = 9


[State 1650]
type = Explod
trigger1 = animelem = 1
anim = 18000
pos = 0, 0
scale = 1,1
ownpal = 1
bindtime = -1
sprpriority = 9



[State 1402]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1402]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1600]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.98 * (1 - 0.02*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 1600]
type = ChangeState
trigger1 = time = 56
value = 1652
ctrl = 1


;-----------------------------------------------------------------------------
[Statedef 1651]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1405
poweradd = 0
sprpriority = 7

[State 1041]
Type = VelSet
Trigger1 = Time = [0,2]
X = 5

[State 1041]
Type = VelSet
Trigger1 = Time = [2,4]
X = 10

[State 1041]
Type = VelSet
Trigger1 = Time = [4,34]
X = 15

[State 3130, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact
statetype = S       ;S,A,C,L
movetype = H       ;I,A,H
physics = S        ;A,C,S,N
;ignorehitpause =
;persistent =



[State 3130, NotHitBy]
Type = NotHitBy
Trigger1 = 1
Value = SCA

[State 3130, 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3130]
Type = Trans
Trigger1 = 1
Trans = Add
IgnoreHitPause = 1

[State 3130]
type = AngleDraw
trigger1 = 1
scale = 0.7,0.7

[State 3130]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1

[State 3130]
type = DestroySelf
triggerall = time > 1
trigger1 = (Parent,MoveType != A)

;----------------------------------------------------------------------------
;カッター 終了

[Statedef 1652]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1651
poweradd = 0
sprpriority = 7

[state 1045]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;----------------------------------------------------------------------------

;オクスタン連装ランチャーB型

[Statedef 1700]
type = S
movetype = I
physics = S
anim = 1700
ctrl = 0
poweradd = 0
sprpriority = 2

[State 1100]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(0) = 0
ignorehitpause = 1

[State 1650]
type = VarAdd
triggerall = var(26) = 0
trigger1 = time = 1
v = 20
value = -200
ignorehitpause = 1

[State 1650]
type = VarAdd
triggerall = var(27) = 0
triggerall = var(26) = 1
triggerall = var(20) >= 101
trigger1 = palno = [1,11]
trigger1 = time = 1
v = 20
value = -200
ignorehitpause = 1

[State 1650]
type = VarSet
triggerall = var(27) = 1
triggerall = var(26) = 1
triggerall = var(20) <= 100
trigger1 = palno = [1,11]
trigger1 = time = 1
v = 20
value = 0
ignorehitpause = 1

[State 1650]
type = VarAdd
triggerall = var(27) = 0
triggerall = var(26) = 1
triggerall = var(20) >= 51
trigger1 = time = 1
trigger1 = palno = 12
v = 20
value = -75
ignorehitpause = 1

[State 1650]
type = VarSet
triggerall = var(27) = 1
triggerall = var(26) = 1
triggerall = var(20) <= 50
trigger1 = time = 1
trigger1 = palno = 12
v = 20
value = 0
ignorehitpause = 1

[State 1650]
type = PlaySnd
trigger1 = time = 0
value = 20,0

[State 1650]
type = PlaySnd
trigger1 = Time = 1
value = s1200,0


[State 1650]
type = Explod
trigger1 = time = 0
anim = 7025
pos = 0, -50
ontop = 1
ownpal = 1
pausemovetime = 99999
supermovetime = 99999

[State 1700, Helper]
type = Helper
trigger1 = NumHelper(20000) = 0
trigger1 = Animelem = 3
helpertype = normal
ownpal = 1
name = "amatu"
postype = p1
pos = -50,0
pausemovetime = 0
supermovetime = 0
stateno = 20001
ID = 20000
ignorehitpause = 1

[State 1100]
type = poweradd
trigger1 = Animelem = 3
value = 100



[State 1100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------
;オクスタン連装ランチャーE型

[Statedef 1710]
type = S
movetype = I
physics = S
anim = 1700
ctrl = 0
poweradd = 0
sprpriority = 2

[State 1100]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(0) = 0
ignorehitpause = 1

[State 1650]
type = VarAdd
triggerall = var(26) = 0
trigger1 = time = 1
v = 20
value = -200
ignorehitpause = 1

[State 1650]
type = VarAdd
triggerall = var(27) = 0
triggerall = var(26) = 1
triggerall = var(20) >= 101
trigger1 = palno = [1,11]
trigger1 = time = 1
v = 20
value = -200
ignorehitpause = 1

[State 1650]
type = VarSet
triggerall = var(27) = 1
triggerall = var(26) = 1
triggerall = var(20) <= 100
trigger1 = palno = [1,11]
trigger1 = time = 1
v = 20
value = 0
ignorehitpause = 1

[State 1650]
type = VarAdd
triggerall = var(27) = 0
triggerall = var(26) = 1
triggerall = var(20) >= 51
trigger1 = time = 1
trigger1 = palno = 12
v = 20
value = -75
ignorehitpause = 1

[State 1650]
type = VarSet
triggerall = var(27) = 1
triggerall = var(26) = 1
triggerall = var(20) <= 50
trigger1 = time = 1
trigger1 = palno = 12
v = 20
value = 0
ignorehitpause = 1

[State 1650]
type = PlaySnd
trigger1 = time = 0
value = 20,0

[State 1650]
type = PlaySnd
trigger1 = Time = 1
value = s1200,0


[State 1650]
type = Explod
trigger1 = time = 0
anim = 7025
pos = 0, -50
ontop = 1
ownpal = 1
pausemovetime = 99999
supermovetime = 99999

[State 1700, Helper]
type = Helper
trigger1 = NumHelper(20000) = 0
trigger1 = Animelem = 3
helpertype = normal
ownpal = 1
name = "amatu"
postype = p1
pos = -50,0
pausemovetime = 0
supermovetime = 0
stateno = 20003
ID = 20000
ignorehitpause = 1

[State 1100]
type = poweradd
trigger1 = Animelem = 3
value = 100



[State 1100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
;スプリッドWG42ランチャー

[Statedef 1720]
type = S
movetype = I
physics = S
anim = 1700
ctrl = 0
poweradd = 0
sprpriority = 2

[State 1100]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(0) = 0
ignorehitpause = 1

[State 1650]
type = VarAdd
triggerall = var(26) = 0
trigger1 = time = 1
v = 20
value = -200
ignorehitpause = 1

[State 1650]
type = VarAdd
triggerall = var(27) = 0
triggerall = var(26) = 1
triggerall = var(20) >= 101
trigger1 = palno = [1,11]
trigger1 = time = 1
v = 20
value = -200
ignorehitpause = 1

[State 1650]
type = VarSet
triggerall = var(27) = 1
triggerall = var(26) = 1
triggerall = var(20) <= 100
trigger1 = palno = [1,11]
trigger1 = time = 1
v = 20
value = 0
ignorehitpause = 1

[State 1650]
type = VarAdd
triggerall = var(27) = 0
triggerall = var(26) = 1
triggerall = var(20) >= 51
trigger1 = time = 1
trigger1 = palno = 12
v = 20
value = -75
ignorehitpause = 1

[State 1650]
type = VarSet
triggerall = var(27) = 1
triggerall = var(26) = 1
triggerall = var(20) <= 50
trigger1 = time = 1
trigger1 = palno = 12
v = 20
value = 0
ignorehitpause = 1

[State 1650]
type = PlaySnd
trigger1 = time = 0
value = 20,0

[State 1650]
type = PlaySnd
trigger1 = Time = 1
value = s1200,0


[State 1650]
type = Explod
trigger1 = time = 0
anim = 7025
pos = 0, -50
ontop = 1
ownpal = 1
pausemovetime = 99999
supermovetime = 99999

[State 1700, Helper]
type = Helper
trigger1 = NumHelper(20000) = 0
trigger1 = Animelem = 3
helpertype = normal
ownpal = 1
name = "amatu"
postype = p1
pos = 20,-100
pausemovetime = 0
supermovetime = 0
stateno = 20007
ID = 20000
ignorehitpause = 1

[State 1100]
type = poweradd
trigger1 = Animelem = 3
value = 100



[State 1100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;------------------------------------------------------------------


;インスタントチャージ

[Statedef 2000]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 1999
poweradd= 0

[State 2000]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 2000]
type = varadd
trigger1 = time = 0
trigger1 = var(8) = 1
fvar(1) = (var(7) / 800.0)
ignorehitpause = 1

[State 2000]
type = Varset
trigger1 = palno = [1,11]
trigger1 = var(8)=0
trigger1 = ((time = 0) && (Var(7) <= 200))
v = 7
value = 0
ignorehitpause = 1
supermove = 1
pausemove = 1

[State 2000]
type = Varset
trigger1 = palno = [1,11]
trigger1 = var(8)=0
trigger1 = ((time = 0) && (Var(7) >= 201))
v = 7
value = 0
ignorehitpause = 1
supermove = 1
pausemove = 1

[State 2000]
type = Varset
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 101
trigger1 = palno = [1,11]
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1


[State 2000]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 100
trigger1 = palno = [1,11]
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1

[State 2000]
type = VarAdd
triggerall = var(8) = 0
trigger1 = palno = 12
trigger1 = time = 0
v = 7
value = -200
ignorehitpause = 1

[State 2000]
type = VarAdd
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 51
trigger1 = palno = 12
trigger1 = time = 0
v = 7
value = -50
ignorehitpause = 1

[State 2000]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 50
trigger1 = palno = 12
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1


[State 2000]
type = assertspecial
trigger1 = Time >= 0
flag = noshadow
flag2 = nofg
flag3 = noBG

[State 1200]
type = assertspecial
trigger1 = Time >= 0
flag = timerfreeze

[State 2000]
type = StateTypeSet
trigger1 = time >= 0
trigger1 = Pos Y < 0
statetype = A
movetype = A
phisics = A

[State 2000]
type = ChangeAnim
trigger1 = time = 0
trigger1 = statetype = A
value = 2001


[State 2000]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 2000]
type = pause
trigger1 = time = 1
time = 31
movetime = 31
darken = 0

[State 2000]
type = Explod
trigger1 = time = 1
anim = 7009
pos = 0, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 2000]
type = Explod
trigger1 = time = 1
anim = 7010
pos = 0, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 2000]
type = PlaySnd
trigger1 = time = 1
value = S2000, 0

[State 2000]
type = VarRandom
trigger1 = AnimElem = 1
v = 30
range = 0,3



[State 2000]
type = PosFreeze
trigger1 = 1



[State 2000]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 2000]
type = ChangeState
trigger1 = Time = 31
trigger1 = Pos Y < 0
value = 50
ctrl = 1

[State 2000]
type = ChangeState
trigger1 = Time = 31
trigger1 = Pos Y >= 0
value = 0
ctrl = 1


;--------------------------------------------------------------------------------------
;特攻駆逐迫砲

[Statedef 3000]
type    = S
movetype= A
physics = S
;juggle  = 0
velset = 0,0
anim = 3300
ctrl = 0
sprpriority = 7

[state 3000]
type = nothitby
trigger1 = animelem = 1
value = SCA


[State 3000]
type = poweradd
trigger1 = time = 0
value = -2000



[State 3000]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 38
under = 1
supermove = 1
pausemove = 1


[State 3000]
type = pause
trigger1 = time = 1
time = 38
movetime = 38
darken = 0


[State 3000]
type = Explod
trigger1 = time = 1
anim = 7015
pos = 0, -50
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 3000]
type = Explod
trigger1 = time = 1
anim = 7010
pos = 0, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999




[State 3000]
type = PlaySnd
trigger1 = time = 0
value = 20,1


[State 3000]
type = AssertSpecial
trigger1 = time = [0,38]
flag = noFG
flag = timerfreeze






[State 3000]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,11
channel = 0




[State 3000]
type = ChangeState
trigger1 = time = 38
value = 3001
ctrl = 0
;-------------------------------------------------------------------------
;特攻駆逐迫砲

[Statedef 3001]
type    = S
movetype= A
physics = S
;juggle  = 7
poweradd= 0
ctrl = 0
anim = 3301
sprpriority = 2

[State 3001]
type = NotHitBy
trigger1 = animelem = 1
value = SCA
time = 12


[State 3001]
type = PlaySnd
trigger1 = Time = 1
value = 1000,0

[State 3001]
type = velset
trigger1 = animelem = 3
x = 3.2
y = -8.4

[State 3001, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = A         ;A,C,S,N
vel = 3.2,-8.4
;ignorehitpause =
;persistent =




[State 3001]
type = HitDef
trigger1 = AnimElem= 3
trigger2 = AnimElem= 4
trigger3 = AnimElem= 5
trigger4 = AnimElem= 6
trigger5 = AnimElem= 7
trigger6 = AnimElem= 8
trigger7 = AnimElem= 9
attr = A, SA
damage = ceil(30 * fvar(0)),7
getpower = 0
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 9,9
sparkno = S7002
guard.sparkno = S7007
sparkxy = -10,-30
hitsound = S4100, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -4.2,-8.2
air.type = High
airguard.velocity = -3,-3
air.velocity = -4.4,-8.4
air.fall = 1
fall = 1
fall.recover = 1
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
;p1stateno = 3010

[State 3001]
type = HitDef
trigger1 = AnimElem= 10
attr = A, SA
damage = ceil(30 * fvar(0)),7
getpower = 0
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 50,99
sparkno = S1034
guard.sparkno = S7007
sparkxy = -10,-30
hitsound = S4100, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -3,0
air.type = High
airguard.velocity = -3,-3
air.velocity = -4.4,-8.4
air.fall = 1
fall = 0
fall.recover = 1
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p1stateno = 3010





[State 3001]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3001]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3001]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3001]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3001]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3001]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3001]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3001]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999




[State 3001]
type = Explod
trigger1 = animelem = 1
anim = 1020
postype = p1
bindtime = -1
pos = 0,60
ID = 1020
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999
RemoveOnGetHit = 1




[State 3001]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 1.00 * (1 - 0.00*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 3001]
type = AfterImageTime
trigger1 = AnimTime = 0
time = 0



[State 3001]
type = ChangeState
trigger1 = animtime = 0
value = 51
ctrl = 1

;--------------------------------------------------------------------------------------
;空中バンカー

[Statedef 3010]
type    = A
movetype= A
physics = A
;juggle  = 7
poweradd= 0
ctrl = 0
anim = 3302
sprpriority = 2

[State 3010]
type = NotHitBy
trigger1 = time <= 9
value = SCA
time = 1



[State 3010]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

[State 3010]
type = velset
trigger1 = animelem = 1
x = 0.1
y = 0.1

[State 3010]
type = velset
trigger1 = animelem = 2
x = 0
y = 0

[state 3010]
type = Explod
trigger1 = animelem = 1
anim = 1040
scale = 1,1
postype = p1
pos = 55,-60
sprpriority = 9
ownpal = 1
ID = 1032
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 3010]
type = Explod
trigger1 = animelem = 1
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999




[State 3010]
type = HitDef
trigger1 = AnimElem= 2
attr = A, SA
damage = ceil(80 * fvar(0)),7
getpower = 0
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 9,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-30
hitsound = 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 15
ground.slidetime = 15
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -8.4,-7.8
air.type = High
airguard.velocity = -3,-3
air.velocity = -8.4,-7.8
absolute = 1
air.fall = 1
fall = 1
fall.recover = 1
fall.recovertime = ceil(200 * fvar(1)) + 9
;yaccel = 0.93
;p2stateno = 3011


[State 3010]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3010]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3010]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3010]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3010]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3010]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3010]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3010]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[state 3010]
trigger1 = time = 1
type = envshake
time = 20
freq = 80
ampl = 5


[State 3010]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.90 * (1 - 0.10*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0

[State 3010]
type = AfterImageTime
trigger1 = AnimTime = 0
time = 0



[State 3010]
Type = ChangeState
trigger1 = Pos Y > 0
Value = 1013
Ctrl = 0

;--------------------------------------------------------------------------------------
[Statedef 3011]
type = A
movetype= H
physics = N


[State 3011]
type = NotHitBy
trigger1 = 1
value = SCA


[State 3011]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X >= 0
y = -4.5
x = -4.5

[State 3011]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X < 0
y = -4.5
x = -4.5

[State 3011]
type = VelAdd
trigger1 = time >= 0
y = 0.36

[State 3011]
type = ChangeAnim2
trigger1 = time = 0
value = 3208


[State 3011]
type = SelfState
trigger1 = Pos Y > 0
value = 5110

;--------------------------------------------------------------------------------------
;連装砲ちゃん

[Statedef 3100]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3400
sprpriority = 2


[State 1650]
type = VarAdd
triggerall = var(8) = 0
trigger1 = time = 1
v = 7
value = -200
ignorehitpause = 1

[State 1650]
type = VarAdd
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 101
trigger1 = palno = [1,11]
trigger1 = time = 1
v = 7
value = -100
ignorehitpause = 1

[State 1650]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 100
trigger1 = palno = [1,11]
trigger1 = time = 1
v = 7
value = 0
ignorehitpause = 1

[State 1650]
type = VarAdd
triggerall = var(9) = 0
triggerall = var(8) = 1
triggerall = var(7) >= 51
trigger1 = time = 1
trigger1 = palno = 12
v = 7
value = -50
ignorehitpause = 1

[State 1650]
type = VarSet
triggerall = var(9) = 1
triggerall = var(8) = 1
triggerall = var(7) <= 50
trigger1 = time = 1
trigger1 = palno = 12
v = 7
value = 0
ignorehitpause = 1

[State 1650]
type = PlaySnd
trigger1 = time = 0
value = 20,0

[State 1650]
type = PlaySnd
trigger1 = Time = 1
value = s1200,0


[State 1650]
type = Explod
trigger1 = time = 0
anim = 7006
pos = 0, -50
ontop = 1
ownpal = 1
pausemovetime = 99999
supermovetime = 99999




[State 1041]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 1041]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1



[State 3100]
type = Helper
trigger1 = Animelem = 3
helpertype = normal
ownpal = 1
name = "rensou"
postype = p1
pos = 39,-60
pausemovetime = 0
supermovetime = 0
stateno = 3110
ID = 3110
ignorehitpause = 1



[State 3100]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------------------
;連装砲ちゃんのステート

[Statedef 3110]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1404
poweradd = 0
sprpriority = 7

[State 3110]
type = velset
trigger1 = time = 1
x = 2.4
y = -2.2

[State 3110]
type = VelAdd
trigger1 = 1
y = 0.8



[State 3110]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1




[State 3110, Helper]
Type = Helper
trigger1 = Pos y > -5
Persistent = 0
OwnPal = 1
PosType = P1
Pos = 0, -5
StateNo = 3120
Name = "rensou1"
ID = 3110


[State 3110]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3110]
type = DestroySelf
trigger1 = Pos y > -5


;-------------------------------------------------------------------------------------
;連装砲ちゃん　ヘルパー用

[Statedef 3120]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1406
poweradd = 0
sprpriority = 7



[State 3120, VelSet]
type = VelSet
trigger1 = 1
x = 0.2
y = 0
;ignorehitpause =
;persistent =

[State 3120, VelAdd]
type = VelAdd
trigger1 = time >=150
x = 30
y = 0
;ignorehitpause =
;persistent =

[State 3120, Helper]
Type = Helper
trigger1 = time = 1
Persistent = 0
OwnPal = 1
PosType = P1
Pos = 0, 0
StateNo = 3130
Name = "rensou2"
ID = 3130

[State 3120]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1

[State 3120]
type = HitDef
triggerall = ishelper
trigger1 = time = 1
attr = S, SP
damage    = ceil(75 * root,fvar(0)),9
getpower = 100
hitflag = MAFD
guardflag = MA
priority = 5, HIT
pausetime = 3,10
sparkno = S1407
guard.sparkno = S1407
sparkxy = -10,0
hitsound = S4100, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 30
ground.slidetime = 30
guard.hittime = 30
guard.ctrltime = 30
ground.velocity = 0,-9.3
air.type = High
airguard.velocity = 0,-3
air.velocity = 0,-11.2
absolute = 1
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(100 * fvar(1)) + 9
fall = 1
;yaccel = 0.33

[state 1020]
type = parentvarset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = root,fvar(1) * 0.91
ignorehitpause = 1
persistent=0


[State 3120]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3120]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3120]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3120]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3120]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3120]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3120]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3120]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3120, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact
statetype = S       ;S,A,C,L
movetype = H       ;I,A,H
physics = S        ;A,C,S,N
;ignorehitpause =
;persistent =

[State 3120]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3120]
type = DestroySelf
trigger1 = movecontact

[State 3120]
type = DestroySelf
trigger1 = time >= 250
trigger2 = movecontact


;-----------------------------------------------------------------------------------
;エフェクト用

[Statedef 3130]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1405
poweradd = 0
sprpriority = 7

[State 3130, VelSet]
type = VelSet
trigger1 = 1
x = 0.2
y = 0
;ignorehitpause =
;persistent =

[State 3130, VelAdd]
type = VelAdd
trigger1 = time >=149
x = 30
y = 0
;ignorehitpause =
;persistent =

[State 3130, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact
statetype = S       ;S,A,C,L
movetype = H       ;I,A,H
physics = S        ;A,C,S,N
;ignorehitpause =
;persistent =



[State 3130, NotHitBy]
Type = NotHitBy
Trigger1 = 1
Value = SCA

[State 3130, 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3130]
Type = Trans
Trigger1 = 1
Trans = Add
IgnoreHitPause = 1

[State 3130]
type = AngleDraw
trigger1 = 1
scale = 0.3,0.3

[State 3130]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1

[State 3130]
type = DestroySelf
triggerall = time > 1
trigger1 = (Parent,MoveType != A)

;--------------------------------------------------------------------------------------
;めにめにとーぴーどぉ

[Statedef 3200]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 3500
poweradd= 0
sprpriority = 2

[State 3200]
type = nothitby
trigger1 = 1
value = SCA



[State 3200]
type = velset
trigger1 = time = 0
x = 0

[State 3200]
type = velset
trigger1 = time = 0
y = 0

[state 3100]
type = nothitby
trigger1 = animelem = 1
value = SCA
time = 35


[state 3100]
type = pause
trigger1 = time = 1
time = 35
movetime = 35
darken = 0

[state 3100]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 35
under = 1
supermove = 1
pausemove = 1


[State 3100]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 3100]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[state 3100]
type = poweradd
trigger1 = time = 0
value = -1000


[state 4501]
type = Explod
trigger1 = time = 1
anim = 7014
pos = 0, -50
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999


[state 4501]
type = Explod
trigger1 = time = 1
anim = 7010
pos = 0, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999



[state 3100]
type = PlaySnd
trigger1 = time = 0
value = 20,3


[state 3100]
type = AssertSpecial
trigger1 = time = [0,35]
flag = noFG
flag = timerfreeze



[State 3200]
type = ChangeState
trigger1 = animtime = 0
value = 3201
ctrl = 1
;--------------------------------------------------------------------------------------
;めにめにとーぴーどぉ攻撃

[Statedef 3201]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 3501
poweradd= 0
sprpriority = 2

[State 3001]
type = NotHitBy
trigger1 = animelem = 1
value = SCA
time = 1


[State 3200]
type = velset
trigger1 = time = 0
x = 8.4

[State 3200]
type = velset
trigger1 = time = 0
y = 0

[State 4112]
type = AfterImage
trigger1 = time = 1
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4112]
type = AfterImage
trigger1 = time = 36
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4060]
type = PlayerPush
trigger1 = 1
value = 1


[State 4112]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animElem = 4
trigger4 = animElem = 5
trigger5 = animElem = 6
trigger6 = animElem = 7
trigger7 = animElem = 8
trigger8 = animElem = 9
trigger9 = animElem = 10
trigger10 = animelem = 11
trigger11 = animelem = 12
trigger12 = animelem = 13
value = 200,0
channel = 0



[state 4501]
type = Explod
trigger1 = animelem = 2
trigger2 = animElem = 4
trigger3 = animElem = 5
trigger4 = animElem = 7
trigger5 = animElem = 9
trigger6 = animelem = 11
trigger7 = animelem = 13
anim = 3504
pos = 50, -50
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999



[state 4501]
type = Explod
trigger1 = animelem = 3
trigger2 = animElem = 4
trigger3 = animElem = 6
trigger4 = animElem = 8
trigger5 = animElem = 9
trigger6 = animElem = 10
trigger7 = animelem = 12
anim = 3504
pos = 70, -60
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999


[state 4501]
type = Explod
trigger1 = animElem = 4
trigger2 = animElem = 5
trigger3 = animElem = 7
trigger4 = animElem = 8
trigger5 = animElem = 10
trigger6 = animelem = 11
trigger7 = animelem = 13
anim = 3504
pos = 70, -30
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[state 4501]
type = Explod
trigger1 = animelem = 3
trigger2 = animElem = 4
trigger3 = animElem = 6
trigger4 = animElem = 8
trigger5 = animElem = 9
trigger6 = animElem = 10
trigger7 = animelem = 12
anim = 3504
pos = 80, -10
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[state 4501]
type = Explod
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animElem = 6
trigger4 = animElem = 8
trigger5 = animElem = 10
trigger6 = animElem = 12
anim = 3503
pos = -70, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 4112]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 4112]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn


[State 4112]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animElem = 4
trigger4 = animElem = 5
trigger5 = animElem = 6
trigger6 = animElem = 7
trigger7 = animElem = 8
trigger8 = animElem = 9
trigger9 = animElem = 10
trigger10 = animelem = 11
trigger11 = animelem = 12
trigger12 = animelem = 13
attr = S, SA
animtype  = HARD
damage = ceil(20 * fvar(0)),5
HITflag = MAFD
getpower = 0
guardflag = MAF
priority  = 6 ,Hit
pausetime = 7,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S220,1
guardsound = S120, 0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
guard.ctrltime = 30
ground.velocity = -1.7,-1.8
air.type = High
air.velocity = -1.7,-1.8
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(105 * fvar(1)) + 9
fall = 0
p2facing = 1
;yaccel = 0.33
p2stateno = 1395

[State 4112]
type = HitDef
trigger1 = animelem = 13
attr = S, SA
animtype  = HARD
damage = ceil(40 * fvar(0)),5
HITflag = MAFD
getpower = 0
guardflag = MAF
priority  = 6 ,Hit
pausetime = 6,6
sparkno = S7003
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S220,1
guardsound = S120, 0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
guard.ctrltime = 30
ground.velocity = -5.7,-1.8
air.type = High
air.velocity = -1.7,-1.8
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(105 * fvar(1)) + 9
fall = 1
p2facing = 1
;yaccel = 0.33



[state 4112]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 1.00 * (1 - 0.00*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0







[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 4
trigger3 = animElem = 6
trigger4 = animElem = 8
trigger5 = animElem = 10
trigger6 = animelem = 12
trigger7 = animelem = 13
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 20,-40
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 3
trigger2 = animElem = 5
trigger3 = animElem = 7
trigger4 = animElem = 9
trigger5 = animelem = 11
trigger6 = animelem = 13
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 20,-40
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 4
trigger3 = animElem = 6
trigger4 = animElem = 8
trigger5 = animElem = 10
trigger6 = animelem = 12
trigger7 = animelem = 13
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 20,-40
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 3
trigger2 = animElem = 5
trigger3 = animElem = 7
trigger4 = animElem = 9
trigger5 = animelem = 11
trigger6 = animelem = 13
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 20,-40
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 4
trigger3 = animElem = 6
trigger4 = animElem = 8
trigger5 = animElem = 10
trigger6 = animelem = 12
trigger7 = animelem = 13
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 20,-40
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 3
trigger2 = animElem = 5
trigger3 = animElem = 7
trigger4 = animElem = 9
trigger5 = animelem = 11
trigger6 = animelem = 13
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 20,-40
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 4
trigger3 = animElem = 6
trigger4 = animElem = 8
trigger5 = animElem = 10
trigger6 = animelem = 12
trigger7 = animelem = 13
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 20,-40
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 3
trigger2 = animElem = 5
trigger3 = animElem = 7
trigger4 = animElem = 9
trigger5 = animelem = 11
trigger6 = animelem = 13
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 20,-40
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999





[State 4000]
type = ChangeState
trigger1 = time = 25
value = 3202
ctrl = 0

;---------------------------------------------------------------------------------
;チェーンガン 終了

[Statedef 3202]
type = S
movetype = A
physics = S
ctrl = 0
anim = 3502
poweradd = 0
sprpriority = 7

[State 3200]
type = velset
trigger1 = time = 0
x = 0

[State 3200]
type = velset
trigger1 = time = 0
y = 0

[state 1045]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------------------
;バックステップ

[Statedef 3999]
type     = A
physics  = N
anim     = 106
ctrl     = 0
poweradd= 0


[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 108]
type = playerpush
trigger1 = Prevstateno = 3999
value = 0


[State 4000]
type = pause
trigger1 = time = 1
time = 20
movetime = 20
darken = 0

[State 108]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 108]
type = velset
trigger1 = AnimElem = 1
x = -6.0
y = -2.2

[State 108]
type = VelAdd
trigger1 = AnimelemTime(3) >= 0
y = 0.5

[State 108]
type = ChangeState
trigger1 = Pos y > 0
trigger1 = Vel y > 0
value = 4000

;--------------------------------------------------------------------------------------
;エリアル・10cm高射連装クレイモア　

[Statedef 4000]
type    = S
movetype= A
physics = S
;juggle  = 0
velset = 0,0
anim = 4000
ctrl = 0
sprpriority = 7

[state 4000]
type = nothitby
trigger1 = animelem = 1
value = SCA
time = 40


[State 4000]
type = poweradd
trigger1 = time = 0
value = -2000



[State 4000]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 40
under = 1
supermove = 1
pausemove = 1


[State 4000]
type = pause
trigger1 = time = 1
time = 40
movetime = 40
darken = 0



[State 4000]
type = Explod
trigger1 = time = 1
anim = 7015
pos = 0, -50
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999

[State 4000]
type = Explod
trigger1 = time = 1
anim = 7010
pos = 0, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999




[State 4000]
type = PlaySnd
trigger1 = time = 0
value = 20,1

[State 4000]
type = AssertSpecial
trigger1 = time = [0,40]
flag = noFG
flag = timerfreeze


[State 4000]
type = explod
trigger1 = animelem = 5
anim = 18000
pos = 0,0
postype = p1
ontop = 1
supermovetime = 9999
pausemovetime = 9999
persistent = 0
ignorehitpause = 1




[State 4000]
type = PlaySnd
trigger1 = animelem = 5
value = s8000,6

[State 4000]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,11
channel = 0

[State 4000]
type = Helper
trigger1 = NumHelper(1400) = 0
trigger1 = Animelem = 5
helpertype = normal
ownpal = 1
name = "huda1"
postype = p1
pos = 45,-45
pausemovetime = 0
supermovetime = 0
stateno = 4010
ID = 1400
ignorehitpause = 1


[State 4000]
type = Helper
trigger1 = NumHelper(1401) = 0
trigger1 = Animelem = 5
helpertype = normal
ownpal = 1
name = "huda2"
postype = p1
pos = 45,-15
pausemovetime = 0
supermovetime = 0
stateno = 4010
ID = 1401
ignorehitpause = 1

[State 4000]
type = Helper
trigger1 = NumHelper(1402) = 0
trigger1 = Animelem = 5
helpertype = normal
ownpal = 1
name = "huda3"
postype = p1
pos = 10,-60
pausemovetime = 0
supermovetime = 0
stateno = 4010
ID = 1402
ignorehitpause = 1

[State 4000]
type = Helper
trigger1 = NumHelper(1403) = 0
trigger1 = Animelem = 5
helpertype = normal
ownpal = 1
name = "huda4"
postype = p1
pos = 10,-30
pausemovetime = 0
supermovetime = 0
stateno = 4010
ID = 1403
ignorehitpause = 1

[State 4000]
type = Helper
trigger1 = NumHelper(1404) = 0
trigger1 = Animelem = 5
helpertype = normal
ownpal = 1
name = "huda5"
postype = p1
pos = 10,0
pausemovetime = 0
supermovetime = 0
stateno = 4010
ID = 1404
ignorehitpause = 1



[State 4000]
type = ChangeState
trigger1 = animtime = 0
value = 4100
ctrl = 0


;---------------------------------------------------------------------------

;プラズマうさみみ_待機

[statedef 4100]
type    = S
physics = S
anim = 4100
ctrl = 0
velset = 0,0
sprpriority = 1

[State 4100, 5]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 20

[State 4100]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5


[State 4100, Helper];ダッシュエフェクト
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999



[State 4100]
type = playerpush
trigger1 = Anim = 1004
value = 1

[State 4100]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 4100]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 4100]
type = ChangeState
trigger1 = Animtime = 0
value = 4111
ctrl = 0



;----------------------------------------------------------------
;プラズマうさみみ_ダッシュ

[Statedef 4111]
type    = S
physics = S
anim = 1005
ctrl = 0
sprpriority = 1

[State 4111, 5]
type = NotHitBy
trigger1 = animelem = 1
value = SCA
time = 12

[State 4111]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 4111]
type = AfterImage
trigger1 = time = 0
time = 24
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4111]
type = AfterImage
trigger1 = time = 25
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 4111]
Type = VelSet
Trigger1 = Time = [0,3]
X = 15

[State 4111]
Type = VelSet
Trigger1 = Time = [3,7]
X = 30

[State 4111]
Type = VelSet
Trigger1 = Time = [7,12]
X = 50

[State 4111]
type = VelSet
trigger1 = time = [12,15]
x = 10

[State 4111]
type = VelSet
trigger1 = time = [15,18]
x = 7

[State 4111]
type = VelSet
trigger1 = time = [18,21]
x = 5


[State 4111]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 4111]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 4111]
type = PlaySnd
trigger1 = Time = 1
value = 100,0


[State 4111]
Type = ChangeState
Trigger1 = Time >= 0
Trigger1 = Time <= 14
Trigger1 = P2BodyDist X = [-25,25]
Trigger1 = p2bodydist Y = [-100,20]
Value = 4112

[State 4111]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;--------------------------------------------------------------
;プラズマうさみみ_攻撃

[Statedef 4112]
Type    = A
MoveType= A
Physics = N
;Juggle  = 3
VelSet = 0,0
Ctrl = 0
Anim = 1030
poweradd = 0
sprpriority = 2

[state 4000]
type = nothitby
trigger1 = animelem = 1
value = SCA
time = 15


[State 4112]
type = PlaySnd
trigger1 = Time = 3
value = s1200,0





[State 4112]
Type = PosAdd
Trigger1 = AnimElem = 1
Y = -70



[State 4112]
Type = VelSet
Trigger1 = AnimElem = 1
X = 0
Y = -1

[State 4112]
Type = VelSet
Trigger1 = AnimElem = 3
X = 1.0
Y = 15.0

[State 4112]
type = AfterImage
trigger1 = time = 5
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4112]
type = AfterImage
trigger1 = time = 15
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4112]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4112]
Type = Turn
Trigger1 = P2Dist X < -10
Trigger1 = AnimElem = 7

[State 4112]
type = PlaySnd
trigger1 = AnimElem = 3
value = 8000,0
channel = 0

[State 4112]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 4112]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn


[State 4112]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = HARD
damage = ceil(30 * fvar(0)),20
HITflag = MAFD
getpower = 0
guardflag = MAF
priority  = 6 ,Hit
pausetime = 9,99
sparkno = S7021
guard.sparkno = S7007
sparkxy = -20,-30
hitsound = S220,1
guardsound = S120, 0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
guard.ctrltime = 30
ground.velocity = 0,-5
air.type = High
air.velocity = 0,-5
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(105 * fvar(1)) + 9
fall = 1
p2facing = 1
p2stateno = 4114
;yaccel = 0.33
yaccel = 0.33


[state 4112]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.97 * (1 - 0.03*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0


[State 4112]
type = Explod
trigger1 = animelem = 3
anim = 1271
id = 1271
vel = 0,0
pos = -24,-30
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 4112]
type = Explod
trigger1 = animelem = 3
anim = 1008
id = 1008
vel = 0,0
pos = 0,5
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4112]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4112]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4112]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4112]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4112]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4112]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4112]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4112]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 4112]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State 4112]
Type = ChangeState
trigger1 = Pos Y > 0
Value = 4113
Ctrl = 0



;------------------------------------------
;プラズマうさみみ・更にもう一撃

[Statedef 4113]
Type = S
MoveType = A
Physics = N
Ctrl = 0
Anim = 4110
SprPriority = 2
MoveHitPersist = 1

[state 4000]
type = nothitby
trigger1 = 1
value = SCA


[State 4113, VelMul]
Type = VelMul
Trigger1 = Time = 0
X = 0.2

[State 4113, VelSet]
Type = VelSet
Trigger1 = Time = 0
Y = 0

[State 4113, PosSet]
Type = PosSet
Trigger1 = Time = 0
Y = 0

[State 4113, VelSet]
type = velset
trigger1 = time = 0
x = 1

[State 4113, VelSet]
type = veladd
trigger1 = time = 6
x = -1

[State 4113]
type = PlaySnd
trigger1 = AnimElem = 5
value = 8000,0
channel = 0

[State 4113]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype  = HARD
damage = ceil(30 * fvar(0)),20
HITflag = MAF
getpower = 0
guardflag = MAF
priority  = 6 ,Hit
pausetime = 9,9
sparkno = S7021
guard.sparkno = S7007
sparkxy = -20,-30
hitsound = S8000,0
guardsound = S120, 0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
guard.ctrltime = 30
ground.velocity = -1,-11.4
air.type = High
air.velocity = -1,-11.2
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(100 * fvar(1)) + 999
fall = 1
;yaccel = 0.33
p2stateno = 4150
yaccel = 0.33

[state 4113]
type = Explod
trigger1 = animelem = 1
anim = 1008
id = 1008
pos = 0,-30
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4113]
type = Explod
trigger1 = animelem = 3
anim = 1250
id = 1250
pos = -20,-50
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113]
type = Explod
trigger1 = Animelem = 1
anim = 7010
id = 30040
pos = 0,0
postype = p1
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999

[state 4113]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.97 * (1 - 0.03*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0


[State 4113]
type = Explod
trigger1 = Animelem = 1
anim = 7010
id = 30040
pos = 0,0
postype = p1
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999



[State 4113]
type = Explod
trigger1 = animelem = 2
anim = 1008
id = 1008
vel = 0,0
pos = 0,5
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113, ChangeState]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

[State 4113, ChangeState]
Type = ChangeState
Trigger1 = movehit
Value = 4120
Ctrl = 0

;-----------------------------------------------------------------------------
[Statedef 4150]
type = A
movetype= H
physics = N

[State 4150]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X >= 0
y = -11.5
x = -1


[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 4150]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X < 0
y = -11.5
x = -1

[State 4150]
type = VelAdd
trigger1 = time >= 0
y = 0.35

[State 4150]
type = ChangeAnim2
trigger1 = time = 0
value = 4150


[State 4150]
type = SelfState
trigger1 = Pos Y > 0
value = 5110

;-------------------------------------------------------------------------
;特殊やられステート
[Statedef 4114]
type	= S
movetype= H
physics	= S
ctrl = 0


[State 4114, StateTypeSet]
Type = StateTypeSet
trigger1 = P2Stateno = 4112
trigger1 = time = 0
type	= S
physics	= S

[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0



[State 4114, ChangeAnim2]
Type = ChangeAnim2
trigger1 = time = 0
value = 3207

[State 4114]
type = HitFallSet
trigger1 = 1
value = 0

[State 4114]
type = PosSet
trigger1 = 1
y = 0

[State 4114]
Type = VelSet
trigger1 = 1
x = 0
y = 0


[State 4114]
Type = selfstate
trigger1 = time = 99
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;魚雷のステート

[Statedef 4010]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1402
poweradd = 0
sprpriority = 7

[State 4010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 4010]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1


[State 4010]
type = velset
trigger1 = time = 5
x = 5

[State 4010]
type = veladd
trigger1 = time = 20
x = 35

[State 4010]
type = veladd
trigger1 = time = 50
x = 0

[State 4010]
type = HitDef
triggerall = ishelper
trigger1 = animelem = 1
attr = S, SP
damage    = ceil(30 * root,fvar(0)),8
getpower = 0
hitflag = MAF
guardflag = MA
priority = 5, HIT
pausetime = 3,99
sparkno = S7022
guard.sparkno = S7022
sparkxy = -10,-20
hitsound = S4100, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 20
ground.velocity = -5,-5
air.type = High
airguard.velocity = -3,-3
air.velocity = 0,-3
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(100 * fvar(1)) + 9
fall = 0
;yaccel = 0.33

[state 1020]
type = parentvarset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = root,fvar(1) * 1.00
ignorehitpause = 1
persistent=0


[State 4010]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4010]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4010]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4010]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4010]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4010]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4010]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4010]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4010]
type = DestroySelf
trigger1 = time >= 160
trigger2 = movecontact



;---------------------------------------------------------------------------
;クレイモア

[Statedef 4120]
type    = S
movetype = A
physics = N
anim = 3000
;juggle = 0
ctrl = 0
velset = 0,0
sprpriority = 2
facep2 = 1
poweradd = 0

[state 4120]
type = nothitby
trigger1 = 1
value = SCA

[State 4120]
type = Explod
trigger1 = time = 1
anim = 30040
id = 30040
pos = 0,0
postype = p1
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999

[State 4120]
type = Explod
trigger1 = time = 1
anim = 30030
scale = 1.2,1.2
postype = p1
pos = 0,0
sprpriority = 5
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999

[State 4120]
type = changestate
trigger1 = time = 15
value = 4121



;--------------------------------------------------
;クレイモア（攻撃）

[Statedef 4121]
type    = S
movetype = A
physics = N
anim = 3100
;juggle = 0
ctrl = 0
;velset = 0,0

[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 4121]
type = PlaySnd
trigger1 = AnimElem = 5
value = 8000,5
channel = 0

[State 4121]
type = Explod
trigger1 = animelem = 5
anim = 30050
pos = 0, -60
scale = 0.7 ,0.7
ownpal = 1

[State 4121]
type = Explod
trigger1 = animelem = 10
anim = 30050
pos = 0, -60
scale = 0.7 ,0.7
ownpal = 1

[State 4121]
type = Explod
trigger1 = animelem = 16
anim = 30050
pos = 0, -60
scale = 0.7 ,0.7
ownpal = 1

[State 4121]
type = Explod
trigger1 = animelem = 20
anim = 30050
pos = 0, -60
scale = 0.7 ,0.7
ownpal = 1

[State 4121]
type = Explod
trigger1 = animelem = 24
anim = 30050
pos = 0, -60
scale = 0.7 ,0.7
ownpal = 1

[state 4121]
type = Explod
trigger1 = animelem = 5
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1


[state 4121]
type = Explod
trigger1 = animelem = 7
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1

[state 4121]
type = Explod
trigger1 = animelem = 9
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1

[state 4121]
type = Explod
trigger1 = animelem = 11
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1


[state 4121]
type = Explod
trigger1 = animelem = 13
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1

[state 4121]
type = Explod
trigger1 = animelem = 15
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1

[state 4121]
type = Explod
trigger1 = animelem = 17
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1

[state 4121]
type = Explod
trigger1 = animelem = 19
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1

[state 4121]
type = Explod
trigger1 = animelem = 21
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1

[state 4121]
type = Explod
trigger1 = animelem = 23
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1

[state 4121]
type = Explod
trigger1 = animelem = 25
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1

[state 4121]
type = Explod
trigger1 = animelem = 27
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1


[state 4121]
trigger1 = animelem = 5
type = envshake
time = 100
freq = 70
ampl = 2

[State 4121, random #]
type = varSet
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(28) < 0
var(0) = random % 7



[State 4121, claymore]
type = projectile
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(28) < 0
attr = S, SP
animtype = heavy
hitflag = MAFP
guardflag = M
ground.type = high
air.type = low
sparkno = S7003
guard.sparkno = S7003
sparkxy = 0, 0
hitsound = -1
guardsound = S1, 1
noChainID = 3012
projID = 3012
projAnim = 3010 + var(0)
velocity = 24 * cos((3 - var(0)) * 0.15), -24 * sin((3 - var(0)) * (0.15 + 0.01 * (random % 5)))
projHits = 1
projPriority = 1
offset = -20, floor((-70 + random % 30) * const(size.yscale))
postype = P1
projheightbound = -240, 120
projedgebound = 70
projscale = 0.2 * const(size.xscale), 0.2 * const(size.yscale)
damage = 3, 20
priority = 4, Hit
getpower = 0, 0
givepower = 0, 0
pausetime = 0, 0
absolute = 1
ground.slidetime = 0
guard.slidetime = 0
ground.hittime = 30
guard.hittime = 30
guard.ctrltime = 30
air.hittime = 30
airguard.ctrltime = 30
ground.velocity = 0
air.velocity = -0, -0
airguard.velocity = 0, 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
p2stateno = 4123


[State 3025]
type = Explod
trigger1 = animelem = 6
trigger2 = animElem = 8
trigger3 = animElem = 10
trigger4 = animElem = 12
trigger5 = animElem = 14
trigger6 = animelem = 16
trigger7 = animelem = 18
trigger8 = animelem = 20
trigger9 = animelem = 22
trigger10 = animelem = 24
trigger11 = animelem = 26
trigger12 = animelem = 28
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 5
trigger2 = animElem = 7
trigger3 = animElem = 9
trigger4 = animElem = 11
trigger5 = animelem = 13
trigger6 = animelem = 15
trigger7 = animelem = 17
trigger8 = animelem = 19
trigger9 = animelem = 21
trigger10 = animelem = 23
trigger11 = animelem = 25
trigger12 = animelem = 27
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 6
trigger2 = animElem = 8
trigger3 = animElem = 10
trigger4 = animElem = 12
trigger5 = animElem = 14
trigger6 = animelem = 16
trigger7 = animelem = 18
trigger8 = animelem = 20
trigger9 = animelem = 22
trigger10 = animelem = 24
trigger11 = animelem = 26
trigger12 = animelem = 28
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 5
trigger2 = animElem = 7
trigger3 = animElem = 9
trigger4 = animElem = 11
trigger5 = animelem = 13
trigger6 = animelem = 15
trigger7 = animelem = 17
trigger8 = animelem = 19
trigger9 = animelem = 21
trigger10 = animelem = 23
trigger11 = animelem = 25
trigger12 = animelem = 27
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 6
trigger2 = animElem = 8
trigger3 = animElem = 10
trigger4 = animElem = 12
trigger5 = animElem = 14
trigger6 = animelem = 16
trigger7 = animelem = 18
trigger8 = animelem = 20
trigger9 = animelem = 22
trigger10 = animelem = 24
trigger11 = animelem = 26
trigger12 = animelem = 28
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 5
trigger2 = animElem = 7
trigger3 = animElem = 9
trigger4 = animElem = 11
trigger5 = animelem = 13
trigger6 = animelem = 15
trigger7 = animelem = 17
trigger8 = animelem = 19
trigger9 = animelem = 21
trigger10 = animelem = 23
trigger11 = animelem = 25
trigger12 = animelem = 27
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 6
trigger2 = animElem = 8
trigger3 = animElem = 10
trigger4 = animElem = 12
trigger5 = animElem = 14
trigger6 = animelem = 16
trigger7 = animelem = 18
trigger8 = animelem = 20
trigger9 = animelem = 22
trigger10 = animelem = 24
trigger11 = animelem = 26
trigger12 = animelem = 28
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 5
trigger2 = animElem = 7
trigger3 = animElem = 9
trigger4 = animElem = 11
trigger5 = animelem = 13
trigger6 = animelem = 15
trigger7 = animelem = 17
trigger8 = animelem = 19
trigger9 = animelem = 21
trigger10 = animelem = 23
trigger11 = animelem = 25
trigger12 = animelem = 27
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 4121]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 3100]
type = changestate
triggerall = power >= 1000
triggerall = stateno = 4121
triggerall = time >= 127
triggerall = NumHelper(20000) = 0
triggerall = var(26) = 1 || var(20) >= 400
triggerall = var(20) >= 0
trigger1 = command = "ocs_x"
value = 4122
ctrl = 0

;----------------------------------------------
;ハウリング連装砲X型　ぜかましのステート

[Statedef 4122]
type    = S
physics = S
movetype = A
anim = 4112
ctrl = 0
sprpriority = 1
poweradd = -1000

[State 4122, 5]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2000]
type = Varset
trigger1 = palno = [1,11]
trigger1 = var(26)=0
trigger1 = ((time = 0) && (Var(20) <= 200))
v = 20
value = 0
ignorehitpause = 1
supermove = 1
pausemove = 1

[State 2000]
type = Varset
trigger1 = palno = [1,11]
trigger1 = var(26)=0
trigger1 = ((time = 0) && (Var(20) >= 201))
v = 20
value = 0
ignorehitpause = 1
supermove = 1
pausemove = 1

[State 2000]
type = Varset
triggerall = var(27) = 0
triggerall = var(26) = 1
triggerall = var(20) >= 101
trigger1 = palno = [1,11]
trigger1 = time = 0
v = 20
value = 0
ignorehitpause = 1


[State 2000]
type = VarSet
triggerall = var(27) = 1
triggerall = var(26) = 1
triggerall = var(20) <= 100
trigger1 = palno = [1,11]
trigger1 = time = 0
v = 20
value = 0
ignorehitpause = 1

[State 2000]
type = VarAdd
triggerall = var(26) = 0
trigger1 = palno = 12
trigger1 = time = 0
v = 20
value = -200
ignorehitpause = 1

[State 2000]
type = VarAdd
triggerall = var(27) = 0
triggerall = var(26) = 1
triggerall = var(20) >= 51
trigger1 = palno = 12
trigger1 = time = 0
v = 20
value = -50
ignorehitpause = 1

[State 2000]
type = VarSet
triggerall = var(27) = 1
triggerall = var(26) = 1
triggerall = var(20) <= 50
trigger1 = palno = 12
trigger1 = time = 0
v = 20
value = 0
ignorehitpause = 1

[State 4122]
type = PlaySnd
trigger1 = time = 0
value = 20,0

[State 4122]
type = PlaySnd
trigger1 = Time = 1
value = s1200,0


[State 4122]
type = Explod
trigger1 = time = 0
anim = 7025
pos = 0, -50
ontop = 1
ownpal = 1
pausemovetime = 99999
supermovetime = 99999


[State 4122]
type = HitDef
trigger1 = animelem = 2
attr = S, SP
damage    = ceil(0 * root,fvar(0)),0
getpower = 0
hitflag = MAFD
guardflag = MA
priority = 5, HIT
pausetime = 0,99
sparkno = S7022
guard.sparkno = S7022
sparkxy = -10,-40
hitsound = S4100, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 20
ground.velocity = -5,-5
air.type = High
airguard.velocity = -3,-3
air.velocity = 0,-3
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(100 * fvar(1)) + 9
fall = 0
;yaccel = 0.33

[State 44122]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 4122]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn




[State 4122]
Type = helper
trigger1 = animelem = 1
stateno = 20004
postype = p1
pos = -60,-120
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
ID = 20000



[State 4122]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1


;------------------------------------------------------
;ヒット時の相手動作
[Statedef 4123]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 1



[State 4960]
type = PlayerPush
trigger1 = 1
value = 0

[State 4960]
type = Turn
trigger1 = Time = 0
trigger1 = (Facing = enemynear,Facing)

[State 4960]
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 4960]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0.2



[State 4960]
type = VelAdd
trigger1 = time = 5
y = 7.35


[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0



[State 4960]
type = SelfState
trigger1 = Time >= 10
value = 5050
;--------------------------------------------
;切り札
[Statedef 4500]
type    = S
physics = S
movetype = A
anim = 4360
ctrl = 0
sprpriority = 1

[State 4500, 5]
type = NotHitBy
trigger1 = animelem = 1
value = SCA
time = 3



[State 4500]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 4500]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn



[State 4500]
type = Hitdef
trigger1 = AnimElem = 2
attr = S, NT
hitflag = M-
priority = 2, Miss
sparkno = S7003
sparkxy = -10, -50
sprpriority = 1
guard.dist = 0
P2Facing = 1
p1stateno = 4501
p2stateno = 811
hitsound   = S800,0

[State 4500]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 4500]
type = AfterImage
trigger1 = time = 24
time = 24
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4500]
type = AfterImage
trigger1 = time = 38
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 4500]
Type = VelSet
Trigger1 = Time = [24,27]
X = 15

[State 4500]
Type = VelSet
Trigger1 = Time = [27,30]
X = 30

[State 4500]
Type = VelSet
Trigger1 = Time = [30,33]
X = 50

[State 4500]
type = VelSet
trigger1 = time = [33,36]
x = 10

[State 4500]
type = VelSet
trigger1 = time = [36,39]
x = 7

[State 4500]
type = VelSet
trigger1 = time = [39,42]
x = 5


[State 4500]
type = PlaySnd
trigger1 = Time = 24
value = 100,0


[State 4500]
type = playerpush
trigger1 = Anim = 4500
value = 1

[State 4500]
Type = ChangeState
Trigger1 = movehit
Value = 4501
Ctrl = 0

[State 4500]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;--------------------------------------------------------------------------

;切り札・B型改二

[Statedef 4501]
type    = S
movetype= A
physics = S
;juggle  = 0
velset = 0,0
anim = 4370
ctrl = 0
sprpriority = 7

[state 4501]
type = nothitby
trigger1 = 1
value = SCA


[state 4501]
type = poweradd
trigger1 = time = 0
value = -1000

[state 4501]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 35
under = 1
supermove = 1
pausemove = 1


[state 4501]
type = pause
trigger1 = time = 1
time = 35
movetime = 35
darken = 0



[state 4501]
type = Explod
trigger1 = time = 1
anim = 7014
pos = 0, -50
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999


[state 4501]
type = Explod
trigger1 = time = 1
anim = 7010
pos = 0, 0
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999



[state 4501]
type = PlaySnd
trigger1 = time = 0
value = 20,3


[state 4501]
type = AssertSpecial
trigger1 = time = [0,35]
flag = noFG
flag = timerfreeze

[State 4502]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4502]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4502]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4502]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4502]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4502]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4502]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4502]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 4501]
type = ChangeState
trigger1 = time = 35
value = 4502
ctrl = 0


;---------------------------------------------------------------------
;プラズマうさみみ_攻撃

[Statedef 4502]
Type    = A
MoveType= A
Physics = N
;Juggle  = 3
VelSet = 0,0
Ctrl = 0
Anim = 1030
poweradd = 0
sprpriority = 2

[state 4502]
type = nothitby
trigger1 = 1
value = SCA

[State 4502]
type = PlaySnd
trigger1 = Time = 3
value = s1200,0





[State 4502]
Type = PosAdd
Trigger1 = AnimElem = 1
Y = -70


[State 4502]
Type = VelSet
Trigger1 = AnimElem = 1
X = 0
Y = -1

[State 4502]
Type = VelSet
Trigger1 = AnimElem = 3
X = 1.0
Y = 15.0

[State 4502]
type = AfterImage
trigger1 = time = 5
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4502]
type = AfterImage
trigger1 = time = 15
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4502]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4502]
Type = Turn
Trigger1 = P2Dist X < -10
Trigger1 = AnimElem = 7



[State 4502]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 4502]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 4502]
type = PlaySnd
trigger1 = AnimElem = 3
value = 8000,0
channel = 0

[State 4502]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = HARD
damage = ceil(30 * fvar(0)),0
HITflag = MAF
getpower = 0
guardflag = H
priority  = 6 ,Hit
pausetime = 9,99
sparkno = S7021
guard.sparkno = S7007
sparkxy = -20,-30
hitsound = S220,1
guardsound = S220, 1
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
guard.ctrltime = 30
ground.velocity = 0,0
air.type = High
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(105 * fvar(1)) + 9
fall = 1
;yaccel = 0.33





[State 4502]
type = Explod
trigger1 = animelem = 3
anim = 1271
id = 1271
vel = 0,0
pos = -24,-30
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 4502]
type = Explod
trigger1 = animelem = 3
anim = 1008
id = 1008
vel = 0,0
pos = 0,5
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4502]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4502]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4502]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4502]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4502]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4502]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4502]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4502]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 4502]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State 4502]
Type = ChangeState
trigger1 = Pos Y > 0
Value = 4503
Ctrl = 0

;-------------------------------------------------------------------------

;ステーク＿1段目

[Statedef 4503]
type    = S
movetype= A
physics = N
;juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 4380
sprpriority = 2
ctrl = 0

[state 4503]
type = nothitby
trigger1 = 1
value = SCA

[State 4503, VelMul]
Type = VelMul
Trigger1 = Time = 0
X = 0.2

[State 4503, VelSet]
Type = VelSet
Trigger1 = Time = 0
Y = 0

[State 4503, PosSet]
Type = PosSet
Trigger1 = Time = 0
Y = 0

[State 4503, VelSet]
type = velset
trigger1 = time = 0
x = 1

[State 4503, VelSet]
type = veladd
trigger1 = time = 6
x = -1



[State 4503]
type = Explod
trigger1 = time = 0
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 4503]
type = Hitdef
trigger1 = AnimElem = 3
attr = S, NT
hitflag = MAF
priority = 1, HIT
sparkno = S7003
sparkxy = -10, -50
sprpriority = 1 
guard.dist = 0
P1Facing = 1
P2Facing = 1
p1stateno = 4505
p2stateno = 4504
hitsound   = S800,0






[State 4503,Effect]
type = Explod
trigger1 = Animelem = 1
anim = 1007
ownpal = 1
sprpriority = 9
postype = p1
pos = 15,-28
bindtime = -1
pausemovetime = 9999
supermovetime = 0
ID = 1007
ignorehitpause = 1


[State 4503]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
ID = 1007
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1



[State 4503]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4503]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4503]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4503]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4503]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4503]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4503]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4503]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 4503]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------

[Statedef 4505]
type    = S
movetype = A
physics = N
anim = 4390
poweradd = 0
velset = 0,0
facep2 = 1
facep1 = 1

[State 4505]
type = nothitby
trigger1 = 1
value = SCA


[State 4505]
type = varadd
trigger1 = time = 0
var(23) = 250
ignorehitpause = 1
persistent = 0


[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0



[State 4505]
type = playsnd
trigger1 = animelem = 1
value = 220,1
channel = 0


[State 4505]
type = width
trigger1 = time = 0
edge = 30,5
persistent = 0

[State 4505]
Type = PosAdd
Trigger1 = AnimElem = 2
Trigger2 = AnimElem = 3
Trigger3 = AnimElem = 4
X = -8

[State 4505]
Type = TargetBind
Trigger1 = AnimElem = 2
Pos = 20, 0


[State 4505]
Type = TargetBind
Trigger1 = AnimElem = 3
Pos = 15, -20

[State 4505]
Type = TargetBind
Trigger1 = AnimElem = 4
Pos = 8, -42


[State 4505]
Type = TargetBind
Trigger1 = AnimElem = 5
Pos = 5, -55



[State 4505]
type = Explod
trigger1 = animelem = 6
anim = 18001
postype = p1
pos = -10,0
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = Explod
trigger1 = animelem = 6
anim = 18002
postype = p1
pos = 10,0
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = Explod
trigger1 = animelem = 6
anim = 4392
postype = p1
pos = 13,-60
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 4505]
type = playsnd
trigger1 = animelem = 6
value = 3000,0
channel = 0


[State 4505]
type = Targetlifeadd
trigger1 = animElem = 6
value = - 30
kill = 0
absolute = 1



[State 4505]
type = Explod
trigger1 = animelem = 11
anim = 4392
postype = p1
pos = 13,-60
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 4505]
type = Explod
trigger1 = animelem = 11
anim = 18001
postype = p1
pos = -10,0
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = Explod
trigger1 = animelem = 11
anim = 18002
postype = p1
pos = 10,0
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = playsnd
trigger1 = animelem = 11
value = 3000,0
channel = 0


[State 4505]
type = Targetlifeadd
trigger1 = animElem = 11
value = - 30
kill = 0
absolute = 1

[State 4505]
type = Explod
trigger1 = animelem = 16
anim = 4392
postype = p1
pos = 13,-60
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = Explod
trigger1 = animelem = 16
anim = 18001
postype = p1
pos = -10,0
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = Explod
trigger1 = animelem = 16
anim = 18002
postype = p1
pos = 10,0
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = playsnd
trigger1 = animelem = 16
value = 3000,0
channel = 0


[State 4505]
type = Targetlifeadd
trigger1 = animElem = 16
value = - 30
absolute = 1




[State 4505]
type = Explod
trigger1 = animelem = 21
anim = 4392
postype = p1
pos = 13,-60
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = Explod
trigger1 = animelem = 21
anim = 18001
postype = p1
pos = -10,0
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = Explod
trigger1 = animelem = 21
anim = 18002
postype = p1
pos = 10,0
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = playsnd
trigger1 = animelem = 21
value = 3000,0
channel = 0


[State 4505]
type = Targetlifeadd
trigger1 = animElem = 21
value = - 30
kill = 0
absolute = 1



[State 4505]
type = Explod
trigger1 = animelem = 26
anim = 4392
postype = p1
pos = 13,-60
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = Explod
trigger1 = animelem = 26
anim = 18001
postype = p1
pos = -10,0
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = Explod
trigger1 = animelem = 26
anim = 18002
postype = p1
pos = 10,0
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = playsnd
trigger1 = animelem = 26
value = 3000,0
channel = 0


[State 4505]
type = Targetlifeadd
trigger1 = animElem = 26
value = - 30
kill = 0
absolute = 1



[State 4505]
type = Explod
trigger1 = animelem = 31
anim = 4392
postype = p1
pos = 13,-60
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = Explod
trigger1 = animelem = 31
anim = 18001
postype = p1
pos = -10,0
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = Explod
trigger1 = animelem = 31
anim = 18002
postype = p1
pos = 10,0
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = playsnd
trigger1 = animelem = 31
value = 3000,0
channel = 0


[State 4505]
type = Targetlifeadd
trigger1 = animElem = 31
value = - 100
kill = 1
absolute = 1




[State 4505]
Type = TargetState
Trigger1 = animelem = 31
Value = 4507
IgnoreHitPause = 1




[State 4505]
type = EnvShake
Trigger1 = animElem = 6
time = 15
freq = 70
ampl = -6

[State 4505]
type = EnvShake
Trigger1 = animElem = 11
time = 15
freq = 70
ampl = -6

[State 4505]
type = EnvShake
Trigger1 = animElem = 16
time = 15
freq = 70
ampl = -6

[State 4505]
type = EnvShake
Trigger1 = animElem = 21
time = 15
freq = 70
ampl = -6

[State 4505]
type = EnvShake
Trigger1 = animElem = 26
time = 15
freq = 70
ampl = -6

[State 4505]
type = EnvShake
Trigger1 = animElem = 31
time = 15
freq = 70
ampl = -6

[State 3045]
type = HitAdd
trigger1 = animelem = 6
trigger2 = animelem = 11
trigger3 = animElem = 16
trigger4 = animElem = 21
trigger5 = animElem = 26
trigger6 = animElem = 31
value = 1

[State 3025]
type = Explod
trigger1 = animelem = 6
trigger2 = animelem = 11
trigger3 = animElem = 16
trigger4 = animElem = 21
trigger5 = animElem = 26
trigger6 = animElem = 31
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 6
trigger2 = animelem = 11
trigger3 = animElem = 16
trigger4 = animElem = 21
trigger5 = animElem = 26
trigger6 = animElem = 31
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 6
trigger2 = animelem = 11
trigger3 = animElem = 16
trigger4 = animElem = 21
trigger5 = animElem = 26
trigger6 = animElem = 31
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 6
trigger2 = animelem = 11
trigger3 = animElem = 16
trigger4 = animElem = 21
trigger5 = animElem = 26
trigger6 = animElem = 31
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 6
trigger2 = animelem = 11
trigger3 = animElem = 16
trigger4 = animElem = 21
trigger5 = animElem = 26
trigger6 = animElem = 31
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 6
trigger2 = animelem = 11
trigger3 = animElem = 16
trigger4 = animElem = 21
trigger5 = animElem = 26
trigger6 = animElem = 31
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 6
trigger2 = animelem = 11
trigger3 = animElem = 16
trigger4 = animElem = 21
trigger5 = animElem = 26
trigger6 = animElem = 31
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 6
trigger2 = animelem = 11
trigger3 = animElem = 16
trigger4 = animElem = 21
trigger5 = animElem = 26
trigger6 = animElem = 31
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
Type = ChangeState
Trigger1 = time = 189
Value = 4510
ctrl = 0


;-----------------------------------------------------------------------
;排莢

[Statedef 4510]
type    = S
physics = S
movetype = A
anim = 4385
ctrl = 0
sprpriority = 1

[state 4510]
type = nothitby
trigger1 = 1
value = SCA

[State 4510]
type = Helper
trigger1 = NumHelper(1404) = 0
trigger1 = Animelem = 13
helpertype = normal
ownpal = 1
name = "rensou"
postype = p1
pos = 15,0
pausemovetime = 0
supermovetime = 0
stateno = 4511
ID = 4510
ignorehitpause = 1

[State 20020]
type = PlaySnd
trigger1 = AnimElem = 5
value = S8000,2

[State 4510]
Type = ChangeState
Trigger1 = Animtime = 0
Value = 0
ctrl = 1


;--------------------------------------------------------------------
;連装砲ちゃんのステート


[Statedef 4511]
type = A
movetype = A
physics = N
ctrl = 0
anim = 4393
poweradd = 0
sprpriority = 7

[State 4511]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1
IgnoreHitPause = 1


[State 4511]
type = PlaySnd
trigger1 = time = 1
value = 800,1

[State 4511]
type = Explod
trigger1 = time = 1
anim = 7004
pos = 0,0
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4511]
type = PlaySnd
trigger1 = time = 30
value = 3000,0


[State 4511]
Type = HitDef
Trigger1 = 1
Attr = S, HA
Damage = ceil(1* fvar(0)),7
AnimType = Hard
HitFlag = MAF
GuardFlag = M
Priority = 7, Hit
PauseTime = 1,10
SparkNo = -1
Guard.SparkNo = S7007
hitsound = s1100,0
guardsound = s120,0
Ground.Type = High
Air.Type = High
Ground.SlideTime = 25
Ground.HitTime  = 25
guard.ctrltime = 25
Ground.Velocity = -0,-3
Air.Velocity = -0,-3
P2Facing = 1
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = 0
fall.recovertime = ceil(999 * fvar(1)) + 9
;yaccel = 0.33
kill = 0
p2statetype = 1034
absolute = 1

[State 4511]
type = Explod
trigger1 = time = 30
anim = 1407
sprpriority = 9
ownpal = 1
scale = 1.0,1.0
pos = 0,0
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 9999



[State 4511]
type = DestroySelf
trigger1 = time >= 30


;----------------------------------------------------------------------
[Statedef 4504]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0


[State 4504]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1


[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 4504]
Type = ChangeAnim
Trigger1 = 1
Value = 5010

[State 4504]
Type = SelfState
Trigger1 = Time >= 10
Trigger1 = P2MoveType != A
Value = 4507
;-------------------------------------------------------------

[Statedef 4507]
type = A
movetype= H
physics = N

[State 4507]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X >= 0
y = -22.7
x = -0.25


[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 4507]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X < 0
y = -22.7
x = -0.25

[State 4507]
type = VelAdd
trigger1 = time >= 0
y = 0.35

[State 4507]
type = ChangeAnim2
trigger1 = time = 0
value = 4150


[State 4507]
type = SelfState
trigger1 = Pos Y > 0
value = 5110

;-----------------------------------------------------------------------
;桜花

[Statedef 4600]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= -3000
velset = 0,0
anim = 3200
ctrl = 0
sprpriority = 5

[State 4600]
type = nothitby
trigger1 = animelem = 1
value = SCA
time = 42



[State 4600]
type = PlaySnd
trigger1 = time = 1
value = 20,2

[State 4600]
type = PlaySnd
trigger1 = time = 1
value = 20,4

[State 4600]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 4600]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 42
under = 1


[State 4600]
type = pause
trigger1 = time = 1
time = 38
movetime = 38
darken = 0

[State 4600]
type = explod
trigger1 = time = 1
anim = 7016
pos = 0,-50
postype = p1
ontop = 1
supermovetime = 9999
pausemovetime = 9999
persistent = 0
ignorehitpause = 1




[State 4600, VelSet]
Type = VelSet
trigger1 = time = 0
x = 0
y = 0



[State 4600]
type = HitDef
trigger1 = AnimElem = 4
trigger1 = enemynear,stateno != [5080,5101]
attr = S, HA
damage = ceil(20 * fvar(0)),15
animtype = Hard
hitflag = MAFD
guardflag = MA
priority = 6, Hit
pausetime = 5,5
guard.pausetime = 5,5
sparkno = S7006
guard.sparkno = S7007
sparkxy = -10, -60
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 16
guard.slidetime = 14
ground.hittime  = 16
ground.velocity = -4
air.type = High
fall.xvelocity = ifelse((enemynear,facing=facing),1,-1)
down.velocity = -5,0
air.velocity = -3.5,-4
yaccel = 0.45
getpower = 0,0
fall = 0
fall.recover = 0
down.bounce = 0
snap = 45,0



[State 4600]
type = ChangeState
trigger1 = movehit
value = 4610



[State 4600]
type = TargetState
trigger1 = P2StateType != L
trigger1 = Movehit = 1
value = 4650
ignorehitpause = 1

[State 4600]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;---------------------------------------------------------------------------
;神風-ヒット時-繋ぎ
[Statedef 4610]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
anim = 3201
ctrl = 0

[State 4610]
type = nothitby
trigger1 = 1
value = SCA


[State 4610]
type = VelSet
trigger1 = AnimElemTime(1) = 0
x = 1.25


[State 4610]
type = PosSet
trigger1 = 1
y = 1

[State 4610]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
damage = ceil(20 * fvar(0)),15
attr = A, SA
getpower = 0
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 3,3
sparkno = S7003
guard.sparkno = S7007
sparkxy = -20,-20
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -3,-3
air.type = High
airguard.velocity = -3,-3
air.velocity = -5.4,-9.4
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4650
snap = 45,0

[State 4610]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = AnimElem = 12
trigger3 = AnimElem = 15
trigger4 = AnimElem = 17
trigger5 = AnimElem = 19
trigger6 = AnimElem = 22
trigger7 = AnimElem = 24
trigger8 = AnimElem = 26
attr = S, HA
damage = ceil(20 * fvar(0)),15
attr = A, SA
getpower = 0
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 3,3
sparkno = S7003
guard.sparkno = S7007
sparkxy = -20,-20
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -3,-3
air.type = High
airguard.velocity = -3,-3
air.velocity = -5.4,-9.4
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4655
snap = 45,0




[State 4610]
type = ChangeState
trigger1 = AnimTime = 0
value = 4620

;---------------------------------------------------------------------------
;神風-ヒット時-繋ぎ
[Statedef 4620]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
anim = 3211
ctrl = 0

[State 4620]
type = NotHitBy
trigger1 = 1
value = SCA

[State 4620]
type = VelSet
trigger1 = AnimElemTime(1) = 0
x = 2.75

[State 4620]
type = PosSet
trigger1 = 1
y = 1

[State 4620]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
damage = ceil(20 * fvar(0)),15
attr = A, SA
getpower = 0
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 3,3
sparkno = S7003
guard.sparkno = S7007
sparkxy = -20,-20
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -3,-3
air.type = High
airguard.velocity = -3,-3
air.velocity = -5.4,-9.4
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4650
snap = 45,0

[State 4620]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = AnimElem = 12
trigger3 = AnimElem = 15
trigger4 = AnimElem = 17
trigger5 = AnimElem = 19
trigger6 = AnimElem = 22
trigger7 = AnimElem = 24
trigger8 = AnimElem = 26
attr = S, HA
damage = ceil(20 * fvar(0)),15
getpower = 0
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 3,3
sparkno = S7003
guard.sparkno = S7007
sparkxy = -20,-20
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -3,-3
air.type = High
airguard.velocity = -3,-3
air.velocity = -5.4,-9.4
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4655
snap = 45,0


[State 4620]
type = ChangeState
triggerall = var(8) = 1 || var(7) >= 400
triggerall = var(7) >= 0
trigger1 = AnimTime = 0
value = 4630

[State 4620]
type = ChangeState
trigger1 = AnimTime = 0
value = 4631





;---------------------------------------------------------------------------
;神風-フィニッシュ
[Statedef 4630]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3212
ctrl = 0

[State 4630]
type = NotHitBy
trigger1 = 1
value = SCA


[State 4630]
type = EnvShake
trigger1 = AnimElemTime(2) = 0
trigger2 = AnimElemTime(6) = 0
time = 10
ampl = -7
freq = 60

[State 4630]
type = PosSet
trigger1 = AnimElemTime(10) = 0
y = 0

[State 4630]
type = EnvShake
trigger1 = AnimElemTime(11) = 0
time = 15
ampl = -9
freq = 60

[State 4630]
type = MoveHitReset
trigger1 = AnimElemTime(10) = 0
persistent = 1
ignorehitpause = 1

[State 4630]
type = Pause
triggerall = Roundstate = 2
triggerall = movehit
trigger1 = (AnimElemTime (11) >= 0) && (AnimElemTime (18) < 0)
time = 1

[State 4630]
type = StateTypeSet
trigger1 = AnimElemTime(10) = 3
statetype = S
movetype = I
physics = S

[State 4630]
type = StateTypeSet
trigger1 = AnimElemTime(11) = 0
statetype = S
movetype = A
physics = S

[State 4630]
type = Explod
trigger1 = AnimElemTime(11) = 0
anim = 18000
facing = 1
postype = p1
pos = 0,0
sprpriority = 3
ownpal = 1
pausemovetime = 73640
supermovetime = 73640
supermove = 1
bindtime = 1
persistent = 0
ignorehitpause = 1

[State 4630]
type = Explod
trigger1 = AnimElemTime(11) = 0
anim = 3214
facing = 1
postype = p1
pos = -25,-30
sprpriority = 3
ownpal = 1
pausemovetime = 73640
supermovetime = 73640
supermove = 1
bindtime = 1
persistent = 0
ignorehitpause = 1


[State 4630]
type = Explod
trigger1 = AnimElemTime(11) = 0
anim = 3215
facing = 1
postype = p1
pos = 0,0
sprpriority = 3
ownpal = 1
pausemovetime = 73640
supermovetime = 73640
supermove = 1
bindtime = 1
persistent = 0
ignorehitpause = 1



[State 4630]
type = Helper
trigger1 = AnimElemTime(11) = 0
helpertype = Normal
name = "Kamikaze"
stateno = 4700
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 1
supermovetime = 1
ignorehitpause = 1
ID = 4700

[State 4630]
type = HitDef
trigger1 = MatchOver = 0
trigger1 = AnimElem = 2
attr = S, HA
damage = ceil(50 * fvar(0)),15
attr = A, SA
getpower = 60
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 9,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -20,-30
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -5.4,-9.2
air.type = High
airguard.velocity = -3,-3
air.velocity = -5.4,-9.4
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4650
snap = 45,0

[State 4630]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
damage = ceil(100 * fvar(0)),15
attr = A, SA
getpower = 60
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 9,9
sparkno = S7006
guard.sparkno = S7007
sparkxy = -20,-20
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -5.4,-9.2
air.type = High
airguard.velocity = -3,-3
air.velocity = -5.4,-9.4
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4660
snap = 45,0

[State 4630]
type = HitDef
trigger1 = AnimElem = 11
attr = S, HA
damage = ceil(300 * fvar(0)),15
attr = A, SA
getpower = 60
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 9,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -20,-20
hitsound = S3000,0
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -5.4,-9.2
air.type = High
airguard.velocity = -3,-3
air.velocity = -5.4,-9.4
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4661

[State 4630]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;神風-フィニッシュ
[Statedef 4631]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3212
ctrl = 0

[State 4631]
type = NotHitBy
trigger1 = 1
value = SCA


[State 4631]
type = EnvShake
trigger1 = AnimElemTime(2) = 0
trigger2 = AnimElemTime(6) = 0
time = 10
ampl = -7
freq = 60

[State 4631]
type = PosSet
trigger1 = AnimElemTime(10) = 0
y = 0

[State 4631]
type = VelSet
trigger1 = AnimElemTime(11) = 0
trigger1 = FrontEdgeDist <= 5
x = -8 * 1.5

[State 4631]
type = EnvShake
trigger1 = AnimElemTime(11) = 0
time = 15
ampl = -9
freq = 60

[State 4631]
type = MoveHitReset
trigger1 = AnimElemTime(10) = 0
persistent = 1
ignorehitpause = 1

[State 4631]
type = Pause
triggerall = Roundstate = 2
triggerall = movehit
trigger1 = (AnimElemTime (11) >= 0) && (AnimElemTime (18) < 0)
time = 1

[State 4631]
type = StateTypeSet
trigger1 = AnimElemTime(10) = 3
statetype = S
movetype = I
physics = S

[State 4631]
type = StateTypeSet
trigger1 = AnimElemTime(11) = 0
statetype = S
movetype = A
physics = S

[State 4631]
type = Explod
trigger1 = AnimElemTime(11) = 0
anim = 18000
facing = 1
postype = p1
pos = 0,0
sprpriority = 3
ownpal = 1
pausemovetime = 73640
supermovetime = 73640
supermove = 1
bindtime = 1
persistent = 0
ignorehitpause = 1

[State 4631]
type = Explod
trigger1 = AnimElemTime(11) = 0
anim = 3214
facing = 1
postype = p1
pos = -25,-30
sprpriority = 3
ownpal = 1
pausemovetime = 73640
supermovetime = 73640
supermove = 1
bindtime = 1
persistent = 0
ignorehitpause = 1


[State 4631]
type = Explod
trigger1 = AnimElemTime(11) = 0
anim = 3215
facing = 1
postype = p1
pos = 0,0
sprpriority = 3
ownpal = 1
pausemovetime = 73640
supermovetime = 73640
supermove = 1
bindtime = 1
persistent = 0
ignorehitpause = 1



[State 4631]
type = Helper
trigger1 = AnimElemTime(11) = 0
helpertype = Normal
name = "Kamikaze"
stateno = 4700
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 1
supermovetime = 1
ignorehitpause = 1
ID = 4700

[State 4631]
type = HitDef
trigger1 = MatchOver = 0
trigger1 = AnimElem = 2
attr = S, HA
damage = ceil(50 * fvar(0)),15
attr = A, SA
getpower = 60
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 9,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -20,-30
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -5.4,-9.2
air.type = High
airguard.velocity = -3,-3
air.velocity = -5.4,-9.4
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4650
snap = 45,0

[State 4631]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
damage = ceil(100 * fvar(0)),15
attr = A, SA
getpower = 60
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 9,9
sparkno = S7006
guard.sparkno = S7007
sparkxy = -20,-20
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -5.4,-9.2
air.type = High
airguard.velocity = -3,-3
air.velocity = -5.4,-9.4
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4660
snap = 45,0

[State 4631]
type = HitDef
trigger1 = AnimElem = 11
attr = S, HA
damage = ceil(300 * fvar(0)),15
attr = A, SA
getpower = 60
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 9,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -20,-20
hitsound = S3000,0
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -5.4,-9.2
air.type = High
airguard.velocity = -3,-3
air.velocity = -5.4,-9.4
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4661

[State 4631]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;神風-相手
[Statedef 4650]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
facep2 = 1

[State 4650]
type = VelSet
trigger1 = 1
x = 0

[State 4650]
type = PosSet
trigger1 = 1
y = 1

[State 4650]
type = ChangeAnim2
trigger1 = Time = 0
value = 3206

[State 4650]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;神風-相手
[Statedef 4655]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
facep2 = 1

[State 4655]
type = VelSet
trigger1 = 1
x = 0

[State 4655]
type = PosSet
trigger1 = 1
y = 1

[State 4655]
type = ChangeAnim2
trigger1 = Time = 0
value = 3207

[State 4655]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;神風-相手
[Statedef 4660]
type    = A
movetype= H
physics = N
velset = -1,-10
ctrl = 0
facep2 = 1

[State 4660]
type = VelAdd
trigger1 = 1
y = .525

[State 4660]
type = ChangeAnim2
trigger1 = Time = 0
value = 3208

[State 4660]
type = SelfState
trigger1 = Pos Y >= -1
trigger1 = Vel Y >= -1
value = 5100

;---------------------------------------------------------------------------
;ヒット時の相手動作
[Statedef 4661]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 1

[State 4661]
type = PlayerPush
trigger1 = 1
value = 0

[State 4661]
type = Turn
trigger1 = Time = 0
trigger1 = (Facing = enemynear,Facing)

[State 4661]
type = ChangeAnim
trigger1 = Time = 0
value = 5050

[State 4661]
type = VelSet
trigger1 = Time = 0
x = -10.5
y = -11.9

[State 4661]
type = VelAdd
trigger1 = 1
y = .55

[State 4661]
type = ScreenBound
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1
movecamera = 0,0



[State 4661]
type = SelfState
trigger1 = (Vel y > -1) && (Pos y >= -1)
trigger1 = Time >= 10
value = 5100

;---------------------------------------------------------------------------
;神風-相手
[Statedef 4665]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
facep2 = 1

[State 4665]
type = NotHitBy
trigger1 = 1
value = SCA

[State 4665]
type = Velset
trigger1 = AnimElemTime(1) = 0
x = 0
y = 0

[State 4665]
type = PosSet
trigger1 = (AnimElemTime (1) >= 0) && (AnimElemTime (6) < 0)
y = 0

[State 4665]
type = StateTypeSet
trigger1 = AnimElemTime(6) = 0
type    = A
movetype= H
physics = N

[State 4665]
type = VelSet
trigger1 = AnimElem = 6
x = -1
y = -10

[State 4665]
type = VelAdd
trigger1 = AnimElemTime(6) >= 0
y = .525

[State 4665]
type = ChangeAnim2
trigger1 = Time = 0
value = 3209

[State 4665]
type = ChangeState
trigger1 = AnimTime = 0
value = 4666

;---------------------------------------------------------------------------
;ヒット時の相手動作
[Statedef 4666]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 1

[State 4666]
type = NotHitBy
trigger1 = 1
value = SCA

[State 4666]
type = PlayerPush
trigger1 = 1
value = 0

[State 4666]
type = Turn
trigger1 = Time = 0
trigger1 = (Facing = enemynear,Facing)

[State 4666]
type = ChangeAnim
trigger1 = Time = 0
value = 5050

[State 4666]
type = VelSet
trigger1 = Time = 0
x = -20.5
y = -8

[State 4666]
type = VelAdd
trigger1 = 1
y = .55


[State 4666, カメラ固定]
type = ScreenBound
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1
movecamera = 0,0



[State 4666]
Type = ChangeState
triggerall = Pos y < -1
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 965

[State 4666]
type = SelfState
trigger1 = (Vel y > -1) && (Pos y >= -1)
trigger1 = Time >= 10
value = 5100

;---------------------------------------------------------------------------
;神風-文字
[Statedef 4700]
physics  = N
ctrl     = 0
Anim = 3213


[State 4700]
type = AssertSpecial
trigger1 = time = [0,60]
flag = NoBG
flag2 = NoFG
ignorehitpause = 1

[State 4700]
type = Varset
trigger1 = time = 0
fvar(5) = 1.5

[State 4700]
type = VarAdd
trigger1 = time < 10
fvar(5) = -0.1

[State 4700]
type = Explod
trigger1 = time = 0
anim = ifelse(facing = 1,3202,3204)
facing = 1
postype = back
pos = 160,120
sprpriority = -4
ownpal = 1
scale = fvar(5),fvar(5)
pausemovetime = 0
supermovetime = 0
supermove = 1
bindtime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1
ID = 4700

[State 4700]
type = ModifyExplod
trigger1 = 1
ID = 4700
scale = fvar(5),fvar(5)

[State 4700]
type = RemoveExplod
trigger1 = time = 60
ID = 4700

[State 4700]
type = Explod
trigger1 = time = 60
anim = ifelse(facing = 1,3203,3205)
facing = 1
postype = back
pos = 160,120
sprpriority = -4
ownpal = 1
scale = fvar(5),fvar(5)
pausemovetime = 0
supermovetime = 0
supermove = 1
bindtime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1
ID = 3021

[State 4700]
type = DestroySelf
triggerall = time > 60
trigger1 = (Parent,MoveType != A)
trigger2 = (Root,MoveType != A)
ignorehitpause = 1

;------------------------------------------------------------------------------
;島風・改弍

[Statedef 4800]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= -3000
velset = 0,0
anim = 3218
ctrl = 0
sprpriority = 8

[State 4800]
type = nothitby
trigger1 = animelem = 1
value = SCA
time = 69

[State 4800]
type = Playerpush
trigger1 = Prevstateno = 4800
value = 0

[State 4000, Helper];カットイン　１Ｐ側
Type = Helper
Trigger1 = (TeamMode = Single) || (TeamMode = Turns)
Trigger1 = Time = 1
Trigger1 = TeamSide = 1
OwnPal = 1
PosType = Left
Pos = -150, Floor(170-ScreenPos Y)
Facing = 1
ID = 6920
StateNo = 6920
scale = 1,1
PauseMoveTime = 999999
SuperMoveTime = 999999
Name = " "

[State 4000, Helper];カットイン　２Ｐ側
Type = Helper
Trigger1 = (TeamMode = Single) || (TeamMode = Turns)
Trigger1 = Time = 1
Trigger1 = TeamSide = 2
OwnPal = 1
PosType = Right
scale = 1,1
Pos = 150, Floor(170-ScreenPos Y)
Facing = -1
ID = 6920
StateNo = 6920
PauseMoveTime = 999999
SuperMoveTime = 999999
Name = " "



[State 4800]
type = PlaySnd
trigger1 = time = 1
value = 20,4

[State 4800]
type = Turn
triggerall = Time = 0
trigger1 = p2dist X < -5

[State 4800]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 50
under = 1


[State 4800]
type = pause
trigger1 = time = 1
time = 50
movetime = 50
darken = 0

[State 4800]
type = explod
trigger1 = time = 1
anim = 7016
pos = 0,-50
postype = p1
ontop = 1
supermovetime = 9999
pausemovetime = 9999
persistent = 0
ignorehitpause = 1




[State 4800]
type = AfterImage
trigger1 = time = 0
time = 50
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4800]
type = AfterImage
trigger1 = time = 61
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 4800, BGPalFX]
type = BGPalFX
trigger1 = 1
color = 0
invertall = 1
time = 1
ignorehitpause = 1


[State 4800]
Type = VelSet
Trigger1 = Time = [50,52]
X = 20

[State 4800]
Type = VelSet
Trigger1 = Time = [52,54]
X = 30

[State 4800]
Type = VelSet
Trigger1 = Time = [54,56]
X = 80

[State 4800]
type = VelSet
trigger1 = time = [56,64]
x = 10

[State 4800]
type = VelSet
trigger1 = time = [64,68]
x = 7

[State 4800]
type = VelSet
trigger1 = time = [68,70]
x = 5


[State 4800]
type = HitDef
trigger1 = AnimElem = 3
trigger1 = enemynear,stateno != [5080,5101]
attr = S, HA
damage = ceil(10 * fvar(0)),5
animtype = Hard
hitflag = MAFD
guardflag = MA
priority = 6, Hit
pausetime = 5,5
guard.pausetime = 5,5
sparkno = S7006
guard.sparkno = S7007
sparkxy = -10, -60
hitsound = S220, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 16
guard.slidetime = 14
ground.hittime  = 16
ground.velocity = -4
air.type = High
fall.xvelocity = ifelse((enemynear,facing=facing),1,-1)
down.velocity = -5,0
air.velocity = -3.5,-4
yaccel = 0.45
getpower = 0,0
fall = 0
fall.recover = 0
down.bounce = 0
snap = 45,0
kill = 0


[State 1271]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1271]
type = Explod
trigger1 = movehit
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 4800]
type = ChangeState
trigger1 = movehit
value = 4810



[State 4800]
type = TargetState
trigger1 = P2StateType != L
trigger1 = Movehit = 1
value = 4650
ignorehitpause = 1

[State 4800]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;---------------------------------------------------------------------------
;神風-ヒット時-繋ぎ
[Statedef 4810]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
anim = 3201
ctrl = 0

[State 4810]
type = nothitby
trigger1 = 1
value = SCA


[State 4810]
type = VelSet
trigger1 = AnimElemTime(1) = 0
x = 1.25

[State 4810]
type = BGPalFX
trigger1 = 1
color = 0
invertall = 1
time = 1
ignorehitpause = 1

[State 4810]
type = PosSet
trigger1 = 1
y = 1

[State 4810]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
damage = ceil(10 * fvar(0)),5
attr = A, SA
getpower = 0
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 3,3
sparkno = S7003
guard.sparkno = S7007
sparkxy = -20,-40
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 16
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -3,-3
air.type = High
airguard.velocity = -3,-3
air.velocity = -3,-4
air.fall = 1
fall.xvelocity = ifelse((enemynear,facing=facing),1,-1)
fall = 0
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4650
snap = 45,0
kill = 0

[State 4810]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = AnimElem = 12
trigger3 = AnimElem = 15
trigger4 = AnimElem = 17
trigger5 = AnimElem = 19
trigger6 = AnimElem = 22
trigger7 = AnimElem = 24
trigger8 = AnimElem = 26
attr = S, HA
damage = ceil(10 * fvar(0)),5
attr = A, SA
getpower = 0
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 3,3
sparkno = S7003
guard.sparkno = S7007
sparkxy = -20,-40
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 16
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -3,-3
air.type = High
airguard.velocity = -3,-3
air.velocity = -3,-4
air.fall = 1
fall.xvelocity = ifelse((enemynear,facing=facing),1,-1)
fall = 0
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4655
snap = 45,0
kill = 0

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 5
trigger3 = animElem = 7
trigger4 = animElem = 9
trigger5 = AnimElem = 12
trigger6 = AnimElem = 15
trigger7 = AnimElem = 17
trigger8 = AnimElem = 19
trigger9 = AnimElem = 22
trigger10 = AnimElem = 24
trigger11 = AnimElem = 26
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 5
trigger3 = animElem = 7
trigger4 = animElem = 9
trigger5 = AnimElem = 12
trigger6 = AnimElem = 15
trigger7 = AnimElem = 17
trigger8 = AnimElem = 19
trigger9 = AnimElem = 22
trigger10 = AnimElem = 24
trigger11 = AnimElem = 26
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 5
trigger3 = animElem = 7
trigger4 = animElem = 9
trigger5 = AnimElem = 12
trigger6 = AnimElem = 15
trigger7 = AnimElem = 17
trigger8 = AnimElem = 19
trigger9 = AnimElem = 22
trigger10 = AnimElem = 24
trigger11 = AnimElem = 26
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 2
trigger2 = animElem = 5
trigger3 = animElem = 7
trigger4 = animElem = 9
trigger5 = AnimElem = 12
trigger6 = AnimElem = 15
trigger7 = AnimElem = 17
trigger8 = AnimElem = 19
trigger9 = AnimElem = 22
trigger10 = AnimElem = 24
trigger11 = AnimElem = 26
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 2
trigger2 = animElem = 5
trigger3 = animElem = 7
trigger4 = animElem = 9
trigger5 = AnimElem = 12
trigger6 = AnimElem = 15
trigger7 = AnimElem = 17
trigger8 = AnimElem = 19
trigger9 = AnimElem = 22
trigger10 = AnimElem = 24
trigger11 = AnimElem = 26
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 2
trigger2 = animElem = 5
trigger3 = animElem = 7
trigger4 = animElem = 9
trigger5 = AnimElem = 12
trigger6 = AnimElem = 15
trigger7 = AnimElem = 17
trigger8 = AnimElem = 19
trigger9 = AnimElem = 22
trigger10 = AnimElem = 24
trigger11 = AnimElem = 26
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 5
trigger3 = animElem = 7
trigger4 = animElem = 9
trigger5 = AnimElem = 12
trigger6 = AnimElem = 15
trigger7 = AnimElem = 17
trigger8 = AnimElem = 19
trigger9 = AnimElem = 22
trigger10 = AnimElem = 24
trigger11 = AnimElem = 26
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 2
trigger2 = animElem = 5
trigger3 = animElem = 7
trigger4 = animElem = 9
trigger5 = AnimElem = 12
trigger6 = AnimElem = 15
trigger7 = AnimElem = 17
trigger8 = AnimElem = 19
trigger9 = AnimElem = 22
trigger10 = AnimElem = 24
trigger11 = AnimElem = 26
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 4810]
type = ChangeState
trigger1 = AnimTime = 0
value = 4820

;---------------------------------------------------------------------------
;神風-ヒット時-繋ぎ
[Statedef 4820]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
anim = 3211
ctrl = 0

[State 4820]
type = NotHitBy
trigger1 = 1
value = SCA

[State 4820]
type = VelSet
trigger1 = AnimElemTime(1) = 0
x = 2.75

[State 4820]
type = PosSet
trigger1 = 1
y = 1

[State 4820]
type = BGPalFX
trigger1 = 1
color = 0
invertall = 1
time = 1
ignorehitpause = 1

[State 4820]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
damage = ceil(10 * fvar(0)),5
attr = A, SA
getpower = 0
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 3,3
sparkno = S7003
guard.sparkno = S7007
sparkxy = -20,-40
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 16
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -3
air.type = High
airguard.velocity = -3,-3
air.velocity = -3,-4
air.fall = 1
fall.xvelocity = ifelse((enemynear,facing=facing),1,-1)
fall = 0
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4650
snap = 45,0
kill = 0

[State 4820]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = AnimElem = 12
trigger3 = AnimElem = 15
trigger4 = AnimElem = 17
trigger5 = AnimElem = 19
trigger6 = AnimElem = 22
trigger7 = AnimElem = 24
trigger8 = AnimElem = 26
attr = S, HA
damage = ceil(10 * fvar(0)),5
getpower = 0
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 3,3
sparkno = S7003
guard.sparkno = S7007
sparkxy = -20,-40
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 16
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -3,-3
air.type = High
airguard.velocity = -3,-3
air.velocity = -3,-4
air.fall = 1
fall.xvelocity = ifelse((enemynear,facing=facing),1,-1)
fall = 0
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4655
snap = 45,0
kill = 0

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 7
trigger3 = AnimElem = 12
trigger4 = AnimElem = 17
trigger5 = AnimElem = 22
trigger6 = AnimElem = 26
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animElem = 5
trigger2 = animElem = 9
trigger3 = AnimElem = 15
trigger4 = AnimElem = 19
trigger5 = AnimElem = 24
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 7
trigger3 = AnimElem = 12
trigger4 = AnimElem = 17
trigger5 = AnimElem = 22
trigger6 = AnimElem = 26
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animElem = 5
trigger2 = animElem = 9
trigger3 = AnimElem = 15
trigger4 = AnimElem = 19
trigger5 = AnimElem = 24
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 2
trigger2 = animElem = 7
trigger3 = AnimElem = 12
trigger4 = AnimElem = 17
trigger5 = AnimElem = 22
trigger6 = AnimElem = 26
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animElem = 5
trigger2 = animElem = 9
trigger3 = AnimElem = 15
trigger4 = AnimElem = 19
trigger5 = AnimElem = 24
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 7
trigger3 = AnimElem = 12
trigger4 = AnimElem = 17
trigger5 = AnimElem = 22
trigger6 = AnimElem = 26
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animElem = 5
trigger2 = animElem = 9
trigger3 = AnimElem = 15
trigger4 = AnimElem = 19
trigger5 = AnimElem = 24
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4820]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(MatchOver=1,4831,4830)

;---------------------------------------------------------------------------
;神風-フィニッシュ
[Statedef 4830]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3217
ctrl = 0

[State 4830]
type = NotHitBy
trigger1 = 1
value = SCA

[State 4830]
type = BGPalFX
trigger1 = time = 0
color = 0
invertall = 1
time = 60
ignorehitpause = 1

[State 4830]
type = EnvShake
trigger1 = AnimElemTime(2) = 0
trigger2 = AnimElemTime(6) = 0
time = 10
ampl = -7
freq = 60

[State 4830]
type = PosSet
trigger1 = AnimElemTime(10) = 0
y = 0

[State 4830]
type = EnvShake
trigger1 = AnimElemTime(11) = 0
time = 15
ampl = -9
freq = 60

[State 4830]
type = MoveHitReset
trigger1 = AnimElemTime(10) = 0
persistent = 1
ignorehitpause = 1

[State 4830]
type = Pause
triggerall = Roundstate = 2
triggerall = movehit
trigger1 = (AnimElemTime (11) >= 0) && (AnimElemTime (18) < 0)
time = 1

[State 4830]
type = StateTypeSet
trigger1 = AnimElemTime(10) = 3
statetype = S
movetype = I
physics = S

[State 4830]
type = StateTypeSet
trigger1 = AnimElemTime(11) = 0
statetype = S
movetype = A
physics = S

[State 4830]
type = Explod
trigger1 = AnimElemTime(11) = 0
anim = 18000
facing = 1
postype = p1
pos = 0,0
sprpriority = 3
ownpal = 1
pausemovetime = 73640
supermovetime = 73640
supermove = 1
bindtime = 1
persistent = 0
ignorehitpause = 1

[State 4830]
type = Explod
trigger1 = AnimElemTime(11) = 0
anim = 3214
facing = 1
postype = p1
pos = -25,-30
sprpriority = 3
ownpal = 1
pausemovetime = 73640
supermovetime = 73640
supermove = 1
bindtime = 1
persistent = 0
ignorehitpause = 1

[State 4830]
type = Explod
trigger1 = AnimElemTime(11) = 0
anim = 3214
facing = 1
postype = p1
pos = -30,-35
sprpriority = 3
ownpal = 1
pausemovetime = 73640
supermovetime = 73640
supermove = 1
bindtime = 1
persistent = 0
ignorehitpause = 1



[State 4830]
type = Explod
trigger1 = AnimElemTime(11) = 0
anim = 3215
facing = 1
postype = p1
pos = 0,0
sprpriority = 3
ownpal = 1
pausemovetime = 73640
supermovetime = 73640
supermove = 1
bindtime = 1
persistent = 0
ignorehitpause = 1



[State 4830]
type = Helper
trigger1 = AnimElemTime(11) = 0
helpertype = Normal
name = "Kamikaze"
stateno = 4700
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 1
supermovetime = 1
ignorehitpause = 1
ID = 4700

[State 4830]
type = HitDef
trigger1 = MatchOver = 0
trigger1 = AnimElem = 2
attr = S, HA
damage = ceil(30 * fvar(0)),15
attr = A, SA
getpower = 0
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 9,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -20,-30
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -5.4,-9.2
air.type = High
airguard.velocity = -3,-3
air.velocity = -3,-4
air.fall = 1
fall = 0
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4650
snap = 45,0
kill = 0

[State 4830]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
damage = ceil(50 * fvar(0)),5
attr = A, SA
getpower = 0
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 9,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -20,-20
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -5.4,-9.2
air.type = High
airguard.velocity = -3,-3
air.velocity = -5.4,-9.4
absolute = 1
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4660
snap = 45,0
kill = 0

[State 4830]
type = HitDef
trigger1 = AnimElem = 11
attr = S, HA
damage = ceil(350 * fvar(0)),20
attr = A, SA
getpower = 0
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 9,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -20,-20
hitsound = S3000,0
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -5.4,-9.2
absolute = 1
air.type = High
airguard.velocity = -3,-3
air.velocity = -5.4,-9.4
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4666



[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 6
trigger3 = animElem = 11
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 6
trigger3 = animElem = 11
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 6
trigger3 = animElem = 11
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 2
trigger2 = animElem = 6
trigger3 = animElem = 11
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 2
trigger2 = animElem = 6
trigger3 = animElem = 11
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 2
trigger2 = animElem = 6
trigger3 = animElem = 11
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 6
trigger3 = animElem = 11
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 2
trigger2 = animElem = 6
trigger3 = animElem = 11
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4830]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;神風-フィニッシュ
[Statedef 4831]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3217
ctrl = 0

[State 4831]
type = NotHitBy
trigger1 = 1
value = SCA


[State 4831]
type = EnvShake
trigger1 = AnimElemTime(2) = 0
trigger2 = AnimElemTime(6) = 0
time = 10
ampl = -7
freq = 60

[State 4831]
type = PosSet
trigger1 = AnimElemTime(10) = 0
y = 0

[State 4831]
type = VelSet
trigger1 = AnimElemTime(11) = 0
trigger1 = FrontEdgeDist <= 5
x = -8 * 1.5

[State 4831]
type = EnvShake
trigger1 = AnimElemTime(11) = 0
time = 15
ampl = -9
freq = 60

[State 4831]
type = MoveHitReset
trigger1 = AnimElemTime(10) = 0
persistent = 1
ignorehitpause = 1

[State 4831]
type = Pause
triggerall = Roundstate = 2
triggerall = movehit
trigger1 = (AnimElemTime (11) >= 0) && (AnimElemTime (18) < 0)
time = 1

[State 4831]
type = StateTypeSet
trigger1 = AnimElemTime(10) = 3
statetype = S
movetype = I
physics = S

[State 4831]
type = StateTypeSet
trigger1 = AnimElemTime(11) = 0
statetype = S
movetype = A
physics = S

[State 4831]
type = Explod
trigger1 = AnimElemTime(11) = 0
anim = 18000
facing = 1
postype = p1
pos = 0,0
sprpriority = 3
ownpal = 1
pausemovetime = 73640
supermovetime = 73640
supermove = 1
bindtime = 1
persistent = 0
ignorehitpause = 1

[State 4831]
type = Explod
trigger1 = AnimElemTime(11) = 0
anim = 3214
facing = 1
postype = p1
pos = -25,-30
sprpriority = 3
ownpal = 1
pausemovetime = 73640
supermovetime = 73640
supermove = 1
bindtime = 1
persistent = 0
ignorehitpause = 1

[State 4831]
type = Explod
trigger1 = AnimElemTime(11) = 0
anim = 3214
facing = 1
postype = p1
pos = -30,-35
sprpriority = 3
ownpal = 1
pausemovetime = 73640
supermovetime = 73640
supermove = 1
bindtime = 1
persistent = 0
ignorehitpause = 1


[State 4831]
type = Explod
trigger1 = AnimElemTime(11) = 0
anim = 3215
facing = 1
postype = p1
pos = 0,0
sprpriority = 3
ownpal = 1
pausemovetime = 73640
supermovetime = 73640
supermove = 1
bindtime = 1
persistent = 0
ignorehitpause = 1



[State 4831]
type = Helper
trigger1 = AnimElemTime(11) = 0
helpertype = Normal
name = "Kamikaze"
stateno = 4900
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 1
supermovetime = 1
ignorehitpause = 1
ID = 4700

[State 4831]
type = HitDef
trigger1 = MatchOver = 0
trigger1 = AnimElem = 2
attr = S, HA
damage = ceil(50 * fvar(0)),15
attr = A, SA
getpower = 0
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 9,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -20,-30
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -3,-4
air.type = High
airguard.velocity = -3,-3
air.velocity = -3,-4
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4650
snap = 45,0
kill = 0

[State 4831]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
damage = ceil(75 * fvar(0)),15
attr = A, SA
getpower = 0
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 9,9
sparkno = S7006
guard.sparkno = S7007
sparkxy = -20,-20
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -3,-4
air.type = High
airguard.velocity = -3,-3
air.velocity = -3,-4
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
;yaccel = 0.33
p2stateno = 4660
snap = 45,0
kill = 0
absolute = 1

[State 4831]
type = HitDef
trigger1 = AnimElem = 11
attr = S, HA
damage = ceil(333 * fvar(0)),15
attr = A, SA
getpower = 0
hitflag = MAF
guardflag = MA
priority  = 9 ,Hit
pausetime = 9,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -20,-20
hitsound = S3000,0
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 15
ground.velocity = -5.4,-9.2
air.type = High
airguard.velocity = -3,-3
air.velocity = -3,-4
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(60 * fvar(1)) + 9
absolute = 1
;yaccel = 0.33
p2stateno = 4661

[state 1040,Helper]
type = Helper
trigger1 = animelem = 6
id = 1040
name = "1050"
sprpriority = 2
pos = 0,0
postype = p1
facing = 1
stateno = 1050
helpertype = normal
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[state 1040,Helper]
type = Helper
trigger1 = animelem = 6
id = 1040
name = "1050"
sprpriority = 2
pos = 0,0
postype = p1
facing = -1
stateno = 1050
helpertype = normal
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 6
trigger3 = animElem = 11
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 6
trigger3 = animElem = 11
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 6
trigger3 = animElem = 11
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 2
trigger2 = animElem = 6
trigger3 = animElem = 11
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 2
trigger2 = animElem = 6
trigger3 = animElem = 11
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 2
trigger2 = animElem = 6
trigger3 = animElem = 11
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
triggerall = movecontact
trigger1 = animelem = 2
trigger2 = animElem = 6
trigger3 = animElem = 11
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 2
trigger2 = animElem = 6
trigger3 = animElem = 11
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4831]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------------
;神風-文字
[Statedef 4900]
physics  = N
ctrl     = 0
Anim = 3213


[State 4900]
type = AssertSpecial
trigger1 = time = [0,60]
flag = NoBG
flag2 = NoFG
ignorehitpause = 1

[State 4900]
type = Varset
trigger1 = time = 0
fvar(5) = 1.5

[State 4900]
type = VarAdd
trigger1 = time < 10
fvar(5) = -0.1

[State 4900]
type = Explod
trigger1 = time = 0
anim = ifelse(facing = 1,3196,3198)
facing = 1
postype = back
pos = 160,120
sprpriority = -4
ownpal = 1
scale = fvar(5),fvar(5)
pausemovetime = 0
supermovetime = 0
supermove = 1
bindtime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1
ID = 4700

[State 4900]
type = ModifyExplod
trigger1 = 1
ID = 4700
scale = fvar(5),fvar(5)

[State 4900]
type = RemoveExplod
trigger1 = time = 60
ID = 4700

[State 4900]
type = Explod
trigger1 = time = 60
anim = ifelse(facing = 1,3197,3199)
facing = 1
postype = back
pos = 160,120
sprpriority = -4
ownpal = 1
scale = fvar(5),fvar(5)
pausemovetime = 0
supermovetime = 0
supermove = 1
bindtime = -1
shadow = 0,0,0
persistent = 0
ignorehitpause = 1
ID = 3021

[State 4900]
type = DestroySelf
triggerall = time > 60
trigger1 = (Parent,MoveType != A)
trigger2 = (Root,MoveType != A)
ignorehitpause = 1

;---------------------------------------------------------------------------
;ランページ・発動前殴り

[Statedef 4940]
type = S
movetype = A
Physics = S
velset = 0
ctrl = 0
anim = 4490
;juggle = 0
Facep2 = 1
poweradd = 0
sprpriority = 2

[state 4950]
type = poweradd
trigger1 = time = 0
value = -3000

[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 4503]
type = Hitdef
trigger1 = AnimElem = 2
attr = S, ST
hitflag = MAF
priority = 1, HIT
damage = 20,0
sparkno = S7003
sparkxy = -10, -50
sprpriority = 1 
guard.dist = 0
P1Facing = 1
P2Facing = 1
p1stateno = 4944
p2stateno = 4941
hitsound   = S800,0





[State 1003]
type = Explod
trigger1 = animelem = 2
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 1003]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


[State 1003]
type = ChangeState
trigger1 = movehit
value = 4944
ctrl = 0

;--------------------------------------------------------------
[Statedef 4944]
type = S
movetype = A
Physics = S
velset = 0,0
ctrl = 0
anim = 4491
;juggle = 0
poweradd = 0
sprpriority = 2


[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 4505]
type = width
trigger1 = time = 0
edge = 30,5
persistent = 0

[State 101]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 4505]
Type = TargetBind
Trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
Pos = 20, -5
time = -1

[State 108]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4503]
type = Hitdef
trigger1 = AnimElem = 2
attr = S, NT
hitflag = MAFD
priority = 1, HIT
sparkno = S7003
sparkxy = -10, -50
sprpriority = 1 
guard.dist = 0
P1Facing = 1
P2Facing = 1
p2stateno = 4941




[State 4505]
type = playsnd
trigger1 = FrontEdgeBodyDist <= 10
value = 3000,0
channel = 0


[State 4505]
type = explod
trigger1 = FrontEdgeBodyDist <= 10
anim = 1407
postype = p2
pos = 0,0
ontop = 1
scale = 1.0,1.5
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = EnvShake
trigger1 = FrontEdgeBodyDist <= 10
time = 20
freq = 50
ampl = -6




[State 4505]
Type = TargetBind
trigger1 = FrontEdgeBodyDist <= 10
Pos = 30, 0
time = 0

[State 4666]
Type = ChangeState
trigger1 = FrontEdgeBodyDist <= 10
value = 4946


;-----------------------------------------------------------------------------
;ヒット時の相手動作
[Statedef 4941]
type    = S
movetype= H
physics = N
ctrl = 0
sprpriority = 1



[State 4666]
type = PlayerPush
trigger1 = 1
value = 0

[State 4666]
type = Turn
trigger1 = Time = 0
trigger1 = (Facing = enemynear,Facing)

[State 4666]
type = ChangeAnim2
trigger1 = Time = 0
value = 4515



[State 4666, カメラ固定]
type = ScreenBound
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1
movecamera = 0,0



[State 4666]
Type = ChangeState
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 4943



;---------------------------------------------
;バックステップ

[Statedef 4946]
type     = A
physics  = N
anim     = 106
ctrl     = 0
poweradd= 0


[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 108]
type = playerpush
trigger1 = Prevstateno = 109
value = 0

[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 108]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 108]
type = velset
trigger1 = AnimElem = 1
x = -8.0
y = -3.2

[State 108]
type = VelAdd
trigger1 = AnimelemTime(3) >= 0
y = 0.5

[State 108]
type = ChangeState
trigger1 = Pos y > 0
trigger1 = Vel y > 0
value = 4950

;----------------------------------------------------------------------------
;壁バウンド時の相手動作
[Statedef 4942]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 1



[State 4666]
type = PlayerPush
trigger1 = 1
value = 0

[State 4666]
type = Turn
trigger1 = Time = 0
trigger1 = (Facing = enemynear,Facing)

[State 4666]
type = ChangeAnim
trigger1 = Time = 0
value = 5050

[State 4666]
type = VelSet
trigger1 = Time = 0
x = 12.5
y = -17.5

[State 4666]
type = VelAdd
trigger1 = 1
y = .55


[State 4666, カメラ固定]
type = ScreenBound
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1
movecamera = 0,0



[State 4666]
Type = ChangeState
triggerall = Pos y < -1
triggerall　=　time = 10
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 965

[State 4666]
type = SelfState
trigger1 = (Vel y > -1) && (Pos y >= -1)
trigger1 = Time >= 10
value = 5100

;---------------------------------------------------------------------------
;特殊やられステート
[Statedef 4943]
type	= S
movetype= H
physics	= S
ctrl = 0


[State 1395, StateTypeSet]
Type = StateTypeSet
trigger1 = P2Stateno = 4946
trigger1 = time = 0
type	= S
physics	= S


[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0


[State 1395, ChangeAnim2]
Type = ChangeAnim2
trigger1 = time = 0
value = 4520

[State 1395]
type = HitFallSet
trigger1 = 1
value = 0

[State 1395]
type = PosSet
trigger1 = 1
y = 0

[State 1395]
Type = VelSet
trigger1 = 1
x = 0
y = 0


[State 1395]
Type = selfstate
trigger1 = time = 999
value = 5100
ctrl = 0

;-----------------------------------------------------------------------------
;ランページ・デストロイヤー

[Statedef 4950]
type = S
movetype = A
physics = S
anim = 4500
ctrl = 0
poweradd = 0
sprpriority = 2

[State 4950]
Type = VelSet
Trigger1 = Time = 0
X = 0
Y = 0

[State 4000, Helper];カットイン　１Ｐ側
Type = Helper
Trigger1 = (TeamMode = Single) || (TeamMode = Turns)
Trigger1 = Time = 0
Trigger1 = TeamSide = 1
OwnPal = 1
PosType = Left
Pos = 0, Floor(170-ScreenPos Y)
Facing = 1
ID = 6920
StateNo = 6922
scale = 1,1
PauseMoveTime = 999999
SuperMoveTime = 999999
Name = " "

[State 4000, Helper];カットイン　２Ｐ側
Type = Helper
Trigger1 = (TeamMode = Single) || (TeamMode = Turns)
Trigger1 = Time = 0
Trigger1 = TeamSide = 2
OwnPal = 1
PosType = Right
scale = 1,1
Pos = 0, Floor(170-ScreenPos Y)
Facing = -1
ID = 6920
StateNo = 6922
PauseMoveTime = 999999
SuperMoveTime = 999999
Name = " "




[state 4121]
type = nothitby
trigger1 = 1
value = SCA


[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0



[State 4950]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 555
under = 1



[State 4950]
type = pause
trigger1 = time = 1
time = 50
movetime = 50
darken = 0


[State 4950]
type = explod
trigger1 = time = 5
anim = 7016
pos = 0,-50
postype = p1
ontop = 1
supermovetime = 9999
pausemovetime = 9999
persistent = 0
ignorehitpause = 1

[State 4950]
type = explod
trigger1 = time = 5
anim = 7017
pos = 0,-50
postype = p1
ontop = 1
supermovetime = 9999
pausemovetime = 9999
persistent = 0
ignorehitpause = 1



[State 4950]
type = PlaySnd
trigger1 = time = 1
value = 20,4


[State 4950]
type = AssertSpecial
trigger1 = time = [1,50]
flag = noFG
flag = timerfreeze

[state 4950]
type = nothitby
trigger1 = animelemtime(5)<0
value = SCA




[State 4950, Helper]
type = Helper
trigger1 = NumHelper(20000) = 0
trigger1 = Animelem = 3
helpertype = normal
ownpal = 1
name = "amatu"
postype = p1
pos = -50,0
pausemovetime = 9999
supermovetime = 9999
stateno = 20005
ID = 20000
ignorehitpause = 1


[State 4950]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 4950]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 4250]
type = Explod
trigger1 = time = 50
anim = 4968
id = 4977
pos = -60,-50
postype = back
sprpriority = -9
scale = 1.5,1.2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 4950]
type = changestate
trigger1 = time = 50
value = 4951
ctrl = 0

;---------------------------------------------------------------------------

;ランページ中プラズマうさみみ_待機

[statedef 4951]
type    = S
physics = S
anim = 4101
ctrl = 0
velset = 0,0
sprpriority = 1
pausemovetime = 9999
supermovetime = 9999


[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 20040,Effect]
type = Explod
trigger1 = time = 1
anim = 4407
ownpal = 1
sprpriority = 9
postype = p1
pos = 0,0
scale = 1.0,1.0
bindtime = -1
pausemovetime = 9999
supermovetime = 9999
ID = 4407
ignorehitpause = 1

[State 20040]
type = PlaySnd
trigger1 = time = 1
value = S3300,0


[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 4951]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5


[State 4951, Helper];ダッシュエフェクト
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999



[State 4100]
type = playerpush
trigger1 = Anim = 1004
value = 1

[State 4100]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 4100]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 4100]
type = ChangeState
trigger1 = Animtime = 0
value = 4952
ctrl = 0



;----------------------------------------------------------------
;プラズマうさみみ_ダッシュ

[Statedef 4952]
type    = S
physics = S
anim = 1005
ctrl = 0
sprpriority = 1
pausemovetime = 9999
supermovetime = 9999


[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0


[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 4111]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 4111]
type = AfterImage
trigger1 = time = 0
time = 24
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4111]
type = AfterImage
trigger1 = time = 25
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 4111]
Type = VelSet
Trigger1 = Time = [0,3]
X = 15

[State 4111]
Type = VelSet
Trigger1 = Time = [3,7]
X = 30

[State 4111]
Type = VelSet
Trigger1 = Time = [7,12]
X = 50

[State 4111]
type = VelSet
trigger1 = time = [12,15]
x = 10

[State 4111]
type = VelSet
trigger1 = time = [15,18]
x = 7

[State 4111]
type = VelSet
trigger1 = time = [18,21]
x = 5


[State 4111]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 4111]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 4111]
type = PlaySnd
trigger1 = Time = 1
value = 100,0


[State 4111]
Type = ChangeState
Trigger1 = Time >= 0
Trigger1 = Time <= 14
Trigger1 = P2BodyDist X = [-25,25]
Trigger1 = p2bodydist Y = [-100,20]
Value = 4953

[State 4111]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;--------------------------------------------------------------
;プラズマうさみみ_攻撃

[Statedef 4953]
Type    = A
MoveType= A
Physics = N
;Juggle  = 3
VelSet = 0,0
Ctrl = 0
Anim = 1030
poweradd = 0
sprpriority = 2
pausemovetime = 9999
supermovetime = 9999


[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[state 4121]
type = nothitby
trigger1 = 1
value = SCA


[State 4112]
type = PlaySnd
trigger1 = Time = 3
value = s1200,0

[State 4112]
type = VarRandom
trigger1 = AnimElem = 3
v = 30
range = 0,2




[State 4112]
Type = PosAdd
Trigger1 = AnimElem = 1
Y = -100



[State 4112]
Type = VelSet
Trigger1 = AnimElem = 1
X = 0
Y = -1

[State 4112]
Type = VelSet
Trigger1 = AnimElem = 3
X = 1.0
Y = 18.0

[State 4112]
type = AfterImage
trigger1 = time = 5
time = 999
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4112]
type = AfterImage
trigger1 = time = 15
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4112]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4112]
Type = Turn
Trigger1 = P2Dist X < -10
Trigger1 = AnimElem = 7

[State 4112]
type = PlaySnd
trigger1 = AnimElem = 3
value = 8000,0
channel = 0

[State 4112]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 4112]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn


[State 4112]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = HARD
damage = ceil(0 * fvar(0)),0
HITflag = MAFD
getpower = 0
guardflag = MAF
priority  = 6 ,Hit
pausetime = 9,99
sparkno = S7021
guard.sparkno = S7007
sparkxy = -20,-30
hitsound = S220,1
guardsound = S120, 0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
guard.ctrltime = 30
ground.velocity = 0,-5
air.type = High
air.velocity = 0,-5
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(105 * fvar(1)) + 9
fall = 1
p2facing = 1
p2stateno = 4114
kill = 0
;yaccel = 0.33
envshake.time = 15
envshake.freq = 80
envshake.ampl = -6



[State 4112]
type = Explod
trigger1 = animelem = 3
anim = 1271
id = 1271
vel = 0,0
pos = -24,-30
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 4112]
type = Explod
trigger1 = animelem = 3
anim = 1008
id = 1008
vel = 0,0
pos = 0,5
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4112]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4112]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4112]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4112]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4112]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4112]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4112]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4112]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 4112]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State 4112]
Type = ChangeState
trigger1 = Pos Y > 0
Value = 4954
Ctrl = 0



;---------------------------------------------------------------------------------------
;ランページ中プラズマうさみみ・更にもう一撃

[Statedef 4954]
Type = S
MoveType = A
Physics = N
Ctrl = 0
Anim = 4110
SprPriority = 2
MoveHitPersist = 1
pausemovetime = 9999
supermovetime = 9999

[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[state 4000]
type = nothitby
trigger1 = 1
value = SCA


[State 4113, VelMul]
Type = VelMul
Trigger1 = Time = 0
X = 0.2

[State 4113, VelSet]
Type = VelSet
Trigger1 = Time = 0
Y = 0

[State 4113, PosSet]
Type = PosSet
Trigger1 = Time = 0
Y = 0

[State 4113, VelSet]
type = velset
trigger1 = time = 0
x = 1

[State 4113, VelSet]
type = veladd
trigger1 = time = 6
x = -1

[State 4113]
type = PlaySnd
trigger1 = AnimElem = 5
value = 8000,0
channel = 0

[State 4113]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype  = HARD
damage = ceil(0 * fvar(0)),0
HITflag = MAF
getpower = 0
guardflag = MAF
priority  = 6 ,Hit
pausetime = 9,9
sparkno = S7021
guard.sparkno = S7007
sparkxy = -20,-30
hitsound = S8000,0
guardsound = S120, 0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
guard.ctrltime = 30
ground.velocity = -1,-11.4
air.type = High
air.velocity = -1,-11.2
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(100 * fvar(1)) + 999
fall = 1
kill = 0
;yaccel = 0.33
p2stateno = 4955

[state 4113]
type = Explod
trigger1 = animelem = 1
anim = 1008
id = 1008
pos = 0,-30
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4113]
type = Explod
trigger1 = animelem = 3
anim = 1250
id = 1250
pos = -20,-50
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113]
type = Explod
trigger1 = Animelem = 1
anim = 7010
id = 30040
pos = 0,0
postype = p1
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999




[State 4113]
type = Explod
trigger1 = Animelem = 1
anim = 7010
id = 30040
pos = 0,0
postype = p1
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
bindtime = 1
removeongethit = -1
pausemovetime = 9999



[State 4113]
type = Explod
trigger1 = animelem = 2
anim = 1008
id = 1008
vel = 0,0
pos = 0,5
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4113, ChangeState]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

[State 4113, ChangeState]
Type = ChangeState
Trigger1 = movehit
Value = 4956
Ctrl = 0

;----------------------------------
[Statedef 4955]
type = A
movetype= H
physics = N



[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 4150]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X >= 0
y = -10.8
x = 7.5

[State 4150]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X < 0
y = -10.8
x = -7.5

[State 4150]
type = VelAdd
trigger1 = time >= 0
y = 0.68

[State 4150]
type = ChangeAnim2
trigger1 = time = 0
value = 4150


[State 4150]
type = SelfState
trigger1 = Pos Y > 0
value = 5110


;-----------------------------------------------------------------------------

;リボルビング・バンカー_待機

[Statedef 4956]
type    = S
physics = S
anim = 4510
ctrl = 0
velset = 0,0
sprpriority = 1
Facing = 1
pausemovetime = 9999
supermovetime = 9999


[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0


[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 4956]
type = Turn
trigger1 = p2dist X < -5


[State 4956, Helper]
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999



[State 4956]
type = playerpush
trigger1 = Anim = 1004
value = 1

[State 4956]
type = AssertSpecial
trigger1 = 1
flag = NoWalk


[State 4956]
type = ChangeState
trigger1 = Animtime = 0
value = 4957
ctrl = 0



;------------------------------------------------------------------------------------------------
;ランページ中リボルビング・バンカー_ダッシュ

[Statedef 4957]
type    = S
physics = S
anim = 4511
ctrl = 0
sprpriority = 1
Facing = 1
pausemovetime = 9999
supermovetime = 9999



[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0


[State 4957, 5]
type = HitBy
trigger1 = animelem = 1
value = SCA,NA,SA,HA,NT,ST,HT
time = 36

[State 4957]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 4957]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 4957]
type = AfterImage
trigger1 = time = 0
time = 24
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4957]
type = AfterImage
trigger1 = time = 25
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4957]
Type = VelSet
Trigger1 = Time = [0,3]
X = 10

[State 1021]
Type = VelSet
Trigger1 = Time = [3,7]
X = 15

[State 1021]
Type = VelSet
Trigger1 = Time = [7,12]
X = 20

[State 4957]
type = VelSet
trigger1 = time = [12,15]
x = 7

[State 4957]
type = VelSet
trigger1 = time = [15,18]
x = 5

[State 4957]
type = VelSet
trigger1 = time >= 18
x = 3


[State 4957]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 4957]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 4957]
type = PlaySnd
trigger1 = Time = 1
value = 100,0



[State 4957]
Type = ChangeState
Trigger1 = Time >= 1
Trigger1 = Time <= 13
Trigger1 = P2BodyDist X = [-15,15]
Trigger1 = P2BodyDist Y = [-100,30]
Value = 4958

[State 4957]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1




;-----------------------------------------------------------------------------

;リボルビング・バンカー派生

[Statedef 4958]
type = A
movetype = A
physics = N
ctrl = 0
anim = 4512
poweradd = 0
sprpriority = 7
pausemovetime = 9999
supermovetime = 9999



[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[state 4121]
type = nothitby
trigger1 = 1
value = SCA



[State 4958]
type = playsnd
trigger1 = animelem = 1
value = 210,0

[State 4958]
Type = VelSet
Trigger1 = Time = [0,4]
X = 0


[State 4958]
type = Explod
trigger1 = animelem = 2
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4958]
type = AfterImage
trigger1 = animelem = 1
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4958]
type = HitDef
trigger1 = animelem = 3
attr = S, HP
damage = ceil(0 * fvar(0)),0
getpower = 0
hitflag = MAF
guardflag = M
priority = 7, HIT
pausetime = 9,9
sparkno = S1034
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S4100, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 25
ground.slidetime = 25
guard.hittime = 25
guard.ctrltime = 20
ground.velocity = 0,0
air.type = High
airguard.velocity = 0,0
air.velocity = 0,0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(40 * fvar(1)) + 9
fall = 0
kill = 0
p2stateno = 4943
;yaccel = 0.33

[State 4958]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4958]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4958]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4958]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4958]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4958]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4958]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4958]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 4958]
type = changestate
trigger1 = time =73
value = 4959
ctrl = 0



;------------------------------------------------------------------------------

;ランページ中リボルビング・バンカー更に派生

[Statedef 4959]
type = S
movetype = A
physics = S
ctrl = 0
anim = 4513
poweradd = 25
sprpriority = 7
pausemovetime = 9999
supermovetime = 9999



[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 4958]
Type = VelSet
Trigger1 = 1
X = 0


[state 4959]
type = nothitby
trigger1 = 1
value = SCA

[State 4959]
type = VarRandom
trigger1 = AnimElem = 1
v = 30
range = 0,2


[state 4959]
type = Explod
trigger1 = animelem = 1
anim = 1040
scale = 1,1
postype = p1
pos = 55,-60
sprpriority = 9
ownpal = 1
ID = 1032
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4959]
type = Explod
trigger1 = animelem = 1
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4250]
type = Explod
trigger1 = animelem = 2
anim = 4967
id = 4977
pos = -60,0
postype = back
sprpriority =99
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4959]
type = HitDef
trigger1 = animelem = 2
attr = S, HP
damage = ceil(0 * fvar(0)),0
getpower = 0
hitflag = MAF
guardflag = M
priority = 7, HIT
pausetime = 9,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S3000, 0
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 30
ground.slidetime = 30
guard.hittime = 30
guard.ctrltime = 30
ground.velocity = -7.5,-9.4
air.type = High
airguard.velocity = -3,-3
air.velocity = -8.5 ,-9.9
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(180 * fvar(1)) + 9
fall = 1
absolute = 1
envshake.time = 15
envshake.freq = 80
envshake.ampl = -6
yaccel = 0.33
kill = 0
p2stateno = 4960




[state 4959]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4959]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4959]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4959]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4959]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4959]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4959]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4959]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[state 4959]
type = changestate
trigger1 = animtime = 0
value = 4961
ctrl = 0

;---------------------------------------------------------------------------
;ヒット時の相手動作
[Statedef 4960]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 1


[State 4960]
type = PlayerPush
trigger1 = 1
value = 0

[State 4960]
type = Turn
trigger1 = Time = 0
trigger1 = (Facing = enemynear,Facing)

[State 4960]
type = ChangeAnim
trigger1 = Time = 0
value = 5050

[State 4960]
type = VelSet
trigger1 = Time = 0
x = 0
y = -27.9

[State 4960]
type = VelAdd
trigger1 = 1
y = .55



[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0


[State 4960]
type = SelfState
trigger1 = (Vel y > -1) && (Pos y >= -1)
trigger1 = Time >= 10
value = 5100

;------------------------------------------
;ランページ中空中クレイモア（攻撃）

[Statedef 4961]
type    = A
movetype = A
physics = N
anim = 4401
;juggle = 0
ctrl = 0
yaccle = 0.25
pausemovetime = 9999
supermovetime = 9999

[State 108]
type = AfterImage
trigger1 = time = 0
time = 15
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 115, VelSet]
Type = VelSet
Trigger1 = Time = 1
X = -4.0
Y = -8.6

[State 115, VelSet]
Type = Veladd
Trigger1 = time >= 2
Trigger1 = time <= 20
X = 0
Y = 0.25


[State 115, VelSet]
Type = VelSet
trigger1 = time = 20
X = 0
Y = 0

[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 4121]
type = PlaySnd
trigger1 = AnimElem = 10
value = 8000,5
channel = 0

[State 4121]
type = Explod
trigger1 = animelem = 10
anim = 30050
pos = 0, -60
scale = 0.7 ,0.7
ownpal = 1

[State 4121]
type = Explod
trigger1 = animelem = 15
anim = 30050
pos = 0, -60
scale = 0.7 ,0.7
ownpal = 1

[State 4121]
type = Explod
trigger1 = animelem = 21
anim = 30050
pos = 0, -60
scale = 0.7 ,0.7
ownpal = 1

[State 4121]
type = Explod
trigger1 = animelem = 26
anim = 30050
pos = 0, -60
scale = 0.7 ,0.7
ownpal = 1



[state 4121]
type = Explod
trigger1 = animelem = 10
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1


[state 4121]
type = Explod
trigger1 = animelem = 12
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1

[state 4121]
type = Explod
trigger1 = animelem = 14
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1

[state 4121]
type = Explod
trigger1 = animelem = 16
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1


[state 4121]
type = Explod
trigger1 = animelem = 21
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1

[state 4121]
type = Explod
trigger1 = animelem = 20
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1

[state 4121]
type = Explod
trigger1 = animelem = 22
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1

[state 4121]
type = Explod
trigger1 = animelem = 24
anim = 18000
scale = 1,1
sprpriority = 5
postype = p1
pos = 0,6
bindtime = 1
supermove = 1
pausemove = 1
ignorehitpause = 1
under = 0
ownpal = 1



[state 4121]
trigger1 = animelem = 10
type = envshake
time = 100
freq = 70
ampl = 2

[State 4121, random #]
type = varSet
trigger1 = animelemtime(10) >= 0
trigger1 = animelemtime(28) < 0
var(0) = random % 7



[State 4121, claymore]
type = projectile
trigger1 = animelemtime(10) >= 0
trigger1 = animelemtime(28) < 0
attr = S, SP
animtype = heavy
hitflag = MAFP
guardflag = M
ground.type = high
air.type = low
sparkno = S7003
guard.sparkno = S7003
sparkxy = 0, 0
hitsound = -1
guardsound = S1, 1
noChainID = 3012
projID = 3012
projAnim = 3010 + var(0)
velocity = 24 * cos((3 - var(0)) * 0.15), -24 * sin((3 - var(0)) * (0.15 + 0.01 * (random % 5)))
projHits = 1
projPriority = 1
offset = -20, floor((-55 + random % 30) * const(size.yscale))
postype = P1
projheightbound = -240, 120
projedgebound = 70
projscale = 0.2 * const(size.xscale), 0.2 * const(size.yscale)
damage = 0, 200
priority = 4, Hit
getpower = 0, 0
givepower = 0, 0
pausetime = 0, 0
absolute = 1
ground.slidetime = 0
guard.slidetime = 0
ground.hittime = 30
guard.hittime = 30
guard.ctrltime = 30
air.hittime = 30
airguard.ctrltime = 30
ground.velocity = 0
air.velocity = -0, -0
airguard.velocity = 0, 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
kill = 0
pausemovetime = 9999
supermovetime = 9999
p2stateno = 4962

[State 3025]
type = Explod
trigger1 = animelem = 10
trigger2 = animElem = 12
trigger3 = animElem = 14
trigger4 = animElem = 16
trigger5 = animElem = 18
trigger6 = animelem = 20
trigger7 = animelem = 22
trigger8 = animelem = 24
trigger9 = animelem = 26
trigger10 = animelem = 28
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 11
trigger2 = animElem = 13
trigger3 = animElem = 15
trigger4 = animElem = 17
trigger5 = animelem = 19
trigger6 = animelem = 21
trigger7 = animelem = 23
trigger8 = animelem = 25
trigger9 = animelem = 27
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 10
trigger2 = animElem = 12
trigger3 = animElem = 14
trigger4 = animElem = 16
trigger5 = animElem = 18
trigger6 = animelem = 20
trigger7 = animelem = 22
trigger8 = animelem = 24
trigger9 = animelem = 26
trigger10 = animelem = 28
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 11
trigger2 = animElem = 13
trigger3 = animElem = 15
trigger4 = animElem = 17
trigger5 = animelem = 19
trigger6 = animelem = 21
trigger7 = animelem = 23
trigger8 = animelem = 25
trigger9 = animelem = 27
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3025]
type = Explod
trigger1 = animelem = 10
trigger2 = animElem = 12
trigger3 = animElem = 14
trigger4 = animElem = 16
trigger5 = animElem = 18
trigger6 = animelem = 20
trigger7 = animelem = 22
trigger8 = animelem = 24
trigger9 = animelem = 26
trigger10 = animelem = 28
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 3025]
type = Explod
trigger1 = animelem = 10
trigger2 = animElem = 12
trigger3 = animElem = 14
trigger4 = animElem = 16
trigger5 = animElem = 18
trigger6 = animelem = 20
trigger7 = animelem = 22
trigger8 = animelem = 24
trigger9 = animelem = 26
trigger10 = animelem = 28
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 20,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999






[State 20030]
type = velset
trigger1 = AnimElem = 31
y = 7.8

[State 20030]
Type = ChangeState
trigger1 = Pos Y > 0
Value = 4963
Ctrl = 0



;----------------------------------------------------------------------------
;ヒット時の相手動作
[Statedef 4962]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 1



[State 4960]
type = PlayerPush
trigger1 = 1
value = 0



[State 4960]
type = ChangeAnim2
trigger1 = Time = 0
value = 4515

[State 4960]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 4960]
type = VelAdd
trigger1 = 1
y = 0


[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0




[State 4960]
type = SelfState
trigger1 = time = 99
value = 51


;----------------------------------------------------------------------------

;プラズマうさみみ_待機

[statedef 4963]
type    = S
physics = S
anim = 1004
ctrl = 0
velset = 0,0
sprpriority = 1
pausemovetime = 9999
supermovetime = 9999


[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0


[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 1010]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5


[State 1010, Helper];ダッシュエフェクト
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999



[State 1010]
type = playerpush
trigger1 = Anim = 1004
value = 1

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1010]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1010]
type = ChangeState
trigger1 = Animtime = 0
value = 4964
ctrl = 0



;----------------------------------------------------------------
;プラズマうさみみ_ダッシュ

[Statedef 4964]
type    = S
physics = S
anim = 1005
ctrl = 0
sprpriority = 1
pausemovetime = 9999
supermovetime = 9999


[State 4964]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0



[state 4964]
type = nothitby
trigger1 = 1
value = SCA

[State 4964]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1

[State 4964]
type = AfterImage
trigger1 = time = 0
time = 24
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 4964]
type = AfterImage
trigger1 = time = 25
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 4964]
Type = VelSet
Trigger1 = Time = [0,3]
X = 10

[State 4964]
Type = VelSet
Trigger1 = Time = [3,7]
X = 15

[State 4964]
Type = VelSet
Trigger1 = Time = [7,12]
X = 30

[State 4964]
type = VelSet
trigger1 = time = [12,15]
x = 10

[State 4964]
type = VelSet
trigger1 = time = [15,18]
x = 7

[State 4964]
type = VelSet
trigger1 = time = [18,21]
x = 5




[State 4964]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 4964]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 4964]
type = PlaySnd
trigger1 = Time = 1
value = 100,0


[State 4964]
Type = ChangeState
Trigger1 = Time >= 1
Trigger1 = Time <= 13
Trigger1 = P2BodyDist X = [-10,10]
Trigger1 = p2bodydist Y = [-200,200]
Value = 4965


[State 4964]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;-----------------------------------------------------------------
;リボルビング・バンカー更に派生

[Statedef 4965]
type = A
movetype = A
physics = S
ctrl = 0
anim = 4516
poweradd = 0
sprpriority = 7
yaccle = 0
pausemovetime = 9999
supermovetime = 9999


[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 4250]
type = Explod
trigger1 = animelem = 1
anim = 4969
id = 4977
pos = -60,0
postype = back
sprpriority = 99
scale = 1.0,1.0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[state 1023]
type = velset
trigger1 = time = 1
y = 0
x = 0

[state 1023]
type = posset
trigger1 = time = 0
y = -100
x = 10

[state 1023]
type = posset
trigger1 = time = 1
y = -150
x = 0

[state 1023]
type = BindToTarget
trigger1 = time = 1
time = 60
pos = 0, 50


[State 20100]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3200,2


[State 20100]
type = PlaySnd
trigger1 = AnimElem = 2
value = 8001,1

[State 20100]
type = PlaySnd
trigger1 = AnimElem = 2
value = 7120,0


[State 20100]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6510,0

[state 1040,Helper]
type = Helper
trigger1 = time = 0
id = 1040
name = "1050"
sprpriority = 2
pos = 0,0
postype = p1
facing = 1
stateno = 1050
helpertype = normal
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[state 1040,Helper]
type = Helper
trigger1 = time = 0
id = 1040
name = "1050"
sprpriority = 2
pos = 0,0
postype = p1
facing = -1
stateno = 1050
helpertype = normal
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1


[state 1023]
type = nothitby
trigger1 = animelemtime(3)<0
value = SCA

[State 1023]
type = VarRandom
trigger1 = AnimElem = 1
v = 30
range = 0,2

[State 4250]
type = Explod
trigger1 = animelem = 1
anim = 4971
id = 4977
pos = -60,0
postype = back
sprpriority =99
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4250]
type = Explod
trigger1 = animelem = 1
anim = 4456
id = 4977
pos = 0,0
postype = back
sprpriority =-99
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4250]
type = Explod
trigger1 = animelem = 2
anim = 4966
id = 4977
pos = -60,0
postype = back
sprpriority =99
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999




[state 1023]
type = Explod
trigger1 = animelem = 2
anim = 4392
scale = 1,1
postype = p1
pos = -5,-60
sprpriority = 9
ownpal = 1
ID = 1032
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1023]
type = Explod
trigger1 = animelem = 2
anim = 4392
scale = 1,1
postype = p1
pos = 5,-60
sprpriority = 9
ownpal = 1
ID = 1032
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = Explod
trigger1 = animelem = 2
anim = 18001
postype = p1
pos = -10,0
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4505]
type = Explod
trigger1 = animelem = 2
anim = 18002
postype = p1
pos = 10,0
scale = 1,1
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1023]
type = Explod
trigger1 = animelem = 1
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1023]
type = HitDef
trigger1 = animelem = 1
attr = S, HP
damage = ceil(0 * fvar(0)),0
getpower = 0
hitflag = MAF
guardflag = M
priority = 7, HIT
pausetime = 1,99
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S4100, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 30
ground.slidetime = 30
guard.hittime = 30
guard.ctrltime = 30
ground.velocity = -7.5,-9.4
air.type = High
airguard.velocity = -3,-3
air.velocity = -8.5 ,-9.9
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(180 * fvar(1)) + 9
fall = 1
kill = 0
absolute = 1
envshake.time = 15
envshake.freq = 80
envshake.ampl = -6
yaccel = 0.33
p2Stateno = 4962

[State 1023]
type = HitDef
trigger1 = animelem = 2
attr = S, HP
damage = ceil(620 * fvar(0)),9999
getpower = 0
hitflag = MAF
guardflag = M
priority = 7, HIT
pausetime = 9,99
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S3000, 0
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 30
ground.slidetime = 30
guard.hittime = 30
guard.ctrltime = 30
ground.velocity = -7.5,-9.4
air.type = High
airguard.velocity = -3,-3
air.velocity = -8.5 ,-9.9
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(180 * fvar(1)) + 9
fall = 1
absolute = 1
envshake.time = 15
envshake.freq = 80
envshake.ampl = -6
yaccel = 0.33
p2Stateno = 4960



[state 1023]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1023]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1023]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1023]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1023]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1023]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 1023]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4965]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20030]
type = velset
trigger1 = AnimElem = 10
y = 7.8

[state 4965]
type = changestate
triggerall = time >= 10
trigger1 = Pos Y > 0
value = 4966
ctrl = 0


;----------------------------------------------------------------------------
;着地

[Statedef 4966]
type    = S
physics = S
ctrl = 0
anim = 4517
ctrl = 0
facep2 = 1
pausemovetime = 9999
supermovetime = 9999


[state 4121]
type = nothitby
trigger1 = 1
value = SCA


[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 1010]
type = Turn
triggerall = Time = 1
trigger1 = p2dist X < -5



[State 1700, Helper]
type = Helper
trigger1 = NumHelper(20000) = 0
trigger1 = time = 2
helpertype = normal
ownpal = 1
name = "amatu"
postype = p1
pos = 160,0
pausemovetime = 0
supermovetime = 0
stateno = 20006
ID = 20000
ignorehitpause = 1

[State 1176]
type = VelSet
trigger1 = Time = 0
x = 0

[State 1176]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1176]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1176]
type = PosSet
trigger1 = Time = 0
x = 80

[State 1176]
type = AfterImageTime
trigger1 = Time = 0
time = 0



[State 1176]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1



;----------------------------------------------------------------------------
;ヒット時の相手動作
[Statedef 4967]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 1


[State 4960]
type = PlayerPush
trigger1 = 1
value = 1

[State 4960]
type = Turn
trigger1 = Time = 0
trigger1 = (Facing = enemynear,Facing)

[State 4960]
type = ChangeAnim2
trigger1 = Time = 0
value = 4521

[State 4960]
type = VelSet
trigger1 = Time = 0
x = 0
y = -8.7

[State 4960]
type = VelAdd
trigger1 = 1
y = .37



[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0


[State 4960]
type = SelfState
trigger1 = (Vel y > -1) && (Pos y >= -1)
trigger1 = Time >= 10
value = 5100


;----------------------------------------------------------------------------
;やられ（回転）
[Statedef 5656]
type = A
movetype= H
physics = N

[State 5656]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 5656]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = 4

[State 5656]
type = AngleAdd
trigger1 = 1
value = 30

[State 5656]
type = AngleDraw
trigger1 = 1

[State 5656]
type = Playerpush
trigger1 = 1
value = 0

[State 5656]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X >= 0
x = 1.2
y = -8

[State 5656]
type = VelSet
trigger1 = time = 0
trigger1 = p2dist X < 0
x = -1.2
y = -8

[State 5656]
type = Veladd
trigger1 = 1
y = .3

[State 5656]
type = ChangeAnim2
trigger1 = time = 0
value = 5656

[State 5656]
type = SelfState
trigger1 = Pos Y > 0
value = 5110

;------------------------------------------------------------------------------
;---------------------------------------------------------------------------

;天津風・待機（B）

[Statedef 20000]
type = S
movetype = I
physics = N
anim = 20000
ctrl = 0
velset = 0,0
sprpriority = 5




[State 20000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
ignorehitpause = 1

[State 20000, playerpush]
type = playerpush
trigger1 = time =0
value = 1
time = -1

[State 20000, Turn]
type = Turn
trigger1 = ceil(P2Dist X) < -10

[State 20000, ChangeState]
type = ChangeState
trigger1 = Time > 10
value = 20010

;----------------------------------------------------------------
;天津風・出現エフェクト

[Statedef 20001]
type = S
movetype = I
physics = N
anim = 20000
ctrl = 0
sprpriority = 5



[State 20001, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 20001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1


[State 20001, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
fvar(11) = 100
ignorehitpause = 1

[State 20001, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
fvar(12) = 1
ignorehitpause = 1

[State 20001, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(7) = 1.5
ignorehitpause = 1

[State 20001, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(8) = 0
ignorehitpause = 1

[State 20001, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(7) = -0.1
ignorehitpause = 1

[State 20001, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(8) = 0.2
ignorehitpause = 1

[State 20001, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(8),fvar(7)

[State 20001, Trans]
type = Trans
trigger1 = 1
trans = Add



[State 20001, ChangeState]
type = ChangeState
trigger1 = Time > 6
value = 20000

;---------------------------------------------------
;天津風・待機状態（E）

[Statedef 20002]
type = S
movetype = I
physics = N
anim = 20000
ctrl = 0
velset = 0,0
sprpriority = 5



[State 20002, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
ignorehitpause = 1

[State 20000, playerpush]
type = playerpush
trigger1 = time =0
value = 1
time = -1


[State 20002, Turn]
type = Turn
trigger1 = ceil(P2Dist X) < -10

[State 20002, ChangeState]
type = ChangeState
trigger1 = Time > 15
value = 20020



;--------------------------------------------------
;天津風・出現エフェクト（E）

[Statedef 20003]
type = S
movetype = I
physics = N
anim = 20000
ctrl = 0
sprpriority = 5



[State 20003, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 20003, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1



[State 20003, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
fvar(11) = 100
ignorehitpause = 1

[State 20003, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
fvar(12) = 1
ignorehitpause = 1

[State 20003, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(7) = 1.5
ignorehitpause = 1

[State 20003, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(8) = 0
ignorehitpause = 1

[State 20003, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(7) = -0.1
ignorehitpause = 1

[State 20003, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(8) = 0.2
ignorehitpause = 1

[State 20003, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(8),fvar(7)

[State 20003, Trans]
type = Trans
trigger1 = 1
trans = Add


[State 20003, ChangeState]
type = ChangeState
trigger1 = Time > 6
value = 20002

;--------------------------------------------------
;天津風・出現エフェクト（X）

[Statedef 20004]
type = A
movetype = I
physics = N
anim = 20000
ctrl = 0
sprpriority = 5



[State 20003, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 20003, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1



[State 20003, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
fvar(11) = 100
ignorehitpause = 1

[State 20003, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
fvar(12) = 1
ignorehitpause = 1

[State 20003, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(7) = 1.5
ignorehitpause = 1

[State 20003, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(8) = 0
ignorehitpause = 1

[State 20003, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(7) = -0.1
ignorehitpause = 1

[State 20003, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(8) = 0.2
ignorehitpause = 1

[State 20003, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(8),fvar(7)

[State 20003, Trans]
type = Trans
trigger1 = 1
trans = Add


[State 20003, ChangeState]
type = ChangeState
trigger1 = Time > 6
value = 20030

;--------------------------------------------------------------------------
;天津風・出現エフェクト（R）

[Statedef 20005]
type = A
movetype = I
physics = N
anim = 20000
ctrl = 0
sprpriority = 5



[State 20005, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 20005, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1



[State 20005, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
fvar(11) = 100
ignorehitpause = 1

[State 20005, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
fvar(12) = 1
ignorehitpause = 1

[State 20005, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(7) = 1.5
ignorehitpause = 1

[State 20005, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(8) = 0
ignorehitpause = 1

[State 20005, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(7) = -0.1
ignorehitpause = 1

[State 20005, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(8) = 0.2
ignorehitpause = 1

[State 20005, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(8),fvar(7)

[State 20005, Trans]
type = Trans
trigger1 = 1
trans = Add


[State 20005, ChangeState]
type = ChangeState
trigger1 = Time > 6
value = 20040


;------------------------------------------------------------------------------
;天津風・待機状態（E）

[Statedef 20006]
type = S
movetype = I
physics = N
anim = 20100
ctrl = 0
velset = 0,0
sprpriority = 5



[State 20002, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
ignorehitpause = 1

[State 20000, playerpush]
type = playerpush
trigger1 = time =0
value = 1
time = -1


[State 20002, Turn]
type = Turn
trigger1 = ceil(P2Dist X) < -10

[State 20002, ChangeState]
type = ChangeState
trigger1 = Time > 120
value = 20015

;-----------------------------------------------------------------------
;天津風・出現エフェクト（WG）

[Statedef 20007]
type = A
movetype = I
physics = N
anim = 20000
ctrl = 0
sprpriority = 5



[State 20005, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 20005, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1



[State 20005, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
fvar(11) = 100
ignorehitpause = 1

[State 20005, ParentVarSet]
type = ParentVarSet
trigger1 = Time = 0
fvar(12) = 1
ignorehitpause = 1

[State 20005, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(7) = 1.5
ignorehitpause = 1

[State 20005, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(8) = 0
ignorehitpause = 1

[State 20005, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(7) = -0.1
ignorehitpause = 1

[State 20005, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(8) = 0.2
ignorehitpause = 1

[State 20005, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(8),fvar(7)

[State 20005, Trans]
type = Trans
trigger1 = 1
trans = Add


[State 20005, ChangeState]
type = ChangeState
trigger1 = Time > 6
value = 20035
;-----------------------------------------------------------------------------
;鵺・消滅エフェクト

[Statedef 20015]
type = S
movetype = I
physics = N
ctrl = 0
sprpriority = 5

[State 20015, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA, AA, AP ,AT
slot = 0
stateno = 20051
time = -1
ignorehitpause = 1

[State 20015, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 20015, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1


[State 20015, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(7) = 1.0
ignorehitpause = 1

[State 20015, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(8) = 1.0
ignorehitpause = 1

[State 20015, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(7) = 0.1
ignorehitpause = 1

[State 20015, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(8) = -0.2
ignorehitpause = 1

[State 20015, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(8),fvar(7)

[State 20015, Trans]
type = Trans
trigger1 = 1
trans = Add


[State 20015, DestroySelf]
type = DestroySelf
trigger1 = Time > 30


;-----------------------------------------------------------
;オクスタン（B）

[Statedef 20010]
type = S
movetype = A
physics = N
anim = 20200
ctrl = 0
velset = 0,0
sprpriority = 5

[State 20010]
type = nothitby
trigger1 = Animelem = 8
value = SCA
time = -1

[State 20000, playerpush]
type = playerpush
trigger1 = time =0
value = 1
time = -1

[State 20010, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA, AA, AP ,AT
slot = 0
stateno = 20051
time = -1
ignorehitpause = 1

[State 1002]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype  = HARD
damage = ceil(0 * fvar(0)),3
getpower = 30
priority  = 7 ,Hit
guardflag = M
hitflag = MAF
pausetime = 9,25
sparkno = S1034
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S4100, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = 0,0
air.type = High
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(99 * fvar(1)) + 9
fall = 0
kill = 0

[State 1003]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype  = HARD
damage = 80,10
getpower = 110
guardflag = MA
hitflag = MAF
priority  = 4 ,Hit
pausetime = 1,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S220, 0
guardsound = S120, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = -0.5,-7.2
air.type = High
air.velocity = -0.6,-6.6
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
absolute = 1
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(220 * fvar(1)) + 9
fall = 1
absolute = 1
envshake.time = 15
envshake.freq = 80
envshake.ampl = -6

[State 20100]
type = PlaySnd
trigger1 = AnimElem = 5
value = 3200,2

[State 20100]
type = PlaySnd
trigger1 = AnimElem = 3
value = 8000,3


[State 20100]
type = PlaySnd
trigger1 = AnimElem = 4
value = 8000,0

[State 20020]
type = PlaySnd
trigger1 = AnimElem = 8
value = S1000,0


[State 1003]
type = varset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = fvar(1) * 0.90 * (1 - 0.10*(fvar(1)>1.00000))
ignorehitpause = 1
persistent = 0





[State 1003]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
ID = 1003
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1




[State 1003]
type = Explod
trigger1 = animelem = 5
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003,Effect]
type = Explod
trigger1 = Animelem = 5
anim = 1003
ownpal = 1
sprpriority = 9
postype = p1
pos = 75,-55
bindtime = -1
pausemovetime = 9999
supermovetime = 0
ID = 1004
ignorehitpause = 1

[State 1003,Effect]
type = Explod
trigger1 = Animelem = 5
anim = 1003
ownpal = 1
sprpriority = 9
postype = p1
pos = 75,-25
bindtime = -1
pausemovetime = 9999
supermovetime = 0
ID = 1004
ignorehitpause = 1


[State 20010, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 20015



;----------------------------------------------------------------
;オクスタン（E）

[Statedef 20020]
type = S
movetype = A
physics = N
anim = 20300
ctrl = 0
velset = 0,0
sprpriority = 5
superpausetime = 9999
pausetime = 9999

[State 20000, playerpush]
type = playerpush
trigger1 = time =0
value = 1
time = -1

[State 20020]
type = nothitby
trigger1 = Animelem = 8
value = SCA
time = -1

[State 20020, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA, AA, AP ,AT
slot = 0
stateno = 20051
time = -1
ignorehitpause = 1


[State 20020]
type = PlaySnd
trigger1 = AnimElem = 5
value = S1800,0

[State 20020]
type = PlaySnd
trigger1 = AnimElem = 3
value = S8000,3

[State 20020]
type = PlaySnd
trigger1 = AnimElem = 18
value = S1000,0


[State 20020]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
trigger3 = AnimElem = 7
trigger4 = AnimElem = 8
trigger5 = AnimElem = 9
trigger6 = AnimElem = 10
trigger7 = AnimElem = 11
trigger8 = AnimElem = 12
attr = S, SA
animtype  = HARD
damage = 10,3
getpower = 10
guardflag = MA
hitflag = MAF
priority  = 4 ,Hit
pausetime = 1,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S220, 0
guardsound = S120, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = -0.5,0
air.type = High
air.velocity = -0.5,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 0
fall.recover = 0
fall.recovertime = ceil(200 * fvar(1)) + 9
fall = 0



[State 20020,Effect]
type = Explod
trigger1 = Animelem = 5
anim = 20310
ownpal = 1
sprpriority = 9
postype = p1
pos = 70,-32
scale = 2.5,1.0
bindtime = -1
pausemovetime = 9999
supermovetime = 0
ID = 1004
ignorehitpause = 1




[State 20020, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 20015

;-------------------------------------------------------------
;ハウリング（X）

[Statedef 20030]
type = A
movetype = A
physics = N
anim = 20400
ctrl = 0
velset = 0,0
sprpriority = 9
yaccel = 0.0

[State 20030, playerpush]
type = playerpush
trigger1 = time =0
value = 1
time = -1

[State 20030]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 40
under = 1
supermove = 9999
pausemove = 9999


[State 20030]
type = pause
trigger1 = time = 1
time = 40
movetime = 40
darken = 0

[State 20030]
type = explod
trigger1 = time = 1
anim = 7016
pos = 0,-50
postype = p1
ontop = 1
supermovetime = 9999
pausemovetime = 9999
persistent = 0
ignorehitpause = 1


[State 20030]
type = PlaySnd
trigger1 = AnimElem = 1
value = 20,4

[State 20030]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 20030, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA, AA, AP ,AT
slot = 0
stateno = 20051
time = -1
ignorehitpause = 1


[State 20030]
type = PlaySnd
trigger1 = AnimElem = 5
value = S1800,0

[State 20030]
type = PlaySnd
trigger1 = AnimElem = 3
value = S8000,3



[State 20030]
type = HitDef
triggerall = ishelper
trigger1 = AnimElem= 19
attr = S, SP
damage = 10,0
getpower = 0
hitflag = MAFD
guardflag = MA
priority = 7, HIT
pausetime = 0,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S3000, 0
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 20
ground.velocity = 0,-6.2
air.type = High
airguard.velocity = -3,-3
air.velocity = 0,-6.2
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(130 * fvar(1)) + 9
;yaccel = 0.33
absolute = 1



[State 20030]
type = Helper
trigger1 = NumHelper(20030) = 0
trigger1 = animelem = 4
id = 20031
name = "3"
pos = 75,15
postype = p1
stateno = 20031
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
ownpal = 1


[State 20030]
type = PlaySnd
trigger1 = time = 94
value = S7000,0

[State 20030]
type = Explod
trigger1 = time = 94
anim = 20411
id = 20411
pos = 280,150
postype = p1
scale = 1.0,1.5
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
removeongethit = -1
pausemovetime = 9999

[State 20030]
type = Explod
trigger1 = time = 99
anim = 20411
id = 20411
pos = 220,150
postype = p1
scale = 1.0,1.5
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
removeongethit = -1
pausemovetime = 9999

[State 20030]
type = Explod
trigger1 = time = 104
anim = 20411
id = 20411
pos = 150,150
postype = p1
scale = 1.0,1.5
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
removeongethit = -1
pausemovetime = 9999

[State 20030]
type = Explod
trigger1 = time = 109
anim = 20411
id = 20411
pos = 70,150
postype = p1
scale = 1.0,1.5
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
removeongethit = -1
pausemovetime = 9999


[State 20030]
type = Explod
trigger1 = time = 114
anim = 20411
id = 20411
pos = -10,150
postype = p1
scale = 1.0,1.5
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
removeongethit = -1
pausemovetime = 9999

[State 20030]
type = Explod
trigger1 = time = 119
anim = 20411
id = 20411
pos = -80,150
scale = 1.0,1.5
postype = p1
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
removeongethit = -1
pausemovetime = 9999


[State 20030]
type = Explod
trigger1 = time = 124
anim = 20411
id = 20411
pos = -150,150
postype = p1
scale = 1.0,1.5
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
removeongethit = -1
pausemovetime = 9999

[State 20030]
type = Explod
trigger1 = time = 128
anim = 20411
id = 20411
pos = -220,150
postype = p1
scale = 1.0,1.5
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
removeongethit = -1
pausemovetime = 9999

[State 20030]
type = velset
trigger1 = AnimElem = 20
y = 7.8

[State 20030]
Type = ChangeState
trigger1 = Pos Y > 0
Value = 20032
Ctrl = 0


;-------------------------------------------------------------
;X・着地

[Statedef 20032]
Type = S
MoveType = A
Physics = S
Ctrl = 0
Anim = 20401
SprPriority = 2
MoveHitPersist = 1

[State 20000, playerpush]
type = playerpush
trigger1 = time =0
value = 1
time = -1

[State 20020]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 20020]
type = PlaySnd
trigger1 = time = 0
value = S47,0

[State 1013, VelMul]
Type = VelMul
Trigger1 = Time = 0
X = 0.2

[State 1013, VelSet]
Type = VelSet
Trigger1 = Time = 0
Y = 0

[State 1013, PosSet]
Type = PosSet
Trigger1 = Time = 0
Y = 0

[State 1013, VelSet]
type = velset
trigger1 = time = 0
x = 1

[State 1013, VelSet]
type = veladd
trigger1 = time = 6
x = -1




[State 1013, ChangeState]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 20015
Ctrl = 0


;----------------------------------------------------------
; ハウリングなエフェクト

[Statedef 20031]
type     = A
Movetype = A
Physics = N
Ctrl = 0
Anim = 20410
SprPriority = 8

[State -1]
type = NotHitBy
trigger1 = 1
Value = SCA
Time = 1




[State -1]
type = AngleDraw
trigger1 = 1
Scale = 2,2

[State -1]
type = Trans
trigger1 = 1
Trans = Add

[State -1]
type = HitDef
triggerall = NumEnemy > 0
trigger1 = AnimElem = 5
trigger2 = AnimElem = 7
trigger3 = AnimElem = 9
trigger4 = AnimElem = 11
trigger5 = AnimElem = 13
trigger6 = AnimElem = 15
trigger7 = AnimElem = 17
Attr = A, SP
Damage = 30,3
getpower = 0
givepower = 0
HitFlag = MAFD
GuardFlag = MA
sparkno = s7003
guard.sparkno = s7007
sparkxy = -15,15
Priority = 3, Hit
hitsound = s220,1
guardsound = S120, 0
Animtype = Hard
PauseTime = 0,9
Ground.SlideTime = 20
Ground.HitTime = 20
Air.HitTime = 20
Ground.Velocity = -0,-3.5
Air.Velocity = 0,-6.5
AirGuard.Velocity = -4,-1
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
AirGuard.CornerPush.VelOff = 0
fall = 1
air.Fall = 1
fall.Recover = 0
kill = 0
P2Facing = 1
p1sprpriority = 8
envShake.Time = 15
envShake.Ampl = 3
envShake.Freq = 100


[State -1]
type = AssertSpecial
trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type     = DestroySelf
trigger1 = AnimTime = 0

;-----------------------------------------------------------
; ハウリングなエフェクト

[Statedef 20033]
type     = A
Movetype = A
Physics = N
Ctrl = 0
Anim = 20410
SprPriority = 8

[State -1]
type = NotHitBy
trigger1 = 1
Value = SCA
Time = 1



[State -1]
type = AngleDraw
trigger1 = 1
Scale = 2,2

[State -1]
type = Trans
trigger1 = 1
Trans = Add

[State -1]
type = HitDef
triggerall = NumEnemy > 0
trigger1 = AnimElem = 5
trigger2 = AnimElem = 7
trigger3 = AnimElem = 9
trigger4 = AnimElem = 11
trigger5 = AnimElem = 13
trigger6 = AnimElem = 15
trigger7 = AnimElem = 17
Attr = A, SP
Damage = 0,0
getpower = 0
givepower = 0
HitFlag = MAFD
GuardFlag = MA
sparkno = s7003
guard.sparkno = s7007
sparkxy = -15,15
Priority = 3, Hit
hitsound = s220,1
guardsound = S120, 0
Animtype = Hard
PauseTime = 0,9
Ground.SlideTime = 14
Ground.HitTime = 14
Air.HitTime = 14
Ground.Velocity = -0,-3.5
Air.Velocity = 0,-7.5
AirGuard.Velocity = -4,-1
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
AirGuard.CornerPush.VelOff = 0
fall = 1
air.Fall = 1
fall.Recover = 0
kill = 0
P2Facing = 1
p2stateno = 4962
p1sprpriority = 8
envShake.Time = 15
envShake.Ampl = 3
envShake.Freq = 100


[State -1]
type = AssertSpecial
trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type     = DestroySelf
trigger1 = AnimTime = 0


;-----------------------------------------------------------
;スプリッドWG42ランチャー　

[Statedef 20035]
type = A
movetype = A
physics = N
anim = 20600
ctrl = 0
velset = 0,0
sprpriority = 9
yaccel = 0.0

[State 20030, playerpush]
type = playerpush
trigger1 = time =0
value = 1
time = -1


[State 20030, playerpush]
type = velset
trigger1 = animelem = 2
x = -1.6
y = -2.1

[State 20030, playerpush]
type = veladd
trigger1 = time >= 11
y = 0.2



[State 20035]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 20035, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA, AA, AP ,AT
slot = 0
stateno = 20051
time = -1
ignorehitpause = 1


[State 20035]
type = PlaySnd
trigger1 = AnimElem = 2
value = S1000,0

[State 20035]
type = PlaySnd
trigger1 = AnimElem = 1
value = S8000,3



[State 20035]
type = HitDef
triggerall = ishelper
trigger1 = AnimElem= 2
attr = S, SP
damage = 20,0
getpower = 0
hitflag = MAFD
guardflag = MA
priority = 7, HIT
pausetime = 9,20
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S220, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 20
ground.velocity = 0,-6.2
air.type = High
airguard.velocity = -3,-3
air.velocity = 0,-6.2
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = ceil(130 * fvar(1)) + 9
;yaccel = 0.33
absolute = 1



[State 20035]
type = Helper
trigger1 = NumHelper(20030) = 0
trigger1 = animelem = 3
id = 20031
name = "3"
pos = 65,5
postype = p1
stateno = 20036
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 20035]
type = Helper
trigger1 = NumHelper(20030) = 0
trigger1 = animelem = 3
id = 20031
name = "3"
pos = 35,5
postype = p1
stateno = 20036
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 20035]
type = Helper
trigger1 = NumHelper(20030) = 0
trigger1 = animelem = 3
id = 20031
name = "3"
pos = 95,5
postype = p1
stateno = 20036
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 20035]
type = velset
trigger1 = time = 30
y = 5.8

[State 20035]
Type = ChangeState
trigger1 = Pos Y > 0
Value = 20032
Ctrl = 0

;--------------------------------------------------------------
;WG42のステート

[Statedef 20036]
type = A
movetype = A
physics = N
ctrl = 0
anim = 20610
poweradd = 0
sprpriority = 7

[State 4010]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 4010]
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 0
ignorehitpause = 1


[State 4010]
type = velset
trigger1 = time = 1
x = 3

[State 4010]
type = velset
trigger1 = time = 1
y = 3

[State 4010]
type = HitDef
triggerall = ishelper
trigger1 = animelem = 1
attr = S, SP
damage    = 20
getpower = 0
hitflag = MAF
guardflag = MA
priority = 5, HIT
pausetime = 3,9
sparkno = S7022
guard.sparkno = S7022
sparkxy = -10,-20
hitsound = S4100, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 20
ground.velocity = -1.1,0
air.type = High
airguard.velocity = -3,-3
air.velocity = -1.2,-3.6
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(100 * fvar(1)) + 9
fall = 0
;yaccel = 0.33




[State 4010]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4010]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4010]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4010]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4010]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4010]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4010]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4010]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4010]
type = DestroySelf
trigger1 = time >= 160
trigger2 = movecontact

;------------------------------------------------------------
;ランページ中オクスタン（E）

[Statedef 20040]
type = S
movetype = A
physics = N
anim = 20514
ctrl = 0
velset = 0,0
sprpriority = 5


[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 20040,Effect]
type = Explod
trigger1 = time = 41
anim = 4406
ownpal = 1
sprpriority = 9
postype = p1
pos = 0,0
scale = 1.0,1.0
bindtime = -1
pausemovetime = 9999
supermovetime = 9999
ID = 4406
ignorehitpause = 1

[State 20040]
type = PlaySnd
trigger1 = time = 41
value = S3300,0


[State 20040, playerpush]
type = playerpush
trigger1 = time =0
value = 1
time = -1



[State 20040, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA, AA, AP ,AT
slot = 0
stateno = 20051
time = -1
ignorehitpause = 1


[State 20040]
type = PlaySnd
trigger1 = AnimElem = 5
value = S1800,0

[State 20040]
type = PlaySnd
trigger1 = AnimElem = 3
value = S8000,3

[State 20040]
type = PlaySnd
trigger1 = AnimElem = 18
value = S1000,0


[State 20040]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
trigger3 = AnimElem = 7
trigger4 = AnimElem = 8
trigger5 = AnimElem = 9
trigger6 = AnimElem = 10
trigger7 = AnimElem = 11
trigger8 = AnimElem = 12
attr = S, SA
animtype  = HARD
damage = 0,0
getpower = 10
guardflag = MA
hitflag = MAF
priority  = 4 ,Hit
pausetime = 1,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S220, 0
guardsound = S120, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = -0.5,0
air.type = High
air.velocity = -0.5,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 0
fall.recover = 0
fall.recovertime = ceil(200 * fvar(1)) + 9
fall = 0
kill = 0
p2stateno = 4943



[State 20040,Effect]
type = Explod
trigger1 = Animelem = 5
anim = 20310
ownpal = 1
sprpriority = 9
postype = p1
pos = 70,-27
scale = 2.5,1.5
bindtime = -1
pausemovetime = 9999
supermovetime = 0
ID = 1004
ignorehitpause = 1


[State 20040,Effect]
type = Explod
trigger1 = Animelem = 10
anim = 20310
ownpal = 1
sprpriority = 9
postype = p1
pos = 70,-42
scale = 2.5,1.5
bindtime = -1
pausemovetime = 9999
supermovetime = 0
ID = 1004
ignorehitpause = 1


[State 20020, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 20039

;---------------------------------------------------------------
;連装砲くんのステート

[Statedef 20100]
type    = S
movetype= A
physics = S
;juggle  = 0;5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 20210
sprpriority = 7
superpausetime = 9999
pausetime = 9999

[State 20100]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5
value = 1200,0

[State 20100, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 20100, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 20100,playerpush]
trigger1 = time = 0
type = playerpush
value = 0
time = -1

[State 20100]
type = velset
trigger1 = AnimElem = 1
x = 0
y = -9.7



[State 20100]
type = VelAdd
trigger1 = AnimelemTime(2) >= 0
y = 0.37


[state 20100]
type = DestroySelf
trigger1 = time = 56

;------------------------------------------------------------
;ヘルパー用

[Statedef 20101]
type    = A
physics = N
anim = 4405
ctrl = 0
sprpriority = 5

[State 1050, NotHitBy]
Type = NotHitBy
Trigger1 = 1
Value = SCA

[State 1050, 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1050, 加色]
Type = Trans
Trigger1 = 1
Trans = Add
IgnoreHitPause = 1

[State 1050, リング拡大]
type = AngleDraw
trigger1 = 1
scale = time*0.6,time*0.6
value = 45

[State 1050, リング透明化]
type = PalFX
trigger1 = 1
time = 1
add = -(100+time*7),-(100+time*7),-(100+time*7)
invertall = 0
color = 256

[State 1050,DestroySelf]
type = DestroySelf
trigger1 = time = 60


;----------------------------------------------------------
;ランページ中オクスタン（B）

[Statedef 20039]
type = S
movetype = A
physics = N
anim = 20500
ctrl = 0
velset = 0,0
sprpriority = 5

[State 20010]
type = Helper
trigger1 = NumHelper(20100) = 0
trigger1 = Animelem = 3
helpertype = normal
ownpal = 1
name = "ren"
postype = p1
pos = 40,-30
pausemovetime = 0
supermovetime = 0
stateno = 20100
ID = 20100
ignorehitpause = 1

[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 20000, playerpush]
type = playerpush
trigger1 = time =0
value = 1
time = -1

[State 20010, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA, AA, AP ,AT
slot = 0
stateno = 20051
time = -1
ignorehitpause = 1

[State 1002]
type = HitDef
trigger1 = AnimElem = 9
attr = S, SA
animtype  = HARD
damage = ceil(0 * fvar(0)),0
getpower = 30
priority  = 7 ,Hit
guardflag = M
hitflag = MAF
pausetime = 9,99
sparkno = S1034
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S4100, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = 0,0
air.type = High
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(99 * fvar(1)) + 9
fall = 0
kill = 0
p2stateno = 4943

[State 1003]
type = HitDef
trigger1 = AnimElem = 10
attr = S, SA
animtype  = HARD
damage = 0,0
getpower = 110
guardflag = MA
hitflag = MAF
priority  = 4 ,Hit
pausetime = 1,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S220, 0
guardsound = S120, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
guard.ctrltime = 20
ground.velocity = -0.5,-7.2
air.type = High
air.velocity = -0.6,-6.6
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
absolute = 1
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(220 * fvar(1)) + 9
fall = 1
absolute = 1
envshake.time = 15
envshake.freq = 80
envshake.ampl = -6
kill = 0
p2stateno = 20042

[State 20100]
type = PlaySnd
trigger1 = AnimElem = 10
value = 3200,2

[State 20100]
type = PlaySnd
trigger1 = AnimElem = 9
value = 8000,3


[State 20100]
type = PlaySnd
trigger1 = AnimElem = 8
value = 8000,0

[State 20020]
type = PlaySnd
trigger1 = AnimElem = 13
value = S1000,0




[State 1003,Effect]
type = Explod
trigger1 = Animelem = 10
anim = 20501
ownpal = 1
sprpriority = 9
postype = p1
pos = 75,-55
bindtime = -1
pausemovetime = 9999
supermovetime = 0
ID = 1004
ignorehitpause = 1

[State 1003,Effect]
type = Explod
trigger1 = Animelem = 10
anim = 20501
ownpal = 1
sprpriority = 9
postype = p1
pos = 75,-25
bindtime = -1
pausemovetime = 9999
supermovetime = 0
ID = 1004
ignorehitpause = 1

[State 1003]
type = removeexplod
trigger1 = statetype = L
trigger1 = 1
ID = 1003
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1




[State 1003]
type = Explod
trigger1 = animelem = 10
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1003]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[State 20010, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 20043


;--------------------------------------
;ヒット時の相手動作
[Statedef 20041]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 1

[State 20041]
type = NotHitBy
trigger1 = 1
value = SCA

[State 20041]
type = PlayerPush
trigger1 = 1
value = 0

[State 20041]
type = Turn
trigger1 = Time = 0
trigger1 = (Facing = enemynear,Facing)

[State 20041]
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 20041]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 20041]
type = VelAdd
trigger1 = 1
y = .0


[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0



[State 20041]
Type = changeState
trigger1 = time = 10
value =  4114

;-------------------------------------------------------
;ヒット時の相手動作
[Statedef 20042]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 1

[State 20042]
type = NotHitBy
trigger1 = 1
value = SCA

[State 20042]
type = PlayerPush
trigger1 = 1
value = 0

[State 20042]
type = Turn
trigger1 = Time = 0
trigger1 = (Facing = enemynear,Facing)

[State 200412]
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 20041]
type = VelSet
trigger1 = Time = 0
x = 7.6
y = -2.2

[State 20041]
type = VelAdd
trigger1 = 1
y = 0.13


[State 1034]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0



[State 20041]
Type = ChangeState
trigger1 = time = 10
value = 4114

;-----------------------------------------------------------------------------

;リボルビング・バンカー_待機

[Statedef 20043]
type    = S
physics = S
anim = 20510
ctrl = 0
velset = 0,0
sprpriority = 1



[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 4956]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5


[State 4956, Helper]
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999



[State 4956]
type = playerpush
trigger1 = Anim = 1004
value = 1

[State 4956]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 4956]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 4956]
type = ChangeState
trigger1 = Animtime = 0
value = 20044
ctrl = 0



;------------------------------------------------------------------------------------------------
;ランページ中リボルビング・バンカー_ダッシュ

[Statedef 20044]
type    = S
physics = S
anim = 20511
ctrl = 0
sprpriority = 1



[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 20044]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1



[State 20044]
type = AfterImage
trigger1 = time = 0
time = 24
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 20044]
type = AfterImage
trigger1 = time = 25
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 20044]
Type = VelSet
Trigger1 = Time = [0,3]
X = 15

[State 20044]
Type = VelSet
Trigger1 = Time = [3,7]
X = 20

[State 20044]
Type = VelSet
Trigger1 = Time = [7,12]
X = 25

[State 20044]
type = VelSet
trigger1 = time = [12,15]
x = 7

[State 20044]
type = VelSet
trigger1 = time = [15,18]
x = 5

[State 20044]
type = VelSet
trigger1 = time >= 18
x = 3


[State 20044]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 20044]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 20044]
type = PlaySnd
trigger1 = Time = 1
value = 100,0



[State 20044]
Type = ChangeState
Trigger1 = Time >= 1
Trigger1 = Time <= 13
Trigger1 = P2BodyDist X = [-15,15]
Trigger1 = P2BodyDist Y = [-100,30]
Value = 20045

[State 4957]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 20015
Ctrl = 0




;-----------------------------------------------------------------------------

;リボルビング・バンカー派生

[Statedef 20045]
type = A
movetype = A
physics = N
ctrl = 0
anim = 20512
poweradd = 0
sprpriority = 7


[state 4121]
type = nothitby
trigger1 = 1
value = SCA



[State 20045]
type = playsnd
trigger1 = animelem = 1
value = 210,0

[State 20045]
Type = VelSet
Trigger1 = animelem = 1
X = 0

[State 20045]
type = Explod
trigger1 = animelem = 2
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20045]
type = AfterImage
trigger1 = animelem = 1
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 20045]
type = HitDef
trigger1 = animelem = 2
attr = S, HP
damage = ceil(0 * fvar(0)),0
getpower = 0
hitflag = MAF
guardflag = M
priority = 7, HIT
pausetime = 50,90
sparkno = S1034
guard.sparkno = S7007
sparkxy = -30,-50
hitsound = S4100, 1
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 25
ground.slidetime = 25
guard.hittime = 25
guard.ctrltime = 20
ground.velocity = 0,0
air.type = High
airguard.velocity = 0,0
air.velocity = 0,0
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(40 * fvar(1)) + 9
fall = 0
kill = 0
p2stateno = 4943
;yaccel = 0.33


[State 20045]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20045]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20045]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20045]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20045]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20045]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20045]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 20045]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 20045]
type = changestate
trigger1 = movecontact
value = 20046
ctrl = 0

[State 20045]
type = changestate
trigger1 = animtime = 0
value = 20015
ctrl = 0

;------------------------------------------------------------------------------

;ランページ中リボルビング・バンカー更に派生

[Statedef 20046]
type = S
movetype = A
physics = S
ctrl = 0
anim = 20513
poweradd = 25
sprpriority = 7


[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 4959]
type = VarRandom
trigger1 = AnimElem = 1
v = 30
range = 0,2


[state 4959]
type = Explod
trigger1 = animelem = 1
anim = 1040
scale = 1,1
postype = p1
pos = 55,-60
sprpriority = 9
ownpal = 1
ID = 1032
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4959]
type = Explod
trigger1 = animelem = 1
anim = 18000
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4959]
type = HitDef
trigger1 = animelem = 2
attr = S, HP
damage = ceil(0 * fvar(0)),0
getpower = 0
hitflag = MAF
guardflag = M
priority = 7, HIT
pausetime = 9,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S3000, 0
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 30
ground.slidetime = 30
guard.hittime = 30
guard.ctrltime = 30
ground.velocity = -7.5,-9.4
air.type = High
airguard.velocity = -3,-3
air.velocity = -8.5 ,-9.9
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(180 * fvar(1)) + 9
fall = 1
absolute = 1
envshake.time = 15
envshake.freq = 80
envshake.ampl = -6
yaccel = 0.33
kill = 0
p2stateno = 4960




[state 4959]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4959]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4959]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4959]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4959]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = -10,0
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4959]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = -1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4959]
type = Explod
trigger1 = Movehit = 1
anim = 7012
id = 7012
vel = 0,-10
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[state 4959]
type = Explod
trigger1 = Movehit = 1
anim = 7013
id = 7012
vel = 1,-1
pos = -10,-50
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999



[state 4959]
type = changestate
trigger1 = animtime = 0
value = 20047
ctrl = 0

;-------------------------------------------------------
;ハウリング（X）

[Statedef 20047]
type = A
movetype = A
physics = N
anim = 20516
ctrl = 0
velset = 0,0
sprpriority = 9
yaccel = 0.25

[State 108]
type = AfterImage
trigger1 = time = 0
time = 15
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 20030, playerpush]
type = playerpush
trigger1 = time =0
value = 1
time = -1

[State 115, VelSet]
Type = Veladd
Trigger1 = time >= 2
Trigger1 = time <= 20
X = 0
Y = 0.25


[State 115, VelSet]
Type = VelSet
Trigger1 = Time = 1
X = -4.0
Y = -8.6



[State 115, VelSet]
Type = VelSet
trigger1 = time = 20
X = 0
Y = 0



[State 20030, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA, AA, AP ,AT
slot = 0
stateno = 20051
time = -1
ignorehitpause = 1


[State 20030]
type = PlaySnd
trigger1 = AnimElem = 9
value = S1800,0

[State 20030]
type = PlaySnd
trigger1 = AnimElem = 7
value = S8000,3



[State 20030]
type = HitDef
triggerall = ishelper
trigger1 = AnimElem= 24
attr = S, SP
damage = 0,0
getpower = 0
hitflag = MAFD
guardflag = MA
priority = 7, HIT
pausetime = 0,9
sparkno = S7003
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S3000, 0
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 20
ground.velocity = 0,-6.2
air.type = High
airguard.velocity = -3,-3
air.velocity = 0,-6.2
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(130 * fvar(1)) + 9
;yaccel = 0.33
kill = 0
absolute = 1
p2stateno = 4962


[State 20030]
type = HitDef
triggerall = ishelper
trigger1 = AnimElem= 25
attr = S, SP
damage = 0,0
getpower = 0
hitflag = MAFD
guardflag = MA
priority = 7, HIT
pausetime = 0,9
sparkno = S1034
guard.sparkno = S7007
sparkxy = -10,-40
hitsound = S3000, 0
guardsound = S120, 0
animtype = Hard
ground.type = High
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
guard.ctrltime = 20
ground.velocity = 0,-6.2
air.type = High
airguard.velocity = -3,-3
air.velocity = 0,-6.2
air.fall = 1
fall.recover = 0
fall.recovertime = ceil(130 * fvar(1)) + 9
;yaccel = 0.33
kill = 0
absolute = 1
p2stateno = 4967

[State 20030]
type = Helper
trigger1 = NumHelper(20030) = 0
trigger1 = animelem = 9
id = 20033
name = "3"
pos = 75,15
postype = p1
stateno = 20033
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
ownpal = 1


[State 20030]
type = PlaySnd
trigger1 = time = 94
value = S7000,0

[State 20030]
type = Explod
trigger1 = time = 94
anim = 20411
id = 20411
pos = 280,150
postype = p1
scale = 1.0,1.5
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
removeongethit = -1
pausemovetime = 9999

[State 20030]
type = Explod
trigger1 = time = 99
anim = 20411
id = 20411
pos = 220,150
postype = p1
scale = 1.0,1.5
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
removeongethit = -1
pausemovetime = 9999

[State 20030]
type = Explod
trigger1 = time = 104
anim = 20411
id = 20411
pos = 150,150
postype = p1
scale = 1.0,1.5
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
removeongethit = -1
pausemovetime = 9999

[State 20030]
type = Explod
trigger1 = time = 109
anim = 20411
id = 20411
pos = 70,150
postype = p1
scale = 1.0,1.5
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
removeongethit = -1
pausemovetime = 9999


[State 20030]
type = Explod
trigger1 = time = 114
anim = 20411
id = 20411
pos = -10,150
postype = p1
scale = 1.0,1.5
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
removeongethit = -1
pausemovetime = 9999

[State 20030]
type = Explod
trigger1 = time = 119
anim = 20411
id = 20411
pos = -80,150
scale = 1.0,1.5
postype = p1
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
removeongethit = -1
pausemovetime = 9999


[State 20030]
type = Explod
trigger1 = time = 124
anim = 20411
id = 20411
pos = -150,150
postype = p1
scale = 1.0,1.5
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
removeongethit = -1
pausemovetime = 9999

[State 20030]
type = Explod
trigger1 = time = 128
anim = 20411
id = 20411
pos = -220,150
postype = p1
scale = 1.0,1.5
sprpriority = 6
IgnoreHitPause = 1
Persistent = 0
ownpal = 1
removeongethit = -1
pausemovetime = 9999

[State 20030]
type = velset
trigger1 = AnimElem = 25
y = 7.8

[State 20030]
Type = ChangeState
triggerall = time >= 10
trigger1 = Pos Y > 0
Value = 20048
Ctrl = 0


;-----------------------------------------------------------------------------

;リボルビング・バンカー_待機

[Statedef 20048]
type    = S
physics = S
anim = 20517
ctrl = 0
velset = 0,0
sprpriority = 1


[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 4956]
type = Turn
triggerall = (PrevStateno = 52) || (PrevStateno = [101,102])
triggerall = Time = 0
trigger1 = p2dist X < -5


[State 4956, Helper]
Type = Helper
Trigger1 = AnimTime = 0
Persistent = 0
OwnPal = 1
Facing = 1
PosType = P1
Pos = -12, -33
ID = 30020
StateNo = 30021
Name = " "
pausemovetime = 9999



[State 4956]
type = playerpush
trigger1 = Anim = 1004
value = 1

[State 4956]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 4956]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 4956]
type = ChangeState
trigger1 = Animtime = 0
value = 20049
ctrl = 0



;------------------------------------------------------------------------------------------------
;ランページ中リボルビング・バンカー_ダッシュ

[Statedef 20049]
type    = S
physics = S
anim = 20511
ctrl = 0
sprpriority = 1



[state 4121]
type = nothitby
trigger1 = 1
value = SCA

[State 20044]
type = VarAdd
;triggerall = fvar(35) = [0,1]
trigger1 = Time = 1
fv = 35
value = -0.050
IgnoreHitPause = 1
Persistent = 1



[State 20044]
type = AfterImage
trigger1 = time = 0
time = 24
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 20044]
type = AfterImage
trigger1 = time = 25
time = 0
TimeGap  = 1
FrameGap = 3
Trans = Add1
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 20044]
Type = VelSet
Trigger1 = Time = [0,3]
X = 15

[State 20044]
Type = VelSet
Trigger1 = Time = [3,7]
X = 20

[State 20044]
Type = VelSet
Trigger1 = Time = [7,12]
X = 25

[State 20044]
type = VelSet
trigger1 = time = [12,15]
x = 7

[State 20044]
type = VelSet
trigger1 = time = [15,18]
x = 5

[State 20044]
type = VelSet
trigger1 = time >= 18
x = 3


[State 20044]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 20044]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 20044]
type = PlaySnd
trigger1 = Time = 1
value = 100,0



[State 20044]
Type = destroyself
Triggerall = Time >= 1
Triggerall = Time <= 20
Trigger1 = P2BodyDist X = [-15,15]
Trigger1 = P2BodyDist Y = [-200,200]

;---------------------------------------------------------
;天津風ダメージ用２
[Statedef 20051]
type    = L
movetype= H
physics = N
anim = 25100


[State 20051]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 0


[State 20051, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
;trigger1 = GetHitVar(fall.yvel) = 0
sysvar(1) = floor(vel y)

[State 20051, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = !SelfAnimExist(25200 + (anim % 10))
value = 20052


[State 20051, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 20051, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 20051, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0



[State 20051, 11]
type = PosFreeze
trigger1 = 1



[State 20051, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20



[State 20051, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 20052

;------------------------------------------------------------------

;天津風ダメージ用３
[Statedef 20052]
type = S
movetype = I
physics = N
ctrl = 0
sprpriority = 5
anim = 25200

[State 20052, HitOverRide]
type = HitOverRide
trigger1 = 1
attr = SCA, AA, AP ,AT
slot = 0
stateno = 20050
time = -1
ignorehitpause = 1

[State 20052, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 20052, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1


[State 20052, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(7) = 1.0
ignorehitpause = 1

[State 20052, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(8) = 1.0
ignorehitpause = 1

[State 20052, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(7) = 0.1
ignorehitpause = 1

[State 20052, VarAdd]
type = VarAdd
trigger1 = Time = [1,5]
fvar(8) = -0.2
ignorehitpause = 1

[State 20052, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(8),fvar(7)

[State 20052, Trans]
type = Trans
trigger1 = 1
trans = Add

[State 20052, playerpush]
type = playerpush
trigger1 = time =0
value = 1
time = -1

[State 20052, DestroySelf]
type = DestroySelf
trigger1 = Time > 100






;---------------------------------------------------------------------------
;ダッシュエフェクト

[StateDef 30000]
Type = A
MoveType = I
Physics = N
Anim = 40000
SprPriority = 100


[State 30000, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow



[State 30000, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 150


[State 30000, VarAdd]
Type = VarAdd
Trigger1 = Time = [1, 2]
V = 2
Value = 40


[State 30000, VarAdd]
Type = VarAdd
Trigger1 = Time = [3, 4]
V = 2
Value = 35


[State 30000, VarAdd]
Type = VarAdd
Trigger1 = Time = 5
V = 2
Value = 30


[State 30000, VarAdd]
Type = VarAdd
Trigger1 = Time > 5
V = 2
Value = 20



[State 30000, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 3
Value = 40


[State 30000, VarAdd]
Type = VarAdd
Trigger1 = Time > 0
V = 3
Value = 10



[State 30000, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 255


[State 30000, VarAdd]
Type = VarAdd
Trigger1 = Time > 0
Trigger1 = Var(1) > 0
V = 1
Value = -36


[State 30000, VarSet]
Type = VarSet
Trigger1 = Var(1) < 0
V = 1
Value = 0



[State 30000, Trans]
Type = Trans
Trigger1 = 1
Trans = Add


[State 30000, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(1), Var(1), Var(1)


[State 30000, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = 0.5*Var(2)/242, 0.5*Var(3)/242



[State 30000, DestroySelf]
Type = DestroySelf
Trigger1 = Var(1) = 0


;------------------------------
;ダッシュエフェクト

[StateDef 30020]
Type = A
MoveType = I
Physics = N
Anim = 40020
SprPriority = 100


[State 30020, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow


[State 30020, Helper]
Type = Helper
Trigger1 = Time = 0
Persistent = 0
OwnPal = 1
PosType = P1
Pos = 45, 0
StateNo = 30025
Name = " "
pausemovetime = 9999


[State 30020, Trans]
Type = Trans
Trigger1 = 1
Trans = Add


[State 30020, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = 0.5, 0.5



[State 30020, DestroySelf]
Type = DestroySelf
Trigger1 = AnimTime = 0


;------------------------------
;ダッシュエフェクト

[StateDef 30021]
Type = A
MoveType = I
Physics = N
Anim = 40020
SprPriority = 100


[State 30021, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow


[State 30021, Helper]
Type = Helper
Trigger1 = Time = 0
Persistent = 0
OwnPal = 1
PosType = P1
Pos = 0, 0
StateNo = 30025
Name = " "
pausemovetime = 9999

[State 30021, Trans]
Type = Trans
Trigger1 = 1
Trans = Add


[State 30021, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = 0.5, 0.5



[State 30021, DestroySelf]
Type = DestroySelf
Trigger1 = AnimTime = 0


;--------------------------------------------------
;ダッシュエフェクト

[StateDef 30025]
Type = A
MoveType = I
Physics = N
Anim = 40000
SprPriority = 100


[State 30025, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow



[State 30025, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 64


[State 30025, VarAdd]
Type = VarAdd
Trigger1 = Time > 0
V = 2
Value = 16



[State 30025, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 3
Value = 150


[State 30025, VarAdd]
Type = VarAdd
Trigger1 = Time = [1, 2]
V = 3
Value = 40


[State 30025, VarAdd]
Type = VarAdd
Trigger1 = Time = [3, 4]
V = 3
Value = 35


[State 30025, VarAdd]
Type = VarAdd
Trigger1 = Time = 5
V = 3
Value = 30


[State 30025, VarAdd]
Type = VarAdd
Trigger1 = Time > 5
V = 3
Value = 20



[State 30025, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 255


[State 30025, VarAdd]
Type = VarAdd
Trigger1 = Time > 0
Trigger1 = Var(1) > 0
V = 1
Value = -36


[State 30025, VarSet]
Type = VarSet
Trigger1 = Var(1) < 0
V = 1
Value = 0



[State 30025, Trans]
Type = Trans
Trigger1 = 1
Trans = Add


[State 30025, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(1), Var(1), Var(1)


[State 30025, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = 0.5*Var(2)/242, 0.5*Var(3)/242



[State 30025, DestroySelf]
Type = DestroySelf
Trigger1 = Var(1) = 0


;------------------------------
;霊撃（未使用ステート）

[StateDef 30100]
Type = A
MoveType = I
Physics = N
Anim = 40000
SprPriority = 100


[State 30100, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow


[State 30100, VarSet]
Type = VarSet
Trigger1 = Time = 0
FV = 1
Value = 25


[State 30100, VarSet]
Type = VarSet
Trigger1 = Time > 0
FV = 1
Value = 0.83*FVar(1)


[State 30100, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 50


[State 30100, VarAdd]
Type = VarAdd
Trigger1 = Time > 0
V = 2
Value = Floor(FVar(1))



[State 30100, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 255


[State 30100, VarAdd]
Type = VarAdd
Trigger1 = Time > 9
Trigger1 = Var(1) > 0
V = 1
Value = -25


[State 30100, VarSet]
Type = VarSet
Trigger1 = Var(1) < 0
V = 1
Value = 0



[State 30100, Trans]
Type = Trans
Trigger1 = 1
Trans = Add


[State 30100, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(1), Var(1), Var(1)


[State 30100, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = 1.2*Var(2)/122, 0.5*Var(2)/122



[State 30100, DestroySelf]
Type = DestroySelf
Trigger1 = Var(1) = 0


;--------------------------------------------------------------------------
;霊撃（未使用ステート）

[StateDef 30110]
Type = A
MoveType = I
Physics = N
Anim = 40110
SprPriority = 100


[State 30110, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow


[State 30110, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 3
Value = 100


[State 30110, VarAdd]
Type = VarAdd
Trigger1 = Time = [2, 6]
V = 3
Value = -10


[State 30110, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 460


[State 30110, VarAdd]
Type = VarAdd
Trigger1 = Time > 0
V = 2
Value = Var(3)



[State 30110, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 255


[State 30110, VarAdd]
Type = VarAdd
Trigger1 = Time > 3
Trigger1 = Var(1) > 0
V = 1
Value = -40


[State 30110, VarSet]
Type = VarSet
Trigger1 = Var(1) < 0
V = 1
Value = 0



[State 30110, Trans]
Type = Trans
Trigger1 = 1
Trans = Add


[State 30110, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(1), Var(1), Var(1)


[State 30110, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = 0.5*Var(2)/240, 0.5*Var(2)/240



[State 30110, DestroySelf]
Type = DestroySelf
Trigger1 = Var(1) = 0


;---------------------------------------
;■■■■■■■■■■■■■■■■■■■■■■■■■
;	[ヘルパー]カットインＡ（メルブラ仕様）
;--------------------------------------------------
;各Varについて（St6920独自）
;  Var(1)	明度
; FVar(1)	拡大率
;
;------------------------------
[StateDef 6920]
Type    = S
Movetype= I
Physics = N
Anim = 6920
SprPriority = 7

;--------------------透過設定
[State 6920, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State 6920, Trans]
Type = Trans
Trigger1 = 1
Trans = Add

;--------------------速度設定
[State 6920, VelSet]
Type = VelSet
Trigger1 = Time = 0
X = 13.0

[State 6920, VelSet]
Type = VelSet
Trigger1 = Time = 16
X = 1.5

[State 6920, VelSet]
Type = Null;VelSet
Trigger1 = Time = 40
X = 3.0

;--------------------明度設定
[State 6920, VarSet];初期化
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 256

[State 6920, VarAdd];減少
Type = VarAdd
Trigger1 = Time >= 33
V = 1
Value = -16

[State 6920, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(1), Var(1), Var(1)

;--------------------サブ設定
[State 6920, Explod]
Type = Explod
Trigger1 = Time = 0
Anim = 40002
ID = 6921
Pos = 0, 0
PosType = P1
SprPriority = -4
BindTime = -1
OwnPal = 0
RemoveTime = -1
SuperMove = 1
PauseMoveTime = 99999999
SuperMoveTime = 99999999



;--------------------拡大率設定
[State 6920, VarSet];初期化
Type = VarSet
Trigger1 = Time = 0
FV = 1
Value = 0.55

[State 6920, VarAdd];増加
Type = VarAdd
Trigger1 = Time >= 40
FV = 1
Value = 0.015

[State 6920, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = FVar(1), FVar(1)

[State 6920, ModifyExplod]
type = ModifyExplod
Trigger1 = NumExplod(6921) = 1
ID = 6921
Scale = FVar(1), FVar(1)

;--------------------消滅条件
[State 6920, RemoveExplod];枠消去
Type = RemoveExplod
Trigger1 = Var(1) < 13
ID = 6921

[State 6920, DestroySelf]
Type = DestroySelf
Trigger1 = Var(1) < 13

;----------------------------------------------------------------
;----------------------------------------------------------------------
;---------------------------------------
;■■■■■■■■■■■■■■■■■■■■■■■■■
;	[ヘルパー]カットインＡ（メルブラ仕様）
;--------------------------------------------------
;各Varについて（St6920独自）
;  Var(1)	明度
; FVar(1)	拡大率
;
;------------------------------
[StateDef 6930]
Type    = S
Movetype= I
Physics = N
Anim = 40001
SprPriority = -3


;--------------------透過設定
[State 6920, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State 6920, Trans]
Type = Trans
Trigger1 = 1
Trans = Add

;--------------------速度設定
[State 6920, VelSet]
Type = VelSet
Trigger1 = Time = 0
Y = -3.0

[State 6920, VelSet]
Type = VelSet
Trigger1 = Time = 16
Y = -1.0

[State 6920, VelSet]
Type = Null;VelSet
Trigger1 = Time = 40
Y = -3.0

;--------------------明度設定
[State 6920, VarSet];初期化
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 256

[State 6920, VarAdd];減少
Type = VarAdd
Trigger1 = Time >= 48
V = 1
Value = -16

[State 6920, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(1), Var(1), Var(1)

;--------------------サブ設定
[State 6920, Explod]
Type = Explod
Trigger1 = Time = 0
Anim = 40001
ID = 6921
Pos = 0, 0
PosType = P1
SprPriority = -4
BindTime = -1
OwnPal = 0
RemoveTime = -1
SuperMove = 1
PauseMoveTime = 99999999
SuperMoveTime = 99999999

;--------------------拡大率設定
[State 6920, VarSet];初期化
Type = VarSet
Trigger1 = Time = 0
FV = 2
Value = 0.70

[State 6920, VarAdd];増加
Type = VarAdd
Trigger1 = Time >= 40
FV = 2
Value = 0.015

[State 6920, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = FVar(2),FVar(2)

[State 6920, ModifyExplod]
type = ModifyExplod
Trigger1 = NumExplod(6921) = 1
ID = 6921
Scale = FVar(2), FVar(2)

;--------------------消滅条件
[State 6920, RemoveExplod];枠消去
Type = RemoveExplod
Trigger1 = Var(1) < 13
ID = 6921

[State 6920, DestroySelf]
Type = DestroySelf
Trigger1 = Var(1) < 13

;---------------------------------------
;■■■■■■■■■■■■■■■■■■■■■■■■■
;	[ヘルパー]カットインＡ（メルブラ仕様）
;--------------------------------------------------
;各Varについて（St6922独自）
;  Var(1)	明度
; FVar(1)	拡大率
;
;------------------------------
[StateDef 6922]
Type    = S
Movetype= I
Physics = N
Anim = 6922
SprPriority = -2

[State 6922, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = 1.5,1.5

;--------------------透過設定
[State 6922, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State 6920, Trans]
Type = Trans
Trigger1 = time >= 16
Trans = Add


;--------------------速度設定
[State 6922, VelSet]
Type = VelSet
Trigger1 = Time = 0
X = 0.5

[State 6922, VelSet]
Type = VelSet
Trigger1 = Time = 16
X = 1.0

[State 6922, VelSet]
Type = Null;VelSet
Trigger1 = Time = 40
X = 3.0

;--------------------明度設定
[State 6922, VarSet];初期化
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 256

[State 6922, VarAdd];減少
Type = VarAdd
Trigger1 = Time >= 33
V = 1
Value = -16

[State 6922, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(1), Var(1), Var(1)

;--------------------サブ設定
[State 6922, Explod]
Type = Explod
Trigger1 = Time = 0
Anim = 40002
ID = 6922
Pos = 0, 0
PosType = P1
SprPriority = -4
BindTime = -1
OwnPal = 0
RemoveTime = -1
SuperMove = 1
PauseMoveTime = 99999999
SuperMoveTime = 99999999



;--------------------拡大率設定
[State 6922, VarSet];初期化
Type = VarSet
Trigger1 = Time = 0
FV = 1
Value = 0.55

[State 6921, VarAdd];増加
Type = VarAdd
Trigger1 = Time >= 40
FV = 1
Value = 0.015

[State 6922, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = FVar(1), FVar(1)

[State 6922, ModifyExplod]
type = ModifyExplod
Trigger1 = NumExplod(6921) = 1
ID = 6923
Scale = FVar(1), FVar(1)

;--------------------消滅条件
[State 6922, RemoveExplod];枠消去
Type = RemoveExplod
Trigger1 = Var(1) < 13
ID = 6923

[State 6922, DestroySelf]
Type = DestroySelf
Trigger1 = Var(1) < 13

;----------------------------------------------------------------
;----------------------------------------------------------------------
;---------------------------------------
;■■■■■■■■■■■■■■■■■■■■■■■■■
;	[ヘルパー]カットインＡ（メルブラ仕様）
;--------------------------------------------------
;各Varについて（St6921独自）
;  Var(1)	明度
; FVar(1)	拡大率
;
;------------------------------
[StateDef 6940]
Type    = S
Movetype= I
Physics = N
Anim = 40001
SprPriority = -3


;--------------------透過設定
[State 6920, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State 6920, Trans]
Type = Trans
Trigger1 = 1
Trans = Add

;--------------------速度設定
[State 6920, VelSet]
Type = VelSet
Trigger1 = Time = 0
Y = -3.0

[State 6920, VelSet]
Type = VelSet
Trigger1 = Time = 16
Y = -1.0

[State 6920, VelSet]
Type = Null;VelSet
Trigger1 = Time = 40
Y = -3.0

;--------------------明度設定
[State 6920, VarSet];初期化
Type = VarSet
Trigger1 = Time = 0
V = 1
Value = 256

[State 6920, VarAdd];減少
Type = VarAdd
Trigger1 = Time >= 48
V = 1
Value = -16

[State 6920, PalFX]
Type = PalFX
Trigger1 = 1
Time = 1
Add = 0, 0, 0
Mul = Var(1), Var(1), Var(1)

;--------------------サブ設定
[State 6920, Explod]
Type = Explod
Trigger1 = Time = 0
Anim = 40001
ID = 6921
Pos = 0, 0
PosType = P1
SprPriority = -4
BindTime = -1
OwnPal = 0
RemoveTime = -1
SuperMove = 1
PauseMoveTime = 99999999
SuperMoveTime = 99999999

;--------------------拡大率設定
[State 6920, VarSet];初期化
Type = VarSet
Trigger1 = Time = 0
FV = 2
Value = 0.70

[State 6920, VarAdd];増加
Type = VarAdd
Trigger1 = Time >= 40
FV = 2
Value = 0.015

[State 6920, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = 0
Scale = FVar(2),FVar(2)

[State 6920, ModifyExplod]
type = ModifyExplod
Trigger1 = NumExplod(6921) = 1
ID = 6921
Scale = FVar(2), FVar(2)

;--------------------消滅条件
[State 6920, RemoveExplod];枠消去
Type = RemoveExplod
Trigger1 = Var(1) < 13
ID = 6921

[State 6920, DestroySelf]
Type = DestroySelf
Trigger1 = Var(1) < 13



;常時チェックステート
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
[Statedef -2]

;オルモックな補正
[State -2]
type = nothitby
triggerall = Var(15) = 1
triggerall = Movetype != H
trigger1 = vel x >= 1
trigger2 = vel x <= -1
value = sca
time = 1

;支援要請
[State -2]
type = helper
triggerall = Var(15) = 1
triggerall = Var(44) = 1
triggerall = life <= 0.333*const(data.life)
triggerall = life >= 0.001*const(data.life)
triggerall = NumHelper(20000)!
triggerall = Movetype = H
trigger1 = time = 30
helpertype = normal
ownpal = 1
name = "amatu"
postype = p2
pos = -40,-100
pausemovetime = 0
supermovetime = 0
stateno = 20007
ID = 20000
ignorehitpause = 1

;パワーゲージ上昇値
[State -2]
type = PowerAdd
triggerall = Var(13) = 1
trigger1 = Gametime%3 = 0
value = 5
;ignorehitpause = 1



;フルエンハンススイッチON
[State -2, VarSet]
type = VarSet
triggerall = var(11) = 1
trigger1 = 1
v = 13    
value = 1
;ignorehitpause =
;persistent =

[State -2, VarSet]
type = VarSet
triggerall = var(11) = 1
trigger1 = 1
v = 14    
value = 1
;ignorehitpause =
;persistent =



;トレーニング用RFゲージ
[State -2]
type = VarAdd
triggerall = Power = Const(data.power)
triggerall = Var(6) < 999
triggerall = MatchNo = 1 && RoundNo = 1
triggerall = NumPartner = 0 && NumEnemy = 1
trigger1 = RoundState = [1,2]
trigger1 = stateno != 71
trigger1 = stateno != 72
trigger1 = stateno != 73
var(6) = 1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999

[State -2]
type = VarSet
triggerall = RoundState = 2
trigger1   = Power < Const(data.power)
trigger1 = palno != 12
var(6) = 0
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999

[State -2]
type = PowerSet
triggerall = RoundState = 2
trigger1 = Power = Const(data.power)
trigger1 = palno != 12
value = Const(data.power)-1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999

[State -2]
type = VarSet
triggerall = RoundState = 2
triggerall = P2Stateno = 0
trigger1   = Power < Const(data.power)
trigger1 = Var(6) > 1
var(7) = 400
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999

[State -2]
type = VarSet
triggerall = RoundState = 2
triggerall = P2Stateno = 0
trigger1   = Power < Const(data.power)
trigger1 = Var(6) > 1
var(20) = 400
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999

[State -2]
type = VarSet
trigger1 = Var(7) < 1
var(7) = 0
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999


[State -2]
type = VarSet
trigger1 = Var(20) < 1
var(20) = 0
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999



;RFゲージ処理青ゲージ用
[State -2]
type = VarAdd
triggerall = Var(11) = 0
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
triggerall = Movetype != H
triggerall = Win = 0
triggerall = Lose = 0
triggerall = stateno != 4250
trigger1 = Gametime%3 = 0
v = 7
value = 1
supermove = 1
ignorehitpause = 1

;RFゲージ処理青ゲージ用
[State -2]
type = VarAdd
triggerall = Var(11) = 1
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
triggerall = Movetype != H
triggerall = Win = 0
triggerall = Lose = 0
triggerall = stateno != 4250
trigger1 = Gametime%2 = 0
v = 7
value = 1
supermove = 1
ignorehitpause = 1




;赤ゲージ用
[State -2]
type = VarAdd
triggerall = Var(11) = 0
triggerall = Var(8) = 0
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
triggerall = Movetype != H
triggerall = Win = 0
triggerall = Lose = 0
trigger1 = Gametime%5 = 0
v = 7
value = 1
supermove = 1
ignorehitpause = 1
Persistent = 1

;赤ゲージ用
[State -2]
type = VarAdd
triggerall = Var(11) = 1
triggerall = Var(8) = 0
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
triggerall = Movetype != H
triggerall = Win = 0
triggerall = Lose = 0
trigger1 = Gametime%3 = 0
v = 7
value = 1
supermove = 1
ignorehitpause = 1
Persistent = 1


;青ゲージ_ガード時
[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
triggerall = Gametime%2 = 0
trigger1 = stateno = 150 || stateno = 152 || stateno = 154
trigger2 = stateno = [160,162]
v = 7
value = 1
supermove = 1
ignorehitpause = 1

;赤ゲージ_ガード時
[State -2]
type = VarAdd
triggerall = Var(8) = 0
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
triggerall = Gametime%3 = 0
trigger1 = stateno = 150 || stateno = 152 || stateno = 154
trigger2 = stateno = [160,162]
v = 7
value = 1
supermove = 1
ignorehitpause = 1



[State -2]
type = VarAdd
triggerall = Var(11) = 0
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 399
triggerall = Stateno != [120,155]
triggerall = Stateno != [160,162]
;triggerall = Stateno != [5080,5099]
;triggerall = Stateno != [5100,5120]
trigger1 = movetype = H
v = 7
value = 0
supermove = 1
ignorehitpause = 1

[State -2]
type = VarAdd
triggerall = Var(11) = 1
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 399
triggerall = Stateno != [120,155]
triggerall = Stateno != [160,162]
;triggerall = Stateno != [5080,5099]
;triggerall = Stateno != [5100,5120]
trigger1 = movetype = H
trigger1 = Gametime%3 = 0
v = 7
value = 1
supermove = 1
ignorehitpause = 1
Persistent = 1



[State -2]
type = VarAdd
triggerall = Var(11) = 0
triggerall = Var(8) = 1
triggerall = Var(7) >= 0
triggerall = Var(7) <= 400
triggerall = Stateno != [120,155]
triggerall = Stateno != [160,162]
triggerall = Stateno != [5080,5099]
triggerall = Stateno != [5100,5120]
triggerall = StateType != L
trigger1 = movetype = H
trigger1 = Gametime%3 = 0
v = 7
value = -1
supermove = 1
ignorehitpause = 1




[State -2]
type = VarAdd
triggerall = Var(11) = 1
triggerall = Var(8) = 1
triggerall = Var(7) >= 0
triggerall = Var(7) <= 400
triggerall = Stateno = [120,155]
triggerall = Stateno = [160,162]
triggerall = Stateno = [5080,5099]
triggerall = Stateno = [5100,5120]
triggerall = StateType = L
trigger1 = movetype = H
trigger1 = Gametime%3 = 0
v = 7
value = 0
supermove = 1
ignorehitpause = 1



[State -2]
type = VarSet
trigger1 = Var(7) = 0
v = 8
value = 0
supermove = 1
pausemove = 1
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = Var(7) = 400
v = 8
value = 1
supermove = 1
pausemove = 1
ignorehitpause = 1



[State -2]
type = VarSet
trigger1 = Var(8) = 0
trigger1 = Var(7) >= 101
v = 9
value = 0
supermove = 1
pausemove = 1
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = Var(8) = 1
trigger1 = Var(7) <= 100
v = 9
value = 1
supermove = 1
pausemove = 1
ignorehitpause = 1


;RFゲージP1側
[State -2]
type = Explod
triggerall = Numexplod(7500) = 0
triggerall = Teamside = 1
trigger1 = 1
anim = 7500
id = 7500
postype = left
pos = 17, 55
supermove = 1
bindtime = -1
ignorehitpause = 1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
;ontop = 1
ownpal = 1

[State -2]
type = Explod
triggerall = Numexplod(7502) = 0
triggerall = Teamside = 1
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
trigger1 = 1
anim = 7502
id   = 7502
postype = left
pos = 17, 55
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
scale = var(7)/199.0,1
sprpriority = 6
;ontop = 1

[State -2]
type = ModifyExplod
triggerall = Teamside = 1
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
trigger1 = 1
ID = 7502
scale = var(7)/199.0,1
ignorehitpause = 1

[State -2]
type = Explod
triggerall = Numexplod(7504) = 0
triggerall = Teamside = 1
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
trigger1 = 1
anim = 7504
id   = 7504
postype = left
pos = 17, 55
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
;scale = (Var(7)-200)/199.0
sprpriority = 6
;ontop = 1

[State -2]
type = ModifyExplod
triggerall = Teamside = 1
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
trigger1 = 1
ID = 7504
scale = (Var(7)-200)/199.0
ignorehitpause = 1

[State -2]
type = Explod
triggerall = Numexplod(7506) = 0
triggerall = Var(8) = 1
triggerall = Teamside = 1
trigger1 = 1
anim = 7506
id   = 7506
postype = left
pos = 17, 55
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
;scale = var(7)/400.0,1
sprpriority = 6
;ontop = 1

[State -2]
type = ModifyExplod
triggerall = Var(8) = 1
triggerall = Teamside = 1
trigger1 = 1
ID = 7506
scale = var(7)/400.0,1
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = var(8) = 1
trigger2 = var(7) >= 200
trigger2 = var(7) <= 399
id = 7502
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7502
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = var(8) = 1
trigger2 = var(7) >= 0
trigger2 = var(7) <= 199
id = 7504
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7504
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = var(8) = 0
id = 7506
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7506
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7500
ignorehitpause = 1

;RFゲージP2側
[State -2]
type = Explod
triggerall = Numexplod(7501) = 0
triggerall = Teamside = 2
trigger1 = 1
anim = 7501
id = 7501
postype = right
pos = -18, 55
supermove = 1
ignorehitpause = 1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
bindtime = -1
ownpal = 1
;ontop = 1
sprpriority = 3
Facing = -1

[State -2]
type = Explod
triggerall = Numexplod(7503) = 0
triggerall = Teamside = 2
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
trigger1 = 1
anim = 7503
id   = 7503
postype = right
pos = -18, 55
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
;ontop = 1
sprpriority = 6
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
;scale = var(7)/199.0,1
Facing = -1

[State -2]
type = ModifyExplod
triggerall = Teamside = 2
triggerall = Var(8) = 0
triggerall = Var(7) >= 0
triggerall = Var(7) <= 199
trigger1 = 1
ID = 7503
scale = var(7)/199.0,1
ignorehitpause = 1

[State -2]
type = Explod
triggerall = Numexplod(7505) = 0
triggerall = Teamside = 2
triggerall = Var(8) = 0
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
trigger1 = 1
anim = 7505
id   = 7505
postype = right
pos = -18, 55
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
;ontop = 1
sprpriority = 6
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
;scale = (Var(7)-200)/200.0
Facing = -1

[State -2]
type = ModifyExplod
triggerall = Teamside = 2
triggerall = Var(8) = 0
triggerall = Var(7) >= 200
triggerall = Var(7) <= 399
trigger1 = 1
ID = 7505
scale = (Var(7)-200)/199.0
ignorehitpause = 1

[State -2]
type = Explod
triggerall = Numexplod(7507) = 0
triggerall = var(8) = 1
triggerall = Teamside = 2
trigger1 = 1
anim = 7507
id   = 7507
postype = right
pos = -18, 55
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
;ontop = 1
sprpriority = 6
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
;scale = var(7)/400.0,1
Facing = -1

[State -2]
type = ModifyExplod
triggerall = var(8) = 1
triggerall = Teamside = 2
trigger1 = 1
ID = 7507
scale = var(7)/400.0,1
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = var(8) = 1
trigger2 = var(7) >= 0
trigger2 = var(7) <= 199
id = 7505
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7505
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = var(8) = 1
trigger2 = var(7) >= 200
trigger2 = var(7) <= 399
id = 7503
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7503
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = var(8) = 0
id = 7507
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7507
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7501
ignorehitpause = 1

;---------------------------------------------------------------------------


;AMゲージ処理青ゲージ用
[State -2]
type = VarAdd
triggerall = Var(11) = 0
triggerall = Var(26) = 0
triggerall = Var(20) >= 0
triggerall = Var(20) <= 199
triggerall = Movetype != H
triggerall = Win = 0
triggerall = Lose = 0
triggerall = stateno != 4250
trigger1 = Gametime%2 = 0
v = 20
value = 1
supermove = 1
ignorehitpause = 1

;AMゲージ処理青ゲージ用
[State -2]
type = VarAdd
triggerall = Var(11) = 1
triggerall = Var(26) = 0
triggerall = Var(20) >= 0
triggerall = Var(20) <= 199
triggerall = Movetype != H
triggerall = Win = 0
triggerall = Lose = 0
triggerall = stateno != 4250
trigger1 = Gametime%1 = 0
v = 20
value = 1
supermove = 1
ignorehitpause = 1




;赤ゲージ用
[State -2]
type = VarAdd
triggerall = Var(11) = 0
triggerall = Var(26) = 0
triggerall = Var(20) >= 200
triggerall = Var(20) <= 399
triggerall = Movetype != H
triggerall = Win = 0
triggerall = Lose = 0
trigger1 = Gametime%4 = 0
v = 20
value = 1
supermove = 1
ignorehitpause = 1
Persistent = 1

;赤ゲージ用
[State -2]
type = VarAdd
triggerall = Var(11) = 1
triggerall = Var(26) = 0
triggerall = Var(20) >= 200
triggerall = Var(20) <= 399
triggerall = Movetype != H
triggerall = Win = 0
triggerall = Lose = 0
trigger1 = Gametime%2 = 0
v = 20
value = 1
supermove = 1
ignorehitpause = 1
Persistent = 1




[State -2]
type = VarSet
trigger1 = Var(20) = 0
v = 26
value = 0
supermove = 1
pausemove = 1
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = Var(20) = 400
v = 26
value = 1
supermove = 1
pausemove = 1
ignorehitpause = 1



[State -2]
type = VarSet
trigger1 = Var(26) = 0
trigger1 = Var(20) >= 101
v = 27
value = 0
supermove = 1
pausemove = 1
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = Var(26) = 1
trigger1 = Var(20) <= 100
v = 27
value = 1
supermove = 1
pausemove = 1
ignorehitpause = 1


;青ゲージ_ガード時
[State -2]
type = VarAdd
triggerall = Var(26) = 0
triggerall = Var(20) >= 0
triggerall = Var(20) <= 199
triggerall = Gametime%2 = 0
trigger1 = stateno = 150 || stateno = 152 || stateno = 154
trigger2 = stateno = [160,162]
v = 20
value = 1
supermove = 1
ignorehitpause = 1

;赤ゲージ_ガード時
[State -2]
type = VarAdd
triggerall = Var(26) = 0
triggerall = Var(20) >= 200
triggerall = Var(20) <= 399
triggerall = Gametime%3 = 0
trigger1 = stateno = 150 || stateno = 152 || stateno = 154
trigger2 = stateno = [160,162]
v = 20
value = 1
supermove = 1
ignorehitpause = 1

;AMゲージP1側
[State -2]
type = Explod
triggerall = Numexplod(7510) = 0
triggerall = Teamside = 1
trigger1 = 1
anim = 7510
id = 7510
postype = left
pos = 29, 223
supermove = 1
bindtime = -1
ignorehitpause = 1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
;ontop = 1
ownpal = 1

[State -2]
type = Explod
triggerall = Numexplod(7512) = 0
triggerall = Teamside = 1
triggerall = Var(20) >= 0
triggerall = Var(20) <= 199
trigger1 = 1
anim = 7512
id   = 7512
postype = left
pos = 29, 223
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
scale = var(20)/199.0,1
sprpriority = 6
;ontop = 1

[State -2]
type = ModifyExplod
triggerall = Teamside = 1
triggerall = Var(20) >= 0
triggerall = Var(20) <= 199
trigger1 = 1
ID = 7512
scale = var(20)/199.0,1
ignorehitpause = 1

[State -2]
type = Explod
triggerall = Numexplod(7514) = 0
triggerall = Teamside = 1
triggerall = Var(20) >= 200
triggerall = Var(20) <= 399
trigger1 = 1
anim = 7514
id   = 7514
postype = left
pos = 29, 223
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
;scale = (Var(20)-200)/199.0
sprpriority = 6
;ontop = 1

[State -2]
type = ModifyExplod
triggerall = Teamside = 1
triggerall = Var(20) >= 200
triggerall = Var(20) <= 399
trigger1 = 1
ID = 7514
scale = (Var(20)-200)/199.0
ignorehitpause = 1

[State -2]
type = Explod
triggerall = Numexplod(7516) = 0
triggerall = Var(26) = 1
triggerall = Teamside = 1
trigger1 = 1
anim = 7516
id   = 7516
postype = left
pos = 29, 223
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
;scale = var(20)/400.0,1
sprpriority = 6
;ontop = 1

[State -2]
type = ModifyExplod
triggerall = Var(26) = 1
triggerall = Teamside = 1
trigger1 = 1
ID = 7516
scale = var(20)/400.0,1
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = var(26) = 1
trigger2 = var(20) >= 200
trigger2 = var(20) <= 399
id = 7512
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7512
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = var(26) = 1
trigger2 = var(20) >= 0
trigger2 = var(20) <= 199
id = 7514
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7514
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = var(26) = 0
id = 7516
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7516
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7510
ignorehitpause = 1

;RFゲージP2側
[State -2]
type = Explod
triggerall = Numexplod(7511) = 0
triggerall = Teamside = 2
trigger1 = 1
anim = 7511
id = 7511
postype = right
pos = -29, 223
supermove = 1
ignorehitpause = 1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
bindtime = -1
ownpal = 1
;ontop = 1
sprpriority = 3
Facing = -1

[State -2]
type = Explod
triggerall = Numexplod(7513) = 0
triggerall = Teamside = 2
triggerall = Var(26) = 0
triggerall = Var(20) >= 0
triggerall = Var(20) <= 199
trigger1 = 1
anim = 7513
id   = 7513
postype = right
pos = -29, 223
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
;ontop = 1
sprpriority = 6
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
;scale = var(20)/199.0,1
Facing = -1

[State -2]
type = ModifyExplod
triggerall = Teamside = 2
triggerall = Var(26) = 0
triggerall = Var(20) >= 0
triggerall = Var(20) <= 199
trigger1 = 1
ID = 7513
scale = var(20)/199.0,1
ignorehitpause = 1

[State -2]
type = Explod
triggerall = Numexplod(7515) = 0
triggerall = Teamside = 2
triggerall = Var(26) = 0
triggerall = Var(20) >= 200
triggerall = Var(20) <= 399
trigger1 = 1
anim = 7515
id   = 7515
postype = right
pos = -29, 223
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
;ontop = 1
sprpriority = 6
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
;scale = (Var(20)-200)/200.0
Facing = -1

[State -2]
type = ModifyExplod
triggerall = Teamside = 2
triggerall = Var(26) = 0
triggerall = Var(20) >= 200
triggerall = Var(20) <= 399
trigger1 = 1
ID = 7515
scale = (Var(20)-200)/199.0
ignorehitpause = 1

[State -2]
type = Explod
triggerall = Numexplod(7517) = 0
triggerall = var(26) = 1
triggerall = Teamside = 2
trigger1 = 1
anim = 7517
id   = 7517
postype = right
pos = -29, 223
supermove = 1
bindtime = -1
removetime = -1
ownpal = 1
;ontop = 1
sprpriority = 6
ignorehitpause = 1
pausemovetime = 99999999999999
supermovetime = 99999999999999
;scale = var(20)/400.0,1
Facing = -1

[State -2]
type = ModifyExplod
triggerall = var(26) = 1
triggerall = Teamside = 2
trigger1 = 1
ID = 7517
scale = var(20)/400.0,1
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = var(26) = 1
trigger2 = var(20) >= 0
trigger2 = var(20) <= 199
id = 7515
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7515
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = var(26) = 1
trigger2 = var(20) >= 200
trigger2 = var(20) <= 399
id = 7513
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7513
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = var(26) = 0
id = 7517
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7517
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = RoundState >= 4
trigger2 = var(37) = 1
id = 7511
ignorehitpause = 1

;---------------------------------------------------------------------------
;リコイルガード
[State -2]
type = Varset
triggerall = Var(3) = 0
triggerall = command != "BB"
triggerall = movetype != A
triggerall = ctrl = 1
trigger1 = command = "R_Guard"
trigger2 = var(59)
trigger2 = inguarddist&&random<p2bodydist X+5
trigger3 = var(59)
trigger3 = var(57)=1&&random<=500||var(57)=2
trigger3 = random<(40+75*(life<333)+(40*var(57)*(power>=2000)))&&p2bodydist X<20+130*(life<333)||p2bodydist X >=90&&random<200||!inguarddist
v = 3
value = 10
ignorehitpause = 1
persistent = 0

;リコイルガード
[State -2]
type = Varset
triggerall = Var(3) = 0
triggerall = command != "BB"
triggerall = movetype != A
triggerall = ctrl = 1
trigger1 = command = "C_R_Guard"
trigger2 = var(59)
trigger2 = inguarddist&&random<p2bodydist X +5
trigger3 = var(59)
trigger3 = var(57)=1&&random<=500||var(57)=2
trigger3 = random<35+155*(life<333)&&p2bodydist X<20+130*(life<333)||p2bodydist X >=90&&random<200||!inguarddist
v = 3
value = 10
ignorehitpause = 1
persistent = 0

;リコイルガード
[State -2]
type = Varadd
triggerall = Var(3) != 0
triggerall = Var(3) >= 0
trigger1 = timemod = 1,0
v = 3
value = -1
ignorehitpause = 1
persistent = 0

;リコイルガード
[State -2]
type = Varset
triggerall = Var(3) != 0
trigger1 = stateno = 0
trigger2 = stateno = 160 || stateno = 161 || stateno = 162
trigger2 = stateno = 160
trigger2 = AnimTime = 0
trigger3 = Movetype = A
v = 3
value = 0
ignorehitpause = 1
persistent = 0

[State -2]
type = Varadd
trigger1 = var(17) > 0
v = 17
value = -1

[State -2]
type = Varset
trigger1 = var(17) > 0
trigger1 = stateno = [150,152]
v = 17
value = 0

;リコイルガード
[State -2]
type = HitOverride
triggerall = Statetype != A
triggerall = Movetype != A && Movetype != H
triggerall = Ctrl = 1
triggerall = Var(3) != 0
triggerall = var(17) = 0
triggerall = StateType = S
triggerall = StateType != C
triggerall = prevstateno != [165,167]
trigger1 = Enemynear,HitDefAttr = S, NA, SA, HA, NP, SP, HP || Enemynear,HitDefAttr = A, NA, SA, HA, NP, SP, HP
trigger2 = Enemy,NumProj > 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 160
time = 4

;リコイルガード
[State -2]
type =  HitOverride
triggerall = Statetype != A
triggerall = Movetype != A && Movetype != H
triggerall = Ctrl = 1
triggerall = Var(3) != 0
triggerall = var(17) = 0
triggerall = StateType != S
triggerall = StateType = C
triggerall = prevstateno != [165,167]
trigger1 = Enemynear,HitDefAttr = S, NA, SA, HA, NP, SP, HP || Enemynear,HitDefAttr = C, NA, SA, HA, NP, SP, HP
trigger2 = Enemy,NumProj > 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 161
time = 4

;リコイルガード
[State -2]
type =  HitOverride
triggerall = Statetype = A
triggerall = Movetype != A && Movetype != H
triggerall = Ctrl = 1
triggerall = Var(3) != 0
triggerall = var(17) = 0
triggerall = prevstateno != [165,167]
trigger1 = Enemynear,HitDefAttr = SA, NA, SA, HA, NP, SP, HP
trigger2 = Enemy,NumProj > 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 162
time = 4

;----------------------------------------------------------------------------
;未完成なキャラによって、不具合が起きても自己解決するシステム
[State -2, Y座標自己修復]
type = PosSet
triggerall = RoundState = 2
trigger1 = stateno = [0,12]      ;立ち＆屈み時
trigger1 = floor(Pos Y) = [-2,3] ;立ち位置が僅かにずれていたらすぐ修正
y = 0

[State -2, Y座標自動修正]
type = PosAdd
triggerall = RoundState = 2
triggerall = Life < 1000     ;トレーニングでCtrl+Iを使うときに配慮
trigger1 = stateno = [0,30]  ;歩きも含める
trigger1 = floor(Pos Y) < -2 ;立ち位置が大きくずれていたら移動する
y = 2

[State -2, Y座標自動修正]
type = PosAdd
triggerall = RoundState = 2
triggerall = Life < 1000
trigger1 = stateno = [0,30]
trigger1 = floor(Pos Y) > 2 ;同じく
y = -2

[State -2, Y座標強制修復]
type = ChangeState
triggerall = RoundState = 2
triggerall = ctrl = 0
triggerall = alive = 1
triggerall = !Lose
trigger1 = Pos Y < -1480 ;空高く飛ばされてしまっても体勢を立て直して落下する
trigger1 = GameTime % 10 = 0
trigger2 = Pos Y > 480   ;地中深くに埋められてしまっても這い上がってくる
trigger2 = GameTime % 10 = 0
value = 40

;---------------------------------------------------------------------------
; 壁ふっとび
[State -2]
type = PlaySnd
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
value = 800,2

[State -2]
type = PlaySnd
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
value = 800,2

[State -2]
type = Explod
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
anim = 7003
id = 7012
pos = -10,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = Explod
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
trigger2 = ProjHittime(1400) = 1
trigger3 = ProjHittime(3115) = 1
anim = 7012
id = 7012
vel = 10 + (var(4)), (var(5))
pos = 0,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = Explod
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
trigger2 = ProjHittime(1400) = 1
trigger3 = ProjHittime(3115) = 1
anim = 7013
id = 7012
vel = 1 + (var(5)), 1 + (var(4))
pos = 0,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = Explod
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
trigger2 = ProjHittime(1400) = 1
trigger3 = ProjHittime(3115) = 1
anim = 7012
id = 7012
vel = 0 - (var(4)), 10 + (var(5))
pos = 0,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = Explod
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
trigger2 = ProjHittime(1400) = 1
trigger3 = ProjHittime(3115) = 1
anim = 7013
id = 7012
vel = -1 - (var(5)), 1 + (var(4))
pos = 0,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = Explod
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
trigger2 = ProjHittime(1400) = 1
trigger3 = ProjHittime(3115) = 1
anim = 7012
id = 7012
vel = -10 + (var(4)), 0 - (var(5))
pos = 0,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = Explod
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
trigger2 = ProjHittime(1400) = 1
trigger3 = ProjHittime(3115) = 1
anim = 7013
id = 7012
vel = -1 + (var(5)), -1 - (var(4))
pos = 0,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = Explod
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
trigger2 = ProjHittime(1400) = 1
trigger3 = ProjHittime(3115) = 1
anim = 7012
id = 7012
vel = 0 - (var(4)), -10 - (var(5))
pos = 0,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
type = Explod
trigger1 = p2stateno = 5656
trigger1 = target,vel Y < -7.5
trigger2 = ProjHittime(1400) = 1
trigger3 = ProjHittime(3115) = 1
anim = 7013
id = 7012
vel = 1 - (var(5)), -1 - (var(4))
pos = 0,-40
postype = p2
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999


;---------------------------------------------------------------------------
;補正率リセット

[State -2]
type = Varset
triggerall = !ishelper
trigger1 = RoundState = 2
trigger1 = P2MoveType != H
trigger1 = fvar(1)<=1.0
trigger2 = RoundState < 2
trigger3 = roundstate = 2
trigger3 = p2movetype != H
trigger3 = var(7)>40
trigger3 = fvar(1)>1.0
fvar(1) = 1.0
IgnoreHitPause = 1





;攻撃力
[State -2]
type = varset
triggerall = Var(11) = 0
triggerall = !ishelper
trigger1 = 1
fvar(5) = 1+0.00025*var(7)
IgnoreHitPause = 1

;攻撃力
[State -2]
type = varset
triggerall = Var(11) = 1
triggerall = !ishelper
trigger1 = 1
fvar(5) = 1+0.00075*var(7)
IgnoreHitPause = 1



[State -2]
type = Varset
triggerall = !ishelper
triggerall = var(15) = 0
trigger1 = fvar(1) <= 1
fvar(3) = fvar(1)
IgnoreHitPause = 1

[State -2]
type = Varset
triggerall = !ishelper
triggerall = var(15) = 0
trigger1 = fvar(1) > 1
fvar(3) = 1.0
IgnoreHitPause = 1

;ダメージ補正
[State -2]
type = Varset
triggerall = !ishelper
trigger1 = 1
fvar(0) = fvar(2) * fvar(3) * fvar(5)
IgnoreHitPause = 1


;攻撃力
[State -2]
type = VarSet
triggerall = !ishelper
triggerall = var(15) = 1
trigger1 = Alive = 1
fv = 2
value = ceil(0.00001*ifelse(enemy,const(data.defence)>100,enemy,const(data.defence),100)*ifelse(enemy,const(data.life)>1000,enemy,const(data.life),1000))

;攻撃力
[State -2]
type = VarSet
triggerall = !ishelper
triggerall = var(15) = 1
triggerall = life <= 0.333*const(data.life)
trigger1 = Alive = 1
fv = 3
value = 1+(0.001*(1000-(life)))

;攻撃力
[State -2]
type = VarSet
triggerall = !ishelper
triggerall = var(15) = 1
triggerall = life >= 0.333*const(data.life)
trigger1 = Alive = 1
fv = 3
value = 1

;______________________________________________________
;
;逆根性値補正(紙に優しく、固いやつには厳しくなりました)
;______________________________________________________

;相手の現在の体力×防御力が1000*100より大きい場合、逆根性補正をいれない
[State -2]
type = Varset
triggerall = !ishelper
triggerall = palno != 5
trigger1 = var(12)= 1
trigger1 = enemynear(var(31)),ishelper=0
trigger1 = fvar(6) = 0 || enemynear(var(31)),movetype != H
trigger1 = enemynear(var(31)),life*enemynear(var(31)),const(data.defence) > 100000
fvar(2) = 1

;1000*100以下の場合逆根性値補正を入れる
[State -2]
type = Varset
triggerall = !ishelper
triggerall = palno != 5
trigger1 = var(12)= 1
trigger1 = enemynear(var(31)),ishelper=0
trigger1 = fvar(6) = 0 || enemynear(var(31)),movetype != H
trigger1 = enemynear(var(31)),life*enemynear(var(31)),const(data.defence)<= 100000
fvar(2) = 0.5 + 0.000005*enemynear(var(31)),Life*enemynear(var(31)),const(data.defence) ;0.5 + 0.5*((enemynear(var(31)),Life)*1000 /(enemynear(var(31)),LifeMax))/1000
IgnoreHitPause = 1

;無敵医師氏GG勢用逆根性補正
[State -2]
type = Varset
triggerall = !ishelper
triggerall = palno != 5
trigger1 = var(12) = 1
trigger1 = enemynear(var(31)),ishelper=0
trigger1 = enemynear(var(31)),movetype = H
trigger1 = fvar(6) > 0
trigger1 = fvar(6) >= 0.5 + 0.000005*enemynear(var(31)),Life*enemynear(var(31)),const(data.defence)
trigger1 = enemynear(var(31)),life*enemynear(var(31)),const(data.defence)*fvar(6)<= 100000
fvar(2) = (0.5 + 0.000005*enemynear(var(31)),Life*enemynear(var(31)),const(data.defence))/(fvar(6)+0.0000001)
IgnoreHitPause = 1

;逆根性補正
[State -2]
type = Varset
triggerall = !ishelper
triggerall = palno != 5
trigger1 = var(12) = 1
trigger1 = enemynear(var(31)),ishelper=0
trigger1 = enemynear(var(31)),movetype = H
trigger1 = fvar(6) > 0
trigger1 = fvar(6) < 0.5 + 0.000005*enemynear(var(31)),Life*enemynear(var(31)),const(data.defence)||enemynear(var(31)),life*enemynear(var(31)),const(data.defence)*fvar(6) > 100000
fvar(2) = 1
IgnoreHitPause = 1

;根性値持ち用逆根性補正
[State -2]
type = Varset
triggerall = !ishelper
triggerall = palno != 5 
trigger1 = var(12) = 1
trigger1 = enemynear(var(2)),ishelper=0
trigger1 = enemynear(var(2)),movetype = H
trigger1 = fvar(6) > 0
trigger1 = fvar(6) >= 0.5 + 0.000005*enemynear(var(2)),Life*enemynear(var(2)),const(data.defence)
trigger1 = enemynear(var(2)),life*enemynear(var(2)),const(data.defence)*fvar(6)<= 100000
fvar(2) = (0.5 + 0.000005*enemynear(var(2)),Life*enemynear(var(2)),const(data.defence))/(fvar(6)+0.0000001)
IgnoreHitPause = 1

[state -2]
type=varset
triggerall = !ishelper
triggerall = palno != 5
trigger1 = var(12)=0
fvar(2)=1.0
ignorehitpause=1

[state -2]
type=varset
triggerall = !ishelper
triggerall = palno = 5
trigger1 = 1
fvar(2)=1.0
ignorehitpause=1

;逆根性値対象外
[state -2]
type=varset
triggerall = !ishelper 
;hanma氏 長森、観鈴、UNK
trigger1 = enemy,authorname="hanma"
trigger1 = p2name="Mizuka Nagamori"||p2name="Misuzu"||p2name="UNKNOWN"
;漆黒氏 あゆ
trigger2 = enemy,authorname="shikkoku"&&p2name="Ayu Tukimiya"
;586氏 名雪、佐祐理、美凪、みさき、茜
trigger3 = enemy,authorname="586"
trigger3 = enemy,var(40)%10 = 1
trigger3 = p2name = "Nayuki Minase"||p2name="Sayuri Kurata"||p2name="Minagi Tohno"||p2name="Misaki Kawana"||p2name="Akane Satomura"
;佳乃、観鈴、神奈、あゆ、舞、UNK、
trigger4 = enemy,authorname="586"
trigger4 = enemy,var(40)%10 = 1
trigger4 = p2name = "Kano Kirishima"||p2name="Misuzu Kamio"||p2name="Kanna"||p2name="Ayu Tukimiya"||p2name="Mai Kawasumi"||p2name="UNKNOWN"||p2name="Makoto Sawatari"
;繭、美汐、（郁美、栞、香、澪）
trigger5 = enemy,authorname="586"
trigger5 = enemy,var(40)%10 = 1
trigger5 = p2name = "Mayu Shiina"||p2name="Mishio Amano"||p2name="Ikumi Amasawa"||p2name="Shiori Misaka"||p2name="Kaori Misaka"||p2name="Mio Kohzuki"
;BF氏 真琴、繭
trigger6 = enemy,authorname="BF"
trigger6 = p2name = "Makoto Sawatari"||p2name="Mayu Shiina"
;DABA氏 栞、澪
trigger7 = enemy,authorname = "DABA"
trigger7 = p2name = "Shiori"||p2name="Mio"
;ふるれ氏 あやや いくさん 寝雪
trigger8 = enemy,authorname = "frule"
trigger8 = p2name = "EFZaya"||p2name = "EFZiku" || p2name = "Neyuki"
;馬の骨 七瀬,秋子
trigger9 = enemy,authorname = "UMA"
trigger9 = p2name = "Rumi Nanase" || p2name = "Akiko Minase"
;Ina氏 長森
trigger10 = enemy,authorname = "Ina"
trigger10 = p2name = "Mizuka_Nagamori"
;しーぽん氏 鈴
trigger11 = enemy,authorname = "seapon"
trigger11 = p2name = "Rin"
;素熊 ましろ
trigger12 = enemy,authorname = "shirokuma"
trigger12 = p2name = "Mashiro Mito" || p2name = "Mashiro"
;素熊 アセリア
trigger13 = enemy,authorname = "shirokuma"
trigger13 = p2name = "aselia of eternal" || p2name = "aselia"
var(12) = 0
ignorehitpause=1
supermove=1
supermovetime=99999
pausemovetime=99999
;---------------------------
;逆根性値ここまで
;-------------------------------------------------------------------------

;根性値
[State -2]
type = DefenceMulSet
triggerall = var(11) = 0
trigger1 = Alive = 1
value = ifelse(life <= 1000, 0.0005*((life)+1000) , 1)

;根性値
[State -2]
type = DefenceMulSet
triggerall = var(15) = 0
triggerall = var(11) = 1
trigger1 = Alive = 1
value = ifelse(life <= 1000, 0.0005*((life)+700) , 1)

;根性値
[State -2]
type = DefenceMulSet
triggerall = var(15) = 1
trigger1 = Alive = 1
value = 1

; 着地音
[State -2]
type = PlaySnd
trigger1 = stateno = 52
trigger1 = Time = 1
value = 47,0

;振り向き
[State -2]
type = turn
triggerall = P2Dist X < 0
trigger1 = stateno = [40,47]
trigger2 = stateno = [10,12]
value = 1

;残像処理
[State -2]
type = AfterImageTime
trigger1 = stateno != [100,102]
trigger1 = stateno != [105,106]
trigger1 = stateno != [110,119]
trigger1 = stateno != 108
trigger1 = stateno != [1000,1001]
trigger1 = stateno != [1003,1004]
trigger1 = stateno != [1010,1011]
trigger1 = stateno != [1020,1021]
trigger1 = stateno != [1040,1041]
trigger1 = stateno != [1150,1151]
trigger1 = stateno != [1160,1161]
trigger1 = stateno != [1170,1171]
trigger1 = stateno != 4800
trigger1 = stateno != 4944
trigger1 = stateno != 4946
trigger1 = stateno != [4950,4999]
trigger1 = stateno != [20030,20049]
time = 0

;空中制御
[State -2]
type = Width
trigger1 = frontedgeDist < 20
value = 12,0

;空中ダッシュ制御
[State -2]
type = varset
trigger1 = statetype = S
trigger2 = statetype = L
v = 10
value = 0

;空中ジャンプ制御
[State -2]
type = varset
trigger1 = statetype = S
trigger2 = statetype = L
v = 1
value = 0

;空中ジャンプ制御
[State -2]
type = varset
trigger1 = stateno != 50
v = 2
value = 0

;エフェクト用１
[State -2]
type = varrandom
triggerall = Alive = 1
trigger1 = Timemod = 1,0
v = 4
range = -4,4

;エフェクト用２
[State -2]
type = varrandom
triggerall = Alive = 1
trigger1 = Timemod = 1,0
v = 5
range = -4,4

;位置エフェクト
[State -2]
type = Explod
trigger1 = Stateno != [3200,3299]
trigger1 = ScreenPos Y >= 320
anim = 7100
id = 7100
postype = p1
pos = 0,230-(ceil(ScreenPos Y))
sprpriority = -1
removetime = 1
bindtime = -1

;--------------------------------------------------------
;---------------------------
;各キャラ用逆根性値
;---------------------------
;無敵医師氏GG勢用逆根性値セット
;根性値0 ---> あばばばば , 鰤 , 子安 , 医者 , 栗 , てす
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "A.B.A"||enemynear(var(31)),name = "bridget"||enemynear(var(31)),name = "eddie"||enemynear(var(31)),name = "faust"||enemynear(var(31)),name = "kriff"||enemynear(var(31)),name = "TESTAMENT"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) >= 31
fvar(6) = 1
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "A.B.A"||enemynear(var(31)),name = "bridget"||enemynear(var(31)),name = "eddie"||enemynear(var(31)),name = "faust"||enemynear(var(31)),name = "kriff"||enemynear(var(31)),name = "TESTAMENT"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [21,30]
fvar(6) = 0.92
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "A.B.A"||enemynear(var(31)),name = "bridget"||enemynear(var(31)),name = "eddie"||enemynear(var(31)),name = "faust"||enemynear(var(31)),name = "kriff"||enemynear(var(31)),name = "TESTAMENT"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [16,20]
fvar(6) = 0.76
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "A.B.A"||enemynear(var(31)),name = "bridget"||enemynear(var(31)),name = "eddie"||enemynear(var(31)),name = "faust"||enemynear(var(31)),name = "kriff"||enemynear(var(31)),name = "TESTAMENT"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [11,15]
fvar(6) = 0.6
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "A.B.A"||enemynear(var(31)),name = "bridget"||enemynear(var(31)),name = "eddie"||enemynear(var(31)),name = "faust"||enemynear(var(31)),name = "kriff"||enemynear(var(31)),name = "TESTAMENT"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [6,10]
fvar(6) = 0.5
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "A.B.A"||enemynear(var(31)),name = "bridget"||enemynear(var(31)),name = "eddie"||enemynear(var(31)),name = "faust"||enemynear(var(31)),name = "kriff"||enemynear(var(31)),name = "TESTAMENT"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) <= 5
fvar(6) = 0.4
ignorehitpause = 1

;根性値1 ---> ロリロリ , ガチホモ , パパ , 師走 , 林檎
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "AXL" || enemynear(var(31)),name = "gg_venom" || enemynear(var(31)),name = "sol" || enemynear(var(31)),name = "dizzy" || enemynear(var(31)),name = "I-NO"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) >= 41
fvar(6) = 1
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "AXL" || enemynear(var(31)),name = "gg_venom" || enemynear(var(31)),name = "sol" || enemynear(var(31)),name = "dizzy" || enemynear(var(31)),name = "I-NO"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [31,40]
fvar(6) = 0.98
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "AXL" || enemynear(var(31)),name = "gg_venom" || enemynear(var(31)),name = "sol" || enemynear(var(31)),name = "dizzy" || enemynear(var(31)),name = "I-NO"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [21,30]
fvar(6) = 0.89
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "AXL" || enemynear(var(31)),name = "gg_venom" || enemynear(var(31)),name = "sol" || enemynear(var(31)),name = "dizzy" || enemynear(var(31)),name = "I-NO"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [16,20]
fvar(6) = 0.72
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "AXL" || enemynear(var(31)),name = "gg_venom" || enemynear(var(31)),name = "sol" || enemynear(var(31)),name = "dizzy" || enemynear(var(31)),name = "I-NO"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [11,15]
fvar(6) = 0.58
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "AXL" || enemynear(var(31)),name = "gg_venom" || enemynear(var(31)),name = "sol" || enemynear(var(31)),name = "dizzy" || enemynear(var(31)),name = "I-NO"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [6,10]
fvar(6) = 0.48
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "AXL" || enemynear(var(31)),name = "gg_venom" || enemynear(var(31)),name = "sol" || enemynear(var(31)),name = "dizzy" || enemynear(var(31)),name = "I-NO"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) <= 5
fvar(6) = 0.4
ignorehitpause = 1

;根性値2 ---> きすけ , 髭
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "ky" || enemynear(var(31)),name = "SLAYER"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) >= 41
fvar(6) = 1
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "ky" || enemynear(var(31)),name = "SLAYER"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [31,40]
fvar(6) = 0.98
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "ky" || enemynear(var(31)),name = "SLAYER"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [21,30]
fvar(6) = 0.89
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "ky" || enemynear(var(31)),name = "SLAYER"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [16,20]
fvar(6) = 0.72
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "ky" || enemynear(var(31)),name = "SLAYER"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [11,15]
fvar(6) = 0.58
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "ky" || enemynear(var(31)),name = "SLAYER"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [6,10]
fvar(6) = 0.48
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "ky" || enemynear(var(31)),name = "SLAYER"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) <= 5
fvar(6) = 0.4
ignorehitpause = 1

;根性値3 ---> 髪 , 中華 , めぇぇええいちゃぁぁあああん(トトロのばあちゃん風に)
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "millia" || enemynear(var(31)),name = "jam" || enemynear(var(31)),name = "may"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) >= 56
fvar(6) = 1
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "millia" || enemynear(var(31)),name = "jam" || enemynear(var(31)),name = "may"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [41,55]
fvar(6) = 0.98
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "millia" || enemynear(var(31)),name = "jam" || enemynear(var(31)),name = "may"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [31,40]
fvar(6) = 0.91
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "millia" || enemynear(var(31)),name = "jam" || enemynear(var(31)),name = "may"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [21,30]
fvar(6) = 0.82
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "millia" || enemynear(var(31)),name = "jam" || enemynear(var(31)),name = "may"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [16,20]
fvar(6) = 0.66
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "millia" || enemynear(var(31)),name = "jam" || enemynear(var(31)),name = "may"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [11,15]
fvar(6) = 0.54
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "millia" || enemynear(var(31)),name = "jam" || enemynear(var(31)),name = "may"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [6,10]
fvar(6) = 0.44
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "millia" || enemynear(var(31)),name = "jam" || enemynear(var(31)),name = "may"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) <= 5
fvar(6) = 0.38
ignorehitpause = 1

;根性値4 ---> ポチョ , ｼｯｼｮｰ , 畳 , 若本
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "potemkin" || enemynear(var(31)),name = "chipp" || enemynear(var(31)),name = "baiken" || enemynear(var(31)),name = "johnny"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) >= 56
fvar(6) = 1
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "potemkin" || enemynear(var(31)),name = "chipp" || enemynear(var(31)),name = "baiken" || enemynear(var(31)),name = "johnny"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [41,55]
fvar(6) = 0.96
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "potemkin" || enemynear(var(31)),name = "chipp" || enemynear(var(31)),name = "baiken" || enemynear(var(31)),name = "johnny"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [31,40]
fvar(6) = 0.88
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "potemkin" || enemynear(var(31)),name = "chipp" || enemynear(var(31)),name = "baiken" || enemynear(var(31)),name = "johnny"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [21,30]
fvar(6) = 0.78
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "potemkin" || enemynear(var(31)),name = "chipp" || enemynear(var(31)),name = "baiken" || enemynear(var(31)),name = "johnny"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [16,20]
fvar(6) = 0.64
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "potemkin" || enemynear(var(31)),name = "chipp" || enemynear(var(31)),name = "baiken" || enemynear(var(31)),name = "johnny"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [11,15]
fvar(6) = 0.50
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "potemkin" || enemynear(var(31)),name = "chipp" || enemynear(var(31)),name = "baiken" || enemynear(var(31)),name = "johnny"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [6,10]
fvar(6) = 0.42
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "potemkin" || enemynear(var(31)),name = "chipp" || enemynear(var(31)),name = "baiken" || enemynear(var(31)),name = "johnny"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) <= 5
fvar(6) = 0.38
ignorehitpause = 1

;根性値5 ---> まさよし
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "justice"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) >= 56
fvar(6) = 1
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "justice"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [41,55]
fvar(6) = 0.94
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "justice"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [31,40]
fvar(6) = 0.85
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "justice"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [21,30]
fvar(6) = 0.75
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "justice"
trigger1 =ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [16,20]
fvar(6) = 0.60
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "justice"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [11,15]
fvar(6) = 0.48
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "justice"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) = [6,10]
fvar(6) = 0.40
ignorehitpause = 1
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear(var(31)),authorname = "muteki"
triggerall = enemynear(var(31)),name = "justice"
trigger1 = ceil(100*enemynear(var(31)),life/enemynear(var(31)),const(data.life)) <= 5
fvar(6) = 0.36
ignorehitpause = 1

[state -2]
type = varset
trigger1 = !ishelper
trigger1 = !(enemynear(var(31)),authorname = "muteki")
fvar(6) = 0
ignorehitpause = 1

;------------------------------------------------------------------------------
;とま氏ぱっちゃんとまりさ
;Nachel氏れみりゃとれーむ

[state -2]
type = varset
triggerall = !ishelper
trigger1 = enemynear,authorname = "Toma"
trigger1 = enemynear,name = "Marisa Kirisame"||enemynear,name = "Patchouli"
trigger2 = enemynear,authorname = "Nachel"
trigger2 = enemynear,name = "Reimu_Hakurei" || enemynear,name = "Remilia_Scarlet" 
fvar(6) = (0.75+(0.25*enemynear,Life/enemynear,LifeMax))/(1.00+(0.20*(enemynear,LifeMax - enemynear,Life)/enemynear,LifeMax))
ignorehitpause = 1





;----------------------------------------------------------------------------
;ゆ〜とはる氏ミク
[State -2,ノーマル時通常防御力]
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(25) != [1001,1900]
trigger1 = enemynear,var(25) != [3101,4000]
trigger1 = enemynear,var(25) != [4101,5000]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.8
ignorehitpause=1

[State -2,ノーマル時通常防御力];補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(25) != [1001,1900]
trigger1 = enemynear,var(25) != [3101,4000]
trigger1 = enemynear,var(25) != [4101,5000]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.76
ignorehitpause=1

[State -2,ノーマル時通常防御力];補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(25) != [1001,1900]
trigger1 = enemynear,var(25) != [3101,4000]
trigger1 = enemynear,var(25) != [4101,5000]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.64
ignorehitpause=1

[State -2,ノーマル時通常防御力];補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(25) != [1001,1900]
trigger1 = enemynear,var(25) != [3101,4000]
trigger1 = enemynear,var(25) != [4101,5000]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.6
ignorehitpause=1

[State -2,ノーマル時通常防御力];補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(25) != [1001,1900]
trigger1 = enemynear,var(25) != [3101,4000]
trigger1 = enemynear,var(25) != [4101,5000]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.56
ignorehitpause=1

[State -2,ノーマル時通常防御力];補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(25) != [1001,1900]
trigger1 = enemynear,var(25) != [3101,4000]
trigger1 = enemynear,var(25) != [4101,5000]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.52
ignorehitpause=1

[State -2,ノーマル時通常防御力];補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(25) != [1001,1900]
trigger1 = enemynear,var(25) != [3101,4000]
trigger1 = enemynear,var(25) != [4101,5000]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.48
ignorehitpause=1

[State -2,宮子防御力ダウン]
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) != 1
fvar(6) = 1.04
ignorehitpause=1

[State -2,宮子防御力ダウン];補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.988
ignorehitpause=1

[State -2,宮子防御力ダウン];補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.832
ignorehitpause=1

[State -2,宮子防御力ダウン];補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.78
ignorehitpause=1

[State -2,宮子防御力ダウン];補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.728
ignorehitpause=1

[State -2,宮子防御力ダウン];補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.676
ignorehitpause=1

[State -2,宮子防御力ダウン];補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.624
ignorehitpause=1

[State -2,宮子防御力UP]
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.56
ignorehitpause=1

[State -2,宮子防御力UP];補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.532
ignorehitpause=1

[State -2,宮子防御力UP];補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.448
ignorehitpause=1

[State -2,宮子防御力UP];補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.42
ignorehitpause=1

[State -2,宮子防御力UP];補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.392
ignorehitpause=1

[State -2,宮子防御力UP];補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.364
ignorehitpause=1

[State -2,宮子防御力UP];補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) != 1
fvar(6) = 0.336
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP]
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) != 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.4
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) != 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.38
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) != 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.32
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) != 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.3
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) != 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.28
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) != 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.26
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) != 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.24
ignorehitpause=1

[State -2,全開時防御力UP]
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.64
ignorehitpause=1

[State -2,全開時防御力UP];補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.608
ignorehitpause=1

[State -2,全開時防御力UP];補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.512
ignorehitpause=1

[State -2,全開時防御力UP];補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.48
ignorehitpause=1

[State -2,全開時防御力UP];補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.448
ignorehitpause=1

[State -2,全開時防御力UP];補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.416
ignorehitpause=1

[State -2,全開時防御力UP];補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) != [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.384
ignorehitpause=1

[State -2,宮子防御力ダウン];全開時
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.832
ignorehitpause=1

[State -2,宮子防御力ダウン];全開時補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.7904
ignorehitpause=1

[State -2,宮子防御力ダウン];全開時補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.6656
ignorehitpause=1

[State -2,宮子防御力ダウン];全開時補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.624
ignorehitpause=1

[State -2,宮子防御力ダウン];全開時補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.5824
ignorehitpause=1

[State -2,宮子防御力ダウン];全開時補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.5408
ignorehitpause=1

[State -2,宮子防御力ダウン];全開時補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [-900,-1]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.4992
ignorehitpause=1

[State -2,宮子防御力UP];全開時
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.448
ignorehitpause=1

[State -2,宮子防御力UP];全開時補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.4256
ignorehitpause=1

[State -2,宮子防御力UP];全開時補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.3584
ignorehitpause=1

[State -2,宮子防御力UP];全開時補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.336
ignorehitpause=1

[State -2,宮子防御力UP];全開時補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.3136
ignorehitpause=1

[State -2,宮子防御力UP];全開時補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.2912
ignorehitpause=1

[State -2,宮子防御力UP];全開時補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno != 12
trigger1 = enemynear,var(25) = [1001,1900]
trigger1 = enemynear,var(51) = 1
fvar(6) = 0.2688
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];全開時
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) = 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.32
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];全開時補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) = 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.304
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];全開時補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) = 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.256
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];全開時補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) = 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.24
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];全開時補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) = 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.224
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];全開時補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) = 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.208
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];全開時補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno != 12
triggerall = enemynear,var(51) = 1
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.192
ignorehitpause=1

[State -2,全開時防御力UP];ゴールド
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) != [-900,-1]
fvar(6) = 0.4
ignorehitpause=1

[State -2,全開時防御力UP];ゴールド補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) != [-900,-1]
fvar(6) = 0.38
ignorehitpause=1

[State -2,全開時防御力UP];ゴールド補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) != [-900,-1]
fvar(6) = 0.32
ignorehitpause=1

[State -2,全開時防御力UP];ゴールド補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) != [-900,-1]
fvar(6) = 0.3
ignorehitpause=1

[State -2,全開時防御力UP];ゴールド補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) != [-900,-1]
fvar(6) = 0.28
ignorehitpause=1

[State -2,全開時防御力UP];ゴールド補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) != [-900,-1]
fvar(6) = 0.26
ignorehitpause=1

[State -2,全開時防御力UP];ゴールド補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) != [-900,-1]
fvar(6) = 0.24
ignorehitpause=1

[State -2,宮子防御力ダウン];ゴールド
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [-900,-1]
fvar(6) = 0.52
ignorehitpause=1

[State -2,宮子防御力ダウン];ゴールド補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [-900,-1]
fvar(6) = 0.494
ignorehitpause=1

[State -2,宮子防御力ダウン];ゴールド補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [-900,-1]
fvar(6) = 0.416
ignorehitpause=1

[State -2,宮子防御力ダウン];ゴールド補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [-900,-1]
fvar(6) = 0.39
ignorehitpause=1

[State -2,宮子防御力ダウン];ゴールド補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [-900,-1]
fvar(6) = 0.364
ignorehitpause=1

[State -2,宮子防御力ダウン];ゴールド補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [-900,-1]
fvar(6) = 0.338
ignorehitpause=1

[State -2,宮子防御力ダウン];ゴールド補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [-900,-1]
fvar(6) = 0.312
ignorehitpause=1

[State -2,宮子防御力UP];ゴールド
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [1001,1900]
fvar(6) = 0.28
ignorehitpause=1

[State -2,宮子防御力UP];ゴールド補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [1001,1900]
fvar(6) = 0.266
ignorehitpause=1

[State -2,宮子防御力UP];ゴールド補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [1001,1900]
fvar(6) = 0.224
ignorehitpause=1

[State -2,宮子防御力UP];ゴールド補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [1001,1900]
fvar(6) = 0.21
ignorehitpause=1

[State -2,宮子防御力UP];ゴールド補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [1001,1900]
fvar(6) = 0.196
ignorehitpause=1

[State -2,宮子防御力UP];ゴールド補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [1001,1900]
fvar(6) = 0.182
ignorehitpause=1

[State -2,宮子防御力UP];ゴールド補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [1001,1900]
fvar(6) = 0.168
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];ゴールド
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.2
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];ゴールド補正95%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 1.5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.19
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];ゴールド補正80%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.16
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];ゴールド補正75%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 2.5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.15
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];ゴールド補正70%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 3
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.14
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];ゴールド補正65%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 5
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.13
ignorehitpause=1

[State -2,はてなようせい･ガードアップ防御力UP];ゴールド補正60%
type = varset
triggerall = enemynear,name = "HATSUNE MIKU"
triggerall = enemynear,authorname = "YU-TOHARU"
triggerall = enemynear,life <= enemynear,lifemax / 6
triggerall = enemynear,palno = 12
trigger1 = enemynear,var(25) = [3101,4000]
trigger2 = enemynear,var(25) = [4101,5000]
fvar(6) = 0.12
ignorehitpause=1
;---------------------------------------------------------------------------
;Ina氏アルカナキャラ
[state -2]
type = varset
triggerall = !ishelper
triggerall = enemynear,authorname = "ina"
trigger1 = enemynear,name = "Heart_Aino"
trigger2 = enemynear,name = "Saki_Tsuzura"
trigger3 = enemynear,name = "Kamui_Tokinomiya"
trigger4 = enemynear,name = "Lilica_Felchenerow"
trigger5 = enemynear,name = "Mildred_Avallon"
trigger6 = enemynear,name = "Petra_Johanna_Lagerkvist"
trigger7 = enemynear,name = "Zenia_Valov"
fvar(6) = ifelse((enemynear,fvar(15) > 1) , 1 ,enemynear,fvar(15))

[state -2]
type = varset
triggerall = !ishelper
trigger1 = !(enemynear,authorname = "muteki")
trigger1 = !(enemynear,authorname = "Toma")
trigger1 = !(enemynear,authorname = "Nachel")
trigger1 = !(enemynear,authorname = "YU-TOHARU") || !(enemynear,name = "HATSUNE MIKU")
trigger1 = !(enemynear,authorname = "ina")
trigger2 = roundstate != 2
fvar(6) = 0
ignorehitpause = 1



;__________________________________________
;
;リコイル制御(相手)
;__________________________________________
[state -2]
type=varset
triggerall = !ishelper
triggerall = palno != 12
triggerall = numenemy = 1
;586氏 名雪、佐祐理、美凪、みさき、茜
trigger1 = enemy,authorname="586"
trigger1 = p2name = "Nayuki Minase"||p2name="Sayuri Kurata"||p2name="Minagi Tohno"||p2name="Misaki Kawana"||p2name="Akane Satomura"
;佳乃、観鈴、神奈、あゆ、舞、UNK、
trigger2 = enemy,authorname="586"
trigger2 = p2name = "Kano Kirishima"||p2name="Misuzu Kamio"||p2name="Kanna"||p2name="Ayu Tukimiya"||p2name="Mai Kawasumi"||p2name="UNKNOWN"
;繭、美汐、（郁美、栞、香里、澪）
trigger3 = enemy,authorname="586"
trigger3 = p2name = "Mayu Shiina"||p2name="Mishio Amano"||p2name="Ikumi Amasawa"||p2name="Shiori Misaka"||p2name="Kaori Misaka"||p2name="Mio Kohduki"

;ふるれ氏 あやや イクさん 寝雪 香里
trigger4 = enemy,authorname = "frule"
trigger4 = p2name = "EFZaya"||p2name = "EFZiku" || p2name = "Neyuki"||p2name = "Kaori"
var(28) = 1
ignorehitpause=1



;七瀬用
[state 420]
type = targetstate
trigger1 = projhittime(1400) = 1
trigger1 = numtarget(1420)
trigger1 = target(1420),name = "Rumi Nanase"
trigger1 = target(1420),authorname = "UMA"
trigger1 = target(1420),var(20) != 0

trigger2 = projhittime(3115) = 1
trigger2 = numtarget(3220)
trigger2 = target(3220),name = "Rumi Nanase"
trigger2 = target(3220),authorname = "UMA"
trigger2 = target(3220),var(20) != 0
value = 425
ignoerhitpause = 1


;____________________
;
;補正、ダメージ表示
;____________________
[state -2]
type = varset
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
var(23) = enemynear,life
ignorehitpause = 1

[state -2]
type = varset
trigger1 = fvar(1) != fvar(9)
trigger2 = floor(fvar(1)*10000000)=10000000
fvar(8) = fvar(9)
ignorehitpause = 1

[state -2]
type = varset
trigger1 = fvar(1) != fvar(9)
trigger2 = !fvar(9)
fvar(9) = fvar(1)
ignorehitpause = 1


;コンボダメージ表示
[State -2,000];
type = Explod
triggerall = Numexplod(30011) = 0
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30011
id = 30011
postype = left
pos = 49 + 235*(teamside = 2), 90
facing = 1
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

[State -2,001]
type = RemoveExplod
triggerall = numexplod(30011)
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
id = 30011
ignorehitpause = 1

;--------------------------
;コンボダメージ表示リセット
;--------------------------
[State -2,002]
type = RemoveExplod
triggerall = numexplod(30000)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30000
ignorehitpause = 1
[State -2,003]
type = RemoveExplod
triggerall = numexplod(30001)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30001
ignorehitpause = 1
[State -2,004]
type = RemoveExplod
triggerall = numexplod(30002)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30002
ignorehitpause = 1
[State -2,005]
type = RemoveExplod
triggerall = numexplod(30003)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30003
ignorehitpause = 1
[State -2,006]
type = RemoveExplod
triggerall = numexplod(30004)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30004
ignorehitpause = 1
[State -2,007]
type = RemoveExplod
triggerall = numexplod(30005)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30005
ignorehitpause = 1

;---------------------
;コンボダメージ表示
;---------------------
;コンボダメージ
[State -2,008];零桁目
type = Explod
triggerall = Numexplod(30005) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + ifelse((var(23) -enemynear,life >= 1),random%10,0)
id = 30005
postype = left
pos = 40 + 235*(teamside = 2), 90
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

[State -2,009];一桁目
type = Explod
triggerall = Numexplod(30000) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
triggerall = var(23) -enemynear,life >= 1
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + (var(23) - enemynear,life)%10
id = 30000
postype = left
pos = 33 + 235*(teamside = 2), 90
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

;コンボダメージ
[State -2,010];ニ桁目
type = Explod
triggerall = Numexplod(30001) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
triggerall = var(23) -enemynear,life >= 10
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + floor(0.1*((var(23) - enemynear,life)%100))
id = 30001
postype = left
pos = 26 + 235*(teamside = 2), 90
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

;コンボダメージ
[State -2,011];三桁目
type = Explod
triggerall = Numexplod(30002) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
triggerall = var(23) -enemynear,life >= 100
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + floor(0.01*((var(23) - enemynear,life)%1000))
id = 30002
postype = left
pos = 19 + 235*(teamside = 2), 90
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

;コンボダメージ
[State -2,012];四桁目
type = Explod
triggerall = Numexplod(30003) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
triggerall = var(23) -enemynear,life >= 1000
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + floor(0.001*((var(23) - enemynear,life)%10000))
id = 30003
postype = left
pos = 12 + 235*(teamside = 2), 90
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

;コンボダメージ
[State -2,013];五桁目
type = Explod
triggerall = Numexplod(30004) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
triggerall = var(23) -enemynear,life >= 10000
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + floor(0.0001*((var(23) - enemynear,life)%100000))
id = 30004
postype = left
pos = 5 + 235*(teamside = 2), 90
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1



;-------------------
;コンボ補正表示
;------------------
;コンボ補正
[State -2,014];
type = Explod
triggerall = Numexplod(30012) = 0
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30012
id = 30012
postype = left
pos = 49 + 235*(teamside = 2), 100
facing = 1
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

[State -2,015]
type = RemoveExplod
triggerall = numexplod(30012)
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
id = 30012
ignorehitpause = 1

;コンボ補正表示、ピリオド
[State -2,016];
type = Explod
triggerall = Numexplod(30010) = 0
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30010
id = 30010
postype = left
pos = 37 + 235*(teamside = 2), 100
facing = 1
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

[State -2,017]
type = RemoveExplod
triggerall = numexplod(30010)
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
id = 30010
ignorehitpause = 1

;--------------------------
;コンボダメージ表示リセット
;--------------------------
[State -2,018]
type = RemoveExplod
triggerall = numexplod(30020)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30020
ignorehitpause = 1
[State -2,019]
type = RemoveExplod
triggerall = numexplod(30021)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30021
ignorehitpause = 1
[State -2,020]
type = RemoveExplod
triggerall = numexplod(30022)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30022
ignorehitpause = 1
[State -2,021]
type = RemoveExplod
triggerall = numexplod(30023)
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,155]
trigger3 = enemynear,gethitvar(hitcount) > var(19)
trigger3 = stateno != 4631 && stateno != 3025 && stateno != 3045
trigger4 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger4 = hitcount > var(19)
id = 30023
ignorehitpause = 1

;---------------------
;コンボダメージ表示
;---------------------
[State -2,022];一桁目
type = Explod
triggerall = Numexplod(30020) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + (floor(fvar(8)*1000))%10
id = 30020
postype = left
pos = 40 + 235*(teamside = 2), 100
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

;コンボダメージ
[State -2,023];ニ桁目
type = Explod
triggerall = Numexplod(30021) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
triggerall = fvar(8) >= 0.01
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + floor(0.1*((floor(fvar(8)*1000))%100))
id = 30021
postype = left
pos = 30 + 235*(teamside = 2), 100
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

;コンボダメージ
[State -2,024];三桁目
type = Explod
triggerall = Numexplod(30022) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
triggerall = fvar(8) >= 0.1
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + floor(0.01*((floor(fvar(8)*1000))%1000))
id = 30022
postype = left
pos = 23 + 235*(teamside = 2), 100
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

;コンボダメージ
[State -2,025];四桁目
type = Explod
triggerall = Numexplod(30023) = 0
triggerall = enemynear,time>= 1
triggerall = enemynear,movetype = H
triggerall = enemynear,stateno != [120,155]
triggerall = numpartner = 0
triggerall = numenemy = 1
triggerall = fvar(8) >= 1
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger2 = stateno = 4631 || stateno = 3025 || stateno = 3045
trigger2 = enemynear,gethitvar(hitcount) > 1 || hitcount >= 1
anim = 30000 + floor(0.001*((floor(fvar(8)*1000))%10000))
id = 30023
postype = left
pos = 16 + 235*(teamside = 2), 100
supermove = 1
bindtime = -1
removetime = -1
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = 3
ownpal = 1
ignorehitpause = 1

[state -2,026]
type = varset
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype = H && enemynear,stateno!=[120,155]
trigger1 = stateno != 4631 && stateno != 3025 && stateno != 3045
var(19) = enemynear,gethitvar(hitcount)
ignorehitpause = 1

[state -2,-27]
type = varset
triggerall = enemynear,time>= 1
trigger1 = enemynear,movetype = H && enemynear,stateno!=[120,155]
trigger1 = stateno = 4631 || stateno = 3025 || stateno = 3045
var(19) = hitcount
ignorehitpause = 1




;______________________________
;
;デバッグ表示
;______________________________

[State -2];投げ学習用デバッグ表示
type = null;DisplayToClipBoard
trigger1 = numhelper(20000)
text = " var(34)=%d,var(43)=%d,g-v=%d,h-v36=%d,h-v35=%d"
params =  var(34),var(43),var(43)=gametime,(helper(20000),var(36)),(helper(20000),var(35))
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999


[State -2];逆根性値設定用デバッグ
type = null;DisplayToClipBoard
trigger1 = 1
text = " nt = %d,fv2 = %f , fv6 = %f , e-life = %d"
params =  numtarget,fvar(2),fvar(6),ceil(fvar(33))
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999


[State -2];受け身狩り
type = null;DisplayToClipBoard
trigger1 = numhelper(20000)
trigger1 = hitpausetime = 0
text = " v47=%d ,v33=%d,h-v18=%d,fv1=%f ,e-py=%f"
params =  var(47),var(33),(helper(20000),var(18)),fvar(1),(enemynear(var(31)),pos y + var(56)*enemynear(var(31)),vel y + 0.5*var(56)*var(56)*fvar(38))*(enemynear(var(31)),canrecover=0)
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999


[State -2];受け身狩り
type = null;DisplayToClipBoard
trigger1 = hitpausetime = 0
text = " e-py=%f,fv10=%f,v56=%d,fr=%d"
params =  (enemynear(var(31)),pos y + var(56)*enemynear(var(31)),vel y + 0.5*var(56)*var(56)*fvar(38))*(enemynear(var(31)),canrecover=0),fvar(10),var(56),(enemynear(var(31)),gethitvar(fall.recovertime))
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999


[State -2]
type = null;DisplayToClipBoard
trigger1 = 1
text = " var(41)=%d,var(42)=%d,var(43)=%d,v42-gt=%d,gametime=%d"
params =  var(41),var(42),var(43),var(42)=gametime,gametime
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State -2]
type = null;DisplayToClipBoard
trigger1 = 1
text = " p2 pos y=%f,p2 vel y=%f,5fy=%d,ec=%d,v56=%d"
params =  (enemynear(var(31)),pos y),(enemynear(var(31)),vel y),(ceil(enemynear(var(31)),pos y + 6*enemynear(var(31)),vel y + 0.5*36*fvar(38) - (pos y + 6*vel y + 0.5*36*fvar(39)))),(enemynear(var(31)),canrecover),var(56)
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State -2]
type = null;DisplayToClipBoard
trigger1 = numhelper(20000)>0 && numhelper(20002)>0
text = " h20000var(0) = %d,1400=%d,1401=%d,1402=%d,1403=%d"
params =  (helper(20000),var(0)),numhelper(1400),numhelper(1401),numhelper(1402),numhelper(1403)
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999


エフェクト消去
[State -2]
type = removeexplod
triggerall = StateType = L
trigger1 = 1
ID = 1652
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State -2]
type = removeexplod
triggerall = StateType = L
trigger1 = 1
ID = 1011
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1


[State -2]
type = removeexplod
triggerall = StateType = L
trigger1 = 1
ID = 1013
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State -2]
type = removeexplod
triggerall = StateType = L
trigger1 = 1
ID = 1272
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

